{
    "numMessagesInTopic": 2, 
    "nextInTime": 14026, 
    "senderId": "EsTItDx-jdsPGzkAh4D55YSo7ZxxbQVhS9WFJakoxwVqyQUJ7q3xi0cDCTP1SHZpt3eNt4JUGBKF1e-kqH6cRJ1NjhskKAIaEHTka4zRlA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing EJB...", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... To test an EJB, you can instantiate the bean class directly and use it like a normal Java class. To do this, you usually have to work around any JNDI", 
    "msgId": 14025, 
    "profile": "nails762", 
    "topicId": 14015, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-929241236\">dans_19 wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I have an EJB that is creating some DAO objects through a factory<br/>\n&gt; class. I want to test my EJB through Junit. But the DAO classes have<br/>\n&gt; not been fully implemented yet. I want to test the EJB in a way that<br/>\n&gt; the tests be independent of DAO classes implementation. The DAO<br/>\n&gt; classes are returning DTO&#39;s to the EJB. Can this be done in any way.<br/>\n<br/>\n </span></blockquote>To test an EJB, you can instantiate the bean class directly and use it <br/>\nlike a normal Java class. To do this, you usually have to &quot;work around&quot; <br/>\nany JNDI lookups the EJB makes and you often have to simulate the <br/>\nEJBContext somehow. Details in _JUnit Recipes_, Chapter 11.<br/>\n<br/>\nIt looks like you want to invoke your EJB, passing it something that <br/>\n&quot;looks like&quot; a DAO class, without it being the real thing. Extract an <br/>\ninterface from the DAO class and add a way to inject a DAO interface <br/>\ninto your EJB. It can be as simple as adding a method like this:<br/>\n<br/>\npublic void setDao(IMyDao myDao) {<br/>\n     this.myDao = myDao;<br/>\n}<br/>\n<br/>\nand invoking it only from the tests. When your EJB needs to use its <br/>\nmyDao field, it lazily instantiates a DAO class as long as you haven&#39;t <br/>\nalready given it a DAO interface object.<br/>\n<br/>\nThose should be all the pieces you need.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing</div>", 
    "prevInTime": 14024, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1119560353", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 14015, 
    "headers": {
        "inReplyToHeader": "PGQ5ZHExbys2ZmM0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQyQkIyMkExLjUwNTAyMDNAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGQ5ZHExbys2ZmM0QGVHcm91cHMuY29tPg=="
    }
}