{
    "numMessagesInTopic": 22, 
    "nextInTime": 21434, 
    "senderId": "vDNUTwwWaarfzWHTB9vmnAys-vjjaChWqi7txeQj-V6x4CsbUd5kTMZc0aLikiMauDeQC9V_iBUUajT3UHLdK8-X1J8aP6Uwyu86aR-CfyzHDGUHVeoxU5-Z", 
    "systemMessage": false, 
    "subject": "Re: Runner for non static inner class in JUnit 4.x", 
    "from": "&quot;tuomaskarkkainenri&quot; &lt;tuomaskarkkainenri@...&gt;", 
    "authorName": "tuomaskarkkainenri", 
    "msgSnippet": "Kent, I appreciate your reply. We currently have a copy of AnnotatedBuilder in JDave, and are relying on classpath ordering to load our copy before JUnit s", 
    "msgId": 21433, 
    "rawEmail": "Return-Path: &lt;tuomaskarkkainenri@...&gt;\r\nX-Sender: tuomaskarkkainenri@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 81988 invoked from network); 16 Mar 2009 16:32:02 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m2.grp.sp2.yahoo.com with QMQP; 16 Mar 2009 16:32:02 -0000\r\nX-Received: from unknown (HELO n35b.bullet.mail.sp1.yahoo.com) (66.163.168.149)\n  by mta3.grp.re1.yahoo.com with SMTP; 16 Mar 2009 16:32:02 -0000\r\nX-Received: from [69.147.65.151] by n35.bullet.mail.sp1.yahoo.com with NNFMP; 16 Mar 2009 16:32:01 -0000\r\nX-Received: from [98.137.34.34] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 16 Mar 2009 16:32:01 -0000\r\nDate: Mon, 16 Mar 2009 16:31:59 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gplutv+5uie@...&gt;\r\nIn-Reply-To: &lt;EF75210A87C44C85BB19D42A3E4EDCCA@kentspavilion&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;tuomaskarkkainenri&quot; &lt;tuomaskarkkainenri@...&gt;\r\nSubject: Re: Runner for non static inner class in JUnit 4.x\r\nX-Yahoo-Group-Post: member; u=373866241; y=QFva1Q7fBdoUeCD-LD3Xo3F5Ab9DJh8o3kre6-yKnUkq4Aw9xTc5N4V7z1BF\r\nX-Yahoo-Profile: tuomaskarkkainenri\r\n\r\nKent,\n\nI appreciate your reply.\n\nWe currently have a copy of AnnotatedBuild=\r\ner in JDave, and are relying on classpath ordering to load our copy before =\r\nJUnit&#39;s copy.\n\nhttp://svn.laughingpanda.org/svn/jdave/trunk/jdave-junit4/sr=\r\nc/java/org/junit/internal/builders/AnnotatedBuilder.java\n\nI will take a loo=\r\nk at the GitHub way of managing a branch of JUnit to see if it would be a c=\r\nleaner way of maintaining our own copy of the class.\n\nBest regards,\nTuomas\n=\r\n\n--- In junit@yahoogroups.com, &quot;kentb&quot; &lt;kentb@...&gt; wrote:\n&gt;\n&gt; Tuomas,\n&gt;  \n&gt;=\r\n I apologize for the long delay in replying. I was just avoiding conflict,\n=\r\n&gt; which isn&#39;t fair to you.\n&gt;  \n&gt; I still see the API you suggest as too &quot;ma=\r\ngical&quot; for JUnit. That is, it\n&gt; isn&#39;t apparent to the eye what is going on =\r\nwithout an explanation. There is\n&gt; already too much implicit behavior in JU=\r\nnit and I&#39;m loathe to add more. The\n&gt; way I think of it is there is a fixed=\r\n number of words I can use to describe\n&gt; JUnit to users. If I want to add a=\r\n feature that doesn&#39;t require explanation,\n&gt; no problem. If a feature needs=\r\n an explanation, then I need to figure out\n&gt; what to remove first.\n&gt;  \n&gt; Th=\r\nat said, we&#39;re in a new era after the move to GitHub. You are welcome to\n&gt; =\r\ncreate your own branch and maintain your builder there. If it turns out lot=\r\ns\n&gt; of folks use it or there is a simple way to express its behavior, we&#39;ll=\r\n be\n&gt; glad to incorporate it into our branch.\n&gt;  \n&gt; Regards,\n&gt;  \n&gt; Kent Bec=\r\nk\n&gt; Three Rivers Institute\n&gt; \n&gt;   _____  \n&gt; \n&gt; From: junit@yahoogroups.com =\r\n[mailto:junit@yahoogroups.com] On Behalf Of\n&gt; tuomaskarkkainenri\n&gt; Sent: Th=\r\nursday, February 12, 2009 10:36 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [=\r\njunit] Re: Runner for non static inner class in JUnit 4.x\n&gt; \n&gt; \n&gt; \n&gt; David,=\r\n\n&gt; \n&gt; I rewrote my patch into AnnotatedBuilder.\n&gt; I wrote it in such a way =\r\nthat it decreases the complexity of the\n&gt; original AnnotatedBuilder. The ne=\r\nt effect of adding JDave support is\n&gt; thus a reduction in complexity.\n&gt; \n&gt; =\r\nWhat do you think?\n&gt; \n&gt; Best regards,\n&gt; Tuomas\n&gt; \n&gt; AnnotatedBuilder.java:\n=\r\n&gt; \n&gt; package org.junit.internal.builders;\n&gt; \n&gt; import static java.util.Arra=\r\nys.asList;\n&gt; \n&gt; import java.lang.reflect.Constructor;\n&gt; import java.lang.re=\r\nflect.Modifier;\n&gt; import java.util.List;\n&gt; \n&gt; import org.junit.runner.RunWi=\r\nth;\n&gt; import org.junit.runner.Runner;\n&gt; import org.junit.runners.model.Init=\r\nializationError;\n&gt; import org.junit.runners.model.RunnerBuilder;\n&gt; \n&gt; publi=\r\nc class AnnotatedBuilder extends RunnerBuilder {\n&gt; private static final Str=\r\ning CONSTRUCTOR_ERROR_FORMAT=3D &quot;Custom runner\n&gt; class %1$s should have a p=\r\nublic constructor with signature %1$s(Class\n&gt; testClass) or %1$s(Class test=\r\nClass, RunnerBuilder builder)&quot;;\n&gt; \n&gt; private final RunnerBuilder fSuiteBuil=\r\nder;\n&gt; \n&gt; public AnnotatedBuilder(final RunnerBuilder suiteBuilder) {\n&gt; fSu=\r\niteBuilder=3D suiteBuilder;\n&gt; }\n&gt; \n&gt; @Override\n&gt; public Runner runnerForCla=\r\nss(final Class&lt;?&gt; testClass) throws Exception {\n&gt; final RunWith annotation=\r\n=3D getRunWithAnnotation(testClass);\n&gt; if (annotation !=3D null) {\n&gt; return=\r\n buildRunner(annotation.value(), testClass);\n&gt; }\n&gt; return null;\n&gt; }\n&gt; \n&gt; pr=\r\nivate RunWith getRunWithAnnotation(final Class&lt;?&gt; testClass) {\n&gt; if (testCl=\r\nass.isAnnotationPresent(RunWith.class)) {\n&gt; return testClass.getAnnotation(=\r\nRunWith.class);\n&gt; }\n&gt; if (testClassIsANonStaticInnerClass(testClass)) {\n&gt; r=\r\neturn testClass.getDeclaringClass().getAnnotation(RunWith.class);\n&gt; }\n&gt; ret=\r\nurn null;\n&gt; }\n&gt; \n&gt; private boolean testClassIsANonStaticInnerClass(final Cl=\r\nass&lt;?&gt;\n&gt; testClass) {\n&gt; return testClass.isMemberClass()\n&gt; && !Modifier.isS=\r\ntatic(testClass.getModifiers());\n&gt; }\n&gt; \n&gt; private &lt;T extends Runner&gt; T buil=\r\ndRunner(final Class&lt;T&gt; runnerClass,\n&gt; final Class&lt;?&gt; testClass) throws Exce=\r\nption {\n&gt; return new InternalBuilder&lt;T&gt;(runnerClass,\n&gt; fSuiteBuilder).build=\r\n(testClass);\n&gt; }\n&gt; \n&gt; private static class InternalBuilder&lt;T extends Runner=\r\n&gt; {\n&gt; private final RunnerBuilder suiteBuilder;\n&gt; \n&gt; private final Class&lt;T&gt;=\r\n runnerClass;\n&gt; \n&gt; public InternalBuilder(final Class&lt;T&gt; runnerClass,\n&gt; fin=\r\nal RunnerBuilder suiteBuilder) {\n&gt; this.runnerClass=3D runnerClass;\n&gt; this.=\r\nsuiteBuilder=3D suiteBuilder;\n&gt; \n&gt; }\n&gt; \n&gt; private T build(final Class&lt;?&gt; te=\r\nstClass) throws Exception {\n&gt; if (hasValidConstructor()) {\n&gt; return instant=\r\niateRunner(testClass);\n&gt; }\n&gt; throw new InitializationError(String.format(\n&gt;=\r\n CONSTRUCTOR_ERROR_FORMAT, runnerClass.getSimpleName()));\n&gt; }\n&gt; \n&gt; private =\r\nT instantiateRunner(final Class&lt;?&gt; testClass) throws Exception {\n&gt; if (hasS=\r\nimpleConstructor()) {\n&gt; return getSimpleConstructor().newInstance(testClass=\r\n);\n&gt; }\n&gt; return getConstructorWithSuite(runnerClass).newInstance(testClass,=\r\n\n&gt; suiteBuilder);\n&gt; }\n&gt; \n&gt; private boolean hasValidConstructor() {\n&gt; return=\r\n hasSimpleConstructor()\n&gt; || hasConstructorWithSuite();\n&gt; }\n&gt; \n&gt; private bo=\r\nolean hasSimpleConstructor() {\n&gt; return getSimpleConstructor() !=3D null;\n&gt;=\r\n }\n&gt; \n&gt; private boolean hasConstructorWithSuite() {\n&gt; return getConstructor=\r\nWithSuite(runnerClass) !=3D null;\n&gt; }\n&gt; \n&gt; private Constructor&lt;T&gt; getSimple=\r\nConstructor() {\n&gt; for (final Constructor&lt;T&gt; constructor : getConstructors()=\r\n) {\n&gt; final List&lt;Class&lt;?&gt;&gt; parameters=3D asList(constructor\n&gt; .getParameter=\r\nTypes());\n&gt; if (parameters.equals(asList(Class.class))) {\n&gt; return construc=\r\ntor;\n&gt; }\n&gt; }\n&gt; return null;\n&gt; }\n&gt; \n&gt; private Constructor&lt;T&gt; getConstructorW=\r\nithSuite(\n&gt; final Class&lt;T&gt; runnerClass) {\n&gt; for (final Constructor&lt;T&gt; const=\r\nructor : getConstructors()) {\n&gt; final List&lt;Class&lt;?&gt;&gt; parameters=3D asList(c=\r\nonstructor\n&gt; .getParameterTypes());\n&gt; if (parameters.equals(asList(Class.cl=\r\nass, RunnerBuilder.class))) {\n&gt; return constructor;\n&gt; }\n&gt; }\n&gt; return null;\n=\r\n&gt; }\n&gt; \n&gt; @SuppressWarnings(&quot;unchecked&quot;)\n&gt; private List&lt;Constructor&lt;T&gt;&gt; getC=\r\nonstructors() {\n&gt; return asList((Constructor&lt;T&gt;[]) runnerClass.getConstruct=\r\nors());\n&gt; }\n&gt; \n&gt; }\n&gt; }\n&gt; \n&gt; AnnotatedBuilderTest.java:\n&gt; \n&gt; package org.jun=\r\nit.tests.running.classes;\n&gt; \n&gt; import static org.hamcrest.core.Is.is;\n&gt; imp=\r\nort static org.junit.Assert.assertThat;\n&gt; import org.hamcrest.core.IsNull;\n=\r\n&gt; import org.junit.Test;\n&gt; import org.junit.internal.builders.AnnotatedBuil=\r\nder;\n&gt; import org.junit.runner.Description;\n&gt; import org.junit.runner.RunWi=\r\nth;\n&gt; import org.junit.runner.Runner;\n&gt; import org.junit.runner.notificatio=\r\nn.RunNotifier;\n&gt; import org.junit.runners.model.InitializationError;\n&gt; impo=\r\nrt org.junit.runners.model.RunnerBuilder;\n&gt; \n&gt; public class AnnotatedBuilde=\r\nrTest {\n&gt; @Test\n&gt; public void aClassWithARunWithAnnotationHasRunnerBuilt() =\r\nthrows\n&gt; Exception {\n&gt; final Runner runner=3D new AnnotatedBuilder(null)\n&gt; =\r\n.runnerForClass(ClassWithRunWithAnnotation.class);\n&gt; assertThat(runner, is(=\r\nFakeRunner.class));\n&gt; }\n&gt; \n&gt; @Test\n&gt; public void\n&gt; aClassWithARunWithAnnota=\r\ntionThatRequiresASuiteBuilderHasRunnerBuilt()\n&gt; throws Exception {\n&gt; final =\r\nRunner runner=3D new AnnotatedBuilder(null)\n&gt; \n&gt; .runnerForClass(ClassWithR=\r\nunWithAnnotationWhereTheRunnerRequiresASuiteBuilde\n&gt; r.class);\n&gt; assertThat=\r\n(runner, is(FakeRunnerThatRequiresSuiteBuilder.class));\n&gt; \n&gt; }\n&gt; \n&gt; @Test\n&gt;=\r\n public void aClassWithoutARunWithAnnotationReturnsNull() throws\n&gt; Exceptio=\r\nn {\n&gt; final Runner runner=3D new AnnotatedBuilder(null)\n&gt; .runnerForClass(C=\r\nlassWithoutRunWithAnnotation.class);\n&gt; assertThat(runner, is(IsNull.&lt;Runner=\r\n&gt; nullValue()));\n&gt; \n&gt; }\n&gt; \n&gt; @Test\n&gt; public void\n&gt; aNonStaticInnerClassWith=\r\nARunWithAnnotationOnTheDeclaringClassHasRunnerBuilt(\n&gt; )\n&gt; throws Exception=\r\n {\n&gt; final Runner runner=3D new AnnotatedBuilder(null)\n&gt; \n&gt; .runnerForClass=\r\n(DeclaringClassWithRunWithAnnotation.NonStaticInnerClass.clas\n&gt; s);\n&gt; asser=\r\ntThat(runner, is(FakeRunner.class));\n&gt; }\n&gt; \n&gt; @Test\n&gt; public void aStaticIn=\r\nnerClassWithARunWithAnnotationHasRunnerBuilt()\n&gt; throws Exception {\n&gt; final=\r\n Runner runner=3D new AnnotatedBuilder(null)\n&gt; \n&gt; .runnerForClass(Declaring=\r\nClassWithRunWithAnnotation.StaticInnerClassWithRunW\n&gt; ithAnnotation.class);=\r\n\n&gt; assertThat(runner, is(FakeRunner.class));\n&gt; }\n&gt; \n&gt; @Test\n&gt; public void\n&gt;=\r\n aStaticInnerClassWithARunWithAnnotationOnTheDeclaringClassReturnsNull()\n&gt; =\r\nthrows Exception {\n&gt; final Runner runner=3D new AnnotatedBuilder(null)\n&gt; \n&gt;=\r\n .runnerForClass(DeclaringClassWithRunWithAnnotation.StaticInnerClass.class=\r\n);\n&gt; assertThat(runner, is(IsNull.&lt;Runner&gt; nullValue()));\n&gt; }\n&gt; \n&gt; @Test(ex=\r\npected=3D InitializationError.class)\n&gt; public void\n&gt; aClassWithARunWithAnno=\r\ntationThatSpecifiesAnInvalidRunnerThrowsException()\n&gt; throws Exception {\n&gt; =\r\nfinal Runner runner=3D new AnnotatedBuilder(null)\n&gt; \n&gt; .runnerForClass(Clas=\r\nsWithRunWithAnnotationThatSpecifiesAndInvalidRunner.clas\n&gt; s);\n&gt; assertThat=\r\n(runner, is(IsNull.&lt;Runner&gt; nullValue()));\n&gt; }\n&gt; \n&gt; @RunWith(FakeRunner.cla=\r\nss)\n&gt; private static class ClassWithRunWithAnnotation {\n&gt; }\n&gt; \n&gt; @RunWith(I=\r\nnvalidRunner.class)\n&gt; private static class\n&gt; ClassWithRunWithAnnotationThat=\r\nSpecifiesAndInvalidRunner {\n&gt; }\n&gt; \n&gt; @RunWith(FakeRunnerThatRequiresSuiteBu=\r\nilder.class)\n&gt; private static class\n&gt; ClassWithRunWithAnnotationWhereTheRun=\r\nnerRequiresASuiteBuilder {\n&gt; }\n&gt; \n&gt; private static class ClassWithoutRunWit=\r\nhAnnotation {\n&gt; }\n&gt; \n&gt; @RunWith(FakeRunner.class)\n&gt; private static class De=\r\nclaringClassWithRunWithAnnotation {\n&gt; \n&gt; public class NonStaticInnerClass {=\r\n\n&gt; }\n&gt; \n&gt; public static class StaticInnerClass {\n&gt; }\n&gt; \n&gt; @RunWith(FakeRunn=\r\ner.class)\n&gt; public static class StaticInnerClassWithRunWithAnnotation {\n&gt; }=\r\n\n&gt; \n&gt; }\n&gt; \n&gt; public static class InvalidRunner extends Runner {\n&gt; @Override=\r\n\n&gt; public Description getDescription() {\n&gt; return Description.EMPTY;\n&gt; }\n&gt; =\r\n\n&gt; @Override\n&gt; public void run(final RunNotifier notifier) {\n&gt; }\n&gt; }\n&gt; \n&gt; p=\r\nublic static class FakeRunner extends Runner {\n&gt; public FakeRunner(final Cl=\r\nass&lt;?&gt; testClass) {\n&gt; }\n&gt; \n&gt; @Override\n&gt; public Description getDescription(=\r\n) {\n&gt; return Description.EMPTY;\n&gt; }\n&gt; \n&gt; @Override\n&gt; public void run(final =\r\nRunNotifier notifier) {\n&gt; }\n&gt; }\n&gt; \n&gt; public static class FakeRunnerThatRequ=\r\niresSuiteBuilder extends Runner {\n&gt; public FakeRunnerThatRequiresSuiteBuild=\r\ner(final Class&lt;?&gt; testClass,\n&gt; final RunnerBuilder suiteBilder) {\n&gt; }\n&gt; \n&gt; =\r\n@Override\n&gt; public Description getDescription() {\n&gt; return Description.EMPT=\r\nY;\n&gt; }\n&gt; \n&gt; @Override\n&gt; public void run(final RunNotifier notifier) {\n&gt; }\n&gt;=\r\n }\n&gt; }\n&gt; \n&gt; And RunWithTest.java, I fixed the error message to:\n&gt; \n&gt; @Test\n=\r\n&gt; public void characterizeErrorMessageFromBadRunner() {\n&gt; assertEquals(\n&gt; &quot;=\r\nCustom runner class BadRunner should have a public constructor\n&gt; with signa=\r\nture BadRunner(Class testClass) or BadRunner(Class\n&gt; testClass, RunnerBuild=\r\ner builder)&quot;,\n&gt; JUnitCore.runClasses(Empty.class).getFailures().get(0)\n&gt; .g=\r\netMessage());\n&gt; }\n&gt; \n&gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroup=\r\ns.com&gt; com, David Saff\n&gt; &lt;david@&gt; wrote:\n&gt; &gt;\n&gt; &gt; I&#39;m unexcited about bumpin=\r\ng up the JUnit complexity for a single\n&gt; feature.\n&gt; &gt; Again, I love JDave, =\r\nbut I&#39;d love a feature suggestion that used one\n&gt; stone\n&gt; &gt; to kill at leas=\r\nt two birds.\n&gt; &gt; \n&gt; &gt; David Saff\n&gt; &gt; \n&gt; &gt; On Tue, Feb 3, 2009 at 11:33 AM, =\r\ntuomaskarkkainenri &lt;\n&gt; &gt; tuomaskarkkainenri@&gt; wrote:\n&gt; &gt; \n&gt; &gt; &gt; Hi David, K=\r\nent,\n&gt; &gt; &gt;\n&gt; &gt; &gt; Did you guys decide on what to do with this issue?\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; Best regards,\n&gt; &gt; &gt; Tuomas\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In junit@yahoogroups. &lt;mail=\r\nto:junit%40yahoogroups.com&gt; com, &quot;Lasse\n&gt; Koskela&quot; &lt;lasse.koskela@&gt; wrote:\n=\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; David,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I&#39;m not sure if I misinterpreted the=\r\n below solution but from my\n&gt; &gt; &gt; &gt; perspective the perfect solution would =\r\nbe to make JUnit look for a\n&gt; &gt; &gt; &gt; runner from the declaring class of a no=\r\nn-static inner class. The\n&gt; &gt; &gt; &gt; rationale being that this would be the on=\r\nly change necessary - the\n&gt; &gt; &gt; &gt; feature would be immediately supported by=\r\n all IDEs and build tools.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Lasse\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --- In jun=\r\nit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, &quot;David\n&gt; Saff&quot; &lt;david=\r\n@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; All,\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; It would seem that t=\r\nhe perfect solution would be:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; 1) The ability to add to =\r\nthe default Runner builder\n&gt; &gt; &gt; &gt; &gt; 2) A command-line flag to configure #1=\r\n\n&gt; &gt; &gt; &gt; &gt; 3) An Eclipse setting to set #2\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; It sounds li=\r\nke everyone who is requesting this feature is a\n&gt; user of\n&gt; &gt; &gt; &gt; JDave,\n&gt; =\r\n&gt; &gt; &gt; &gt; and a quick Eclipse setting would give them everything they want.\n&gt;=\r\n &gt; &gt; &gt; It would\n&gt; &gt; &gt; &gt; &gt; also allow users of other JUnit-based frameworks =\r\nto do similar\n&gt; things.\n&gt; &gt; &gt; &gt; &gt; Thoughts?\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; David Saff\n=\r\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; On Wed, Jan 14, 2009 at 3:42 AM, Lasse Koskela\n&gt; &lt;lasse=\r\n.koskela@&gt;wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Hi David, Tuomas,\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; I&#39;m not exactly unbiased either, having submitted a couple of\n&gt; &gt; &gt; p=\r\natches\n&gt; &gt; &gt; &gt; &gt; &gt; for JDave back in the day and just having joined a proje=\r\nct\n&gt; that has\n&gt; &gt; &gt; &gt; &gt; &gt; 5000+ JDave tests.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; With t=\r\nhat said, I don&#39;t think the increase in complexity\n&gt; that we&#39;re\n&gt; &gt; &gt; &gt; &gt; &gt;=\r\n talking about here is all that big. If you don&#39;t specify a\n&gt; runner\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; (non-static inner class), one is inherited from one level up\n&gt; &gt; &gt; &gt; =\r\n&gt; &gt; (declaring class).\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Again, I might be biased but=\r\n I sure would like to be able to run\n&gt; &gt; &gt; just\n&gt; &gt; &gt; &gt; &gt; &gt; one of the test=\r\ns.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Lasse\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; --- In=\r\n junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com,\n&gt; &quot;David Saff&quot; &lt;d=\r\navid@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; Do you think the overall ease of use to people =\r\nwho need this\n&gt; &gt; &gt; feature\n&gt; &gt; &gt; &gt; &gt; &gt; will be\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; worth a 20% i=\r\nncrease in complexity for everyone who needs to\n&gt; &gt; &gt; &gt; &gt; &gt; understand the\n=\r\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; default running rules?\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; David Saff=\r\n\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; On Wed, Dec 31, 2008 at 3:08 AM, tuomaskarkkai=\r\nnenri &lt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; tuomaskarkkainenri@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;=\r\n &gt; &gt; hey David,\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; i uploaded the patch as a f=\r\nile,\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; http://f1.grp.\n&gt; &lt;http://f1.grp.yahoofs.com/v1/cBhb=\r\nSQYycXqWtmfu6mA5iis6I67Qo0Itb3lfEH-tMTD2Pq\n&gt; fQBWFNQwiqbje7jxu7yGSHFHijEoZP=\r\nnMvQpZtq0gohmbE9pzSYXRseJ5ewyt0/nonstaticinner\n&gt; classes.patch&gt;\n&gt; yahoofs.c=\r\nom/v1/cBhbSQYycXqWtmfu6mA5iis6I67Qo0Itb3lfEH-tMTD2PqfQBWFNQwiqbje7j\n&gt; xu7yG=\r\nSHFHijEoZPnMvQpZtq0gohmbE9pzSYXRseJ5ewyt0/nonstaticinnerclasses.patch\n&gt; &gt; &gt;=\r\n &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; or if that link is relative to my session it&#39;s\n&gt;=\r\n &gt; &gt; &gt; &gt; &gt; &gt; &gt; nonstaticinnerclasses.patch under files here in Yahoo\n&gt; Grou=\r\nps.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; in JUnit4 speak:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt; &gt; public class RegularJunit4 {\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; public class NonStat=\r\nicInnerClass {\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; public void testMethod=\r\n() {\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n=\r\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; running testMethod() is not possible since\n&gt; NonStaticInner=\r\nClass\n&gt; &gt; &gt; &gt; cannot\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; be instantiated from the outside.\n&gt; &gt; =\r\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; in JDave:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; @RunW=\r\nith(JDaveRunner.class)\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; public static class ASpec extends Sp=\r\necification&lt;Void&gt; {\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; public class AContext {\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;=\r\n public void aBehavior() {}\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; &gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; AContext is instantiated by SpecRunner which JDaveRunn=\r\ner\n&gt; &gt; &gt; &gt; delegates to.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; When I run this wi=\r\nth current JUnit,\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; AllDefaultPossibilitiesBuilder#runnerForC=\r\nlass(final Class&lt;?&gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; testClass) picks out the @RunWith annot=\r\nation and uses\n&gt; that to\n&gt; &gt; &gt; &gt; run my\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; spec(test class).\n&gt;=\r\n &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; However if I want to run just a single behav=\r\nior (test\n&gt; &gt; &gt; method) from\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; this spec for example from Ecl=\r\nipse. Eclipse tells JUnit to\n&gt; &gt; &gt; &gt; run class\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; ASpec.AConte=\r\nxt and method aBehavior JUnit then sees what\n&gt; &gt; &gt; &gt; builder it\n&gt; &gt; &gt; &gt; &gt; &gt;=\r\n &gt; &gt; should use for AContext, and doesn&#39;t find the annotation\n&gt; &gt; &gt; there a=\r\nnd\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; tries to use the regular JUnit4 builder and since it&#39;s a=\r\n\n&gt; JDave\n&gt; &gt; &gt; &gt; spec it\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; fails to run.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; &gt; &gt; &gt; &gt; &gt; What I want to do is: in case AllDefaultPossibilitiesBuilder\n&gt; =\r\n&gt; &gt; &gt; notices\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; that the TestClass is a non-static member cla=\r\nss, which\n&gt; it has no\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; chance of being able run anyway, it c=\r\nhecks whether the\n&gt; &gt; &gt; &gt; declaring class\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; of the testclass =\r\nwould be able to run it instead.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; In the cas=\r\ne of JDave, the declaring class would have the\n&gt; &gt; &gt; @RunWith\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;=\r\n &gt; annotation, and with the Filter created by FilterRequest,\n&gt; &gt; &gt; &gt; JDave =\r\ncan\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; then choose which Context and Spec it should actually\n&gt;=\r\n allow to\n&gt; &gt; &gt; &gt; run.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; br,\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\nTuomas\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; --- In junit@yahoogroups. &lt;mailto:ju=\r\nnit%40yahoogroups.com&gt;\n&gt; com, &quot;David Saff&quot; &lt;david@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; JDave is cool. I&#39;m not 100% clear what you want to\n&gt; do=\r\n, and\n&gt; &gt; &gt; &gt; I don&#39;t\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; see the\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; patch. Coul=\r\nd you perhaps include a small test case as\n&gt; &gt; &gt; &gt; inline text?\n&gt; &gt; &gt; &gt; &gt; &gt;=\r\n &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; David Saff\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; On =\r\nTue, Dec 30, 2008 at 10:27 AM, tuomaskarkkainenri &lt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; tuoma=\r\nskarkkainenri@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I participate =\r\nin JDave (http://jdave. &lt;http://jdave.org&gt;\n&gt; org). A BDD\n&gt; framework\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; for Java\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; that takes advantage of JUnit for exampl=\r\ne for Eclipse\n&gt; &gt; &gt; &gt; integration.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\nWe have tests in non-static inner classes of our test\n&gt; &gt; &gt; classes.\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; These\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; run wonderfully using the @RunWith annotati=\r\non and\n&gt; our own\n&gt; &gt; &gt; &gt; runner.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; ho=\r\nwever, for individual tests, this doesn&#39;t work. What I\n&gt; &gt; &gt; would\n&gt; &gt; &gt; &gt; =\r\n&gt; &gt; like\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; to do is that AllDefaultPossibilitiesBuilder w=\r\nould check\n&gt; &gt; &gt; &gt; &gt; &gt; whether or\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; not the test class is=\r\n a non static member class. if\n&gt; it is,\n&gt; &gt; &gt; &gt; then I\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\nwould grab the runner of the declaring class instead.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I made a patch implementing this. I will try to\n&gt; attach=\r\n it.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; [Non-text portions of this mess=\r\nage have been removed]\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; ------------------------------------\n&gt; &gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;=\r\n\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\n[Non-text portions of this message have been removed]\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; ----------------------------------=\r\n--\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; [Non-text portions of thi=\r\ns message have been removed]\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; ----=\r\n--------------------------------\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt;\n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-text portions of this message have been re=\r\nmoved]\n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; [Non-text portions of this message have been=\r\n removed]\n&gt;\n\n\n\n", 
    "profile": "tuomaskarkkainenri", 
    "topicId": 21238, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 373866241, 
    "prevInTime": 21432, 
    "contentTrasformed": false, 
    "postDate": "1237221119", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21429, 
    "headers": {
        "inReplyToHeader": "PEVGNzUyMTBBODdDNDRDODVCQjE5RDQyQTNFNEVEQ0NBQGtlbnRzcGF2aWxpb24+", 
        "messageIdInHeader": "PGdwbHV0dis1dWllQGVHcm91cHMuY29tPg=="
    }
}