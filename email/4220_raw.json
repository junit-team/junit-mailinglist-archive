{
    "numMessagesInTopic": 17, 
    "nextInTime": 4221, 
    "senderId": "NZN0S5YVH9M21I8aQcEz-xpBLVCJ0RCbVBZO-XlevcMWhi3olh4o0Ym3Vxp8pljZL8pBciic-P61PQQSuIWr4uUYVL5sSAOsu0upKaU", 
    "systemMessage": false, 
    "subject": "Re: [junit] Database Select query checks!! newbie", 
    "from": "Eric Heikkila &lt;ericheikkila@...&gt;", 
    "authorName": "Eric Heikkila", 
    "msgSnippet": "I d also be interested in taking a look at those scripts.  We ve been looking into MockObjects, but I d like a couple of alternatives. Thanks! -Eric ... ===", 
    "msgId": 4220, 
    "rawEmail": "Return-Path: &lt;ericheikkila@...&gt;\r\nX-Sender: ericheikkila@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: unknown); 27 Feb 2002 19:34:40 -0000\r\nReceived: (qmail 38055 invoked from network); 27 Feb 2002 19:34:40 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m8.grp.snv.yahoo.com with QMQP; 27 Feb 2002 19:34:40 -0000\r\nReceived: from unknown (HELO web14311.mail.yahoo.com) (216.136.224.61)\n  by mta1.grp.snv.yahoo.com with SMTP; 27 Feb 2002 19:34:40 -0000\r\nMessage-ID: &lt;20020227193440.97459.qmail@...&gt;\r\nReceived: from [66.73.183.57] by web14311.mail.yahoo.com via HTTP; Wed, 27 Feb 2002 11:34:40 PST\r\nDate: Wed, 27 Feb 2002 11:34:40 -0800 (PST)\r\nSubject: Re: [junit] Database Select query checks!! newbie\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;20020227161611.2987.qmail@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nFrom: Eric Heikkila &lt;ericheikkila@...&gt;\r\nX-Yahoo-Group-Post: member; u=68550261\r\nX-Yahoo-Profile: ericheikkila\r\n\r\nI&#39;d also be interested in taking a look at those\nscripts.  We&#39;ve been looking into MockObjects, but I&#39;d\nlike a couple of alternatives.\n\nThanks!\n\n-Eric\n\n--- Matt Raible &lt;matt_raible@...&gt; wrote:\n&gt; Please send, I&#39;d be interested in doing this with my\n&gt; mysql database.\n&gt; \n&gt; Thanks,\n&gt; \n&gt; Matt\n&gt; \n&gt; --- evought@... wrote:\n&gt; &gt; Sorry this reply is late in coming- I&#39;ve been\n&gt; swamped for the last few\n&gt; &gt; weeks.\n&gt; &gt; \n&gt; &gt; In our projects we use PostgreSQL for development\n&gt; and do have a\n&gt; &gt; test database per developer (or, actually, one per\n&gt; workstation, though it\n&gt; &gt; is easy enough to create more). The database is\n&gt; lightweight and rebuilds\n&gt; &gt; quickly. We have Ant tasks which drop, recreate,\n&gt; and reload the DB with an\n&gt; &gt; empty scheme before each test run. This is fully\n&gt; automated and only adds a\n&gt; &gt; few seconds to a run. If someone is interested, I\n&gt; can send some sample\n&gt; &gt; scripts.\n&gt; &gt; \n&gt; &gt; On Mon, 11 Feb 2002, Mathieu Gervais wrote:\n&gt; &gt; \n&gt; &gt; &gt; Hi,\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;There is a line of thought that all you need to\n&gt; do is make sure your SQL\n&gt; &gt; &gt; &gt;is valid. beyond that you&#39;re testing your\n&gt; database, not your method...\n&gt; &gt; &gt;\n&gt; &gt; &gt;  I never got that one. It&#39;s like saying SQL code\n&gt; doesn&#39;t need testing as\n&gt; &gt; &gt; mush as java code.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Programmer A:\n&gt; &gt; &gt; When I do unit testing, I just run my code in a\n&gt; couple of conditions and\n&gt; &gt; &gt; look if it&#39;s ok.\n&gt; &gt; &gt;\n&gt; &gt; &gt; XPer:\n&gt; &gt; &gt; You should really program those tests so they\n&gt; are repeatable, fast to run\n&gt; &gt; &gt; and don&#39;t need any human interaction to verify\n&gt; if they pass. Do automated\n&gt; &gt; &gt; unit testing! Use  JUnit!\n&gt; &gt; &gt;\n&gt; &gt; &gt; Why doesn&#39;t the same applies to SQL queries? In\n&gt; reality the programmer DOES\n&gt; &gt; &gt; test his SQL queries by trying them and looking\n&gt; at results. (&quot;make sure\n&gt; &gt; your\n&gt; &gt; &gt; SQL is valid&quot;) so why not automate it like the\n&gt; rest?\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;ve seen queries way more complex than some\n&gt; Java code. I&#39;m pretty sure\n&gt; &gt; &gt; everybody did. Don&#39;t you want that when somebody\n&gt; will need to modifiy the\n&gt; &gt; &gt; query (to add a filtering condition for example)\n&gt; they can press the button\n&gt; &gt; &gt; and run the tests to ensure the query is still\n&gt; ok?\n&gt; &gt; &gt;\n&gt; &gt; &gt; What I do is I connect to a special DB (with a\n&gt; replica of the schema of the\n&gt; &gt; &gt; real DB) populated with test data. I also\n&gt; dynamically add data (in setup)\n&gt; &gt; &gt; and delete it (in teardown) for some tests. Or\n&gt; check that my code really\n&gt; &gt; &gt; inserted a row, etc. Of course, if a query is\n&gt; like selectAll(), you might\n&gt; &gt; be\n&gt; &gt; &gt; influenced by other programmers using the same\n&gt; test DB at the same time, so\n&gt; &gt; &gt; you will want something like a test db per\n&gt; programmer. And then you start\n&gt; &gt; to\n&gt; &gt; &gt; find it hard to deal with this increasingly\n&gt; complex solution so you drop\n&gt; &gt; all\n&gt; &gt; &gt; of this and return to &quot;make sure your SQL is\n&gt; valid&quot; testing, no more\n&gt; &gt; &gt; automated tests for SQL.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I would really like to have a tool that helped\n&gt; me test my SQL code and\n&gt; &gt; setup\n&gt; &gt; &gt; testcases as easily as the JUnit testcase for\n&gt; Java. I can&#39;t use a sql only\n&gt; &gt; &gt; test tool: I don&#39;t want to test the SQL outside\n&gt; the java code and then have\n&gt; &gt; &gt; the java code use those statements. Why? Because\n&gt; often what I want to test\n&gt; &gt; &gt; is if the transaction is correctly rolledback in\n&gt; a special case, stuff like\n&gt; &gt; &gt; that that needs java code and SQL. But really 10\n&gt; lines of code and 3 lines\n&gt; &gt; &gt; of sql, so it is a &quot;unit&quot; difficult to break\n&gt; down further without loosing a\n&gt; &gt; &gt; lot of test cases. And what about testing\n&gt; failure of a DB connection at a\n&gt; &gt; &gt; critical point? Mock objects seem to be usefull\n&gt; for this. Really, there is\n&gt; &gt; a\n&gt; &gt; &gt; need for somebody to build a tool or\n&gt; documentatin explaining the best way\n&gt; &gt; to\n&gt; &gt; &gt; do all of this.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;ve already tought about solutions for\n&gt; DB-interacting code testing  (see\n&gt; &gt; &gt; posts in archive) but all my ideas are going\n&gt; into direction where the\n&gt; &gt; &gt; infrastructure needed is heavy and difficult to\n&gt; maintain. Any brillant tool\n&gt; &gt; &gt; or ideas out there for all of this?\n&gt; &gt; &gt;\n&gt; &gt; &gt; mathieu\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; PS: The original poster should also look at\n&gt; MockObjects to mock the results\n&gt; &gt; &gt; of the DB. They might help depending on what you\n&gt; want to do. But then you\n&gt; &gt; &gt; aren&#39;t testing the SQL since you are mocking the\n&gt; execution engine.\n&gt; &gt; &gt;\n&gt; &gt; &gt; ----- Original Message -----\n&gt; &gt; &gt; From: Nilesh Thali\n&gt; &gt; &gt; To: junit@yahoogroups.com\n&gt; &gt; &gt; Sent: Monday, February 11, 2002 5:01 PM\n&gt; &gt; &gt; Subject: Re: [junit] Database Select query\n&gt; checks!! newbie\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; (2) Your tests are simple: populate the\n&gt; database with data, write News\n&gt; &gt; &gt; beans\n&gt; &gt; &gt; &gt; that represent that data, assert that\n&gt; getAllNews() answers the same Set\n&gt; &gt; &gt; (or\n&gt; &gt; &gt; &gt; List, if you care about order within the\n&gt; collection) of News beans. Do\n&gt; &gt; &gt; this\n&gt; &gt; &gt; &gt; with as many different datasets as you need to\n&gt; be confident that your\n&gt; &gt; &gt; method\n&gt; &gt; &gt; &gt; works.\n&gt; &gt; &gt;\n&gt; &gt; &gt;     only problem with testing queries like this\n&gt; is that your test will be\n&gt; &gt; &gt; time and\n&gt; &gt; &gt;     database dependent, because data (in this\n&gt; case the number of news\n&gt; &gt; beans)\n&gt; &gt; &gt;     may change over time, and you will see the\n&gt; red bar even though your\n&gt; &gt; &gt; method\n&gt; &gt; &gt;     works fine.\n&gt; &gt; &gt;     There is a line of thought that all you need\n&gt; to do is make sure your\n&gt; &gt; SQL\n&gt; &gt; &gt;     is valid. beyond that you&#39;re testing your\n&gt; database, not your method...\n&gt; &gt; &gt;\n&gt; &gt; &gt; regards,\n&gt; &gt; &gt; Nilesh\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yahoo! Groups Sponsor\n&gt; &gt; &gt; ADVERTISEMENT\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; To unsubscribe from this group, send an email\n&gt; to:\n&gt; &gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Your use of Yahoo! Groups is subject to the\n&gt; Yahoo! Terms of Service.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; To unsubscribe from this group, send an email\n&gt; to:\n&gt; &gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Your use of Yahoo! Groups is subject to\n&gt; http://docs.yahoo.com/info/terms/\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; -- \n&gt; \n=== message truncated ===\n\n\n__________________________________________________\nDo You Yahoo!?\nYahoo! Greetings - Send FREE e-cards for every occasion!\nhttp://greetings.yahoo.com\n\n", 
    "profile": "ericheikkila", 
    "topicId": 4008, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 68550261, 
    "prevInTime": 4219, 
    "contentTrasformed": false, 
    "postDate": "1014838480", 
    "canDelete": false, 
    "nextInTopic": 4221, 
    "prevInTopic": 4216, 
    "headers": {
        "inReplyToHeader": "PDIwMDIwMjI3MTYxNjExLjI5ODcucW1haWxAd2ViMTQzMDcubWFpbC55YWhvby5jb20+", 
        "messageIdInHeader": "PDIwMDIwMjI3MTkzNDQwLjk3NDU5LnFtYWlsQHdlYjE0MzExLm1haWwueWFob28uY29tPg=="
    }
}