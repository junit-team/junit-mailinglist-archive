{
    "numMessagesInTopic": 20, 
    "nextInTime": 20737, 
    "senderId": "0spC58NfeRTOYOo6xLwKYm_gDP-bVfvzeLBqYRfIcmtKesUKTG3E3D8wwt8G46XMQeFl9TIbZeG_17idNCBNrZv-cqM", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Does JUnit 4 now support dependencies?", 
    "from": "&quot;David Saff&quot; &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Alex, First, assumptions can go in individual test methods, or in @BeforeClass on a test class (to short-circuit many methods), or in @BeforeClass on a suite", 
    "msgId": 20736, 
    "profile": "dsaff", 
    "topicId": 20690, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-754539356\">Alex,<br/>\n<br/>\nFirst, assumptions can go in individual test methods, or in<br/>\n@BeforeClass on a test class (to short-circuit many methods), or in<br/>\n@BeforeClass on a suite (to short-circuit the entire suite).  Second,<br/>\nI assume you&#39;d use abstraction to eliminate duplication, just like you<br/>\ndo anywhere else.  The advantage of having explicit method calls as<br/>\nassumptions is that you can use the abstraction mechanisms in Java to<br/>\ngroup assumptions, rather than having to invent a new mechanism that<br/>\nextracts sets of test description strings.<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Wed, Jul 30, 2008 at 4:54 PM, toalexsmail &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:toalexsmail@...\">toalexsmail@...</a>&gt; wrote:<br/>\n&gt; Hi, David!<br/>\n&gt; I just want to understand you point. Suppose I have 200 test method in<br/>\n&gt; 50 classes. In this class every test method should be somethiing like<br/>\n&gt; this:<br/>\n&gt;<br/>\n&gt; @Test<br/>\n&gt; public void launchMissiles() {<br/>\n&gt; assumeTrue(A1.canLogin());<br/>\n&gt; assumeTrue(A1.canSomethingElse());<br/>\n&gt; ...<br/>\n&gt; assumeTrue(A50.canSomethingCompletelyDifferent());<br/>\n&gt;<br/>\n&gt; launchMissiles();<br/>\n&gt; assertFalse(enemyBase().exists());<br/>\n&gt;<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;David Saff&quot; &lt;david@...&gt; wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt; Hans,<br/>\n&gt;&gt;<br/>\n&gt;&gt; There is a way of getting very close to what you want in JUnit 4.4 and<br/>\n&gt;&gt; beyond, with assumptions:<br/>\n&gt;&gt;<br/>\n&gt;&gt; private boolean canLogin() {<br/>\n&gt;&gt; // return true if login works<br/>\n&gt;&gt; }<br/>\n&gt;&gt;<br/>\n&gt;&gt; @Test public void login() {<br/>\n&gt;&gt; assertTrue(canLogin());<br/>\n&gt;&gt; }<br/>\n&gt;&gt;<br/>\n&gt;&gt; @Test public void launchMissiles() {<br/>\n&gt;&gt; assumeTrue(canLogin());<br/>\n&gt;&gt; launchMissiles();<br/>\n&gt;&gt; assertFalse(enemyBase().exists());<br/>\n&gt;&gt; }<br/>\n&gt;&gt;<br/>\n&gt;&gt; This is more general than test dependencies, because it allows tests<br/>\n&gt;&gt; to depend on conditions that are not really tested (for example, you<br/>\n&gt;&gt; might have tests that assume you&#39;re running on Windows). Will that<br/>\n&gt;&gt; work for you?<br/>\n&gt;&gt;<br/>\n&gt;&gt; David Saff<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Thu, Jul 17, 2008 at 11:58 AM, Hans Schwaebli<br/>\n&gt;&gt; &lt;hans_schwaebli@...&gt; wrote:<br/>\n&gt;&gt; &gt; Hi Kent,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; specifying dependencies is a little extra work, I agree. But it has<br/>\n&gt;&gt; &gt; advantages.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Consecutive tests which depend on failed tests, are not executed,<br/>\n&gt; which<br/>\n&gt;&gt; &gt; speeds up the tests. It also increases the information value.<br/>\n&gt; People are not<br/>\n&gt;&gt; &gt; confused with dozens or even hundreds of failed tests when just<br/>\n&gt; one or two<br/>\n&gt;&gt; &gt; tests really failed on which most other tests depend. I know of<br/>\n&gt; situations<br/>\n&gt;&gt; &gt; where there are dozenzs of failed tests (or more) reported by<br/>\n&gt; CruiseControl,<br/>\n&gt;&gt; &gt; and noone looks into them until one week before release date. This<br/>\n&gt; happens.<br/>\n&gt;&gt; &gt; It makes developers afraid to look into the apparent mess. If<br/>\n&gt; there would be<br/>\n&gt;&gt; &gt; just one or two failed tests, they would look into it more likely, and<br/>\n&gt;&gt; &gt; sooner.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; The heuristic strategy would not really solve the problem. since<br/>\n&gt; it is not<br/>\n&gt;&gt; &gt; equivalent to the dependency specification. It would still run all<br/>\n&gt; tests,<br/>\n&gt;&gt; &gt; but the likelyhood that the first run tests are the cause for all<br/>\n&gt; the errors<br/>\n&gt;&gt; &gt; would not be very high I think, whereas you could trust the<br/>\n&gt; dependencies<br/>\n&gt;&gt; &gt; very much if they are set correctly.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Dependencies are a frequent topic. We have it in OSGI, in issue<br/>\n&gt; tracking<br/>\n&gt;&gt; &gt; software, in project management software, in requirement<br/>\n&gt; specifications and<br/>\n&gt;&gt; &gt; in test specifications. Why not support it in JUnit tests too?<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Well, this is just some quick thoughts about it. This issue alone will<br/>\n&gt;&gt; &gt; certainly not draw people to other test frameworks, but it would<br/>\n&gt; improve<br/>\n&gt;&gt; &gt; JUnit I think. Noone would be forced to use that feature, but I<br/>\n&gt; think it<br/>\n&gt;&gt; &gt; would be good, if one could use it with JUnit, even in an coarse<br/>\n&gt; way (for<br/>\n&gt;&gt; &gt; example if the dependency &quot;testApplicationServerRuns&quot; passed).<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Bye,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Hans<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; --- On Thu, 7/17/08, Kent Beck &lt;kentb@...&gt; wrote:<br/>\n&gt;&gt; &gt; From: Kent Beck &lt;kentb@...&gt;<br/>\n&gt;&gt; &gt; Subject: RE: [junit] Does JUnit 4 now support dependencies?<br/>\n&gt;&gt; &gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt;&gt; &gt; Date: Thursday, July 17, 2008, 9:28 AM<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Hans,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; I agree that test dependencies are a good idea. In my experience,<br/>\n&gt; though,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; they aren&#39;t worth the investment to express them explicitly. I<br/>\n&gt; would rather<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; put the same time into improving the design of the software so the<br/>\n&gt; tests can<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; run fast.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; I wonder if it would be possible to infer dependencies from<br/>\n&gt; historical data,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; though. That and the &quot;most recently broken first&quot; heuristic might<br/>\n&gt; provide<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; nearly optimal &quot;time to first failure&quot;, which I assume is your goal in<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; wishing for dependencies.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Regards,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Kent Beck<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Three Rivers Institute<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; _____<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; From: junit@yahoogroups. com [mailto:junit@yahoogroups. com] On<br/>\n&gt; Behalf Of<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; hans_schwaebli<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Sent: Wednesday, July 16, 2008 5:58 AM<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; To: junit@yahoogroups. com<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Subject: [junit] Does JUnit 4 now support dependencies?<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; I now think that test dependencies are a good idea.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Does JUnit 4.x support such dependencies, or if not, is it planned for<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; a certain JUnit release to be added?<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; For example, if the login test did not work, than all other tests<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; cannot work. They depend on the login test. If login test fails, the<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; other tests are not executed.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20735, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1217599819", 
    "canDelete": false, 
    "nextInTopic": 20737, 
    "prevInTopic": 20735, 
    "headers": {
        "inReplyToHeader": "PGc2cWtlMCsyZWQwQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDgwODAxMDcxMGc2OTg2NGI3NGgzNDAzNTg0ZjM2NTRjN2ViQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDgwNzIzMTAzMnA1OGEwMmFlZWcxYWFiNTk1M2Q0NjhjYTVmQG1haWwuZ21haWwuY29tPgkgPGc2cWtlMCsyZWQwQGVHcm91cHMuY29tPg=="
    }
}