{
    "numMessagesInTopic": 6, 
    "nextInTime": 11583, 
    "senderId": "6fHVeNARy7Btw4SuKSUepjaLH0oxeXKgzWQDgYh0xWrFxlb2wKG_QtpsBJ-S-xYMqjJRlXs4_Ss6iUlx_MRJDIwf0rnp", 
    "systemMessage": false, 
    "subject": "RE: [junit] execute shell command in Junit to start server?", 
    "from": "Waani Toss &lt;want111@...&gt;", 
    "authorName": "Waani Toss", 
    "msgSnippet": "Thanks guys!!! So now I have created a dummy bat file(to test on windows) which outputs helloworld. I have written another class to take care of the log file", 
    "msgId": 11582, 
    "profile": "want111", 
    "topicId": 11447, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 191030087, 
    "messageBody": "<div id=\"ygrps-yiv-1818693406\">Thanks guys!!!<br/>\n<br/>\nSo now I have created a dummy bat file(to test on<br/>\nwindows) which outputs helloworld. I have written<br/>\nanother class to take care of the log file handling,<br/>\nfor testing. My question: is this the way to do test<br/>\nrunner, code in junit?<br/>\n<br/>\n//START SERVER<br/>\n<br/>\npackage junit.samples;<br/>\nimport junit.framework.*;<br/>\nimport java.util.*;<br/>\nimport java.io.*;<br/>\n<br/>\npublic class  StartServer extends TestCase {<br/>\n\tprivate Runtime rtime = null;<br/>\n<br/>\n    public StartServer(String name) {<br/>\n        super(name);<br/>\n\t}<br/>\n<br/>\n\tpublic StartServer(){<br/>\n\t}<br/>\n<br/>\n\tpublic int getByteCountBeforShellExecute() {<br/>\n\t\t// log file Name<br/>\n\t\tFileInputStream fis = new<br/>\nFileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);<br/>\n\t\tint beforeByteCount = fis.available();<br/>\n\t\treturn beforeByteCount;<br/>\n\t}<br/>\n<br/>\n\tpublic void testProgramStarted(){\t\t<br/>\n\t\ttry{<br/>\n\t\trtime = Runtime.getRuntime();<br/>\n<br/>\n\t\t//Process child = rtime.exec(&quot;/bin/&quot;);<br/>\n\t\tString[] cmds = new String[]<br/>\n{&quot;C:&#92;&#92;winnt&#92;&#92;system32&#92;&#92;cmd.exe&quot; ,&quot;/c&quot;,<br/>\n&quot;C:&#92;&#92;junit&#92;&#92;samples&#92;&#92;helloworld.bat&quot;};<br/>\n\t\tProcess child = rtime.exec(cmds);<br/>\n\t\tInputStream is = child.getInputStream();<br/>\n\t\tInputStreamReader isr = new InputStreamReader(is);<br/>\n\t\tBufferedReader br = new BufferedReader(isr);<br/>\n<br/>\n\t\tString s = &quot;&quot;;<br/>\n\t\twhile ((s = br.readLine()) != null) {<br/>\n\t\t\t\t\tSystem.out.println(s);<br/>\n\t\t}<br/>\n<br/>\n\t\tchild.waitFor();<br/>\n\t\tchild.exitValue();<br/>\n\t\t//outCommand.flush();<br/>\n<br/>\n<br/>\n<br/>\n\t\t}catch(Exception e){<br/>\n\t\t\tSystem.out.println(e);<br/>\n\t\t}<br/>\n<br/>\n\t\tpublic String GetFileDiff(int beforeCount) {<br/>\n\t\t\t// log file Name<br/>\n\t\t\tfis = new FileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);<br/>\n\t\t\tbyte[] ab = new byte[fis.available() -<br/>\nbeforeCount];<br/>\n\t\t\tfis.skip(beforeCount);<br/>\n\t\t\tfis.read(ab);<br/>\n\t\t\tfis.close();<br/>\n\t\t\tString diff = new String(ab, &quot;UTF8&quot;);<br/>\n\t\t\treturn diff;<br/>\n\t\t}<br/>\n<br/>\n<br/>\n\t}<br/>\n<br/>\n\tpublic static void main(String[] args) <br/>\n\t{<br/>\n\t\tStartServer s= new StartServer();<br/>\n\t\t// Get the byte count of the log file before the<br/>\nshell program was executed.<br/>\n\t\tint beforeCount = s.getByteCountBeforShellExecute();<br/>\n\t\t// Execute the shell script<br/>\n\t\ts.testProgramStarted();<br/>\n\t\t// Get the file difference<br/>\n\t\tstring diffStr = getFileDiff(beforeCount);<br/>\n\t\t// Print the difference<br/>\n\t\tSystem.out.println(diffStr);<br/>\n<br/>\n<br/>\n\t\tjunit.textui.TestRunner.main(<br/>\n        new String[] {&quot;junit.samples.StartServer&quot;});<br/>\n\t\t<br/>\n<br/>\n\t}<br/>\n}<br/>\n<br/>\n=====================================================================<br/>\n//FOR THE LOG<br/>\n<br/>\nimport java.io.*;<br/>\n<br/>\npublic class  Diff<br/>\n{<br/>\n\tpublic void Difference() throws Exception {<br/>\n\t\tFileInputStream fis = new<br/>\nFileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);<br/>\n\t\tint beforeByteCount = fis.available();<br/>\n<br/>\n\t\tfis.close();<br/>\n<br/>\n\t\t// this is not necessary for your code.<br/>\n\t\tFileOutputStream fos = new<br/>\nFileOutputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;, true);<br/>\n\t\tString s = new String(&quot;EveryOne&quot;);<br/>\n\t\tbyte[] wb = s.getBytes(&quot;UTF8&quot;);<br/>\n\t\tfos.write(wb);<br/>\n\t\tfos.close();<br/>\n\t\t<br/>\n\t\tfis = new FileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);<br/>\n\t\tbyte[] ab = new byte[fis.available() -<br/>\nbeforeByteCount];<br/>\n\t\tfis.skip(beforeByteCount);<br/>\n\t\tfis.read(ab);<br/>\n\t\tfis.close();<br/>\n\t\tString diff = new String(ab, &quot;UTF8&quot;);<br/>\n\t\tSystem.out.println(diff);<br/>\n\t}<br/>\n<br/>\n\tpublic static void main(String[] args) <br/>\n\t{<br/>\n\t\ttry<br/>\n\t\t{<br/>\n\t\t\tDiff d = new Diff();<br/>\n\t\t\td.Difference();\t\t\t<br/>\n\t\t}<br/>\n\t\tcatch (Exception e)<br/>\n\t\t{<br/>\n\t\t\tSystem.out.println(e.getMessage());<br/>\n\t\t}<br/>\n\t\t<br/>\n\t}<br/>\n}<br/>\n============================================================================================================<br/>\n--- Justin Knowlden &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:justin.knowlden@...\">justin.knowlden@...</a>&gt;<br/>\nwrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Do you want to know if a specific program is started<br/>\n&gt; or if you can start<br/>\n&gt; programs from Java?<br/>\n&gt; <br/>\n&gt;   _____  <br/>\n&gt; <br/>\n&gt; From: want111 [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:want111@...\">want111@...</a>] <br/>\n&gt; Sent: Tuesday, July 13, 2004 12:17 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: [junit] execute shell command in Junit to<br/>\n&gt; start server?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Thanks for the previous helpful reply. <br/>\n&gt; <br/>\n&gt; I have written this small piece of code that is<br/>\n&gt; suppose to execute a shell code named &quot;start&quot; from<br/>\n&gt; the<br/>\n&gt; bin which in turn starts the server. Is it the right<br/>\n&gt; way? I don&#39;t need suite(), setUp() or tearDown()?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; package junit.samples;<br/>\n&gt; import junit.framework.*;<br/>\n&gt; import java.util.*;<br/>\n&gt; <br/>\n&gt; class  ser extends TestCase {<br/>\n&gt; <br/>\n&gt;     public ser(String name) {<br/>\n&gt;         super(name)<br/>\n&gt;       }<br/>\n&gt;             <br/>\n&gt;       public void testProgramStarted(){<br/>\n&gt; <br/>\n&gt;             rtime = Runtime.getRuntime();<br/>\n&gt;             Process child = rtime.exec(&quot;/bin&quot;);<br/>\n&gt; <br/>\n&gt; <br/>\n&gt;             BufferedWriter outCommand = new<br/>\n&gt; BufferedWriter(new<br/>\n&gt; OutputStreamWriter(child.getOutputStream()));<br/>\n&gt;             outCommand.writeLine(&quot;start&quot;);<br/>\n&gt;             outCommand.flush();<br/>\n&gt;       }<br/>\n&gt; <br/>\n&gt; <br/>\n&gt;       public static void main(String[] args) <br/>\n&gt;       {<br/>\n&gt;             ser s= new ser();<br/>\n&gt;             s.stProgramStarted();<br/>\n&gt; <br/>\n&gt;       }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Yahoo! Groups Sponsor\t<br/>\n&gt; ADVERTISEMENT<br/>\n&gt; click here<br/>\n&gt;<br/>\n </span></blockquote>&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.ard.yahoo.com/SIG=129brdog6/M=295196.4901138.6071305.3001176/\">http://us.ard.yahoo.com/SIG=129brdog6/M=295196.4901138.6071305.3001176/</a><br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n </span></blockquote>D=groups/S=1705006905:HM/EXP=1089822687/A=2128215/R=0/SIG=10se96mf6/*htt<br/>\n<blockquote><span title=\"ireply\"> &gt; p://companion.yahoo.com&gt; \t<br/>\n&gt;  <br/>\n&gt;<br/>\n </span></blockquote>&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=group\">http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=group</a><br/>\n<blockquote><span title=\"ireply\"> &gt; s/S=:HM/A=2128215/rand=147754863&gt; \t<br/>\n&gt; <br/>\n&gt;   _____  <br/>\n&gt; <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; *\tTo visit your group on the web, go to:<br/>\n&gt; \t<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit/\">http://groups.yahoo.com/group/junit/</a><br/>\n&gt; \t  <br/>\n&gt; *\tTo unsubscribe from this group, send an email to:<br/>\n&gt; \t<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n </span></blockquote>&lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; \t  <br/>\n&gt; *\tYour use of Yahoo! Groups is subject to the Yahoo!<br/>\n&gt; Terms of<br/>\n&gt; Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt; . <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been<br/>\n&gt; removed]<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n\t\t<br/>\n </span></blockquote>__________________________________<br/>\nDo you Yahoo!?<br/>\nVote for the stars of Yahoo!&#39;s next ad campaign!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://advision.webevents.yahoo.com/yahoo/votelifeengine/\">http://advision.webevents.yahoo.com/yahoo/votelifeengine/</a></div>", 
    "prevInTime": 11581, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1090213958", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 11546, 
    "headers": {
        "inReplyToHeader": "PDk1MDMzOUZCQjA0QTkwNDZCOTFEN0MzMjVFMDBDMjJGMDZEMjQwRERAVUxTRVhDSC5jb3JwLnVhbGxveWFsdHkuY29tPg==", 
        "messageIdInHeader": "PDIwMDQwNzE5MDUxMjM4LjIyNzk4LnFtYWlsQHdlYjQxNzA5Lm1haWwueWFob28uY29tPg=="
    }
}