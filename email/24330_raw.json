{
    "numMessagesInTopic": 30, 
    "nextInTime": 24331, 
    "senderId": "qnWXUS85m45lnPt2wc5qdWjWoj6AClLd7HADYeFEnOOocv9mn9Q-wLwSA-qnD262crb4XnLv6c48WSi7Yqlq5vcwbA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Feedback requested: Impending changes to RunListener", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Hi, all. Kevin, thank you very much for the summary document.  I think that a JUnit-specific annotation, which is not name-confusable with a standard like", 
    "msgId": 24330, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 63714 invoked from network); 14 Feb 2013 16:39:01 -0000\r\nX-Received: from unknown (10.193.84.168)\n  by m3.grp.bf1.yahoo.com with QMQP; 14 Feb 2013 16:39:01 -0000\r\nX-Received: from unknown (HELO mail-ie0-f176.google.com) (209.85.223.176)\n  by mta6.grp.bf1.yahoo.com with SMTP; 14 Feb 2013 16:39:00 -0000\r\nX-Received: by mail-ie0-f176.google.com with SMTP id k13so3430823iea.7\n        for &lt;junit@yahoogroups.com&gt;; Thu, 14 Feb 2013 08:39:00 -0800 (PST)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=x-received:mime-version:in-reply-to:references:from:date:message-id\n         :subject:to:content-type:x-gm-message-state;\n        bh=FHDJgXKcY4t89vUKrDZrBJZqn6RpftP5bhjRnW21wOw=;\n        b=fzIlLei9lZ3EfOrCg7/YgyKOmGbkpa4qBnVzZEVti0NpJtnUg9zNioAWDIISmMZOxE\n         IBWw29Y5TNEVxYQE2gBW8CFGzhYJgUa36/JughD0ACOw4ZF4uh75vuOpcXi2V7rt64I7\n         hDT61qkNLDsFfszv4V+oMhaYcZPGOo1cMms7f1kajWXlRvO4jqDIxkDFdKaX03G66m3Y\n         PWUNmswBelUhVVOQX/yzaqECh4XOyo8R9UZXgqAE0iDGfnMPvGs551QGyx4W5mHr6fuY\n         hBrIkzWWX0SRdKxa6LIR6t23hEbBjY8y/zswBvzTATKsv6dRREkVddwCHTgnxqcRp5OD\n         GzPw==\r\nX-Received: by 10.50.108.235 with SMTP id hn11mr88817igb.107.1360859924587;\n Thu, 14 Feb 2013 08:38:44 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.114.195 with HTTP; Thu, 14 Feb 2013 08:38:24 -0800 (PST)\r\nIn-Reply-To: &lt;kfik7c+166g@...&gt;\r\nReferences: &lt;kfik7c+166g@...&gt;\r\nDate: Thu, 14 Feb 2013 11:38:24 -0500\r\nMessage-ID: &lt;CALrw-Pxna1b9T+7DyoDQHbVLKyqW_ih5SUf-saOe8tSMr-8pBw@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Gm-Message-State: ALoCoQk2k4n5IN5xcx4UFEfwz1vy83XuCWsVS0c30GF9Z/K978ku/I3cfKlGiFFRkumh+xIGULD4V/OVGV8jGL8WNyb9zeMq+5sglMXUUIZGNVX8ooyVMR9vgRbG0+4mr6H0u5FCflu1Z6StRK+P1nPqfNFPuX8AdsRFl/VJDDARqE57P4/ibWpdT/dDYU/36ho01aqQD8XL\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] Re: Feedback requested: Impending changes to RunListener\r\nX-Yahoo-Group-Post: member; u=525765722; y=uvmN_VN2wakkv3GEw0PFJVlXgD-TDxgG01rkVJMXa7SeC3aw-h47O2FeTqdSWj-nqqYryR0G-tBE4ok\r\nX-Yahoo-Profile: saffatgoogle\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi, all.\n\nKevin, thank you very much for the summary document.  I think tha=\r\nt a\nJUnit-specific annotation, which is not name-confusable with a standard=\r\n\nlike @ThreadSafe, seems to be a pretty clear winner.  If we feel strongly\n=\r\nthat it should remain consonant with @ThreadSafe, we could make it a static=\r\n\ninner annotation, and reference it as @....  That might=\r\n\nalso have the advantage of making clear that it&#39;s a single-purpose\nannotat=\r\nion (I&#39;d rather not, at this point, start speculatively figuring out\nwhat o=\r\nther interfaces might try to pun meanings onto a general-purpose\nThreadSafe=\r\n annotation)\n\nI&#39;m a little curious about the third-party library implementa=\r\ntion.  Let&#39;s\nsay I write a package FooTest which is compiled against JUnit =\r\n4.12, and it\ncontains a FooListener I&#39;d like to mark threadsafe.  A client =\r\nwants to use\nit with JUnit 4.11 (she knows she won&#39;t get the concurrent per=\r\nformance\nboost, but wants it to just work).  The document seems to assume t=\r\nhat if\nFooListener has a RunListener.TheadSafe annotation, then our client =\r\nwon&#39;t\nhave a problem (unless, likely, she actually tries to instantiate all=\r\n of\nthe annotations from FooListener in her own code).  However, the docume=\r\nnt\nassumes that declaring a marker interface ThreadSafeRunListener _would_\n=\r\nbreak the client.  Is that true?  Does FooListener fail at bytecode\nverific=\r\nation because the verifier wants to make sure that it implements all\nof Thr=\r\neadSafeRunListener&#39;s methods?\n\nThanks,\n\n   David\n\n\nOn Thu, Feb 14, 2013 at =\r\n7:10 AM, tibord47 &lt;tibord47@...&gt; wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; Hi All,\n&gt;\n&gt; I am =\r\nopen for declaring @ThreadSafe in JUnit bundle due to the reasons\n&gt; like th=\r\ne other artifacts are project or person specific in Maven central\n&gt; and lic=\r\nense issues.\n&gt;\n&gt; But I am not open for @Concurrent. The @ThreadSafe is the =\r\nstrongest\n&gt; terminology. One day if we will have both, it will be just conf=\r\nusing.\n&gt;\n&gt; If we now take over Stephen&#39;s class javadoc, we have to copy the=\r\n Apache\n&gt; License.\n&gt;\n&gt; I think we do not have to follow the jcip either Ste=\r\nphan&#39;s definition of\n&gt; thread-safety in the annotation. We can follow the g=\r\neneral definition &quot;to\n&gt; be free of data race conditions&quot;. Simply see the wi=\r\nkipedia. And what this\n&gt; definition really means has to be specified in the=\r\n class which allows\n&gt; thread-safety treatments.\n&gt;\n&gt; http://stackoverflow.co=\r\nm/questions/1999122/how-to-define-threadsafe\n&gt;\n&gt; Therefore the RunListener =\r\nhas to say in javadoc that it can be annotated\n&gt; @ThreadSafe if its use pat=\r\ntern satisfies reasonable expectations of thread\n&gt; safety. So RunListener a=\r\nllows using this annotation.\n&gt;\n&gt; Now we can talk about these expectations. =\r\nI think they will be these and\n&gt; maybe you can add yours:\n&gt;\n&gt; + If RunListe=\r\nner is created in T1, values in the variables initialized by\n&gt; the construc=\r\ntor which are (indirectly) read in public methods have proper\n&gt; visibility;=\r\n\n&gt; + All public methods in RunListener can be called in T2, or more threads=\r\n\n&gt; at the same time;\n&gt; + RunListener must not achieve non-deterministic nor=\r\n invalid state.\n&gt;\n&gt; What is your opinion about this approach?\n&gt;\n&gt; Cheers,\n&gt;=\r\n Tibor\n&gt;\n&gt;\n&gt; --- In junit@yahoogroups.com, Kevin Cooney wrote:\n&gt; &gt;\n&gt; &gt; I do=\r\nn&#39;t think we should use a re-packaged implementation of\n&gt; &gt; jcip-annotation=\r\ns. Creating a new &quot;clean room&quot; implementation just so we\n&gt; can\n&gt; &gt; use one =\r\nannotation in JUnit seems to violate KISS.\n&gt; &gt;\n&gt; &gt; Although I am the one wh=\r\no originally suggested we use ThreadSafe from\n&gt; &gt; jcip-annotations, I no lo=\r\nnger feel that way.\n&gt; &gt;\n&gt; &gt; I think we should either have a JUnit-specific =\r\nannotation or a create an\n&gt; &gt; abstract subclass of RunListener. If we creat=\r\ne our own annotation, I\n&gt; &gt; strongly feel that it should not be named Threa=\r\ndSafe (see my comments in\n&gt; &gt; the Google docs page for more details)\n&gt; &gt;\n&gt; =\r\n&gt;\n&gt; https://docs.google.com/document/d/1OeE5OUKgtkKHeQuA7bKldBTk-yQ83bH6BHo=\r\nkwifCPrE/edit#\n&gt; &gt;\n&gt; &gt; -- Kevin\n&gt; &gt;\n&gt; &gt; On Wed, Feb 13, 2013 at 4:18 PM, ti=\r\nbord47 wrote:\n&gt; &gt;\n&gt; &gt; &gt; **\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hi Stephen,\n&gt; &gt; &gt;\n&gt; &gt; &gt; The co=\r\nrrect groupId is com.github.stephenc.jcip.\n&gt; &gt; &gt; I already intalled and use=\r\nd the junit lib 4.12-snapshot in other\n&gt; project.\n&gt; &gt; &gt;\n&gt; &gt; &gt; The text in @=\r\nThreadSafe is similar to the one in original jcip.\n&gt; &gt; &gt; Although i would o=\r\nmit mentioning modifier &quot;public&quot; since the all\n&gt; problem\n&gt; &gt; &gt; of thread sa=\r\nfety is in fields which are read or write in critical\n&gt; &gt; &gt; section=3Dmetho=\r\nds/constructor. So the modifier may not necessarily be\n&gt; public.\n&gt; &gt; &gt; It c=\r\nan be also protected, etc.\n&gt; &gt; &gt; So better not to mention any modifier in t=\r\nhe text.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Let&#39;s wait for other repliers and then to make a new d=\r\neployment.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Cheers,\n&gt; &gt; &gt; Tibor\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In junit@y=\r\nahoogroups.com, Stephen Connolly wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; To allow for the re=\r\nmoval of licensing concerns, I have clean-room\n&gt; reverse\n&gt; &gt; &gt; &gt; engineered=\r\n the jcip-annotations as well:\n&gt; &gt; &gt; &gt; https://github.com/stephenc/jcip-ann=\r\notations\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Should be available from Central in the next 1-8 h=\r\nours\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; com.github.stephenc\n&gt; &gt; &gt; &gt; jcip-annotations\n&gt;=\r\n &gt; &gt; &gt; 1.0-1\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; This should be a drop in replacement f=\r\nor\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; net.jcip\n&gt; &gt; &gt; &gt; jcip-annotations\n&gt; &gt; &gt; &gt; 1.0\n&gt; =\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; But if it isn&#39;t please let me know and I can fix and =\r\nroll a 1.0-2\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; On 13 February 2013 09:17, Stephen Con=\r\nnolly\n&gt; &gt; &gt; &gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; On 13 =\r\nFebruary 2013 01:17, Kevin Cooney wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; =\r\n&gt; &gt; &gt; &gt;&gt; On Tue, Feb 12, 2013 at 2:14 PM, tibord47 wrote:\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; =\r\n&gt; &gt;&gt;&gt; **\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; Hi all,\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; =\r\n&gt; &gt; &gt;&gt;&gt; ok, so in that case the standard javax annotations cannot be\n&gt; used=\r\n.\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; Other options are jcip and proprietary one.\n&gt; &gt; &gt;=\r\n &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; There are a few other options that were suggested. I&#39;ve s=\r\nummarized\n&gt; &gt; &gt; them\n&gt; &gt; &gt; &gt; &gt;&gt; all here:\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n=\r\n&gt; &gt; &gt;\n&gt; https://docs.google.com/document/d/1OeE5OUKgtkKHeQuA7bKldBTk-yQ83bH=\r\n6BHokwifCPrE/edit#\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; Feel free to add comments if I mis=\r\nsed something. If you don&#39;t\n&gt; have a\n&gt; &gt; &gt; &gt; &gt;&gt; Google account (or even if =\r\nyou do) feel free to continue to\n&gt; comment\n&gt; &gt; &gt; here.\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;=\r\n&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; I vote for jcip since the license allows us to use a depende=\r\nncy.\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; Stephen indicated a concern with the jcip-annot=\r\nations license.\n&gt; &gt; &gt; Hopefully\n&gt; &gt; &gt; &gt; &gt;&gt; he (or someone else with a conce=\r\nrn) can explain why the license is\n&gt; &gt; &gt; &gt; &gt;&gt; problematic.\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; I indicated that there may be a concern with the license and=\r\n you&#39;d\n&gt; &gt; &gt; want to\n&gt; &gt; &gt; &gt; &gt; check.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; We had (at former=\r\n employers) an issue with the findbugs annotations\n&gt; &gt; &gt; &gt; &gt; (LGPL), so I c=\r\nreated\n&gt; https://github.com/stephenc/findbugs-annotationsas\n&gt; &gt; &gt; &gt; &gt; a cle=\r\nan-room reverse engineered implementation (Apache License v2)\n&gt; of\n&gt; &gt; &gt; th=\r\ne\n&gt; &gt; &gt; &gt; &gt; same annotations specification.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; We weren&#39;t =\r\nusing the jcip-annotations, so those were not subject\n&gt; to the\n&gt; &gt; &gt; &gt; &gt; la=\r\nwyers reviewing.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; -- Kevin\n&gt; &gt; &gt; &gt;=\r\n &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; [Non-text portions of this=\r\n message have been removed]\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text=\r\n portions of this message have been removed]\n&gt; &gt;\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portio=\r\nns of this message have been removed]\n\n\n", 
    "profile": "saffatgoogle", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "prevInTime": 24329, 
    "contentTrasformed": false, 
    "postDate": "1360859904", 
    "canDelete": false, 
    "nextInTopic": 24332, 
    "prevInTopic": 24324, 
    "headers": {
        "inReplyToHeader": "PGtmaWs3YysxNjZnQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBTHJ3LVB4bmExYjlUKzdEeW9EUUhiVkxLeXFXX2loNVNVZi1zYU9lOHRTTXItOHBCd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGtmaWs3YysxNjZnQGVHcm91cHMuY29tPg=="
    }
}