{
    "numMessagesInTopic": 4, 
    "nextInTime": 24069, 
    "senderId": "g_LlpyC2YvO-1-DbZP1r3a0zsVcLeaQxpfY9rT4vw1LgwJczKi5sXSR_YlI2-3dX8LvmkrEEb7ur7KGp18Kd_8_C7g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Custom failed test handling", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Actually, you should be able to reuse the same extension.  On classes where you want to close the browser after each test, use the strategy I outlined above.", 
    "msgId": 24068, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 91216 invoked from network); 24 Oct 2012 16:42:10 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m13.grp.sp2.yahoo.com with QMQP; 24 Oct 2012 16:42:10 -0000\r\nX-Received: from unknown (HELO mail-ia0-f175.google.com) (209.85.210.175)\n  by mta6.grp.sp2.yahoo.com with SMTP; 24 Oct 2012 16:42:10 -0000\r\nX-Received: by mail-ia0-f175.google.com with SMTP id b35so556758iac.34\n        for &lt;junit@yahoogroups.com&gt;; Wed, 24 Oct 2012 09:42:10 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:in-reply-to:references:from:date:message-id:subject:to\n         :content-type:x-system-of-record:x-gm-message-state;\n        bh=1W5zfVZcG1XPA673ezNeZgr9z8dUBSyxqH7WKcT2wS4=;\n        b=R3uozsAY8JYJA5snXEDRSud2EoyRJ3svpgDx7FFv6D0v5HlkdaU3KoI5+3hrH4V7BK\n         093ZtO9iznJvQTiPxXseHiMZEvLYYTv658pGa/vpSsozosIHUv9f/rNZzVs6rBkr/TUd\n         yaVB5o092HA03IzsrL3Beb7n1gJMlveq/gxqZ9x+e9rT6dGmeFMFkUy2MaUjOTX4D/7d\n         Azhdlk/OTpyxVMLIRztB6GjFu74+k+WFGFJjw4F6MxZjqFwcTbnhzTlGVvAVPtHjUjA0\n         St5HpZvLnEtQMCnDyHYVIou2llUSxxy6ykWEG2PbrMmTPFcVP3GEKRLJmFcPkKyYDrwk\n         i0kA==\r\nX-Received: by 10.50.151.238 with SMTP id ut14mr1588373igb.72.1351096930219;\n Wed, 24 Oct 2012 09:42:10 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.19.132 with HTTP; Wed, 24 Oct 2012 09:41:50 -0700 (PDT)\r\nIn-Reply-To: &lt;k690kf+4jcq@...&gt;\r\nReferences: &lt;CALrw-PwZudQtNBTOa17PKs9MeimQ9Y7kvi5RFDydn6xs-PuoUg@...&gt;\n &lt;k690kf+4jcq@...&gt;\r\nDate: Wed, 24 Oct 2012 12:41:50 -0400\r\nMessage-ID: &lt;CALrw-Pyqov1-RyMNtnpu3zpQYj9K6zpykL1yCB0uYs9FoWieJw@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-System-Of-Record: true\r\nX-Gm-Message-State: ALoCoQlI7qZEyr8a3nikeWwi8e0u979ZULbpDSi60eIelTW1tYwIPKMZAqS7zB1y8nIurg3jDA78vq1/9Fu8AwyKLwEl9qAG/SM96qChx/TbQ+VLO7zYdBSzTNoExKttDuPtVb9kLdaOn1Ln0E6wPpqoYiPD8C5/XlRQ18F0wFQ0lpc2Q0W54Ubv7njZsZvkfvd8t9zIPQAr\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] Re: Custom failed test handling\r\nX-Yahoo-Group-Post: member; u=525765722; y=IMPJV6uJgd3tU-p2UV0zKwWcBaFq4OZKar8SglNrzofYJYmCnDAoc9DItek2ldQpNPzojtEx-dGXMGY\r\nX-Yahoo-Profile: saffatgoogle\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nActually, you should be able to reuse the same extension.  On classes where=\r\n\nyou want to close the browser after each test, use the strategy I outlined=\r\n\nabove.  On classes where you want to only close the browser after the whol=\r\ne\nclass, you&#39;ll use:\n\n@Rule public TestRule screenShotter =3D new Screensho=\r\ntter();\n@ClassRule public static TestRule closer =3D new BrowserCloser();\n\n=\r\n\n\n\nOn Wed, Oct 24, 2012 at 11:14 AM, j.kieley &lt;j.kieley@...&gt; wrote:\n\n=\r\n&gt; **\n&gt;\n&gt;\n&gt; Thank you so much for the quick reply!\n&gt;\n&gt; Thats a great approac=\r\nh! The only thing is that some of our tests use\n&gt; @After to close the brows=\r\ner, while others use @AfterClass to close the\n&gt; browser. I would like to ap=\r\nply this custom test failure handling globally\n&gt; if possible.\n&gt; The way you=\r\n&#39;ve suggested would allow us to do it for all of the Test\n&gt; Classes that us=\r\ne the @After to close the browser (Which I think i&#39;ll start\n&gt; doing now) ho=\r\nwever it would cause all the test classes that use @AfterClass\n&gt; to close t=\r\nhe browser to break.\n&gt; Unless I made two separate extensions from TestWatch=\r\ner... One for the\n&gt; @After close browser and one for the @AfterClass..... w=\r\now I think that\n&gt; would work nicely...\n&gt; Is that what you would suggest?\n&gt;\n=\r\n&gt; Thanks a lot\n&gt; -James\n&gt;\n&gt;\n&gt; --- In junit@yahoogroups.com, David Saff &lt;saf=\r\nf@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; J,\n&gt; &gt;\n&gt; &gt; Here&#39;s how I&#39;d approach it. I&#39;ll assume yo=\r\nu already have some kind of\n&gt; &gt;\n&gt; &gt; class Screenshotter extends TestWatcher=\r\n { ... }\n&gt; &gt;\n&gt; &gt; You&#39;ll need to take the logic from your after method, and =\r\nput it into an\n&gt; &gt; ExternalResource:\n&gt; &gt;\n&gt; &gt; public class BrowserCloser ext=\r\nends ExternalResource {\n&gt; &gt; @Override protected void after() {\n&gt; &gt; // close=\r\n the browser\n&gt; &gt; }\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; And then, in your test class, you can incl=\r\nude both with a RuleChain:\n&gt; &gt;\n&gt; &gt; @Rule public TestRule chain =3D TestRule=\r\n.outerRule(new\n&gt; &gt; BrowserCloser()).around(new Screenshotter());\n&gt; &gt;\n&gt; &gt; Ho=\r\npe that helps,\n&gt; &gt;\n&gt; &gt; David\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Tue, Oct 23, 2012 at 3:11 PM, j=\r\n.kieley &lt;j.kieley@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; &gt; **\n&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; I am Seleniu=\r\nm Developer. I was trying to override the class:\n&gt; TestWatcher\n&gt; &gt; &gt; method=\r\n: failed. To add some custom test failure handling (take a\n&gt; screenshot\n&gt; &gt;=\r\n &gt; on test failure). However I noticed that the failed() method is invoked\n=\r\n&gt; &gt; &gt; after the @after method is executed. Currently we are using the @afte=\r\nr\n&gt; &gt; &gt; method to close the browser. So we need to execute takeAScreenShot(=\r\n)\n&gt; after\n&gt; &gt; &gt; a test has failed, and before the @after method is exeuted.=\r\n Any\n&gt; &gt; &gt; suggestions? I didn&#39;t see a way to do this, without making some =\r\nmajor\n&gt; &gt; &gt; changes to TestWatcher.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text=\r\n portions of this message have been removed]\n&gt; &gt;\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portio=\r\nns of this message have been removed]\n\n\n", 
    "profile": "saffatgoogle", 
    "topicId": 24065, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "prevInTime": 24067, 
    "contentTrasformed": false, 
    "postDate": "1351096910", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24067, 
    "headers": {
        "inReplyToHeader": "PGs2OTBrZis0amNxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBTHJ3LVB5cW92MS1SeU1OdG5wdTN6cFFZajlLNnpweWtMMXlDQjB1WXM5Rm9XaWVKd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBTHJ3LVB3WnVkUXROQlRPYTE3UEtzOU1laW1ROVk3a3ZpNVJGRHlkbjZ4cy1QdW9VZ0BtYWlsLmdtYWlsLmNvbT4gPGs2OTBrZis0amNxQGVHcm91cHMuY29tPg=="
    }
}