{
    "numMessagesInTopic": 9, 
    "nextInTime": 14120, 
    "senderId": "AXl9wrDycjYcxSLQERjdIm6HDTpv3c-f5SqKKQ7WFoYR4fd0A9NT82rH5QFPl0OIXfmDf1CpjiiaIU9Ctxy8BR0T_wvAqH7r", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Methods with Dates WAS: Testing Methods with Random Numbers", 
    "from": "Russell Gold &lt;russgold@...&gt;", 
    "authorName": "Russell Gold", 
    "msgSnippet": "... Yes, we seem to have found the same general approach. But I think this can be improved as more than a simple facade - most code that wants to get time has", 
    "msgId": 14119, 
    "profile": "russgold", 
    "topicId": 14105, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190065409, 
    "messageBody": "<div id=\"ygrps-yiv-1688848514\">On 7/12/05, Andrew McDonagh &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:andrew.mcdonagh@...\">andrew.mcdonagh@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Instead of code using Java&#39;s System.currentTimeInMillis() method<br/>\n&gt; directly, they get the time via an abstract factory. The production code<br/>\n&gt; concrete factory does the usual System.currentTimeInMillis() whereas the<br/>\n&gt; tests use a Test Concrete Factory that is preconfigured to always return<br/>\n&gt; the same value.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; public interface SystemTimeFactory {<br/>\n&gt;    long currentTimeInMillis();<br/>\n&gt;    long currentTimeInSeconds();<br/>\n&gt; }<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>Yes, we seem to have found the same general approach. But I think this<br/>\ncan be improved as more than a simple facade - most code that wants to<br/>\nget time has a higher level idea that just looking at raw time. So you<br/>\ncan use instead something like:<br/>\n<br/>\npublic interface Timer {<br/>\n    void start();<br/>\n    void stop();<br/>\n    void reset();<br/>\n    long secondsElapsed();<br/>\n}<br/>\n<br/>\nThe implementation, both for production and test are obvious and<br/>\nsimple, and the additional level of indirection is easily justified by<br/>\nthe abstraction.</div>", 
    "prevInTime": 14118, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1121279698", 
    "canDelete": false, 
    "nextInTopic": 14121, 
    "prevInTopic": 14118, 
    "headers": {
        "inReplyToHeader": "PDQyRDM5MTZBLjMwMDA5MDhAaXBhY2Nlc3MuY29tPg==", 
        "messageIdInHeader": "PDg1M2FjNGY0MDUwNzEzMTEzNDVhNzE5ODU3QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGRhbjlzNitpY25pQGVHcm91cHMuY29tPiA8NDJEMzkxNkEuMzAwMDkwOEBpcGFjY2Vzcy5jb20+"
    }
}