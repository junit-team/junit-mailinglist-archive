{
    "numMessagesInTopic": 7, 
    "nextInTime": 22907, 
    "senderId": "HLPcmpAhlpdsN0xkS5u5wElHC2WlLyk5hJmwie0GmDvjy-fImt46ePFq2bZ6JslW9IfVjHcKnx9x9S7SvUmrjA4EsArQWDyM0w", 
    "systemMessage": true, 
    "subject": "Re: [junit] catch failure to take screenshot with selenium", 
    "from": "James Lee &lt;misttar@...&gt;", 
    "authorName": "James Lee", 
    "msgSnippet": "We implemented something similar, and in the end we wrote a custom runner, so we could be sure that every test that failed would generate a screenshot, before", 
    "msgId": 22906, 
    "profile": "misttar", 
    "topicId": 22898, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 397375123, 
    "messageBody": "<div id=\"ygrps-yiv-1216447264\">We implemented something similar, and in the end we wrote a custom runner,<br/>\nso we could be sure that every test that failed would generate a screenshot,<br/>\nbefore the @After/@AfterClass methods were called.<br/>\n<br/>\nWe also had a bit of code wrapping our Selenium class, that would take a<br/>\nscreenshot whenever any method threw an exception (and re-threw the<br/>\nexception).  So we got screenshots in mid test as well.<br/>\n<br/>\n- James<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Thu, Aug 26, 2010 at 2:31 PM, Shay Thompson &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:sthompso@...\">sthompso@...</a>&gt; wrote:<br/>\n<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; @After methods are run after each test. @AfterClass methods are run after<br/>\n&gt; all tests in a class have completed. I&#39;m not sure if this will work for<br/>\n&gt; Selenium but you could try it.<br/>\n&gt;<br/>\n&gt; If that won&#39;t work you can wrap your test code in try/catch blocks. In the<br/>\n&gt; catch you can do a capture and then throw the failure.<br/>\n&gt;<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt; [mailto:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;] On Behalf Of Leo Arias F.<br/>\n&gt; Sent: Wednesday, August 25, 2010 7:56 PM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;<br/>\n&gt; Subject: [junit] catch failure to take screenshot with selenium<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Hello,<br/>\n&gt;<br/>\n&gt; I use junit and selenium to test a web interface.<br/>\n&gt;<br/>\n&gt; Selenium session is started on @Before and is closed on @After. Pretty<br/>\n&gt; nice :)<br/>\n&gt;<br/>\n&gt; But now we have to take a screenshot on failed tests. I added the<br/>\n&gt; selenium.captureScreenshot(screenshotPath); on @After, but it takes<br/>\n&gt; screenshots of all tests.<br/>\n&gt;<br/>\n&gt; Then I tried the TestWatchman @Rule to override the failed function and<br/>\n&gt; take the screenshot there. But this doesn&#39;t work, because failed is<br/>\n&gt; called after closing the selenium session.<br/>\n&gt;<br/>\n&gt; So I don&#39;t really know where to place the captureScreenshot function.<br/>\n&gt; How can I catch the failure before @After is executed?<br/>\n&gt;<br/>\n&gt; thanks :)<br/>\n&gt; --<br/>\n&gt; ï¿½paz y baile!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://elopio.net\">http://elopio.net</a><br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 22905, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1282866840", 
    "canDelete": false, 
    "nextInTopic": 22909, 
    "prevInTopic": 22902, 
    "headers": {
        "inReplyToHeader": "PERGNDQ1NzMwQkNBNkZGNDhCNjcyMzM5QjA1MDhFRDNFMDNBQzFCM0FDQUBuYW1ieHYwMWEuY29ycC5hZG9iZS5jb20+", 
        "messageIdInHeader": "PEFBTkxrVGluVzNxaFhfY2trRD1NOU5SUHdaXzVmY0thaHVBREc9SDdBbWI0PUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDRDNzVCQkFCLjkwMDAwMDJAZWxvcGlvLm5ldD4JPERGNDQ1NzMwQkNBNkZGNDhCNjcyMzM5QjA1MDhFRDNFMDNBQzFCM0FDQUBuYW1ieHYwMWEuY29ycC5hZG9iZS5jb20+"
    }
}