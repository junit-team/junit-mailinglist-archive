{
    "numMessagesInTopic": 19, 
    "nextInTime": 21235, 
    "senderId": "TWIkAWhiLai1W8mfSLQ0T26bK2gqMtKPIC5k_aQNiaTRjU3qNozuWPW-ySnb6-RStHr-rZ6-h1IoGg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Priority of Assertion?", 
    "from": "nat.pryce@...", 
    "authorName": "nat.pryce@gmail.com", 
    "msgSnippet": "I agree. The expected construct feels like a form of assertion that Junit performs after the body of the test has completed. It is confusing that it does not", 
    "msgId": 21234, 
    "rawEmail": "Return-Path: &lt;nat.pryce@...&gt;\r\nX-Sender: nat.pryce@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 80776 invoked from network); 30 Dec 2008 18:14:12 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m43.grp.scd.yahoo.com with QMQP; 30 Dec 2008 18:14:12 -0000\r\nX-Received: from unknown (HELO yx-out-2324.google.com) (74.125.44.28)\n  by mta16.grp.scd.yahoo.com with SMTP; 30 Dec 2008 18:14:12 -0000\r\nX-Received: by yx-out-2324.google.com with SMTP id 8so2473575yxg.49\n        for &lt;junit@yahoogroups.com&gt;; Tue, 30 Dec 2008 10:14:11 -0800 (PST)\r\nX-Received: by 10.100.142.4 with SMTP id p4mr8495458and.23.1230660851653;\n        Tue, 30 Dec 2008 10:14:11 -0800 (PST)\r\nX-Received: by 10.100.95.17 with HTTP; Tue, 30 Dec 2008 10:14:11 -0800 (PST)\r\nMessage-ID: &lt;17fa53d0812301014n4ce50c45yb5f72d7daa9d4171@...&gt;\r\nDate: Tue, 30 Dec 2008 18:14:11 +0000\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;fba296970812300818i4d920db4o4321ab7dc6dcab14@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;gjcoh4+a6v5@...&gt;\n\t &lt;B6D159719D97430CB9DD6CC4DB5F0DC2@kentspavilion&gt;\n\t &lt;fba296970812300818i4d920db4o4321ab7dc6dcab14@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: nat.pryce@...\r\nSubject: Re: [junit] Priority of Assertion?\r\nX-Yahoo-Group-Post: member; u=216973656; y=3cj9s3ZxZtkBW76fPSxM9U44YD0512fP-6tq3YvSDFTSMwXL\r\nX-Yahoo-Profile: nat_pryce\r\n\r\nI agree. The &quot;expected&quot; construct feels like a form of assertion that\nJunit=\r\n performs after the body of the test has completed. It is\nconfusing that it=\r\n does not compose in the same way as other\nassertions. If a test has two co=\r\nnsecutive assertions, it is not an\nerror for the first assertion to fail an=\r\nd the second never to be\ncalled. Likewise I&#39;d expect it not to be an error =\r\nfor an assertion to\nfail and the &quot;expected&quot; constraint not to be checked.\n\n=\r\nWhat happens when a test with an expected exception throws an\nassumption ex=\r\nception?\n\n--Nat\n\n\nOn 30/12/2008, Ilja Preu=DF &lt;iljapreuss@...&gt; w=\r\nrote:\n&gt; Kent, I agree that it is expected behavior, technically. I think yo=\r\nu\n&gt; could also make an argument that it would be better if the behavior\n&gt; w=\r\nas different.\n&gt;\n&gt; In my view, the behavior is in fact an artifact of an imp=\r\nlementation\n&gt; detail - namely that asserts indicate failures by throwing an=\r\n\n&gt; exception. It could be made the case that JUnit &quot;should&quot; report those\n&gt; =\r\nfailing asserts as failing asserts, not as unexpected exceptions.\n&gt; Basical=\r\nly, the current behavior masks the true test failure.\n&gt;\n&gt; Frankly, I have a=\r\n hunch that the best solution to this problem\n&gt; actually is to split the te=\r\nst in two, that is, to not mix &quot;expected&quot;\n&gt; and &quot;assert&quot; in the same test m=\r\nethod.\n&gt;\n&gt; Cheers, Ilja\n&gt;\n&gt; 2008/12/30 kentb &lt;kentb@...&gt;:\n&gt;&gt; Yose=\r\nf,\n&gt;&gt;\n&gt;&gt; The behavior you describe is what I would expect to see. In the te=\r\nst, you\n&gt;&gt; declared that an ArrayIndexOutOfBounds exception would be thrown=\r\n. It was\n&gt;&gt; not\n&gt;&gt; thrown, so the test fails. The error message says that t=\r\nhe &quot;wrong&quot;\n&gt;&gt; exception\n&gt;&gt; that was thrown was an AssertionError, which is =\r\ngenerated by the\n&gt;&gt; assertTrue(false). The &quot;expected=3D...&quot; means that a te=\r\nst can fail if no\n&gt;&gt; exception is thrown or if the wrong exception is throw=\r\nn.\n&gt;&gt;\n&gt;&gt; Regards,\n&gt;&gt;\n&gt;&gt; Kent Beck\n&gt;&gt; Three Rivers Institute\n&gt;&gt;\n&gt;&gt; _____\n&gt;&gt;\n=\r\n&gt;&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\n=\r\n&gt;&gt; yosefshariat\n&gt;&gt; Sent: Tuesday, December 30, 2008 1:10 AM\n&gt;&gt; To: junit@ya=\r\nhoogroups.com\n&gt;&gt; Subject: [junit] Priority of Assertion?\n&gt;&gt;\n&gt;&gt; Hi\n&gt;&gt; I use =\r\n&quot;@Test(expected =3D AnyClassException.class&quot;) and one\n&gt;&gt; &quot;assertTrue(false)=\r\n&quot; together for example following code:\n&gt;&gt;\n&gt;&gt; @Test(expected =3D ArrayIndexO=\r\nutOfBoundsException.class)\n&gt;&gt; public void test()\n&gt;&gt; {\n&gt;&gt; String s[] =3D new=\r\n String[]{&quot;1&quot;};\n&gt;&gt; assertTrue(false);\n&gt;&gt; System.out.println(s[10]);\n&gt;&gt; }\n&gt;&gt;=\r\n\n&gt;&gt; I expect to see an assertion but I see following error:\n&gt;&gt; java.lang.Ex=\r\nception: Unexpected exception,\n&gt;&gt; expected&lt;java.lang.ArrayIndexOutOfBoundsE=\r\nxception&gt; but\n&gt;&gt; was&lt;java.lang.AssertionError&gt;..\n&gt;&gt;\n&gt;&gt; In your opinion, thi=\r\ns test must be Assertion or Exception.\n&gt;&gt; In &quot;JUnit&quot; we cannot use &quot;@Test(e=\r\nxpected =3D AnyClassException.class&quot;)\n&gt;&gt; and Assertion together at the same=\r\n time.\n&gt;&gt; In my opinion this test must be failed for &quot;assertion&quot; and not fo=\r\nr\n&gt;&gt; ArrayIndexOutOfBoundsException.\n&gt;&gt; Is this a bug in JUnit or my test i=\r\ns wrong and shouldn&#39;t use two item\n&gt;&gt; together?\n&gt;&gt; Tanks.\n&gt;&gt;\n&gt;&gt; [Non-text p=\r\nortions of this message have been removed]\n&gt;&gt;\n&gt;&gt;\n&gt;\n\n\n-- \nhttp://www.natpryc=\r\ne.com\n\n", 
    "profile": "nat_pryce", 
    "topicId": 21230, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 216973656, 
    "prevInTime": 21233, 
    "contentTrasformed": false, 
    "postDate": "1230660851", 
    "canDelete": false, 
    "nextInTopic": 21235, 
    "prevInTopic": 21233, 
    "headers": {
        "inReplyToHeader": "PGZiYTI5Njk3MDgxMjMwMDgxOGk0ZDkyMGRiNG80MzIxYWI3ZGM2ZGNhYjE0QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDE3ZmE1M2QwODEyMzAxMDE0bjRjZTUwYzQ1eWI1ZjcyZDdkYWE5ZDQxNzFAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGdqY29oNCthNnY1QGVHcm91cHMuY29tPgkgPEI2RDE1OTcxOUQ5NzQzMENCOURENkNDNERCNUYwREMyQGtlbnRzcGF2aWxpb24+CSA8ZmJhMjk2OTcwODEyMzAwODE4aTRkOTIwZGI0bzQzMjFhYjdkYzZkY2FiMTRAbWFpbC5nbWFpbC5jb20+"
    }
}