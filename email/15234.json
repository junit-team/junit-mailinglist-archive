{
    "numMessagesInTopic": 4, 
    "nextInTime": 15235, 
    "senderId": "DDl5S1OwfNkiw_VZkI-1F67crWVAn2EV37Gd-0PwyyrgnivlP_K5C4JWDSr6zGCATIxXvmgqMRI-aPm9z9SU9g", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit 4 issue: NaN handling", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "This was discussed in the context of NUnit starting at: http://groups.yahoo.com/group/testdrivendevelopment/message/11579 My biased summary: 1) The current", 
    "msgId": 15234, 
    "profile": "dsaff", 
    "topicId": 15230, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1786497605\">This was discussed in the context of NUnit starting at:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/testdrivendevelopment/message/11579\">http://groups.yahoo.com/group/testdrivendevelopment/message/11579</a><br/>\n<br/>\nMy biased summary:<br/>\n<br/>\n1) The current behavior of JUnit, in which assertEquals(Double.NaN, x) <br/>\nalways fails as unequal, is confusing and unhelpful.<br/>\n2) Ron Jeffries favored special-casing NaN so that <br/>\nassertEquals(Double.NaN, Double.NaN, 0.1); passes.<br/>\n3) I proposed having assertEquals(Double.NaN, x) always fail with a <br/>\nfailure message (&quot;Asserting equality with NaN is meaningless.  Please <br/>\nuse assertIsNaN&quot;).<br/>\n<br/>\nI think 2 or 3 is fine.<br/>\n<br/>\n    David Saff<br/>\n<br/>\nElliotte Harold wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; I think the handling of NaN by assertEquals(double, double, double) and<br/>\n&gt; assertEquals(float, float, float)  should be thought out and more<br/>\n&gt; carefully spelled out. For instance, the following assert fails:<br/>\n&gt;<br/>\n&gt;    assertEquals(Double.NaN, Double.NaN, 0.1);<br/>\n&gt;<br/>\n&gt; i.e. NaN is not equal to NaN. I&#39;m honestly not sure whether this is<br/>\n&gt; correct or not. What does the principle of least surprise suggest? If<br/>\n&gt; someone understands NaN they may find this correct but someone who&#39;s not<br/>\n&gt; intimately familiar with NaN may be surprised.<br/>\n&gt;<br/>\n&gt; This edge case does have practical consequences. For one, the Apache<br/>\n&gt; Commons Math project has found it necessary to create their own double<br/>\n&gt; assertEquals methods that do consider NaN to be equal to NaN. See<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/trunk/src/test/org/apache/commons/math/TestUtils.java?rev=240245&view=markup\">http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/trunk/src/test/org/apache/commons/math/TestUtils.java?rev=240245&view=markup</a> <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/trunk/src/test/org/apache/commons/math/TestUtils.java?rev=240245&view=markup\">http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/trunk/src/test/org/apache/commons/math/TestUtils.java?rev=240245&view=markup</a>&gt;<br/>\n&gt;<br/>\n&gt; I could go either way on this. However, I do think it&#39;s important that a<br/>\n&gt; definite decision about how to handle NaN be made, and that the result<br/>\n&gt; of this decision be spelled out in the JavaDoc. Currently Infinity is<br/>\n&gt; addressed but not NaN, and NaN is by far the more confusing case.<br/>\n&gt;<br/>\n&gt; It probably also wouldn&#39;t hurt to patch the JUnit 3 JavaDoc at least<br/>\n&gt; enough to document the current behavior, whatever that is.<br/>\n&gt;<br/>\n&gt; -- <br/>\n&gt; Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\n&gt; XML in a Nutshell 3rd Edition Just Published!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</a><br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt;<br/>\n&gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt;       on the web.<br/>\n&gt;        <br/>\n&gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;        <br/>\n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15233, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1129821685", 
    "canDelete": false, 
    "nextInTopic": 15243, 
    "prevInTopic": 15230, 
    "headers": {
        "inReplyToHeader": "PDQzNTdCMzFCLjkwNTAzMDJAbWV0YWxhYi51bmMuZWR1Pg==", 
        "messageIdInHeader": "PDQzNTdCNUY1LjQwMjAyMDhAbWl0LmVkdT4=", 
        "referencesHeader": "PDQzNTdCMzFCLjkwNTAzMDJAbWV0YWxhYi51bmMuZWR1Pg=="
    }
}