{
    "numMessagesInTopic": 5, 
    "nextInTime": 21557, 
    "senderId": "rhD6vDNTxp9bW-LCDtjrmlTFLhurTNf5VA8ll9kIjiYD9irahC9jaP_tpFEpPTObIQTXTURtiq3odYk0321RD-2x", 
    "systemMessage": false, 
    "subject": "Re: [junit] Timeout exception location", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Way after the fact, this is now fixed in 4.7.  I d love alpha testers to try out the feature in the latest snapshot.  Thanks, David Saff", 
    "msgId": 21556, 
    "profile": "dsaff", 
    "topicId": 21315, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-2125390139\">Way after the fact, this is now fixed in 4.7.  I&#39;d love alpha testers<br/>\nto try out the feature in the latest snapshot.  Thanks,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Wed, Jan 28, 2009 at 4:46 PM, idan72 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:ishai@...\">ishai@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; Hi,<br/>\n&gt;<br/>\n&gt; I override the FailOnTimeout class.<br/>\n&gt; The problem is that after fNext.evaluate();<br/>\n&gt; I was trying to get the stack trace from the thread but I didn&#39;t find the<br/>\n&gt; location of the code in the test method.<br/>\n&gt;<br/>\n&gt; Can you give example how to do that ?<br/>\n&gt;<br/>\n&gt; Thanks<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; cas_nixster wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; Hi David,<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Jan 27, 2009, at 6:55 PM, David Saff wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt;&gt; This is unfortunately a frequent request, and well beyond my<br/>\n&gt;&gt;&gt; knowledge of<br/>\n&gt;&gt;&gt; Java threading. If anyone knows how to find out the current<br/>\n&gt;&gt;&gt; stacktrace of a<br/>\n&gt;&gt;&gt; separate thread, please let the list know, and we will incorporate<br/>\n&gt;&gt;&gt; it in<br/>\n&gt;&gt;&gt; JUnit.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; I&#39;m not sure I understand the question correctly.  The stacktrace in<br/>\n&gt;&gt; any given<br/>\n&gt;&gt; thread is available via getStackTrace().   (since 1.5)<br/>\n&gt;&gt;<br/>\n&gt;&gt; The Thread class has a static method, getAllStackTraces(), that<br/>\n&gt;&gt; returns a<br/>\n&gt;&gt; map&lt;Thread, StackTraceElement[]&gt; if that works better.<br/>\n&gt;&gt;<br/>\n&gt;&gt; Or is this a question of identifying the correct thread for the trace?<br/>\n&gt;&gt;<br/>\n&gt;&gt; rgds,<br/>\n&gt;&gt; cas<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; We could use JDI to run the thread in another JVM, but that seems<br/>\n&gt;&gt;&gt; fairly<br/>\n&gt;&gt;&gt; high-cost (in terms of compatibility and dependency) for what we&#39;d<br/>\n&gt;&gt;&gt; get.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; For any particular instance where a test is timing out, running with a<br/>\n&gt;&gt;&gt; profiler can often point out the high-cost operations, which is<br/>\n&gt;&gt;&gt; usually more<br/>\n&gt;&gt;&gt; interesting than the single sample of what the thread was doing at<br/>\n&gt;&gt;&gt; the exact<br/>\n&gt;&gt;&gt; timeout.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; David Saff<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; On Mon, Jan 26, 2009 at 4:51 PM, idan72 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:ishai@...\">ishai@...</a>&gt; wrote:<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; Hi,<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; How can I know in tests that finish with timeout what is the<br/>\n&gt;&gt;&gt; location in<br/>\n&gt;&gt;&gt; &gt; code (StackTrace) that been execute when the timeout finish ?<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; I can override FailOnTimeout if that necessary.<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; Thanks<br/>\n&gt;&gt;&gt; &gt; --<br/>\n&gt;&gt;&gt; &gt; View this message in context:<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/Timeout-exception-location-tp21673990p21673990.html\">http://www.nabble.com/Timeout-exception-location-tp21673990p21673990.html</a><br/>\n&gt;&gt;&gt; &gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; ------------------------------------<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt; --<br/>\n&gt; View this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/Timeout-exception-location-tp21673990p21714545.html\">http://www.nabble.com/Timeout-exception-location-tp21673990p21714545.html</a><br/>\n&gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21555, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1241105341", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21321, 
    "headers": {
        "inReplyToHeader": "PDIxNzE0NTQ1LnBvc3RAdGFsay5uYWJibGUuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkwNDMwMDgyOXU2ZDU0YzFmY3JhOGM1MGVjZTM4MmEyMzY0QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDIxNjczOTkwLnBvc3RAdGFsay5uYWJibGUuY29tPgkgPDRmN2RhNmI5MDkwMTI3MTY1NWxmMGNmNzEwaTFkNWFkODU4ZWU4MmI2YWFAbWFpbC5nbWFpbC5jb20+CSA8MEI5QTBERTEtNDgyRi00Q0EwLTg4RkItMkE1OUZCRDk4OUFEQGdtYWlsLmNvbT4JIDwyMTcxNDU0NS5wb3N0QHRhbGsubmFiYmxlLmNvbT4="
    }
}