{
    "numMessagesInTopic": 32, 
    "nextInTime": 16212, 
    "senderId": "ONIuVecefdmbfI_9SFfMvR3A3qxkTH9i6gmejxAflJ7oDGapP5dcH9ZngzofwPy8gvl53qGslkyeyJhYt-VIoqfOhSNHdvG3xTAT1flzn3PsMZB4vA", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit Anti-patterns", 
    "from": "jason r tibbetts &lt;tibbettj@...&gt;", 
    "authorName": "jason r tibbetts", 
    "msgSnippet": "... This is an important point. For example, what if you have a method that will throw an IllegalArgumentException if any of its three arguments is null? It s", 
    "msgId": 16211, 
    "profile": "tibbettj_at_verdi_sra_com", 
    "topicId": 16150, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 224061497, 
    "messageBody": "<div id=\"ygrps-yiv-450394767\"><blockquote><span title=\"ireply\">&gt;&gt;Re: code that throws exceptions. I prefer to declare the test case as<br/>\n&gt;&gt;throwing the exception. I haven&#39;t ever had trouble debugging from the<br/>\n&gt;&gt;information provided in the exception. Discarding that exception and getting<br/>\n&gt;&gt;a generic AssertionError seems a step backwards to me.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; How often have you wished your test verified data stored in the expected <br/>\n&gt; exception? Ever? This is the one bit that surprises me, because I often <br/>\n&gt; want to check more than merely catching an instanceof the expected type. <br/>\n&gt; Can you think of a time when you would have preferred, in retrospect, to <br/>\n&gt; have checked more than just the exception type?<br/>\n<br/>\n </span></blockquote>This is an important point. For example, what if you have a method that <br/>\nwill throw an IllegalArgumentException if any of its three arguments is <br/>\nnull? It&#39;s all well and good to have three separate test cases targeting <br/>\neach of the three arguments, but it&#39;s rather sloppy to have your tests <br/>\nsimply catch the expected IllegalArgumentException without checking its <br/>\nmessage to determine /which/ of the arguments caused it.<br/>\n<br/>\nMy solution to this is twofold:<br/>\n<br/>\n1) Use a utility class (called ArgChecker) with static methods that will <br/>\ntest arguments for null, negative values, mismatched class types, etc., <br/>\nand will throw IllegalArgumentExceptions with appropriate messages. For <br/>\nexample,<br/>\n<br/>\nin the ArgChecker class:<br/>\n     public static void throwIfNull(Object arg, String description);<br/>\n       if (arg == null) {<br/>\n\tthrow new IllegalArgumentException(<br/>\n           /* generate message from description (see below) */);<br/>\n       }<br/>\n     }<br/>\n<br/>\nin the Foo class:<br/>\n     public Foo(String type, int index) {<br/>\n       ArgChecker.throwIfNull(type, &quot;initial type&quot;);<br/>\n                       // msg = &quot;The initial type cannot be null&quot;<br/>\n       this.type = type;<br/>\n       ArgChecker.throwIfNegative(index, &quot;initial index&quot;);<br/>\n                       // msg = &quot;The initial index cannot be negative&quot;<br/>\n       this.idx = index;<br/>\n     }<br/>\n<br/>\n2) I have test utility that test methods use to check the exception <br/>\nmessages for the expected value.<br/>\n<br/>\nin the FooTest class:<br/>\n   public void test_ctor_nullType() {<br/>\n     String type = null;<br/>\n     int index = 99;<br/>\n     try {<br/>\n       new Foo(type, index);<br/>\n       fail(&quot;Should reject a null type&quot;);<br/>\n     } catch (IllegalArgumentException iax) {<br/>\n       IllegalArgumentAssert.assertNullMessage(&quot;initial type&quot;);<br/>\n     }<br/>\n<br/>\nThis second part introduces some admittedly shaky dependencies between <br/>\nthe ArgChecker, the IllegalArgumentAssert, and the class under test:<br/>\n<br/>\n* the IllegalArgumentAssert has to know the exact text of the <br/>\nexception&#39;s message, as generated by the ArgChecker. I get away with <br/>\nthis by storing the ArgChecker&#39;s messages in a boilerplate properties <br/>\nfile with publicly-scoped property keys.<br/>\n* the Foo test method has to know the descriptions that Foo passes to <br/>\nthe ArgChecker&#39;s methods. I /don&#39;t/ expose these as public constants on <br/>\nFoo, just because that seems like more work than it has to be, and <br/>\nbecause any subsequent change that someone may make to Foo&#39;s <br/>\ndescriptions will quickly fail the relevant test(s) and should be easy <br/>\nfor the developer to fix.</div>", 
    "prevInTime": 16210, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1141225461", 
    "canDelete": false, 
    "nextInTopic": 16227, 
    "prevInTopic": 16205, 
    "headers": {
        "inReplyToHeader": "PDQ0MDRGNDRCLjEwNjA5MDdAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PDQ0MDVCN0Y1LjkwMTA0MDFAdmVyZGkuaWlzZC5zcmEuY29tPg==", 
        "referencesHeader": "PEUxRkRudWUtMDAwMkNhLVRNQGVsYXNtdHAta3VrdXIuYXRsLnNhLmVhcnRobGluay5uZXQ+IDw0NDA0RjQ0Qi4xMDYwOTA3QHJvZ2Vycy5jb20+"
    }
}