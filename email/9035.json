{
    "numMessagesInTopic": 11, 
    "nextInTime": 9036, 
    "senderId": "LvJOEAHXU0pZM2io7g7F2Zbij8bYJF0nBXmqXZS-AgyWdpr2kjXa42KvSSbNTobQn3B3gbzCMlZSkJojbiBKTcBDWkmuulEns_1oKELC3g", 
    "systemMessage": false, 
    "subject": "Re: [junit] a question about abstract/parameterised tests", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... It happens. ... With the greatest love and respect, that first sentence does not appear to be English. Forget C, M, I... speak concretely and I will", 
    "msgId": 9035, 
    "profile": "nails762", 
    "topicId": 9015, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-1636510045\"><blockquote><span title=\"ireply\">&gt;So said Chris Dollin on 2003-08-05 --------------------<br/>\n&gt;On Monday 04 August 2003 17:45, J. B. Rainsberger wrote:<br/>\n&gt;&gt; &gt;So said Chris Dollin on 2003-08-04 --------------------<br/>\n&gt;&gt; &gt;We have an interface (Graph) with multiple implementations (A and B).<br/>\n&gt;&gt; &gt; [Some names have been changed to avoid complications.] I have a test<br/>\n&gt;case<br/>\n&gt;&gt; &gt; AbstractTestGraph with an abstract method Graph getGraph(), where the<br/>\n&gt;&gt; &gt; tests test the Graph(s) that getGraph() returns, and TestA/TestB define<br/>\n&gt;&gt; &gt; getGraph() to return instances of A/B as appropriate. So far, so good,<br/>\n&gt;&gt; &gt; and just as suggested in one of the Junit documents. The code for each<br/>\n&gt;&gt; &gt; test case is nice and short.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;Well ... I lied about A and B; it&#39;s more like A, B, C, and X. And likely<br/>\n&gt;&gt; &gt; to be more, since Y and Z exist but may not be properly included in the<br/>\n&gt;&gt; &gt; test suite at the moment.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;(1) How can I write a test generator which takes A.class, X.class etc as<br/>\n&gt;&gt; &gt;arguments and constructs the necessary suite?<br/>\n&gt;&gt;<br/>\n&gt;&gt; I didn&#39;t understand this question.<br/>\n&gt;&gt;<br/>\n&gt;&gt; True or false: you want to create a test suite consisting of tests for<br/>\n&gt;all<br/>\n&gt;&gt; the implementations of an interface. (Please answer.)<br/>\n&gt;<br/>\n&gt;Erm ... no, that&#39;s not it, quite. Apologies for unclear writing (perhaps,<br/>\n&gt;unclear thinking ...)<br/>\n<br/>\n </span></blockquote>It happens.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;I want to write a method M which given a class C which is supposed<br/>\n&gt;to implement interface I will return a suite which runs the abstract test<br/>\n&gt;cases ATC for I with respect to the implementation C. I happens to be<br/>\n&gt;Graph and the C&#39;s are implementations of Graph and there are enough<br/>\n&gt;C&#39;s that writing out explicit subclasses of ATC for each C is a pain.<br/>\n&gt;<br/>\n&gt;This makes it easy for the writers of the different C&#39;s to run the <br/>\n&gt;abstract test cases. <br/>\n<br/>\n </span></blockquote>With the greatest love and respect, that first sentence does not appear to be English. Forget C, M, I... speak concretely and I will understand.<br/>\n<br/>\nLet me try again.<br/>\n<br/>\nYou have an abstract test case AbstractTestGraph. There are a bunch of implementations (subclasses) of Graph. You want to be able to generate on the fly test cases for each implementation (subclass) of Graph.<br/>\n<br/>\n&lt;snip /&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; This appears to try to build concrete test cases<br/>\n&gt;&gt; (<a rel=\"nofollow\" target=\"_blank\" href=\"http://c2.com/cgi/wiki?AbstractTestCases)\">http://c2.com/cgi/wiki?AbstractTestCases)</a> on the fly given an abstract<br/>\n&gt;&gt; test case. I have never thought of doing this before, but it makes sense.<br/>\n&gt;<br/>\n&gt;Yes, I thought so too. [I have a functional programming / Lisplike<br/>\n&gt;background;<br/>\n&gt;higher-order programming comes naturally.]<br/>\n<br/>\n </span></blockquote>If that is what you want, then it shouldn&#39;t be that hard. Create a TestSuite object consisting of dynamic subclasses of AbstractTestGraph, each of which overrides makeGraph() to answer its particular implementation of Graph. As I wrote, dynamic invocation handlers should do the job.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; Assuming that this is what you&#39;re trying to do, then I assume you have:<br/>\n&gt;&gt;<br/>\n&gt;&gt;    * An abstract test case GraphTest<br/>\n&gt;&gt;    * An interface Graph<br/>\n&gt;&gt;    * Implementations of Graph<br/>\n&gt;<br/>\n&gt;Yes [GraphTest is called AbstractTestGraph, but what&#39;s an alpha-conversion<br/>\n&gt;between friends?].<br/>\n&gt;<br/>\n&gt;&gt; You would like to generate a test suite consisting of XTestCase for each<br/>\n&gt;&gt; implementation XGraph of Graph where XTestCase creates an instance of<br/>\n&gt;&gt; XGraph to test.<br/>\n&gt;<br/>\n&gt;What&#39;s important is not to be able to create a suite of them all (although<br/>\n&gt;that might be nice), but to be able to trivially able to create a suite for<br/>\n&gt;each one to be plugged into the locally appropriate test-cases.<br/>\n<br/>\n </span></blockquote>You want to generate code? or generate the implementation at runtime?<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;[When I say &quot;suite&quot; am I being sloppy? I really mean &quot;a test that runs<br/>\n&gt;lots of tests&quot;.]<br/>\n<br/>\n </span></blockquote>Tests don&#39;t run tests. TestRunners run tests.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; This is a neat question. Let me think about this.<br/>\n&gt;&gt;<br/>\n&gt;&gt; &gt;So ... am I dead-ended in the wrong alley? Missing something obvious?<br/>\n&gt;&gt; &gt;Missing something subtle? Any advice would be welcome. If I have to<br/>\n&gt;&gt; &gt;hack junit source code I will, but I feel that surely I don&#39;t need to<br/>\n&gt;...<br/>\n&gt;&gt;<br/>\n&gt;&gt; I don&#39;t think you are. Dynamic invocation handlers might be the order of<br/>\n&gt;&gt; the day, or something... This seems to be easy to do in a dynamic<br/>\n&gt;language<br/>\n&gt;&gt; like Smalltalk. :)<br/>\n&gt;<br/>\n&gt;So far as I can tell, it would be easy in Java if classes nested inside<br/>\n&gt;methods<br/>\n&gt;were allowed to be public. I suspect the restriction was not reviewed when<br/>\n&gt;they added reflection to the official language ...<br/>\n<br/>\n </span></blockquote>They are if they are class-level (static).<br/>\n<br/>\n<br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603</div>", 
    "prevInTime": 9034, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1060219196", 
    "canDelete": false, 
    "nextInTopic": 9044, 
    "prevInTopic": 9025, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwODA1MDgyOC40MDIwMy5jaHJpcy5kb2xsaW5AaHAuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwODA2MjExOTU2MDg5Ni4wMEQzNjc2MUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDIwMDMwODA0MTQ0NC4xMjQyMy5jaHJpcy5kb2xsaW5AaHAuY29tPiA8MjAwMzA4MDQxMjQ1NTgwMjI4LjAwMkQxNjZBQHNzbXRwLmJsb29yLmlzLm5ldC5jYWJsZS5yb2dlcnMuY29tPiA8MjAwMzA4MDUwODI4LjQwMjAzLmNocmlzLmRvbGxpbkBocC5jb20+"
    }
}