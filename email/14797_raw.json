{
    "numMessagesInTopic": 3, 
    "nextInTime": 14798, 
    "senderId": "RetCidOq4KqVkdbwWZBKV5EdwdDiT86Pn5th7TN-GHIe_PE_YKXCkCDdDw05ZdSpo4o5T_6qVEhT8OO3zgaaO4OAONXAeC2rUlB4rMZXiDU", 
    "systemMessage": true, 
    "subject": "How to aggregate differences instead of asserting just the first difference ?", 
    "from": "&quot;tomj_33&quot; &lt;tomjbr.16324861@...&gt;", 
    "authorName": "tomj_33", 
    "msgSnippet": "For example, if I will parse two files and compare row by row, I would like to see all the differences and not just the first difference. Another situation", 
    "msgId": 14797, 
    "rawEmail": "Return-Path: &lt;tomjbr.16324861@...&gt;\r\nReceived: (qmail 4342 invoked from network); 15 Sep 2005 02:28:50 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m30.grp.scd.yahoo.com with QMQP; 15 Sep 2005 02:28:50 -0000\r\nReceived: from unknown (HELO n21a.bulk.scd.yahoo.com) (66.94.237.50)\n  by mta6.grp.scd.yahoo.com with SMTP; 15 Sep 2005 02:28:50 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.6] by n21.bulk.scd.yahoo.com with NNFMP; 15 Sep 2005 02:28:25 -0000\r\nReceived: from [66.218.66.78] by mailer6.bulk.scd.yahoo.com with NNFMP; 15 Sep 2005 02:28:25 -0000\r\nX-Sender: tomjbr.16324861@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 2404 invoked from network); 14 Sep 2005 14:34:15 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m31.grp.scd.yahoo.com with QMQP; 14 Sep 2005 14:34:15 -0000\r\nReceived: from unknown (HELO n11a.bulk.scd.yahoo.com) (66.94.237.16)\n  by mta3.grp.scd.yahoo.com with SMTP; 14 Sep 2005 14:34:15 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.66.58] by n11.bulk.scd.yahoo.com with NNFMP; 14 Sep 2005 14:33:43 -0000\r\nReceived: from [66.218.66.91] by mailer7.bulk.scd.yahoo.com with NNFMP; 14 Sep 2005 14:33:39 -0000\r\nDate: Wed, 14 Sep 2005 14:33:38 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;dg9cc2+6ium@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3900\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;tomj_33&quot; &lt;tomjbr.16324861@...&gt;\r\nSubject: How to aggregate differences instead of asserting just the first difference ?\r\nX-Yahoo-Group-Post: member; u=237428311; y=VKV3Z2qnCFlAA-T3u0ojnu3WZtW-DUj03ovVfuYiTKkKzg\r\nX-Yahoo-Profile: tomj_33\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 15 Sep 2005 02:28:23 -0000\r\n\r\nFor example, if I will parse two files and compare row by row, I \nwould like to see all the differences and not just the first \ndifference.\nAnother situation might be when you want to compare all elements in \nsome collection, and not just want to see the values of the first \nfailures.\n\nIf there is no good solution within JUnit itself, then maybe there is \nsome extension ?\nI started writing some code below, just to illustrate the idea.\nBut instead of trying to improve this code of mine, which probably \nwould be to reinvent the wheel, I would prefer to reuse some good \nexisting code.\n\nFor example, when I iterate these Strings and compare each pair of \nitems normally with JUnit:\nnew String[][] {\n\t\t\tnew String[]{&quot;abc&quot;, &quot;abcd&quot;},\n\t\t\tnew String[]{&quot;def&quot;, &quot;def&quot;},\n\t\t\tnew String[]{&quot;ghi&quot;, &quot;gghi&quot;},\n\t\t\tnew String[]{&quot;jkl&quot;, &quot;jkl&quot;}\n};\nthen the result will be like this:\njunit.framework.ComparisonFailure: my message expected:&lt;...&gt; but \nwas:&lt;...d&gt;\n\tat junit.framework.Assert.assertEquals(Assert.java:81)\n\n\nHowever, I would instead like this kind of output message:\njunit.framework.AssertionFailedError: \n-----------------------\nmy title\n\nItemNumber 1\nExpected: abc\nActual:   abcd\n\nItemNumber 3\nExpected: ghi\nActual:   gghi\n\nThe number of items with failures was: 2\n-----------------------\n expected:&lt;0&gt; but was:&lt;2&gt;\n\tat junit.framework.Assert.fail(Assert.java:47)\n\tat junit.framework.Assert.failNotEquals(Assert.java:282)\n\tat junit.framework.Assert.assertEquals(Assert.java:64)\n\tat junit.framework.Assert.assertEquals(Assert.java:201)\n\n\nHere is the code that produced this output:\n(but I would like to find a better existing framework for this kind \nof comparisons)\n\npublic class AggregatingFailuresTest extends TestCase {\n\n\tprivate String[][] getStringArrayOfArrays()\n\t{\n\t\t// Of course this method usually is in the class \n\t\t// under test but for simplicity I just put it here \n\t\treturn new String[][] {\n\t\t\t\tnew String[]{&quot;abc&quot;, &quot;abcd&quot;},\n\t\t\t\tnew String[]{&quot;def&quot;, &quot;def&quot;},\n\t\t\t\tnew String[]{&quot;ghi&quot;, &quot;gghi&quot;},\n\t\t\t\tnew String[]{&quot;jkl&quot;, &quot;jkl&quot;}\n\t\t};\n\t}\n\t\n\tpublic void testGetStringArrayOfArrays() {\n\t\tAssertionsAggregator oAssertionsAggregator = new \nAssertionsAggregator(&quot;my title&quot;);\n\t\tString[][] arrayOfArrays = getStringArrayOfArrays();\n\t\tString[] a;\n\t\tfor (int i = 0; i &lt; arrayOfArrays.length; i++) {\n\t\t\ta = arrayOfArrays[i];\n\t\t\toAssertionsAggregator.assertEquals(&quot;my \nmessage&quot;, a[0], a[1]);\n\t\t\t//assertEquals(&quot;my message&quot;, a[0], a[1]);\n\t\t}\n\t\toAssertionsAggregator.doAssertion();\n\t}\n\t\n}\n\npublic class AssertionsAggregator {\n\t\tprivate int itemNumber = 0;\n\t\tprivate int numberOfItemsWhichAreNotEqual = 0;\n\t\n\t\tprivate static final String LINE_WITH_HYPHENS = &quot;-----\n------------------&quot;;\n\t\tprivate static final String LINEBREAK = &quot;&#92;n&quot;;\n\t\n\t\tprivate StringBuffer messageBuffer = new StringBuffer\n();\n\t\t\n\t\tpublic AssertionsAggregator(String title)\n\t\t{\n\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\tmessageBuffer.append(LINE_WITH_HYPHENS);\n\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\tmessageBuffer.append(title);\n\t\t\tmessageBuffer.append(LINEBREAK);\t\n\t\t\t\t\n\t\t}\n\t\t\n\n\t\tpublic void assertEquals(String message, String \nexpected, String actual)\n\t\t{\n\t\t\titemNumber++;\n\t\t\tif(!expected.equals(actual))\n\t\t\t{\n\t\t\t\tnumberOfItemsWhichAreNotEqual++;\n\t\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\t\tmessageBuffer.append(&quot;ItemNumber &quot; + \nitemNumber);\n\t\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\t\tmessageBuffer.append(&quot;Expected: &quot; + \nexpected);\n\t\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\t\tmessageBuffer.append(&quot;Actual:   &quot; + \nactual);\n\t\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\t}\t\t\t\n\t\t\t\n\t\t}\n\n\t\tpublic void doAssertion() {\n\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\tmessageBuffer.append(&quot;The number of items \nwith failures was: &quot; + numberOfItemsWhichAreNotEqual);\n\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\tmessageBuffer.append(LINE_WITH_HYPHENS);\n\t\t\tmessageBuffer.append(LINEBREAK);\n\t\t\tAssert.assertEquals(messageBuffer.toString(), \n0, numberOfItemsWhichAreNotEqual);\n\t\t}\n\t\n}\n\n\n\n\n\n\n\n\n", 
    "profile": "tomj_33", 
    "topicId": 14797, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 237428311, 
    "prevInTime": 14796, 
    "contentTrasformed": false, 
    "postDate": "1126708418", 
    "canDelete": false, 
    "nextInTopic": 14798, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGRnOWNjMis2aXVtQGVHcm91cHMuY29tPg=="
    }
}