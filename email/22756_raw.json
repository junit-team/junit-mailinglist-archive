{
    "numMessagesInTopic": 4, 
    "nextInTime": 22757, 
    "senderId": "5hDLF9Dt6tPlJJZDZZ1aebe8EUnvVqBh2ElyN0avR1kvyaMSogWUEn-Uezfrjc9kgrTB6v2sqU0klT5p95ChzyJI4o1AOrk5QUGQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] jUnit4 Expectation and Assertation with jMock2", 
    "from": "Steve Freeman &lt;smgfreeman@...&gt;", 
    "authorName": "Steve Freeman", 
    "msgSnippet": "This seems to be an unfortunate combination of the two libraries. In your sql exception test, the first stack trace is from the JUnit expected annotation. The", 
    "msgId": 22756, 
    "rawEmail": "Return-Path: &lt;smgfreeman@...&gt;\r\nX-Sender: smgfreeman@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 43481 invoked from network); 12 Jun 2010 09:14:40 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m2.grp.sp2.yahoo.com with QMQP; 12 Jun 2010 09:14:40 -0000\r\nX-Received: from unknown (HELO rs49.luxsci.com) (65.61.166.75)\n  by mta3.grp.re1.yahoo.com with SMTP; 12 Jun 2010 09:14:38 -0000\r\nX-Received: from rs49.luxsci.com (localhost [127.0.0.1])\n\tby rs49.luxsci.com (8.13.1/8.13.7) with ESMTP id o5C9E4KT017556\n\tfor &lt;junit@yahoogroups.com&gt;; Sat, 12 Jun 2010 04:14:04 -0500\r\nX-Received: (from root@localhost)\n\tby rs49.luxsci.com (8.13.1/8.13.7/Submit) id o5C9E22s017521\n\tfor junit@yahoogroups.com; Sat, 12 Jun 2010 09:14:02 GMT\r\nMessage-Id: &lt;201006120914.o5C9E22s017521@...&gt;\r\nX-Received: (from sender 1330) by Lux Scientiae SP; Sat, 12 Jun 2010 09:14:02 +0000\r\nContent-Type: text/plain; charset=us-ascii\r\nIn-Reply-To: &lt;huuqqh+jphu@...&gt;\r\nDate: Sat, 12 Jun 2010 10:13:28 +0100\r\nContent-Transfer-Encoding: quoted-printable\r\nReferences: &lt;huuqqh+jphu@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Comment: Lux Scientiae SP Message ID - 1276334042-6909703.01539413\r\nFrom: Steve Freeman &lt;smgfreeman@...&gt;\r\nSubject: Re: [junit] jUnit4 Expectation and Assertation with jMock2\r\nX-Yahoo-Group-Post: member; u=206880094; y=YthdDrZGsS8Di49UImG0dqbykvGx3VFqUXtGnmuIhZgkorDGy6g\r\nX-Yahoo-Profile: smg_freeman\r\n\r\nThis seems to be an unfortunate combination of the two libraries. In your s=\r\nql exception test, the first stack trace is from the JUnit expected annotat=\r\nion. The second is from the jMock expectations. We tried to strike a balanc=\r\ne in jMock between being providing enough and too much information, but it&#39;=\r\ns hard to be general. One trick, though, is that I think that some of the I=\r\nDE&#39;s can be configured to hide certain packages in stack traces.\n\nS.\n\nOn 12=\r\n Jun 2010, at 03:18, raja_s_patil wrote:\n&gt; I am new to java and doing my fi=\r\nrst project.\n&gt; The testcase is as given below, but the snippet where i need=\r\n help is\n&gt; \n&gt; \t@Test(expected =3D java.sql.SQLException.class)\n&gt; \tpublic vo=\r\nid testSetParameter() throws SQLException {\n&gt; \n&gt; \t\tcontext.checking(new Exp=\r\nectations() {\n&gt; \t\t\t{\n&gt; \t\t\t\toneOf(setter).setString(&quot;T&quot;);\n&gt; \t\t\t\toneOf(setter=\r\n).setString(&quot;F&quot;);\n&gt; \t\t\t\t}\n&gt; \t\t\t});\n&gt; \n&gt; \t\tboolHandler.setParameter(setter, =\r\nnew Boolean(true));\n&gt; \t\tboolHandler.setParameter(setter, new Boolean(false)=\r\n);\n&gt; \t\tboolHandler.setParameter(setter, null);\n&gt; \t\t}\n&gt; \n&gt; The test is runni=\r\nng fine and giving me GREEN bar. But I would like to\n&gt; show meaningful mess=\r\nage when any of the above test fails. e.g. if \n&gt; \n&gt; boolHandler.setParamete=\r\nr(setter, new Boolean(false)); is changed to\n&gt; boolHandler.setParameter(set=\r\nter, new Boolean(true)); then test fails\n&gt; \n&gt; but the message is not precis=\r\nely telling why it has failed as \n&gt; getResult is doing. The message is also=\r\n given below one has to search in this long message and conclude that setSt=\r\nring(&quot;T&quot;) has been \n&gt; called once and it should be setString(&quot;F&quot;) for secon=\r\nd time call.\n&gt; \n&gt; How can I indicate a short precise message why test has f=\r\nailed.\n&gt; \n&gt; Thanks and regards.\n&gt; \n&gt; \n&gt; Raja\n&gt; \n&gt; =3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D\n&gt; public class testBoolTypeHandler {\n&gt;=\r\n \n&gt; \tprivate Mockery\t\t\t\tcontext;\n&gt; \tprivate ResultGetter\t\tgetter;\n&gt; \tprivat=\r\ne ParameterSetter\t\tsetter;\n&gt; \tprivate boolTypeHandlerTF\tboolHandler;\n&gt; \tpri=\r\nvate String\t\t\t\ts;\n&gt; \n&gt; \t@Before\n&gt; \tpublic void setUp() throws Exception {\n&gt;=\r\n \n&gt; \t\tcontext\t\t=3D new JUnit4Mockery();\n&gt; \t\tgetter\t\t=3D context.mock(Result=\r\nGetter.class);\n&gt; \t\tsetter\t\t=3D context.mock(ParameterSetter.class);\n&gt; \t\tboo=\r\nlHandler\t=3D new boolTypeHandlerTF();\n&gt; \n&gt; \t\t}\n&gt; \n&gt; \t@After\n&gt; \tpublic void =\r\ntearDown() throws Exception {}\n&gt; \n&gt; \t@Test(expected =3D java.sql.SQLExcepti=\r\non.class)\n&gt; \tpublic void testGetResult() throws SQLException {\n&gt; \n&gt; \t\tboole=\r\nan\tresult;\n&gt; \n&gt; \t\tcontext.checking(new Expectations() {\n&gt; \t\t\t{\n&gt; \t\t\t\tatLeas=\r\nt(1).of(getter).getString();\n&gt; \t\t\t\twill(onConsecutiveCalls(returnValue(&quot;T&quot;)=\r\n, returnValue(&quot;F&quot;), returnValue(&quot; &quot;)\t// , returnValue(&#39;F&#39;)\n&gt; \t\t\t\t\t));\n&gt; \t\t\t=\r\n\t}\n&gt; \t\t\t});\n&gt; \n&gt; \t\tresult\t=3D ((Boolean) (boolHandler.getResult(getter))).b=\r\nooleanValue();\n&gt; \t\tassertEquals(&quot;getter.getString() =3D=3D &#39;T&#39; &quot;, true, res=\r\nult);\n&gt; \n&gt; \t\tresult\t=3D (Boolean) (boolHandler.getResult(getter));\n&gt; \t\tasse=\r\nrtEquals(&quot;getter.getString() =3D=3D &#39;F&#39; &quot;, false, result);\n&gt; \n&gt; \t\t// getter=\r\n.getString() =3D=3D &#39; &#39; Throws Exception\n&gt; \t\tresult\t=3D (Boolean) (boolHand=\r\nler.getResult(getter));\n&gt; \n&gt; \t\t}\n&gt; \n&gt; \t@Test(expected =3D java.sql.SQLExcep=\r\ntion.class)\n&gt; \tpublic void testSetParameter() throws SQLException {\n&gt; \n&gt; \t\t=\r\ncontext.checking(new Expectations() {\n&gt; \t\t\t{\n&gt; \t\t\t\toneOf(setter).setString(=\r\n&quot;T&quot;);\n&gt; \t\t\t\toneOf(setter).setString(&quot;F&quot;);\n&gt; \t\t\t\t}\n&gt; \t\t\t});\n&gt; \n&gt; \t\tboolHandl=\r\ner.setParameter(setter, new Boolean(true));\n&gt; \t\tboolHandler.setParameter(se=\r\ntter, new Boolean(false));\n&gt; \t\tboolHandler.setParameter(setter, null);\n&gt; \t\t=\r\n}\n&gt; \n&gt; \t/**\n&gt; \t *\n&gt; \t * @Test\n&gt; \t * public void testValueOf() {\n&gt; \t *   fai=\r\nl(&quot;Not yet implemented&quot;);\n&gt; \t * }\n&gt; \t */\n&gt; \t}\n&gt; \n&gt; \n&gt; =3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D\n&gt; \n&gt; \n&gt; java.lang.Exception: Unexpe=\r\ncted exception, expected&lt;java.sql.SQLException&gt; but was&lt;java.lang.Assertion=\r\nError&gt;\n&gt; \tat org.junit.internal.runners.statements.ExpectException.evaluate=\r\n(ExpectException.java:29)\n&gt; \tat org.junit.internal.runners.statements.RunBe=\r\nfores.evaluate(RunBefores.java:28)\n&gt; \tat org.junit.internal.runners.stateme=\r\nnts.RunAfters.evaluate(RunAfters.java:31)\n&gt; \tat org.junit.runners.BlockJUni=\r\nt4ClassRunner.runChild(BlockJUnit4ClassRunner.java:73)\n&gt; \tat org.junit.runn=\r\ners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:46)\n&gt; \tat o=\r\nrg.junit.runners.ParentRunner.runChildren(ParentRunner.java:180)\n&gt; \tat org.=\r\njunit.runners.ParentRunner.access$000(ParentRunner.java:41)\n&gt; \tat org.junit=\r\n.runners.ParentRunner$1.evaluate(ParentRunner.java:173)\n&gt; \tat org.junit.int=\r\nernal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n&gt; \tat org.=\r\njunit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n&gt; \t=\r\nat org.junit.runners.ParentRunner.run(ParentRunner.java:220)\n&gt; \tat org.ecli=\r\npse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.=\r\njava:46)\n&gt; \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(Test=\r\nExecution.java:38)\n&gt; \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRu=\r\nnner.runTests(RemoteTestRunner.java:467)\n&gt; \tat org.eclipse.jdt.internal.jun=\r\nit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n&gt; \tat org.ec=\r\nlipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:=\r\n390)\n&gt; \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(Remo=\r\nteTestRunner.java:197)\n&gt; Caused by: java.lang.AssertionError: unexpected in=\r\nvocation: parameterSetter.setString(&quot;T&quot;)\n&gt; expectations:\n&gt;  expected once, =\r\nalready invoked 1 time: parameterSetter.setString(&quot;T&quot;); returns a default v=\r\nalue\n&gt;  expected once, never invoked: parameterSetter.setString(&quot;F&quot;); retur=\r\nns a default value\n&gt; what happened before this:\n&gt;  parameterSetter.setStrin=\r\ng(&quot;T&quot;)\n&gt; \n&gt; \tat org.jmock.internal.InvocationDispatcher.dispatch(Invocation=\r\nDispatcher.java:56)\n&gt; \tat org.jmock.Mockery.dispatch(Mockery.java:218)\n&gt; \ta=\r\nt org.jmock.Mockery.access$000(Mockery.java:43)\n&gt; \tat org.jmock.Mockery$Moc=\r\nkObject.invoke(Mockery.java:258)\n&gt; \tat org.jmock.internal.InvocationDiverte=\r\nr.invoke(InvocationDiverter.java:27)\n&gt; \tat org.jmock.internal.FakeObjectMet=\r\nhods.invoke(FakeObjectMethods.java:38)\n&gt; \tat org.jmock.lib.JavaReflectionIm=\r\nposteriser$1.invoke(JavaReflectionImposteriser.java:33)\n&gt; \tat $Proxy7.setSt=\r\nring(Unknown Source)\n&gt; \tat com.matrimony.utils.ibatis.boolTypeHandlerTF.set=\r\nParameter(boolTypeHandlerTF.java:45)\n&gt; \tat com.matrimony.utils.ibatis.testB=\r\noolTypeHandler.testSetParameter(testBoolTypeHandler.java:89)\n&gt; \tat sun.refl=\r\nect.NativeMethodAccessorImpl.invoke0(Native Method)\n&gt; \tat sun.reflect.Nativ=\r\neMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n&gt; \tat sun.refl=\r\nect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:2=\r\n5)\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:597)\n&gt; \tat org.junit.r=\r\nunners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n&gt;=\r\n \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCall=\r\nable.java:15)\n&gt; \tat org.junit.runners.model.FrameworkMethod.invokeExplosive=\r\nly(FrameworkMethod.java:41)\n&gt; \tat org.junit.internal.runners.statements.Inv=\r\nokeMethod.evaluate(InvokeMethod.java:20)\n&gt; \tat org.junit.internal.runners.s=\r\ntatements.ExpectException.evaluate(ExpectException.java:22)\n&gt; \t... 16 more\n=\r\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Li=\r\nnks\n&gt; \n&gt; \n&gt; \n\nSteve Freeman\nhttp://www.mockobjects.com\nhttp://www.growing-o=\r\nbject-oriented-software.com\n\nWinner of the Agile Alliance Gordon Pask award=\r\n 2006\n\n\n\n\n\n", 
    "profile": "smg_freeman", 
    "topicId": 22754, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 206880094, 
    "prevInTime": 22755, 
    "contentTrasformed": false, 
    "postDate": "1276334008", 
    "canDelete": false, 
    "nextInTopic": 22757, 
    "prevInTopic": 22754, 
    "headers": {
        "inReplyToHeader": "PGh1dXFxaCtqcGh1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMTAwNjEyMDkxNC5vNUM5RTIyczAxNzUyMUByczQ5Lmx1eHNjaS5jb20+", 
        "referencesHeader": "PGh1dXFxaCtqcGh1QGVHcm91cHMuY29tPg=="
    }
}