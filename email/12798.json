{
    "numMessagesInTopic": 12, 
    "nextInTime": 12799, 
    "senderId": "UEwjsB1UpJo2s78YZVHOIIdcHmy3zRZJJI-PToceHJQBZxmum1p8pU9_D7jvCHUUhs60DJtrcCf959rYLWoxFAonM2rv7dCbdW6yS7GpCgrU", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing EJBs with a live database", 
    "from": "Alex Popescu &lt;alexandru.popescu@...&gt;", 
    "authorName": "Alex Popescu", 
    "msgSnippet": "... Hash: SHA1 [quote J. B. Rainsberger::on 2/2/2005 8:28 PM] ... I suggest that for testing real db queries you should do one of the following: 1/ either", 
    "msgId": 12798, 
    "profile": "alexpopescu70000", 
    "topicId": 12769, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 182387364, 
    "messageBody": "<div id=\"ygrps-yiv-2111849165\">-----BEGIN PGP SIGNED MESSAGE-----<br/>\nHash: SHA1<br/>\n<br/>\n[quote J. B. Rainsberger::on 2/2/2005 8:28 PM]<br/>\n| Anitha kanthraj wrote:<br/>\n|&gt;<br/>\n|&gt;<br/>\n|&gt; Thanks for the prompt response Shane,<br/>\n|&gt;<br/>\n|&gt; This is the code - to check an EJB method<br/>\n|&gt; public void testfindAll(){<br/>\n|&gt;                try{<br/>\n|&gt;                      Collection valueobjectCollection =<br/>\n|&gt; userRemote.findAllUsers();<br/>\n|&gt;                      assertNotNull(valueobjectCollection);<br/>\n|&gt;                      assertEquals(224, valueobjectCollection.size<br/>\n|&gt; ());<br/>\n|&gt;                      }<br/>\n|&gt;                catch (Exception e){<br/>\n|&gt;                      System.out.println(&quot;Error ----in finding<br/>\n|&gt; user &quot;  + e);<br/>\n|&gt;                      }<br/>\n|&gt;                }<br/>\n|&gt;<br/>\n|&gt; the value 224 is the rowcount of the table which has to be changed<br/>\n|&gt; every time a row gets inserted into the table.<br/>\n|<br/>\n| If this is a problem, then the /test/ should prepare the data in the<br/>\n| database, rather than relying on whatever is already there.<br/>\n|<br/>\n| If all your tests use the same data set, that adds to the cost of<br/>\n| incremental development, because as new features are added, the data set<br/>\n| changes, and the cost of maintaining the tests goes up. This is one<br/>\n| source of common misconceptions that tests are overhead.<br/>\n|<br/>\n| To solve the problem, testFindAll() should set up the data it needs in<br/>\n| the database, so that it controls the expected outcome. This is an<br/>\n| important trait of any good test, and not just tests that use a database.<br/>\n|<br/>\n|&gt; Yes I agree a DB query will increase the time taken to execute the<br/>\n|&gt; tests but on the contrary by automating that step anyone can run my<br/>\n|&gt; tests with minimum or no code change.<br/>\n|<br/>\n| I disagree. The more tests rely on external resources, the more<br/>\n| /difficult/ they are to run by different people on different machines at<br/>\n| different times. That&#39;s been my experience.<br/>\n<br/>\nI suggest that for testing real db queries you should do one of the following:<br/>\n1/ either prepare the database data before running any of your tests (this will guarantee that no<br/>\nmatter which db is used the results will be the same)<br/>\n2/ or use dbUnit to prepare your db data for you.<br/>\n<br/>\nI am absolutely sure that the value 224 will a lot of headaches from now on: after a time the test<br/>\nwill start failing for different developers, they will have to fix it according to their db version<br/>\nand finally they will dismiss the test.<br/>\n<br/>\n- --<br/>\n:alex<br/>\n[the_mindstorm]<br/>\n-----BEGIN PGP SIGNATURE-----<br/>\nVersion: GnuPG v1.4.0 (MingW32)<br/>\n<br/>\niD8DBQFCAdJPTTDTje0R2dgRAmZMAJ4y+3A1nb1ZPzuOqU59Gn3ou76TMQCdFdW2<br/>\narKT/T7omJpPA7xa/NAodxY=<br/>\n=8jUB<br/>\n-----END PGP SIGNATURE-----</div>", 
    "prevInTime": 12797, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1107415631", 
    "canDelete": false, 
    "nextInTopic": 12803, 
    "prevInTopic": 12793, 
    "headers": {
        "inReplyToHeader": "PDQyMDExQkQzLjYwNTA2QHJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PDQyMDFEMjRGLjEwOTA3MDdAZXZvbHZhLnJvPg==", 
        "referencesHeader": "PGN0bTZzMCtkcGhuQGVHcm91cHMuY29tPiA8NDIwMTFCRDMuNjA1MDZAcm9nZXJzLmNvbT4="
    }
}