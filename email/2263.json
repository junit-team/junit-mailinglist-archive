{
    "numMessagesInTopic": 10, 
    "nextInTime": 2264, 
    "senderId": "XllohVx7OxCVnNxfgt1r8qHr8b8eEI9-P4kUJ07OLmOUbMDOnqHHfXFCS8dlovU40Mux3hORjki6KOVx1l1WsFBUIHBAsaAvZNowl7VM", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Re: False warnings? (Re: re - assert counting)", 
    "from": "&quot;Mathieu Gervais&quot; &lt;egoine_@...&gt;", 
    "authorName": "Mathieu Gervais", 
    "msgSnippet": "Hi, some comments and, I hope, an answer to your question. ... [...] This is ok. I agree. ... I asked that because I was under the impression that you were", 
    "msgId": 2263, 
    "topicId": 2171, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1984218141\">Hi,<br/>\n<br/>\n  some comments and, I hope, an answer to your question.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; [...] If I expect the exception, then I have a test that runs like this:<br/>\n </span></blockquote>[...]<br/>\n<br/>\nThis is ok. I agree.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Can you clarify what you meant by your last statement? Why would I put<br/>\n&gt;try/catch around an assertion?<br/>\n<br/>\n </span></blockquote>I asked that because I was under the impression that you were able to have<br/>\nbroken test produce errors and broken &quot;under test&quot; code produce failures.<br/>\n<br/>\nYou said :<br/>\n<blockquote><span title=\"ireply\"> &gt; [...] I find it nice to go on the assumption that a failure means my code<br/>\n </span></blockquote>is broken and an error means my test is broken [...]<br/>\n<br/>\nSo I assumed wrongly that you had found a way to somehow insure that. I<br/>\nwasn&#39;t able to imagine a way I would do that so I asked.<br/>\nFrom your explanations below I see this is only &quot;best effort&quot; to *try* to<br/>\nmake broken code not to produce errors.<br/>\n<br/>\nYou asked :<br/>\n<blockquote><span title=\"ireply\"> &gt;[...] I wonder if not many people find this useful or if I&#39;m overstating<br/>\n </span></blockquote>how useful it can be.[...]<br/>\nPersonnally, I think it&#39;s not worth it.<br/>\n<br/>\nWithout any effort, I *do* get major problems come up as errors. I also get<br/>\nfrom time to time failures comming as errors and vice versa, but I&#39;m sure<br/>\nyou also do.<br/>\n<br/>\nExample:<br/>\n<br/>\nint methodToTest() {<br/>\n   //  broken code uses member wrongly set to null. Throws NPE.<br/>\n}<br/>\n<br/>\nAssume a correct test. If you don&#39;t write ugly try/catch arround your<br/>\nassertions like :<br/>\n<br/>\ntry {<br/>\n    assertEquals(4,objectUnderTest.methodToTest())<br/>\n} catch (Exception e) {<br/>\n    fail(e.toString); // -- note the lack of stacktrace in the UI. It&#39;s<br/>\nlost. We probably need fail(String s,Throwable t).<br/>\n}<br/>\n<br/>\nyou will get an error, instead of a failure.<br/>\n<br/>\nI&#39;m personnally satisfied with always letting the framework catch<br/>\nexceptions. (Except expected ones, of course)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; [...]Specifically, I generally put stronger &quot;not null&quot; preconditions on<br/>\n </span></blockquote>the test to quickly rule out that the test is broken. [...]<br/>\nThis is what I view as &quot;best effort&quot; since you don&#39;t cover everything but<br/>\nyou try. Regardless of the issue error vs failure, I think this is probably<br/>\ngood.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;[...] Also, it depends when I get the NullPointerException: what did I just<br/>\n </span></blockquote>write? the test or code? Usually that tells me. [...]<br/>\nThat&#39;s why I don&#39;t do any effort for the error vs failure thing. &quot;Usually<br/>\nthat tells me&quot; applies also to me.<br/>\n<br/>\nI won&#39;t retype here what  David Avraamides said, because he already said<br/>\nnicely what I also think.<br/>\n<br/>\n<br/>\nmathieu<br/>\n<blockquote><span title=\"qreply\"> ----- Original Message -----<br/>\nFrom: J. B. Rainsberger<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSent: Saturday, August 04, 2001 11:57 AM<br/>\nSubject: [junit] Re: Re: False warnings? (Re: re - assert counting)<br/>\n<br/>\n<br/>\n&gt; &gt;Agreed; however, I find it nice to go on the assumption that a failure<br/>\n&gt; means<br/>\n&gt; &gt;my code is broken and an error means my test is broken. I wonder if not<br/>\n&gt; many<br/>\n&gt; &gt;people find this useful or if I&#39;m overstating how useful it can be.<br/>\n&gt;<br/>\n&gt; Interesting comment. What if the tested code throw a NullPointerException?<br/>\n&gt; You catch it and fail()? So All your tests contain try ..catch<br/>\nstuf...around<br/>\n&gt; tested method but not around asserts?<br/>\n<br/>\nI&#39;m not sure I understand your last comment, so let me try to address your<br/>\nquestion.<br/>\n<br/>\n&quot;What if the tested code throws a NullPointerException?&quot; There are two<br/>\npossibilities: I expect the exception or I do not. If I expect the<br/>\nexception, then I have a test that runs like this:<br/>\n<br/>\npublic void testA() {<br/>\n    try {<br/>\n        doSomething();<br/>\n        fail(&quot;How did I get here?!&quot;);<br/>\n    }<br/>\n    catch (NullPointerException success) {}<br/>\n}<br/>\n<br/>\nWe&#39;ve already talked for a long time about this coding pattern on this<br/>\nmailing list, so I state it &quot;without proof&quot; as a best practice.<br/>\n<br/>\nIf I do not expect the exception, then either my test or my code is broken.<br/>\nSince I don&#39;t want to debug, what I generally do is add a bunch of<br/>\nassertNotNull() statements into my tests to determine which reference is<br/>\nnull. Once I determine which reference is null, it is generally easy to<br/>\ndetermine whether the test or the code is broken. Specifically, I generally<br/>\nput stronger &quot;not null&quot; preconditions on the test to quickly rule out that<br/>\nthe test is broken. Also, it depends when I get the NullPointerException:<br/>\nwhat did I just write? the test or code? Usually that tells me.<br/>\n<br/>\nCan you clarify what you meant by your last statement? Why would I put<br/>\ntry/catch around an assertion?<br/>\n<br/>\nThanks.<br/>\n<br/>\nJBR.<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. </span></blockquote></div>", 
    "prevInTime": 2262, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "997107303", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 2250, 
    "headers": {
        "messageIdInHeader": "PE9FNzFFTURwQ25KNzExSFp2N0YwMDAwNmZjZkBob3RtYWlsLmNvbT4=", 
        "referencesHeader": "PDk5NjkxNTE2MS40NzIuNzY2MjUubDEwQHlhaG9vZ3JvdXBzLmNvbT4gPE9FMTlFZUlCYmdmcmp1c3BmUFAwMDAwMDJmNUBob3RtYWlsLmNvbT4="
    }
}