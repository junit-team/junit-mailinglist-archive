{
    "numMessagesInTopic": 23, 
    "nextInTime": 22453, 
    "senderId": "SYSJo67EwtjIf-8gcf60wTXhF8atkVv4LHC3Ys7QHWPlBcug3NV-PQd0XeLy_YJApd7gq8-owvYejDdTO7VKhNz95Kozekx8tOg", 
    "systemMessage": false, 
    "subject": "Re: @DataPoints called several times for Theories", 
    "from": "&quot;Berin&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Berin", 
    "msgSnippet": "I agree with your prognosis, about fresh data points for testing the theories.  That is precisely why I proposed reading them once, and cloning them (making a", 
    "msgId": 22452, 
    "rawEmail": "Return-Path: &lt;berin.loritsch@...&gt;\r\nX-Sender: berin.loritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 62753 invoked from network); 18 Feb 2010 23:29:11 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 18 Feb 2010 23:29:11 -0000\r\nX-Received: from unknown (HELO n46b.bullet.mail.sp1.yahoo.com) (66.163.168.160)\n  by mta3.grp.sp2.yahoo.com with SMTP; 18 Feb 2010 23:29:11 -0000\r\nX-Received: from [69.147.65.171] by n46.bullet.mail.sp1.yahoo.com with NNFMP; 18 Feb 2010 23:28:35 -0000\r\nX-Received: from [98.137.34.32] by t13.bullet.mail.sp1.yahoo.com with NNFMP; 18 Feb 2010 23:28:35 -0000\r\nDate: Thu, 18 Feb 2010 23:28:34 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hlkif2+3mte@...&gt;\r\nIn-Reply-To: &lt;58dba2251002180943q238dd8dv11ab48736321e178@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Berin&quot; &lt;berin.loritsch@...&gt;\r\nSubject: Re: @DataPoints called several times for Theories\r\nX-Yahoo-Group-Post: member; u=428096731; y=DpMpUbG8alvgMaBDilVQFm2IlOfGTorF0V0gv87lAq-95HwG\r\nX-Yahoo-Profile: bloritsch\r\n\r\nI agree with your prognosis, about fresh data points for testing the theori=\r\nes.  That is precisely why I proposed reading them once, and cloning them (=\r\nmaking a copy) as needed for each theory.  With that approach we even get t=\r\nhe protection from mutated data points when you use the @DataPoint to mark =\r\na static field.\n\nCloning is a much quicker operation, does not execute any =\r\nconstructors.  It merely copies the contents of the object memory verbatim.=\r\n\n\nWith the current implementation, if you are not prepared for the combinat=\r\norial affect of 60 data points combined with 60 data points for each theory=\r\n there is a major disconnect.  The majority of the overhead in this particu=\r\nlar scenario has to do with creating objects (with the additional overhead =\r\nof doing it by reflection).\n\nWhen I created only one instance of each class=\r\n instead of two, the performance was twice as fast (i.e. 37 seconds down to=\r\n about 16 seconds).\n\nEssentially the number of times your @DataPoints metho=\r\nd is called depends on the number of parameters in your @Theory and how man=\r\ny theories you have.  Essentially the formula for my theory (ha, ha) of the=\r\n execution is like this:\n\nN^(p-1) + 1\n\nwhere:\n\nN is the number of data poin=\r\nts returned by the method\np is the number of parameters\nand the + 1 represe=\r\nnts the run where the data point is read the first time\n\nSo for 60 data poi=\r\nnts it is run 61 times for two parameters.  With three parameters it would =\r\nbe called 3601 times.  I have to verify with three parameters.  The theory =\r\nis called N^p times for sure and that is expected.\n\nWith the above formula,=\r\n the mapping of number of calls to parameters for 60 data points would be:\n=\r\n\n1 -&gt; 2 (I know this is wrong which gives me doubts on the formula)\n2 -&gt; 61=\r\n\n3 -&gt; 3601\n3 -&gt; 216001\n\nEssentially when the Assignments class needs to mak=\r\ne the combinations, it will collect the data points initially for each theo=\r\nry.  It then calls the data points again for each existing data point it co=\r\nllected from the first read.  With a third parameter it would take all thos=\r\ne combinations again, to add all the permutations for the next round.\n\nI mi=\r\nght be wrong and the real formula would be like this:\n\nN^0 + N^1 ... + N^(p=\r\n-1)\n\nIf this is the correct formula, then if you have 60 data points the nu=\r\nmber of times the method is called would map to the number of parameters li=\r\nke this:\n\n1 -&gt; 1\n2 -&gt; 61\n3 -&gt; 3661\n4 -&gt; 219661\n\n--- In junit@...=\r\nm, Brett Daniel &lt;brettdaniel@...&gt; wrote:\n&gt;\n&gt; Berin,\n&gt; \n&gt; When a theory muta=\r\ntes data points, it might be beneficial to recreate\n&gt; the data point for ev=\r\nery theory invocation. Doing so prevents one\n&gt; theory execution from affect=\r\ning others. I wrote about this issue in\n&gt; the following weblog post:\n&gt; \n&gt;  =\r\n http://www.brettdaniel.com/archives/2009/09/24/200845/\n&gt; \n&gt; You are correc=\r\nt, though, that copying would avoid some of the overhead\n&gt; in calling datap=\r\noint methods. It is interesting you mention this idea,\n&gt; because I am curre=\r\nntly overseeing two students who for their senior\n&gt; thesis project are impl=\r\nementing framework for copying datapoints. I\n&gt; will post more information t=\r\no the mailing list as the project\n&gt; continues.\n&gt; \n&gt; Brett\n&gt;\n\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 22425, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "prevInTime": 22451, 
    "contentTrasformed": false, 
    "postDate": "1266535714", 
    "canDelete": false, 
    "nextInTopic": 22540, 
    "prevInTopic": 22449, 
    "headers": {
        "inReplyToHeader": "PDU4ZGJhMjI1MTAwMjE4MDk0M3EyMzhkZDhkdjExYWI0ODczNjMyMWUxNzhAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGhsa2lmMiszbXRlQGVHcm91cHMuY29tPg=="
    }
}