{
    "numMessagesInTopic": 12, 
    "nextInTime": 21277, 
    "senderId": "RMO1mD2P01Vg5ebQJ6VWaaf4ADrnbhubQsGeJ-hoNc-mpVb7hvpadNU66M5ohR_gYZiWBdYB4wtRedwnM8FL_bLm0kxIjwOv1VZ3aoMH4bK3DlG-5H7y5XDrTRK74Ec", 
    "systemMessage": true, 
    "subject": "Re: [junit] JUnit-JPA (Hibernate) - Spring - Struts2 testing howto", 
    "from": "&quot;=?ISO-8859-1?Q?Cenk_=C7ivici?=&quot; &lt;cenk.civici@...&gt;", 
    "authorName": "Cenk Çivici", 
    "msgSnippet": "Hi, What happens when you try to run this in Eclipse ( I am guessing thats what you mean by running alone). Does it fail when it tries to locate the app", 
    "msgId": 21276, 
    "profile": "arkoftime", 
    "topicId": 21269, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 351632862, 
    "messageBody": "<div id=\"ygrps-yiv-1779371861\">Hi,<br/>\n<br/>\nWhat happens when you try to run this in Eclipse ( I am guessing thats<br/>\nwhat you mean by running alone). Does it fail when it tries to locate<br/>\nthe app context? Is app context xml on the classpath? What error do<br/>\nyou see?<br/>\n<br/>\nCheers<br/>\nCenk<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Thu, Jan 8, 2009 at 7:38 PM, Marko Majkic &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:majkic@...\">majkic@...</a>&gt; wrote:<br/>\n&gt; Thanks for the reference. I did something that works, but it works<br/>\n&gt; only when I do &quot;mvn test&quot;. I cannot run test alone.<br/>\n&gt;<br/>\n&gt; I use AbstractJpaTests and those two &quot;preparing&quot; methods:<br/>\n&gt;<br/>\n&gt; ========<br/>\n&gt; package net.beotel.service;<br/>\n&gt;<br/>\n&gt; import java.util.List;<br/>\n&gt;<br/>\n&gt; import javax.persistence.EntityManager;<br/>\n&gt; import javax.persistence.EntityManagerFactory;<br/>\n&gt; import javax.persistence.Persistence;<br/>\n&gt;<br/>\n&gt; import net.beotel.model.Bank;<br/>\n&gt;<br/>\n&gt; import org.springframework.test.jpa.AbstractJpaTests;<br/>\n&gt; import org.springframework.transaction.annotation.Transactional;<br/>\n&gt;<br/>\n&gt; public class BankServiceTest extends AbstractJpaTests {<br/>\n&gt;<br/>\n&gt; private BankServiceImpl bankService = new BankServiceImpl() ;<br/>\n&gt;<br/>\n&gt; private static EntityManagerFactory emf;<br/>\n&gt; private static EntityManager em;<br/>\n&gt;<br/>\n&gt; public void onSetUp(){<br/>\n&gt; emf = Persistence.createEntityManagerFactory(&quot;testing1&quot;);<br/>\n&gt; em = emf.createEntityManager();<br/>\n&gt; em.getTransaction().begin();<br/>\n&gt; bankService.setEntityManager(em);<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; public void onTearDown(){<br/>\n&gt; em.getTransaction().commit();<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; public BankService getBankService() {<br/>\n&gt; return bankService;<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; public BankServiceTest() {<br/>\n&gt; super();<br/>\n&gt; }<br/>\n&gt; protected String[] getConfigLocations() {<br/>\n&gt; return new String[] {<br/>\n&gt; &quot;classpath:applicationContext-test.xml&quot;,<br/>\n&gt; };<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; @Transactional<br/>\n&gt; public void testAll() throws Exception {<br/>\n&gt; List&lt;Bank&gt; banks = bankService.findAll();<br/>\n&gt; int initialCount = banks.size();<br/>\n&gt; Bank bank= new Bank();<br/>\n&gt; bank.setName(&quot;OTP&quot;);<br/>\n&gt; bankService.save(bank);<br/>\n&gt; assertNotNull(bank.getId());<br/>\n&gt;<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; ========<br/>\n&gt;<br/>\n&gt; Is there any way to run this test alone? Do I have to include<br/>\n&gt; &quot;applicationContext-test.xml&quot; (from the src/test/resources) explicitly<br/>\n&gt; in the code? I don&#39;t have to do this with my application (include<br/>\n&gt; applicationContext.xml from the web.xml). Do I have to include<br/>\n&gt; explcitly persistence-unit?<br/>\n&gt;<br/>\n&gt; At last, is there any working example (simple) testing some service<br/>\n&gt; (dao) using JPA? Thanks.<br/>\n&gt;<br/>\n&gt; On Wed, Jan 7, 2009 at 8:58 PM, Cenk Çivici &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:cenk.civici@...\">cenk.civici@...</a>&gt; wrote:<br/>\n&gt;&gt; Hi,<br/>\n&gt;&gt;<br/>\n&gt;&gt; Have you looked at Spring integration testing support?<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://static.springframework.org/spring/docs/2.5.x/reference/testing.html#testcontext-framework\">http://static.springframework.org/spring/docs/2.5.x/reference/testing.html#testcontext-framework</a><br/>\n&gt;&gt;<br/>\n&gt;&gt; Spring TestContext lets you load an app context, configure<br/>\n&gt;&gt; transactions per fixture/method etc.<br/>\n&gt;&gt;<br/>\n&gt;&gt; Cheers<br/>\n&gt;&gt; Cenk Çivici<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Wed, Jan 7, 2009 at 1:39 AM, <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:majkic@...\">majkic@...</a> &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:majkic@...\">majkic@...</a>&gt; wrote:<br/>\n&gt;&gt;&gt; Hi guys,<br/>\n&gt;&gt;&gt; I&#39;m new in the group and I couldn&#39;t find anything on testing<br/>\n&gt;&gt;&gt; combination in the title.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; I have applicationContext.xml where EntityManagerFactory is<br/>\n&gt;&gt;&gt; configured. Model classes are mapped using Annotations. My service<br/>\n&gt;&gt;&gt; classes (DAO - for example BankImpl) implements interfaces (for<br/>\n&gt;&gt;&gt; example Bank). Methods from these implementation are called in Struts2<br/>\n&gt;&gt;&gt; action classes (injected).<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; How can I configure my tests to be runnable as single tests and as<br/>\n&gt;&gt;&gt; Maven2 tests? Is there any simple example - tutorial? Should I have<br/>\n&gt;&gt;&gt; separate applicationContext-test.xml?<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21275, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1231458543", 
    "canDelete": false, 
    "nextInTopic": 21277, 
    "prevInTopic": 21275, 
    "headers": {
        "inReplyToHeader": "PGMzNWM5MGUwMDkwMTA4MDkzOHI1NWNiZTY1Ymw5M2FlOTEzNTU2Yjc1OWY4QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDEzY2NkYjVmMDkwMTA4MTU0OWkxYzU1ZWEzZXcxYTIxNjgxZWE5ZTQ0YjdAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGdrMHE0MCtpaGxxQGVHcm91cHMuY29tPgkgPDEzY2NkYjVmMDkwMTA3MTE1OG8xZTQzNTdkZnAzZTZhZjllMTIzYTg0YmU1QG1haWwuZ21haWwuY29tPgkgPGMzNWM5MGUwMDkwMTA4MDkzOHI1NWNiZTY1Ymw5M2FlOTEzNTU2Yjc1OWY4QG1haWwuZ21haWwuY29tPg=="
    }
}