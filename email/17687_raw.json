{
    "numMessagesInTopic": 287, 
    "nextInTime": 17688, 
    "senderId": "SVkWb2nyUOTG_U_rKlX_7wAgpVT-l7AA3Hka9FzfwuJCj4Mjzn7J2D8Zy_R8fHphBoXOrBLC6QoK7tNknnGKQ2pUKL7g4o6J0w5LF7qs4px3Cg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Test-friendly, but not caller-friendly?", 
    "from": "Michael Feathers &lt;mfeathers@...&gt;", 
    "authorName": "Michael Feathers", 
    "msgSnippet": "... Yes, C++.  We couldn t introduce mocks for testing. ... Nope.  We wrapped it.  Yes, we had system tests, but in order to test our logic independently, we", 
    "msgId": 17687, 
    "rawEmail": "Return-Path: &lt;mfeathers@...&gt;\r\nX-Sender: mfeathers@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 5452 invoked from network); 29 Aug 2006 13:04:24 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m41.grp.scd.yahoo.com with QMQP; 29 Aug 2006 13:04:24 -0000\r\nReceived: from unknown (HELO s-utl01-sjpop.stsn.net) (72.254.0.201)\n  by mta2.grp.scd.yahoo.com with SMTP; 29 Aug 2006 13:04:24 -0000\r\nReceived: from s-utl01-sjpop.stsn.net ([127.0.0.1])\n by s-utl01-sjpop.stsn.net (SMSSMTP 4.1.2.20) with SMTP id M2006082906035902197\n for &lt;junit@yahoogroups.com&gt;; Tue, 29 Aug 2006 06:03:59 -0700\r\nX-Spam-Status: No, hits=0.0 required=9.9\n\ttests=ALL_TRUSTED: -2.867,AWL: 0.554,BAYES_00: -1.665\r\nX-Spam-Level: \r\nReceived: from [10.77.215.90] ([10.77.215.90])\n\tby s-utl01-sjpop.stsn.net\n\tfor junit@yahoogroups.com;\n\tTue, 29 Aug 2006 06:03:58 -0700\r\nMessage-ID: &lt;44F43B33.8020403@...&gt;\r\nDate: Tue, 29 Aug 2006 09:03:47 -0400\r\nUser-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;3FB08D6A21B3EC4D8749EF6D9E62627856F7EF@...&gt; &lt;44E332C4.3090305@...&gt; &lt;44E444AD.4010700@...&gt; &lt;44F3475D.3010907@...&gt; &lt;44F43115.3070900@...&gt; &lt;44F437F2.4080605@...&gt;\r\nIn-Reply-To: &lt;44F437F2.4080605@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Feathers &lt;mfeathers@...&gt;\r\nReply-To: mfeathers@...\r\nSubject: Re: [junit] Test-friendly, but not caller-friendly?\r\nX-Yahoo-Group-Post: member; u=78021826; y=3884RhGkv1bk3IxjwOkL0iL3ki1KSFQB-XQ_Rd4xYiM7wrYsG0PR\r\nX-Yahoo-Profile: mfeathers256\r\n\r\nElliotte Harold wrote:\n\n&gt;Michael Feathers wrote:\n&gt;\n&gt;  \n&gt;\n&gt;&gt;Sure, I once worked on a system for instrument automation.  The library \n&gt;&gt;supplied by the vendor presented an API that contained only non-virtual \n&gt;&gt;functions.  The code that used the library could not be tested because \n&gt;&gt;there was no way to make sure that it was making the right calls. \n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;You&#39;re going to have to elaborate on that case. I don&#39;t doubt you had a \n&gt;problem, but I don&#39;t understand what it was. How do non-virtual \n&gt;functions imply that you couldn&#39;t tell  if it was making the right \n&gt;calls? You say &quot;non-virtual&quot;. Was this a C++ library?\n&gt;  \n&gt;\nYes, C++.  We couldn&#39;t introduce mocks for testing.\n\n&gt;  \n&gt;\n&gt;&gt; I used a DOM parsing \n&gt;&gt;library a few months ago which, by all appearances, didn&#39;t let you \n&gt;&gt;create a document in memory.  You had to either point it to a URL or the \n&gt;&gt;disk.  So, to write tests that could otherwise easily be written in \n&gt;&gt;memory, you needed either a server or a scattering of files on disk.\n&gt;&gt;\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;That seems OK to me. If the library doesn&#39;t need a means of creating \n&gt;documents in memory for its own purposes, then it shouldn&#39;t add those \n&gt;just for testing. Had it done so, you would have used those functions. \n&gt;However, because it didn&#39;t you tested the code in a more realistic \n&gt;fashion that is more likely to expose bugs. That&#39;s a good thing.\n&gt;  \n&gt;\nNope.  We wrapped it.  Yes, we had system tests, but in order to test \nour logic independently, we pretty much had to wrap it.\n\n&gt;Now if the library had a legitimate need to create documents in memory \n&gt;for reasons other than testing, then I would add such functions. However \n&gt;I wouldn&#39;t do it just for testing.\n&gt;  \n&gt;\nThe fact is, testing is a legitmate need.  Designing for testability is \nsimply good engineering.\n\nMichael Feathers\nwww.objectmentor.com\n\n\n\n", 
    "profile": "mfeathers256", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 78021826, 
    "prevInTime": 17686, 
    "contentTrasformed": false, 
    "postDate": "1156856627", 
    "canDelete": false, 
    "nextInTopic": 17690, 
    "prevInTopic": 17686, 
    "headers": {
        "inReplyToHeader": "PDQ0RjQzN0YyLjQwODA2MDVAbWV0YWxhYi51bmMuZWR1Pg==", 
        "messageIdInHeader": "PDQ0RjQzQjMzLjgwMjA0MDNAbWluZHNwcmluZy5jb20+", 
        "referencesHeader": "PDNGQjA4RDZBMjFCM0VDNEQ4NzQ5RUY2RDlFNjI2Mjc4NTZGN0VGQFdEQ0NQTUFJTDAxLm1hcmtldHRvb2xzLmNvbT4gPDQ0RTMzMkM0LjMwOTAzMDVAbWV0YWxhYi51bmMuZWR1PiA8NDRFNDQ0QUQuNDAxMDcwMEBtaW5kc3ByaW5nLmNvbT4gPDQ0RjM0NzVELjMwMTA5MDdAbWV0YWxhYi51bmMuZWR1PiA8NDRGNDMxMTUuMzA3MDkwMEBtaW5kc3ByaW5nLmNvbT4gPDQ0RjQzN0YyLjQwODA2MDVAbWV0YWxhYi51bmMuZWR1Pg=="
    }
}