{
    "numMessagesInTopic": 4, 
    "nextInTime": 15699, 
    "senderId": "CPYIrOMZyYwSxGeqrPIY48ysN0ZDKhRE0BhV-5YFs5YFY6wHvrzW0kSbM-76XiZb2nOs-UEjMev0iRRXvPmYz6jq6fOaXwqsxUGjqLkffOy6b6L2lA", 
    "systemMessage": false, 
    "subject": "Class.getClassLoader().getResourceAsStream() fails in GUI test runners?", 
    "from": "jason r tibbetts &lt;tibbettj@...&gt;", 
    "authorName": "jason r tibbetts", 
    "msgSnippet": "I m trying to test a class that loads a properties file in a special way. Because this class can be used in servlets (where ", 
    "msgId": 15698, 
    "rawEmail": "Return-Path: &lt;tibbettj@...&gt;\r\nX-Sender: tibbettj@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 52418 invoked from network); 15 Dec 2005 15:10:47 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m31.grp.scd.yahoo.com with QMQP; 15 Dec 2005 15:10:47 -0000\r\nReceived: from unknown (HELO mailhost2.sra.com) (163.252.31.55)\n  by mta5.grp.scd.yahoo.com with SMTP; 15 Dec 2005 15:10:47 -0000\r\nReceived: from verdi.iisd.sra.com ([163.252.29.9]) by mailhost2.sra.com with Microsoft SMTPSVC(6.0.3790.211);\n\t Thu, 15 Dec 2005 10:10:37 -0500\r\nReceived: from [163.252.3.3] (exaiphnes [163.252.3.3])\n\tby verdi.iisd.sra.com (8.9.3p2/8.9.3) with ESMTP id KAA23444\n\tfor &lt;junit@yahoogroups.com&gt;; Thu, 15 Dec 2005 10:10:35 -0500 (EST)\r\nMessage-ID: &lt;43A1876A.1050603@...&gt;\r\nDate: Thu, 15 Dec 2005 10:10:34 -0500\r\nUser-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.7) Gecko/20040517\r\nX-Accept-Language: en-US, en, ja, ko\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: tibbettj@...\r\nX-OriginalArrivalTime: 15 Dec 2005 15:10:37.0352 (UTC) FILETIME=[B449CA80:01C60189]\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: jason r tibbetts &lt;tibbettj@...&gt;\r\nReply-To: tibbettj@...\r\nSubject: Class.getClassLoader().getResourceAsStream() fails in GUI test runners?\r\nX-Yahoo-Group-Post: member; u=224061497; y=pCwNmAihfBeDz7iSHuK-PI8FnTJKrL1wPYzKnD_tugpVvJg-KCJQhWiV7CadvqvmdJrD0A\r\nX-Yahoo-Profile: tibbettj_at_verdi_sra_com\r\n\r\nI&#39;m trying to test a class that loads a properties file in a special \nway. Because this class can be used in servlets (where \nthis.getClass().getResourceAsStream() doesn&#39;t work, because of \nclassloader issues) as well as in ordinary contexts, it takes a Class \nargument in its constructor. This Class&#39;s class loader is used to get \nthe resource, as in\n\n   public Foo(Class cls, String propFilePath) {\n     ClassLoader loader = cls.getClassLoader();\n     InputStream in = loader.getResourceAsStream(propFilePath);\n   }\n\nIt&#39;s usually sufficient for the caller to simply pass in \nthis.getClass(). It&#39;s sufficient enough for the TestCase that tests it, \nanyway, /except/ when the test is run in the GUI TestRunner, or in code \ncoverage tools like jcoverage and EMMA. In all three cases, the tests \nfail because the loader.getResourceAsStream() call returns null. The \nTestCase&#39;s setUp() constructs the Foo by passing in the TestCase&#39;s own \nclass, as in:\n\n   foo = new Foo(this.getClass(), &quot;some/path&quot;);\n\nOther tests that load properties (in the usual way, via \nthis.getClass.getResourceAsStream()) work just fine in all scenarios.\n\nI&#39;ve read the JUnit FAQ, mailing list archives, J.B.&#39;s book, the \njcoverage and EMMA docs, etc., all to no avail. I know that the JUnit \nGUI test runners do use a custom classloader, but the custom \nfunctionality in that classloader don&#39;t appear to be relevant here. Nor \ndo I want to add Foo&#39;s package to the excluded.properties, because \nthat&#39;s a package that I&#39;m actively testing.\n\n", 
    "profile": "tibbettj_at_verdi_sra_com", 
    "topicId": 15698, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 224061497, 
    "prevInTime": 15697, 
    "contentTrasformed": false, 
    "postDate": "1134659434", 
    "canDelete": false, 
    "nextInTopic": 15703, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDQzQTE4NzZBLjEwNTA2MDNAdmVyZGkuaWlzZC5zcmEuY29tPg=="
    }
}