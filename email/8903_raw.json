{
    "numMessagesInTopic": 30, 
    "nextInTime": 8904, 
    "senderId": "uTje6GXGmsLJYAfV7sO62kvmpGBM_7wphXJYqzA6w9u-A23lMf5Rrs8pTzV2vGbH4nO_0MtYd6VnusaJIrhuHzivVO_YCGYFnvArDIyn6g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: How to test console output?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Please Google Kent Beck Smalltalk testing and read the article Kent wrote that introduced the first xUnit platform for Smalltalk. Don t worry too much", 
    "msgId": 8903, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 44086 invoked from network); 1 Aug 2003 00:27:20 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m8.grp.scd.yahoo.com with QMQP; 1 Aug 2003 00:27:20 -0000\r\nReceived: from unknown (HELO fep01-mail.bloor.is.net.cable.rogers.com) (66.185.86.71)\n  by mta2.grp.scd.yahoo.com with SMTP; 1 Aug 2003 00:27:20 -0000\r\nReceived: from barney ([24.156.43.226])\n          by fep01-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030801002636.WBMT268566.fep01-mail.bloor.is.net.cable.rogers.com@barney&gt;\n          for &lt;junit@yahoogroups.com&gt;; Thu, 31 Jul 2003 20:26:36 -0400\r\nMessage-ID: &lt;200308012027140592.02BF28B8@...&gt;\r\nIn-Reply-To: &lt;bgblah+ee5a@...&gt;\r\nReferences: &lt;bgblah+ee5a@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Fri, 01 Aug 2003 20:27:14 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Re: How to test console output?\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep01-mail.bloor.is.net.cable.rogers.com from [24.156.43.226] using ID &lt;jbrains@...&gt; at Thu, 31 Jul 2003 20:26:36 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\n\n&gt;So said jxingtang on 2003-07-31 --------------------\n&gt;--- In junit@yahoog=\r\nroups.com, &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; \n&gt;wrote:\n&gt;&gt; \n&gt;&gt; &gt;So said jxin=\r\ngtang on 2003-07-30 --------------------\n&gt;&gt; &gt;&gt; &gt;A further question for Stri=\r\nngWriter manipulation. Since I have \n&gt;to \n&gt;&gt; &gt;&gt; &gt;test several methods with =\r\nconsole output which share the same \n&gt;&gt; &gt;&gt; &gt;StringWriter wrapped in the Pri=\r\nnterWriter. The problem is how \n&gt;to \n&gt;&gt; &gt;&gt; &gt;clean up the buffer after one t=\r\nest case. flush() method seems \n&gt;not \n&gt;&gt; &gt;&gt; &gt;work as expected.  \n&gt;&gt; &gt;&gt; \n&gt;&gt; =\r\n&gt;&gt; Why do you have to share the same StringWriter for each test? \n&gt;Just \n&gt;&gt;=\r\n &gt;create a new one.\n&gt;&gt; \n&gt;&gt; &gt;I have found a way to solve the problem. I call=\r\ns the getBuffer()to \n&gt;&gt; &gt;get the string buffer from the StringWriter and de=\r\nlete its content.\n&gt;&gt; &gt;\n&gt;&gt; &gt;The reason for me to share the StringWriter is t=\r\nhat I do not want \n&gt;to \n&gt;&gt; &gt;construct a new class instance being tested for=\r\n each method. I \n&gt;only \n&gt;&gt; &gt;construct on in setUp(). Here are of my code sn=\r\nippets.\n&gt;&gt; \n&gt;&gt; I have news for you: setUp() is called for each test. You ar=\r\ne \n&gt;creating the extra StringWriter every time, anyway.\n&gt;&gt; \n&gt;&gt; Don&#39;t worry =\r\nabout it. These aren&#39;t performance tests. Just create a \n&gt;new one each time=\r\n.\n&gt;&gt; \n&gt;&gt; &gt;public class MyClass\n&gt;&gt; &gt;{\n&gt;&gt; &gt;    private PrintWriter MyWriter;\n=\r\n&gt;&gt; &gt;      \n&gt;&gt; &gt;    // Constructor for production release\n&gt;&gt; &gt;    public MyC=\r\nlass()\n&gt;&gt; &gt;    {\n&gt;&gt; &gt;        MyWriter =3D new PrintWriter( System.out );\n&gt;&gt;=\r\n &gt;    }\n&gt;&gt; &gt;\n&gt;&gt; &gt;    // Constructor for Junit testing      \n&gt;&gt; &gt;    public =\r\nMyClass( PrintWriter pw )\n&gt;&gt; &gt;    {\n&gt;&gt; &gt;        MyWriter =3D pw;\n&gt;&gt; &gt;    }\n=\r\n&gt;&gt; &gt;\n&gt;&gt; &gt;    public void DumpOutput( Vector params )\n&gt;&gt; &gt;    {\n&gt;&gt; &gt;       /=\r\n/ Clip ...\n&gt;&gt; &gt;    }\n&gt;&gt; &gt;};\n&gt;&gt; &gt;\n&gt;&gt; &gt;public class MyClassTest extends TestC=\r\nase\n&gt;&gt; &gt;{\n&gt;&gt; &gt;    private MyClass MyTestObj =3D null;\n&gt;&gt; &gt;\n&gt;&gt; &gt;    private =\r\nStringWriter StrWriter =3D null;\n&gt;&gt; &gt;\n&gt;&gt; &gt;    // Clip ...\n&gt;&gt; &gt;\n&gt;&gt; &gt;    prot=\r\nected void setUp()\n&gt;&gt; &gt;    {\n&gt;&gt; &gt;        StrWriter =3D new StringWriter();\n=\r\n&gt;&gt; &gt;      PrintWriter prWriter =3D new PrintWriter( StrWriter );\n&gt;&gt; &gt;      =\r\nTestObj =3D new MyClass( prWriter );\n&gt;&gt; &gt;    }\n&gt;&gt; &gt;\n&gt;&gt; &gt;    public DumpOutp=\r\nutTest()\n&gt;&gt; &gt;    {\n&gt;&gt; &gt;        Vector testParams =3D new Vector();\n&gt;&gt; &gt;    =\r\n    // Testcase 1\n&gt;&gt; &gt;        testParams.addElement( &quot;A&quot; );\n&gt;&gt; &gt;        tes=\r\ntParams.addElement( &quot;B&quot; );\n&gt;&gt; &gt;        testParams.addElement( &quot;C&quot; );\n&gt;&gt; &gt;  =\r\n      \n&gt;&gt; &gt;        TestObj.DumpOutput( testParams );\n&gt;&gt; &gt;\n&gt;&gt; &gt;        Strin=\r\ng outStr =3D StrWriter.toString();\n&gt;&gt; &gt;        \n&gt;&gt; &gt;        // Code to eval=\r\nuate outStr\n&gt;&gt; &gt;        // Clip ....  \n&gt;&gt; &gt;        \n&gt;&gt; &gt;        // Clean bu=\r\nffer of StringWriter\n&gt;&gt; &gt;        StringBuffer sbuff =3D StrWriter.getBuffer=\r\n();\n&gt;&gt; &gt;        sbuff.delete( 0, outStr.length());\n&gt;&gt; &gt;\n&gt;&gt; &gt;        // Test=\r\ncase 2 \n&gt;&gt; &gt;        testParams.addElement( &quot;X&quot; );\n&gt;&gt; &gt;        testParams.ad=\r\ndElement( &quot;Y&quot; );\n&gt;&gt; &gt;        testParams.addElement( &quot;Z&quot; );\n&gt;&gt; &gt;        \n&gt;&gt; =\r\n&gt;        TestObj.DumpOutput( testParams );\n&gt;&gt; &gt;\n&gt;&gt; &gt;        String outStr =\r\n=3D StrWriter.toString();\n&gt;&gt; &gt;        \n&gt;&gt; &gt;        // Code to evaluate outS=\r\ntr\n&gt;&gt; &gt;        // Clip ....  \n&gt;&gt; &gt;     }\n&gt;&gt; &gt;\n&gt;&gt; &gt;     // Clip ...\n&gt;&gt; &gt;};\n&gt;=\r\n&gt; &gt;\n&gt;&gt; &gt;Please give your valuable comments for my further correction and \n&gt;=\r\n&gt; &gt;improvements.\n&gt;&gt; \n&gt;&gt; Why are you writing multiple tests in a single meth=\r\nod? Each test \n&gt;should be its own method. You defeat the point of JUnit by =\r\nusing it \n&gt;this way.\n&gt;&gt; \n&gt;\n&gt;Well, I use Eclipse with JUB plugin to automati=\r\ncally generate Junit \n&gt;test class. For each method being tested, only one c=\r\norresponding \n&gt;method in the test class will be generated. However, for eac=\r\nh method \n&gt;being tested, there are quite a few test cases. Do I need to cre=\r\nate a \n&gt;new test method for each test case? Given the above code snippet as=\r\n \n&gt;example, do I need to separate DumpOutputTest into DumpOuputTestOne() \n&gt;=\r\nand DumpOutputTestTwo()? \n\nPlease Google &quot;Kent Beck Smalltalk testing&quot; and =\r\nread the article Kent wrote that introduced the first xUnit platform for Sm=\r\nalltalk. Don&#39;t worry too much about the code being in Smalltalk; just read =\r\nthe text.\n\nEach test executes in a separate instance of TestCase. JUnit pro=\r\nvides an easy way to automatically create these isolated instances of TestC=\r\nase if you:\n\n* Write each test in a separate method, and\n* Name each test m=\r\nethod starting with the characters &#39;test&#39; (example: testDumpOutput)\n\nIf you=\r\n have multiple cases for a given method, I recommend starting by naming the=\r\n methods this way:\n\n    testMethodName_SpecialCase()\n\nDon&#39;t just name them =\r\n&quot;one&quot;, &quot;two&quot;, and so on... name the special cases so that the names of the =\r\ntests make sense to you months from now when you read the code again.\n\nGood=\r\n luck.\n\n&gt;Thanks a lot for your further comments!\n\nYou are most welcome.\n\n\nJ=\r\n. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s write software=\r\n that people understand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416 =\r\n791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 8734, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 8902, 
    "contentTrasformed": false, 
    "postDate": "1059784034", 
    "canDelete": false, 
    "nextInTopic": 8907, 
    "prevInTopic": 8898, 
    "headers": {
        "inReplyToHeader": "PGJnYmxhaCtlZTVhQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwODAxMjAyNzE0MDU5Mi4wMkJGMjhCOEBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGJnYmxhaCtlZTVhQGVHcm91cHMuY29tPg=="
    }
}