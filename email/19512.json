{
    "numMessagesInTopic": 5, 
    "nextInTime": 19513, 
    "senderId": "Em4q66Umc3NkgCvsxo6DfDXrFp1OVgfqB4AIHco6Pam2PUruwpGl2T0BUUzL8BYCCOvvitqsqYB7lb_vw5avmCACehSVpYhjtjmbhV4", 
    "systemMessage": true, 
    "subject": "Re: should new Integer(1) equal new Long(1)", 
    "from": "&quot;minime_211&quot; &lt;timothyl@...&gt;", 
    "authorName": "minime_211", 
    "msgSnippet": "Hello, I think David was saying B *should* fail, but is passing at the moment. But I agree with vaughnbutt that we shouldn t be fixing java.lang in junit. ", 
    "msgId": 19512, 
    "profile": "minime_211", 
    "topicId": 19509, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 307991300, 
    "messageBody": "<div id=\"ygrps-yiv-2101548691\">Hello,<br/>\n<br/>\nI think David was saying B *should* fail, but is passing at the moment.<br/>\n<br/>\nBut I agree with vaughnbutt that we shouldn&#39;t be fixing java.lang in<br/>\njunit.<br/>\n<br/>\nMaybe some junit addon could help this by having assertValueEqual() or<br/>\nsome sort...<br/>\n<br/>\nMy 2 cents...<br/>\n<br/>\nTimothy Wonil Lee<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;vaughnbutt&quot; &lt;vaughnbutt@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; I&#39;m glad B will fail as it should.<br/>\n&gt; <br/>\n&gt; To me, the principle least surprise means that when o1 and o2 are not<br/>\n&gt; null (regardless of their type) then<br/>\n&gt; <br/>\n&gt; assertEquals(o1, o2)<br/>\n&gt; <br/>\n&gt; should have the same result as<br/>\n&gt; <br/>\n&gt; assertTrue(o1.equals(o2))<br/>\n&gt; <br/>\n&gt; If that means that A fails then so be it.<br/>\n&gt; <br/>\n&gt; Having said that, I am a bit surprised that Integer.equals only<br/>\n&gt; &quot;likes&quot; other Integers (and not Longs for example).  But we shouldn&#39;t<br/>\n&gt; be fixing java.lang in junit.<br/>\n&gt; <br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;David Saff&quot; &lt;saff@&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; All,<br/>\n&gt; &gt; <br/>\n&gt; &gt; Kent and I continue to try to fine-tune equality to produce the least<br/>\n&gt; &gt; surprise, and continue to wonder if well enough should have been left<br/>\n&gt; &gt; alone.  In 4.3, we introduced some run-time math magic to make up for<br/>\n&gt; &gt; the lack of type-expansion once we had removed most of the primitive<br/>\n&gt; &gt; type assertEquals methods.  Thus, it became the case, somewhat<br/>\n&gt; &gt; accidentally, that this would pass:<br/>\n&gt; &gt; <br/>\n&gt; &gt; assertEquals(new Integer(1), new Long(1));  // A<br/>\n&gt; &gt; <br/>\n&gt; &gt; However, it simultaneously became the case that this would also pass:<br/>\n&gt; &gt; <br/>\n&gt; &gt; assertEquals(new BigDecimal(&quot;1.0&quot;), new BigDecimal(&quot;1.1&quot;));  // B<br/>\n&gt; &gt; <br/>\n&gt; &gt; Line B should certainly fail.  The simplest thing to do is to remove<br/>\n&gt; &gt; our math magic, introduce assertEquals(long, long), etc, and let<br/>\n&gt; &gt; numerical classes define their own equality.  This means that line A<br/>\n&gt; &gt; will now fail, since that&#39;s how Integer.equals() is defined.  This is<br/>\n&gt; &gt; a small behavior change, but a &quot;regression&quot; of sorts.<br/>\n&gt; &gt; <br/>\n&gt; &gt; If anyone believes this is a damaging decision, please let me know.<br/>\n&gt; &gt; <br/>\n&gt; &gt;    David Saff<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19511, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1183097250", 
    "canDelete": false, 
    "nextInTopic": 19514, 
    "prevInTopic": 19510, 
    "headers": {
        "inReplyToHeader": "PGY2MjBtcyttZjg3QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGY2MjdqMitoam51QGVHcm91cHMuY29tPg=="
    }
}