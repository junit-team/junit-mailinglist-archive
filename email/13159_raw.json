{
    "numMessagesInTopic": 6, 
    "nextInTime": 13160, 
    "senderId": "JjF2scxey36fFIS_xbJYNo1R61GeyveOXTOGiNxFzAijl21yq8CIBQ0990QIJdBNOf1QplE-2Vat7-M_RVTiehgiInK16y9OWOMnzQ", 
    "systemMessage": false, 
    "subject": "Re: Testing DAOs?", 
    "from": "&quot;haefeleuser&quot; &lt;haefeleuser@...&gt;", 
    "authorName": "haefeleuser", 
    "msgSnippet": "The application we write is an ERP software, so it is a little bit different than other applications. ... The data validation rules (ArticleRules.java) look", 
    "msgId": 13159, 
    "rawEmail": "Return-Path: &lt;haefeleuser@...&gt;\r\nX-Sender: haefeleuser@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 57794 invoked from network); 24 Mar 2005 23:25:41 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m21.grp.scd.yahoo.com with QMQP; 24 Mar 2005 23:25:41 -0000\r\nReceived: from unknown (HELO n13a.bulk.scd.yahoo.com) (66.94.237.24)\n  by mta1.grp.scd.yahoo.com with SMTP; 24 Mar 2005 23:25:41 -0000\r\nDomainKey-Signature: \r\nReceived: from [66.218.69.1] by n13.bulk.scd.yahoo.com with NNFMP; 24 Mar 2005 23:25:33 -0000\r\nReceived: from [66.218.66.74] by mailer1.bulk.scd.yahoo.com with NNFMP; 24 Mar 2005 23:25:33 -0000\r\nDate: Thu, 24 Mar 2005 23:25:30 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;d1vi9a+qpn3@...&gt;\r\nIn-Reply-To: &lt;4242EE46.6070700@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3524\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;haefeleuser&quot; &lt;haefeleuser@...&gt;\r\nSubject: Re: Testing DAOs?\r\nX-Yahoo-Group-Post: member; u=174752849\r\nX-Yahoo-Profile: haefeleuser\r\n\r\n\nThe application we write is an ERP software, so it is a little bit\ndifferent than other applications.\n\n&gt;&gt;What does it mean to test these validation rules? Pretend you could\n&gt;&gt;do\n&gt;&gt;it easily; what would the test look like? This will help me\n&gt;&gt;understand\n&gt;&gt;enough to respond.\n\nThe data validation rules (ArticleRules.java) look like this for\nexample (builder pattern):\n\n// id\nbuilder.beginAspect(&quot;id&quot;); // &quot;aspect&quot; means attribute\n  builder.notNull(); // means mandatory\n  builder.maxLength(14);\n  builder.ruleUnique(&quot;id&quot;, ArticleProvider.class);\nbuilder.endAspect();\n\npublic void testIdValidation()\n{\n  // A &quot;made&quot; Article is not yet persisted\n  Article madeArticle = articleData.makeCompleteArticle();\n  // Convenience method:\n  checkNotNullValidation(&quot;id&quot;, madeArticle);\n  // Convenience method:\n  checkMaxLengthValidation(14, &quot;id&quot;, madeArticle);\n  // Persist an Article which has the same ID as madeArticle:\n  articleData.createCompleteArticle();\n  checkValidation(madeArticle, false, &quot;Validating unique id&quot;);\n}\n  \nLets describe how the convenience methods in the superclass work by\nusing checkMaxLengthValidation method:\n- calls setId(14) with reflection\n- validates Article and expects that there is no validation failure\nfor &quot;id&quot;\n- calls setId(15) with reflection\n- validates Article and expects that there is validation failure for &quot;id&quot;\n\n&gt;&gt; I generally need to know whether the implementation of the finder\n&gt;&gt; returns the proper result set, so yes.\n\nYou wrote that in your book. I didn&#39;t read it at the time I wrote this\nquestion. A great book by the way!\n\n&gt; - Do you test pre-initializations of business objects\n&gt; instances (like Article, Customer...)?\n\n&gt;&gt; Can you say this differently? I don&#39;t understand it as is.\n\nSomething like this:\n\npublic void testInitializationWithDefaultValues()\n{\n  CountryFactory factory = countryManager.getCountryFactory();\n  Country newCountry = factory.getNewCountryInstance();\n  assertTrue(&quot;Country.isActivated&quot;, newCountry.getIsActivated());\n  assertFalse(&quot;Country.isMemberOfEu&quot;, newCountry.getIsMemberOfEu());\n}\n  \nWhat do you say about the tests? Are they okay or too much testing?\n\nNext comes a test where I need your advise: Is it too much to test it\nor not?\n\n&quot;CountryManager&quot; contains methods for creating, updating and deleting\nan entity.\n&quot;CountryProvider&quot; contains methods for finding an entity.\n\nThe managers and providers are generated, same as the test below.\nHowever, the test needs to be completed manually.\n\npublic void testCreateUpdateDelete()\n{\n  // Create-test:\n  Country createdCountry = countryData.createCompleteCountry();\n  assertFalse(&quot;Country.isNew&quot;, createdCountry.isNew());\n  // TODO If the entity contains other entities, test if the relations\nhave been set.\n  // Use assertNotNull(...) for One:One relations.\n  // Use assertEquals(...) for One:Many relations.\n\n  // Update-test:\n  // TODO Modify an attribute.\n  Country updatedCountry = countryManager.updateCountry(createdCountry);\n  // TODO Expect that the update succeeded.\n  assertEquals(&quot;Country.yourAttribute&quot;,\ncreatedCountry.getYourAttribute(), updatedCountry.getYourAttribute());\n     \n  // Delete-test:\n  countryManager.deleteCountry(updatedCountry);\n  try\n  {\n      countryProvider.getCountryByKey(updatedCountry.getKey());\n      fail(&quot;Country has not been deleted successfully&quot;);\n  }\n  catch(NoObjectFoundException e)\n  {\n      // Its okay. We expect that the deleted entity cannot be found\nanymore.\n  }\n  // TODO If full cascade, test that child entities have been deleted.\n}\n\nToo much or okay?\n\n\n\n\n", 
    "profile": "haefeleuser", 
    "topicId": 13132, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 174752849, 
    "prevInTime": 13158, 
    "contentTrasformed": false, 
    "postDate": "1111706730", 
    "canDelete": false, 
    "nextInTopic": 13184, 
    "prevInTopic": 13153, 
    "headers": {
        "inReplyToHeader": "PDQyNDJFRTQ2LjYwNzA3MDBAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PGQxdmk5YStxcG4zQGVHcm91cHMuY29tPg=="
    }
}