{
    "numMessagesInTopic": 4, 
    "nextInTime": 23344, 
    "senderId": "rO_VhN-w7xBhJkg5Sh8MADY1zWdMEfRQijN5w7j6AxT5ROi0hjq8r4rzYydCG_QDK0gBUNH4nu1OooEM16e0D6HfliWAUJqmSa12ni94_rZkPw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unit Testing with Spring", 
    "from": "Joakim Ohlrogge &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "In one project we were using lots of batches from oracle to MySQL. By the nature of batching there were some DB-specific SQL going on, especially when it comes", 
    "msgId": 23343, 
    "profile": "j0hlrogge", 
    "topicId": 23340, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "messageBody": "<div id=\"ygrps-yiv-1003152321\">In one project we were using lots of batches from oracle to MySQL. By the<br/>\nnature of batching there were some DB-specific SQL going on, especially when<br/>\nit comes to &quot;insert or update&quot; logic in combination with jdbc-batch. The SQL<br/>\nwas sort of the main part of the logic in this application so not testing it<br/>\nwas not an option. Our solution here was to use DB deploy to update the<br/>\nschema to the latest version as part of the test run and run all tests<br/>\nwithin a transaction. Running &quot;full integration&quot; within transactions.<br/>\nRunning within a transaction that was rolled back after the test was fairly<br/>\nfast even if the target DB was a local MySQL and not an in memory DB. And<br/>\nusing DB deploy made it really easy to get a developer going. Basically<br/>\ninstall mysql once, create a DB and grant rights for a user. Then run the<br/>\ntestsuite and everything was kept up to date automatically.<br/>\n<br/>\nWe actually had some in memory DB tests stuff where we needed to test a lot<br/>\nof different combianations and we could do without DB-sepcific SQLs<br/>\n<br/>\nSo my secret weapon here is DB Deploy that in all it&#39;s simplicity actually<br/>\nworks wonders.<br/>\n<br/>\nGood luck!<br/>\n/J<br/>\n-----------------------------------------------------<br/>\nJoakim Ohlrogge<br/>\nAgical AB<br/>\nV�sterl�nggatan 79, 2 tr<br/>\n111 29 Stockholm, SWEDEN<br/>\n<br/>\nMobile: +46-708-754004<br/>\nBlog: johlrogge.wordpress.com<br/>\nE-mail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a><br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Fri, Mar 18, 2011 at 6:39 PM, Mark Levison &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mark@...\">mark@...</a>&gt; wrote:<br/>\n<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Joakim - thanks for the reply you confirm what I was thinking. As long as<br/>\n&gt; they test within a single context its all good. Basically that means that<br/>\n&gt; Mocking goes out the window because I will have to dirty the context and<br/>\n&gt; reload. In addition they claim (and I can&#39;t disprove) that an in memory DB<br/>\n&gt; isn&#39;t viable.<br/>\n&gt;<br/>\n&gt; As for Guice - no such luck. I&#39;m here providing technical advice for a few<br/>\n&gt; days, I&#39;m not going to overturn their use of Spring.<br/>\n&gt;<br/>\n&gt; Cedric - Junit isn&#39;t the problem. They&#39;re writing too many integration<br/>\n&gt; tests<br/>\n&gt; and not enough Unit Tests. Your tool may be good but its orthogonal to the<br/>\n&gt; problem at hand.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Cheers<br/>\n&gt; Mark Levison<br/>\n&gt;<br/>\n&gt; [image: Mark] &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.flickr.com/photos/36331075@N00/3833840021/\">http://www.flickr.com/photos/36331075@N00/3833840021/</a>&gt;*Mark<br/>\n&gt; Levison* | Agile Pain Relief Consulting &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://agilepainrelief.com/\">http://agilepainrelief.com/</a>&gt; |<br/>\n&gt; Certified Scrum Trainer<br/>\n&gt; Agile Editor @ InfoQ &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.infoq.com/about.jsp\">http://www.infoq.com/about.jsp</a>&gt; |<br/>\n&gt; Blog&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.notesfromatooluser.com/\">http://www.notesfromatooluser.com/</a>&gt;|<br/>\n&gt; Twitter &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://twitter.com/mlevison\">http://twitter.com/mlevison</a>&gt; | Office: (613) 862-2538<br/>\n&gt; Recent Entries: Story Slicing How Small is Small<br/>\n&gt; Enough&lt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://agilepainrelief.com/notesfromatooluser/2010/09/story-slicing-how-small-is-enough.html\">http://agilepainrelief.com/notesfromatooluser/2010/09/story-slicing-how-small-is-enough.html</a><br/>\n&gt; &gt;,<br/>\n&gt; Why use an Agile<br/>\n&gt; Coach&lt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.notesfromatooluser.com/2009/11/why-use-an-agile-coach.html\">http://www.notesfromatooluser.com/2009/11/why-use-an-agile-coach.html</a>&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 23342, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1300479948", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23342, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGluaE1vTW14dGN6WE9jbktTYW1yeTh0dUVpYXlFSGU0YmsyR0Nlb0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PEFBTkxrVGluRGRZR2gxWjk9dHVHN1lORkp5YmVhM3NLZGQ4Yks5NlY2YnFrb0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PEFBTkxrVGlrY0o3bzVkTzBOYUwydjhzUUctLWF4T1U4TlBEVjgrMnVZb0V4VUBtYWlsLmdtYWlsLmNvbT4gPEFBTkxrVGltcW9GckxnM2lRYm8wUTBhaG16MlB2Vlc1cGtCY0VxUFBjMTc1akBtYWlsLmdtYWlsLmNvbT4gPEFBTkxrVGluaE1vTW14dGN6WE9jbktTYW1yeTh0dUVpYXlFSGU0YmsyR0Nlb0BtYWlsLmdtYWlsLmNvbT4="
    }
}