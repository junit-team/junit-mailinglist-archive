{
    "numMessagesInTopic": 5, 
    "nextInTime": 11803, 
    "senderId": "ivvlUpXAEKbaRt6usvMXfNDkWh80wGIKdkoRw-JI9nJnxOwn6o3H7hl9buvcfUcSnadCIkFAZwQYic-SBMDcmVsyOtHnwQoi-gc", 
    "systemMessage": false, 
    "subject": "Re: [junit] awkward threading situation", 
    "from": "Timothy Wall &lt;twall@...&gt;", 
    "authorName": "Timothy Wall", 
    "msgSnippet": "It s entirely possible that your main thread checks the mock status prior to the events actually being handled. Consider adding the following after", 
    "msgId": 11802, 
    "topicId": 11797, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 106503903, 
    "messageBody": "<div id=\"ygrps-yiv-1926929341\">It&#39;s entirely possible that your main thread checks the mock status <br/>\nprior to the events actually being handled.<br/>\n<br/>\nConsider adding the following after frame.show():<br/>\n<br/>\nSwingUtilities.invokeAndWait(new Runnable() { public void run() { }});<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Aug 18, 2004, at 2:15 AM, sagyrozman wrote:<br/>\n<br/>\n&gt; hi all,<br/>\n&gt; I was writing a test for a GUI class which should delegate GUI events<br/>\n&gt; to another object:<br/>\n&gt;<br/>\n&gt; class MyFrame extends JFrame implements WindowListener{<br/>\n&gt;<br/>\n&gt; TargetForEvents target;<br/>\n&gt;<br/>\n&gt; public void setTarget(TargetForEvents t) {<br/>\n&gt;    target = t;<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; ....<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; in the test case:<br/>\n&gt;<br/>\n&gt; ...<br/>\n&gt; MyFrame frame = new MyFrame();<br/>\n&gt; frame.setTarget(mockTarget);<br/>\n&gt; frame.setVisible();<br/>\n&gt;<br/>\n&gt; now I check that the expected functions where called on the taget in<br/>\n&gt; response to the WindowOpened events of MyFrame.<br/>\n&gt;<br/>\n&gt; the test fails even though it should have passed because using the<br/>\n&gt; eclipse debuger I can see that the mock is called upon in the swing<br/>\n&gt; event handling thread, but when checking back with the main thread<br/>\n&gt; the mock is not affected by these changes.<br/>\n&gt; Another weird thing: I tried to do a similar test only not through<br/>\n&gt; junit, instead of asserting that the methods where called, I wrote<br/>\n&gt; the mock log string out to the stdout. This time the output shows<br/>\n&gt; that all methods where called in the correct order.<br/>\n&gt; Am I missing something here? please let me know if any further<br/>\n&gt; clarification is needed.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 11801, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1092841650", 
    "canDelete": false, 
    "nextInTopic": 11825, 
    "prevInTopic": 11797, 
    "headers": {
        "inReplyToHeader": "PGNmdXM2MitpY2FxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDUzMTczMzBELUYxMjgtMTFEOC04MkVGLTAwMzA2NUJGODNEQUBvY3VsdXN0ZWNoLmNvbT4=", 
        "referencesHeader": "PGNmdXM2MitpY2FxQGVHcm91cHMuY29tPg=="
    }
}