{
    "numMessagesInTopic": 8, 
    "nextInTime": 9507, 
    "senderId": "YL602rSjd2yb5YnxfzxfP3qA9Lp5FVCuskkHJrosyQfvDa-ynpw6PBIp6q00nlzbdIXb1w0aebD2CT51QRpGIskDZrP3wuQ-uq1EsvoKB7qu", 
    "systemMessage": false, 
    "subject": "How to test threaded method?", 
    "from": "&quot;Kris Henderson&quot; &lt;khenderson@...&gt;", 
    "authorName": "Kris Henderson", 
    "msgSnippet": "I have a method that when called creates a thread and does all its work in the new thread.  It looks kind of like this: public void doSomething() { Thread", 
    "msgId": 9506, 
    "rawEmail": "Return-Path: &lt;khenderson@...&gt;\r\nX-Sender: khenderson@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 89726 invoked from network); 25 Sep 2003 23:14:35 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m8.grp.scd.yahoo.com with QMQP; 25 Sep 2003 23:14:35 -0000\r\nReceived: from unknown (HELO out002.iad.hostedmail.net) (209.225.56.24)\n  by mta5.grp.scd.yahoo.com with SMTP; 25 Sep 2003 23:14:35 -0000\r\nReceived: from 10.158.10.14 by out002.iad.hostedmail.net (InterScan E-Mail VirusWall NT); Thu, 25 Sep 2003 19:14:29 -0400\r\nReceived: from ATL1VEXC005.usdom004.tco.tc ([10.158.7.207]) by atl1simr002.tco.tc with Microsoft SMTPSVC(5.0.2195.5329);\n\t Thu, 25 Sep 2003 19:14:29 -0400\r\nX-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0\r\nContent-Class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nSubject: How to test threaded method?\r\nDate: Thu, 25 Sep 2003 19:14:29 -0400\r\nMessage-ID: &lt;F7B16EB8984B14409ACB015F1326BB661FF2A8@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: How to test threaded method?\r\nthread-index: AcODlXL06QOrVEvuTmuSo4u0ZIXIdQAIr5wg\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReturn-Path: khenderson@...\r\nX-OriginalArrivalTime: 25 Sep 2003 23:14:29.0327 (UTC) FILETIME=[C5449DF0:01C383BA]\r\nFrom: &quot;Kris Henderson&quot; &lt;khenderson@...&gt;\r\nX-Yahoo-Group-Post: member; u=90305179\r\nX-Yahoo-Profile: kris_556\r\n\r\nI have a method that when called creates a thread and does all its work\nin =\r\nthe new thread.  It looks kind of like this:\n\npublic void doSomething()\n{\n =\r\n   Thread requestThread =3D new Thread()\n    {\n        public void run()\n  =\r\n      {\n            fireStartEvent();\n\n            //do some stuff that tak=\r\nes a long time\n\n            fireDoneEvent();\n        }\n    };\n    requestTh=\r\nread.start();\n}\n\nI would like to test this method to make sure it sends the=\r\n correct\nevents in the correct order and that the EventObject contains the\n=\r\ncorrect data.\n\nSo I wrote a test that looks like this:\n\n\npublic void testDo=\r\nSomething()\n{\n    m_eventCount =3D 0;\n    final MockService service =3D new=\r\n MockService();\n    service.addOperationListener(new OperationAdapter()\n   =\r\n {\n        public void operationUpdate(OperationEvent event)\n        {\n    =\r\n        m_eventCount +=3D 1;\n        }\n    });\n        \n    service.doSomet=\r\nhing();\n                \n    assertEquals(2, m_eventCount);\n}\n\nMy test fail=\r\ns because it reaches the assertEquals before all the events\ncan be fired.  =\r\nIf I add a call to Thread.sleep after the call to\ndoSomething() then the te=\r\nst succeeds.  Does anyone know a better way to\ntest this so I don&#39;t have to=\r\n add a call to Thread.sleep?\n\nThanks,\nKris\n\n", 
    "profile": "kris_556", 
    "topicId": 9506, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 90305179, 
    "prevInTime": 9505, 
    "contentTrasformed": false, 
    "postDate": "1064531669", 
    "canDelete": false, 
    "nextInTopic": 9510, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEY3QjE2RUI4OTg0QjE0NDA5QUNCMDE1RjEzMjZCQjY2MUZGMkE4QEFUTDFWRVhDMDA1LnVzZG9tMDA0LnRjby50Yz4="
    }
}