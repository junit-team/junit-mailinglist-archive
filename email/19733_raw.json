{
    "numMessagesInTopic": 48, 
    "nextInTime": 19734, 
    "senderId": "RT-EeOdIB6Bhr0qqu1S29IN45zad689cXSQ0CpYl9tLrsRjjznfEaEEbymWbL_l9nlpOZF9TtUjMUxOQstywAzpK", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Test Grouping/Partitioning", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Nat, Kevin Lawrence at Agitar has a great way of dealing with this that I like: http://www.developertesting.com/archives/month200608/20060811-FailingTests.html", 
    "msgId": 19733, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 73319 invoked from network); 9 Aug 2007 15:39:09 -0000\r\nReceived: from unknown (66.218.66.70)\n  by m47.grp.scd.yahoo.com with QMQP; 9 Aug 2007 15:39:09 -0000\r\nReceived: from unknown (HELO el-out-1112.google.com) (209.85.162.183)\n  by mta12.grp.scd.yahoo.com with SMTP; 9 Aug 2007 15:39:05 -0000\r\nReceived: by el-out-1112.google.com with SMTP id s27so133752ele\n        for &lt;junit@yahoogroups.com&gt;; Thu, 09 Aug 2007 08:39:04 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;\n        b=JDnvSPJ0n1So5WRHk6lM+A1Ecp8Xeh9FesZ99YMisxvon/3Ha3yMe7qGglrDoXuxQ8QUnaWFoPeaqEOsC/+2467ziSIf+VFxx3Zd63aGgf1zYokZw3lABdVJivSe24jUPeIhSiCYqm2mQXQdAXp028U2zA4u2KpUkS5/KVMpZDQ=\r\nReceived: by 10.90.53.16 with SMTP id b16mr3137288aga.1186673944238;\n        Thu, 09 Aug 2007 08:39:04 -0700 (PDT)\r\nReceived: by 10.90.93.5 with HTTP; Thu, 9 Aug 2007 08:39:04 -0700 (PDT)\r\nMessage-ID: &lt;4f7da6b90708090839h6e62aef8t47a0b7f72dc44c43@...&gt;\r\nDate: Thu, 9 Aug 2007 10:39:04 -0500\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;17fa53d0708020857y465d5b02rdc2c96606da681f6@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;003101c7cfd5$aff5e560$6701a8c0@kentspavilion&gt;\n\t &lt;17fa53d0708020857y465d5b02rdc2c96606da681f6@...&gt;\r\nX-Google-Sender-Auth: 255be5830d9f8eb0\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;David Saff&quot; &lt;saff@...&gt;\r\nSubject: Re: [junit] Re: Test Grouping/Partitioning\r\nX-Yahoo-Group-Post: member; u=139771899; y=bg0ieLfkEyeMB3RLEc64RUw9MdRIxpNzhm9C9fOPPe4\r\nX-Yahoo-Profile: dsaff\r\n\r\nNat,\n\nKevin Lawrence at Agitar has a great way of dealing with this that I like:\n\nhttp://www.developertesting.com/archives/month200608/20060811-FailingTests.html\n\nThis was one of the inspirations behind the assumptions support in\nJUnit 4.4.  I imagine, but haven&#39;t yet written, a method bugFixed()\nsuch that I can write:\n\n@Test public void niftyNewCheckbox() {\n   assumeTrue(bugFixed(45678));\n   // test checkbox\n}\n\nIf your new features are not in bugzilla or some such thing, then you could say\n\n\n@Test public void niftyNewCheckbox() {\n   assumeTrue(versionAtLeast(4.5));\n   // test checkbox\n}\n\nIn general, I prefer that whatever category support we implement\nshould be primarily for running relatively small subsets of the tests.\n If I want to run all of the tests except a couple, I&#39;d rather state\nin those tests what my assumptions are that are currently invalid (not\nenough time, no user at the keyboard, feature not finished yet).\n\nThoughts?\n\n   David Saff\n\n\nOn 8/2/07, Nat Pryce &lt;nat.pryce@...&gt; wrote:\n&gt; I&#39;ve just thought of another categorisation of tests: whether they are\n&gt; regression tests or work in progress.\n&gt;\n&gt; We write tests for the functionality to be delivered in the upcoming\n&gt; iteration.  Those tests will initially fail.  As we go through the iteration\n&gt; more and more of them will pass as we complete the work.  However, we can&#39;t\n&gt; let the failing tests stop us checking in changes.  So we categorise tests\n&gt; as &quot;work-in-progress&quot; or &quot;regression&quot;.  Work-in-progress tests are allowed\n&gt; to fail without breaking the CI build.  A failing regression test breaks the\n&gt; build and must be fixed immediately before further changes can be checked\n&gt; in.\n&gt;\n&gt; At the end of the iteration, passing &quot;work-in-progress&quot; tests are\n&gt; recategorised as regression tests.If new work requires changes to existing\n&gt; functionality, the regression tests for that  functionality are\n&gt; recategorised as &quot;work-in-progress&quot; until the new work is done.\n&gt;\n&gt; At the moment we just move tests between different source folders.  That\n&gt; works smoothly enough.\n&gt;\n&gt; --Nat\n&gt;\n&gt; On 26/07/07, Kent Beck &lt;kentb@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;   All,\n&gt; &gt;\n&gt; &gt; It seems clear to me that some sort of test classification scheme is a\n&gt; &gt; reasonable thing to add to JUnit. However, rather than simply copy one of\n&gt; &gt; the models out there we&#39;re going to go back to first principles and try to\n&gt; &gt; derive a model for classification that is concise, useful, flexible, and,\n&gt; &gt; above all, easy to use.\n&gt; &gt;\n&gt; &gt; I&#39;ve heard two purposes for classification:\n&gt; &gt; * Performance\n&gt; &gt; * Assumptions\n&gt; &gt;\n&gt; &gt; Performance\n&gt; &gt;\n&gt; &gt; If you have tests that run for longer than your attention span (my limits\n&gt; &gt; are 1 second for the inner loop of programming and 10 minutes for\n&gt; &gt; integration), running a subset of the tests can give you some assurance\n&gt; &gt; that\n&gt; &gt; the software is working. Classification is one way to reduce test run\n&gt; &gt; time--just this one test, all tests in this class, all tests in this\n&gt; &gt; package, all tests labeled &quot;quick&quot;, etc.\n&gt; &gt;\n&gt; &gt; There are other ways of reducing test run time. For example, you could\n&gt; &gt; have\n&gt; &gt; a runner that runs 1 second worth of the tests that have failed most\n&gt; &gt; recently or a runner that runs half a second of recently failed tests plus\n&gt; &gt; half a second of randomly selected tests.\n&gt; &gt;\n&gt; &gt; In the end I think the systemic solution to test run times is to improve\n&gt; &gt; design and testing techniques to dramatically increase the assurance/CPU\n&gt; &gt; cycle ratio.\n&gt; &gt;\n&gt; &gt; I remember a friend&#39;s story of an early project that used tests\n&gt; &gt; extensively.\n&gt; &gt; After three years they had a carefully tuned suite that took ten minutes\n&gt; &gt; to\n&gt; &gt; run. When the test runtime increased beyond ten minutes, they would work\n&gt; &gt; on\n&gt; &gt; the design of the system and/or the design of the tests to improve the\n&gt; &gt; assurance/CPU cycle ratio and get the runtime back under ten minutes. Then\n&gt; &gt; most of the original team left.\n&gt; &gt;\n&gt; &gt; A few years later my friend was shown the system. The programmer proudly\n&gt; &gt; explained that the test suites now took 24 hours to run, even though the\n&gt; &gt; system had grown little in functionality. They had stopped paying\n&gt; &gt; attention\n&gt; &gt; to designing for testability. Every time they added a new axis of\n&gt; &gt; variability they blindly ran the cross product of the existing tests with\n&gt; &gt; all the alternatives for the new axis. Yes they had more tests, but A/C\n&gt; &gt; had\n&gt; &gt; dropped by several orders of magnitude.\n&gt; &gt;\n&gt; &gt; In short, I see using classification to reduce test runtime as a bandage\n&gt; &gt; masking the real problem which is low A/C. Using classification to reduce\n&gt; &gt; test runtime really is a hack and I hope people will continue working to\n&gt; &gt; improve design for testability. We will still provide some classification\n&gt; &gt; mechanism, but that doesn&#39;t make it not a hack.\n&gt; &gt;\n&gt; &gt; Assumptions\n&gt; &gt;\n&gt; &gt; The second reason I&#39;ve heard for classification is to avoid a slew of\n&gt; &gt; misleadingly failing tests. If my development machine doesn&#39;t have access\n&gt; &gt; to\n&gt; &gt; the database, then if I run the database tests I&#39;ll get a bunch of\n&gt; &gt; failures\n&gt; &gt; even though the system is really working (or, to be more precise, I don&#39;t\n&gt; &gt; have any information about whether the system is really working or not).\n&gt; &gt;\n&gt; &gt; Classification is one way to express assumptions. When I say &quot;@Test(groups\n&gt; &gt; =\n&gt; &gt; {&quot;database&quot;})&quot; I have declared something about this test. However, this\n&gt; &gt; expression seems limited and error-prone to me. I&#39;d prefer to have the\n&gt; &gt; power\n&gt; &gt; of a programming language to express my assumptions.\n&gt; &gt;\n&gt; &gt; In the JUnit 4.4 you can use assumeThat() to express assumptions. For\n&gt; &gt; example, you can say:\n&gt; &gt;\n&gt; &gt; public class DatabaseTest {\n&gt; &gt; @BeforeClass public static void isDatabaseAccessible() {\n&gt; &gt; User result= Database.login(&quot;kent&quot;);\n&gt; &gt; assumeThat(not(isError(result));\n&gt; &gt; }\n&gt; &gt; ...\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; This is a bit of a workaround because runner don&#39;t yet handle failed\n&gt; &gt; assumptions as anything other than successful tests, but it gives you a\n&gt; &gt; richer language to express assumptions than a textual classification\n&gt; &gt; scheme.\n&gt; &gt;\n&gt; &gt; The Point\n&gt; &gt;\n&gt; &gt; So now the point of this long post. Are there other uses of classification\n&gt; &gt; that I&#39;ve missed? Is the above way of expressing assumptions (or something\n&gt; &gt; derived from it like an explicit @Assumption) sufficient?\n&gt; &gt;\n&gt; &gt; Regards,\n&gt; &gt;\n&gt; &gt; Kent Beck\n&gt; &gt; Three Rivers Institute\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 19521, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "prevInTime": 19732, 
    "contentTrasformed": false, 
    "postDate": "1186673944", 
    "canDelete": false, 
    "nextInTopic": 20376, 
    "prevInTopic": 19732, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwNzA4MDIwODU3eTQ2NWQ1YjAycmRjMmM5NjYwNmRhNjgxZjZAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwODA5MDgzOWg2ZTYyYWVmOHQ0N2EwYjdmNzJkYzQ0YzQzQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDAwMzEwMWM3Y2ZkNSRhZmY1ZTU2MCQ2NzAxYThjMEBrZW50c3BhdmlsaW9uPgkgPDE3ZmE1M2QwNzA4MDIwODU3eTQ2NWQ1YjAycmRjMmM5NjYwNmRhNjgxZjZAbWFpbC5nbWFpbC5jb20+"
    }
}