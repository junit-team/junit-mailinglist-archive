{
    "numMessagesInTopic": 47, 
    "nextInTime": 15139, 
    "senderId": "5722ePjaYd8LzjHZvScmtqu667ud7Ohooj3dEIP7HeCSR20hLZ4PEFEB6ORPQ4Woa0iHgy_blqeGirZ2ameccBCsWlkwvtnDlkw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Proposed parameterized test syntax for JUnit 4", 
    "from": "James Abley &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... I use a different rule, which gives quite different results. ;-) James Take care. ... [Non-text portions of this message have been removed]", 
    "msgId": 15138, 
    "rawEmail": "Return-Path: &lt;james.abley@...&gt;\r\nX-Sender: james.abley@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 59526 invoked from network); 13 Oct 2005 20:27:28 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m31.grp.scd.yahoo.com with QMQP; 13 Oct 2005 20:27:28 -0000\r\nReceived: from unknown (HELO nproxy.gmail.com) (64.233.182.203)\n  by mta5.grp.scd.yahoo.com with SMTP; 13 Oct 2005 20:27:27 -0000\r\nReceived: by nproxy.gmail.com with SMTP id l37so184167nfc\n        for &lt;junit@yahoogroups.com&gt;; Thu, 13 Oct 2005 13:27:27 -0700 (PDT)\r\nReceived: by 10.48.3.4 with SMTP id 4mr18460nfc;\n        Thu, 13 Oct 2005 13:27:27 -0700 (PDT)\r\nReceived: by 10.48.108.5 with HTTP; Thu, 13 Oct 2005 13:27:27 -0700 (PDT)\r\nMessage-ID: &lt;23fce8e60510131327n16ce48b8v@...&gt;\r\nDate: Thu, 13 Oct 2005 21:27:27 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;434E4F50.10703@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;E1ENGSY-0004ww-AA@...&gt;\n\t &lt;4344461D.3050703@...&gt; &lt;4344644B.404@...&gt;\n\t &lt;43453771.9070509@...&gt; &lt;434D355E.7060402@...&gt;\n\t &lt;434DD3D0.1050901@...&gt; &lt;434DDD20.10706@...&gt;\n\t &lt;434E4F50.10703@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: James Abley &lt;james.abley@...&gt;\r\nSubject: Re: [junit] Proposed parameterized test syntax for JUnit 4\r\nX-Yahoo-Group-Post: member; u=212683928; y=adADlTMrlt2VGtgqsxWBE8WpFkAZJjqBN8DgN2RzdgDUQmFS\r\nX-Yahoo-Profile: taboozizi\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nOn 13/10/05, J. B. Rainsberger &lt;jbrains@...&gt; wrote:\n&gt;\n&gt;  Eugene Kuleshov wrote:\n&gt; &gt; J. B. Rainsberger wrote:\n&gt; &gt;\n&gt; &gt; &gt;&gt; For instance, if you look at typical facade pattern, it is quite\n&gt; &gt; &gt;&gt;often that it would change different parts of the internal state but\n&gt; &gt; &gt;&gt;we still need to test it as a single entity. I am pretty sure that\n&gt; &gt; &gt;&gt;facade is not only case for this.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I have to admit that I can&#39;t make the connection between this\n&gt; paragraph\n&gt; &gt; &gt; and the subject of this thread.\n&gt; &gt;\n&gt; &gt; Let me give an example. Imagine you have a statefull facade under\n&gt; &gt; test with has 5 methods: first one take no params, second - one param,\n&gt; &gt; third - two params, etc.\n&gt; &gt;\n&gt; &gt; Should we follow your rules and break this facade into 5 classes?\n&gt; &gt; Should we then write separate unit test class for each of those new\n&gt; classes?\n&gt;\n&gt; I still don&#39;t see the connection yet, so let me ask a question: do these\n&gt; 5 methods (among other things) initialize the same set of fields in the\n&gt; stateful bean? or completely different fields?\n&gt;\n&gt; If the answer is &quot;the same set of fields&quot;, then I&#39;d keep them on the\n&gt; same stateful bean class. This is the same as having 5 test cases that\n&gt; use the same fixture objects.\n&gt;\n&gt; If the answer is &quot;completely different fields&quot;, then I absolutely would\n&gt; put them on separate stateful bean classes. I would think that was\n&gt; obvious. This is the same as having 5 test cases that use completely\n&gt; different fixture objects (and want them to be fields--that part is\n&gt; important).\n&gt;\n&gt; &gt; The way I see it: there should be single test class with several\n&gt; &gt; parameterized test cases (so several parm generators) and test case\n&gt; &gt; would test a single test. In order to keep such construction compact you\n&gt; &gt; can move most of the code into the declarative test definition, like how\n&gt; &gt; input should look like and what to assert on the output, then test code\n&gt; &gt; itself could just iterate trough the rules for each given test case\n&gt; &gt; (before and then after test). Unfortunately this leads to soft-typed\n&gt; &gt; dynamic bindings and evaluation and as a result practically usable only\n&gt; &gt; in completely generated tests.\n&gt;\n&gt; That surprises me, since I have been using this technique successfully\n&gt; for five years with completely hand-written tests. I must be missing\n&gt; something you&#39;re trying to tell me.\n&gt;\n&gt; It seems like you really want a single test case per production code\n&gt; class. I have never wanted that, and I doubt I&#39;ll be able to convince\n&gt; you about why that&#39;s a bad idea. I suppose you benefit from it in a way\n&gt; that I don&#39;t. I doubt arguing over it will get us anywhere, so I&#39;m\n&gt; offering you a draw on that topic.\n&gt;\n&gt; &gt; &gt; My point is pretty straightforward: we have these refactoring rules we\n&gt; &gt; &gt; often follow and we usually say that we should refactor tests like we\n&gt; &gt; &gt; refactor production code, so why wouldn&#39;t we apply these refactoring\n&gt; &gt; &gt; rules to tests?\n&gt; &gt;\n&gt; &gt; I don&#39;t quite agree with this. Tests should be simple enough to\n&gt; &gt; require no refactorings at all. Applying OOP patters to the tests may\n&gt; &gt; lead to fragile test code that will require too much maintenance,\n&gt; &gt; especially if code under test is being structurally changed.\n&gt;\n&gt; This is /very/ interesting.\n&gt;\n&gt; &quot;Applying OOP patterns to test may lead to fragile test code that will\n&gt; require too much maintenance.&quot;\n&gt;\n&gt; Shouldn&#39;t we then conclude that\n&gt;\n&gt; &quot;Applying OOP patterns to any system may lead to fragile code that will\n&gt; require too much maintenance&quot;?\n&gt;\n&gt; Are you saying that refactoring makes systems more fragile?\n&gt;\n&gt; (After all, please remember that test code is still just code.)\n&gt;\n&gt; &gt; &gt;&gt; &gt; Why wouldn&#39;t we follow those rules with JUnit test case classes?\n&gt; The\n&gt; &gt; &gt;&gt; &gt; first rule extracts common setup code into setUp() and fixture\n&gt; &gt; objects.\n&gt; &gt; &gt;&gt; &gt; The second splits test case classes that have multiple fixtures\n&gt; into\n&gt; &gt; &gt;&gt; &gt; separate test case classes. This leads to test case classes\n&gt; organized\n&gt; &gt; &gt;&gt; &gt; around fixtures.\n&gt; &gt; &gt;&gt; &gt;\n&gt; &gt; &gt;&gt; &gt; As for one test case per model class, that&#39;s a natural place to\n&gt; start,\n&gt; &gt; &gt;&gt; &gt; because it&#39;s simple, but once that test case class becomes complex,\n&gt; &gt; &gt;&gt; &gt; refactor as usual.\n&gt; &gt; &gt;&gt;\n&gt; &gt; &gt;&gt; That usually would lead to confusion and will require special tools\n&gt; &gt; &gt;&gt;to track down all the test cases for given class.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I have /never/, /ever/ wanted to track down all the tests for a given\n&gt; &gt; &gt; class. I /have/ wanted to track down all the tests for a given\n&gt; /method/,\n&gt; &gt; &gt; which is dirt simple in any decent IDE. (In Eclipse, I hit\n&gt; Ctrl+Shift+G.)\n&gt; &gt;\n&gt; &gt; Can you then run ALL tests you found in a search view?\n&gt;\n&gt; Yes. I run all the tests, which includes all the tests I found in that\n&gt; search view. I run all the tests all the time.\n&gt;\n&gt; &gt; Can these results guarantee that changed method under test didn&#39;t\n&gt; &gt; affected other methods and you don&#39;t have to run all tests for them too?\n&gt;\n&gt; I suppose not, because I don&#39;t care about that: I run all the tests\n&gt; anyway.\n&gt;\n&gt; Let me ask you: how does keeping one test case class per production cod\n&gt; class &quot;guarantee that changed method under test didn&#39;t affect other\n&gt; methods without running all the tests for them too&quot;? How do you know the\n&gt; system-wide impact of a change without running all the tests for the\n&gt; entire system? (I don&#39;t think the way we organize tests helps us at all\n&gt; here.)\n&gt;\n&gt; &gt; &gt; You /believe/ this? or it&#39;s your experience? In my /experience/ it\n&gt; just\n&gt; &gt; &gt; isn&#39;t that much of an issue.\n&gt; &gt;\n&gt; &gt; It could be not an issue for unit testing of the isolated classes,\n&gt; &gt; but it is quite different if those classes have more or less complex\n&gt; &gt; dependencies (e.g. those that may be injected by IoC container in real\n&gt; &gt; app, but mocked or stubbed in a test time). That perhaps problem with\n&gt; &gt; the toolset because such testing usually introduces lot of dynamic\n&gt; &gt; dependencies only resolved or even generated in the runtime.\n&gt;\n&gt; I notice you didn&#39;t answer my question, even though you wrote this\n&gt; directly underneath my question. :) I used to have a lot of very\n&gt; passionate opinions until I started following a simple rule: Don&#39;t claim\n&gt; X is better than Y until you&#39;ve done both for a while and can measure\n&gt; the difference.\n\n\nI use a different rule, which gives quite different results. ;-)\n\nJames\n\nTake care.\n&gt; --\n&gt; J. B. (Joe) Rainsberger\n&gt; Diaspar Software Services\n&gt; http://www.diasparsoftware.com\n&gt; 2005 Gordon Pask Award Winner for contribution to Agile practice\n&gt; Author, JUnit Recipes: Practical Methods for Programmer Testing\n&gt;\n&gt;  ------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;\n&gt;    - Visit your group &quot;junit &lt;http://groups.yahoo.com/group/junit&gt;&quot; on\n&gt;    the web.\n&gt;     - To unsubscribe from this group, send an email to:\n&gt;    junit-unsubscribe@yahoogroups.com&lt;junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;     - Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;    Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt;  ------------------------------\n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "taboozizi", 
    "topicId": 14820, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "prevInTime": 15137, 
    "contentTrasformed": false, 
    "postDate": "1129235247", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15132, 
    "headers": {
        "inReplyToHeader": "PDQzNEU0RjUwLjEwNzAzQHJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PDIzZmNlOGU2MDUxMDEzMTMyN24xNmNlNDhiOHZAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PEUxRU5HU1ktMDAwNHd3LUFBQHNtdHBhdXRoMDUubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4JIDw0MzQ0NDYxRC4zMDUwNzAzQG1kLnBwLnJ1PiA8NDM0NDY0NEIuNDA0QG1ldGFsYWIudW5jLmVkdT4JIDw0MzQ1Mzc3MS45MDcwNTA5QHJvZ2Vycy5jb20+IDw0MzREMzU1RS43MDYwNDAyQG1kLnBwLnJ1PgkgPDQzNEREM0QwLjEwNTA5MDFAcm9nZXJzLmNvbT4gPDQzNERERDIwLjEwNzA2QG1kLnBwLnJ1PgkgPDQzNEU0RjUwLjEwNzAzQHJvZ2Vycy5jb20+"
    }
}