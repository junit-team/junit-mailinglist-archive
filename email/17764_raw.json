{
    "numMessagesInTopic": 287, 
    "nextInTime": 17765, 
    "senderId": "qxLFW4FqUV26Y5t9uAw0MHES3N4BYL_PzBuFs0_crtb_KdHNbsZsjPoa3VB43_G7jY1mjEHbMTb9XTG2a8mDz0y5lkrAYcfHwN3by51uhP6BuA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Test-friendly, but not caller-friendly?", 
    "from": "Michael Feathers &lt;mfeathers@...&gt;", 
    "authorName": "Michael Feathers", 
    "msgSnippet": "... The thing that makes conversations like this so hard is that fact that the context is often left hanging.  It s particularly bad when talking about error", 
    "msgId": 17764, 
    "rawEmail": "Return-Path: &lt;mfeathers@...&gt;\r\nX-Sender: mfeathers@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 97880 invoked from network); 4 Sep 2006 15:19:40 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m28.grp.scd.yahoo.com with QMQP; 4 Sep 2006 15:19:40 -0000\r\nReceived: from unknown (HELO elasmtp-kukur.atl.sa.earthlink.net) (209.86.89.65)\n  by mta5.grp.scd.yahoo.com with SMTP; 4 Sep 2006 15:19:40 -0000\r\nReceived: from [66.32.11.168] (helo=[192.168.2.5])\n\tby elasmtp-kukur.atl.sa.earthlink.net with asmtp (Exim 4.34)\n\tid 1GKGDy-0000wb-9r\n\tfor junit@yahoogroups.com; Mon, 04 Sep 2006 11:18:58 -0400\r\nMessage-ID: &lt;44FC43DF.6040908@...&gt;\r\nDate: Mon, 04 Sep 2006 11:18:55 -0400\r\nUser-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;D93B065F-F037-4625-A911-31EECBEB1778@...&gt; &lt;44FAB01A.8030603@...&gt; &lt;44FAD4E8.6020505@...&gt; &lt;44FB232A.7000705@...&gt; &lt;44FB83AA.5020200@...&gt; &lt;44FBFFAC.3020307@...&gt; &lt;44FC2F80.6050700@...&gt; &lt;44FC35ED.1030804@...&gt;\r\nIn-Reply-To: &lt;44FC35ED.1030804@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-ELNK-Trace: dfc3550eb2f12a8d819ed13a7e3bf8f140683398e744b8a4bac87c146f15dc1f13afc6018dfe735f350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Feathers &lt;mfeathers@...&gt;\r\nReply-To: mfeathers@...\r\nSubject: Re: [junit] Re: Test-friendly, but not caller-friendly?\r\nX-Yahoo-Group-Post: member; u=78021826; y=fnJXq-TcpSvp1Tg95iSEyQdsARSp8j127HzhsbPynz5M7uMDK-9W\r\nX-Yahoo-Profile: mfeathers256\r\n\r\nElliotte Harold wrote:\n\n&gt;Michael Feathers wrote:\n&gt;\n&gt;  \n&gt;\n&gt;&gt;But back to your original point: &quot;It might sometimes be a \n&gt;&gt;NullPointerException or something else instead, but advertising a \n&gt;&gt;precondition is not an excuse for misbehavior just because you receive \n&gt;&gt;bad data.&quot; Under DbC, it is.  Fact is, if your precondition fails or you \n&gt;&gt;get a NullPointerException, there&#39;s a bug in the client.  You can have \n&gt;&gt;checking enabled, or not, but checking is not error handling. \n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;Then maybe we agree more than we think. If checking is not error \n&gt;handling, then I accept that we don&#39;t need to handle the error. Indeed, \n&gt;in many cases we can&#39;t reasonably handle the error inside the method. \n&gt;However, I do think that it&#39;s important not to blindly accept a bad \n&gt;argument that violates a precondition and precede blindly ahead whatever \n&gt;happens. It is important to fail fast (and in a controlled and \n&gt;documented way via an exception) rather than let the software corrupt \n&gt;itself. Martin Fowler has written extensively about this:\n&gt;\n&gt;http://www.martinfowler.com/ieeeSoftware/failFast.pdf\n&gt;  \n&gt;\nThe thing that makes conversations like this so hard is that fact that \nthe context is often left hanging.  It&#39;s particularly bad when talking \nabout error handling and recovery because there is no one right approach \nthere.  Some systems have to be up all of the time and fail fast \nwouldn&#39;t fly.  Jim outlines a great strategy in that article for the \ncases where it&#39;s appropriate.\n\n&gt;&gt;The point \n&gt;&gt;of DbC is to build software robust enough so that you don&#39;t have to \n&gt;&gt;write error handling code at each level.  Relevant section is 11.6 \n&gt;&gt;&quot;Assertions are not an input checking mechanism.&quot;\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;That&#39;s something very different. Meyer clearly means *user* input in \n&gt;that section, and I agree with him on that. Assertions very much are an \n&gt;argument/parameter checking mechanism. I don&#39;t think we&#39;re talking here \n&gt;about user input, just about how two different methods from two \n&gt;different code bases communicate.\n&gt;  \n&gt;\n\nYes, I should have said more.  The thing I wanted to point out in that \nsection was that when you have checking that will lead you to do \nsomething, it should be at the edges (what Meyer calls &#39;filter classes&#39;) \nand not scattered throughout the code.  Otherwise, you are back at \ndefensive coding again.\n\n&gt;  \n&gt;\n&gt;&gt;And when you say &quot;It is my job to make sure my code works. I can&#39;t do \n&gt;&gt;that if the code that calls it violates my preconditions and class \n&gt;&gt;invariants.&quot;  Most of the time, that&#39;s trying to do too much.\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;\n&gt;Agreed. What I really should have said is something like, &quot;It&#39;s my job \n&gt;to make sure my code works, or signals an error at the earliest possible \n&gt;opportunity if it can&#39;t work due to precondition violation&quot;\n&gt;  \n&gt;\nI think that, again, that is situational and it depends on your \ndevelopment style.  I write a lot of tests for my code and when I work \nwith teams we often get to the point that they serve as primary \ndocumentation.  If you want to see how something works, look a  test \ncase, if you can&#39;t find one, write one to make sure it works the way you \nwant to.  It&#39;s hard to describe what happens when you do that, but I \nthink the easiest thing is to say is that you are less concerned with \nthe correctness of a class, and more concerned with the correctness of \nits use.  That may sound bad, but it works because your class becomes \nthe intersection of its uses. \n\nMichael Feathers\nwww.objectmentor.com\n\n\n", 
    "profile": "mfeathers256", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 78021826, 
    "prevInTime": 17763, 
    "contentTrasformed": false, 
    "postDate": "1157383135", 
    "canDelete": false, 
    "nextInTopic": 17765, 
    "prevInTopic": 17763, 
    "headers": {
        "inReplyToHeader": "PDQ0RkMzNUVELjEwMzA4MDRAbWV0YWxhYi51bmMuZWR1Pg==", 
        "messageIdInHeader": "PDQ0RkM0M0RGLjYwNDA5MDhAbWluZHNwcmluZy5jb20+", 
        "referencesHeader": "PEQ5M0IwNjVGLUYwMzctNDYyNS1BOTExLTMxRUVDQkVCMTc3OEBvYmplY3RtZW50b3IuY29tPiA8NDRGQUIwMUEuODAzMDYwM0BtZXRhbGFiLnVuYy5lZHU+IDw0NEZBRDRFOC42MDIwNTA1QGlsamFwcmV1c3MuZGU+IDw0NEZCMjMyQS43MDAwNzA1QG1ldGFsYWIudW5jLmVkdT4gPDQ0RkI4M0FBLjUwMjAyMDBAbWluZHNwcmluZy5jb20+IDw0NEZCRkZBQy4zMDIwMzA3QG1ldGFsYWIudW5jLmVkdT4gPDQ0RkMyRjgwLjYwNTA3MDBAbWluZHNwcmluZy5jb20+IDw0NEZDMzVFRC4xMDMwODA0QG1ldGFsYWIudW5jLmVkdT4="
    }
}