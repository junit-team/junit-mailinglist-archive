{
    "numMessagesInTopic": 48, 
    "nextInTime": 19566, 
    "senderId": "ZEvjcFApJvlo66DkRf0DDrnqydwxxFk5KBmsPJloW1WT0b38PIU8Wec5ZD0ZwoyA6u8Lzvo5Y5C92wqE6JQk2At-", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Test Grouping/Partitioning", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "... Thanks for coming back! ... As I remember it, the mapping is: IDEA project = Eclipse workspace IDEA module = Eclipse project Can someone confirm or deny", 
    "msgId": 19565, 
    "profile": "dsaff", 
    "topicId": 19521, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1665956953\">On 7/17/07, Christian Nelson &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:cnelson@...\">cnelson@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; I apologize for instigating this conversation and then disappearing! :)<br/>\n<br/>\n </span></blockquote>Thanks for coming back!<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I&#39;m now realizing that this is a trickier problem than I originally<br/>\n&gt; thought.  It&#39;s made more complicated by the fact that most of our<br/>\n&gt; projects are multi-module.  For example, I tried cpsuite and it only<br/>\n&gt; finds tests in a single module.<br/>\n<br/>\n </span></blockquote>As I remember it, the mapping is:<br/>\n<br/>\nIDEA project = Eclipse workspace<br/>\nIDEA module = Eclipse project<br/>\n<br/>\nCan someone confirm or deny that?<br/>\n<br/>\nIn that case, this is interesting.  Eclipse _can&#39;t_ run all tests in a<br/>\nworkspace, which was one of Johannes&#39;s main motivations for creating<br/>\ncpsuite.  Ironic that the opposite holds in IDEA land.  To be clear,<br/>\ndo you have one module that includes all the other testing modules in<br/>\nits classpath?  If so, and cpsuite still isn&#39;t working, IDEA must be<br/>\ndoing its classloading in a new and fascinating way.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; While I could craft a negation to<br/>\n&gt; exclude &quot;*OnlineTest&quot;, it wouldn&#39;t run all of the tests across<br/>\n&gt; modules.  I looked at JunitExt&#39;s Category and it seemed like it only<br/>\n&gt; provided a way to organize the result of the tests, not filter which<br/>\n&gt; tests are executed (maybe I missed something).<br/>\n<br/>\n </span></blockquote>The tutorial is somewhat silent on the point, but take a look at<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.google.com/group/junitext-dev/browse_thread/thread/212fdca83fbcc33f\">http://groups.google.com/group/junitext-dev/browse_thread/thread/212fdca83fbcc33f</a><br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; [snip]<br/>\n&gt; ** Another take on describing an ideal<br/>\n&gt;<br/>\n&gt; I guess what I&#39;d find in an ideal world is a way to optionally group<br/>\n&gt; test classes (or specific tests) with a textual group-name and then be<br/>\n&gt; able to pass one or more group-name to a test runner which would then<br/>\n&gt; execute only the tests tagged appropriately.  The test runner would<br/>\n&gt; also support negation so that you could express &quot;not online tests&quot;.<br/>\n<br/>\n </span></blockquote>If you could get all the above without special IDE support (for<br/>\nexample, you could edit annotations on a target &quot;FilteredSuite&quot; class,<br/>\nor twiddle command-line parameters), how much of your problem<br/>\nwould that solve?  On the one hand, you might be concerned about<br/>\nhaving to edit a file under source control in order to change the<br/>\nsubset of tests run, but it sounds like you&#39;re doing that with Ant<br/>\nanyway.<br/>\n<br/>\nThe reasons I ask are:<br/>\n1) We can move more quickly within JUnit itself than I would expect<br/>\nthe IDE vendors to move<br/>\n2) I can imagine (without thinking deeply) that the API required would<br/>\nbe different if customized to IDE interface.<br/>\n<br/>\nMy personal preference would be to solve the cpsuite / IDEA impasse,<br/>\nso that JUnit+IDEA+cpsuite could solve your problem without<br/>\nsignificant change to IDEA.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; ** Grouping by class or string?<br/>\n&gt;<br/>\n&gt; I don&#39;t like the idea of specifying a group using a class because it<br/>\n&gt; doesn&#39;t feel like a class to me.  It&#39;s meta-data not code; the fact<br/>\n&gt; that it&#39;s an empty class has a bit of a smell to me.  The thing I&#39;m<br/>\n&gt; describing really seems like it&#39;s a tag (ala flickr etc) that is used<br/>\n&gt; to organize tests.  I like the fact that it&#39;s loose (as all tags are)<br/>\n&gt; so that you can establish a convention across modules without having<br/>\n&gt; to share actual classes.  If you want refactor-safety, you could<br/>\n&gt; create a static class with constants (e.g. @Test(group =<br/>\n&gt; TestSuites.DATABASE)).  Users would have the option.<br/>\n<br/>\n </span></blockquote>Ah.  Good call on the constant class.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; So, the thing I realized which is important is that what I&#39;m really<br/>\n&gt; looking for is tag/group support in the Eclipse and IDEA custom test<br/>\n&gt; runners (sure, ant and maven would be nice too, it&#39;s secondary to me<br/>\n&gt; though).  I don&#39;t see how a junit extension like cpsuite could solve<br/>\n&gt; the &quot;all tests with tag &#39;foo&#39; across all modules&quot; problem.  It&#39;s one<br/>\n&gt; level out from there (at the junit ant task, maven surefire, idea, or<br/>\n&gt; eclipse level).<br/>\n<br/>\n </span></blockquote>I (in my own head) call Eclipse, IDEA, ant, and maven the &quot;runner UIs&quot;<br/>\nfor JUnit.  I&#39;d break down the job three ways:<br/>\n<br/>\n1) &quot;All classes&quot;: this must be done at the Runner UI level--the user<br/>\nis communicating with the runner UI which are the classes of interest,<br/>\nand where to find them.<br/>\n2) &quot;All classes which are Tests&quot;: this can be done at the Runner UI<br/>\nlevel (all the Runner UI&#39;s support it in some sense), or at the JUnit<br/>\nextension level (with cpsuite, or a future enhanced version thereof).<br/>\nI like the second, since the Runner UI&#39;s aren&#39;t in agreement about how<br/>\nto store their preferences<br/>\n3) &quot;All classes which are Tests with tag foo&quot;: JUnitExt provides some<br/>\nsupport for this, and it should get easier in JUnit 4.4, which allows<br/>\nFilters to run directly against class and method annotations.  None of<br/>\nthe Runner UI&#39;s have direct support for &quot;Run classes A, B, and C with<br/>\nfilter F&quot;, and the JUnit-internal API for filters is pretty clunky as<br/>\nwell.  So something needs to be done here.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; The only way eclipse/idea would support something<br/>\n&gt; like this is if someone writes an entirely new test runner plugin<br/>\n&gt; (seems like a big waste of time) or if the group/tag feature makes its<br/>\n&gt; way into junit core.  Then all of the various runners would likely<br/>\n&gt; build in support.<br/>\n&gt;<br/>\n&gt; Sorry for the long winded message.  There are a few ideas in here.<br/>\n&gt; What do you think?<br/>\n<br/>\n </span></blockquote>To proceed, I&#39;d love to get you able to run the tests you want to run<br/>\nas soon as possible, and then see how we can make that solution easier<br/>\n/ prettier / more obvious for everyone&#39;s next project.  My idea:<br/>\n<br/>\n- One IDEA module called allTests that includes on its classpath all<br/>\nthe other modules with tests<br/>\n- cpsuite to gather tests from the classpath<br/>\n- JUnitExt to filter by category<br/>\n<br/>\nIf this is too much work on your side, let the list know, and we&#39;ll<br/>\nsee if another volunteer will try it--it might be me in a couple<br/>\nweeks, or maybe someone else has done it.  It&#39;s possible that there<br/>\nare bugs in one or all of the above modules that prevent that from<br/>\nworking, and we should fix those first.<br/>\n<br/>\nIf it does work, then the possibilities for improvement include:<br/>\n<br/>\n- Improving IDEA so that the &quot;allTests&quot; module is not necessary<br/>\n- Changing JUnit&#39;s Filter API so that using JUnitExt is cleaner.<br/>\n- Absorbing one or both of cpsuite and JUnitExt&#39;s category support<br/>\ninto JUnit core, to cut down on the number of separate moving parts.<br/>\n<br/>\nThanks,<br/>\n<br/>\n   David Saff</div>", 
    "prevInTime": 19564, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1184683824", 
    "canDelete": false, 
    "nextInTopic": 19568, 
    "prevInTopic": 19564, 
    "headers": {
        "inReplyToHeader": "PGY3aGxwaCtxcWRyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwNzE3MDc1MGk3ZWFmN2MwZHAyMzBkN2E0ZjFmZTI1ODc3QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDcwNzA5MDkxN2wyNTU0NzZjYXkzMjE1NGNhNzczNDJkMzQ2QG1haWwuZ21haWwuY29tPgkgPGY3aGxwaCtxcWRyQGVHcm91cHMuY29tPg=="
    }
}