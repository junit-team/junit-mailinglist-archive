{
    "topicId": 418, 
    "postDate": "981667076", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Robert Leftwich &lt;digital@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "BN3uHnRVNBuLxkiiW8qKm5ahhFLEdPlcxwpFtN_ksQ4BtjgbfuavDeVK2y0za_LsjTCqADQKP_So8B4XtVZIBYaX9LVgQNSPnQE", 
    "nextInTime": 419, 
    "userId": 0, 
    "prevInTime": 417, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDUuMC4yLjEuMC4yMDAxMDIwOTA3NDMzNy4wMjk1NTRmMEBkdWFsPg=="
    }, 
    "authorName": "Robert Leftwich", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "I am wanting to implement the classical write to temp file, rename existing file to old, rename new file to existing file, delete old file if all is well and I", 
    "contentTrasformed": false, 
    "msgId": 418, 
    "nextInTopic": 421, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;digital@...&gt;\r\nX-Sender: digital@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_0_3); 8 Feb 2001 21:19:24 -0000\r\nReceived: (qmail 78766 invoked from network); 8 Feb 2001 21:19:21 -0000\r\nReceived: from unknown (10.1.10.26) by m8.onelist.org with QMQP; 8 Feb 2001 21:19:21 -0000\r\nReceived: from unknown (HELO mail.ix.net.au) (203.33.239.11) by mta1 with SMTP; 8 Feb 2001 21:19:20 -0000\r\nReceived: from localhost (bm1.dialup.ix.net.au [203.76.1.1]) by mail.ix.net.au (8.9.3/8.8.7) with SMTP id IAA20718 for &lt;junit@yahoogroups.com&gt;; Fri, 9 Feb 2001 08:16:24 +1100\r\nReceived: from fastdual.ix.net.au ([192.168.0.1]) by localmail with ESMTP id 55 for &lt;junit@yahoogroups.com&gt;; Fri, 9 Feb 2001 08:22:04 +1100\r\nX-Mail-Server: Eserv/2.92/Digital Innovations Pty Ltd\r\nMessage-Id: &lt;5.0.2.1.0.20010209074337.029554f0@dual&gt;\r\nX-Sender: robert@dual\r\nX-Mailer: QUALCOMM Windows Eudora Version 5.0.2\r\nDate: Fri, 09 Feb 2001 08:17:56 +1100\r\nTo: junit@yahoogroups.com\r\nSubject: Unit testing system type failures\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed\r\nFrom: Robert Leftwich &lt;digital@...&gt;\r\n\r\nI am wanting to implement the classical write to temp file, rename existing \nfile to old, rename new file to existing file, delete old file if all is \nwell and I am looking for ways to unit test a system failure, i.e. the jvm \nor file system dying in the middle of it.\n\nA couple of possibilities spring to mind :\n\n1. Start the file manipulation in a separate thread and randomly destroy \nthe thread, checking to make sure that either the old file is still in tact \nor the new file is present and correct. This feels a little too random for \nmy taste and doesn&#39;t give me the warm, fuzzy feeling that unit tests \nusually do. It also only tests one aspect - the jvm style failure, not the \nfile system failure.\n\n2. Write a mock (or stub) File class that can be setup to simulate system \nfailures. This one sounds like too much effort, especially since File is \nnot an interface. Also this approach only tests the system style failure \nand not the jvm failure.\n\nHmmm ... I may have answered my own question here, but I&#39;ll throw it out \nfor comment. I am sure someone else has experience in this area they would \nlike to share.\n\nRobert\n\n\n", 
    "subject": "Unit testing system type failures"
}