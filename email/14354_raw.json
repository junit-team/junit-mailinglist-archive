{
    "numMessagesInTopic": 15, 
    "nextInTime": 14355, 
    "senderId": "rK5TMY-Aiww6pOA9fXaAsQtEhdmCXFOxebAMpD79BXt-AWn79T0sNQKJdgvOcs-pbOnvb57IKjmCMH9xHbz4eoQnhHpmdpdMTck", 
    "systemMessage": true, 
    "subject": "Re: [junit] Writing a test for a PrintStream and for a log rotation method", 
    "from": "Asif Sattar &lt;sattar_asif@...&gt;", 
    "authorName": "Asif Sattar", 
    "msgSnippet": "createLogFile() is private static because I want there to be only one instance of the logger class , the class createLogFile() belongs to (it s a singleton). ", 
    "msgId": 14354, 
    "rawEmail": "Return-Path: &lt;sattar_asif@...&gt;\r\nReceived: (qmail 98747 invoked from network); 12 Aug 2005 14:57:24 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m25.grp.scd.yahoo.com with QMQP; 12 Aug 2005 14:57:24 -0000\r\nReceived: from unknown (HELO n15a.bulk.scd.yahoo.com) (66.94.237.32)\n  by mta5.grp.scd.yahoo.com with SMTP; 12 Aug 2005 14:57:24 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.66.59] by n15.bulk.scd.yahoo.com with NNFMP; 12 Aug 2005 14:57:05 -0000\r\nReceived: from [66.218.66.80] by mailer8.bulk.scd.yahoo.com with NNFMP; 12 Aug 2005 14:57:05 -0000\r\nX-Sender: sattar_asif@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 4715 invoked from network); 11 Aug 2005 18:08:29 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m35.grp.scd.yahoo.com with QMQP; 11 Aug 2005 18:08:29 -0000\r\nReceived: from unknown (HELO web30013.mail.mud.yahoo.com) (68.142.201.216)\n  by mta3.grp.scd.yahoo.com with SMTP; 11 Aug 2005 18:08:29 -0000\r\nReceived: (qmail 86694 invoked by uid 60001); 11 Aug 2005 18:08:22 -0000\r\nMessage-ID: &lt;20050811180822.86692.qmail@...&gt;\r\nReceived: from [195.194.4.65] by web30013.mail.mud.yahoo.com via HTTP; Thu, 11 Aug 2005 11:08:22 PDT\r\nDate: Thu, 11 Aug 2005 11:08:22 -0700 (PDT)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;42FB8A67.1050409@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Asif Sattar &lt;sattar_asif@...&gt;\r\nSubject: Re: [junit] Writing a test for a PrintStream and for a log rotation method\r\nX-Yahoo-Group-Post: member; u=46895256; y=v5m2tIAZo_e41wqYSRskTnNc-4EsprR1xrtQXMp2IAB2maRjePc\r\nX-Yahoo-Profile: sattar_asif\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 12 Aug 2005 14:57:02 -0000\r\n\r\ncreateLogFile() is private static because I want there to\nbe only one instance of the logger class , the class\ncreateLogFile() belongs to (it&#39;s a singleton).\n\n--- Kevin Lawrence &lt;kevin@...&gt; wrote:\n\n&gt; 1. Why is createLogFile() private static ?\n&gt; \n&gt; If it were a public non-static method called create() in\n&gt; a class called, \n&gt; say, LogFile, you could separate the file creation from\n&gt; the stream \n&gt; handling and test each independently.\n&gt; \n&gt; 2. A common technique is to wrap the date handling in a\n&gt; class which you \n&gt; can then manipulate in your test.\n&gt; \n&gt; Kevin\n&gt; \n&gt; \n&gt; Asif Sattar wrote:\n&gt; &gt; Hi everyone,\n&gt; &gt; \n&gt; &gt; Two questions:\n&gt; &gt; \n&gt; &gt; 1. I&#39;m trying to write a test for a method that does\n&gt; not\n&gt; &gt; return anything.  It creates a printstream for writing\n&gt; to a\n&gt; &gt; log file.  I&#39;ve included the code below.  How do I go\n&gt; about\n&gt; &gt; writing a test for this?\n&gt; &gt; \n&gt; &gt;     private static void createLogFile() {\n&gt; &gt; \n&gt; &gt;         Date currentDate = new Date();\n&gt; &gt;         if (logFilePrintStream == null || logFileDate\n&gt; ==\n&gt; &gt; null || currentDate.after(logFileDate)) {\n&gt; &gt;             String logFileInstanceName =\n&gt; logFileDirectory +\n&gt; &gt; &#39;&#92;&#92;&#39; + logFilePrefix\n&gt; &gt;                     +\n&gt; &gt; logFileNameDateFormat.format(logFileDate) + &quot;.log&quot;;\n&gt; &gt;             logFileDate = currentDate;\n&gt; &gt; \n&gt; &gt;             try {\n&gt; &gt;                 logFilePrintStream = new\n&gt; PrintStream(new\n&gt; &gt; FileOutputStream(logFileInstanceName, true));\n&gt; &gt;                 System.setErr(logFilePrintStream);\n&gt; &gt;                 System.setOut(logFilePrintStream);\n&gt; &gt;             } catch (IOException ioe) {\n&gt; &gt;                 ioe.printStackTrace();\n&gt; &gt;             } catch (SecurityException e) {\n&gt; &gt;                 e.printStackTrace();\n&gt; &gt;             }\n&gt; &gt;             \n&gt; &gt;             logRotation();\n&gt; &gt;         }\n&gt; &gt;     }\n&gt; &gt; \n&gt; &gt; 2. The logrotation method above basically rotates log\n&gt; files\n&gt; &gt; based on dates and deletes files if they are more than\n&gt; 7\n&gt; &gt; days old.  Any ideas on how to write a test for this? \n&gt; &gt; Again, code attached below:\n&gt; &gt; \n&gt; &gt;     private static void logRotation() {\n&gt; &gt;         LinkedList logFilesInLogDirectory = new\n&gt; &gt; LinkedList();     \n&gt; &gt;         \n&gt; &gt;         // Populate logFilesInLogDirectory with files\n&gt; in\n&gt; &gt; logFileDirectory\n&gt; &gt;         File logFilesInDirectory = new\n&gt; &gt; File(logFileDirectory);\n&gt; &gt;         String[] logFilesArray =\n&gt; &gt; logFilesInDirectory.list();\n&gt; &gt;         logFilesInLogDirectory = new\n&gt; &gt; LinkedList(Arrays.asList(logFilesArray));\n&gt; &gt; \n&gt; &gt; \n&gt; &gt;         \n&gt; &gt;         // Remove files that are not smart card log\n&gt; files\n&gt; &gt; from file list\n&gt; &gt;         for (int i = 0; i &lt;\n&gt; logFilesInLogDirectory.size();\n&gt; &gt; i++) {\n&gt; &gt;            \n&gt; &gt;\n&gt;\nif(!((String)logFilesInLogDirectory.get(i)).startsWith(logFilePrefix))\n&gt; &gt; {\n&gt; &gt;                 logFilesInLogDirectory.remove(i);\n&gt; &gt;             }\n&gt; &gt;         }\n&gt; &gt;         \n&gt; &gt;         // Delete oldest files if there are more than\n&gt; &gt; noOfPreviousLogFiles files  \n&gt; &gt;         if (logFilesInLogDirectory.size() &gt;\n&gt; &gt; noOfPreviousLogFiles) {\n&gt; &gt;             Collections.sort(logFilesInLogDirectory);\n&gt; &gt;             for (int i = (noOfPreviousLogFiles-1); i &lt;\n&gt; &gt; logFilesInLogDirectory.size(); i++) {\n&gt; &gt;                 new\n&gt; &gt;\n&gt; File((String)logFilesInLogDirectory.remove(i)).delete();\n&gt; &gt;             }\n&gt; &gt;         }\n&gt; &gt;     }\n&gt; &gt; \n&gt; &gt; Regards\n&gt; &gt; \n&gt; &gt; Asif\n&gt; &gt; \n&gt; &gt; __________________________________________________\n&gt; &gt; Do You Yahoo!?\n&gt; &gt; Tired of spam?  Yahoo! Mail has the best spam\n&gt; protection around \n&gt; &gt; http://mail.yahoo.com \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; \n&gt; \n\n\nAsif\n\n\n\t\t\n____________________________________________________\nStart your day with Yahoo! - make it your home page \nhttp://www.yahoo.com/r/hs \n \n\n\n\n", 
    "profile": "sattar_asif", 
    "topicId": 14345, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 46895256, 
    "prevInTime": 14353, 
    "contentTrasformed": false, 
    "postDate": "1123783702", 
    "canDelete": false, 
    "nextInTopic": 14355, 
    "prevInTopic": 14352, 
    "headers": {
        "inReplyToHeader": "PDQyRkI4QTY3LjEwNTA0MDlAZGlhbW9uZC1za3kuY29tPg==", 
        "messageIdInHeader": "PDIwMDUwODExMTgwODIyLjg2NjkyLnFtYWlsQHdlYjMwMDEzLm1haWwubXVkLnlhaG9vLmNvbT4="
    }
}