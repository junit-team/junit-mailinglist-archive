{
    "numMessagesInTopic": 4, 
    "nextInTime": 14234, 
    "senderId": "eKC7UJM-NOtG3EcLdA-Bxt1oXfot3zo7E5lLAEFLYHtslDSf33C_CBNl8kB2_cB8pyxY3CHrah46SzTFPptf3ndpPY6oCek", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Asynchronous Methods??", 
    "from": "Neil Swingler &lt;neil@...&gt;", 
    "authorName": "Neil Swingler", 
    "msgSnippet": "e.g. using a FutureResult FutureResult future = new FutureResult(); foo.addListener(new Listener(){ public void eventOccurred(Event event){ future.set(event); ", 
    "msgId": 14233, 
    "profile": "neil_swingler", 
    "topicId": 14223, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 230174996, 
    "messageBody": "<div id=\"ygrps-yiv-1989278709\">e.g. using a FutureResult<br/>\n<br/>\nFutureResult future = new FutureResult();<br/>\nfoo.addListener(new Listener(){<br/>\n    public void eventOccurred(Event event){<br/>\n      future.set(event);<br/>\n    }<br/>\n  });<br/>\n<br/>\nfoo.doSomethingThatWillFireEventsOnAnotherThread();<br/>\n<br/>\nassertEquals(expectedEvent, future.get());   // future.get() will block <br/>\nuntil the result is available<br/>\n<br/>\n -Neil<br/>\n<br/>\nDavid Saff wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt;&gt;If at all possible, make your unit tests single threaded.<br/>\n&gt;&gt;Use mock objects for listeners ( <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jmock.org\">http://www.jmock.org</a> ).<br/>\n&gt;&gt;If your test really has to be multithreaded, use the util.concurrent <br/>\n&gt;&gt;channel classes (now part of java 5) to post events back to the <br/>\n&gt;&gt;testing thread where you can make assertions.<br/>\n&gt;&gt;Don&#39;t use Thread.sleep. That would make your tests slow and fragile.<br/>\n&gt;&gt;    <br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;At the risk of repeating myself, could you give a quick example of a <br/>\n&gt;multi-threaded test using util.concurrent?  Thanks,<br/>\n&gt;<br/>\n&gt;    David Saff<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; <br/>\n&gt;Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 14232, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1122497293", 
    "canDelete": false, 
    "nextInTopic": 14235, 
    "prevInTopic": 14225, 
    "headers": {
        "inReplyToHeader": "PDQyRTc0MTc0LjIwNDA5MDVAbWl0LmVkdT4=", 
        "messageIdInHeader": "PDQyRTdGMzBELjgwODAwMDNAc3dpbmdsZXIuY2g+", 
        "referencesHeader": "PEUxRHhndEotMDAwMmFILTAwQHNlcnYwMS5zd2luZ2xlci5jaD4gPDQyRTc0MTc0LjIwNDA5MDVAbWl0LmVkdT4="
    }
}