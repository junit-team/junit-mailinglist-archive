{
    "numMessagesInTopic": 6, 
    "nextInTime": 4926, 
    "senderId": "fjsNzcX4P-Btoy0RGkEMRQodx25VKtLZJlg1l6bI7Gb2P1yb4XaVR8GeJn6NK53UPO6-63-QWskx3ru6922P4Ku0RZckkw", 
    "systemMessage": false, 
    "subject": "Re: unit testing philosophy", 
    "from": "&quot;cilqproj&quot; &lt;cilqproj@...&gt;", 
    "authorName": "cilqproj", 
    "msgSnippet": "The problem is that I m struggling to test a pretty complex piece of code and I m trying to get some advice ( hints, help, etc .. ) to help me tackle it. In", 
    "msgId": 4925, 
    "profile": "cilqproj", 
    "topicId": 4923, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 112605396, 
    "messageBody": "<div id=\"ygrps-yiv-490604091\">The problem is that I&#39;m struggling to test a pretty complex piece of<br/>\ncode and I&#39;m trying to get some advice ( hints, help, etc .. ) to help<br/>\nme tackle it.  <br/>\n<br/>\nIn the real world, I use ATG Dynamo.  If you&#39;ve heard of it or used<br/>\nit, it&#39;s an App Server / EJB Container.   Dynamo&#39;s entire framework is<br/>\nbased off this component known as Nucleus, which does a lot of work in<br/>\nterms of instantiating classes, setting properties, etc..  It&#39;s also<br/>\nvery slow and to test - build - test takes forever if I have to start<br/>\nand stop the app-server for every change in the code. <br/>\n<br/>\nThat&#39;s where MockObjects come in.  Dynamo is a very Java Beans heavy<br/>\nframework, that relies a lot on setters and getters.  ( In fact, the<br/>\nMockObjects guys at SF have started putting together some Dynamo<br/>\nMockObjects. ) I was looking into MockObjects as a way to lessen my<br/>\nreliance on the Nucleus namespace so that I could code quickly and<br/>\nonly integrate with the Nucleus namespace at the latest possible time.<br/>\n<br/>\nHowever, I can&#39;t get my head around the fact that in certain cases my<br/>\nmock code will need to generate other mock code <br/>\n<br/>\nHere&#39;s a method from a piece of old code that I wrote before I decided<br/>\nto start using JUnit:<br/>\n<br/>\n    public  Map generateEmptyPreferencesMap( Map m ) throws<br/>\nRepositoryException {<br/>\n<br/>\n\t// get the list of possible preferences<br/>\n\tRepositoryView contactMethodView = getPreferencesRepository().getView(<br/>\nCONTACT_METHOD_REPOSITORY_ITEM );<br/>\n\tRepositoryItem[] contactMethods = contactMethodView.executeQuery(<br/>\ncontactMethodView.getQueryBuilder().createUnconstrainedQuery() );<br/>\n\t<br/>\n\tif ( ( contactMethods != null ) && ( contactMethods.length &gt; 0 ) )  {<br/>\n\t    // add each one to the map<br/>\n\t    for ( int i = 0 ; i &lt; contactMethods.length ; i++ ) {<br/>\n\t\tm.put( contactMethods[i].getPropertyValue(<br/>\nCONTACT_METHOD_CODE_PROPERTY_NAME ), new BooleanPlaceHolder() );<br/>\n\t    }<br/>\n\t}<br/>\n     return m;<br/>\n    }<br/>\n     <br/>\n<br/>\nThe Repository API is Dynamo&#39;s object-oriented data abstraction api. <br/>\nIn this case, I assume I would setPreferencesRepository( new<br/>\nMyMockRepository()  )<br/>\n<br/>\nbut that MockRepository needs to return a MockRepositoryView which in<br/>\nturn needs to return a MockQueryBuilder, or so I seem to believe.<br/>\n<br/>\nIn a sentence:  how would one test this?  <br/>\n<br/>\nAs before,<br/>\nAny and all help is greatly appreciated.<br/>\n<br/>\nI apologize for any unnecessary lengthiness.<br/>\n<br/>\nThanks,<br/>\n<br/>\nAadi<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In junit@y..., Bob Koss &lt;koss@o...&gt; wrote:<br/>\n&gt; <br/>\n&gt; It would help if you&#39;d tell us what the problem is instead of presenting<br/>\n&gt; your solution of the problem as the problem.<br/>\n&gt; <br/>\n&gt; I&#39;ve never needed mocks inside of mocks - it doesn&#39;t even make sense.<br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 4924, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1020990236", 
    "canDelete": false, 
    "nextInTopic": 4938, 
    "prevInTopic": 4924, 
    "headers": {
        "inReplyToHeader": "PEI5MDA4NjQwLjdGNDQla29zc0BvYmplY3RtZW50b3IuY29tPg==", 
        "messageIdInHeader": "PGFiZjN1cys1YzFsQGVHcm91cHMuY29tPg=="
    }
}