{
    "numMessagesInTopic": 6, 
    "nextInTime": 3121, 
    "senderId": "bkesM35riTVPN2-i48J4KLBKKoz4TZ2QnlaMqUB9sndLdNiiTtnLQRPc4BDtvnnnI457jjIZAViNkqY", 
    "systemMessage": false, 
    "subject": "Re: Behavior of tearDown and exceptions", 
    "from": "nils_khare@...", 
    "authorName": "nils_khare@yahoo.com", 
    "msgSnippet": "Hi Matt, JUnit behaves in the following way for catching Exceptions and a little modification in the test code would help solving your problem. 1) public void", 
    "msgId": 3120, 
    "profile": "nils_khare", 
    "topicId": 3084, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1678997896\">Hi Matt,<br/>\n<br/>\nJUnit behaves in the following way for catching Exceptions and a <br/>\nlittle modification in the test code would help solving your problem.<br/>\n <br/>\n1) public void testFoo() throws SomeDBException{<br/>\n     //Some code that would throw SomeDBException<br/>\n   }<br/>\n<br/>\nJUnit would automatically catch the Exception and display that as an <br/>\nError (denoted by E in the output). In the description below it would <br/>\ngive details about this Exception.<br/>\n<br/>\n2) public void testFoo(){<br/>\n      try{<br/>\n        //Some code that would throw SomeDBException<br/>\n      }<br/>\n      catch(SomeDBException e){<br/>\n        //Option I  - Nothing<br/>\n        //Option II -<br/>\n        fail(&quot;SomeDBException caught&quot;);<br/>\n      }<br/>\n<br/>\nIn this second case when SomeDBException is thrown with Option I, <br/>\nJUnit would assume that you are trying to catch this Exception and <br/>\nassuming that this is a negative test would &#39;PASS&#39; the test.<br/>\n<br/>\nIn this second case when Option II is put into effect by giving a <br/>\nspecific fail() command, JUnit makes the method to &#39;FAIL&#39;.<br/>\n<br/>\nOut of the two of the above, if you are really not interested in <br/>\ncatching the Exeption then it should be just declared to be thrown <br/>\nand not explicitly caught and then JUnit would give you the result <br/>\nthe way you want it.<br/>\n<br/>\nIf you are doing this all and still getting the mentioned <br/>\nSomeDBException then that means something needs to be investigated <br/>\nfurther.<br/>\n<br/>\nI would never modify the Production code in order to make my tests <br/>\npass or fail.<br/>\n<br/>\n- Nilesh<br/>\n<br/>\n--- In junit@y..., &quot;Di Iorio, Matthew (ISS Atlanta)&quot; &lt;mdiiorio@i...&gt; <br/>\nwrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Laurent&#39;s message about tearDown getting called reminded me of <br/>\n </span></blockquote>something<br/>\n<blockquote><span title=\"ireply\"> &gt; I&#39;ve wanted to post to the list.<br/>\n&gt; <br/>\n&gt; A few weeks back I was working with some database tests and was <br/>\n </span></blockquote>getting odd<br/>\n<blockquote><span title=\"ireply\"> &gt; behavior.  It took me a little while to figure it out, but what was<br/>\n&gt; happening was a test method was throwing an exception because of <br/>\n </span></blockquote>some<br/>\n<blockquote><span title=\"ireply\"> &gt; database error.  The tearDown method attempted to cleanup after the <br/>\n </span></blockquote>test and<br/>\n<blockquote><span title=\"ireply\"> &gt; it also threw a database exception.  All I got back was the <br/>\n </span></blockquote>exception that<br/>\n<blockquote><span title=\"ireply\"> &gt; occurred in tearDown, not the exception that occurred in the test <br/>\n </span></blockquote>method.<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; It was a real pain because I had to modify the production code to <br/>\n </span></blockquote>catch and<br/>\n<blockquote><span title=\"ireply\"> &gt; print the exception so I could uncover the actual problem.<br/>\n&gt; <br/>\n&gt; My preferred solution would be to print both exceptions.  If I get <br/>\n </span></blockquote>an<br/>\n<blockquote><span title=\"ireply\"> &gt; exception in testFoo and in tearDown, JUnit should print the <br/>\n </span></blockquote>following:<br/>\n<blockquote><span title=\"qreply\"> &gt; <br/>\n&gt; 1) testFoo(net.iss.FooTest) <br/>\n&gt; java.lang.Exception<br/>\n&gt; \tat ...<br/>\n&gt; Exception in tearDown:<br/>\n&gt; java.lang.Exception<br/>\n&gt; \tat ...<br/>\n&gt; <br/>\n&gt; I would be willing to put together a patch to do this.  Comments?<br/>\n&gt; <br/>\n&gt; Matt </span></blockquote></div>", 
    "prevInTime": 3119, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1004137936", 
    "canDelete": false, 
    "nextInTopic": 3151, 
    "prevInTopic": 3084, 
    "headers": {
        "inReplyToHeader": "PEZENkIwMjQ0NzY2REQ1MTE4QUMwMDAzMDZFMDBCMEIxMkYwRDA4QG1zZ2F0bDA3Lmlzcy5uZXQ+", 
        "messageIdInHeader": "PDlyY3FrZytkNWQ2QGVHcm91cHMuY29tPg=="
    }
}