{
    "numMessagesInTopic": 11, 
    "nextInTime": 904, 
    "senderId": "VU9V0uhY_n3RmK_DmLbRcfBTOCpbn_wRljKEsL-LBMRuNlxFnjV4a8tuqDvLiR1Fv2pm-Hs9UJx61ETub1gPNlwZc7ZJDKkb3BC3AHtzEg", 
    "systemMessage": false, 
    "subject": "RE: [junit] Best practice with EJB", 
    "from": "Robert Watkins &lt;robertw@...&gt;", 
    "authorName": "Robert Watkins", 
    "msgSnippet": "... You can poke me every so often so I don t procrastinate. :) Actually, I ve collected a lot of material in the last few weeks, and I just need to polish it", 
    "msgId": 903, 
    "topicId": 870, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-312188818\">\n<html>\n<head>\n \n \n<title>RE: [junit] Best practice with EJB</title>\n</head>\n \n\n<p><font SIZE=\"2\">Ralf Krakowski writes:</font>\n<br><font SIZE=\"2\">&gt; Thanks a lot for your response. </font>\n<br><font SIZE=\"2\">&gt; Any write up of such a paper would be great since I am new to both</font>\n<br><font SIZE=\"2\">&gt; JUnit and EJB. Could I help you in any way?</font>\n</p>\n\n<p><font SIZE=\"2\">You can poke me every so often so I don&#39;t procrastinate. :) Actually, I&#39;ve collected a lot of material in the last few weeks, and I just need to polish it up a bit. I&#39;m not aiming at formal publication or anything... just an article on junit.org would be the limits of my humble ambition.</font></p>\n\n<p><font SIZE=\"2\">&gt; Could you please submit a simple example of a the &quot;smart&quot; function</font>\n<br><font SIZE=\"2\">&gt; (method :-) you talked about.</font>\n</p>\n\n<p><font SIZE=\"2\">Um. Okay.</font>\n</p>\n\n<p><font SIZE=\"2\">Here&#39;s a sample test method:</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp; public void testGetMerchantId() throws java.rmi.RemoteException {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; obtainMerchant(&quot;Merchant1&quot;);</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assertEquals(&quot;Merchant1&quot;, getSample().getMerchantId());</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp; }</font>\n</p>\n\n<p><font SIZE=\"2\">Here&#39;s a smart implementation of obtainMerchant:</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp; protected void obtainMerchant(String merchantId) {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (EjbHelper.isLive()) {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; javax.ejb.EJBHome ejbHome = EjbHelper.lookupHome(MERCHANT_HOME, MerchantHome.class);</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MerchantHome home = (MerchantHome)ejbHome;</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setSample(home.create(merchantId));</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (javax.ejb.CreateException e) {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new RuntimeException(&quot;CreateException: &quot; + e.getMessage());</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (javax.naming.NamingException e) {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new RuntimeException(&quot;NamingException: &quot; + e.getMessage());</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (java.rmi.RemoteException e) {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throw new RuntimeException(&quot;RemoteException: &quot; + e.getMessage());</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else {</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new MerchantImpl(merchantId);</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp; }</font>\n</p>\n\n<p><font SIZE=\"2\">(EjbHelper is a utility class, but it should be fairly obvious what it does, from context). About the only thing that&#39;s not clear is that EjbHelper.isLive() returns Boolean.getBoolean(&quot;EJB_LIVE_MODE&quot;), allowing EJB testing to be turned on or off by supplying a system property.</font></p>\n\n<p><font SIZE=\"2\">&gt; Any other tips and practical issues regarding testing and EJB would</font>\n<br><font SIZE=\"2\">&gt; be great.</font>\n</p>\n\n<p><font SIZE=\"2\">I&#39;ll see what I can come up with.</font>\n</p>\n\n<p><font SIZE=\"2\">&gt; I have heard that this (testing locally and then live) is not</font>\n<br><font SIZE=\"2\">&gt; nessesary with Visual Age since you can run your appserver within</font>\n<br><font SIZE=\"2\">&gt; Visual Age...? Is this true?</font>\n</p>\n\n<p><font SIZE=\"2\">Technically, this is true, or so I&#39;m told. When I was playing with EJB 1.0, I didn&#39;t have Visual Age. When I had Visual Age, I&#39;d moved on to EJB 1.1, which VAJ doesn&#39;t support. However, I&#39;ve got a goal of being able to run my unit tests from the command line, via Ant, so I wouldn&#39;t want to rely on such support, anyway (though it would be handy for the odd debugging session).</font></p>\n\n<p><font SIZE=\"2\">However, VAJ doesn&#39;t like more than one person working on an EJB group (a collection of related EJBs) at a time (it will actually end up corrupting the repository, given enough time, and will produce all sorts of weird side effects in the interim). If you&#39;re working by yourself, that&#39;s not a problem. If you&#39;re working with others, it&#39;s nasty. There&#39;s a review on theserverside.com, by Bartek Kiepuszewski (a former co-worker of mine), which details all the hassles we had doing EJB development in VAJ and WebSphere. (<a rel=\"nofollow\" target=\"_blank\" HREF=\"http://theserverside.com/reviews/thread.jsp?thread_id=2974\">http://theserverside.com/reviews/thread.jsp?thread_id=2974</a>)</font></p>\n\n<p><font SIZE=\"2\">Robert.</font>\n</p>\n\n<p><font SIZE=\"2\">-- </font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp; &quot;Duct tape is like the Force: it has a light side, a dark side,</font>\n<br><font SIZE=\"2\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and it holds the universe together&quot;</font>\n<br><font SIZE=\"2\">&nbsp; Robert Watkins&nbsp;&nbsp;&nbsp;&nbsp; robertdw@...&nbsp;&nbsp;&nbsp;&nbsp; robertw@...</font>\n</p>\n\n \n</html></div>", 
    "prevInTime": 902, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "986430976", 
    "canDelete": false, 
    "nextInTopic": 907, 
    "prevInTopic": 881, 
    "headers": {
        "messageIdInHeader": "PDMzQTVFNjk5REFDNEQ0MTE5N0MyMDA1MDhCQUY1MjE3MkE1N0NEQGF1Ym5tc3gwMS5xc2kuY29tLmF1Pg=="
    }
}