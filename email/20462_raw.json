{
    "numMessagesInTopic": 7, 
    "nextInTime": 20463, 
    "senderId": "Ly-ThKj_uKKfEw7fAv-1FdIu4JyrWfaHGS7MXWqEsPgbtERNjp1v_RaAhrrM0SJmZN2xWj_DkJrDnRUJRAjRdSYT5sacDjdB", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: testing interfaces only and dependecy injection in test cases", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Jens, I think I understand your situation. What makes it a challenge for JUnit 4 is that the new architecture is a DSL and the binding is intended to happen at", 
    "msgId": 20462, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 73377 invoked from network); 25 Apr 2008 15:00:30 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m43.grp.scd.yahoo.com with QMQP; 25 Apr 2008 15:00:30 -0000\r\nX-Received: from unknown (HELO elasmtp-junco.atl.sa.earthlink.net) (209.86.89.63)\n  by mta18.grp.scd.yahoo.com with SMTP; 25 Apr 2008 15:00:29 -0000\r\nX-Received: from [71.210.4.46] (helo=kentspavilion)\n\tby elasmtp-junco.atl.sa.earthlink.net with esmtpa (Exim 4.67)\n\t(envelope-from &lt;kentb@...&gt;)\n\tid 1JpPPX-0001U6-0r\n\tfor junit@yahoogroups.com; Fri, 25 Apr 2008 11:00:29 -0400\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;17fa53d0804231359g7f218a70re388615defeb9cd7@...&gt; &lt;fuobat+nrka@...&gt;\r\nDate: Fri, 25 Apr 2008 08:00:18 -0700\r\nMessage-ID: &lt;014301c8a6e5$14f018a0$6bfe140a@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nX-Mailer: Microsoft Office Outlook 11\r\nIn-Reply-To: &lt;fuobat+nrka@...&gt;\r\nThread-Index: Acil2zcLDbcwlc7fTQSsHiCeH+8UrwAM7OZQ\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d47825c03fe7276c88f5c351c78f35cd32a13b7c960e30a95876350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Kent Beck&quot; &lt;kentb@...&gt;\r\nSubject: RE: [junit] Re: testing interfaces only and dependecy injection in test cases\r\nX-Yahoo-Group-Post: member; u=173198504; y=7zjisOPWPlWcF3fkrowOFVk5h6NgQuWZyzfkKFVCmY4KW-oH\r\nX-Yahoo-Profile: kentlbeck\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nJens,\n \nI think I understand your situation. What makes it a challenge for JUnit 4\nis that the new architecture is a DSL and the binding is intended to happen\nat compile time. I wonder if a JUnit 3.8-style test would be easier. Here is\npseudo-code for what I&#39;m thinking:\n \npublic void testDiscoveredList(Class klass) {\n    TestSuite suite= new TestSuite(ListTest.class);\n    for (Test each : suite.tests) { // Does this work for Enumeration?\n        ListTest test= (ListTest) each; // Sorry about the downcast...\n        each.setList(createList(klass));\n    }\n    junit.framework.TestResult result= new junit.framework.TestResult();\n    suite.run(result);\n    ...check results and act appropriately\n}\n \nOn a larger scale, what is interesting to me about this example is the way\nthe shift to a DSL encouraged earlier binding and the resulting loss of\nimportant (to you) flexibility. \n \nI&#39;m sure you could accomplish the above with the JUnit 4 model, but you&#39;d\nhave to circumvent more of it. We&#39;re trying to address this with the changes\nin 4.5, but I&#39;m not sure it would easily accomodate your scenario even so.\nI&#39;d love to see a custom runner to prove me wrong, though.\n \nTake care,\n \nKent Beck\nThree Rivers Institute\n\n  _____  \n\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\njensnz\nSent: Wednesday, April 23, 2008 2:57 PM\nTo: junit@yahoogroups.com\nSubject: [junit] Re: testing interfaces only and dependecy injection in test\ncases\n\n\n\nWhat I am trying to avoid are explicit references to implementation\nclasses in test cases, like in\nassertAddingAnElementIncreasesTheSizeByOne(new ArrayList());. \n\nThe background of my question is the following: I want to use tests in\na scenario where interfaces describe services (like in OSGI). When a\nservice becomes available (a class implementing the interface), I want\nto run all tests for this service at runtime (!) to verify that the\nservice has the correct behaviour. I cannot do this at build time as\nthe service is discovered dynamically and I don&#39;t own the\nimplementation. So I somehow have to inject the service implementation\ninto the test case before setUp is executed.\n\nJens\n\n\n\n \n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 20454, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 20461, 
    "contentTrasformed": false, 
    "postDate": "1209135618", 
    "canDelete": false, 
    "nextInTopic": 20464, 
    "prevInTopic": 20461, 
    "headers": {
        "inReplyToHeader": "PGZ1b2JhdCtucmthQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAxNDMwMWM4YTZlNSQxNGYwMThhMCQ2YmZlMTQwYUBrZW50c3BhdmlsaW9uPg==", 
        "referencesHeader": "PDE3ZmE1M2QwODA0MjMxMzU5ZzdmMjE4YTcwcmUzODg2MTVkZWZlYjljZDdAbWFpbC5nbWFpbC5jb20+IDxmdW9iYXQrbnJrYUBlR3JvdXBzLmNvbT4="
    }
}