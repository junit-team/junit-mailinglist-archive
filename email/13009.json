{
    "numMessagesInTopic": 14, 
    "nextInTime": 13010, 
    "senderId": "B7rkVBoy0AcW_EPQAml98Z2QOeP3JkVBRiWDsqv3j8JC1jEn6lrkuO6ToOQb6ZPvp11fpsqg493HOs7ZlIuCe2wAJ5KRMgykTMSMcww", 
    "systemMessage": false, 
    "subject": "[junit] Some Thoughts on Using Using EasyMock", 
    "from": "Kevin Lawrence &lt;kevin@...&gt;", 
    "authorName": "Kevin Lawrence", 
    "msgSnippet": "... Related questions : [I just flicked through all the relevant chapters in JUnit Recipes to avoid the inevitable :-) ] I have always written", 
    "msgId": 13009, 
    "profile": "kevinwilliamlawrence", 
    "topicId": 13004, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 81949451, 
    "messageBody": "<div id=\"ygrps-yiv-479118822\">Michael Schuerig wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; Unfortunately, I&#39;ve also got the third method that has to return <br/>\n&gt; something and there this approach does not work. So far, I&#39;ve been <br/>\n&gt; using to EasyMock to prepare a mock callback handler, but it is pretty <br/>\n&gt; painful to record each and every expected call, even when using some <br/>\n&gt; procedural abstraction.<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>Related questions :<br/>\n<br/>\n[I just flicked through all the relevant chapters in JUnit Recipes to <br/>\navoid the inevitable :-) ]<br/>\n<br/>\nI have always written stubs/mocks/fakes by hand but I have wanted to <br/>\ngive EasyMock a try for a while now and did so on a toy project (a robot <br/>\nfor Robocode if you really want to know !)<br/>\n<br/>\n<br/>\nWith EasyMock. I found that all my tests suddenly got more verbose and <br/>\nmore fragile.<br/>\n<br/>\n<br/>\nOn fragility :<br/>\n<br/>\nLets say I want to pass an interface into a constructor :<br/>\n<br/>\npublic void testXXX {<br/>\n   IRobot robot = &lt;from easy mock&gt;<br/>\n   // setup some expectations<br/>\n<br/>\n   Radar radar = new Radar(robot);<br/>\n   // an assertion about the radar<br/>\n}<br/>\n<br/>\nI have a whole bunch of tests like this (suitably factored using setup() <br/>\nand the like).<br/>\n<br/>\nThe problem comes when I later want to do something extra in the radar&#39;s <br/>\nconstructor, say robot.getRadarHeading().  Now every test that calls the <br/>\nconstructor will need to change to set the appropriate expectation.<br/>\n<br/>\n<br/>\n<br/>\nOn verbosity :<br/>\n<br/>\nIf I did this manually, I would probably generate a base mock object for <br/>\nIRobot that has sensible default behavior and then extend it anonymously <br/>\nfor particular tests. If a method does three things, I can write a test <br/>\nfor just one of those things. I find that when I use EasyMock, every <br/>\ntest has to be aware of those three things and hence every test seems to <br/>\nbe about three times bigger than it would otherwise have been.<br/>\n<br/>\n<br/>\nand one last quibble :<br/>\n<br/>\nThe vast majority of my tests lok like this :<br/>\n<br/>\npublic void testXXX() {<br/>\n   // some setup<br/>\n   // an operation<br/>\n   // some assertions<br/>\n}<br/>\n<br/>\nbut with easy mock my tests look more like this :<br/>\n<br/>\npublic void testXXX() {<br/>\n   // some setup mixed in with expectations<br/>\n   // an operation<br/>\n   // verify<br/>\n}<br/>\n<br/>\nIt&#39;s often hard to tell the setup from the expectations, which feels <br/>\nlike a loss from an &quot;express intent&quot; point of view.<br/>\n<br/>\n<br/>\nDoes this match other people&#39;s experience ? How do YOU deal with them ? <br/>\nAny suggestions for me ? Am I doing everything completely wrong ? Should <br/>\nI just suck it up ?<br/>\n<br/>\n<br/>\nThanks in advance !<br/>\n<br/>\n<br/>\nKevin</div>", 
    "prevInTime": 13008, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1109872963", 
    "canDelete": false, 
    "nextInTopic": 13019, 
    "prevInTopic": 13008, 
    "headers": {
        "inReplyToHeader": "PDIwMDUwMzAzMTEzNy4wMzEwNC5taWNoYWVsQHNjaHVlcmlnLmRlPg==", 
        "messageIdInHeader": "PDQyMjc1MTQzLjEwMTA2MDJAZGlhbW9uZC1za3kuY29tPg==", 
        "referencesHeader": "PDIwMDUwMzAzMTEzNy4wMzEwNC5taWNoYWVsQHNjaHVlcmlnLmRlPg=="
    }
}