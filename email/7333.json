{
    "numMessagesInTopic": 9, 
    "nextInTime": 7334, 
    "senderId": "dV262Q4zNzRvnOArUEu4x-4fsgoFS0t0q0RCST1hM3ymES-e-4krA0G7322p4vVXcEG-Ajm--nQN1pIwB6sn_8zj6FDdeo2Mq5k", 
    "systemMessage": false, 
    "subject": "Re: [junit] ThreadLocal", 
    "from": "Kevin Klinemeier &lt;zipwow@...&gt;", 
    "authorName": "Kevin Klinemeier", 
    "msgSnippet": "... I think Jason was including the factory approach in the ... I think the question he was getting at (or at least one that I run into) is how to create", 
    "msgId": 7333, 
    "profile": "zipwow", 
    "topicId": 7316, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 82914509, 
    "messageBody": "<div id=\"ygrps-yiv-1939990283\"><blockquote><span title=\"ireply\">&gt; &gt;    Have a missed a choice?<br/>\n&gt; <br/>\n&gt; Yes, the ones I mentioned on my previous response.  Factories for<br/>\n&gt; instance.  <br/>\n<br/>\n </span></blockquote>I think Jason was including the factory approach in the<br/>\n&#39;globals/static&#39; category, especially since you say:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; The Factory could be globally<br/>\n&gt; accessible, if that makes sense or pass it in at creation time. <br/>\n<br/>\n </span></blockquote>I think the question he was getting at (or at least one that I run<br/>\ninto) is how to create static factories that do useful things (like<br/>\nhand out database connections), but still use mockObjects for unit<br/>\ntesting.<br/>\n<br/>\nUsing threadlocals seems like an interesting approach, although I&#39;ll<br/>\nadmit I kind of feel bad for doing it.  Can someone think of specific<br/>\nproblems with this approach, as it otherwise seems like a good idea: <br/>\nMy unit tests get to specify the static factories for their test<br/>\nenvironment, and it avoids stepping on the toes of other tests. <br/>\nFurthermore, my test can configure the factories in a number of ways,<br/>\ntesting a number of possible configurations.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Let&#39;s say I have a DBQuery that obviously needs a DatabaseConnection<br/>\n&gt; to do much of its work.  The query doesn&#39;t need the connection for<br/>\n </span></blockquote>its<br/>\n<blockquote><span title=\"ireply\"> &gt; full life-span, only for the short period of time in which to run <br/>\n&gt; against the DB, perhaps the rest of the time is doing maintenance<br/>\n </span></blockquote>work <br/>\n<blockquote><span title=\"ireply\"> &gt; or creating Record objects to represent a row in the DB, etc.  So, I <br/>\n&gt; make a Factory (in this case probably a pool) available from which<br/>\n </span></blockquote>the <br/>\n<blockquote><span title=\"ireply\"> &gt; query can grab a connection when it needs it and then give it back.  <br/>\n&gt; The connection too has things that it may need only for a short<br/>\n </span></blockquote>period <br/>\n<blockquote><span title=\"ireply\"> &gt; of time and can give them up -- i.e. a Prepared or CallableStatement.<br/>\n <br/>\n&gt;<br/>\n&gt; It can get the statement from a factory it has access to and then<br/>\n </span></blockquote>give <br/>\n<blockquote><span title=\"ireply\"> &gt; it back when it&#39;s done.<br/>\n<br/>\n </span></blockquote>Right -- how do you use MockObjects with that?<br/>\n<br/>\n-Kevin<br/>\n<br/>\n__________________________________________________<br/>\nDo you Yahoo!?<br/>\nYahoo! Platinum - Watch CBS&#39; NCAA March Madness, live on your desktop!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://platinum.yahoo.com\">http://platinum.yahoo.com</a></div>", 
    "prevInTime": 7332, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1048539283", 
    "canDelete": false, 
    "nextInTopic": 7381, 
    "prevInTopic": 7328, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMzI0MjAxOTA1LkQ2NkJGMTQzMkNAd3d3LmZhc3RtYWlsLmZtPg==", 
        "messageIdInHeader": "PDIwMDMwMzI0MjA1NDQzLjkxOTI2LnFtYWlsQHdlYjgwNDAzLm1haWwueWFob28uY29tPg=="
    }
}