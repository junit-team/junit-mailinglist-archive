{
    "numMessagesInTopic": 8, 
    "nextInTime": 14126, 
    "senderId": "dWOQoTORuYOkGmkpL1ke21jN-H-RJHWmgiSglH5nOexqt3TihmRCo5mtBY8ALx4XCSe1UZLORwyBdyhjMLHPdmCh33yF5cVq", 
    "systemMessage": false, 
    "subject": "RE: [junit] &quot;Bug in JUnit MoneyBag.java example?&quot; found by Jamie Andrews", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Jeff, Thank you for the note. I agree with Jamie Andrews observation. appendTo() in an implementation detail. It needs to be public because it is used ", 
    "msgId": 14125, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 25952 invoked from network); 14 Jul 2005 16:49:53 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m24.grp.scd.yahoo.com with QMQP; 14 Jul 2005 16:49:53 -0000\r\nReceived: from unknown (HELO smtpauth01.mail.atl.earthlink.net) (209.86.89.61)\n  by mta5.grp.scd.yahoo.com with SMTP; 14 Jul 2005 16:49:52 -0000\r\nReceived: from [67.131.9.243] (helo=T42)\n\tby smtpauth01.mail.atl.earthlink.net with asmtp (Exim 4.34)\n\tid 1Dt6uF-00017c-VL\n\tfor junit@yahoogroups.com; Thu, 14 Jul 2005 12:49:52 -0400\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Thu, 14 Jul 2005 09:49:42 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook, Build 11.0.5510\r\nIn-Reply-To: &lt;da0tds+qfti@...&gt;\r\nX-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180\r\nThread-Index: AcV9e0yh0yHygR5RQzOroxnWen+aPwLAv4Ig\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d47883d6c9327212dc5d74b7f7d28d54ea2e53328867e5f729d2350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Kent Beck&quot; &lt;kentb@...&gt;\r\nSubject: RE: [junit] &quot;Bug in JUnit MoneyBag.java example?&quot; found by Jamie Andrews\r\nX-Yahoo-Group-Post: member; u=173198504; y=yA0NrtOvOge8WaZngSOOKqcwQ5ERRNEuTWtooOA9fRupY5-B\r\nX-Yahoo-Profile: kentlbeck\r\n\r\nJeff,\n\nThank you for the note. I agree with Jamie Andrews&#39; observation. appendTo()\nin an implementation detail. It needs to be public because it is used\npolymorphically. It should not be part of the API. One fix is to create a\nseparate interface just for that one method. Another is to add a warning to\nthe javadoc.\n\nTake care,\n\nKent Beck\nThree Rivers Institute \n\n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On \n&gt; Behalf Of Jeff Grigg\n&gt; Sent: Thursday, June 30, 2005 6:52 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] &quot;Bug in JUnit MoneyBag.java example?&quot; found \n&gt; by Jamie Andrews\n&gt; \n&gt; In news:comp.software.extreme-programming, Jamie Andrews reports \n&gt; finding a possible bug in the MoneyBag example that comes with \n&gt; JUnit.  See messages with subject &quot;Bug in JUnit MoneyBag.java \n&gt; example?&quot;.  She found it with the aid of a tool, &quot;RUTE-J&quot; \n&gt; (Randomized Unit Testing Engine for Java), programmed by her \n&gt; research group.\n&gt; \n&gt; In essence, the &#39;appendTo()&#39; method, in the IMoney interface, as \n&gt; implemented in the MoneyBag class does not (and cannot) return a new \n&gt; Money instance if doing appendTo results in a MoneyBag with only one \n&gt; currency in it.  And in the &#39;equals()&#39; methods of both classes, \n&gt; Money and MoneyBag objects are considered equal only if both are \n&gt; zero.  The possiblity of a MoneyBag with only one currency in it is \n&gt; not considered -- possibly because calling &#39;appendTo()&#39; to put the \n&gt; object in that state is not considered valid usage.\n&gt; \n&gt; I think that &#39;appendTo()&#39; is intended to be an implementation \n&gt; detail, not a method in a general purpose public interface, but it \n&gt; is implemented as a public method in the IMoney interface.\n&gt; \n&gt; Tests:\n&gt; \n&gt;     public void testMoneyBagToMoneyComparison() {\n&gt;         MoneyBag moneyBagTarget = (MoneyBag)\n&gt;           MoneyBag.create(new Money(5, &quot;CHF&quot;),  new Money\n&gt; (5, &quot;USD&quot;)); \n&gt;         Money minusFiveFrancs = new Money(-5, &quot;CHF&quot;); \n&gt;         Money fiveBucks = new Money(5, &quot;USD&quot;); \n&gt;         minusFiveFrancs.appendTo(moneyBagTarget); \n&gt; \n&gt;         assertEquals(fiveBucks, moneyBagTarget);  // This fails.\n&gt;     }\n&gt;     public void testMoneyBagToMoneyComparison2() {\n&gt;         MoneyBag moneyBagTarget = (MoneyBag)\n&gt;           MoneyBag.create(new Money(5, &quot;CHF&quot;),  new Money\n&gt; (5, &quot;USD&quot;)); \n&gt;         Money minusFiveFrancs = new Money(-5, &quot;CHF&quot;); \n&gt;         Money fiveBucks = new Money(5, &quot;USD&quot;); \n&gt;         minusFiveFrancs.appendTo(moneyBagTarget); \n&gt; \n&gt;         assertEquals(moneyBagTarget, fiveBucks);  // This fails.\n&gt;     }\n&gt;     public void testMoneyBagToMoneyComparison_add() {\n&gt;         MoneyBag moneyBagTarget = (MoneyBag)\n&gt;           MoneyBag.create(new Money(5, &quot;CHF&quot;),  new Money\n&gt; (5, &quot;USD&quot;)); \n&gt;         Money minusFiveFrancs = new Money(-5, &quot;CHF&quot;); \n&gt;         Money fiveBucks = new Money(5, &quot;USD&quot;); \n&gt; \n&gt;         IMoney fiveUSD = moneyBagTarget.add(minusFiveFrancs);\n&gt;         assertEquals(fiveBucks, fiveUSD);\n&gt;     }\n&gt; \n&gt; \n&gt; A possible &quot;fix:&quot;    ;-&gt;\n&gt; Add to the FAQ:\n&gt;  &quot;Q: Is there a bug in the Money sample code?&quot;\n&gt;  &quot;A: Yes.  See if you can find it.  ;-&gt;&quot;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 14067, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 14124, 
    "contentTrasformed": false, 
    "postDate": "1121359782", 
    "canDelete": false, 
    "nextInTopic": 14130, 
    "prevInTopic": 14069, 
    "headers": {
        "inReplyToHeader": "PGRhMHRkcytxZnRpQGVHcm91cHMuY29tPg=="
    }
}