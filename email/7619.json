{
    "numMessagesInTopic": 3, 
    "nextInTime": 7620, 
    "senderId": "5LMqG00oGvvchlX2moAKvt-OfGPWJ1xsF4P0GTI5noW3HGm68iwp1Mq6w__HVM7DCbaX5gs4wERDaOScmdXDD3X8l_cEYM4Gsq0HLRbJDA", 
    "systemMessage": false, 
    "subject": "Re: [junit] [OT] DBC semantics (was Re: About the value of  JUnit)", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "Be careful. Your test is broken. List allows duplicate entries. It s Set you re thinking of. Neither test below for Collection makes sense, because Collection", 
    "msgId": 7619, 
    "profile": "nails762", 
    "topicId": 7610, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-1945158915\">Be careful. Your test is broken. List allows duplicate entries. It&#39;s Set you&#39;re thinking of.<br/>\n<br/>\nNeither test below for Collection makes sense, because Collection makes no warranty about whether duplicate entries are permitted. List allows them, but Set does not. The strongest contract for Collection.add that you can write with rewriting the algorithm appears to be &quot;newCollection.size &gt;= oldCollection.size&quot;.<br/>\n<br/>\n[None of this affects the points made about DBC. I merely comment on the correctness of the code.]<br/>\n<br/>\nTake care.<br/>\n<br/>\nSo said Paul Christmann on 4/8/2003 --------------------<br/>\nHere I digress into more of a DBC-specific question, recognizing that <br/>\nthis is not a DBC mailing list...<br/>\n<br/>\njavainsel wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Consider the examples at the JUnit site:<br/>\n&gt; <br/>\n&gt;     Collection collection = new ArrayList();<br/>\n&gt;     collection.add(&quot;itemA&quot;);<br/>\n&gt;     assertEquals(1, collection.size());<br/>\n&gt;     collection.add(&quot;itemB&quot;);<br/>\n&gt;     assertEquals(2, collection.size());<br/>\n&gt;     <br/>\n&gt; As a postcondition it would maybe look like &quot;AFTER:size() == <br/>\n&gt; BEFORE:size()++&quot; (pseudo code). This is very readable, natural and <br/>\n&gt; of much greater use for testing and documenting than JUnit/TDD.<br/>\n<br/>\n </span></blockquote>This &quot;Contract&quot; is actually not complete.  Nor is the JUnit test. <br/>\nNeither shows the expectation of what should happen when you re-add an <br/>\nequal entry.  I know how I&#39;d do it with JUnit:<br/>\n<br/>\n     String entry = &quot;itemA&quot;;<br/>\n     collection.add(entry);<br/>\n     assertEquals(1, collection.size());<br/>\n     collection.add(entry);<br/>\n     assertEquals(1, collection.size());<br/>\n     collection.add(new String(entry));<br/>\n     assertEquals(1, collection.size());<br/>\n<br/>\nHow would you capture that in a contract without re-implementing the <br/>\nmethod itself?  Something like this, I guess?<br/>\n<br/>\nif ( collection.contains(obj) ) AFTER:size() == BEFORE.size()<br/>\nelse AFTER.size() == BEFORE.size()++;<br/>\n<br/>\nIts just that I&#39;m now starting to rewrite what&#39;s in the method itself as <br/>\npart of the contract definition.  Hence it seems that I&#39;m dangerously <br/>\nclose to code duplication for one method.<br/>\n<br/>\nNOTE: This isn&#39;t meant to question the value of DBC; I like what DBC <br/>\nseems to offer.  I just don&#39;t see how to write useable post-conditions <br/>\nfor non-trivial methods.  And this case (Collection.add(Object)) is <br/>\nactually a fairly trivial method.<br/>\n<br/>\nPC<br/>\n<br/>\nPaul Christmann<br/>\nPrior Artisans, LLC<br/>\nmailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:paul@...\">paul@...</a><br/>\n504-587-9072<br/>\n<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. <br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 7618, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1049831495", 
    "canDelete": false, 
    "nextInTopic": 7620, 
    "prevInTopic": 7610, 
    "headers": {
        "inReplyToHeader": "PDNFOTJGMDYzLjgwMDAwMDZAcHJpb3JhcnRpc2Fucy5jb20+", 
        "messageIdInHeader": "PDIwMDMwNDA4MTM1MTM1MDQzMi4wMTM5MzM1MEBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDY3Nzc2MTRELTY2QzEtMTFENy05QUIxLTAwMDM5M0MzMEVDRUBxbHVlLmNvbT4gPGI2a21kZStwbjloQGVHcm91cHMuY29tPiA8M0U5MkYwNjMuODAwMDAwNkBwcmlvcmFydGlzYW5zLmNvbT4="
    }
}