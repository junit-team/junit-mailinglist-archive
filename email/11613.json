{
    "numMessagesInTopic": 22, 
    "nextInTime": 11614, 
    "senderId": "ukr10zl1FP_5hu1gwY9xkD08N1tgpKPO_gXkDJ9frIeBuoObpl_wNe3Tm5UYuLwtO4KoaK7sKE-4-cy6KMUOZg1Td4LIZe_7uhsDg92f3b4Lxz0T", 
    "systemMessage": false, 
    "subject": "awkward mocking options.", 
    "from": "&quot;Kevin O&#39;Sullivan&quot; &lt;kosullivan@...&gt;", 
    "authorName": "Kevin O&#39;Sullivan", 
    "msgSnippet": "Hi - I am modifying code in an existing app. I have changed code a private method, and I m trying to write a junit test case (the first on this proj) to", 
    "msgId": 11613, 
    "profile": "kosullivan_eland", 
    "topicId": 11604, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 42238173, 
    "messageBody": "<div id=\"ygrps-yiv-1799054052\">Hi -<br/>\n<br/>\nI am modifying code in an existing app. I have changed code a private<br/>\nmethod, and I&#39;m trying to write a junit test case (the first on this proj)<br/>\nto validate this. (see pseudo code below)<br/>\n<br/>\nThe problem is with the call to the static class ServiceLocator to get the<br/>\n&#39;client&#39; object. Normally I would just mock this to client obj to do<br/>\nnothing, as I don&#39;t care a jot about it in my test case. (I need to mock it<br/>\nbecause it makes calls to a web service). Because its instantiated inside<br/>\nthe method, I can&#39;t see any simple way to mock the client object.<br/>\n<br/>\nDue to the overall architecture of the app, it is not possible to chng<br/>\nmyPublicMethod() pass  in client or ServiceLocator.  I&#39;m thinking of these<br/>\noptions:<br/>\n<br/>\n1. Have my own ServiceLocator which return mock objects, and get this<br/>\nServiceLocator on the classpath before the &#39;real one&#39; - but I hate depening<br/>\non classpath loading order, mostly because its a bit of a dark art to me.<br/>\n<br/>\n2. Modify ServiceLocator to add a member variable to say if its operating<br/>\nunder junit test or real production. If its a junit test, then it should<br/>\nreturn a mock object (that I can set), otherwise return the real thing.<br/>\nThis would involve an extra &quot;if (junit)&quot; in all the getServiceClient()<br/>\nmethods, and it seems like a lot of extra work.<br/>\n<br/>\nDoes anyone have any neater suggestions?<br/>\n<br/>\n<br/>\npublic void myPublicMethod()<br/>\n{<br/>\n\t// no problem mocking the HTTP Servlet Reqest<br/>\n\tparams = readParamsFromHttpServletRequest();<br/>\n\tmyPrivateMethod(params);<br/>\n<br/>\n\t// How do I mock either &#39;client&#39; or &#39;ServiceLocator&#39;<br/>\n\tOrgMgrServiceClient client = ServiceLocator.getOrgMgrServiceClient();<br/>\n\tclient.doStuff();<br/>\n<br/>\n\treturn;<br/>\n}<br/>\n<br/>\n<br/>\nprivate void myPrivateMethod(params)<br/>\n{<br/>\n\t// My changes are here..<br/>\n\t..<br/>\n\t..<br/>\n}</div>", 
    "prevInTime": 11612, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1090398306", 
    "canDelete": false, 
    "nextInTopic": 11616, 
    "prevInTopic": 11612, 
    "headers": {
        "inReplyToHeader": "PDQwRkQ3ODNGLjcwNTA0MDFAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PE5FQkJJS0JNSUxFRU1OR0ZETk5JSUVCSkNQQUEua29zdWxsaXZhbkBlbGFuZHRlY2guY29tPg=="
    }
}