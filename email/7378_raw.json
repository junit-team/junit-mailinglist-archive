{
    "numMessagesInTopic": 27, 
    "nextInTime": 7379, 
    "senderId": "7o9yjWbJWoz0fZOUJJYjuVeI72_SxAGp1HJbCJEwRAYvZWNKynJfAUA5kkJcWY5leIJX5Dmc7NQIOUCrR-CCm4qT14Cn9b3rQPchDA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: JUnit Design?", 
    "from": "Robert Bateman &lt;rbatemanmi@...&gt;", 
    "authorName": "Robert Bateman", 
    "msgSnippet": "Levi, I tried this - it doesn t work :( My emperical evidence from using JUnit indicates that setUp() and tearDown() are pretty much called before *each* test.", 
    "msgId": 7378, 
    "rawEmail": "Return-Path: &lt;rbatemanmi@...&gt;\r\nReceived: (qmail 66077 invoked from network); 2 Apr 2003 00:21:02 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m4.grp.scd.yahoo.com with QMQP; 2 Apr 2003 00:21:02 -0000\r\nReceived: from unknown (HELO n26.grp.scd.yahoo.com) (66.218.66.82)\n  by mta1.grp.scd.yahoo.com with SMTP; 2 Apr 2003 00:21:02 -0000\r\nX-eGroups-Return: rbatemanmi@...\r\nReceived: from [66.218.67.191] by n26.grp.scd.yahoo.com with NNFMP; 02 Apr 2003 00:21:01 -0000\r\nX-Sender: rbatemanmi@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 26 Mar 2003 18:07:32 -0000\r\nReceived: (qmail 89659 invoked from network); 26 Mar 2003 18:07:31 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m6.grp.scd.yahoo.com with QMQP; 26 Mar 2003 18:07:31 -0000\r\nReceived: from unknown (HELO web12505.mail.yahoo.com) (216.136.173.197)\n  by mta1.grp.scd.yahoo.com with SMTP; 26 Mar 2003 18:07:31 -0000\r\nMessage-ID: &lt;20030326180731.3872.qmail@...&gt;\r\nReceived: from [209.125.4.58] by web12505.mail.yahoo.com via HTTP; Wed, 26 Mar 2003 10:07:31 PST\r\nDate: Wed, 26 Mar 2003 10:07:31 -0800 (PST)\r\nSubject: Re: [junit] Re: JUnit Design?\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;3E81E6AD.8000207@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nFrom: Robert Bateman &lt;rbatemanmi@...&gt;\r\nX-Yahoo-Group-Post: member; u=124365129\r\nX-Yahoo-Profile: rbatemanmi\r\nX-eGroups-Approved-By: clarkware &lt;mike@...&gt; via web; 02 Apr 2003 00:20:59 -0000\r\n\r\nLevi,\n\nI tried this - it doesn&#39;t work :(\n\nMy emperical evidence from using JUnit indicates that setUp() and tearDown() are pretty much\ncalled before *each* test.  This, in effect, makes each test case an isolated entity.\n\nSomeone else mentioned the FAQ entry that basically runs the test suite for you with your code\nmanually running the setUp() and tearDown() routines only once.  The FAQ entry uses a test Suite\nto test with.  I believe the test Suite example was simplified so we can run all tests via run(\ntest.class ) in main().  \n\nI haven&#39;t seen anything that refactors the FAQ entry to use the newer execution method.  I hope to\nhave enough time soon to try and figure out how to do this myself.\n\nBob\n--- Levi Cook &lt;levicook@...&gt; wrote:\n&gt; Once you&#39;ve gone static, I could imagine this sort of hackery... (I don&#39;t endorse it though:)\n&gt; \n&gt; SomeTest extends TestCase\n&gt; {\n&gt;    static Connection myConnection = null\n&gt;    static int numTestsRun = 0\n&gt; \n&gt;    protected void setUp()\n&gt;    {\n&gt;       if (myConnection == null)\n&gt;          myConnection = createMyConnection()\n&gt;    }\n&gt; \n&gt;    public void testA(){}\n&gt;    public void testB(){}\n&gt;    public void testC(){}\n&gt; \n&gt;    protected void tearDown()\n&gt;    {\n&gt;       numTestsRun++;\n&gt;       if(numTestsRun == countTestCases())\n&gt;          release(myConnection)\n&gt;    }\n&gt; \n&gt;    private Connection createMyConnection()\n&gt;    {\n&gt;        // do something &quot;expensive&quot;\n&gt;    }\n&gt; \n&gt;    private release(Connection theConnection)\n&gt;    {\n&gt;        // do the good citizen clean up thing...\n&gt;    }\n&gt; }\n&gt; \n&gt; \n&gt; -- Levi\n&gt; \n&gt; \n&gt; \n&gt; Bill Venners wrote:\n&gt; \n&gt; &gt;Bob,\n&gt; &gt;\n&gt; &gt;On Sunday, March 23, 2003, at 11:29 AM, Robert Bateman wrote:\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; &gt;&gt;--- Bill Venners &lt;bv@...&gt; wrote:\n&gt; &gt;&gt;    \n&gt; &gt;&gt;\n&gt; &gt;&gt;&gt;If the fixture includes an expensive database\n&gt; &gt;&gt;&gt;connection, for example, could that connection not be created by the\n&gt; &gt;&gt;&gt;first test method and stored in a static variable for all subsequent\n&gt; &gt;&gt;&gt;test methods to share? Not sure how you could close the connection at\n&gt; &gt;&gt;&gt;the end of the last test method executed, though. Has anyone used\n&gt; &gt;&gt;&gt;static variables to share fixture objects among multiple test methods?\n&gt; &gt;&gt;&gt;      \n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;I did this very thing by accident - as I&#39;m new to JUnit testing.\n&gt; &gt;&gt;\n&gt; &gt;&gt;I have legacy DB code I have to test and the original author used a  \n&gt; &gt;&gt;static anonymous class to\n&gt; &gt;&gt;create the connection cache.  I use setup() to instantiate the  \n&gt; &gt;&gt;underlying class and get/close my\n&gt; &gt;&gt;DB connections in each test.  I pay the penalty for the connection  \n&gt; &gt;&gt;creation in the first test, but\n&gt; &gt;&gt;every other test is fairly fast.\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;So far, I&#39;ve found JUnits testing of each test method to be low level  \n&gt; &gt;&gt;in design and nature...  I\n&gt; &gt;&gt;create a method in an object and my test methods exercise my method -  \n&gt; &gt;&gt;checking for validity of\n&gt; &gt;&gt;execution.  I&#39;ve found JUnit assumes I&#39;m interested in assuring the  \n&gt; &gt;&gt;tested method executes and\n&gt; &gt;&gt;provides some specific result.\n&gt; &gt;&gt;\n&gt; &gt;&gt;Maybe I&#39;m still too new to JUnit to know what I&#39;m missing with  \n&gt; &gt;&gt;SuiteRunner - but I&#39;ve always\n&gt; &gt;&gt;thought the first test I must *always* perform is the validation of my  \n&gt; &gt;&gt;code against the\n&gt; &gt;&gt;specifications - that what I&#39;m writing is performing to expectations.\n&gt; &gt;&gt;\n&gt; &gt;&gt;Your right, if I write code that modifies a part of my object in some  \n&gt; &gt;&gt;way, I need to insure that I\n&gt; &gt;&gt;haven&#39;t created an artifact that can damage some other part of the  \n&gt; &gt;&gt;code.  Isn&#39;t that the basis of\n&gt; &gt;&gt;performing lots of different asserts in each of your tests?  If I can  \n&gt; &gt;&gt;alter some part of my object\n&gt; &gt;&gt;thru my code, then after my code runs, don&#39;t I want to verify the  \n&gt; &gt;&gt;contents of the underlying\n&gt; &gt;&gt;object?  All within one test? (Not Suite of tests - but an individual  \n&gt; &gt;&gt;test...)\n&gt; &gt;&gt;\n&gt; &gt;&gt;If I&#39;m too far off topic, please forgive me.\n&gt; &gt;&gt;\n&gt; &gt;&gt;    \n&gt; &gt;&gt;\n&gt; &gt;Not off topic at all. I was asking if anyone had used static members to  \n&gt; &gt;share fixture among multiple test methods in a single TestCase, and you  \n&gt; &gt;did. You even did it for a database connection, which was the example I  \n&gt; &gt;mentioned. The one question I still have about your test code is, did  \n&gt; &gt;you find a way to explicitly close the connection after the last test  \n&gt; &gt;method finished? Or was it just left open under the assumption your app  \n&gt; &gt;would go away soon enough.\n&gt; &gt;\n&gt; &gt;One significant difference between the static member approach to  \n&gt; &gt;fixture sharing in JUnit and SuiteRunner is that I know how to close  \n&gt; &gt;the connection when I&#39;m done in SuiteRunner, but not in JUnit. If  \n&gt; &gt;anyone has a way to do that, please reply.\n&gt; &gt;\n&gt; &gt;Another difference is really one of design taste I suspect. I just  \n&gt; &gt;found it non-intuitive that JUnit gave each test method invocation its  \n&gt; &gt;own instance, especially when they also provided the setUp() method. I  \n&gt; &gt;used JUnit a long time before I realized this object wrapping was going  \n&gt; &gt;on. In a previous post to this list, I asked if anyone could help me  \n&gt; &gt;understand what benefit I get for that wrapping. I mentioned that the  \n&gt; &gt;only benefit I could see was that if I screw up my  setUp() and  \n&gt; &gt;tearDown() methods and don&#39;t actually initialize and clean up the  \n&gt; &gt;fixture correctly, the wrapping of method invocations may let me get  \n&gt; &gt;away with it. Vladimir Bossicard agreed that that was a benefit, and no  \n&gt; &gt;one else offered any others.\n&gt; &gt;\n&gt; &gt;My design sense when I was doing that part of SuiteRunner was to not  \n&gt; &gt;provide the extra shield. I figured it would be relatively rare that a  \n&gt; &gt;user would screw up their setUpFixture() and tearDownFixture() methods.  \n&gt; &gt;When they do, they get a red bar and can fix the bug like any other  \n&gt; &gt;bug. Then they get a green bar. And all the while the hierarchy of  \n&gt; &gt;objects that make up their test is the intuitive simple tree of objects  \n&gt; &gt;that for a long time (until I realized that the object wrapping was  \n&gt; &gt;going on) I imagined JUnit was building.\n&gt; &gt;\n&gt; &gt;Bill\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; &gt;&gt;Bob\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;__________________________________________________\n&gt; &gt;&gt;Do you Yahoo!?\n&gt; &gt;&gt;Yahoo! Platinum - Watch CBS&#39; NCAA March Madness, live on your desktop!\n&gt; &gt;&gt;http://platinum.yahoo.com\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;------------------------ Yahoo! Groups Sponsor  \n&gt; &gt;&gt;---------------------~--&gt;\n&gt; &gt;&gt;Get 128 Bit SSL Encryption!\n&gt; &gt;&gt;http://us.click.yahoo.com/xaxhjB/hdqFAA/xGHJAA/5cFolB/TM\n&gt; &gt;&gt;--------------------------------------------------------------------- \n&gt; &gt;&gt;~-&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;To unsubscribe from this group, send an email to:\n&gt; &gt;&gt;junit-unsubscribe@yahoogroups.com\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;Your use of Yahoo! Groups is subject to  \n&gt; &gt;&gt;http://docs.yahoo.com/info/terms/\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;    \n&gt; &gt;&gt;\n&gt; &gt;bv\n&gt; &gt;--\n&gt; &gt;Bill Venners\n&gt; &gt;Artima Software, Inc.\n&gt; &gt;http://www.artima.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;To unsubscribe from this group, send an email to:\n&gt; &gt;junit-unsubscribe@yahoogroups.com\n&gt; &gt; \n&gt; &gt;\n&gt; &gt;Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ \n&gt; &gt;\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n\n\n__________________________________________________\nDo you Yahoo!?\nYahoo! Platinum - Watch CBS&#39; NCAA March Madness, live on your desktop!\nhttp://platinum.yahoo.com\n\n\n", 
    "profile": "rbatemanmi", 
    "topicId": 7266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 124365129, 
    "prevInTime": 7377, 
    "contentTrasformed": false, 
    "postDate": "1048702051", 
    "canDelete": false, 
    "nextInTopic": 7385, 
    "prevInTopic": 7375, 
    "headers": {
        "inReplyToHeader": "PDNFODFFNkFELjgwMDAyMDdAcGFwYWpvLmNvbT4=", 
        "messageIdInHeader": "PDIwMDMwMzI2MTgwNzMxLjM4NzIucW1haWxAd2ViMTI1MDUubWFpbC55YWhvby5jb20+"
    }
}