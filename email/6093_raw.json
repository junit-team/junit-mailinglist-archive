{
    "numMessagesInTopic": 2, 
    "nextInTime": 6094, 
    "senderId": "RCoPdx1yYFx_w3TcKzAR_vwtJLrk7sz6g3OtnFVxtnIvsbEcXuNcRewYdB7XL8Z4G83rQMGeWlPkLSXnNuR_jemF6CwZGqZvXaMo8ajVmQ", 
    "systemMessage": false, 
    "subject": "RE: [junit] Security issue while running under Ant", 
    "from": "&quot;Scott Stirling&quot; &lt;scottstirling@...&gt;", 
    "authorName": "Scott Stirling", 
    "msgSnippet": "This is more of an Ant question.  The JUnit test runner in Ant is wholly a product of the Ant developers.  Not that there s anything wrong with it -- it s just", 
    "msgId": 6093, 
    "rawEmail": "Return-Path: &lt;scottstirling@...&gt;\r\nX-Sender: scottstirling@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_2_1); 3 Nov 2002 23:43:21 -0000\r\nReceived: (qmail 18167 invoked from network); 3 Nov 2002 23:43:21 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m6.grp.scd.yahoo.com with QMQP; 3 Nov 2002 23:43:21 -0000\r\nReceived: from unknown (HELO smtp-hub.mrf.mail.rcn.net) (207.172.4.107)\n  by mta1.grp.scd.yahoo.com with SMTP; 3 Nov 2002 23:43:21 -0000\r\nReceived: from smtp01.mrf.mail.rcn.net ([207.172.4.60])\n\tby smtp-hub.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)\n\tid 188UOm-0002Ma-00\n\tfor junit@yahoogroups.com; Sun, 03 Nov 2002 18:43:20 -0500\r\nReceived: from 207-172-67-6.c3-0.frm-ubr1.sbo-frm.ma.cable.rcn.com ([207.172.67.6] helo=javalaptop)\n\tby smtp01.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)\n\tid 188UOm-0001bx-00\n\tfor junit@yahoogroups.com; Sun, 03 Nov 2002 18:43:20 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Security issue while running under Ant\r\nDate: Sun, 3 Nov 2002 18:43:09 -0500\r\nMessage-ID: &lt;000001c28392$c7277170$0501a8c0@javalaptop&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook, Build 10.0.3416\r\nImportance: Normal\r\nIn-Reply-To: &lt;aprl01+anf7@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nFrom: &quot;Scott Stirling&quot; &lt;scottstirling@...&gt;\r\nReply-To: &lt;scottstirling@...&gt;\r\nX-Yahoo-Group-Post: member; u=112036634\r\nX-Yahoo-Profile: jrun5\r\n\r\nThis is more of an Ant question.  The JUnit test runner in Ant is wholly\na product of the Ant developers.  Not that there&#39;s anything wrong with\nit -- it&#39;s just a different beast that doesn&#39;t extend the JUnit\nframework test runners.\n\nI use &lt;sysproperty&gt; instead of &lt;jvmarg&gt;&#39;s.  Try this just for the heck\nof it:\n&lt;sysproperty key=&quot;java.security.policy&quot;\nvalue=&quot;${resources.dir}/test/security.policy&quot; /&gt;\n\nThis &quot;config/ejb.properties&quot; you mentioned -- that&#39;s not an Ant or a\nJUnit thing, so it must be something from your environment or one of\nyour tools.  As to why JUnit is looking for a security policy under\n&quot;config,&quot; this also seems something specific to your tools or\nenvironment.  For instance, the default location for a security policy\nin the JDK is $JAVA_HOME/jre/lib/security.\n\nScott Stirling\n\n&gt; -----Original Message-----\n&gt; From: craigsdickson [mailto:craigsdickson@...] \n&gt; Sent: Thursday, October 31, 2002 11:16 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Security issue while running under Ant\n&gt; \n&gt; \n&gt; During one of my unit tests, I attempt to make a connection via JNDI \n&gt; to an EJB.\n&gt; \n&gt; In my &lt;classpath&gt; element, I have a directory that contains a \n&gt; jndi.properties file and I use the no arg constructor when creating \n&gt; an InitialContext.\n&gt; \n&gt; The test fails and looking at the stack trace I see that as part of \n&gt; the no arg constructor call, it is attempting to find a \n&gt; security.policy file. As jvmargs I have turned on the security \n&gt; manager and also specified the security policy location. However, it \n&gt; is looking for it in a completely different spot. If I remove those \n&gt; jvmargs, I get the exact same result - it is almost like JUnit is \n&gt; using its own SecurityManger or something. It is always looking for \n&gt; the security policy file under config/security.policy no matter what \n&gt; I do.\n&gt; \n&gt; Also in an additional stack trace, it is looking for a file called \n&gt; config/ejb.properties - I have no idea what that file is for.\n&gt; \n&gt; When I execute the tests from the command line, they run perfectly.\n&gt; \n&gt; Here is the ant task I am using to run JUnit.\n&gt; \n&gt; &lt;target name=&quot;test&quot;&gt;\n&gt;   &lt;taskdef name=&quot;junit&quot; \n&gt; classname=&quot;org.apache.tools.ant.taskdefs.optional.junit.JUnitTask&quot; \n&gt; classpathref=&quot;taskdef.classpath&quot;/&gt;\n&gt; \n&gt;   &lt;junit printsummary=&quot;yes&quot; fork=&quot;true&quot;&gt;\n&gt;     &lt;classpath refid=&quot;test.classpath&quot;/&gt;\n&gt;     &lt;formatter type=&quot;xml&quot;/&gt;\n&gt;     &lt;!--&lt;jvmarg value=&quot;-Djava.security.manager&quot;/&gt;--&gt;\n&gt;     &lt;!--&lt;jvmarg value=&quot;- \n&gt; Djava.security.policy=${resources.dir}/test/security.policy&quot;/&gt;--&gt;\n&gt; \n&gt;     &lt;batchtest&gt;\n&gt;       &lt;fileset dir=&quot;${build.dir.classes}&quot; \n&gt; includes=&quot;test/**/*Test.class&quot;/&gt;\n&gt;     &lt;/batchtest&gt;\n&gt;   &lt;/junit&gt;\n&gt; &lt;/target&gt;\n&gt; \n&gt; \n&gt; I know there are classpath issues with Junit and ant, but I am not \n&gt; sure they apply here since JUnit us actually running and then failing \n&gt; the tests.\n&gt; \n&gt; Anyone got any suggestions?\n&gt; \n&gt; Thanks,\n&gt; Craig\n\n\n\n", 
    "profile": "jrun5", 
    "topicId": 6071, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 112036634, 
    "prevInTime": 6092, 
    "contentTrasformed": false, 
    "postDate": "1036366989", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 6071, 
    "headers": {
        "inReplyToHeader": "PGFwcmwwMSthbmY3QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAwMDAwMWMyODM5MiRjNzI3NzE3MCQwNTAxYThjMEBqYXZhbGFwdG9wPg=="
    }
}