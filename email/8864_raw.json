{
    "numMessagesInTopic": 30, 
    "nextInTime": 8865, 
    "senderId": "bX-J0mpolCvnEya76PhUZ6pyRlPRMAsfBECFB2GsGQuJGFf5QZepE_mUZglJRdrXEvICTrCktF8iSZyUP1IFZRbrBfnCZ19TCoiXwkdNEA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: How to test console output?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I have news for you: setUp() is called for each test. You are creating the extra StringWriter every time, anyway. Don t worry about it. These aren t", 
    "msgId": 8864, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 61193 invoked from network); 30 Jul 2003 17:12:32 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m13.grp.scd.yahoo.com with QMQP; 30 Jul 2003 17:12:32 -0000\r\nReceived: from unknown (HELO fep03-mail.bloor.is.net.cable.rogers.com) (66.185.86.73)\n  by mta2.grp.scd.yahoo.com with SMTP; 30 Jul 2003 17:12:32 -0000\r\nReceived: from barney ([24.156.43.226])\n          by fep03-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030730171231.GMBJ468637.fep03-mail.bloor.is.net.cable.rogers.com@barney&gt;\n          for &lt;junit@yahoogroups.com&gt;; Wed, 30 Jul 2003 13:12:31 -0400\r\nMessage-ID: &lt;200307311312280154.0377FB8D@...&gt;\r\nIn-Reply-To: &lt;bg8m8c+8es5@...&gt;\r\nReferences: &lt;bg8m8c+8es5@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Thu, 31 Jul 2003 13:12:28 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Re: How to test console output?\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep03-mail.bloor.is.net.cable.rogers.com from [24.156.43.226] using ID &lt;jbrains@...&gt; at Wed, 30 Jul 2003 13:12:30 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\n\n&gt;So said jxingtang on 2003-07-30 --------------------\n&gt;&gt; &gt;A further questi=\r\non for StringWriter manipulation. Since I have to \n&gt;&gt; &gt;test several methods=\r\n with console output which share the same \n&gt;&gt; &gt;StringWriter wrapped in the =\r\nPrinterWriter. The problem is how to \n&gt;&gt; &gt;clean up the buffer after one tes=\r\nt case. flush() method seems not \n&gt;&gt; &gt;work as expected.  \n&gt;&gt; \n&gt;&gt; Why do you=\r\n have to share the same StringWriter for each test? Just \n&gt;create a new one=\r\n.\n\n&gt;I have found a way to solve the problem. I calls the getBuffer()to \n&gt;ge=\r\nt the string buffer from the StringWriter and delete its content.\n&gt;\n&gt;The re=\r\nason for me to share the StringWriter is that I do not want to \n&gt;construct =\r\na new class instance being tested for each method. I only \n&gt;construct on in=\r\n setUp(). Here are of my code snippets.\n\nI have news for you: setUp() is ca=\r\nlled for each test. You are creating the extra StringWriter every time, any=\r\nway.\n\nDon&#39;t worry about it. These aren&#39;t performance tests. Just create a n=\r\new one each time.\n\n&gt;public class MyClass\n&gt;{\n&gt;    private PrintWriter MyWrit=\r\ner;\n&gt;      \n&gt;    // Constructor for production release\n&gt;    public MyClass(=\r\n)\n&gt;    {\n&gt;        MyWriter =3D new PrintWriter( System.out );\n&gt;    }\n&gt;\n&gt;   =\r\n // Constructor for Junit testing      \n&gt;    public MyClass( PrintWriter pw=\r\n )\n&gt;    {\n&gt;        MyWriter =3D pw;\n&gt;    }\n&gt;\n&gt;    public void DumpOutput( V=\r\nector params )\n&gt;    {\n&gt;       // Clip ...\n&gt;    }\n&gt;};\n&gt;\n&gt;public class MyClas=\r\nsTest extends TestCase\n&gt;{\n&gt;    private MyClass MyTestObj =3D null;\n&gt;\n&gt;    p=\r\nrivate StringWriter StrWriter =3D null;\n&gt;\n&gt;    // Clip ...\n&gt;\n&gt;    protected=\r\n void setUp()\n&gt;    {\n&gt;        StrWriter =3D new StringWriter();\n&gt;      Prin=\r\ntWriter prWriter =3D new PrintWriter( StrWriter );\n&gt;      TestObj =3D new M=\r\nyClass( prWriter );\n&gt;    }\n&gt;\n&gt;    public DumpOutputTest()\n&gt;    {\n&gt;        V=\r\nector testParams =3D new Vector();\n&gt;        // Testcase 1\n&gt;        testPara=\r\nms.addElement( &quot;A&quot; );\n&gt;        testParams.addElement( &quot;B&quot; );\n&gt;        testP=\r\narams.addElement( &quot;C&quot; );\n&gt;        \n&gt;        TestObj.DumpOutput( testParams =\r\n);\n&gt;\n&gt;        String outStr =3D StrWriter.toString();\n&gt;        \n&gt;        //=\r\n Code to evaluate outStr\n&gt;        // Clip ....  \n&gt;        \n&gt;        // Clea=\r\nn buffer of StringWriter\n&gt;        StringBuffer sbuff =3D StrWriter.getBuffe=\r\nr();\n&gt;        sbuff.delete( 0, outStr.length());\n&gt;\n&gt;        // Testcase 2 \n=\r\n&gt;        testParams.addElement( &quot;X&quot; );\n&gt;        testParams.addElement( &quot;Y&quot; =\r\n);\n&gt;        testParams.addElement( &quot;Z&quot; );\n&gt;        \n&gt;        TestObj.DumpOu=\r\ntput( testParams );\n&gt;\n&gt;        String outStr =3D StrWriter.toString();\n&gt;   =\r\n     \n&gt;        // Code to evaluate outStr\n&gt;        // Clip ....  \n&gt;     }\n&gt;=\r\n\n&gt;     // Clip ...\n&gt;};\n&gt;\n&gt;Please give your valuable comments for my further=\r\n correction and \n&gt;improvements.\n\nWhy are you writing multiple tests in a si=\r\nngle method? Each test should be its own method. You defeat the point of JU=\r\nnit by using it this way.\n\nTake care.\n\n&#39;\nJ. B. Rainsberger,\nPresident, Dias=\r\npar Software Services\nLet&#39;s write software that people understand.\nhttp://w=\r\nww.diasparsoftware.com/\ntelephone: +1 416 791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 8734, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 8863, 
    "contentTrasformed": false, 
    "postDate": "1059671548", 
    "canDelete": false, 
    "nextInTopic": 8865, 
    "prevInTopic": 8862, 
    "headers": {
        "inReplyToHeader": "PGJnOG04Yys4ZXM1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwNzMxMTMxMjI4MDE1NC4wMzc3RkI4REBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGJnOG04Yys4ZXM1QGVHcm91cHMuY29tPg=="
    }
}