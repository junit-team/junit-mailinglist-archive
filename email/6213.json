{
    "numMessagesInTopic": 3, 
    "nextInTime": 6214, 
    "senderId": "lVg1NUIGbHM4MusRkAq0DEC8KYVbtYHXTqckbs1m--KuLDwTCE5ED976Bz3HboKPhPKKPpzL9PRBVukYtQRCEj_dOVVrfYo7JSI", 
    "systemMessage": false, 
    "subject": "ClassCastException in JBoss (but only after redeploy)", 
    "from": "Oliver George &lt;me@...&gt;", 
    "authorName": "Oliver George", 
    "msgSnippet": "Hi Guys, I think this is a known issue, I can see references to it everywhere but I m totally stumped on how to fix it. Basically, I have a functional junit", 
    "msgId": 6213, 
    "topicId": 6213, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 130250148, 
    "messageBody": "<div id=\"ygrps-yiv-1031453686\">Hi Guys,<br/>\n<br/>\nI think this is a known issue, I can see references to it everywhere but<br/>\nI&#39;m totally stumped on how to fix it.<br/>\n<br/>\nBasically, I have a functional junit tests... but it only works when I<br/>\nrestart the JBoss enviroment.  If I undeploy/redeploy then I get a class<br/>\ncast exception.<br/>\n<br/>\nHere is my operating env (I&#39;m showing in the hope someone can spell out<br/>\nhow to disable the classloader if it will help).<br/>\n<br/>\nbuild.xml...<br/>\n<br/>\n &lt;target name=&quot;setup&quot;&gt;<br/>\n  &lt;java <br/>\n    fork=&quot;yes&quot; <br/>\n    classname=&quot;junit.textui.TestRunner&quot; <br/>\n    taskname=&quot;junit&quot; failonerror=&quot;true&quot;&gt;<br/>\n   &lt;arg value=&quot;au.com.axone.can.ejbeans.CanSetUp&quot;/&gt;<br/>\n   &lt;sysproperty key=&quot;user.home&quot; value=&quot;./java&quot;/&gt; <br/>\n   &lt;classpath refid=&quot;test.path&quot;/&gt;<br/>\n  &lt;/java&gt;<br/>\n &lt;/target&gt;<br/>\n<br/>\n./java/junit.properties...<br/>\n<br/>\n  loading=false<br/>\n<br/>\nand some versions in case it helps...<br/>\n  j2sdk1.4.1<br/>\n  jakarta-struts-1.1-b2<br/>\n  jboss-3.0.4_tomcat-4.1.12<br/>\n  junit3.8.1  (along with junitejb which came in an example)<br/>\n  xdoclet-bin-1.2.0-beta1<br/>\n<br/>\nthe ant output which includes the ClassCastException is attached.<br/>\n<br/>\ncheers, Oliver<br/>\n<br/>\n-- <br/>\nOliver George &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:me@...\">me@...</a>&gt;<br/>\n<br/>\n  ----------<br/>\n<br/>\nBuildfile: build.xml<br/>\n<br/>\nsetup:<br/>\n    [junit] .<br/>\n    [junit] Time: 1.458<br/>\n<br/>\n    [junit] OK (1 test)<br/>\n<br/>\n<br/>\ntest:<br/>\n    [junit] .<br/>\n    [junit] Time: 1.037<br/>\n<br/>\n    [junit] OK (1 test)<br/>\n<br/>\n<br/>\nundeploy:<br/>\n   [delete] Deleting: /usr/local/lib/jboss/server/default/deploy/can.ear<br/>\n<br/>\npackage-ejbeans:<br/>\n<br/>\npackage:<br/>\n<br/>\ndeploy:<br/>\n     [copy] Copying 1 file to /usr/local/lib/jboss/server/default/deploy<br/>\n<br/>\npause:<br/>\n<br/>\ntest:<br/>\n    [junit] .E<br/>\n    [junit] Time: 1.046<br/>\n    [junit] There was 1 error:<br/>\n    [junit] 1) testDiBasic(au.com.axone.can.ejbeans.CanTest)java.lang.ClassCastException<br/>\n    [junit] \tat au.com.axone.can.ejbeans.DiUtil.getLocalHome(DiUtil.java:63)<br/>\n    [junit] \tat au.com.axone.can.ejbeans.CanTest.setUp(Unknown Source)<br/>\n    [junit] \tat net.sourceforge.junitejb.EJBTestCase.runBare(EJBTestCase.java:133)<br/>\n    [junit] \tat net.sourceforge.junitejb.EJBTestRunnerBean.runTestCase(EJBTestRunnerBean.java:102)<br/>\n    [junit] \tat net.sourceforge.junitejb.EJBTestRunnerBean.run(EJBTestRunnerBean.java:44)<br/>\n    [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n    [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>\n    [junit] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>\n    [junit] \tat org.jboss.ejb.StatelessSessionContainer$ContainerInterceptor.invoke(StatelessSessionContainer.java:660)<br/>\n    [junit] \tat org.jboss.resource.connectionmanager.CachedConnectionInterceptor.invoke(CachedConnectionInterceptor.java:186)<br/>\n    [junit] \tat org.jboss.ejb.plugins.AbstractTxInterceptor.invokeNext(AbstractTxInterceptor.java:107)<br/>\n    [junit] \tat org.jboss.ejb.plugins.AbstractTxInterceptorBMT.invokeNext(AbstractTxInterceptorBMT.java:144)<br/>\n    [junit] \tat org.jboss.ejb.plugins.TxInterceptorBMT.invoke(TxInterceptorBMT.java:62)<br/>\n    [junit] \tat org.jboss.ejb.plugins.StatelessSessionInstanceInterceptor.invoke(StatelessSessionInstanceInterceptor.java:77)<br/>\n    [junit] \tat org.jboss.ejb.plugins.SecurityInterceptor.invoke(SecurityInterceptor.java:130)<br/>\n    [junit] \tat org.jboss.ejb.plugins.LogInterceptor.invoke(LogInterceptor.java:204)<br/>\n    [junit] \tat org.jboss.ejb.StatelessSessionContainer.invoke(StatelessSessionContainer.java:313)<br/>\n    [junit] \tat org.jboss.ejb.Container.invoke(Container.java:712)<br/>\n    [junit] \tat org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:517)<br/>\n    [junit] \tat org.jboss.invocation.jrmp.server.JRMPInvoker.invoke(JRMPInvoker.java:382)<br/>\n    [junit] \tat sun.reflect.GeneratedMethodAccessor39.invoke(Unknown Source)<br/>\n    [junit] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>\n    [junit] \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:261)<br/>\n    [junit] \tat sun.rmi.transport.Transport$1.run(Transport.java:148)<br/>\n    [junit] \tat java.security.AccessController.doPrivileged(Native Method)<br/>\n    [junit] \tat sun.rmi.transport.Transport.serviceCall(Transport.java:144)<br/>\n    [junit] \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:460)<br/>\n    [junit] \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:701)<br/>\n    [junit] \tat java.lang.Thread.run(Thread.java:536)<br/>\n<br/>\n    [junit] FAILURES!!!<br/>\n    [junit] Tests run: 1,  Failures: 0,  Errors: 1<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 6212, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1037505303", 
    "canDelete": false, 
    "nextInTopic": 6219, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDEwMzc1MDUzMDMuMTc1NjkuOTkuY2FtZWxAc2VkZW5rbz4="
    }
}