{
    "numMessagesInTopic": 2, 
    "nextInTime": 24773, 
    "senderId": "JWLQVplF1u3GAxRvAlxWcHTlkcI5PwQiH5Jwa5Xiv8Tkm8-2WyTvq4W-z_AIfr-u0k1TQp5LTvI_owT4rKh8PSzzGPjbrx32cfrt6HqXXslQ2BaacOAEzg1ZFGx5", 
    "systemMessage": false, 
    "subject": "Re: [junit] Add message element to @Test?", 
    "from": "=?UTF-8?Q?Kevin_Cooney_=E2=98=95?= &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney â˜•", 
    "msgSnippet": "Short version: use assertThrows(). I would recommend against using the expected parameter of @Test. It only allows you to assert that there exists some code", 
    "msgId": 24772, 
    "rawEmail": "Return-Path: &lt;kcooney@...&gt;\r\nReceived: (qmail 3809 invoked by uid 7800); 1 Sep 2017 15:45:43 -0000\r\nX-Sender: kcooney@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 22179 invoked by uid 102); 1 Sep 2017 01:19:26 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m9.grp.bf1.yahoo.com with SMTP; 1 Sep 2017 01:19:26 -0000\r\nX-Received: (qmail 3719 invoked from network); 1 Sep 2017 01:19:26 -0000\r\nX-Received: from unknown (HELO mta1006.groups.mail.ne1.yahoo.com) (98.138.100.121)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 1 Sep 2017 01:19:26 -0000\r\nX-Original-Return-Path: &lt;kcooney@...&gt;\r\nX-Received-SPF: pass (domain of gmail.com designates 209.85.216.179 as permitted sender)\r\nX-YMailISG: U6TyCqQWLDsnSqMV1DCtEacOfjpsk7GG23_8X.Ex1.lCimbg\n xbJumDtNcluGYN7pWPp4oDVvIEWbk9Xcm7uu6xZscPSL.CMS.q9nb9cP_rbM\n 7VEwsCBxyvN1Zfj0EzChHTDnvRIUqPlpY..rm1w0YcK964.KPshOEhp7mpr7\n ZbxCRs7hFHtr4wPs_bxHuH_BaN.LLQpM4AavpZfF.FWXNkUy4lknGcdivYHq\n 29qGIgJzZwSkcj1Mhlv7SlNpgFCT6GMQe6Uvidcv9.K.lovR5HLz97lEFO6q\n bcDISlkkumTZ7UcGW4RLj4gfB2_mAf7kgi4Bdx_JX1HfeDZhKmtxBBjK0OWr\n hfuOqP3XW8o7Oa2JPjaF7Inv2vmxvX.P4qBOj37ntpt3Itbj.KZT9f9M2ZaJ\n ti4kv5Y5wUURfte93VXu7nyiFAu4QY3_TCC3kwB88ByqzJTr0BA5D_W4oLSh\n MK0Cp.TY9GHhxMxWKK9aKslzoeRASc7uv.Zp6LswTYboS7oFEv9euDMKW3d_\n WFBai2Iy1pLAz7u7dMxuHmng4J1VNaKrPblAzxaHBZZgwqCv6gmFqiYagyP8\n xiGUOcE2St.LIyDIApJ.5jlVGWzWZ4eHS09I_w8sU7sFVhP1x.xohF6X6y.f\n 9qOYrlOmne9FaWuUYNxMzaqqGyEIu9xF2YCNDl7NngYXreZQeehUyRmLO57u\n dwKqPx330AS6Myd5jcEUfFIxIO9DCwVDlmjaneCqv7TzQRYwGLaRmrlI6Spy\n 6hdDCo7K6hOQDm5ueuR34hQICmN8.ekdihtyQ.lv7hgy1cCP_PiNRi3ypech\n rM7i06tZ7KgBu4Vld04oPrDuOgwcsZzWsYQHG20AI2iLwZOcSn98WN9yA0MN\n ENmFg7NzfwXJXfX.meHmUOBYqIOpF.dLLum1q2csmswwE0XkXxyTyO9p0aes\n eDArv_iDuppahjwOEC3HnDgpE5w4QUGhU3aP5rGA5aTER9u5AOtEdskJ_0Id\n wSINZzDLZNInVtpLfp8JYatSy6QEKHjdV.Z292nZwGhd5ALEnBmPMWA_89h2\n oW9pKELZmQMcUdh451.TnD3l9Fz_kbhAdwjffHe7ZhzqoZel3qeTtOa0akmI\n Wu.GhvXcPyEjgz4TV6MwmH_lJDex66X7Z4SwZjqsXfZT9lI3bJsLB.5yFsHT\n z.sG5T5byn30oq66NjANqzdBNF9kL7e6hC5NyyfnIymsjzGH9tFZDsQ.SwCS\n MTCBw8yGiKyexwnsz9VaBo3TCQWjcC9D9plwrU6jrzrG57D6R3qmVyTkmh8g\n lJeAt5NGVkUkGqEaO3CYk4XS_Nvac_tDm7SPjsktagVgZkEk8BKbW4aDITji\n 6HBcqS4uLn8Jw7mZB2OT5wjBRoT7tWeCQqFP5H2fJaSW1s4Q07FOsdwH3Hc4\n iWVl\r\nAuthentication-Results: mta1006.groups.mail.ne1.yahoo.com  from=gmail.com; domainkeys=neutral (no sig);  from=gmail.com; dkim=pass (ok)\r\nX-Received: from 127.0.0.1  (EHLO mail-qt0-f179.google.com) (209.85.216.179)\n  by mta1006.groups.mail.ne1.yahoo.com with SMTPS; Fri, 01 Sep 2017 01:19:26 +0000\r\nX-Received: by mail-qt0-f179.google.com with SMTP id x36so5615349qtx.2\n        for &lt;junit@yahoogroups.com&gt;; Thu, 31 Aug 2017 18:19:25 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=1e100.net; s=20161025;\n        h=x-gm-message-state:mime-version:in-reply-to:references:from:date\n         :message-id:subject:to;\n        bh=ZBMoP+MKTaQt/gZrSrxou9zygVoWLOL1y/620bRkNbc=;\n        b=Ft3pjTCO38cQPNQGISyUfwuGDbppWalt87vueS6I1lr4S9KFbjccf8jBTtbsxxyzRJ\n         YWxZ71Vmp78ODrNhPoffFKfMbKVl5YWZ/hPCiDOyJSvs2lnSLC++qRbqTmeVIG2BI6xR\n         pFIr4WC5u4v4Zxok5FVR4vnvfo+r9LIMMPJTPxfyTMe37u0IersdydoC1two/DWFnVji\n         iT6/ynJyIHwbjtyudfYfyiBU3rdrznjDAy5+qlQ8n2mV6LFBQ5ge04F7UTaKZk7/316d\n         NSynN7MOnYUwacFNRq9waV49HOF5KGRfMMYwQt3WwQzTfwb+XVczPhq8Zqhlvqo/BGJg\n         csZQ==\r\nX-Gm-Message-State: AHPjjUjBXk27klT8R18GFGQ+yhW0PfqTtygwj60ksOI0Lj6jOe8UMsIB\n\tMwJDj+i2S/0ERXy6sW6ITBzvsTKphTCIAz4=\r\nX-Google-Smtp-Source: ADKCNb6gqXOyU/SPQnAuhVHuqf0f5ZyEM6COdkLC/unSshMmnpfrPPG9YNqWQHRSOQLqlpl7c8zzcpy2XlA29hSoTmY=\r\nX-Received: by 10.200.23.236 with SMTP id r41mr515807qtk.160.1504228765274;\n Thu, 31 Aug 2017 18:19:25 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.140.41.137 with HTTP; Thu, 31 Aug 2017 18:19:04 -0700 (PDT)\r\nIn-Reply-To: &lt;oo9g3m+hlu4ig@...&gt;\r\nReferences: &lt;oo9g3m+hlu4ig@...&gt;\r\nDate: Thu, 31 Aug 2017 18:19:04 -0700\r\nMessage-ID: &lt;CADW0UyT2MGvjTEXQKN9VMvqJmDRhenAhXJMGFcHgokWNfxaSUw@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=&quot;94eb2c129c24371ba80558168dff&quot;\r\nSubject: Re: [junit] Add message element to @Test?\r\nX-Yahoo-Group-Post: member; u=347643069; y=P92GyteviqLepoNpAB5M4geD7WTzUsgBegCPedJ3lS1UTe8IbIkCIA\r\nX-Yahoo-Profile: kevinwcooney\r\nX-Original-From: =?UTF-8?Q?Kevin_Cooney_=E2=98=95?= &lt;kcooney@...&gt;\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 1 Sep 2017 15:45:43 -0000\r\nFrom: =?UTF-8?Q?Kevin_Cooney_=E2=98=95?= &lt;kcooney@...&gt;\r\n\r\n\r\n--94eb2c129c24371ba80558168dff\r\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nShort version: use assertThrows().\n\nI would recommend against using the &#39;ex=\r\npected&#39; parameter of @Test. It only\nallows you to assert that there exists =\r\nsome code in the test method that\nthrows an exception of the given type. Th=\r\ne test can pass for the wrong\nreason. Also, there&#39;s no way to make assertio=\r\nns on the exception message or\nexception cause when you use @Test(expected =\r\n=3D MyException.class).\n\nI would also recommend against ExpectedException. =\r\nI&#39;ve seen to many cases\nwhere it was used incorrectly (either doing validat=\r\nion after the method\nthat is expected to throw, or using ExpectedException =\r\ninside of helper\nmethod).\n\nIn JUnit 4.13 and JUnit 5, you will be able to u=\r\nse assertThrows() instead,\nwhich allows the test to isolate what part of th=\r\ne test method is expected\nto throw:\n\n@Test\npublic void popWithEmptyStackSho=\r\nuldThrow() {\n  Stack stack =3D new Stack();\n  assertThrows(EmptyStackExcept=\r\nion.class, () -&gt; stack.pop());\n}\n\nNote that the JUnit 5 versions of assertT=\r\nhrows() allows you to specify a\nmessage or a supplier for a message. We did=\r\nn&#39;t add a way to specify a\nmessage in JUnit 4.13; we could add it, but I&#39;ve=\r\n seen some large teams use\nassertThrows() and no one has asked for a way to=\r\n customize the exception\nmessage.\n\nFor JUnit 4.12 and below, I recommend go=\r\nod &#39;ol try...catch\n\nThe only safe use cases I see for the &#39;expected&#39; parame=\r\nter of @Test are\nwhen the only thing the test method does is call a single =\r\nmethod that is\nexpected to throw. In that case, you can use &#39;expected&#39; and =\r\njust give the\ntest method a readable name:\n\nprivate final MyObject myObject=\r\n =3D new MyObject();\n\n@Test(expected =3D NullPointerException.class)\npublic=\r\n void doSomething_paramMustNotBeNull() {\n  myObject.doSomething(null);\n}\n\nT=\r\nhat being said, once you get used to lambdas, the assertThrows() version\nis=\r\n very readable:\n\n@Test\npublic void doSomething_paramMustNotBeNull() {\n  ass=\r\nertThrows(\n      NullPointerException.class, () -&gt; myObject.doSomething(nul=\r\nl));\n}\n\n-- Kevin\n\nOn Thu, Aug 31, 2017 at 10:13 AM, nick.radov@... [j=\r\nunit] &lt;\njunit@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; Would it make sense to enhance=\r\n the @Test annotation with a new optional\n&gt; message element? Currently all =\r\nof the Assert methods have overloaded forms\n&gt; including a message parameter=\r\n in order to report what went wrong in human\n&gt; readable terms. However when=\r\n you use the @Test annotation with an expected\n&gt; element to check that a pa=\r\nrticular exception was thrown there&#39;s no way to\n&gt; report a custom message b=\r\nack to the user.\n&gt;\n&gt; http://junit.org/junit4/javadoc/latest/org/junit/Test.=\r\nhtml#expected()\n&gt;\n&gt; Alternatively, could we add a method to the ExpectedExc=\r\neption rule to set\n&gt; a custom failure message?\n&gt;\n&gt; http://junit.org/junit4/=\r\njavadoc/latest/org/junit/\n&gt; rules/ExpectedException.html\n&gt; \n&gt;\n\r\n--94eb2c129c24371ba80558168dff\r\nContent-Type: text/html; charset=&quot;UTF-8&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div&gt;Short version: use assertThrows().&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;I would recommend against using the &#39;expected&#39; parameter of =\r\n@Test. It only allows you to assert that there exists some code in the test=\r\n method that throws an exception of the given type. The test can pass for t=\r\nhe wrong reason. Also, there&#39;s no way to make assertions on the excepti=\r\non message or exception cause when you use @Test(expected =3D MyException.c=\r\nlass).&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I would also recommend against Expected=\r\nException. I&#39;ve seen to many cases where it was used incorrectly (eithe=\r\nr doing validation after the method that is expected to throw, or using Exp=\r\nectedException inside of helper method).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;In JUnit 4.13 a=\r\nnd JUnit 5, you will be able to use assertThrows() instead, which allows th=\r\ne test to isolate what part of the test method is expected to throw:&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;@Test&lt;br&gt;public=\r\n void popWithEmptyStackShouldThrow() {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monos=\r\npace, monospace&quot;&gt;=C2=A0 Stack stack =3D new Stack();&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font=\r\n face=3D&quot;monospace, monospace&quot;&gt;=C2=A0 assertThrows(EmptyStackException.clas=\r\ns, () -&gt; stack.pop());&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospa=\r\nce&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note that the JUnit 5 versions =\r\nof assertThrows() allows you to specify a message or a supplier for a messa=\r\nge. We didn&#39;t add a way to specify a message in JUnit 4.13; we could ad=\r\nd it, but I&#39;ve seen some large teams use assertThrows() and no one has =\r\nasked for a way to customize the exception message.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;di=\r\nv&gt;For JUnit 4.12 and below, I recommend good &#39;ol try...catch&lt;/div&gt;&lt;div&gt;=\r\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The only safe use cases I see for the &#39;expected&#39=\r\n; parameter of @Test are when the only thing the test method does is call a=\r\n single method that is expected to throw. In that case, you can use &#39;ex=\r\npected&#39; and just give the test method a readable name:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/=\r\ndiv&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;private final MyObject myObjec=\r\nt =3D new MyObject();&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;=\r\n&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;@Test(expected =\r\n=3D NullPointerException.class)&lt;br&gt;public void doSomething_paramMustNotBeNu=\r\nll() {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;=C2=A0 myObject=\r\n.doSomething(null);&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;}&lt;=\r\n/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That being said, once you get used to lambd=\r\nas, the assertThrows() version is very readable:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;=\r\ndiv&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;@Test&lt;br&gt;public void doSomething_pa=\r\nramMustNotBeNull() {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;=\r\n=C2=A0=C2=A0assertThrows(&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospa=\r\nce&quot;&gt;=C2=A0 =C2=A0 =C2=A0 NullPointerException.class, () -&gt;=C2=A0myObject=\r\n.doSomething(null));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;}=\r\n&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;div&gt;&lt;div class=3D&quot;=\r\ngmail_signature&quot;&gt;&lt;br&gt;-- Kevin&lt;br&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;br&gt;&lt;div class=3D&quot;gmail_quote=\r\n&quot;&gt;On Thu, Aug 31, 2017 at 10:13 AM, &lt;a href=3D&quot;mailto:nick.radov@...&quot;=\r\n&gt;nick.radov@...&lt;/a&gt; [junit] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:j=\r\nunit@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt;&lt;/span=\r\n&gt; wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0px 0px 0px 0=\r\n.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n=\r\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;background-color:rgb(255,255,255)&quot;&gt;\n&lt;span style=3D&quot;d=\r\nisplay:none&quot;&gt;=C2=A0&lt;/span&gt;\n\n\n&lt;div id=3D&quot;gmail-m_-4319757940206689135ygrp-ml=\r\nmsg&quot;&gt;\n  &lt;div id=3D&quot;gmail-m_-4319757940206689135ygrp-msg&quot;&gt;\n\n\n    &lt;div id=3D&quot;=\r\ngmail-m_-4319757940206689135ygrp-text&quot;&gt;\n      \n      \n      &lt;p&gt;Would it mak=\r\ne sense to enhance the @Test annotation with a new optional message element=\r\n? Currently all of the Assert methods have overloaded forms including a mes=\r\nsage parameter in order to report what went wrong in human readable terms. =\r\nHowever when you use the @Test annotation with an expected element to check=\r\n that a particular exception was thrown there&#39;s no way to report a cust=\r\nom message back to the user.&lt;br&gt;\n&lt;br&gt;\n&lt;a href=3D&quot;http://junit.org/junit4/ja=\r\nvadoc/latest/org/junit/Test.html#expected()&quot; target=3D&quot;_blank&quot;&gt;http://junit=\r\n.org/junit4/&lt;wbr&gt;javadoc/latest/org/junit/Test.&lt;wbr&gt;html#expected()&lt;/a&gt;&lt;br&gt;=\r\n\n&lt;br&gt;\nAlternatively, could we add a method to the ExpectedException rule to=\r\n set a custom failure message?&lt;br&gt;\n&lt;br&gt;\n&lt;a href=3D&quot;http://junit.org/junit4/=\r\njavadoc/latest/org/junit/rules/ExpectedException.html&quot; target=3D&quot;_blank&quot;&gt;ht=\r\ntp://junit.org/junit4/&lt;wbr&gt;javadoc/latest/org/junit/&lt;wbr&gt;rules/ExpectedExce=\r\nption.html&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:rgb(255,=\r\n255,255);height:0px&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/d=\r\niv&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n\r\n--94eb2c129c24371ba80558168dff--\r\n\n", 
    "profile": "kevinwcooney", 
    "topicId": 24771, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 347643069, 
    "prevInTime": 24771, 
    "contentTrasformed": false, 
    "postDate": "1504228744", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24771, 
    "headers": {
        "inReplyToHeader": "PG9vOWczbStobHU0aWdAWWFob29Hcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBRFcwVXlUMk1HdmpURVhRS045Vk12cUptRFJoZW5BaFhKTUdGY0hnb2tXTmZ4YVNVd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PG9vOWczbStobHU0aWdAWWFob29Hcm91cHMuY29tPg=="
    }
}