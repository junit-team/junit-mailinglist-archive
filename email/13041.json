{
    "numMessagesInTopic": 7, 
    "nextInTime": 13042, 
    "senderId": "CvQVkZ0fSxSyBxUpOZazZMQ8dEkzIuiJQ7g_05rPPNyaw3V8nXxqaP8E2RGlVz0Djb_eWKp6k7EzfYW2eJT3ZXau5J-8eV5vcgE", 
    "systemMessage": false, 
    "subject": "Re: JUnit, ANT, log4j, System.out issue", 
    "from": "James Abley &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... Probably worth cross-posting to the ant-user list. What do you expect to see happening? Log4j is logging to the console - ANT captures the console output", 
    "msgId": 13041, 
    "profile": "taboozizi", 
    "topicId": 13029, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "messageBody": "<div id=\"ygrps-yiv-611443598\">On Thu, 03 Mar 2005 20:05:47 -0000, DiracBeltrami &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:rdecampo@...\">rdecampo@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;     <br/>\n&gt;   Hello,<br/>\n&gt;  <br/>\n&gt;   I am experiencing an issue with the combination of ANT, JUnit and<br/>\n&gt;   log4j.  Here&#39;s the situation.  The ANT build file uses the &lt;junit&gt;<br/>\n&gt;   task.  Log4j is configured to print to the console.  There are also<br/>\n&gt;   times when the unit tests use System.out directly.  The problem is<br/>\n&gt;   that the log4j statements are not captured by the &lt;junit&gt; as part of<br/>\n&gt;   the standard output.  The logging statements do appear on the console<br/>\n&gt;   when I run the tests.  But since they are not captured by &lt;junit&gt;,<br/>\n&gt;   they do not appear in the XML files and are lost forever.<br/>\n&gt;  <br/>\n&gt;   I&#39;m going to attempt to post the relevant portions of the relevant<br/>\n&gt;   files, but I&#39;ve never posted to Yahoo before and they are XML, so it<br/>\n&gt;   might not work...<br/>\n&gt;  <br/>\n&gt;   Here&#39;s the ANT target:<br/>\n&gt;  <br/>\n&gt;       &lt;target name=&quot;run-test&quot; depends=&quot;init,test-setup&quot;&gt;<br/>\n&gt;           &lt;!-- execute the test --&gt;<br/>\n&gt;           &lt;junit fork=&quot;yes&quot;<br/>\n&gt;                  dir=&quot;${basedir}&quot;<br/>\n&gt;                  haltonfailure=&quot;${test.halt.on.failure}&quot;<br/>\n&gt;                  printsummary=&quot;withOutAndErr&quot;&gt;<br/>\n&gt;               &lt;classpath refid=&quot;test.classpath&quot; /&gt;<br/>\n&gt;               &lt;formatter type=&quot;xml&quot; /&gt;<br/>\n&gt;               &lt;formatter type=&quot;plain&quot; usefile=&quot;false&quot;/&gt;<br/>\n&gt;               &lt;jvmarg line=&quot;${test.jvmargs}&quot; /&gt;<br/>\n&gt;               &lt;batchtest fork=&quot;yes&quot; todir=&quot;${test.report.xml.dir}&quot;&gt;    <br/>\n&gt;              <br/>\n&gt;                   &lt;fileset dir=&quot;${test.src}&quot; &gt;                <br/>\n&gt;                       &lt;include name=&quot;${test.full.includes}&quot; /&gt;<br/>\n&gt;                       &lt;exclude name=&quot;${test.full.excludes}&quot; /&gt;<br/>\n&gt;                    &lt;/fileset&gt;    <br/>\n&gt;               &lt;/batchtest&gt;<br/>\n&gt;           &lt;/junit&gt;<br/>\n&gt;       &lt;/target&gt;<br/>\n&gt;  <br/>\n&gt;   Here&#39;s the log4j configuration:<br/>\n&gt;  <br/>\n&gt;   &lt;log4j:configuration debug=&quot;false&quot;&gt;<br/>\n&gt;   &lt;!-- debug is for configuration file debugging --&gt;<br/>\n&gt;           &lt;appender name=&quot;SYS_OUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;<br/>\n&gt;               &lt;param name=&quot;Target&quot; value=&quot;System.out&quot;/&gt;<br/>\n&gt;               &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;<br/>\n&gt;                   &lt;param name=&quot;ConversionPattern&quot; value=&quot;%-5p %c{2} -%m%n&quot;/&gt;<br/>\n&gt;               &lt;/layout&gt;<br/>\n&gt;           &lt;/appender&gt;<br/>\n&gt;  <br/>\n&gt;           &lt;root&gt;<br/>\n&gt;               &lt;level value=&quot;INFO&quot;/&gt;<br/>\n&gt;               &lt;appender-ref ref=&quot;SYS_OUT&quot;/&gt; <br/>\n&gt;           &lt;/root&gt;<br/>\n&gt;   &lt;/log4j:configuration&gt;<br/>\n&gt;  <br/>\n&gt;   If anybody could enlighten me on the subject, I&#39;d appreciate it.<br/>\n&gt;  <br/>\n&gt;   Thanks,<br/>\n&gt;   Ray<br/>\n&gt;  <br/>\n<br/>\n </span></blockquote>Probably worth cross-posting to the ant-user list. What do you expect<br/>\nto see happening? Log4j is logging to the console - ANT captures the<br/>\nconsole output and will display it in-line as part of the normal<br/>\noutput.<br/>\n<br/>\nIf the unit tests use System.out (why?), this will be available as<br/>\npart of the content sent to the formatters that you specify, since I<br/>\nbelieve that the junit task wraps System.out and System.err to log the<br/>\noutput.<br/>\n<br/>\nI think that a clumsy workaround might be to log the log4j output to a<br/>\nfile, maybe using an XML appender and then using the ant xslt or style<br/>\ntask to post-process the junit output and the log4j output.<br/>\n<br/>\nHTH,<br/>\n<br/>\nJames</div>", 
    "prevInTime": 13040, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1110294113", 
    "canDelete": false, 
    "nextInTopic": 13059, 
    "prevInTopic": 13029, 
    "headers": {
        "inReplyToHeader": "PGQwN3FtcitqMzQ1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIzZmNlOGU2MDUwMzA4MDcwMTY4NjMxMWU2QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGQwN3FtcitqMzQ1QGVHcm91cHMuY29tPg=="
    }
}