{
    "numMessagesInTopic": 4, 
    "nextInTime": 15245, 
    "senderId": "mJOQB04e8aQClgji-LGAduS7bB5-lRkFtsZlGCZDNsH9cLf_BeXDrhdLYNrtA4zyEHA0GxgK1paqk0GQJIxWxG4sQd2g5k4p", 
    "systemMessage": false, 
    "subject": "RE: [junit] JUnit 4 issue: NaN handling", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Elliotte, I am unable to reproduce the behavior you are seeing. For several years we have been careful to use Double.compare(), which reports that NaNs are", 
    "msgId": 15244, 
    "profile": "kentlbeck", 
    "topicId": 15230, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-1902969964\">Elliotte,<br/>\n<br/>\nI am unable to reproduce the behavior you are seeing. For several years we have been careful to use Double.compare(), which reports that NaNs are equal. Since the behavior of equality testing with NaN is not clear, I prefer Charlie&#39;s solution of assertEqualsNaN() or some such for those times when you know you are testing for NaN when you are writing the test.<br/>\n<br/>\nSincerely yours,<br/>\n<br/>\nKent Beck<br/>\nThree Rivers Institute <br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; -----Original Message-----<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On <br/>\n&gt; Behalf Of Elliotte Harold<br/>\n&gt; Sent: Thursday, October 20, 2005 8:09 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: [junit] JUnit 4 issue: NaN handling<br/>\n&gt; <br/>\n&gt; I think the handling of NaN by assertEquals(double, double, <br/>\n&gt; double) and <br/>\n&gt; assertEquals(float, float, float)  should be thought out and more <br/>\n&gt; carefully spelled out. For instance, the following assert fails:<br/>\n&gt; <br/>\n&gt;    assertEquals(Double.NaN, Double.NaN, 0.1);<br/>\n&gt; <br/>\n&gt; i.e. NaN is not equal to NaN. I&#39;m honestly not sure whether this is <br/>\n&gt; correct or not. What does the principle of least surprise suggest? If <br/>\n&gt; someone understands NaN they may find this correct but <br/>\n&gt; someone who&#39;s not <br/>\n&gt; intimately familiar with NaN may be surprised.<br/>\n&gt; <br/>\n&gt; This edge case does have practical consequences. For one, the Apache <br/>\n&gt; Commons Math project has found it necessary to create their <br/>\n&gt; own double <br/>\n&gt; assertEquals methods that do consider NaN to be equal to NaN. See<br/>\n&gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/\">http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/</a><br/>\n&gt; trunk/src/test/org/apache/commons/math/TestUtils.java?rev=2402<br/>\n&gt; 45&view=markup<br/>\n&gt; <br/>\n&gt; I could go either way on this. However, I do think it&#39;s <br/>\n&gt; important that a <br/>\n&gt; definite decision about how to handle NaN be made, and that <br/>\n&gt; the result <br/>\n&gt; of this decision be spelled out in the JavaDoc. Currently Infinity is <br/>\n&gt; addressed but not NaN, and NaN is by far the more confusing case.<br/>\n&gt; <br/>\n&gt; It probably also wouldn&#39;t hurt to patch the JUnit 3 JavaDoc at least <br/>\n&gt; enough to document the current behavior, whatever that is.<br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; ï»¿Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\n&gt; XML in a Nutshell 3rd Edition Just Published!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/</a><br/>\n&gt; ref=nosim<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ------------------------ Yahoo! Groups Sponsor <br/>\n&gt; --------------------~--&gt; <br/>\n&gt; Fair play? Video games influencing politics. Click and talk back!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/T8sf5C/tzNLAA/TtwFAA/5cFolB/TM\">http://us.click.yahoo.com/T8sf5C/tzNLAA/TtwFAA/5cFolB/TM</a><br/>\n&gt; --------------------------------------------------------------<br/>\n&gt; ------~-&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15243, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1129946553", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15243, 
    "headers": {
        "inReplyToHeader": "PDQzNTdCMzFCLjkwNTAzMDJAbWV0YWxhYi51bmMuZWR1Pg==", 
        "messageIdInHeader": "PEUxRVQ4aVItMDAwMjM0LVFFQHNtdHBhdXRoMDYubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}