{
    "numMessagesInTopic": 7, 
    "nextInTime": 13000, 
    "senderId": "C8Z_pXrLTCohVFVZGiyGz-dpagasL4vbj0fdGFNx9TyXMqwppfzJ8nry4-3iD2MDmi0dGUOAesWXw5D75h6Du2n3WOATjwFjgEJfSmf9", 
    "systemMessage": false, 
    "subject": "Re: [junit] Change the system time for the test", 
    "from": "Jason Rogers &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "... Sounds like your tests may be driving your design -- that s a good thing. I have two similar ideas: 1. Consider creating your class with a DateProvider for", 
    "msgId": 12999, 
    "rawEmail": "Return-Path: &lt;jacaetevha@...&gt;\r\nX-Sender: jacaetevha@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 21499 invoked from network); 2 Mar 2005 19:31:34 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m8.grp.scd.yahoo.com with QMQP; 2 Mar 2005 19:31:34 -0000\r\nReceived: from unknown (HELO out1.smtp.messagingengine.com) (66.111.4.25)\n  by mta5.grp.scd.yahoo.com with SMTP; 2 Mar 2005 19:31:33 -0000\r\nReceived: from frontend2.messagingengine.com (frontend2.internal [10.202.2.151])\n\tby frontend1.messagingengine.com (Postfix) with ESMTP id 64DB0C5AB82\n\tfor &lt;junit@yahoogroups.com&gt;; Wed,  2 Mar 2005 14:30:49 -0500 (EST)\r\nX-Sasl-enc: S/m5VDoahjBq+lVVvGyU9g 1109791848\r\nReceived: from fast-mail.org (w018.z064003232.det-mi.dsl.cnc.net [64.3.232.18])\n\tby frontend2.messagingengine.com (Postfix) with ESMTP id 6B41057034F\n\tfor &lt;junit@yahoogroups.com&gt;; Wed,  2 Mar 2005 14:30:48 -0500 (EST)\r\nMessage-ID: &lt;4226145D.3000902@...&gt;\r\nDate: Wed, 02 Mar 2005 14:30:37 -0500\r\nUser-Agent: Mozilla Thunderbird 0.5 (X11/20040208)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;d050sh+9f7q@...&gt;\r\nIn-Reply-To: &lt;d050sh+9f7q@...&gt;\r\nX-Enigmail-Version: 0.83.4.0\r\nX-Enigmail-Supports: pgp-inline, pgp-mime\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 66.111.4.25\r\nFrom: Jason Rogers &lt;jacaetevha@...&gt;\r\nSubject: Re: [junit] Change the system time for the test\r\nX-Yahoo-Group-Post: member; u=109352929\r\nX-Yahoo-Profile: jacaetev\r\n\r\nhaefeleuser wrote:\n\n&gt;\n&gt; For my JUnit tests I need to modify the system time.\n&gt;\n&gt; Instead of doing this manually by changing the OS clock I would like\n&gt; to change the clock programatically in Java.\n&gt;\n&gt; Of course I can set the time on the Calendar object in the JUnit test.\n&gt; But it has no effect on the tested class. In the tested class &quot;new\n&gt; Date() &quot; returns always the current date and not the one which I set\n&gt; in my JUnit test.\n&gt;\n&gt; I have test data for business logic which I create before the test\n&gt; starts and which contain absolute dates like 2004-12-31. So I need to\n&gt; modify the system date for my tests.\n&gt;\n&gt; What I need to test is calculation of the average sold quantity. But\n&gt; only the last X weeks (from today) need to be considered. My test\n&gt; sales data contains dates like 2004-12-31. Its much easier for me to\n&gt; write and understand data with such &quot;absolute&quot; dates instead of\n&gt; relative dates (by rolling the dates around and not understanding it\n&gt; quickly). So it would be good for me to simply set the system date\n&gt; before the test starts and thus use absolute dates for my tests\n&gt; instead of relative ones.\n&gt;\n&gt; Of course I could make the dates of the test data relative, but that\n&gt; would be harder to code, understand and to maintain. It better for me\n&gt; to change the system time. But it needs to be done programatically in\n&gt; the JUnit test and not manually by changing the OS date by hand.\n&gt;\n&gt; Can you provide a solution for that please?\n\n\nSounds like your tests may be driving your design -- that&#39;s a good thing.\n\nI have two similar ideas:\n  1. Consider creating your class with a DateProvider for which your \ntest can supply a mock implementation.\n  2. Add a Date as a parameter to the method or to your class&#39; \nconstruction routine\n\nThe other thing you could do is make your test data relative, which you \nhave said you are not willing to do.  This would be my choice if there \nwas no clear design choice to make date retrieval in the class something \nother than Today.  I am not sure why you think it would be much worse \nthan what you are doing now (with an absolute date).\n\n-- \nJason Rogers\n\n&quot;I am crucified with Christ: nevertheless I live; yet not I,\nbut Christ liveth in me: and the life which I now live in \nthe flesh I live by the faith of the Son of God, who loved \nme, and gave himself for me.&quot;\n    Galatians 2:20\n\n\n", 
    "profile": "jacaetev", 
    "topicId": 12997, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "prevInTime": 12998, 
    "contentTrasformed": false, 
    "postDate": "1109791837", 
    "canDelete": false, 
    "nextInTopic": 13002, 
    "prevInTopic": 12998, 
    "headers": {
        "inReplyToHeader": "PGQwNTBzaCs5ZjdxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQyMjYxNDVELjMwMDA5MDJAZmFzdC1tYWlsLm9yZz4=", 
        "referencesHeader": "PGQwNTBzaCs5ZjdxQGVHcm91cHMuY29tPg=="
    }
}