{
    "numMessagesInTopic": 14, 
    "nextInTime": 21685, 
    "senderId": "huBAAFpHdjR2BwdJ8YDrxW1jnQ0xcIh8ViH4XoGjRiUKpbhKneI09H6ewRyj_MdNmf53NqIiDeUH6IkdgbmKdrGg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Change generic signature of assert that", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "For the record, I use assertThat in JUnit a lot every day, and don t run into these corner cases all that often.  This probably means that I ve learned to keep", 
    "msgId": 21684, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 62939 invoked from network); 26 May 2009 17:31:55 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m6.grp.re1.yahoo.com with QMQP; 26 May 2009 17:31:55 -0000\r\nX-Received: from unknown (HELO mail-fx0-f157.google.com) (209.85.220.157)\n  by mta1.grp.re1.yahoo.com with SMTP; 26 May 2009 17:31:55 -0000\r\nX-Received: by fxm1 with SMTP id 1so3777926fxm.45\n        for &lt;junit@yahoogroups.com&gt;; Tue, 26 May 2009 10:30:54 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.239.135.209 with SMTP id e17mr566670hbe.148.1243359054723; \n\tTue, 26 May 2009 10:30:54 -0700 (PDT)\r\nIn-Reply-To: &lt;D04B62A56C65EA4B860036108BD0A66C031BCF77@...&gt;\r\nReferences: &lt;4f7da6b90905221158p2097d78an56909404f917f2e4@...&gt;\n\t &lt;gv6uqd+nv9p@...&gt;\n\t &lt;D04B62A56C65EA4B860036108BD0A66C031BCF77@...&gt;\r\nDate: Tue, 26 May 2009 13:30:54 -0400\r\nX-Google-Sender-Auth: 0547d92930ebee9d\r\nMessage-ID: &lt;4f7da6b90905261030s3cb9fc0bp8f660e58bdfbe44f@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: Change generic signature of assert that\r\nX-Yahoo-Group-Post: member; u=341876227; y=ljNyT-dSdmHn-LcQc3c_2Yxj6d1-hHIHo8TRoxnbab4\r\nX-Yahoo-Profile: dsaff\r\n\r\nFor the record,\n\nI use assertThat in JUnit a lot every day, and don&#39;t run i=\r\nnto these\ncorner cases all that often.  This probably means that I&#39;ve learn=\r\ned to\nkeep away from problem areas, but also means that it&#39;s fairly possibl=\r\ne\nto keep away from problem areas.\n\nDidn&#39;t want to leave the thread on the =\r\nimpression that everyone agrees\nthat assertThat is totally broken in JUnit.=\r\n\n\n   David Saff\n\nOn Tue, May 26, 2009 at 10:47 AM, Pigneri, Rocco &lt;rpigneri=\r\n@...&gt; wrote:\n&gt; Yme,\n&gt;\n&gt;\n&gt;\n&gt; NUnit has a nice implementation of the=\r\nse sort of matchers that works\n&gt; pretty seamlessly-which might imply that .=\r\nNET handles these typing\n&gt; issues better than Java. =A0I can&#39;t remember run=\r\nning into any situations\n&gt; like what you are describing. =A0I have run into=\r\n a few scenarios like\n&gt; yours involving lists, but, if I remember correctly=\r\n, those errors had\n&gt; more to do with an interesting design choice that Micr=\r\nosoft had made\n&gt; rather than with anything to do in NUnit itself. =A0I&#39;m no=\r\nt familiar\n&gt; enough with the NUnit source code so I am not sure if any .NET=\r\n magic was\n&gt; required to build NUnit or if it was a rather straightforward\n=\r\n&gt; implementation.\n&gt;\n&gt;\n&gt;\n&gt; Rocco\n&gt;\n&gt;\n&gt;\n&gt; From: junit@yahoogroups.com [mailto=\r\n:junit@yahoogroups.com] On Behalf Of\n&gt; yme0987654321\n&gt; Sent: Friday, May 22=\r\n, 2009 3:36 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Re: Change ge=\r\nneric signature of assert that\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; I&#39;m curious if you know of=\r\n a language that does do such things well. It\n&gt; seems like the popular ones=\r\n are moving away from compiler-level type\n&gt; safety all together.\n&gt;\n&gt; --- In=\r\n junit@yahoogroups.com &lt;mailto:junit%40yahoogroups.com&gt; , David\n&gt; Saff &lt;dav=\r\nid@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; That much is true. I think that in the end, we&#39;ll prob=\r\nably be forced\n&gt;&gt; back to the untyped version. It was a good dream, but Jav=\r\na just\n&gt;&gt; really isn&#39;t functional enough to pretend to do functional things=\r\n with\n&gt;&gt; it.\n&gt;&gt;\n&gt;&gt; David Saff\n&gt;&gt;\n&gt;&gt; On Fri, May 22, 2009 at 2:48 PM, yme098=\r\n7654321 &lt;yme0987654321@...&gt;\n&gt; wrote:\n&gt;&gt; &gt; I&#39;m also curious the motivation f=\r\nor using generics on the\n&gt; assertThat. It seems the only thing it gains is =\r\nthat the parameter to\n&gt; the matcher is the right type for the comparison, b=\r\nut the actual\n&gt; underlying matches method does not look at the generic, so =\r\nif it wasn&#39;t\n&gt; the right type and generics were not used, the assert would =\r\njust fail?\n&gt; I&#39;m I reading that right?\n&gt;&gt; &gt;\n&gt;&gt; &gt; --- In junit@yahoogroups.c=\r\nom &lt;mailto:junit%40yahoogroups.com&gt; ,\n&gt; &quot;yme0987654321&quot; &lt;yme0987654321@&gt; wr=\r\note:\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; hasEntry is part of the Hamcrest library. Here is the sign=\r\nature:\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; public static &lt;K, V&gt; org.hamcrest.Matcher&lt;java.util.Map&lt;=\r\nK, V&gt;&gt;\n&gt; hasEntry(K key, V value)\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; I&#39;m curious if you know of a =\r\nreason that\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; public static &lt;T&gt; void assertThat(T actual, Matcher=\r\n&lt;? extends T&gt;\n&gt; matcher)\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; is wrong. Does it break something that=\r\n you know of?\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; --- In junit@yahoogroups.com &lt;mailto:junit%=\r\n40yahoogroups.com&gt; ,\n&gt; David Saff &lt;david@&gt; wrote:\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; On Fri, M=\r\nay 22, 2009 at 1:18 PM, yme0987654321 &lt;yme0987654321@&gt;\n&gt; wrote:\n&gt;&gt; &gt;&gt; &gt; &gt; C=\r\nonsider the following case:\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; Map&lt;String, Class&lt;? extends=\r\n Serializable&gt;&gt; result =3D null;\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; assertThat(result, has=\r\nEntry(&quot;Key&quot;, java.util.Date.class));\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; This will not comp=\r\nile, but if the method signature of\n&gt; assertThat was changed to:\n&gt;&gt; &gt;&gt; &gt; &gt;\n=\r\n&gt;&gt; &gt;&gt; &gt; &gt; public static &lt;T&gt; void assertThat(T actual, Matcher&lt;? extends\n&gt; T=\r\n&gt; matcher)\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; It would compile.\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; I woul=\r\nd seem that it would be an appropriate change for such\n&gt; cases (unless ther=\r\ne is something I don&#39;t understand about the deep\n&gt; implications of Generics=\r\n).\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Sigh.\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Unfortunately, it was all too easy=\r\n for the hamcrest team, a\n&gt; couple\n&gt;&gt; &gt;&gt; &gt; months ago, to come up with a li=\r\nst of 6 or 7 assertThat\n&gt; statements\n&gt;&gt; &gt;&gt; &gt; that all looked like they shou=\r\nld obviously compile or not\n&gt; compile, but\n&gt;&gt; &gt;&gt; &gt; no Java typing that woul=\r\nd make them all work. =A0It does get deep,\n&gt; and\n&gt;&gt; &gt;&gt; &gt; in some cases, com=\r\npiler-dependent, if I remember correctly.\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; However, we did f=\r\nind that in some cases, the signature of the\n&gt;&gt; &gt;&gt; &gt; _Matcher_ could be imp=\r\nroved. =A0What&#39;s the signature of hasEntry?\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; This is also pu=\r\nshing me to keep on my &quot;Dotmesh&quot; project, which\n&gt; would allow this:\n&gt;&gt; &gt;&gt; &gt;=\r\n\n&gt;&gt; &gt;&gt; &gt; assertThat(result.entrySet()).contains(entry(&quot;Key&quot;, Date.class));\n=\r\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; [if the &quot;entry&quot; factory convenience method were written]\n&gt;&gt;=\r\n &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Thanks,\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; =A0 =A0David Saff\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;\n=\r\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; ------------------------------------\n&gt;&gt; &gt;\n&gt;&gt; &gt; Yahoo! G=\r\nroups Links\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this m=\r\nessage have been removed]\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; =\r\nYahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 21666, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 21683, 
    "contentTrasformed": false, 
    "postDate": "1243359054", 
    "canDelete": false, 
    "nextInTopic": 21698, 
    "prevInTopic": 21682, 
    "headers": {
        "inReplyToHeader": "PEQwNEI2MkE1NkM2NUVBNEI4NjAwMzYxMDhCRDBBNjZDMDMxQkNGNzdAYm9zdG9uLWV4LmxhdmFzdG9ybS5sb2NhbC5jb20+", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkwNTI2MTAzMHMzY2I5ZmMwYnA4ZjY2MGU1OGJkZmJlNDRmQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDkwNTIyMTE1OHAyMDk3ZDc4YW41NjkwOTQwNGY5MTdmMmU0QG1haWwuZ21haWwuY29tPgkgPGd2NnVxZCtudjlwQGVHcm91cHMuY29tPgkgPEQwNEI2MkE1NkM2NUVBNEI4NjAwMzYxMDhCRDBBNjZDMDMxQkNGNzdAYm9zdG9uLWV4LmxhdmFzdG9ybS5sb2NhbC5jb20+"
    }
}