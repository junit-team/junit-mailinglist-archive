{
    "numMessagesInTopic": 26, 
    "nextInTime": 22523, 
    "senderId": "m_4taodHs_AXNyarmit2mE0t6R8drSok10G6Z0YZGRm8_xa1Fb2FsOj7tBjUMmbZNKqSFiKoD7fd0uh3N-ArbSuc", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "... Or, by (almost) symmetry, the following? @Before public void... @After public void... @Rule public MethodRule... @BeforeClass public static void... ", 
    "msgId": 22522, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 71957 invoked from network); 10 Mar 2010 01:56:21 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m13.grp.re1.yahoo.com with QMQP; 10 Mar 2010 01:56:21 -0000\r\nX-Received: from unknown (HELO mail-pw0-f42.google.com) (209.85.160.42)\n  by mta3.grp.sp2.yahoo.com with SMTP; 10 Mar 2010 01:56:20 -0000\r\nX-Received: by pwi10 with SMTP id 10so4199537pwi.15\n        for &lt;junit@yahoogroups.com&gt;; Tue, 09 Mar 2010 17:55:20 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.214.41 with SMTP id r41mr272082rvq.268.1268185654110; Tue, \n\t09 Mar 2010 17:47:34 -0800 (PST)\r\nIn-Reply-To: &lt;EFD8674C-E855-43A1-9D39-B24B770439C6@...&gt;\r\nReferences: &lt;hn6k2g+f5c5@...&gt;\n\t &lt;EFD8674C-E855-43A1-9D39-B24B770439C6@...&gt;\r\nDate: Tue, 9 Mar 2010 20:47:34 -0500\r\nX-Google-Sender-Auth: 669d50c66faf1d00\r\nMessage-ID: &lt;4f7da6b91003091747j6cabdf9bi81ad30e81f7d094@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=341876227; y=x-JVs9Uz4m5adlVM2EFnWyobMxm04gPWLTX7W363sg8\r\nX-Yahoo-Profile: dsaff\r\n\r\nOn Tue, Mar 9, 2010 at 8:08 PM, Kent Beck &lt;kentb@...&gt; wrote:\n&gt; Th=\r\nis is an interesting design tradeoff. I don&#39;t like implicit magic but I als=\r\no don&#39;t like creating new elements (like the &quot;beforeClass =3D true&quot;) if I c=\r\nan reuse existing elements. When I saw the &quot;@Rule static...&quot; I immediately =\r\nknew what was wrong, so I find it understandable that static variables cont=\r\naining rules are only executed once. (By symmetry, I suppose &quot;@Before stati=\r\nc void...&quot; should be a synonym for @BeforeClass.)\n\nOr, by (almost) symmetry=\r\n, the following?\n\n@Before public void...\n@After public void...\n@Rule public=\r\n MethodRule...\n\n@BeforeClass public static void...\n@AfterClass public stati=\r\nc void...\n@RuleOnClass public static ClassRule...\n\n\n\nIn the end, though, my=\r\n opinion of what is obvious is less important\nthan y&#39;all&#39;s. Chime in if you=\r\n want to be heard.\n&gt;\n&gt; Kent\n&gt;\n&gt; On Mar 9, 2010, at 3:02 PM, yme0987654321 w=\r\nrote:\n&gt;\n&gt;&gt; I&#39;m all for a Rule before the class is run, but I think it is wa=\r\ny to gimmicky and obscure to hang that on if the variable is declared stati=\r\nc.\n&gt;&gt;\n&gt;&gt; I would instead think that the @Rule should have a method which in=\r\ndicates if it is before the class or before the test, and then have it vali=\r\ndated if the @Rule is on a static or instance variable, as appropriate.\n&gt;&gt;\n=\r\n&gt;&gt; Something like:\n&gt;&gt;\n&gt;&gt; @Rule(beforeClass =3D true)\n&gt;&gt; public static Tempo=\r\nraryFolder testFolder =3D new TemporaryFolder();\n&gt;&gt;\n&gt;&gt; --- In junit@yahoogr=\r\noups.com, Kent Beck &lt;kentb@...&gt; wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; Hmmm... I don&#39;t think we e=\r\nver tried @Rule on a static variable before. I&#39;m not even sure what they me=\r\nan. Rules are inserted before an individual test is run. Should static rule=\r\ns be inserted before the class is run or before each individual test? Befor=\r\ne the class is run, I&#39;m thinking. Opinions?\n&gt;&gt; &gt;\n&gt;&gt; &gt; Kent\n&gt;&gt; &gt;\n&gt;&gt; &gt; On Mar=\r\n 9, 2010, at 9:43 AM, gary_d_gregory wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; &gt; @Rule objects are n=\r\not initialized before @BeforeClass methods are called. Is this by design or=\r\n a bug?\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; For example:\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; package test;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; =\r\n&gt; import java.io.File;\n&gt;&gt; &gt; &gt; import java.io.IOException;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; imp=\r\nort junit.framework.Assert;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; import org.junit.BeforeClass;\n&gt;&gt; =\r\n&gt; &gt; import org.junit.Rule;\n&gt;&gt; &gt; &gt; import org.junit.Test;\n&gt;&gt; &gt; &gt; import org.=\r\njunit.rules.TemporaryFolder;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; public class TemporaryFolderRule=\r\nBeforeClass {\n&gt;&gt; &gt; &gt; @Rule\n&gt;&gt; &gt; &gt; public static TemporaryFolder testFolder =\r\n=3D new TemporaryFolder();\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; @BeforeClass\n&gt;&gt; &gt; &gt; public static =\r\nvoid testInTempFolder() throws IOException {\n&gt;&gt; &gt; &gt; File tempFile =3D testF=\r\nolder.newFile(&quot;file.txt&quot;);\n&gt;&gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(=\r\n&quot;folder&quot;);\n&gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot()=\r\n);\n&gt;&gt; &gt; &gt; // test\n&gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt;&gt; &gt; &gt;=\r\n }\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; @Test\n&gt;&gt; &gt; &gt; public void test() {\n&gt;&gt; &gt; &gt; // noop\n&gt;&gt; &gt; &gt; }\n=\r\n&gt;&gt; &gt; &gt; }\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Having the TemporaryFolder Rule declared as static i=\r\ns OK as this example test shows:\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; public class TestTemporaryFo=\r\nlderRuleStatic {\n&gt;&gt; &gt; &gt; @Rule\n&gt;&gt; &gt; &gt; public static TemporaryFolder testFold=\r\ner =3D new TemporaryFolder();\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; @Test\n&gt;&gt; &gt; &gt; public void testIn=\r\nTempFolder() throws IOException {\n&gt;&gt; &gt; &gt; File tempFile =3D testFolder.newFi=\r\nle(&quot;file.txt&quot;);\n&gt;&gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;folder&quot;);\n=\r\n&gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());\n&gt;&gt; &gt; &gt; /=\r\n/ test\n&gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt;&gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; }=\r\n\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; How can @Rules be used from @BeforeClass?\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Call=\r\ning TemporaryFolder.create() would work only for TemporaryFolder and not Ru=\r\nles in general but would be against the advice of create method Javadoc.\n&gt;&gt;=\r\n &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; [Non-text portions of this message have bee=\r\nn removed]\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been =\r\nremoved]\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Lin=\r\nks\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22521, 
    "contentTrasformed": false, 
    "postDate": "1268185654", 
    "canDelete": false, 
    "nextInTopic": 22523, 
    "prevInTopic": 22521, 
    "headers": {
        "inReplyToHeader": "PEVGRDg2NzRDLUU4NTUtNDNBMS05RDM5LUIyNEI3NzA0MzlDNkBlYXJ0aGxpbmsubmV0Pg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMzA5MTc0N2o2Y2FiZGY5Ymk4MWFkMzBlODFmN2QwOTRAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGhuNmsyZytmNWM1QGVHcm91cHMuY29tPgkgPEVGRDg2NzRDLUU4NTUtNDNBMS05RDM5LUIyNEI3NzA0MzlDNkBlYXJ0aGxpbmsubmV0Pg=="
    }
}