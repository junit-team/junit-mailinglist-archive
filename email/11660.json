{
    "numMessagesInTopic": 1, 
    "nextInTime": 11661, 
    "senderId": "rnQCXSPsAgbLvzKso8RINdTIkeWD-kmFCCI2-szld_-hjz3Qhejpibt69_O5jhBc481NdC7G1DPggUYTT2y4XIChwWh_88vL18igkOke", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing async calls", 
    "from": "Neil Swingler &lt;neil@...&gt;", 
    "authorName": "Neil Swingler", 
    "msgSnippet": "... Use the FutureResult class in Doug Lea s util.concurrent library: http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/FutureResult.html In", 
    "msgId": 11660, 
    "profile": "neil_swingler", 
    "topicId": 11660, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 117993331, 
    "messageBody": "<div id=\"ygrps-yiv-533879267\"><blockquote><span title=\"ireply\">&gt; How can I test asynchronous calls using JUnit?<br/>\n&gt; <br/>\n&gt; For example: I have a method that invokes another method <br/>\n&gt; asynchronously. <br/>\n&gt; <br/>\n&gt; class Client //implements various interfaces<br/>\n&gt; {<br/>\n&gt;      String outputXML;<br/>\n&gt; <br/>\n&gt;      void makeServerCall(String inputXML)<br/>\n&gt;      {<br/>\n&gt;          server.executeAsynCall(inputXML);<br/>\n&gt;      }<br/>\n&gt; <br/>\n&gt;      // registered for listening back from<br/>\n&gt;      // server once the asyn call is executed<br/>\n&gt;      void onMessage(Message msg)<br/>\n&gt;      {<br/>\n&gt;          outputXML = msg.getData();<br/>\n&gt;      }<br/>\n&gt; <br/>\n&gt;      String getOutput()<br/>\n&gt;      {<br/>\n&gt;          return outputXML;<br/>\n&gt;      }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; In my test case, I write:<br/>\n&gt; <br/>\n&gt; public void testOutput()<br/>\n&gt; {<br/>\n&gt;      clientObj.makeServerCall(inputXML);<br/>\n&gt;      //String expectedOutputXML = blah blah;<br/>\n&gt;      assertTrue(expectedOutputXML.equals(clientObj.getOutput()));<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; This invariably fails, because the getOutput would return anything <br/>\n&gt; but the expected output, as long as the onMessage is not executed. <br/>\n&gt; (NOTE: onMessage is registered with the middle-ware, so that once <br/>\n&gt; the server returns with the output, this method is invoked).<br/>\n&gt; <br/>\n&gt; Can I use JUnit for such a scenario? If &#39;Yes&#39;, how? If &#39;No&#39;, what <br/>\n&gt; other frameworks are there to be able to test such scenarios.<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>Use the FutureResult class in Doug Lea&#39;s util.concurrent library:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/FutureResult.html\">http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/FutureResult.html</a><br/>\n<br/>\nIn this way you can easily turn an asynchronous communication into synchronous.<br/>\n<br/>\n- Neil Swingler</div>", 
    "prevInTime": 11659, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1090831299", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEUxQnAxM0YtMDAwOE14LTAwQHNlcnYwMS5uZWlsLnN3aW5nbGVyLm5hbWU+"
    }
}