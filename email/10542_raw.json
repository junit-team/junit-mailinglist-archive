{
    "numMessagesInTopic": 3, 
    "nextInTime": 10543, 
    "senderId": "Wxq-fcLg7G4O6vs2fVXKW6-iuB9hjc06rvSTrlzSCP6gyFlE5_k2wzh1oauMq4E2NT7wyqmpqWRX7hdfSe-5ajX7MBH_YZ0wsCRW_I-c", 
    "systemMessage": false, 
    "subject": "Re: [junit] TDD for servlets and multipart/form-data?", 
    "from": "Jason Rogers &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "... FWIW: This is what I did... Note: The goToPage(...) methods are home brewed to deal with our specific navigation issues.  You essentially just need to", 
    "msgId": 10542, 
    "rawEmail": "Return-Path: &lt;jacaetevha@...&gt;\r\nX-Sender: jacaetevha@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 8790 invoked from network); 27 Feb 2004 15:59:24 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m2.grp.scd.yahoo.com with QMQP; 27 Feb 2004 15:59:24 -0000\r\nReceived: from unknown (HELO out1.smtp.messagingengine.com) (66.111.4.25)\n  by mta6.grp.scd.yahoo.com with SMTP; 27 Feb 2004 15:59:24 -0000\r\nX-Sasl-enc: WO6FCudYqq84JdVzbgin0g 1077897562\r\nReceived: from eanus.riskmetrics-aa.riskmetrics.com (w025.z064003232.det-mi.dsl.cnc.net [64.3.232.25])\n\tby mail.messagingengine.com (Postfix) with ESMTP id 9EF1D6506FD\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 27 Feb 2004 10:59:22 -0500 (EST)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;403F532F.8020907@...&gt;\r\nReferences: &lt;403F532F.8020907@...&gt;\r\nContent-Type: text/plain\r\nMessage-Id: &lt;1077879460.23011.11.camel@...-aa.riskmetrics.com&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Ximian Evolution 1.4.3 \r\nDate: 27 Feb 2004 10:57:40 +0000\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 66.111.4.25\r\nFrom: Jason Rogers &lt;jacaetevha@...&gt;\r\nReply-To: jason@...\r\nSubject: Re: [junit] TDD for servlets and multipart/form-data?\r\nX-Yahoo-Group-Post: member; u=109352929\r\nX-Yahoo-Profile: jacaetev\r\n\r\nOn Fri, 2004-02-27 at 14:24, George Armhold wrote:\n&gt; Does anyone have a suggestion for how to test servlets that expect\n&gt; multipart/form-data?  I&#39;m trying to TDD a file submission servlet.\n&gt; I&#39;m looking through httpunit/servletunit, but don&#39;t see how to create\n&gt; a WebRequest that is multipart.  It looks like I can create a web page\n&gt; that contains a form which points to my servlet, and then submit on\n&gt; that, but that seems kind of convoluted.  There must be a better way.\n&gt; Any pointers will be appreciated, thanks.\n\nFWIW: This is what I did...\n\nNote: The &#39;goToPage(...)&#39; methods are home brewed to deal with our\nspecific navigation issues.  You essentially just need to call\ngetResponse(WebRequest) on a WebConversation (or something like that).\n\n=jason\n\nCODE:\n\n    public void testFileUpload() throws Exception {\n        File file = File.createTempFile(&quot;prefix&quot;, &quot;.txt&quot;);\n        file.deleteOnExit();\n        \n        WebResponse page = login();\n        WebResponse positionTab = goToPage(page, &quot;Position Upload&quot;);\n        \n        WebForm[] forms = positionTab.getForms();\n        assertEquals(2, forms.length);\n        \n        PostMethodWebRequest request = new\nPostMethodWebRequest(localhost() + &quot;/&quot; + forms[1].getAction());\n        request.setMimeEncoded(true);\n        request.setParameter(&quot;file&quot;, new UploadFileSpec[]{new\nUploadFileSpec(file)});\n        request.setParameter(&quot;destinationDirectory&quot;,\nDESTINATION_DIRECTORY);\n        //goToPage(localhost() + &quot;/&quot; + forms[1].getAction());\n        page = goToPage(request);\n        File uploadedFile = new File(DESTINATION_DIRECTORY + &quot;/&quot; +\nfile.getName());\n        uploadedFile.deleteOnExit();\n        assertTrue(uploadedFile.exists());\n    }\n\n\n", 
    "profile": "jacaetev", 
    "topicId": 10540, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "prevInTime": 10541, 
    "contentTrasformed": false, 
    "postDate": "1077879460", 
    "canDelete": false, 
    "nextInTopic": 10546, 
    "prevInTopic": 10540, 
    "headers": {
        "inReplyToHeader": "PDQwM0Y1MzJGLjgwMjA5MDdAY3MucnV0Z2Vycy5lZHU+", 
        "messageIdInHeader": "PDEwNzc4Nzk0NjAuMjMwMTEuMTEuY2FtZWxAZWFudXMucmlza21ldHJpY3MtYWEucmlza21ldHJpY3MuY29tPg==", 
        "referencesHeader": "PDQwM0Y1MzJGLjgwMjA5MDdAY3MucnV0Z2Vycy5lZHU+"
    }
}