{
    "numMessagesInTopic": 2, 
    "nextInTime": 15035, 
    "senderId": "0boUA5xOvAiq49uCRa3e-RgOzq_8BGSdUWRJFub08gIKmrjqzhQNHB-MPWDvQQhyc1CFNLbDrAe0xm1tw63r3g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing multiple versions of a class", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Elliotte, I would first have a test-compiled target that assumes compiled code in a particular directory.  ant test would then 1) compile with one flag", 
    "msgId": 15034, 
    "profile": "dsaff", 
    "topicId": 15031, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1406233803\">Elliotte,<br/>\n<br/>\nI would first have a &quot;test-compiled&quot; target that assumes compiled code <br/>\nin a particular directory.  &quot;ant test&quot; would then<br/>\n<br/>\n1) compile with one flag into that directory<br/>\n2) call test-compiled<br/>\n3) compile with another flag into that directory<br/>\n4) call test-compiled<br/>\n<br/>\nBut I get the feeling that I&#39;ve actually missed the point--please let me <br/>\nknow if I have.<br/>\n<br/>\n    David Saff<br/>\n<br/>\nElliotte Harold wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; XOM currently includes two versions of one class, nu.xom.Text.<br/>\n&gt; Externally the versions are identical. i.e. the public APIs are the<br/>\n&gt; same. Internally one is optimized for speed and one is optimized for<br/>\n&gt; size. Which one is used is chosen by a compile time flag. i.e. you can<br/>\n&gt; compile for speed or you can compile for size but not both at once.<br/>\n&gt;<br/>\n&gt; Can anyone suggest how one might reliably and automatically test this?<br/>\n&gt; The project is built from Ant. I&#39;d like &quot;ant test&quot; to to run the tests<br/>\n&gt; with both the speedy and compact versions.<br/>\n&gt;<br/>\n&gt; I have thought pretty hard about whether it&#39;s possible to use separate<br/>\n&gt; classes with a common abstract superclass to make the implementation<br/>\n&gt; decision at runtime.  So far, though, neither I nor anyone else has been<br/>\n&gt; able to figure out how to do that without either duplicating storage in<br/>\n&gt; both classes or relaxing class invariants and preconditions, neither of<br/>\n&gt; which is acceptable.<br/>\n&gt;<br/>\n&gt; -- <br/>\n&gt; Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\n&gt; XML in a Nutshell 3rd Edition Just Published!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</a><br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt;<br/>\n&gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt;       on the web.<br/>\n&gt;        <br/>\n&gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;        <br/>\n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15033, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1128095824", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15031, 
    "headers": {
        "inReplyToHeader": "PDQzM0QzQzJBLjEwMjA2MDNAbWV0YWxhYi51bmMuZWR1Pg==", 
        "messageIdInHeader": "PDQzM0Q2MDUwLjkwNTA4MDZAbWl0LmVkdT4=", 
        "referencesHeader": "PDQzM0QzQzJBLjEwMjA2MDNAbWV0YWxhYi51bmMuZWR1Pg=="
    }
}