{
    "numMessagesInTopic": 26, 
    "nextInTime": 22525, 
    "senderId": "ZAf9g892TXxKY8UGRZx_zIvlVIX9hGKizv1YF_USVhq2O0eAg61vw_6n9CFb4AXV2apMXZjAayKmoRIC5F6bin8p88U", 
    "systemMessage": false, 
    "subject": "Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "&quot;Gary&quot; &lt;gary@...&gt;", 
    "authorName": "Gary", 
    "msgSnippet": "Ah! Almost is the key word since it does not work! :) Yet. All joking aside, @Rule (TemporaryFolder or any rule) is a nice idiom, it would be nice to get it", 
    "msgId": 22524, 
    "rawEmail": "Return-Path: &lt;gary@...&gt;\r\nReceived: (qmail 57548 invoked by uid 7800); 10 Mar 2010 04:27:39 -0000\r\nX-Sender: gary@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 33007 invoked from network); 10 Mar 2010 04:21:54 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m11.grp.re1.yahoo.com with QMQP; 10 Mar 2010 04:21:54 -0000\r\nX-Received: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta2.grp.re1.yahoo.com with SMTP; 10 Mar 2010 04:21:53 -0000\r\nX-Received: from [69.147.65.173] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 10 Mar 2010 04:21:53 -0000\r\nX-Received: from [98.137.34.32] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 10 Mar 2010 04:21:53 -0000\r\nDate: Wed, 10 Mar 2010 04:21:52 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hn76p0+k993@...&gt;\r\nIn-Reply-To: &lt;5ED125FC-45DA-42FB-AD90-1A75E8DAFA12@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Gary&quot; &lt;gary@...&gt;\r\nSubject: Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=406321433; y=IHfGakIKipYuhzbSfkGTyovXpA-2lYOOJplkAaVXGAlFMEBVSVx9SzQ\r\nX-Yahoo-Profile: gary_d_gregory\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 10 Mar 2010 04:27:39 -0000\r\n\r\nAh! &quot;Almost&quot; is the key word since it does not work! :) Yet.\n\nAll joking as=\r\nide, @Rule (TemporaryFolder or any rule) is a nice idiom, it would be nice =\r\nto get it to work with JUnits once-per-test and once-per-class patterns lik=\r\ne @Before and @BeforeClass. \n\nIt feels more like a @ClassRule is needed or =\r\n@BeforeClass and @AfterClass could be deprecated in favor of (ducks from to=\r\nmatoes) an annotation attribute than can be slapped on anything appropriate=\r\n: \n\n@Before|@Rule(ExecutionPolicy.CLASS|ExecutionPolicy.INSTANCE\n\nor\n\n@Befo=\r\nre|@Rule(ExecutionPolicy=3D&quot;once_per_class&quot;|&quot;once_per_test&quot;)\n\nor /something=\r\n/. \n\nG\n--- In junit@yahoogroups.com, Kent Beck &lt;kentb@...&gt; wrote:\n&gt;\n&gt; Gosh,=\r\n that almost looks like a test :-)\n&gt; \n&gt; Kent\n&gt; \n&gt; On Mar 9, 2010, at 12:24 =\r\nPM, Gary wrote:\n&gt; \n&gt; &gt; Some context: In this test, we want to configure a s=\r\nerver, start it, run tests, shutdown the server and clear any evidence left=\r\n on disk. \n&gt; &gt; \n&gt; &gt; I was hoping this would map to JUnit as follows:\n&gt; &gt; - =\r\nconfigure the server: Use a TemporaryFolder Rule to create server configura=\r\ntion files. \n&gt; &gt; - start the server in @BeforeClass using the configuration=\r\n files. \n&gt; &gt; - run tests in @Test methods\n&gt; &gt; - shutdown the server in @Aft=\r\nerClass\n&gt; &gt; - clear configuration files and anything else the server create=\r\nd there (logs and other temp files) is done automatically by the TemporaryF=\r\nolder Rule\n&gt; &gt; \n&gt; &gt; Gary\n&gt; &gt; \n&gt; &gt; --- In junit@yahoogroups.com, Kent Beck &lt;=\r\nkentb@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a s=\r\ntatic variable before. I&#39;m not even sure what they mean. Rules are inserted=\r\n before an individual test is run. Should static rules be inserted before t=\r\nhe class is run or before each individual test? Before the class is run, I&#39;=\r\nm thinking. Opinions?\n&gt; &gt; &gt; \n&gt; &gt; &gt; Kent\n&gt; &gt; &gt; \n&gt; &gt; &gt; On Mar 9, 2010, at 9:4=\r\n3 AM, gary_d_gregory wrote:\n&gt; &gt; &gt; \n&gt; &gt; &gt; &gt; @Rule objects are not initialize=\r\nd before @BeforeClass methods are called. Is this by design or a bug? \n&gt; &gt; =\r\n&gt; &gt; \n&gt; &gt; &gt; &gt; For example:\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; package test;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; i=\r\nmport java.io.File;\n&gt; &gt; &gt; &gt; import java.io.IOException;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; im=\r\nport junit.framework.Assert;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; import org.junit.BeforeClass;=\r\n\n&gt; &gt; &gt; &gt; import org.junit.Rule;\n&gt; &gt; &gt; &gt; import org.junit.Test;\n&gt; &gt; &gt; &gt; impo=\r\nrt org.junit.rules.TemporaryFolder;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; public class Temporary=\r\nFolderRuleBeforeClass {\n&gt; &gt; &gt; &gt; @Rule\n&gt; &gt; &gt; &gt; public static TemporaryFolder=\r\n testFolder =3D new TemporaryFolder();\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; @BeforeClass\n&gt; &gt; &gt; =\r\n&gt; public static void testInTempFolder() throws IOException {\n&gt; &gt; &gt; &gt; File t=\r\nempFile =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt; &gt; &gt; &gt; File tempFolder =3D tes=\r\ntFolder.newFolder(&quot;folder&quot;);\n&gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + t=\r\nestFolder.getRoot());\n&gt; &gt; &gt; &gt; // test\n&gt; &gt; &gt; &gt; Assert.assertNotNull(testFold=\r\ner.getRoot());\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; public void test() =\r\n{\n&gt; &gt; &gt; &gt; // noop\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Having the Temporary=\r\nFolder Rule declared as static is OK as this example test shows:\n&gt; &gt; &gt; &gt; \n&gt;=\r\n &gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {\n&gt; &gt; &gt; &gt; @Rule\n&gt; &gt; &gt; &gt; p=\r\nublic static TemporaryFolder testFolder =3D new TemporaryFolder();\n&gt; &gt; &gt; &gt; =\r\n\n&gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; public void testInTempFolder() throws IOException {\n=\r\n&gt; &gt; &gt; &gt; File tempFile =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt; &gt; &gt; &gt; File temp=\r\nFolder =3D testFolder.newFolder(&quot;folder&quot;);\n&gt; &gt; &gt; &gt; System.out.println(&quot;Test=\r\n folder: &quot; + testFolder.getRoot());\n&gt; &gt; &gt; &gt; // test\n&gt; &gt; &gt; &gt; Assert.assertNo=\r\ntNull(testFolder.getRoot());\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; How can @=\r\nRules be used from @BeforeClass? \n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Calling TemporaryFolder.=\r\ncreate() would work only for TemporaryFolder and not Rules in general but w=\r\nould be against the advice of create method Javadoc.\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; \n&gt; &gt; =\r\n&gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; [Non-text portions of this message have been removed=\r\n]\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; \n&gt; \n&gt; \n&gt; \n&gt; [Non-text portions of this message have been r=\r\nemoved]\n&gt;\n\n\n\n", 
    "profile": "gary_d_gregory", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 406321433, 
    "prevInTime": 22523, 
    "contentTrasformed": false, 
    "postDate": "1268194912", 
    "canDelete": false, 
    "nextInTopic": 22525, 
    "prevInTopic": 22523, 
    "headers": {
        "inReplyToHeader": "PDVFRDEyNUZDLTQ1REEtNDJGQi1BRDkwLTFBNzVFOERBRkExMkBlYXJ0aGxpbmsubmV0Pg==", 
        "messageIdInHeader": "PGhuNzZwMCtrOTkzQGVHcm91cHMuY29tPg=="
    }
}