{
    "numMessagesInTopic": 26, 
    "nextInTime": 22525, 
    "senderId": "w8jNqP0TZKbq96UmTYC-HoEyLyYexMJcNzrivdgFbSVea0HRRT_dmgOVMFpiL8VKBE15IFYpx00PE4bfCMjc88ifJC8", 
    "systemMessage": false, 
    "subject": "Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "&quot;Gary&quot; &lt;gary@...&gt;", 
    "authorName": "Gary", 
    "msgSnippet": "Ah! Almost is the key word since it does not work! :) Yet. All joking aside, @Rule (TemporaryFolder or any rule) is a nice idiom, it would be nice to get it", 
    "msgId": 22524, 
    "profile": "gary_d_gregory", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 406321433, 
    "messageBody": "<div id=\"ygrps-yiv-1638848765\">Ah! &quot;Almost&quot; is the key word since it does not work! :) Yet.<br/>\n<br/>\nAll joking aside, @Rule (TemporaryFolder or any rule) is a nice idiom, it would be nice to get it to work with JUnits once-per-test and once-per-class patterns like @Before and @BeforeClass. <br/>\n<br/>\nIt feels more like a @ClassRule is needed or @BeforeClass and @AfterClass could be deprecated in favor of (ducks from tomatoes) an annotation attribute than can be slapped on anything appropriate: <br/>\n<br/>\n@Before|@Rule(ExecutionPolicy.CLASS|ExecutionPolicy.INSTANCE<br/>\n<br/>\nor<br/>\n<br/>\n@Before|@Rule(ExecutionPolicy=&quot;once_per_class&quot;|&quot;once_per_test&quot;)<br/>\n<br/>\nor /something/. <br/>\n<br/>\nG<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Kent Beck &lt;kentb@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Gosh, that almost looks like a test :-)<br/>\n&gt; <br/>\n&gt; Kent<br/>\n&gt; <br/>\n&gt; On Mar 9, 2010, at 12:24 PM, Gary wrote:<br/>\n&gt; <br/>\n&gt; &gt; Some context: In this test, we want to configure a server, start it, run tests, shutdown the server and clear any evidence left on disk. <br/>\n&gt; &gt; <br/>\n&gt; &gt; I was hoping this would map to JUnit as follows:<br/>\n&gt; &gt; - configure the server: Use a TemporaryFolder Rule to create server configuration files. <br/>\n&gt; &gt; - start the server in @BeforeClass using the configuration files. <br/>\n&gt; &gt; - run tests in @Test methods<br/>\n&gt; &gt; - shutdown the server in @AfterClass<br/>\n&gt; &gt; - clear configuration files and anything else the server created there (logs and other temp files) is done automatically by the TemporaryFolder Rule<br/>\n&gt; &gt; <br/>\n&gt; &gt; Gary<br/>\n&gt; &gt; <br/>\n&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Kent Beck &lt;kentb@&gt; wrote:<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a static variable before. I&#39;m not even sure what they mean. Rules are inserted before an individual test is run. Should static rules be inserted before the class is run or before each individual test? Before the class is run, I&#39;m thinking. Opinions?<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; Kent<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; @Rule objects are not initialized before @BeforeClass methods are called. Is this by design or a bug? <br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; For example:<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; package test;<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; import java.io.File;<br/>\n&gt; &gt; &gt; &gt; import java.io.IOException;<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; import junit.framework.Assert;<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; import org.junit.BeforeClass;<br/>\n&gt; &gt; &gt; &gt; import org.junit.Rule;<br/>\n&gt; &gt; &gt; &gt; import org.junit.Test;<br/>\n&gt; &gt; &gt; &gt; import org.junit.rules.TemporaryFolder;<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {<br/>\n&gt; &gt; &gt; &gt; @Rule<br/>\n&gt; &gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; @BeforeClass<br/>\n&gt; &gt; &gt; &gt; public static void testInTempFolder() throws IOException {<br/>\n&gt; &gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt; &gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt; &gt; &gt; &gt; // test<br/>\n&gt; &gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; @Test<br/>\n&gt; &gt; &gt; &gt; public void test() {<br/>\n&gt; &gt; &gt; &gt; // noop<br/>\n&gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; Having the TemporaryFolder Rule declared as static is OK as this example test shows:<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {<br/>\n&gt; &gt; &gt; &gt; @Rule<br/>\n&gt; &gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; @Test<br/>\n&gt; &gt; &gt; &gt; public void testInTempFolder() throws IOException {<br/>\n&gt; &gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt; &gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt; &gt; &gt; &gt; // test<br/>\n&gt; &gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; How can @Rules be used from @BeforeClass? <br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; Calling TemporaryFolder.create() would work only for TemporaryFolder and not Rules in general but would be against the advice of create method Javadoc.<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22523, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1268194912", 
    "canDelete": false, 
    "nextInTopic": 22525, 
    "prevInTopic": 22523, 
    "headers": {
        "inReplyToHeader": "PDVFRDEyNUZDLTQ1REEtNDJGQi1BRDkwLTFBNzVFOERBRkExMkBlYXJ0aGxpbmsubmV0Pg==", 
        "messageIdInHeader": "PGhuNzZwMCtrOTkzQGVHcm91cHMuY29tPg=="
    }
}