{
    "numMessagesInTopic": 10, 
    "nextInTime": 17240, 
    "senderId": "MMpBhNbhk0rqHqmplUTwQAToLWhXp14oWzjXexEWAX8n4XFk-NiDoFHpnCrf6ved19GWa9w9FCH88Ob8wXd9V5hGqrTWdgK7n_BVZgIfAtyGpqIu", 
    "systemMessage": false, 
    "subject": "Re: [junit] OT: Streams / Readers/ Writers or files, what do you use and how do you test?", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "... I like the reader one better aswell, I just had to admit that it is a bit more for the user of the method to keep in mind. I was actually thinking about", 
    "msgId": 17239, 
    "rawEmail": "Return-Path: &lt;joakim.ohlrogge@...&gt;\r\nX-Sender: joakim.ohlrogge@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 91439 invoked from network); 27 Jul 2006 19:22:08 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m21.grp.scd.yahoo.com with QMQP; 27 Jul 2006 19:22:08 -0000\r\nReceived: from unknown (HELO nf-out-0910.google.com) (64.233.182.190)\n  by mta8.grp.scd.yahoo.com with SMTP; 27 Jul 2006 19:22:07 -0000\r\nReceived: by nf-out-0910.google.com with SMTP id n15so316432nfc\n        for &lt;junit@yahoogroups.com&gt;; Thu, 27 Jul 2006 12:21:01 -0700 (PDT)\r\nReceived: by 10.78.185.16 with SMTP id i16mr107207huf;\n        Thu, 27 Jul 2006 12:21:00 -0700 (PDT)\r\nReceived: by 10.78.170.13 with HTTP; Thu, 27 Jul 2006 12:20:59 -0700 (PDT)\r\nMessage-ID: &lt;b9ee5e410607271220o76dfca85q7ab11f6a117c43d1@...&gt;\r\nDate: Thu, 27 Jul 2006 21:20:59 +0200\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;51d1b2de0607271034h6d878cebh63c13c9b504fc6b6@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;b9ee5e410607260813q2b6cc9afr5cad582fc5a909d3@...&gt;\n\t &lt;b86b6a9c0607260936p4b8e9994u4c234b8c1726b9df@...&gt;\n\t &lt;b9ee5e410607261256o779bc983wb9e400b4e4be4a8a@...&gt;\n\t &lt;b86b6a9c0607261301p732ca809gcaf21847fcd40bb8@...&gt;\n\t &lt;b9ee5e410607270102t54b874acwe561da560af7a735@...&gt;\n\t &lt;51d1b2de0607271034h6d878cebh63c13c9b504fc6b6@...&gt;\r\nX-Google-Sender-Auth: 15a2d7610bb4b50b\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nX-eGroups-From: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nFrom: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nReply-To: joakim.ohlrogge@...\r\nSubject: Re: [junit] OT: Streams / Readers/ Writers or files, what do you use and how do you test?\r\nX-Yahoo-Group-Post: member; u=261856052; y=zsXg4_H00Sv_ip4un1Td2MhgcZuqm_7Lhgy79DHx76O3TBWo\r\nX-Yahoo-Profile: j0hlrogge\r\n\r\n&gt;  I liked the Reader one best actually. It would be even better if\n&gt;  BufferedReader implemented Iterable&lt;String&gt; so you could do\n\nI like the reader one better aswell, I just had to admit that it is a\nbit more for the user of the method to keep in mind. I was actually\nthinking about Iterable both for files and streams. It would be really\neasy to create a Reader/Stream/File-iterator for that purpose (they\nwould all be pretty much the same implementation just 3 different\nconstructors or so).\n\n&gt;  As for closing the stream/reader - that should always be the\n&gt;  responsibility of the person who opened it.\n\nStill has to be remebered. For that purpose I once wrote a\nResourceManager that used converters to serialize to and from\nstreams.The ResourceManager created the Stream and passed it to the\nconverter and the converter was responsible for returning an object.\nIt looke something like this:\n\nMyClass instance = (MyClass)manager.readObject(&quot;path&quot;, converter);\nmanager.writeObject(instance, &quot;path&quot;, converter);\n\nWe had some really pleasant spinoffs with that since we could\nimplement very efficient caching of resources. I also like the\nseparation of concerns: 1) manage streams 2) convert streams to\nobjects 3) convert objects to streams.\n\n&gt; I fantasize about something like a Ruby closure\n\n&gt;\n&gt;  new File(&quot;x.txt&quot;).read(fileprocessor)\n&gt;\nThat looks similar to the resource manager in a way.\n\n&gt;  (where read() does the opening and closing) but I am not exactly sure\n&gt;  how that would work in Java without a mass of ugly interfaces and\n&gt;  callbacks.\nDoes it have to be that ugly? I think most of the uglyness could be\nhidden from the enduser and the enduser need to concern himself only\nwith the fileprocessor.\n\n&gt;  Maybe if there was something called Readable and a Reader was\n&gt;  something that could read Readables...?\n&gt;\n&gt;  interface Reader {\n&gt;    void read(Readable in);\n&gt;  }\n&gt;\n&gt;  class MyProcessor implements Readable {}\n&gt;\n&gt;  new FileReadable(&quot;x.txt&quot;).read(myprocessor);\n&gt;\n\nWhy not. Or:\n\nresourceManager.readWith(myprocessor).from(&quot;x.txt&quot;);\n\nThere are endless posibilities :)\n\n&gt;  Something like C#&#39;s /using/ keyword to close Closeables would not suck.\n\nCould you please elaborate. I am only dipping my toes into c# so I&#39;m\nnot familiar with all aspects of the language.\n\n", 
    "profile": "j0hlrogge", 
    "topicId": 17215, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "prevInTime": 17238, 
    "contentTrasformed": false, 
    "postDate": "1154028059", 
    "canDelete": false, 
    "nextInTopic": 17240, 
    "prevInTopic": 17238, 
    "headers": {
        "inReplyToHeader": "PDUxZDFiMmRlMDYwNzI3MTAzNGg2ZDg3OGNlYmg2M2MxM2M5YjUwNGZjNmI2QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDYwNzI3MTIyMG83NmRmY2E4NXE3YWIxMWY2YTExN2M0M2QxQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGI5ZWU1ZTQxMDYwNzI2MDgxM3EyYjZjYzlhZnI1Y2FkNTgyZmM1YTkwOWQzQG1haWwuZ21haWwuY29tPgkgPGI4NmI2YTljMDYwNzI2MDkzNnA0YjhlOTk5NHU0YzIzNGI4YzE3MjZiOWRmQG1haWwuZ29vZ2xlLmNvbT4JIDxiOWVlNWU0MTA2MDcyNjEyNTZvNzc5YmM5ODN3YjllNDAwYjRlNGJlNGE4YUBtYWlsLmdtYWlsLmNvbT4JIDxiODZiNmE5YzA2MDcyNjEzMDFwNzMyY2E4MDlnY2FmMjE4NDdmY2Q0MGJiOEBtYWlsLmdvb2dsZS5jb20+CSA8YjllZTVlNDEwNjA3MjcwMTAydDU0Yjg3NGFjd2U1NjFkYTU2MGFmN2E3MzVAbWFpbC5nbWFpbC5jb20+CSA8NTFkMWIyZGUwNjA3MjcxMDM0aDZkODc4Y2ViaDYzYzEzYzliNTA0ZmM2YjZAbWFpbC5nbWFpbC5jb20+"
    }
}