{
    "numMessagesInTopic": 2, 
    "nextInTime": 14813, 
    "senderId": "ZiyCNXQ1Aq6XYB4A4i22RR0cyNNdztmq-4511p4maTIxy8fY_jDNawkubPP9Us1lCWCj7IWcG3_j3sOF2kg5sh1QPgsWOrM", 
    "systemMessage": false, 
    "subject": "[junit] Re: JUnitAssist - spike and class loaders", 
    "from": "Neil Swingler &lt;neil@...&gt;", 
    "authorName": "Neil Swingler", 
    "msgSnippet": "... As I said this isn t going to work in JUnit4. Which is a shame as there are other useful benefits of injecting a classloader like resetting static data for", 
    "msgId": 14812, 
    "rawEmail": "Return-Path: &lt;neil@...&gt;\r\nX-Sender: neil@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 43861 invoked from network); 16 Sep 2005 06:54:50 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m35.grp.scd.yahoo.com with QMQP; 16 Sep 2005 06:54:50 -0000\r\nReceived: from unknown (HELO serv01.swingler.ch) (217.162.53.43)\n  by mta1.grp.scd.yahoo.com with SMTP; 16 Sep 2005 06:54:50 -0000\r\nReceived: from localhost\n\t([127.0.0.1] helo=serv01.swingler.ch ident=zope)\n\tby serv01.swingler.ch with esmtp (Exim 3.35 #1 (Debian))\n\tid 1EGA5s-0005B1-00\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 16 Sep 2005 08:53:08 +0200\r\ndate: Fri, 16 Sep 2005 08:52:56 +0200\r\nTo: junit@yahoogroups.com\r\nCc: \r\nX-Mailer: WebMailv2 Tice-Universite de Savoie\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain\r\nMessage-Id: &lt;E1EGA5s-0005B1-00@...&gt;\r\nX-eGroups-Msg-Info: 2:12:4:0\r\nFrom: Neil Swingler &lt;neil@...&gt;\r\nSubject: =?iso-8859-1?Q?[junit]_Re:_JUnitAssist_-_spike_and_class_loaders?=\r\nX-Yahoo-Group-Post: member; u=230174996; y=GayOP5evWoDUptnIrsD_qmd9fAFeBIWCm5z_aXQQ-wjC4VptkGAHBQ\r\nX-Yahoo-Profile: neil_swingler\r\n\r\n\n\n&gt; &gt; --- Tobias wrote:\n&gt; &gt;&gt; [...] By using Javassist together with JUnit I=\r\n managed to\n&gt; &gt;&gt; add a powerful yet simple way of doing declarative (from\n&gt;=\r\n &gt;&gt; the test-class) mocking of troublesome classes [...]\n&gt; \n&gt; --- Neil Swin=\r\ngler &lt;neil@s...&gt; wrote:\n&gt; &gt; I was working on something similar, extending J=\r\nUnit. The big\n&gt; &gt; problem is how to insert the custom classloader early eno=\r\nugh\n&gt; &gt; in each test run.\n&gt; \n&gt; I did this (in JUnit 3) by overloading the T=\r\nestCase.runBare method:  \n&gt; When called, it reloaded itself (another instan=\r\nce of the same \n&gt; TestCase child class) through the &quot;AOP&quot; ClassLoader.  The=\r\nn call the \n&gt; test methods.  You have to rely on reflection to make these c=\r\nalls, \n&gt; as the types aren&#39;t compatible across class loaders.  And I used a=\r\n \n&gt; different constructor signature (and/or special flag set method) to \n&gt; =\r\nlet the test class loaded under the test ClassLoader know that it&#39;s \n&gt; the =\r\ncopy -- so it doesn&#39;t try to recursively load and call itself \n&gt; forever.\n&gt;=\r\n \n&gt; It costs a few seconds, per run, to go through another class \n&gt; loader.=\r\n  But otherwise, it can work really well.\n&gt; \nAs I said this isn&#39;t going to =\r\nwork in JUnit4. Which is a shame as there are other useful benefits of inje=\r\ncting a classloader like resetting static data for each test.\n\n- Neil\n\n", 
    "profile": "neil_swingler", 
    "topicId": 14812, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 230174996, 
    "prevInTime": 14811, 
    "contentTrasformed": false, 
    "postDate": "1126853576", 
    "canDelete": false, 
    "nextInTopic": 14821, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEUxRUdBNXMtMDAwNUIxLTAwQHNlcnYwMS5zd2luZ2xlci5jaD4="
    }
}