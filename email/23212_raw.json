{
    "numMessagesInTopic": 12, 
    "nextInTime": 23213, 
    "senderId": "eChlnQv9jH2pB6lWNAgf0QPW8PHmtSvC55sTBXxCGTmnaHK3MhpnXGkaQYKVhSuWBMiJIB9L3EfYCXkqgBH5mdPvXFN5ZzdQL-YY_g", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to avoid running a test class multiple times", 
    "from": "John Cortell &lt;john.cortell@...&gt;", 
    "authorName": "John Cortell", 
    "msgSnippet": "Nice! Thanks Bill for coming up with the idea of a custom suite runner, and thanks David for writing such a runner! There were a couple of minor snags with", 
    "msgId": 23212, 
    "rawEmail": "Return-Path: &lt;john.cortell@...&gt;\r\nReceived: (qmail 36271 invoked by uid 7800); 28 Jan 2011 02:41:11 -0000\r\nX-Sender: john.cortell@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 12514 invoked from network); 27 Jan 2011 22:16:31 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m8.grp.sp2.yahoo.com with QMQP; 27 Jan 2011 22:16:31 -0000\r\nX-Received: from unknown (HELO mail-ww0-f53.google.com) (74.125.82.53)\n  by mta3.grp.sp2.yahoo.com with SMTP; 27 Jan 2011 22:16:31 -0000\r\nX-Received: by wwi18 with SMTP id 18so2823022wwi.34\n        for &lt;junit@yahoogroups.com&gt;; Thu, 27 Jan 2011 14:16:30 -0800 (PST)\r\nX-Received: by 10.216.242.136 with SMTP id i8mr2429133wer.19.1296166589536; Thu,\n 27 Jan 2011 14:16:29 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.217.6.197 with HTTP; Thu, 27 Jan 2011 14:16:09 -0800 (PST)\r\nIn-Reply-To: &lt;AANLkTi=FEcFqDrvzJtZ3jgEqMdwYGOjixx_ZFn=U-dEV@...&gt;\r\nReferences: &lt;ihq795+9sit@...&gt; &lt;AANLkTikZrV2stG6NUigNw4EtYEOGQccVQaK-6L6wK6vi@...&gt;\n &lt;AANLkTi=dECLWoNH0tbd_OHPG_=MtwD5xPQxswmrMXdbk@...&gt;\n &lt;AANLkTimpUTKGBbtq3TUd7Py7SerR9tL=KGUE9SbNOb2z@...&gt; &lt;AANLkTi=FEcFqDrvzJtZ3jgEqMdwYGOjixx_ZFn=U-dEV@...&gt;\r\nDate: Thu, 27 Jan 2011 16:16:09 -0600\r\nMessage-ID: &lt;AANLkTimfhGfhDuOS+EYcgoBGCFCG2HP+WmpnMLFq5=TQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: John Cortell &lt;john.cortell@...&gt;\r\nSubject: Re: [junit] How to avoid running a test class multiple times\r\nX-Yahoo-Group-Post: member; u=474612707; y=TNaDdCZPJqr-3ZEXqN-9d6iulRgmRpAwzK_oStGi9669kiwCYO4\r\nX-Yahoo-Profile: johncortell\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 28 Jan 2011 02:41:11 -0000\r\n\r\nNice! Thanks Bill for coming up with the idea of a custom suite runner, and=\r\n\nthanks David for writing such a runner! There were a couple of minor snags=\r\n\nwith your attempt below, but with some minor tweaks, it seems to be workin=\r\ng\nnicely.\n\n1. [compile time issue] The @RunWith needs to fully qualify Once=\r\nOnlySuite\n(i.e., prefix it with &#39;All.&#39;) I decided to just make it a public =\r\ntop-level\nclass since its use will not be tied to a particular suite.\n\n2. [=\r\nruntime issue] The collection (Set) has to be a instance field of\nOnceOnlyS=\r\nuite, not the anonymous inner RunnerBuilder(), since the latter&#39;s\ninstances=\r\n are ephemeral.\n\nJohn\n\nOn Thu, Jan 27, 2011 at 3:27 PM, David Saff &lt;david@s=\r\naff.net&gt; wrote:\n\n&gt;\n&gt;\n&gt; OK, here&#39;s a crazy hack (haven&#39;t tested it) at a sol=\r\nution. Let me\n&gt; know if you try it and it works...\n&gt;\n&gt; @RunWith(OnceOnlySui=\r\nte.class)\n&gt; @SuiteClasses({A.class, B.class})\n&gt; public class All {\n&gt; public=\r\n static class OnceOnlySuite extends Suite {\n&gt; OnceOnlySuite(Class&lt;?&gt; testCl=\r\nass, final RunnerBuilder builder) {\n&gt; super(testClass, new RunnerBuilder() =\r\n{\n&gt; private Set&lt;Class&lt;?&gt;&gt; alreadySeen =3D new HashSet&lt;Class&lt;?&gt;&gt;();\n&gt;\n&gt; publ=\r\nic Runner runnerForClass(Class&lt;?&gt; testClass) {\n&gt; if (alreadySeen.contains(t=\r\nestClass)) {\n&gt; return new IgnoredClassRunner(testClass);\n&gt; }\n&gt; alreadySeen.=\r\nadd(testClass);\n&gt; return builder.runnerForClass(testClass);\n&gt; }\n&gt; });\n&gt;\n&gt; }=\r\n\n&gt; }\n&gt; }\n&gt;\n&gt; On Thu, Jan 27, 2011 at 3:55 PM, Bill Venners &lt;bill@...=\r\n&lt;bill%40artima.com&gt;&gt;\n&gt; wrote:\n&gt; &gt; Hi John,\n&gt; &gt;\n&gt; &gt; I doubt you&#39;ll want to a=\r\ndd another dependency, but were you to use a\n&gt; &gt; ScalaTest Suite of some ki=\r\nnd with an @RunWith(classOf[JUnitRunner])\n&gt; &gt; annotation on it, JUnit would=\r\n ask ScalaTest to run those test classes.\n&gt; &gt; In ScalaTest, you could overr=\r\nide the run method such that it would\n&gt; &gt; only run the class if it hadn&#39;t b=\r\neen run before. The good thing is it\n&gt; &gt; would solve your problem. The bad =\r\nthing is you&#39;d need to add the Scala\n&gt; &gt; jar and ScalaTest jar on your clas=\r\ns path, and that may not be possible\n&gt; &gt; or desirable for you. Moreover, yo=\r\nu&#39;d need to write the runOnlyOnce\n&gt; &gt; test classes in Scala.\n&gt; &gt;\n&gt; &gt; Actual=\r\nly it occurs to me just now that you should be able to create a\n&gt; &gt; JUnit r=\r\nunner in Java that does what you want: just executing each test\n&gt; &gt; class o=\r\nnly once. Then annotate your test classes with your own runner:\n&gt; &gt; @RunWit=\r\nh(RunOnlyOnceRunner.class). I think that should be a possible\n&gt; &gt; way to do=\r\n what you want.\n&gt; &gt;\n&gt; &gt; If you want to try the ScalaTest way, let me know a=\r\nnd I can help further.\n&gt; &gt;\n&gt; &gt; Bill\n&gt; &gt;\n&gt; &gt; On Thu, Jan 27, 2011 at 12:07 P=\r\nM, John Cortell &lt;john.cortell@...&lt;john.cortell%40gmail.com&gt;&gt;\n&gt; wrote:=\r\n\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; I set out to give Categories a shot, and ran into issu=\r\nes using them in\n&gt; &gt;&gt; Eclipse/JUnit. Wouldn&#39;t you know it...I ran into a po=\r\nst from you in\n&gt; bugzilla\n&gt; &gt;&gt; that knocked the wind out of that sail.\n&gt; &gt;&gt;=\r\n\n&gt; &gt;&gt; https://bugs.eclipse.org/bugs/show_bug.cgi?id=3D318299\n&gt; &gt;&gt;\n&gt; &gt;&gt; John=\r\n\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Wed, Jan 26, 2011 at 7:12 PM, David Saff &lt;david@...&lt;davi=\r\nd%40saff.net&gt;&gt;\n&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Not as simply as you migh=\r\nt think. Could you achieve what you want\n&gt; &gt;&gt; &gt; with Categories (from 4.8?)=\r\n\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; David Saff\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; On Wed, Jan 26, 2011 at 5:29=\r\n PM, johncortell &lt;john.cortell@...&lt;john.cortell%40gmail.com&gt;\n&gt; &lt;john.=\r\ncortell%40gmail.com&gt;&gt;\n&gt; &gt;&gt; &gt; wrote:\n&gt; &gt;&gt; &gt; &gt; Is there a way to tell JUnit t=\r\no execute a class only once no matter\n&gt; how\n&gt; &gt;&gt; &gt; many times it appears in=\r\n an invoked test suite?\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; E.g., say SomeTestClass.java is i=\r\nncluded in both test suite &#39;A&#39;\n&gt; &gt;&gt; &gt; &gt; and test suite &#39;B&#39;. But I have a hi=\r\ngher-level suite call &#39;All&#39; which\n&gt; &gt;&gt; &gt; includes both &#39;A&#39; and &#39;B&#39;. Running=\r\n &#39;All&#39; will thus run\n&gt; SomeTestClass.java\n&gt; &gt;&gt; &gt; twice. Is there a way to p=\r\nrevent that?\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; --------------------------=\r\n----------\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt;=\r\n\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; [Non-text portions of this message have b=\r\neen removed]\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --\n&gt; &gt; Bill Venners\n&gt; &gt; Artima, Inc.\n&gt; &gt;=\r\n http://www.artima.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------\n&gt; &gt;=\r\n\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this=\r\n message have been removed]\n\n\n", 
    "profile": "johncortell", 
    "topicId": 23199, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 474612707, 
    "prevInTime": 23211, 
    "contentTrasformed": false, 
    "postDate": "1296166569", 
    "canDelete": false, 
    "nextInTopic": 23213, 
    "prevInTopic": 23211, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGk9RkVjRnFEcnZ6SnRaM2pnRXFNZHdZR09qaXh4X1pGbj1VLWRFVkBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PEFBTkxrVGltZmhHZmhEdU9TK0VZY2dvQkdDRkNHMkhQK1dtcG5NTEZxNT1UUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGlocTc5NSs5c2l0QGVHcm91cHMuY29tPiA8QUFOTGtUaWtaclYyc3RHNk5VaWdOdzRFdFlFT0dRY2NWUWFLLTZMNndLNnZpQG1haWwuZ21haWwuY29tPiA8QUFOTGtUaT1kRUNMV29OSDB0YmRfT0hQR189TXR3RDV4UFF4c3dtck1YZGJrQG1haWwuZ21haWwuY29tPiA8QUFOTGtUaW1wVVRLR0JidHEzVFVkN1B5N1NlclI5dEw9S0dVRTlTYk5PYjJ6QG1haWwuZ21haWwuY29tPiA8QUFOTGtUaT1GRWNGcURydnpKdFozamdFcU1kd1lHT2ppeHhfWkZuPVUtZEVWQG1haWwuZ21haWwuY29tPg=="
    }
}