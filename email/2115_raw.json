{
    "topicId": 2070, 
    "postDate": "996130695", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Mike Duffy &lt;mduffy_lists@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "QpQ0y2kjD7lKD214gFom3baLlRy_wGwnyT_eYid0vC9vxp9JhMHIyL8r3PHYDLsvWuJfQa2-8N_fW9mcD4yvWZjw4XBSkRbksOc", 
    "nextInTime": 2116, 
    "userId": 0, 
    "prevInTime": 2114, 
    "prevInTopic": 2113, 
    "headers": {
        "inReplyToHeader": "PEFGMDc3NzZEQjVEMUQyMTFCQzA3MDBBMEM5RTkyMzdGNUMwMTc2QG9iamVjbWVudG9yLmNvbT4=", 
        "messageIdInHeader": "PDIwMDEwNzI2MDY1ODE1Ljc3ODk3LnFtYWlsQHdlYjE0OTA3Lm1haWwueWFob28uY29tPg=="
    }, 
    "authorName": "Mike Duffy", 
    "numMessagesInTopic": 8, 
    "msgSnippet": "Jeff, You should enter your comments into the Best Practices link created by J. B. Rainsberger: http://c2.com/cgi/wiki?JavaUnitBestPractices I do almost", 
    "contentTrasformed": false, 
    "msgId": 2115, 
    "nextInTopic": 2119, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;mduffy_lists@...&gt;\r\nX-Sender: mduffy_lists@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 26 Jul 2001 06:58:16 -0000\r\nReceived: (qmail 82683 invoked from network); 26 Jul 2001 06:58:15 -0000\r\nReceived: from unknown (10.1.10.26) by m8.onelist.org with QMQP; 26 Jul 2001 06:58:15 -0000\r\nReceived: from unknown (HELO web14907.mail.yahoo.com) (216.136.225.59) by mta1 with SMTP; 26 Jul 2001 06:58:15 -0000\r\nMessage-ID: &lt;20010726065815.77897.qmail@...&gt;\r\nReceived: from [24.27.61.94] by web14907.mail.yahoo.com; Wed, 25 Jul 2001 23:58:15 PDT\r\nDate: Wed, 25 Jul 2001 23:58:15 -0700 (PDT)\r\nSubject: RE: [junit] Re: Errors and Exceptions\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;AF07776DB5D1D211BC0700A0C9E9237F5C0176@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nFrom: Mike Duffy &lt;mduffy_lists@...&gt;\r\n\r\nJeff,\n\nYou should enter your comments into the Best Practices link created\nby J. B. Rainsberger:\n\nhttp://c2.com/cgi/wiki?JavaUnitBestPractices\n\nI do almost exactly as you suggest.  When writing test methods, I\nfirst write a test method for each exception in the throws cluase of\nthe method.  The only exception I create a catch block for is the\nexception I am expecting for the specific test.  I use a trows\nExcpetion in the test method and let the JUnit framework handle\nanything unexpected that comes up.\n\nI don&#39;t think it is necessary to put an &quot;assertTrue(true);&quot; in the\ncatch block.\n\nAlso, I use a unique naming convention for my test methods:\n\n   test_##_nameofMethodBeingTested\n\n// Test IllegalArgumentException is thrown when account number is\nnull.\npublic void test_00_isAccountAssigned() throws Exception {\n\n    try {\n       boolean assignedStatus =\naccountWorker.isAccountAssigned(null);\n       fail(&quot;IllegalArgumentException should have been thrown&quot;)\n\n    } catch (IllegalArgumentException iae) {\n\n        // Test Succeeds.\n    } \n}\n\n--- Jeff Langr &lt;JLangr@...&gt; wrote:\n&gt; I agree with Mr. Duffy and would like to add my thoughts.\n&gt; \n&gt; Your test cases represent controlled contexts that you create.  You\n&gt; need to\n&gt; not only test all the &quot;happy path&quot; scenarios -- the ones where you\n&gt; expect no\n&gt; exceptions should be thrown -- but as well test the scenarios where\n&gt; you\n&gt; *expect* exceptions to be thrown. For example:\n&gt; \n&gt; public void testTooManyPlayersOnField() {\n&gt; \tField field = new Field();\n&gt; \tfor (int i = 0; i &lt; 11; i++)\n&gt; \t\tfield.addPlayer();\n&gt; \ttry {\n&gt; \t\tfield.addPlayer();\n&gt; \t\tfail(&quot;should have thrown exception...&quot;);\n&gt; \t}\n&gt; \tcatch (TooManyPlayersException e) {\n&gt; \t\tassertTrue(true);  // ugh.  &quot;pass()&quot; would be nice\n&gt; \t}\n&gt; }\n&gt; \n&gt; For the happy path tests, I don&#39;t care what exception is thrown --\n&gt; it should\n&gt; never happen under normal circumstances. (If it does, something&#39;s\n&gt; seriously\n&gt; wrong anyway, and JUnit will still catch it.)  So I just declare\n&gt; that my\n&gt; test &quot;throws Exception&quot; where I have to (and use finally clauses\n&gt; when I need\n&gt; to).  That&#39;s the simplest thing that&#39;ll work in the light of Java&#39;s\n&gt; insistence that you deal with the potential for an exception.  \n&gt; \n&gt; Using throws on test methods is fine as long as you document how to\n&gt; deal\n&gt; with all possible inappropriate things that *can* happen.  This\n&gt; documentation is through other tests that force and demonstrate\n&gt; these\n&gt; inappropriate things.  The nice part about this approach is that it\n&gt; pushes\n&gt; developers to learn how to treat exceptions early on.  Kind of like\n&gt; ensuring\n&gt; that you can actually restore from your backup tapes before you\n&gt; actually\n&gt; have to.  Most non-XP code I&#39;ve seen does a poor job of organizing\n&gt; exceptions.  \n&gt; \n&gt; Jeff L.\n&gt; Object Mentor, Inc.\n&gt; \n&gt; &gt; -----Original Message-----\n&gt; &gt; From: Mike Duffy [mailto:mduffy_lists@...]\n&gt; &gt; Sent: Wednesday, July 25, 2001 9:44 AM\n&gt; &gt; To: junit@yahoogroups.com\n&gt; &gt; Subject: Re: [junit] Re: Errors and Exceptions\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; I do see your point.  In general, I think that using &quot;throws\n&gt; &gt; Exception&quot; is bad coding.\n&gt; &gt; \n&gt; &gt; However, from the standpoint of maintaining a testing framework,\n&gt; &gt; using &quot;throws Exception&quot; might be acceptable.  When writing a\n&gt; test\n&gt; &gt; method the goal is to test a specific condition.  You can\n&gt; minimize\n&gt; &gt; your work and maintenance by letting the JUint framework handle\n&gt; the\n&gt; &gt; things that go wrong (catching exceptions and generating errors).\n&gt; &gt; \n&gt; &gt; If you have twenty test methods that test the method &quot;aMethod&quot;\n&gt; and\n&gt; &gt; each of these methods has a throws clause identical to the throws\n&gt; &gt; clause in aMethod, whenever the throws clause for aMethod changes\n&gt; you\n&gt; &gt; have twenty test methods to revise.  If each of your test methods\n&gt; &gt; &quot;throws Exception&quot;, a change in the throws clause of aMethod does\n&gt; not\n&gt; &gt; affect your test methods.\n&gt; &gt; \n&gt; &gt; Mike\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; --- dfw1@... wrote:\n&gt; &gt; &gt; --- In junit@y..., Mike Duffy &lt;mduffy_lists@y...&gt; wrote:\n&gt; &gt; &gt; &gt; I have only been using JUnit for a few months and I am\n&gt; focusing\n&gt; &gt; &gt; on\n&gt; &gt; &gt; &gt; creating &quot;best practices&quot; templates for our development team.\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; I would greatly appreciate the insight of more experienced\n&gt; users\n&gt; &gt; &gt; on\n&gt; &gt; &gt; &gt; the following issue.\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Because an exception caught by the JUnit framework is an\n&gt; error,\n&gt; &gt; &gt; when\n&gt; &gt; &gt; &gt; testing a method that throws exceptions, it is best to\n&gt; include\n&gt; &gt; &gt; those\n&gt; &gt; &gt; &gt; exceptions in the throws clause of the test method (or even\n&gt; add a\n&gt; &gt; &gt; &gt; &quot;throws Exception&quot; to most test methods).  \n&gt; &gt; &gt; \n&gt; &gt; &gt; Hi Mike,\n&gt; &gt; &gt; \n&gt; &gt; &gt; My team at a previous job tried just adding &quot;throws Exception&quot;\n&gt; to\n&gt; &gt; &gt; all\n&gt; &gt; &gt; our test method footprints. The problem we hit was that other\n&gt; &gt; &gt; developers down the line would use our test code as example\n&gt; code\n&gt; &gt; &gt; when\n&gt; &gt; &gt; they reused the code we were testing. (Unit test code makes\n&gt; poor\n&gt; &gt; &gt; example code in so many ways, but was consistenty what the\n&gt; &gt; &gt; developers\n&gt; &gt; &gt; down line tried to use. That continued even when we provided\n&gt; &gt; &gt; example\n&gt; &gt; &gt; code.)\n&gt; &gt; &gt; \n&gt; &gt; &gt; I found it much better to list out all the exceptions that a\n&gt; test\n&gt; &gt; &gt; could possibly throw in the throws clause. It adds a tiny\n&gt; amount of\n&gt; &gt; &gt; overhead to writing the test code, but adds greatly to the\n&gt; &gt; &gt; awareness\n&gt; &gt; &gt; of just what can go wrong. Otherwise, people who use your code\n&gt; down\n&gt; &gt; &gt; line are likely to include &quot;throws Exception&quot; (or worse,\n&gt; &gt; &gt; catch(Exception ex)) in everything that uses your code. Also,\n&gt; it\n&gt; &gt; &gt; will\n&gt; &gt; &gt; tip you off to changes in the throws clauses in your code at\n&gt; &gt; &gt; compile\n&gt; &gt; &gt; time.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Since then, I&#39;ve added a patch to junit that adds a\n&gt; fail(Exception)\n&gt; &gt; &gt; method to Assert. See\n&gt; &gt; &gt;\n&gt; &gt; http://sourceforge.net/tracker/index.php?func=detail&aid=43569\n&gt; &gt; 9&group_id=15278&atid=315278\n&gt; &gt; &gt; (I feel like I&#39;m plugging a book in a talk show interview. :) )\n&gt; &gt; &gt; \n&gt; &gt; &gt; I personally prefer having try-catch-finally blocks in my\n&gt; tests,\n&gt; &gt; &gt; and\n&gt; &gt; &gt; this patch lets me do it. That reserves junit errors for\n&gt; &gt; &gt; RuntimeExceptions and Errors, and still gives me a full stack\n&gt; &gt; &gt; trace. \n&gt; &gt; &gt; \n&gt; &gt; &gt; Not everyone will want to run a patched junit 3.7, so listing\n&gt; out\n&gt; &gt; &gt; each\n&gt; &gt; &gt; exception seems a reasonable technique.\n&gt; &gt; &gt; \n&gt; &gt; &gt; &gt; public void testMethod() throws Exception {\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt;     returnValue = methodCall(args);\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt;     assertTrue(some condition);\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; The following template would be less correct:\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; public void testMethod() {\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt;     try {\n&gt; &gt; &gt; &gt;         returnValue = methodCall(args);\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt;     } catch (Exception e){\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt;         fail(&quot;Exception should not be thrown: &quot; + e);\n&gt; &gt; &gt; &gt;     }\n&gt; &gt; &gt; &gt;      \n&gt; &gt; &gt; &gt;     assertTrue(some condition);\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; Don&#39;t forget that your assertTrue(some condition); can also\n&gt; throw\n&gt; &gt; &gt; exceptions, so these two blocks are not interchangable.\n&gt; &gt; &gt; \n&gt; &gt; &gt; I prefer\n&gt; &gt; &gt; \n&gt; &gt; &gt; public void testMethod() throws\n&gt; SomeExceptionThatMethodCallThrows\n&gt; &gt; &gt; {\n&gt; &gt; &gt; \ttry\n&gt; &gt; &gt; \t{\n&gt; &gt; &gt; \t\treturnValue = methodCall(args);\n&gt; &gt; &gt; \t\tassertTrue(some condition);\n&gt; &gt; &gt; \t}\n&gt; &gt; &gt; \tfinally\n&gt; &gt; &gt; \t{\n&gt; &gt; &gt; \t\t//any code to clean up the mess\n&gt; &gt; &gt; \t}\n&gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; or (even better)\n&gt; &gt; &gt; \n&gt; &gt; &gt; public void testMethod()\n&gt; &gt; &gt; {\n&gt; &gt; &gt; \ttry\n&gt; &gt; &gt; \t{\n&gt; &gt; &gt; \t\treturnValue = methodCall(args);\n&gt; &gt; &gt; \t\tassertTrue(some condition);\n&gt; &gt; &gt; \t}\n&gt; &gt; &gt; \tcatch(SomeExceptionThatMethodCallThrows setmct)\n&gt; &gt; &gt; \t{\n&gt; &gt; &gt; \t\tfail(setmct);\n&gt; &gt; &gt; \t}\n&gt; &gt; &gt; \tfinally\n&gt; &gt; &gt; \t{\n&gt; &gt; &gt; \t\t//any code to clean up the mess\n&gt; &gt; &gt; \t}\n&gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; &gt; In general, test methods should be very lean and focus\n&gt; &gt; &gt; specifically\n&gt; &gt; &gt; &gt; on the condition being tested; let the framework handle the\n&gt; rest.\n&gt; &gt; &gt; \n&gt; &gt; &gt; so long as the code is easy to read, and encourages good\n&gt; practices\n&gt; &gt; &gt; down the line. I discourage &quot;throws Exception&quot;s anywhere I see\n&gt; &gt; &gt; them.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Anyway, that&#39;s how I do it. Others take different approaches,\n&gt; and\n&gt; &gt; &gt; have\n&gt; &gt; &gt; reasons for it.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Dave\n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; __________________________________________________\n&gt; &gt; Do You Yahoo!?\n&gt; &gt; Make international calls for as low as $.04/minute with \n&gt; &gt; Yahoo! Messenger\n&gt; &gt; http://phonecard.yahoo.com/\n&gt; &gt; \n&gt; &gt; ------------------------ Yahoo! Groups Sponsor \n&gt; &gt; ---------------------~--&gt;\n&gt; &gt; Small business owners...\n&gt; &gt; Tell us what you think! \n&gt; &gt; http://promo2.yahoo.com/sbin/Yahoo!_BusinessNewsletter/survey.cgi\n&gt; &gt; http://us.click.yahoo.com/vO1FAB/txzCAA/ySSFAA/NhFolB/TM\n&gt; &gt; --------------------------------------------------------------\n&gt; &gt; -------~-&gt;\n&gt; &gt; \n&gt; &gt; To unsubscribe from this group, send an email to:\n&gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; Your use of Yahoo! Groups is subject to \n&gt; &gt; http://docs.yahoo.com/info/terms/ \n&gt; &gt; \n&gt; &gt; \n&gt; \n\n\n__________________________________________________\nDo You Yahoo!?\nMake international calls for as low as $.04/minute with Yahoo! Messenger\nhttp://phonecard.yahoo.com/\n\n", 
    "subject": "RE: [junit] Re: Errors and Exceptions"
}