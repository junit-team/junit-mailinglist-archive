{
    "numMessagesInTopic": 8, 
    "nextInTime": 23579, 
    "senderId": "gh-Uiu8RPS3AGEOhcUcIo_3kEZoCaka8bo_307R_o4ppnkYrugq-eEtnR-aaLs9oP91f4VbmiHf794BZDccvhLucKA6CNBOu", 
    "systemMessage": false, 
    "subject": "Re: [junit] Test order in a TestSuite random on JDK7", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "On Tue, Aug 23, 2011 at 6:58 AM, Jaroslav Tulach ", 
    "msgId": 23578, 
    "profile": "kevincooney2000", 
    "topicId": 23568, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "messageBody": "<div id=\"ygrps-yiv-2039431920\">On Tue, Aug 23, 2011 at 6:58 AM, Jaroslav Tulach &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jaroslav.tulach@...\">jaroslav.tulach@...</a><br/>\n<blockquote><span title=\"ireply\"> &gt; wrote:<br/>\n<br/>\n&gt; **<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; &gt; If<br/>\n&gt; &gt; you want reproducibility for tests without that property, you can<br/>\n&gt; &gt; implement it yourself.<br/>\n&gt;<br/>\n&gt; Thanks David for your &quot;Ordered extends BlockJUnit4ClassRunner&quot; solution.<br/>\n&gt; The<br/>\n&gt; problem however is that majority of our tests are still using JUnit3. Is<br/>\n&gt; there<br/>\n&gt; a suggested way to convince JUnit3 runner to order the tests?<br/>\n&gt;<br/>\n<br/>\n </span></blockquote>Try this. For each TestCase where it fails due to a changing of the test<br/>\norder, add a suite method that reorders the tests<br/>\n<br/>\npublic class MyTest extends TestCase {<br/>\n<br/>\n  public MyTest(String name) {<br/>\n    super(name);<br/>\n  }<br/>\n<br/>\n  public static Test suite() {<br/>\n    TestSuite suite = new TestSuite(MyTest.class);<br/>\n    List&lt;Test&gt; tests = Collections.list(tests.elements());<br/>\n    Collections.sort(tests, new TestSortingComparator());<br/>\n    TestSuite sortedSuite = new TestSuite(suite.getName());<br/>\n    for (Test test : tests) {<br/>\n      sortedSuite.addTest(test);<br/>\n    }<br/>\n    return sortedSuite;<br/>\n  }<br/>\n<br/>\nI&#39;m note 100% sure that Ant will use the suite() methods, but it should.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; &gt;## 22. 8. 2011 21:08:47 ##&lt;<br/>\n&gt;<br/>\n&gt; &gt; It sounds like you want JUnit to do more for you.<br/>\n&gt;<br/>\n&gt; I&#39;d like a way to reproduce the failure on a continuous build server<br/>\n&gt; locally<br/>\n&gt; to help me find problems in existing tests and make them properly isolated.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; &gt; I&#39;m satisfied with the current situation but I hear<br/>\n&gt; &gt; that you aren&#39;t.<br/>\n&gt;<br/>\n&gt; Currently I see little support to help me analyze failures related to<br/>\n&gt; random<br/>\n&gt; execution order of test methods. Here in given advices may help for JUnit4,<br/>\n&gt;<br/>\n&gt; but not for our existing JUnit3 test suites harnessed by Ant.<br/>\n&gt; -jt<br/>\n&gt;<br/>\n&gt; &gt; On Aug 22, 2011, at 11:34 AM, Jaroslav Tulach wrote:<br/>\n&gt; &gt; &gt; Dne Po 22. srpna 2011 18:05:44 Kent Beck napsal(a):<br/>\n&gt; &gt; &gt; &gt; Jaroslav,<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; I reverse the causation: my tests will be more valuable if they are<br/>\n&gt; &gt; &gt; &gt; isolated so that random execution order cannot affect their<br/>\n&gt; &gt; &gt; &gt; reproducibility. It has always been a deliberate design decision in<br/>\n&gt; &gt; &gt; &gt; JUnit that we would *not* guarantee the order of test execution.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Kent,<br/>\n&gt; &gt; &gt; yes this is a valid approach and I outlined that as 2nd or 3rd<br/>\n&gt; &gt; &gt; alternative at<br/>\n&gt; &gt; &gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://wiki.apidesign.org/wiki/OrderOfElements#Random_vs._RandomizedTest\">http://wiki.apidesign.org/wiki/OrderOfElements#Random_vs._RandomizedTest</a><br/>\n&gt; &gt; &gt; s Do you believe that reproducibility is well supported in current<br/>\n&gt;<br/>\n&gt; &gt; &gt; version of JUnit?<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; -jt<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; On Aug 22, 2011, at 5:45 AM, Jaroslav Tulach wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; Hi,<br/>\n&gt; &gt; &gt; &gt; &gt; I am not sure if this was noticed (I have not seen any related post<br/>\n&gt; &gt; &gt; &gt; &gt; in this forum yet), but it seems that the order of execution of<br/>\n&gt; &gt; &gt; &gt; &gt; testXYZ methods in a TestCase subclass is random on JDK7.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; I believe randomness in a test execution is not good, it hurts<br/>\n&gt; &gt; &gt; &gt; &gt; reproducibility. Do you think JUnit should do something to mitigate<br/>\n&gt; &gt; &gt; &gt; &gt; the JDK7 behavior?<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; -jt<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; PS: Detailed description of my inquiry is available at<br/>\n&gt; &gt; &gt; &gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://wiki.apidesign.org/wiki/OrderOfElements\">http://wiki.apidesign.org/wiki/OrderOfElements</a><br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; ------------------------------------<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 23577, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1314120695", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23575, 
    "headers": {
        "inReplyToHeader": "PDIwMTEwODIzMTU1OC40MTY0MC5qYXJvc2xhdi50dWxhY2hAb3JhY2xlLmNvbT4=", 
        "messageIdInHeader": "PENBQTNFK2VWVDNKMG9zcXRRNytBZS1SYko5MVRaME85RHJLb0E3WHZTTDRrcjEzellfZ0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDIwMTEwODIyMTQ0NS4zMDc4NS5qYXJvc2xhdi50dWxhY2hAb3JhY2xlLmNvbT4gPDIwMTEwODIyMjAzNC4xNzcwMy5qYXJvc2xhdi50dWxhY2hAb3JhY2xlLmNvbT4gPDc0NTRGODFELTVDQTQtNEYwQi04QzM2LTI2MDFFODA1MjlEMUBlYXJ0aGxpbmsubmV0PiA8MjAxMTA4MjMxNTU4LjQxNjQwLmphcm9zbGF2LnR1bGFjaEBvcmFjbGUuY29tPg=="
    }
}