{
    "numMessagesInTopic": 6, 
    "nextInTime": 20471, 
    "senderId": "HYb7LbOEuO7svn-_dmw3Bx8ZKSo9CuYv7dMUUWJ3xHFDZom-6g_P5nBZpE7bzKei-IP0EjaAxrQc8A_So-CSUrFhXFM1rlY0XO7wOg", 
    "systemMessage": true, 
    "subject": "Re: TextListener improvement", 
    "from": "&quot;toalexsmail&quot; &lt;toalexsmail@...&gt;", 
    "authorName": "toalexsmail", 
    "msgSnippet": "I actually did it now. There are many files their, so see https://sourceforge.net/tracker/?func=detail&atid=365278&aid=1913115&group_id=15278 file", 
    "msgId": 20470, 
    "rawEmail": "Return-Path: &lt;toalexsmail@...&gt;\r\nReceived: (qmail 1501 invoked from network); 1 May 2008 06:46:34 -0000\r\nReceived: from unknown (66.218.67.94)\n  by m52.grp.scd.yahoo.com with QMQP; 1 May 2008 06:46:34 -0000\r\nReceived: from unknown (HELO n19a.bullet.sp1.yahoo.com) (69.147.64.130)\n  by mta15.grp.scd.yahoo.com with SMTP; 1 May 2008 06:46:34 -0000\r\nReceived: from [216.252.122.217] by n19.bullet.sp1.yahoo.com with NNFMP; 01 May 2008 06:46:34 -0000\r\nReceived: from [66.218.69.6] by t2.bullet.sp1.yahoo.com with NNFMP; 01 May 2008 06:46:34 -0000\r\nReceived: from [66.218.66.79] by t6.bullet.scd.yahoo.com with NNFMP; 01 May 2008 06:46:34 -0000\r\nX-Sender: toalexsmail@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 68229 invoked from network); 1 May 2008 02:54:14 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m52.grp.scd.yahoo.com with QMQP; 1 May 2008 02:54:14 -0000\r\nX-Received: from unknown (HELO n19c.bullet.scd.yahoo.com) (66.218.67.207)\n  by mta16.grp.scd.yahoo.com with SMTP; 1 May 2008 02:54:14 -0000\r\nX-Received: from [66.218.69.3] by n19.bullet.scd.yahoo.com with NNFMP; 01 May 2008 02:54:14 -0000\r\nX-Received: from [66.218.66.82] by t3.bullet.scd.yahoo.com with NNFMP; 01 May 2008 02:54:14 -0000\r\nDate: Thu, 01 May 2008 02:54:13 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fvbbcl+kv8@...&gt;\r\nIn-Reply-To: &lt;fv9v7c+jf9t@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;toalexsmail&quot; &lt;toalexsmail@...&gt;\r\nSubject: Re: TextListener improvement\r\nX-Yahoo-Group-Post: member; u=340165037; y=F6S_hhKm70UWMPi7Lsbi0lK4uoEBsB-YbSvU_ACpDYFSsC2lJfI\r\nX-Yahoo-Profile: toalexsmail\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via web; 01 May 2008 06:46:34 -0000\r\n\r\nI actually did it now. \nThere are many files their, so see\nhttps://sourcefo=\r\nrge.net/tracker/?func=3Ddetail&atid=3D365278&aid=3D1913115&group_id=3D15278=\r\n\n\nfile RunListenerTest.zip\n\n\n--- In junit@yahoogroups.com, &quot;toalexsmail&quot; &lt;t=\r\noalexsmail@...&gt; wrote:\n&gt;\n&gt; Kent, I will do it in the future, maybe in this =\r\nweekend, but I don&#39;t\n&gt; promise.\n&gt; \n&gt; --- In junit@yahoogroups.com, &quot;Kent Be=\r\nck&quot; &lt;kentb@&gt; wrote:\n&gt; &gt;\n&gt; &gt; Alex,\n&gt; &gt;  \n&gt; &gt; It would help me if you provide=\r\nd test cases that break with the\n&gt; current code\n&gt; &gt; and pass with the chang=\r\nes below.\n&gt; &gt;  \n&gt; &gt; Regards,\n&gt; &gt;  \n&gt; &gt; Kent Beck\n&gt; &gt; Three Rivers Institute=\r\n\n&gt; &gt; \n&gt; &gt;   _____  \n&gt; &gt; \n&gt; &gt; From: junit@yahoogroups.com [mailto:junit@yaho=\r\nogroups.com] On\nBehalf Of\n&gt; &gt; toalexsmail\n&gt; &gt; Sent: Monday, April 28, 2008 =\r\n4:33 PM\n&gt; &gt; To: junit@yahoogroups.com\n&gt; &gt; Subject: [junit] Re: TextListener=\r\n improvement\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; PrintStreamListener has a bug. Here is corr=\r\nect version:\n&gt; &gt; \n&gt; &gt; public class PrintStreamListener extends RunListener{=\r\n\n&gt; &gt; //Definition of delimiters is in Description\n&gt; &gt; private static final =\r\nPattern DISPAY_NAME_PATTERN =3D\n&gt; &gt; Pattern.compile(&quot;[()]&quot;); \n&gt; &gt; private T=\r\nextListener textListener;\n&gt; &gt; private PrintStream writer;\n&gt; &gt; \n&gt; &gt; public P=\r\nrintStreamListener() {\n&gt; &gt; this(System.out);\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; public PrintStr=\r\neamListener(PrintStream writer) {\n&gt; &gt; super();\n&gt; &gt; this.textListener =3D ne=\r\nw TextListener(writer);\n&gt; &gt; this.writer =3D writer;\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; /**\n&gt; &gt; =\r\n* For sub-classes use.\n&gt; &gt; * \n&gt; &gt; * @return\n&gt; &gt; */\n&gt; &gt; protected PrintStrea=\r\nm getWriter(){\n&gt; &gt; return writer;\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; private PrintStream getNot=\r\nNullWriter(){\n&gt; &gt; PrintStream writer =3D getWriter();\n&gt; &gt; if(writer=3D=3Dnu=\r\nll){\n&gt; &gt; throw new IllegalStateException(&quot;writer should be not null&quot;);\n&gt; &gt; =\r\n}\n&gt; &gt; return writer;\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; /**\n&gt; &gt; * This method can be overr=\r\niden in sub-classes.\n&gt; &gt; * \n&gt; &gt; * @param description\n&gt; &gt; * @throws IllegalA=\r\nrgumentException if description is null.\n&gt; &gt; */\n&gt; &gt; protected void writeMet=\r\nhodName(Description description){\n&gt; &gt; if(description=3D=3Dnull){\n&gt; &gt; throw =\r\nnew IllegalArgumentException(&quot;description should be not null&quot;);\n&gt; &gt; }\n&gt; &gt; S=\r\ntring displayName =3D description.getDisplayName();\n&gt; &gt; //third place is em=\r\npty, workaround to avoid ) at the end of the String\n&gt; &gt; String[] complexNam=\r\nes =3D DISPAY_NAME_PATTERN.split(displayName, 3); \n&gt; &gt; String methodName =\r\n=3D (complexNames=3D=3Dnull ||\n&gt; &gt; complexNames.length=3D=3D0)?null:complex=\r\nNames[0];\n&gt; &gt; if(methodName =3D=3D null || &quot;&quot;.equals(methodName)){\n&gt; &gt; meth=\r\nodName =3D displayName;\n&gt; &gt; }\n&gt; &gt; PrintStream writer =3D getNotNullWriter()=\r\n;\n&gt; &gt; \n&gt; &gt; writer.print(methodName);\n&gt; &gt; writer.print(&#39; &#39;);\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; =\r\n\n&gt; &gt; /**\n&gt; &gt; * Called when an atomic test is about to be started.\n&gt; &gt; * @pa=\r\nram description the description of the test that is about to be\n&gt; &gt; run \n&gt; =\r\n&gt; * (generally a class and method name)\n&gt; &gt; */\n&gt; &gt; @Override\n&gt; &gt; public voi=\r\nd testStarted(Description description) {\n&gt; &gt; textListener.testStarted(descr=\r\niption);\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; /** \n&gt; &gt; * Called when an atomic test fails.\n&gt; &gt; * =\r\n@param failure describes the test that failed and the exception\n&gt; &gt; that wa=\r\ns thrown\n&gt; &gt; */\n&gt; &gt; @Override\n&gt; &gt; public void testFailure(Failure failure) =\r\n{\n&gt; &gt; Description description =3D failure.getDescription();\n&gt; &gt; PrintStream=\r\n writer =3D getNotNullWriter();\n&gt; &gt; \n&gt; &gt; writeMethodName(description);\n&gt; &gt; =\r\ntextListener.testFailure(failure);\n&gt; &gt; writer.println();\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; /**=\r\n\n&gt; &gt; * Called when a test will not be run, generally because a test\n&gt; &gt; met=\r\nhod is annotated \n&gt; &gt; * with {@link org.junit.Ignore}.\n&gt; &gt; * @param descrip=\r\ntion describes the test that will not be run\n&gt; &gt; */\n&gt; &gt; @Override\n&gt; &gt; publi=\r\nc void testIgnored(Description description) {\n&gt; &gt; writeMethodName(descripti=\r\non);\n&gt; &gt; PrintStream writer =3D getNotNullWriter();\n&gt; &gt; textListener.testIg=\r\nnored(description);\n&gt; &gt; writer.println();\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; @Override\n&gt; &gt;=\r\n public void testRunFinished(Result result) {\n&gt; &gt; textListener.testRunFinis=\r\nhed(result);\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; /**\n&gt; &gt; * Called before any tests have been run=\r\n.\n&gt; &gt; * @param description describes the tests to be run\n&gt; &gt; */\n&gt; &gt; @Overri=\r\nde\n&gt; &gt; public void testRunStarted(Description description) throws Exception=\r\n {\n&gt; &gt; PrintStream writer =3D getNotNullWriter();\n&gt; &gt; String displayName =\r\n=3D description.getDisplayName();\n&gt; &gt; //third place is empty, workaround to=\r\n avoid ) at the end of the String\n&gt; &gt; String[] complexNames =3D DISPAY_NAME=\r\n_PATTERN.split(displayName, 3); \n&gt; &gt; String className =3D (complexNames=3D=\r\n=3Dnull ||\n&gt; &gt; complexNames.length&lt;2)?null:complexNames[1];\n&gt; &gt; if(classNam=\r\ne =3D=3D null || &quot;&quot;.equals(className)){\n&gt; &gt; className =3D displayName;\n&gt; &gt; =\r\n}\n&gt; &gt; writer.print(&quot;started to test &quot;+className);\n&gt; &gt; writer.println(); \n&gt; =\r\n&gt; }\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-=\r\ntext portions of this message have been removed]\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "toalexsmail", 
    "topicId": 20361, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 340165037, 
    "prevInTime": 20469, 
    "contentTrasformed": false, 
    "postDate": "1209610453", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20469, 
    "headers": {
        "inReplyToHeader": "PGZ2OXY3YytqZjl0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGZ2YmJjbCtrdjhAZUdyb3Vwcy5jb20+"
    }
}