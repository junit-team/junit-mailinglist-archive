{
    "numMessagesInTopic": 9, 
    "nextInTime": 15592, 
    "senderId": "fha02n3vTvNr-_vu2tt8lOg3KQiaMeKJYJxhRl9vxks8fVqr5y4rr7kB6HUOXcXNkqPDOF_PPkJnRJCKswSWK7FwIntW7kWQ", 
    "systemMessage": false, 
    "subject": "RE: [junit] Parameterisation of tests in JUnit4", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Jon, We intend only to provide basic parameterized test cases in our distribution. However, @RunWith provides a nice place to plug in a more flexible style of", 
    "msgId": 15591, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 65719 invoked from network); 30 Nov 2005 08:09:50 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m31.grp.scd.yahoo.com with QMQP; 30 Nov 2005 08:09:50 -0000\r\nReceived: from unknown (HELO smtpauth02.mail.atl.earthlink.net) (209.86.89.62)\n  by mta5.grp.scd.yahoo.com with SMTP; 30 Nov 2005 08:09:50 -0000\r\nReceived: from [67.131.9.243] (helo=T42)\n\tby smtpauth02.mail.atl.earthlink.net with asmtp (Exim 4.34)\n\tid 1EhN29-0000Lw-KT\n\tfor junit@yahoogroups.com; Wed, 30 Nov 2005 03:09:46 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Wed, 30 Nov 2005 00:09:43 -0800\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook, Build 11.0.5510\r\nIn-Reply-To: &lt;6EAA8AD82D7EBF478CCE262FA32C6C6401B569B7@...&gt;\r\nX-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180\r\nthread-index: AcXw1Wb/5kYCFnbNReSv8uWBRSJevQDmOU5g\r\nMessage-ID: &lt;E1EhN29-0000Lw-KT@...&gt;\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d4786da3a8623eb9ff689e6b8869f009e30a047b35015348c665350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Kent Beck&quot; &lt;kentb@...&gt;\r\nSubject: RE: [junit] Parameterisation of tests in JUnit4\r\nX-Yahoo-Group-Post: member; u=173198504; y=L9Cw8pY0ukLKRp1ICkEs_O0zEEYXeRQqGTANHRTUmE3qn8Yi\r\nX-Yahoo-Profile: kentlbeck\r\n\r\nJon,\n\nWe intend only to provide basic parameterized test cases in our\ndistribution. However, @RunWith provides a nice place to plug in a more\nflexible style of parameterized tests. If this would benefit you, it seems\nreasonable for you to write it and later see if it generally useful. \n\nSincerely yours,\n\nKent Beck\nThree Rivers Institute\n\n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On \n&gt; Behalf Of Jon Skeet\n&gt; Sent: Thursday, November 24, 2005 1:00 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Parameterisation of tests in JUnit4\n&gt; \n&gt; I&#39;ve had a look at the Parameterized runner in JUnit4 \n&gt; (current CVS) and\n&gt; I have a few suggestions. It&#39;s probably easiest to demonstrate them in\n&gt; some code which I&#39;d *like* to work (and I&#39;m quite happy to do the\n&gt; appropriate coding to *make* work):\n&gt; \n&gt;     @RunWith(Parameterized.class)\n&gt;     @Parameters(&quot;classParameters&quot;)\n&gt; //     Or equivalently @Parameters strings={&quot;Oracle&quot;, &quot;SQL&quot;}\n&gt;     public class WishfulTest\n&gt;     {\n&gt;         private String m_dbName;\n&gt;         private static final File RootTestFileDirectory = new\n&gt; File(&quot;c:&#92;&#92;Tests&quot;); \n&gt;         \n&gt; \t  // In actual code, these would probably be enums, in my\n&gt; experience -\n&gt;         // they would provide mechanisms for connecting to the\n&gt; appropriate database,\n&gt;         // setting it up and tearing it down etc.\n&gt;         public static String[] classParameters = {&quot;Oracle&quot;, &quot;SQL&quot;};\n&gt;         \n&gt;         public WishfulTest(String dbName)\n&gt;         {\n&gt;             m_dbName = dbName;\n&gt;         }\n&gt;         \n&gt;         // Note - array of arrays here. See comments afterwards.\n&gt;         public static int[][] test1Parameters = {{0,1}, {1, \n&gt; 2}, {3, 4}};\n&gt;         @Test\n&gt;         // Uses a field to get the parameters\n&gt;         @Parameters(&quot;test1Parameters&quot;)\n&gt;         public void test1(int first, int second)\n&gt;         {\n&gt;             assertEquals(first+1, second);\n&gt;         }\n&gt;         \n&gt;         /**\n&gt;          * Finds all the test files for the current database. The File\n&gt; example\n&gt;          * here isn&#39;t as good as I&#39;d like it to be - \n&gt; hardcoding paths is\n&gt; obviously\n&gt;          * far from ideal. I hope it gives an indication of what&#39;s\n&gt; wanted though\n&gt;          * - a way to get parameters for a specific test, where those\n&gt; parameters\n&gt;          * may vary by test class parameters.\n&gt;          */ \n&gt;         public File[] getTest2Parameters()\n&gt;         {\n&gt;             File directory = new File (RootTestFileDirectory, \n&gt; m_dbName);\n&gt;             return directory.listFiles();\n&gt;         }\n&gt;         \n&gt;         @Test\n&gt;         // Calls a method to get the parameters\n&gt;         @Parameters(&quot;getTest2Parameters&quot;)\n&gt;         public void test2(File testFile)\n&gt;         {\n&gt;             assertNotNull(testFile);\n&gt;         }\n&gt;         \n&gt;         @Test\n&gt;         @Parameters(strings={&quot;hello&quot;, &quot;there&quot;})\n&gt;         public void test3(String input)\n&gt;         {\n&gt;             assertEquals(input, input.toLowerCase());\n&gt;         }\n&gt;         \n&gt;         @Test\n&gt;         @Parameters(ints={1, 2, 3})\n&gt;         public void test4(int input)\n&gt;         {\n&gt;             assertTrue (input &lt; 4);\n&gt;         }\n&gt;         \n&gt;         @Test\n&gt;         public void test5()\n&gt;         {\n&gt;         }\n&gt;         \n&gt;         // etc for all primitives, String and class (but not arrays)\n&gt;         \n&gt;         // Not allowed:\n&gt;         // @Parameters(ints={1,2,3}, strings={&quot;hello&quot;})\n&gt;         // @Parameters(value=&quot;something non-empty&quot;, strings={&quot;hello&quot;})\n&gt;         // Multiple parameters annotations for a single method/class\n&gt;     }\n&gt; \n&gt; \n&gt; So, the notes:\n&gt; 1) Tests are allowed to be parameterised as well as test classes\n&gt; 2) Unless multiple parameters are required, a single array \n&gt; (rather than\n&gt; an array of arrays) causes less confusion. I know that the\n&gt; counter-argument to that is that having two forms, one for\n&gt; single-parameter tests/constructors and one for multi-parameter\n&gt; tests/constructors is ugly, but I personally believe that \n&gt; it&#39;s justified\n&gt; in this case.\n&gt; 3) Parameters can be specified in two ways:\n&gt;    i) As a simple name of a field or method (currently using \n&gt; the &quot;value&quot;\n&gt; annotation element; possibly specifying field=&quot;...&quot; or method=&quot;...&quot;\n&gt; would be better though. For constructor parameters, the field/method\n&gt; would have to be static. For test parameters, it\n&gt; could be static or instance.\n&gt;    ii) As an array of one of the primitive types, string or class,\n&gt; directly in the parameters annotation\n&gt; 4) As mentioned in a previous post, it may be worth having yet another\n&gt; level of setup/teardown for parameterised test classes - for instance,\n&gt; in the example above, where you&#39;d run all Oracle tests, then all SQL\n&gt; Server tests, it may well be advantageous to set the database up once\n&gt; before running all the tests for a particular database \n&gt; (assuming they&#39;re\n&gt; read-only tests). The sequence would then go:\n&gt; \n&gt;    Run @BeforeClass methods\n&gt;    Run @BeforeParameterisedClass methods (with parameter &quot;Oracle&quot;?)\n&gt;    Call constructor with parameter &quot;Oracle&quot;\n&gt;    Run @Before methods\n&gt;    Run test1(0, 1)\n&gt;    Run @After methods\n&gt;    Call constructor with parameter &quot;Oracle&quot;\n&gt;    Run @Before methods\n&gt;    Run test1(1, 2)\n&gt;    ...\n&gt;    Call constructor with parameter &quot;Oracle&quot;\n&gt;    Run test5()\n&gt;    Run @After methods\n&gt;    Run @AfterParameterisedClass methods\n&gt;    Run @BeforeParameterisedClass methods (with parameter &quot;SQL&quot;?)\n&gt;    Call constructor with parameter &quot;SQL&quot;\n&gt;    ...\n&gt;    Call constructor with parameter &quot;SQL&quot;\n&gt;    Run test5()\n&gt;    Run @After methods\n&gt;    Run @AfterParameterisedClass methods\n&gt;    Run @AfterClass methods\n&gt; \n&gt; Note the question over whether @BeforeParameterisedClass (bad name -\n&gt; please come up with a better one if you can!) should take the same\n&gt; parameters as the constructor. As an alternative, they could \n&gt; be instance\n&gt; methods called *after* the constructor is called for the \n&gt; first time, and\n&gt; be parameterless. (Likewise @AfterParameterisedClass could be an\n&gt; instance method.)\n&gt; \n&gt; 5) One nasty problem: you need to construct instances of the \n&gt; test class\n&gt; just to count the test cases - and hope that the parameters \n&gt; you get back\n&gt; then is the same as the ones you get when you&#39;re ready to run \n&gt; the tests.\n&gt; (You could cache the results, of course...)\n&gt; \n&gt; Anyway, the bottom line is that I can see *huge* benefits in this\n&gt; approach in quite a few of our existing test code. Does \n&gt; anyone have any\n&gt; major objections to the above, or shall I give it a whirl?\n&gt; \n&gt; Jon Skeet\n&gt; Senior Software Engineer\n&gt; CLEARSWIFT\n&gt; The MIMEsweeper Company\n&gt; \n&gt; DDI:               +44 (0) 1189  038  109\n&gt; Mobile:           +44 (0) 7970 158 865\n&gt; Switchboard:   +44 (0) 1189  038  903 \n&gt; Fax:               +44 (0) 1189  039  000      \n&gt; Web: www.clearswift.com \n&gt; \n&gt; \n&gt; Clearswift monitors, controls and protects all its messaging \n&gt; traffic in compliance with its corporate email policy using \n&gt; Clearswift products.\n&gt; Find out more about Clearswift, its solutions and services at \n&gt; http://www.clearswift.com\n&gt; \n&gt; This communication is confidential and may contain privileged \n&gt; information intended solely for the named addressee(s). It \n&gt; may not be used or disclosed except for the purpose for which \n&gt; it has been sent. If you are not the intended recipient, you \n&gt; must not copy, distribute or take any action in reliance on \n&gt; it. Unless expressly stated, opinions in this message are \n&gt; those of the individual sender and not of Clearswift. If you \n&gt; have received this communication in error, please notify \n&gt; Clearswift by emailing support@... quoting the \n&gt; sender and delete the message and any attached documents. \n&gt; Clearswift accepts no liability or responsibility for any \n&gt; onward transmission or use of emails and attachments having \n&gt; left the Clearswift domain.\n&gt; \n&gt; This footnote confirms that this email message has been swept \n&gt; by MIMEsweeper for Content Security threats, including \n&gt; computer viruses.\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor \n&gt; --------------------~--&gt; \n&gt; Get fast access to your favorite Yahoo! Groups. Make Yahoo! \n&gt; your home page\n&gt; http://us.click.yahoo.com/dpRU5A/wUILAA/yQLSAA/5cFolB/TM\n&gt; --------------------------------------------------------------\n&gt; ------~-&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 15506, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 15590, 
    "contentTrasformed": false, 
    "postDate": "1133338183", 
    "canDelete": false, 
    "nextInTopic": 15595, 
    "prevInTopic": 15561, 
    "headers": {
        "inReplyToHeader": "PDZFQUE4QUQ4MkQ3RUJGNDc4Q0NFMjYyRkEzMkM2QzY0MDFCNTY5QjdAR0VNSU5JLkVVUk9QRS5DTEVBUlNXSUZULkNPTT4=", 
        "messageIdInHeader": "PEUxRWhOMjktMDAwMEx3LUtUQHNtdHBhdXRoMDIubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}