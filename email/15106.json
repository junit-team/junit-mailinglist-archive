{
    "numMessagesInTopic": 6, 
    "nextInTime": 15107, 
    "senderId": "wq2-BuVhjPcsKG6-vafjZlBCM06ErbSXFBxTtWd_HaOcxpAAadTlApb_xnrVYWlp8Fm1NWZifyUFF-DW1klVYbvFQfzPhco6lic", 
    "systemMessage": false, 
    "subject": "Re: [junit] Boxes Full of Mud (Untested Monolith, Eclipse, SWT, and Database questions)", 
    "from": "James Abley &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... Not in vanilla JUnit 3.8.2, unless I ve missed something. 1.1. If I write a TestSuite and/or TestRunner, will this become apparent? I m not sure I", 
    "msgId": 15106, 
    "profile": "taboozizi", 
    "topicId": 15104, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "messageBody": "<div id=\"ygrps-yiv-88673065\">On 07/10/05, David Brady &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit_list@...\">junit_list@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt;  Hi All,<br/>\n&gt;<br/>\n&gt; I&#39;ve just been plopped into a &quot;ball of mud&quot; project: it&#39;s poorly<br/>\n&gt; isolated, has little or no class hierarchy/organization, everything<br/>\n&gt; depends on everything else, and it has no tests. It&#39;s a Java SWT<br/>\n&gt; application, developed with heavy dependence on Eclipse. (I&#39;m not even<br/>\n&gt; sure anyone inhouse knows how to build the project outside of Eclipse.)<br/>\n&gt; I am a long-time lover of unit testing, having used phpUnit and Ruby&#39;s<br/>\n&gt; Test::Unit, though I am hardly an expert. I am new to Eclipse, Java,<br/>\n&gt; SWT and JUnit.<br/>\n&gt;<br/>\n&gt; Thanks to the lovely wizards in Eclipse, I have been able to establish a<br/>\n&gt; set of beachhead tests that run and report good data on a small handful<br/>\n&gt; of classes. I&#39;m not trying to refactor everything at once, so a lot of<br/>\n&gt; what I&#39;ve done is &quot;take a ball of mud, slice it in two and put the<br/>\n&gt; halves in clean boxes.&quot; End result is I am getting more and more boxes<br/>\n&gt; full of mud. :-) One or two boxes, however, are small, and those are<br/>\n&gt; the ones under test, so they&#39;re pretty clean. I hope to work my way<br/>\n&gt; through the rest of the application this way. Two months from now it<br/>\n&gt; will all be under test, neatly divided, building and running integration<br/>\n&gt; tests nightly. (Or else it won&#39;t. But I&#39;m moderately confident as the<br/>\n&gt; project is only 10k LOC, and the team has so far been open to my unit<br/>\n&gt; testing sermons.)<br/>\n&gt;<br/>\n&gt; Because our application was written monolithically, one box of mud is<br/>\n&gt; the startup code. Everything depends on everything else. To get JUnit<br/>\n&gt; working, for the nonce I made the decision to just wad all the startup<br/>\n&gt; code into setUp(). Pushed that up into a new superclass, and all of our<br/>\n&gt; TestCases now inherit from it. Seems to work fine.<br/>\n&gt;<br/>\n&gt; Enter a new wrinkle: the ball of mud in setUp includes some code from<br/>\n&gt; ApplicationStartup.main(). That method has a CommandLineParser that<br/>\n&gt; reads the option to change databases, e.g. &quot;-d localhost&quot; or &quot;-d<br/>\n&gt; &lt;remote_server_name&gt;&quot;. Our setUp() method just picks one as a hardcode<br/>\n&gt; and uses that. It&#39;s now come time where I am actually bringing the<br/>\n&gt; database classes under test, and I need to be able to tell the unit test<br/>\n&gt; framework to switch databases.<br/>\n&gt;<br/>\n&gt; I mentioned my general newness to JUnit, and that this is a &quot;divide the<br/>\n&gt; ball of mud&quot; approach. I have only ever written TestCases, I haven&#39;t<br/>\n&gt; even written a TestSuite or any kind of TestRunner. Apologies if these<br/>\n&gt; are stupid questions:<br/>\n&gt;<br/>\n&gt; 1. Is there a good way to catch command-line args when running JUnit?<br/>\n<br/>\n<br/>\n </span></blockquote>Not in vanilla JUnit 3.8.2, unless I&#39;ve missed something.<br/>\n<br/>\n1.1. If I write a TestSuite and/or TestRunner, will this become apparent?<br/>\n<br/>\n<br/>\nI&#39;m not sure I understand the question. If this is referring to the command<br/>\nline, then yes, your TestRunner is just a normal Java class with a main<br/>\nmethod.<br/>\n<br/>\n1.2. Is this a bad question entirely? I.e. Am I in a state of sin for<br/>\n<blockquote><span title=\"ireply\"> &gt; wanting to switch around my unit tests from a command line?<br/>\n<br/>\n<br/>\n </span></blockquote>Possibly ;-), I&#39;ve never felt the need to do it, but I&#39;ve been lucky enough<br/>\nto avoid a ball of mud that big. I&#39;m fairly sure there are other ways,<br/>\nData-Driven Tests with a custom test suite might be a better option. I&#39;m<br/>\nsure Cedric can suggest how TestNG provides for this.<br/>\n<br/>\n1.3. I am doing this to cut the database object code free of the ball of<br/>\n<blockquote><span title=\"ireply\"> &gt; mud, so I can test those objects. Should I just be mocking the Db stuff<br/>\n&gt; outright?<br/>\n<br/>\n<br/>\n </span></blockquote>Ideally you should be able to fake or mock the DB interfaces, but life isn&#39;t<br/>\nalways ideal. I seem to remember JUnit Recipes has some coverage of this,<br/>\nalthough my copy has gone walkabout again.<br/>\n<br/>\n1.4. One of our remote servers is VERY remote, such that accessing it is<br/>\n<blockquote><span title=\"ireply\"> &gt; very slow. We need to be able to switch over to that server to test<br/>\n&gt; performance over slow networks. So I do think I need to be able to<br/>\n&gt; switch the db server somehow.<br/>\n&gt;<br/>\n&gt; 1.4.1. I overheard something about a performance testing tool for<br/>\n&gt; JUnit. I confess I haven&#39;t Googled hard for it, though. Anyone know of<br/>\n&gt; a good tool for this that integrates cleanly with JUnit?<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>Possibly Mike Clark&#39;s JUnitPerf?<br/>\n<br/>\n 2. Is there a good way to test SWT?<br/>\n<br/>\n<br/>\nDon&#39;t know, never had to do it. Obviously, you can test SWT since Java gives<br/>\nyou that level of control. What do you want to test here? Ideally there<br/>\nshould be the separation of GUI code and model code. Like you say, it sounds<br/>\nlike it&#39;s painfully entwined in this instance.<br/>\n<br/>\nGoogle so far says &#39;not really&#39;. I&#39;ve made some painful conclusions and<br/>\n<blockquote><span title=\"ireply\"> &gt; design decisions from this. Chief among them has been, &quot;if you need to<br/>\n&gt; test the UI, you&#39;ve probably got model code in your view classes. Fix<br/>\n&gt; that first.&quot; This approach so far has worked, but it&#39;s difficult<br/>\n&gt; because I have to refactor the code BEFORE I can test. Ideally I would<br/>\n&gt; like to be able to grab the UI, fill in some boxes and click some<br/>\n&gt; buttons, then test the UI changes. This would allow the model/view<br/>\n&gt; refactorings to proceed under test.<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>I&#39;d highly recommend Micheal Feather&#39;s book about legacy code (just<br/>\ngenerally an excellent book), but specifically for the safest ways to get it<br/>\nunder test.<br/>\n<br/>\nThank you in advance for any advice or input you might provide. I am<br/>\n<blockquote><span title=\"ireply\"> &gt; open to a discussion of why my entire approach may be wrong.<br/>\n&gt;<br/>\n&gt; Cheers,<br/>\n&gt;<br/>\n&gt; -dB<br/>\n&gt; --<br/>\n&gt; David Brady<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit_list@...\">junit_list@...</a><br/>\n&gt; Sometimes you gotta break a few eggs to make the chickens pay the<br/>\n&gt; protection money.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;  SPONSORED LINKS<br/>\n&gt;   Basic programming language&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw\">http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw</a>&gt;  C<br/>\n&gt; programming language&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw\">http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw</a>&gt;  Computer<br/>\n&gt; programming languages&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ\">http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ</a>&gt;   The<br/>\n&gt; c programming language&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q\">http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q</a>&gt;  C<br/>\n&gt; programming language&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ\">http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ</a>&gt;  List<br/>\n&gt; of programming languages&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA\">http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA</a>&gt;<br/>\n&gt;  ------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;    - Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot; on<br/>\n&gt;    the web.<br/>\n&gt;     - To unsubscribe from this group, send an email to:<br/>\n&gt;    <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;     - Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;    Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;  ------------------------------<br/>\n&gt;<br/>\n<br/>\n </span></blockquote>Sorry I wasn&#39;t able to provide more concrete help!<br/>\n<br/>\nJames<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 15105, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1128895802", 
    "canDelete": false, 
    "nextInTopic": 15107, 
    "prevInTopic": 15104, 
    "headers": {
        "inReplyToHeader": "PDQzNDY5MUZFLjgwMzA0QHNoaW55Yml0LmNvbT4=", 
        "messageIdInHeader": "PDIzZmNlOGU2MDUxMDA5MTUxMHYxN2Q3ZmFmOW5AbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDQzNDY5MUZFLjgwMzA0QHNoaW55Yml0LmNvbT4="
    }
}