{
    "numMessagesInTopic": 8, 
    "nextInTime": 5035, 
    "senderId": "crNpFFO353L0HvKpfW_FTcsqKugyjkhYIX4FIdpocyivBLOnaSACfndEP8_rJWXUiMzulyrwMCnNUvXlpDlDLE2LLzqC4Kxn5ucff1tu", 
    "systemMessage": false, 
    "subject": "Re: [junit] catching Throwables (Was:  Should JUnit determine if assert*/fail is called in testFoo?)", 
    "from": "&quot;Mathieu Gervais&quot; &lt;egoine_@...&gt;", 
    "authorName": "Mathieu Gervais", 
    "msgSnippet": "... Well, you obviously aren t taking about a app server context. I agree with you on a standalone app context. All of what you said is right in that context", 
    "msgId": 5034, 
    "profile": "egoine", 
    "topicId": 5030, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 35075295, 
    "messageBody": "<div id=\"ygrps-yiv-1110585935\"><blockquote><span title=\"ireply\">&gt;You could log it, so that you know a given problem has occurred, then<br/>\n&gt;you could look at the resons that caused the error to fix the bug.  But<br/>\n&gt;you should then let the error filter up the chain to be handled by the<br/>\n&gt;correct error handler, or even halt the JVM process if it comes to that.<br/>\n<br/>\n </span></blockquote>Well, you obviously aren&#39;t taking about a app server context. I agree with<br/>\nyou on a standalone app context. All of what you said is right in that<br/>\ncontext (at least I think so). Now imagine a server with 10 000 concurrent<br/>\nusers, using 200 features. Then one clicks on a button (rarely used buggy<br/>\nfeature). One user, one feature. That could possibly make the JVM exit and<br/>\nkick out all users? (of course you have clustering, but you still lost a<br/>\nserver).<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;In this example, I would not catch Throwable, then.  I would catch<br/>\n&gt;NoClassDefFoundError.<br/>\n<br/>\n </span></blockquote>Yeah, but the point is I don&#39;t know I&#39;m going to have a<br/>\nNoClassDefFoundError, else I would have a correct classpath / classloaders<br/>\nconfiguration in the first place! :)<br/>\nIt could be a UnsatisfiedLinkError (missing rarely used, not-loaded-yet<br/>\nlibrary), a ClassCircularityError (bad class) a VerifyError (disk<br/>\ncorruption), etc...<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;The only place where I /may/ catch Throwable explicitly, is at the very<br/>\n&gt;top of the call stack (main(), or some run() method), where I log the<br/>\n&gt;error before gracefully shutting down, or start some other recovery<br/>\n&gt;strategy.  However, this should only be done when a recovery strategy is<br/>\n&gt;available.  What do you do in the case of an OutOfMemoryError? (There<br/>\n&gt;are several solutions to this problem, but I won&#39;t mention them here.)<br/>\n<br/>\n </span></blockquote>Well, if you don&#39;t catch, your server goes belly up and all sessions are<br/>\npossibly lost. Angry users.<br/>\nIf you catch and log, your staff is now aware of the problem and the server<br/>\nwill probably be able to still serve people a couple of minutes and let the<br/>\ntime to the staff to check the problem and possibly gracefully take that<br/>\nserver out of the loop.<br/>\n<br/>\nUsually when you have a correctly sized memory, a OOM will happend when a<br/>\nthread goes wild crazy. When the craziness is stopped by a OOM, you get the<br/>\nexception and all the crap the thread was using is released to the GC so you<br/>\nautomagically regain a lot of memory and everything is fine and dandy again.<br/>\nThen you get a monitoring alert, find out the huge stupid bug and patch it.<br/>\nBut the server stayed up and nobody except the one user noticed it (maybe<br/>\nthey saw a slowdow for 5 seconds).<br/>\n<br/>\nmathieu<br/>\n<br/>\n<blockquote><span title=\"qreply\"> ----- Original Message -----<br/>\nFrom: Manuel Amago<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSent: Thursday, May 23, 2002 3:59 PM<br/>\nSubject: RE: [junit] catching Throwables (Was: Should JUnit determine if<br/>\nassert*/fail is called in testFoo?)<br/>\n<br/>\n<br/>\n&gt; same. Also, you might want to make that &quot;catch (Throwable t)&quot;<br/>\n<br/>\nI don&#39;t agree.  You should catch (&lt;exceptions declared in throw<br/>\nclause&gt;).<br/>\n<br/>\n&gt; On this point, does anybody here catches Throwables inside his code?<br/>\n<br/>\nI don&#39;t!<br/>\n<br/>\n&gt; I do. Even if not *supposed* to. Because when I &quot;try&quot;<br/>\n&gt; something, I want nothing to crap out except possibly that<br/>\n&gt; thing, and I want to know about it.<br/>\n<br/>\nYou could log it, so that you know a given problem has occurred, then<br/>\nyou could look at the resons that caused the error to fix the bug.  But<br/>\nyou should then let the error filter up the chain to be handled by the<br/>\ncorrect error handler, or even halt the JVM process if it comes to that.<br/>\n<br/>\n&gt; For exemple, if there is a classpath problem preventing me to<br/>\n&gt; do X(), I want to catch the NoClassDefFoundError, log the<br/>\n&gt; error, and invoke my recovery strategy (msg to user,<br/>\n&gt; alternate method, etc..), Not let the error go all the way to<br/>\n&gt; the top and possibly stop some important top-level task (or<br/>\n&gt; worse the entire jvm process).<br/>\n<br/>\nIn this example, I would not catch Throwable, then.  I would catch<br/>\nNoClassDefFoundError.<br/>\n<br/>\nThe only place where I /may/ catch Throwable explicitly, is at the very<br/>\ntop of the call stack (main(), or some run() method), where I log the<br/>\nerror before gracefully shutting down, or start some other recovery<br/>\nstrategy.  However, this should only be done when a recovery strategy is<br/>\navailable.  What do you do in the case of an OutOfMemoryError? (There<br/>\nare several solutions to this problem, but I won&#39;t mention them here.)<br/>\n<br/>\nManuel Amago.<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\nADVERTISEMENT<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. </span></blockquote></div>", 
    "prevInTime": 5033, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1022186664", 
    "canDelete": false, 
    "nextInTopic": 5035, 
    "prevInTopic": 5032, 
    "headers": {
        "messageIdInHeader": "PE9FMjJ5V094YkNKbkVNekFVb3IwMDAwMGQwMkBob3RtYWlsLmNvbT4=", 
        "referencesHeader": "PDAwMTUwMWMyMDI5NCQ1Zjk5OTAzMCQxNTEyYThjMEBtYW1hZ28+"
    }
}