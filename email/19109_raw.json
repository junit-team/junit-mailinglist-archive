{
    "numMessagesInTopic": 9, 
    "nextInTime": 19110, 
    "senderId": "rkXGgAJrqmSDOVn3-tcDQM62eRQ9SkxALVV5kvw3QDXR3Xd_aSI9b2LczU7UM_C7KdYH2iX0NcwzoHFReXtqPu6nILbcTIqsnHfSMQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] How to check the value of one variable in one method in a class in  ajunit testcase..(variable is not returned)..", 
    "from": "Raymond Barlow &lt;rbarlow@...&gt;", 
    "authorName": "Raymond Barlow", 
    "msgSnippet": "Hi Archana, What you need to do is to break the dependency that you have in this code. Instead of getting the connection directly in the code here, either call", 
    "msgId": 19109, 
    "rawEmail": "Return-Path: &lt;rbarlow@...&gt;\r\nReceived: (qmail 82025 invoked from network); 14 Mar 2007 23:26:04 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m41a.grp.scd.yahoo.com with QMQP; 14 Mar 2007 23:26:04 -0000\r\nReceived: from unknown (HELO n14b.bullet.sp1.yahoo.com) (69.147.64.116)\n  by mta8.grp.scd.yahoo.com with SMTP; 14 Mar 2007 23:26:04 -0000\r\nReceived: from [216.252.122.218] by n14.bullet.sp1.yahoo.com with NNFMP; 14 Mar 2007 23:26:04 -0000\r\nReceived: from [66.218.69.1] by t3.bullet.sp1.yahoo.com with NNFMP; 14 Mar 2007 23:26:04 -0000\r\nReceived: from [66.218.66.92] by t1.bullet.scd.yahoo.com with NNFMP; 14 Mar 2007 23:26:04 -0000\r\nX-Sender: rbarlow@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 67212 invoked from network); 14 Mar 2007 20:19:26 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m35.grp.scd.yahoo.com with QMQP; 14 Mar 2007 20:19:26 -0000\r\nReceived: from unknown (HELO bdmail1.accesst.com) (83.245.1.230)\n  by mta14.grp.scd.yahoo.com with SMTP; 14 Mar 2007 20:19:26 -0000\r\nReceived: from host-87-75-16-69.bulldogdsl.com ([87.75.16.69] helo=[192.168.1.64])\n\tby bdmail1.accesst.com with esmtpa (Exim 4.50)\n\tid 1HRZMj-00067y-BQ\n\tfor junit@yahoogroups.com; Wed, 14 Mar 2007 19:42:29 +0000\r\nMessage-ID: &lt;45F85505.40908@...&gt;\r\nDate: Wed, 14 Mar 2007 20:03:17 +0000\r\nUser-Agent: Thunderbird 1.5.0.10 (X11/20070306)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;20070314113029.36523.qmail@...&gt;\r\nIn-Reply-To: &lt;20070314113029.36523.qmail@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Raymond Barlow &lt;rbarlow@...&gt;\r\nSubject: Re: [junit] How to check the value of one variable in one method\n in a class in  ajunit testcase..(variable is not returned)..\r\nX-Yahoo-Group-Post: member; u=128656650; y=sHhMBQCmUu0dmp6dpWAhZQvJS1umkS2RN5fPgxv6zbj6b5E\r\nX-Yahoo-Profile: raymanoz\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 14 Mar 2007 23:26:03 -0000\r\n\r\nHi Archana,\n\nWhat you need to do is to break the dependency that you have in this \ncode. Instead of getting the connection directly in the code here, \neither call another method to return the connection, or pass it into the \nclass on construction. The easiest is to call another method. Something \nlike:\n\npublic class MyClass {\n\n  public ResultSet recentSubmission() throws SQLException {\n     Connection con = null;\n     ResultSet rs=null;\n     try{\n       Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\n       con=getConnection()\n       PreparedStatement ps= con.prepareStatement(\n         &quot;SELECT SUBMISSSION_GUID FROM SUBMISSION WHERE SUBMISSSION_GUID \n= 143&quot;);\n       rs=ps.executeQuery();\n       return rs;\n     } catch(Exception e) {\n       e.printStackTrace();\n     }\n     //con.close();\n     return rs;    \n  }\n\n  protected Connection getConnection() {\n    return DriverManager.getConnection(&quot;jdbc:odbc:acme&quot;,&quot;RIUser&quot;,&quot;Demo&quot;);\n  }\n}\n\nThis small refactoring allows us to now create a TestableMyClass where \nwe can override the getConnection and return a MockConnection. This not \nonly lets you test the class in isolation, but also allows you to test \nthis class without having to connect to a real database (big advantage). \nExample:\n\npublic class TestableMyClass extends MyClass {\n\n  @Override\n  protected Connection getConnection() {\n    return new MockConnection();\n  }\n\n}\n\nOf course you will have to provide an implementation of the \nMockConnection to return the expected values for your test. This might \nbe the prepareStatement returning a MockPreparedStatement and your \nMockPreparedStatement then returning a MockResultSet. This will allow \nyou to inject the values for SUBMISSSION_GUID in the resultset.\n\nBut of course, if you ACTUALLY wanted to hit the database, and test your \nSQL, I would not use junit. I would instead use FitNesse (or \nsimilar)-but that is my preference. What is it that you are actually \nwanting to test?  Your class or the functionality of your database and \njdbc library?\n\nRegards,\nRaymond Barlow\n\n\nArchana Subramanian wrote:\n&gt; Suppose this is the class to be tested .. \n&gt;\n&gt; public ResultSet recentSubmission() throws SQLException {      Connection con = null;   ResultSet rs=null;   try{    Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);       con=DriverManager.getConnection(&quot;jdbc:odbc:acme&quot;,&quot;RIUser&quot;,&quot;Demo&quot;);      PreparedStatement ps= con.prepareStatement(&quot;SELECT SUBMISSSION_GUID FROM SUBMISSION WHERE SUBMISSSION_GUID = 143&quot;);        rs=ps.executeQuery();       return rs;     }    catch(Exception e)            {           e.printStackTrace();            }    //con.close();    return rs;     }    \n&gt;   How to test the connection(con) and preparedStatement(ps)values in the junit Testcase?\n&gt;\n&gt;\n&gt;  Send instant messages to your online friends http://uk.messenger.yahoo.com \n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;  \n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;   \n\n\n", 
    "profile": "raymanoz", 
    "topicId": 19102, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 128656650, 
    "prevInTime": 19108, 
    "contentTrasformed": false, 
    "postDate": "1173902597", 
    "canDelete": false, 
    "nextInTopic": 19110, 
    "prevInTopic": 19105, 
    "headers": {
        "inReplyToHeader": "PDIwMDcwMzE0MTEzMDI5LjM2NTIzLnFtYWlsQHdlYjM1NTA5Lm1haWwubXVkLnlhaG9vLmNvbT4=", 
        "messageIdInHeader": "PDQ1Rjg1NTA1LjQwOTA4QHJheW1hbm96LmNvbT4=", 
        "referencesHeader": "PDIwMDcwMzE0MTEzMDI5LjM2NTIzLnFtYWlsQHdlYjM1NTA5Lm1haWwubXVkLnlhaG9vLmNvbT4="
    }
}