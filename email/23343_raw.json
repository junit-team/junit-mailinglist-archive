{
    "numMessagesInTopic": 4, 
    "nextInTime": 23344, 
    "senderId": "vt97eEMtz1lMojElTQRRE6LP0yawGVV8Be3PpG3kRSx2_CjlhrxA-Mu2SthdT3Re1ENw3nGhGOIhuwxDafY-0pGzth9yrDAryjSrNMEgFdj9bA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unit Testing with Spring", 
    "from": "Joakim Ohlrogge &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "In one project we were using lots of batches from oracle to MySQL. By the nature of batching there were some DB-specific SQL going on, especially when it comes", 
    "msgId": 23343, 
    "rawEmail": "Return-Path: &lt;joakim.ohlrogge@...&gt;\r\nX-Sender: joakim.ohlrogge@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 31693 invoked from network); 18 Mar 2011 20:51:51 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m14.grp.re1.yahoo.com with QMQP; 18 Mar 2011 20:51:51 -0000\r\nX-Received: from unknown (HELO mail-ww0-f45.google.com) (74.125.82.45)\n  by mta2.grp.re1.yahoo.com with SMTP; 18 Mar 2011 20:51:51 -0000\r\nX-Received: by wwb28 with SMTP id 28so4546115wwb.26\n        for &lt;junit@yahoogroups.com&gt;; Fri, 18 Mar 2011 13:51:50 -0700 (PDT)\r\nX-Received: by 10.216.195.202 with SMTP id p52mr1398733wen.75.1300480819446;\n Fri, 18 Mar 2011 13:40:19 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.5.70 with HTTP; Fri, 18 Mar 2011 13:25:48 -0700 (PDT)\r\nIn-Reply-To: &lt;AANLkTinhMoMmxtczXOcnKSamry8tuEiayEHe4bk2GCeo@...&gt;\r\nReferences: &lt;AANLkTikcJ7o5dO0NaL2v8sQG--axOU8NPDV8+2uYoExU@...&gt;\n &lt;AANLkTimqoFrLg3iQbo0Q0ahmz2PvVW5pkBcEqPPc175j@...&gt; &lt;AANLkTinhMoMmxtczXOcnKSamry8tuEiayEHe4bk2GCeo@...&gt;\r\nDate: Fri, 18 Mar 2011 21:25:48 +0100\r\nX-Google-Sender-Auth: cH0F81RUrjEZVHQd2THnLfQZxB8\r\nMessage-ID: &lt;AANLkTinDdYGh1Z9=tuG7YNFJybea3sKdd8bK96V6bqko@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-eGroups-From: Joakim Ohlrogge &lt;joakim.ohlrogge@...&gt;\r\nFrom: Joakim Ohlrogge &lt;joakim.ohlrogge@...&gt;\r\nReply-To: joakim.ohlrogge@...\r\nSubject: Re: [junit] Unit Testing with Spring\r\nX-Yahoo-Group-Post: member; u=261856052; y=mxWBXcLmfutTIB7pr18-CTY5uU5f1-5q6DbbpF2HTpugdFHT\r\nX-Yahoo-Profile: j0hlrogge\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nIn one project we were using lots of batches from oracle to MySQL. By the\nn=\r\nature of batching there were some DB-specific SQL going on, especially when=\r\n\nit comes to &quot;insert or update&quot; logic in combination with jdbc-batch. The S=\r\nQL\nwas sort of the main part of the logic in this application so not testin=\r\ng it\nwas not an option. Our solution here was to use DB deploy to update th=\r\ne\nschema to the latest version as part of the test run and run all tests\nwi=\r\nthin a transaction. Running &quot;full integration&quot; within transactions.\nRunning=\r\n within a transaction that was rolled back after the test was fairly\nfast e=\r\nven if the target DB was a local MySQL and not an in memory DB. And\nusing D=\r\nB deploy made it really easy to get a developer going. Basically\ninstall my=\r\nsql once, create a DB and grant rights for a user. Then run the\ntestsuite a=\r\nnd everything was kept up to date automatically.\n\nWe actually had some in m=\r\nemory DB tests stuff where we needed to test a lot\nof different combianatio=\r\nns and we could do without DB-sepcific SQLs\n\nSo my secret weapon here is DB=\r\n Deploy that in all it&#39;s simplicity actually\nworks wonders.\n\nGood luck!\n/J\n=\r\n-----------------------------------------------------\nJoakim Ohlrogge\nAgica=\r\nl AB\nV=E4sterl=E5nggatan 79, 2 tr\n111 29 Stockholm, SWEDEN\n\nMobile: +46-708=\r\n-754004\nBlog: johlrogge.wordpress.com\nE-mail: joakim.ohlrogge@...\n\n\nO=\r\nn Fri, Mar 18, 2011 at 6:39 PM, Mark Levison &lt;mark@...&gt; wrote:\n\n&gt;\n=\r\n&gt;\n&gt; Joakim - thanks for the reply you confirm what I was thinking. As long =\r\nas\n&gt; they test within a single context its all good. Basically that means t=\r\nhat\n&gt; Mocking goes out the window because I will have to dirty the context =\r\nand\n&gt; reload. In addition they claim (and I can&#39;t disprove) that an in memo=\r\nry DB\n&gt; isn&#39;t viable.\n&gt;\n&gt; As for Guice - no such luck. I&#39;m here providing t=\r\nechnical advice for a few\n&gt; days, I&#39;m not going to overturn their use of Sp=\r\nring.\n&gt;\n&gt; Cedric - Junit isn&#39;t the problem. They&#39;re writing too many integr=\r\nation\n&gt; tests\n&gt; and not enough Unit Tests. Your tool may be good but its or=\r\nthogonal to the\n&gt; problem at hand.\n&gt;\n&gt;\n&gt; Cheers\n&gt; Mark Levison\n&gt;\n&gt; [image: =\r\nMark] &lt;http://www.flickr.com/photos/36331075@N00/3833840021/&gt;*Mark\n&gt; Leviso=\r\nn* | Agile Pain Relief Consulting &lt;http://agilepainrelief.com/&gt; |\n&gt; Certifi=\r\ned Scrum Trainer\n&gt; Agile Editor @ InfoQ &lt;http://www.infoq.com/about.jsp&gt; |\n=\r\n&gt; Blog&lt;http://www.notesfromatooluser.com/&gt;|\n&gt; Twitter &lt;http://twitter.com/m=\r\nlevison&gt; | Office: (613) 862-2538\n&gt; Recent Entries: Story Slicing How Small=\r\n is Small\n&gt; Enough&lt;\n&gt; http://agilepainrelief.com/notesfromatooluser/2010/09=\r\n/story-slicing-how-small-is-enough.html\n&gt; &gt;,\n&gt; Why use an Agile\n&gt; Coach&lt;\n&gt; =\r\nhttp://www.notesfromatooluser.com/2009/11/why-use-an-agile-coach.html&gt;\n&gt;\n&gt; =\r\n[Non-text portions of this message have been removed]\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text p=\r\nortions of this message have been removed]\n\n\n", 
    "profile": "j0hlrogge", 
    "topicId": 23340, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "prevInTime": 23342, 
    "contentTrasformed": false, 
    "postDate": "1300479948", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23342, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGluaE1vTW14dGN6WE9jbktTYW1yeTh0dUVpYXlFSGU0YmsyR0Nlb0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PEFBTkxrVGluRGRZR2gxWjk9dHVHN1lORkp5YmVhM3NLZGQ4Yks5NlY2YnFrb0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PEFBTkxrVGlrY0o3bzVkTzBOYUwydjhzUUctLWF4T1U4TlBEVjgrMnVZb0V4VUBtYWlsLmdtYWlsLmNvbT4gPEFBTkxrVGltcW9GckxnM2lRYm8wUTBhaG16MlB2Vlc1cGtCY0VxUFBjMTc1akBtYWlsLmdtYWlsLmNvbT4gPEFBTkxrVGluaE1vTW14dGN6WE9jbktTYW1yeTh0dUVpYXlFSGU0YmsyR0Nlb0BtYWlsLmdtYWlsLmNvbT4="
    }
}