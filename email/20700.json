{
    "numMessagesInTopic": 7, 
    "nextInTime": 20701, 
    "senderId": "A3KudHGzMR1xIaIUXxed2HEP0zOmn18e3cddrI5FqfnF9kelAiZblsRavy3bC-dGyeWkyQfCIP2oMStLFKy6_vRc5ucx", 
    "systemMessage": true, 
    "subject": "Newbie wants to take some JUnit group. Some basic questions.", 
    "from": "&quot;serethos_0&quot; &lt;Serethos@...&gt;", 
    "authorName": "serethos_0", 
    "msgSnippet": "Hello! I am an quite experienced programmer but new to the philosophy of unit testing. An issue I want to change. I read some articles and took some", 
    "msgId": 20700, 
    "profile": "serethos_0", 
    "topicId": 20700, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 267808899, 
    "messageBody": "<div id=\"ygrps-yiv-1061600641\">Hello!<br/>\n<br/>\nI am an quite experienced programmer but new to the philosophy of unit<br/>\ntesting. An issue I want to change.<br/>\nI read some articles and took some orientation on Frank Westphal&#39;s<br/>\nvery good book about that topic. But in practice, I always run into<br/>\nsimilar problems, which seem to disturb my view of unit testing. So<br/>\nsome thought and questions I would like to discuss.<br/>\n<br/>\n1. Recently I read that a unit test is no one if you have to touch<br/>\nnetwork, db or filesystem. I understand the point that these accesses<br/>\nreally can slow the tests down and usually need extra work of<br/>\nconfiguration, but how to avoid this?<br/>\nAn example of my daily work. I have quite a common task: Fetch some<br/>\nxmls from an ftp server, parse the content and map it into db and vice<br/>\nversa. So the business logic is quite thin. More important is good<br/>\nexception handling and the transport of all data in the right structures. <br/>\n<br/>\nActually the slowdown of a real ftp transport and the configuration<br/>\nand injection overhead of the db-connection is a major drawback. But<br/>\non the other hand I see no good way to mock the behaviour of these<br/>\nendpoints. <br/>\nI could try to mock a database, but how to test, if an sql-statement<br/>\nis correct (especially for a wider range of queries)?<br/>\nIt also is a very hard work to write stubs or mocks, which can answer<br/>\nwith all error-states an ftp-server/network can generate (timeout,<br/>\naccess denied, authentication etc) to test the correct error handling<br/>\nof my code.<br/>\n<br/>\n2. Another question points to a basic principle of unit testing: the<br/>\nopening of a class in small and public methods. I see an advantage in<br/>\nthe possibility to inject every aspect of a class (manually or e.g.<br/>\nvia spring) and the code can benefit from a better readability through<br/>\na chain of self-explanatory method calls.<br/>\nBut in some cases I want to hide implementation details from the user.<br/>\nTaking my Importer/Exporter example a second time, it is more a cron<br/>\nscript than an application: Doing a defined job in a robust and<br/>\nunderstandable manner but neither designed as a basis for wide<br/>\nenhancements nor for ultimate flexibility. <br/>\nSo there are methods which start the whole work of an importer over<br/>\nthe whole lifecycle (connect, fetch data, map data etc). Methods,<br/>\nwhich are necessary for getting the object in a usable state (e.g.<br/>\nconnection established) are hidden away. To ensure that there must be<br/>\nthe correct state before executing the main task I can lead the user<br/>\nwith parameterized constructors (e.g. MyImporter(host, port)).<br/>\nTo say it more generally I think that it is a common way to restrict<br/>\nthe use of classes which need to be handled in correct order because<br/>\nof their state. This saves a lot of additional exception handling<br/>\n(e.g. executing before connecting). <br/>\nBut following this thought it gets very hard to isolate testing units.<br/>\nEven when I separate the tasks within the class to units (connecting,<br/>\ndisconnecting etc) they would be not accessible and would need to be<br/>\ntested from within.<br/>\n<br/>\nThis is only a very simple and not a perfect example but I think my<br/>\npoint should be clear. I hope that some of you take some time to read<br/>\nit. I really would appreciate some thoughts!</div>", 
    "prevInTime": 20699, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1216667915", 
    "canDelete": false, 
    "nextInTopic": 20701, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGc2Mm5lYis1NWl0QGVHcm91cHMuY29tPg=="
    }
}