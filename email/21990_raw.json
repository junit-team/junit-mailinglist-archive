{
    "numMessagesInTopic": 3, 
    "nextInTime": 21991, 
    "senderId": "psuKlZPr0fjjwXv8cXbkbQ5HChCCrYbKGqxd6g7c6aZHYIGhDzvWQEAsx3DpQySYNjRh26-7ZEr1cMeQymCU73MVH9g", 
    "systemMessage": false, 
    "subject": "RE: [junit] how to unit test file operations", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "The first thing I would do in this case is split the file opening/closing from the content writing. Then I could test the two aspects separately. The method to", 
    "msgId": 21990, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 86281 invoked from network); 22 Oct 2009 18:44:50 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m4.grp.sp2.yahoo.com with QMQP; 22 Oct 2009 18:44:50 -0000\r\nX-Received: from unknown (HELO elasmtp-scoter.atl.sa.earthlink.net) (209.86.89.67)\n  by mta1.grp.sp2.yahoo.com with SMTP; 22 Oct 2009 18:44:49 -0000\r\nX-Received: from [67.42.51.9] (helo=kentspavilion)\n\tby elasmtp-scoter.atl.sa.earthlink.net with esmtpa (Exim 4.67)\n\t(envelope-from &lt;kentb@...&gt;)\n\tid 1N12eW-00049O-4W\n\tfor junit@yahoogroups.com; Thu, 22 Oct 2009 14:44:49 -0400\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;hbp776+ptkp@...&gt; &lt;808FCE615A13CE47B6AC5A01B1A2FB5FCE3DAA@...&gt;\r\nDate: Thu, 22 Oct 2009 11:44:39 -0700\r\nMessage-ID: &lt;8F558A83E7914738ABFE7445CED58F86@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nX-Mailer: Microsoft Office Outlook 11\r\nThread-Index: AcpTQtcGEs29g4kDTDq6D6Br4set1QAAEgIgAAEYIiA=\r\nIn-Reply-To: &lt;808FCE615A13CE47B6AC5A01B1A2FB5FCE3DAA@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5579\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d47825eaa575e9e39ae6d4092c8fd10d7e3fab7bf1e01b2c30ff350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;kentb&quot; &lt;kentb@...&gt;\r\nReply-To: &lt;kentb@...&gt;\r\nSubject: RE: [junit] how to unit test file operations\r\nX-Yahoo-Group-Post: member; u=173198504; y=c7frzNy6oTlgbxlwfctT2vmNhn9ZbiFnTVaZZS_K0LcOAy0f\r\nX-Yahoo-Profile: kentlbeck\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nThe first thing I would do in this case is split the file opening/closing\nfrom the content writing. Then I could test the two aspects separately. The\nmethod to write content would take a stream as a parameter, so I could\neasily gen up a stream in my test, call the method, and check the results.\n \nRegards,\n \nKent\n\n  _____  \n\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\nForsberg, Mike\nSent: Thursday, October 22, 2009 11:22 AM\nTo: junit@yahoogroups.com\nSubject: RE: [junit] how to unit test file operations\n\n\n  \n\nIf you change your API a little bit it will make for easier testing...\n\nThink about the second line of pseudo code as a method.\n\nvoid writeToStream(OutputStream out) {\n\n// perform write\n\n}\n\nNow you can test the writing of data using a mock object. Avoiding the\nmessy opening of the file to check contents. Which is what you are\ntrying to avoid.\n\nFor opening the file and setting the append flag, this can be checked by\nreflection. I&#39;d make a method for that bit of code as well.\n\nTesting the entire composition could be done be visual inspection.\n(Your sure the parts work, so the wiring is all that is needed to be\ninspected.)\n\nThat&#39;s my ten minutes quick instinct idea. Sorry it&#39;s not complete...\n\nBig Mike\n\nFrom: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n[mailto:junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com] On Behalf\nOf\nsuckasholasdf\nSent: Thursday, October 22, 2009 4:05 AM\nTo: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\nSubject: [junit] how to unit test file operations\n\nI have a txt file that I need to update. The txt file has the following\ncolumns, delimited by tabs:\n\nDate\nName\nAge\n\nThen I have a method called updateFile(). The implementation is below:\n\npublic void updateFile() {\n//open up file for writing, setting the append flag to &#39;true&#39;\n//write X lines to file\n//close file\n}\n\nI&#39;m not exactly sure how to write a test for this particular method. I&#39;m\nthinking I should check the size of the file. But, that might not be\nenough since I also would probably have to check and validate the values\nbeing put into those columns. \n\nNow, after I&#39;m done performing the test, the file will have X lines\nappended to it. How do I revert back to it&#39;s original state if I have\nanother test that depends on the txt file?\n\nPlease help! Thanks!\n\n[Non-text portions of this message have been removed]\n\n\n\n\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 21985, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 21989, 
    "contentTrasformed": false, 
    "postDate": "1256237079", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21989, 
    "headers": {
        "inReplyToHeader": "PDgwOEZDRTYxNUExM0NFNDdCNkFDNUEwMUIxQTJGQjVGQ0UzREFBQFNBVVNFWE1CMi5hbWQuY29tPg==", 
        "messageIdInHeader": "PDhGNTU4QTgzRTc5MTQ3MzhBQkZFNzQ0NUNFRDU4Rjg2QGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PGhicDc3NitwdGtwQGVHcm91cHMuY29tPiA8ODA4RkNFNjE1QTEzQ0U0N0I2QUM1QTAxQjFBMkZCNUZDRTNEQUFAU0FVU0VYTUIyLmFtZC5jb20+"
    }
}