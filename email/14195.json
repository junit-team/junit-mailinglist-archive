{
    "numMessagesInTopic": 1, 
    "nextInTime": 14196, 
    "senderId": "lUWrC4Xk3MZ9EKrlJJt7La8vq_0a9iKX2CoNOMiHw4j87sLh1PcFHW6_B5o_2tQAS_SITbrKmEKZeZf5-DhI1LNobSM", 
    "systemMessage": true, 
    "subject": "TestingHibernateWithDBUnit", 
    "from": "&quot;naav_t&quot; &lt;naav_t@...&gt;", 
    "authorName": "naav_t", 
    "msgSnippet": "package com.das.dbunit; import java.io.File; import java.io.FileInputStream; import java.sql.Connection; import java.sql.DriverManager; import", 
    "msgId": 14195, 
    "profile": "naav_t", 
    "topicId": 14195, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 226000672, 
    "messageBody": "<div id=\"ygrps-yiv-775013665\">package com.das.dbunit;<br/>\n<br/>\nimport java.io.File;<br/>\nimport java.io.FileInputStream;<br/>\nimport java.sql.Connection;<br/>\nimport java.sql.DriverManager;<br/>\n<br/>\nimport org.dbunit.Assertion;<br/>\nimport org.dbunit.DatabaseTestCase;<br/>\nimport org.dbunit.database.*;<br/>\nimport org.dbunit.dataset.IDataSet;<br/>\nimport org.dbunit.dataset.ITable;<br/>\nimport org.dbunit.dataset.xml.FlatXmlDataSet;<br/>\nimport org.dbunit.operation.DatabaseOperation;<br/>\nimport org.hibernate.*;<br/>\nimport org.hibernate.cfg.Configuration;<br/>\n<br/>\npublic class SampleTest extends DatabaseTestCase {<br/>\n    public SampleTest(String name) {<br/>\n        super(name);<br/>\n    }<br/>\n<br/>\n    protected IDatabaseConnection getConnection() throws Exception {<br/>\n        Class driverClass = Class.forName(&quot;org.hsqldb.jdbcDriver&quot;);<br/>\n        Connection jdbcConnection = DriverManager.getConnection(<br/>\n                &quot;jdbc:hsqldb:C:&#92;&#92;DAS&#92;&#92;HBM&#92;&#92;HibPg&#92;&#92;src&#92;&#92;db&quot;,<br/>\n                &quot;sa&quot;, &quot;&quot;);<br/>\n        return new DatabaseConnection(jdbcConnection);<br/>\n    }<br/>\n<br/>\n    protected IDataSet getDataSet() throws Exception {<br/>\n        return new FlatXmlDataSet(new FileInputStream(&quot;initial.xml&quot;));<br/>\n    }<br/>\n<br/>\n    protected DatabaseOperation getSetUpOperation() throws Exception {<br/>\n        return DatabaseOperation.REFRESH;<br/>\n    }<br/>\n<br/>\n    protected DatabaseOperation getTearDownOperation() throws <br/>\nException {<br/>\n        return DatabaseOperation.DELETE;<br/>\n    }<br/>\n    /**<br/>\n     * @@... <br/>\n(org.jboss.aspects.tx.TxType.REQUIRED)<br/>\n     */<br/>\n    public void testMe() throws Exception {<br/>\n        // Execute the tested code that modify the database here<br/>\n<br/>\n            SessionFactory factory = new Configuration().configure<br/>\n().buildSessionFactory();<br/>\n            Session hsess = factory.openSession();<br/>\n        Query q = hsess.createQuery(&quot;delete from AuthUser where <br/>\nuserSeq  like &#39;%999956789&#39; &quot;);<br/>\n        int updateCount = q.executeUpdate();<br/>\n        hsess.flush();<br/>\n        System.out.println(&quot; The Count is &quot;+ updateCount);<br/>\n        assertEquals(updateCount,5);<br/>\n        // Fetch database data after executing your code<br/>\n        QueryDataSet partialDataSet = new QueryDataSet(getConnection<br/>\n());<br/>\n        partialDataSet.addTable(&quot;Auth_User&quot;,&quot;Select * from Auth_User <br/>\nwhere  user_Seq  like &#39;%56789&#39;&quot;);<br/>\n<br/>\n        ITable actualTable =  partialDataSet.getTable(&quot;Auth_User&quot;);<br/>\n        // Load expected data from an XML dataset<br/>\n        IDataSet expectedDataSet = new FlatXmlDataSet(new File(<br/>\n                &quot;partialafter.xml&quot;));<br/>\n        ITable expectedTable = expectedDataSet.getTable(&quot;Auth_User&quot;);<br/>\n<br/>\n        // Assert actual database table match expected table<br/>\n        Assertion.assertEquals(expectedTable, actualTable);<br/>\n    }<br/>\n    <br/>\n}<br/>\n<br/>\n<br/>\n<br/>\n-----------------------  initial.xml ---------------------<br/>\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;<br/>\n&lt;dataset&gt;<br/>\n  &lt;AUTH_USER USER_SEQ=&quot;123456789&quot; USER_ID=&quot;validuser@testco&quot; <br/>\nPASSWORD=&quot;8fc67a2687ffc837&quot; COMPANY_SEQ=&quot;123456789&quot; <br/>\nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;<br/>\n  &lt;AUTH_USER USER_SEQ=&quot;223456789&quot; USER_ID=&quot;validSIuser@testco&quot; <br/>\nPASSWORD=&quot;bc52a070c1b23783&quot; COMPANY_SEQ=&quot;123456789&quot; <br/>\nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;<br/>\n  &lt;AUTH_USER USER_SEQ=&quot;323456789&quot; USER_ID=&quot;user@test3p&quot; <br/>\nPASSWORD=&quot;d7cca196269ea5d3&quot; COMPANY_SEQ=&quot;223456789&quot; <br/>\nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;<br/>\n  &lt;AUTH_USER USER_SEQ=&quot;423456789&quot; USER_ID=&quot;user@testn3p&quot; <br/>\nPASSWORD=&quot;5ab01cbfdbc0c195&quot; COMPANY_SEQ=&quot;323456789&quot; <br/>\nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;<br/>\n  &lt;AUTH_USER USER_SEQ=&quot;999956789&quot; USER_ID=&quot;newuser@testco&quot; <br/>\nPASSWORD=&quot;7b6cc3922639bea9&quot; COMPANY_SEQ=&quot;123456789&quot; <br/>\nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;<br/>\n&lt;/dataset&gt;<br/>\n<br/>\n----------------------------  partialafter.xml -----------------------<br/>\n-----------<br/>\n<br/>\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;<br/>\n&lt;dataset&gt;<br/>\n  &lt;AUTH_USER USER_SEQ=&quot;999956789&quot; USER_ID=&quot;newuser@testco&quot; <br/>\nPASSWORD=&quot;7b6cc3922639bea9&quot; COMPANY_SEQ=&quot;123456789&quot; <br/>\nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;<br/>\n&lt;/dataset&gt;  <br/>\n<br/>\n<br/>\n----------------------------------------------------------------------<br/>\n------------------------------------------<br/>\n<br/>\n<br/>\nPlease let me know if i am correct in my approach of testing the <br/>\nhibernate code with DBUnit.<br/>\n<br/>\nThanks in Advance,<br/>\nNaveen</div>", 
    "prevInTime": 14194, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1121955935", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGRib2I4dis5MWRlQGVHcm91cHMuY29tPg=="
    }
}