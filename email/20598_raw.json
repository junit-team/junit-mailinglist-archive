{
    "numMessagesInTopic": 8, 
    "nextInTime": 20599, 
    "senderId": "v0kri0b-3pqP-KFXqL_x6-oeX0Tt0euEoI3FaVYZpqpuQBB151hLehghu7_KX1m_t0H5p8wZmqqAJ2nOHz190bJ3f7OkWFNKW4lwAF4", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing code that depends on today&#39;s date", 
    "from": "&quot;Mike Hill&quot; &lt;mike@...&gt;", 
    "authorName": "Mike Hill", 
    "msgSnippet": "The today issue is a well established annoyance.  A simple extract method on the logic code to separate it from the today-fetching code is really all that s", 
    "msgId": 20598, 
    "rawEmail": "Return-Path: &lt;mike@...&gt;\r\nX-Sender: mike@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 44955 invoked from network); 18 Jun 2008 16:28:36 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m48.grp.scd.yahoo.com with QMQP; 18 Jun 2008 16:28:36 -0000\r\nX-Received: from unknown (HELO po-out-1718.google.com) (72.14.252.155)\n  by mta18.grp.scd.yahoo.com with SMTP; 18 Jun 2008 16:28:36 -0000\r\nX-Received: by po-out-1718.google.com with SMTP id y22so11209642pof.4\n        for &lt;junit@yahoogroups.com&gt;; Wed, 18 Jun 2008 09:28:36 -0700 (PDT)\r\nX-Received: by 10.141.36.10 with SMTP id o10mr5537219rvj.176.1213806515936;\n        Wed, 18 Jun 2008 09:28:35 -0700 (PDT)\r\nX-Received: by 10.141.198.6 with HTTP; Wed, 18 Jun 2008 09:28:35 -0700 (PDT)\r\nMessage-ID: &lt;680e454e0806180928o37c56ff3xa80f28661b040f39@...&gt;\r\nDate: Wed, 18 Jun 2008 12:28:35 -0400\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;17fa53d0806180026r7c156fdeh681da564c053b466@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;860D47F8904F6041AEEE55F9B684667F162D46EF05@...&gt;\n\t &lt;17fa53d0806180026r7c156fdeh681da564c053b466@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Mike Hill&quot; &lt;mike@...&gt;\r\nSubject: Re: [junit] Testing code that depends on today&#39;s date\r\nX-Yahoo-Group-Post: member; u=266284897; y=ngTWAAfcgUHpjOPdqiYAptN3PUU_WLgNbEa07_JAa1CzIMOB\r\nX-Yahoo-Profile: uly562000\r\n\r\nThe &#39;today&#39; issue is a well established annoyance.  A simple extract\nmethod on the logic code to separate it from the today-fetching code\nis really all that&#39;s needed.\n\nI don&#39;t usually write a fake clock.  I do usually have some handy\nutility laying around that lets me easily do the +30 days, etc.  Thus\nmy test case takes a &#39;now&#39; and manipulates it to construct the test\ndata.  Of course, the stuff that&#39;s actually executed on the if branch\nis itself already extracted and testable through the direct\ninvocation.  I wind up with two tests, one against the predicate, one\nagainst the branch body.\n\nThis is one of those things, like, say, quickly dropping the command\npattern into a controller, that you eventually begin to do *as you\nroll the code*, without much design-ish thinking.  At my house we have\na motto, based on the truly extraordinary number of times I have badly\nbashed my head while fetching firewood from the triangle under the\nstairs where we keep it:  &quot;Fool me once, shame on you.  Fool me three\nhundred and fourteen consecutive times, shame on me.&quot;  I now crouch\nthroughout the process.\n\nHave fun!\nHill\nWant to learn TDD fast?  &lt;http://www.industriallogic.com/elearning&gt;\n\n", 
    "profile": "uly562000", 
    "topicId": 20590, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 266284897, 
    "prevInTime": 20597, 
    "contentTrasformed": false, 
    "postDate": "1213806515", 
    "canDelete": false, 
    "nextInTopic": 20600, 
    "prevInTopic": 20596, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwODA2MTgwMDI2cjdjMTU2ZmRlaDY4MWRhNTY0YzA1M2I0NjZAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDY4MGU0NTRlMDgwNjE4MDkyOG8zN2M1NmZmM3hhODBmMjg2NjFiMDQwZjM5QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYyRDQ2RUYwNUBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPgkgPDE3ZmE1M2QwODA2MTgwMDI2cjdjMTU2ZmRlaDY4MWRhNTY0YzA1M2I0NjZAbWFpbC5nbWFpbC5jb20+"
    }
}