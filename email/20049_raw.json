{
    "numMessagesInTopic": 2, 
    "nextInTime": 20050, 
    "senderId": "LHs0Qp369RbUvNyPXOduPMdm9-3V1vmMnw3Ul1ilKEgyMM8U-l84o3ntrIfljhZRq5dE45ukx8pfros_z__gOmg9JrPRevgG", 
    "systemMessage": false, 
    "subject": "Re: [junit] Collecting tests at run-time.", 
    "from": "&quot;Nat Pryce&quot; &lt;nat.pryce@...&gt;", 
    "authorName": "Nat Pryce", 
    "msgSnippet": "Why can t you run your unit tests using JET Excelsior?  Does the ahead-of-time compiler remove reflection information that JUnit needs or something? And why", 
    "msgId": 20049, 
    "rawEmail": "Return-Path: &lt;nat.pryce@...&gt;\r\nX-Sender: nat.pryce@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 79418 invoked from network); 2 Nov 2007 09:17:35 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m43.grp.scd.yahoo.com with QMQP; 2 Nov 2007 09:17:35 -0000\r\nX-Received: from unknown (HELO wx-out-0506.google.com) (66.249.82.232)\n  by mta18.grp.scd.yahoo.com with SMTP; 2 Nov 2007 09:17:34 -0000\r\nX-Received: by wx-out-0506.google.com with SMTP id s14so833341wxc\n        for &lt;junit@yahoogroups.com&gt;; Fri, 02 Nov 2007 02:17:34 -0700 (PDT)\r\nX-Received: by 10.70.68.11 with SMTP id q11mr1720789wxa.1193995054224;\n        Fri, 02 Nov 2007 02:17:34 -0700 (PDT)\r\nX-Received: by 10.70.57.18 with HTTP; Fri, 2 Nov 2007 02:17:33 -0700 (PDT)\r\nMessage-ID: &lt;17fa53d0711020217n49e95d19r6e4f2224642446d0@...&gt;\r\nDate: Fri, 2 Nov 2007 09:17:33 +0000\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;f2bdaaa10711011515i64e802e8yfeb99f5e13a24070@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;f2bdaaa10711011515i64e802e8yfeb99f5e13a24070@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Nat Pryce&quot; &lt;nat.pryce@...&gt;\r\nSubject: Re: [junit] Collecting tests at run-time.\r\nX-Yahoo-Group-Post: member; u=216973656; y=_fHDBoS_haQm4QbW4_brt88W4vHsWt4V5Yqr5R6H4412xzHv\r\nX-Yahoo-Profile: nat_pryce\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nWhy can&#39;t you run your unit tests using JET Excelsior?  Does the\nahead-of-time compiler remove reflection information that JUnit needs or\nsomething?\n\nAnd why did the acceptance tests not catch the error?\n\n--Nat\n\nOn 01/11/2007, Buddha Buck &lt;blaisepascal@...&gt; wrote:\n&gt;\n&gt;   We discovered something disheartening from a testing standpoint: our\n&gt; development and production environments are different in ways which can,\n&gt; and\n&gt; do, change the manner of execution of our project. As such, we&#39;d like to\n&gt; run our unit tests as part of the execution of our final product, and not\n&gt; just through our IDE.\n&gt;\n&gt; We develop using Eclipse 3.3, using the JUnit4 plugin. We compile for\n&gt; production and acceptance testing using the JET Excelsior ahead-of-time\n&gt; compiler, which is Java SE 5 compatible. There are occasions when we have\n&gt; run into SE6/SE5 compatibility problems but they had a tendency to cause\n&gt; the\n&gt; compile to fail, not cause incorrect execution, so we didn&#39;t worry much\n&gt; about it.\n&gt;\n&gt; We started using the XStream XML serialization library. In its default\n&gt; mode\n&gt; of operation, it actually tests to see what JVM and what libraries it is\n&gt; running with to determine what execution mode it wants to run in -- with\n&gt; certain JVMs, it can use different APIs for increased performance and\n&gt; capabilities. In our development environment, it was able to run in\n&gt; &quot;enhanced mode&quot; because it was using a recognized JVM (Sun Java 1.6). In\n&gt; our production environment, it did not detect a &quot;blessed&quot; JVM, and ran in\n&gt; &quot;pure java mode&quot;. Our product passed all tests, but failed badly when\n&gt; pushed to our Customer because our tests didn&#39;t catch that it wasn&#39;t in\n&gt; enhanced mode.\n&gt;\n&gt; I saw from the JUnit 4 API that it is possible to directly run a\n&gt; testrunner\n&gt; on a class, invoking all the tests in the class. The @...()\n&gt; annotation (and the @RunWith annotation) allows one to make test suites\n&gt; which consist of several classes, allowing one invocation of the\n&gt; testrunner\n&gt; to cover all the classes in the suite. Those techniques seem suited to\n&gt; allowing us to run the tests using our production JVM. But those seem to\n&gt; require manual updating of the class lists in order to add new classes.\n&gt;\n&gt; The problem is that we currently have over 500 tests, spread among many\n&gt; classes in many packages. I see a maintenance nightmare using @\n&gt; Suite.classes() because everytime we add a test class (which we do\n&gt; routinely) we&#39;d have to manually find a suite to add it to. I don&#39;t see a\n&gt; way to conveniently say &quot;for all classes in this package (or package\n&gt; hierarchy), run the unit tests&quot;.\n&gt;\n&gt; Is there a way to do what we want that isn&#39;t a maintenance nightmare?\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "nat_pryce", 
    "topicId": 20048, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 216973656, 
    "prevInTime": 20048, 
    "contentTrasformed": false, 
    "postDate": "1193995053", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20048, 
    "headers": {
        "inReplyToHeader": "PGYyYmRhYWExMDcxMTAxMTUxNWk2NGU4MDJlOHlmZWI5OWY1ZTEzYTI0MDcwQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDE3ZmE1M2QwNzExMDIwMjE3bjQ5ZTk1ZDE5cjZlNGYyMjI0NjQyNDQ2ZDBAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGYyYmRhYWExMDcxMTAxMTUxNWk2NGU4MDJlOHlmZWI5OWY1ZTEzYTI0MDcwQG1haWwuZ21haWwuY29tPg=="
    }
}