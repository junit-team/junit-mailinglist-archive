{
    "numMessagesInTopic": 19, 
    "nextInTime": 19922, 
    "senderId": "ZxgSa1d1Puwm9WusAAx7uPtolinZLRxmdtIVhCyZr3Bq6HSfRySDIkCfRi-snEfsXEFQFJYZ82LBD8nqqmzNIQv3ioY", 
    "systemMessage": true, 
    "subject": "Re: How to change dynamically (runtime) the classpath for a given test", 
    "from": "&quot;David&quot; &lt;achepati67@...&gt;", 
    "authorName": "David", 
    "msgSnippet": "... Dear Lasse, Your solution, assumes two facts: 1. Previous to running the test, there must exist a file on classpath. 2. The source files are on classpath", 
    "msgId": 19921, 
    "rawEmail": "Return-Path: &lt;achepati67@...&gt;\r\nReceived: (qmail 99615 invoked from network); 24 Sep 2007 02:43:30 -0000\r\nReceived: from unknown (69.147.108.200)\n  by m42.grp.scd.yahoo.com with QMQP; 24 Sep 2007 02:43:30 -0000\r\nReceived: from unknown (HELO n4c.bullet.sp1.yahoo.com) (69.147.64.184)\n  by mta1.grp.re1.yahoo.com with SMTP; 24 Sep 2007 02:43:30 -0000\r\nReceived: from [216.252.122.219] by n4.bullet.sp1.yahoo.com with NNFMP; 24 Sep 2007 02:42:50 -0000\r\nReceived: from [66.218.69.5] by t4.bullet.sp1.yahoo.com with NNFMP; 24 Sep 2007 02:42:50 -0000\r\nReceived: from [66.218.66.79] by t5.bullet.scd.yahoo.com with NNFMP; 24 Sep 2007 02:42:50 -0000\r\nX-Sender: achepati67@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 53895 invoked from network); 23 Sep 2007 19:24:47 -0000\r\nReceived: from unknown (69.147.108.201)\n  by m56.grp.scd.yahoo.com with QMQP; 23 Sep 2007 19:24:47 -0000\r\nReceived: from unknown (HELO n14c.bullet.sp1.yahoo.com) (69.147.64.117)\n  by mta2.grp.re1.yahoo.com with SMTP; 23 Sep 2007 19:24:47 -0000\r\nReceived: from [216.252.122.218] by n14.bullet.sp1.yahoo.com with NNFMP; 23 Sep 2007 19:24:20 -0000\r\nReceived: from [209.73.164.86] by t3.bullet.sp1.yahoo.com with NNFMP; 23 Sep 2007 19:24:19 -0000\r\nReceived: from [66.218.67.195] by t8.bullet.scd.yahoo.com with NNFMP; 23 Sep 2007 19:24:19 -0000\r\nDate: Sun, 23 Sep 2007 19:24:17 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fd6eh1+r8c9@...&gt;\r\nIn-Reply-To: &lt;3975e2d10709210015o5e3d8e97i4185d7bdf4a4d592@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;David&quot; &lt;achepati67@...&gt;\r\nSubject: Re: How to change dynamically (runtime) the classpath for a given test\r\nX-Yahoo-Group-Post: member; u=152694144; y=DF5AUXfCsWPBV6SMrIBSU2M8sDyZU5OKKvlUMYftCDZ-2nvEwQ\r\nX-Yahoo-Profile: achepati67\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 24 Sep 2007 02:42:50 -0000\r\n\r\n\n\n--- In junit@yahoogroups.com, &quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt; wrote:\n&gt;\n&gt; Hi David,\n&gt;\n&gt; On 9/21/07, David achepati67@... wrote:\n&gt; &gt; Thanks for your reply, but you are assuming to much, because you\n&gt; &gt; have to modify the classpath by hand. For example under eclipse the\n&gt; &gt; current folder (.) is not on the classpath, so you have addapt the\n&gt; &gt; test to the IDE configuration. I know this can be done very easy\n&gt; &gt; using Ant, but I don&#39;t want to impose to use such tools for this\n&gt; &gt; particular example.\n&gt;\n&gt; Actually, I don&#39;t need to modify the classpath by hand because under\n&gt; Eclipse the source folders are in the class path. For example, you can\n&gt; do the following successfully in your tests:\n&gt;\n&gt; getClass().getResource(&quot;/com/acme/stuff/testdata.txt&quot;);\n&gt;\n&gt; ...which will give you access to the testdata.txt file you&#39;ve placed\n&gt; under your source directory:\n&gt;\n&gt; ${basedir}/src/com/acme/stuff/testdata.txt\n&gt;\n&gt; Or maybe I misunderstood what you meant?\n&gt;\n&gt; Lasse\n&gt;\n&gt; --\n&gt; Lasse Koskela\n&gt; * Author of &quot;Test Driven&quot; (Manning Publications, 2007) *\n&gt; * Reaktor Innovations * http://www.ri.fi/en *\n&gt;\n\n\nDear Lasse,\n\nYour solution, assumes two facts:\n\n1. Previous to running the test, there must exist a file on classpath.\n\n2. The source files are on classpath (that is valid for Eclipse, but for\nothers...)\n\nWhat I would like is to write a test that has less assumptions, because\nthere is no way to modify the classpath under jUnit test, my solution\nthen would assume:\n\nThat at least on classpath exist a directory location. It is a weaker\nconstraint, because a classpath can contain only files, but is less\nussual. In case that such assumption doesn&#39;t hold, then an exception\nwill be thrown (not a fail, because it is a pre condition only).\n\nThe following test, works and is less restrictive:\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport junit.framework.TestCase;\n\n\npublic class TestFileUtils extends TestCase {\n\n     final String testFileName = &quot;fileInClassPath.txt&quot;;\n     File dirOnClasspath = null;\n\n     /**\n      * {@link &lt;mailto:{@link&gt; \ncom.b2b2000.FileUtils#findFileInClasspath(java.lang.String)}.\n      *\n      */\n     public void testFindFileInClasspath() throws Exception {\n         File newFile = new File(this.dirOnClasspath, testFileName);\n         newFile.createNewFile();\n         File foundFile = FileUtils.findFileInClasspath(testFileName);\n         assertTrue(foundFile.exists());\n     }\n\n     protected void setUp() throws Exception {\n      this.dirOnClasspath = findDirectoryOnClasspath();\n      if (this.dirOnClasspath == null) {\n       throw new Exception(&quot;There is no directory on classpath, test\ncan&#39;t work, it assumes at least one directory on classpath&quot;);\n      }\n         File newFile = new File(this.dirOnClasspath, testFileName);\n         if (newFile.exists()) {\n             if (!newFile.delete()) {\n                 throw new FileNotFoundException(newFile.toString());\n\n             }\n         }\n         super.setUp();\n     }\n\n     protected void tearDown() throws Exception {\n         File file = new File(this.dirOnClasspath, testFileName);\n         file.deleteOnExit();\n         super.tearDown();\n     }\n\n     private File findDirectoryOnClasspath() {\n      final String classpath = System.getProperty(&quot;java.class.path&quot;);\n      final String[] members = classpath.split(File.pathSeparator);\n      File file = null;\n      for (int i = 0; i &lt;= members.length; i++) {\n       file = new File(members[i]);\n       if (file.isDirectory()) {\n        break;\n       }\n      }\n      return file;\n     }\n}\n\n\nThanks to every body has replied this thread,\n\nDavid\n\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "achepati67", 
    "topicId": 19905, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 152694144, 
    "prevInTime": 19920, 
    "contentTrasformed": false, 
    "postDate": "1190575457", 
    "canDelete": false, 
    "nextInTopic": 19922, 
    "prevInTopic": 19920, 
    "headers": {
        "inReplyToHeader": "PDM5NzVlMmQxMDcwOTIxMDAxNW81ZTNkOGU5N2k0MTg1ZDdiZGY0YTRkNTkyQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZkNmVoMStyOGM5QGVHcm91cHMuY29tPg=="
    }
}