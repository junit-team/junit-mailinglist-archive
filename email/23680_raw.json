{
    "numMessagesInTopic": 11, 
    "nextInTime": 23681, 
    "senderId": "efsTRO8A29JT8fK4tp9skvf1RNMuMF8TI--Zb9C2affzcf6x9AaHx80jr7rekjwuddBUEo-jWPid8-6HOyg3Wt9kQ-kC2mxX", 
    "systemMessage": true, 
    "subject": "Re: [junit] Alphabetizing test method run order?", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "... -10 A number of projects I worked on used to do this. While this may initially seem like a good idea, it was problematic for us for a number of reasons. If", 
    "msgId": 23680, 
    "rawEmail": "Return-Path: &lt;kcooney@...&gt;\r\nReceived: (qmail 71334 invoked from network); 21 Sep 2011 01:42:00 -0000\r\nReceived: from unknown (98.137.35.162)\n  by m4.grp.sp2.yahoo.com with QMQP; 21 Sep 2011 01:42:00 -0000\r\nReceived: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta6.grp.sp2.yahoo.com with SMTP; 21 Sep 2011 01:42:00 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1316569319; bh=nbRvcuHRML5LbJSWVe2Z9wvT3uA6DCvVu7zp98NYcHw=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:Message-ID:To:X-System-Of-Record:X-Originating-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Content-Type:Content-Transfer-Encoding:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=HgDG08I2QR5pCos6wYcb2YUm7K5G5m/TyfZfGTU1xcKD0iGFd//Pdt6ygYEqH+Qiz4JzH604j+efOVuVULE/+soaAjpuIS4pgO8rthg/eSZ/GJzw6/y7UZitrYilTn22\r\nReceived: from [69.147.65.149] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 21 Sep 2011 01:41:59 -0000\r\nReceived: from [98.137.34.34] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 21 Sep 2011 01:41:59 -0000\r\nX-Sender: kcooney@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 13533 invoked from network); 20 Sep 2011 17:10:10 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m5.grp.sp2.yahoo.com with QMQP; 20 Sep 2011 17:10:10 -0000\r\nX-Received: from unknown (HELO smtp-out.google.com) (74.125.121.67)\n  by mta5.grp.sp2.yahoo.com with SMTP; 20 Sep 2011 17:10:10 -0000\r\nX-Received: from wpaz21.hot.corp.google.com (wpaz21.hot.corp.google.com [172.24.198.85])\n\tby smtp-out.google.com with ESMTP id p8KHA9w9028562\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 20 Sep 2011 10:10:09 -0700\r\nX-Received: from iaqq3 (iaqq3.prod.google.com [10.12.43.3])\n\tby wpaz21.hot.corp.google.com with ESMTP id p8KHA2Xq027312\n\t(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 20 Sep 2011 10:10:07 -0700\r\nX-Received: by iaqq3 with SMTP id q3so1142062iaq.33\n        for &lt;junit@yahoogroups.com&gt;; Tue, 20 Sep 2011 10:10:02 -0700 (PDT)\r\nX-Received: by 10.42.189.129 with SMTP id de1mr1859170icb.90.1316538601830;\n        Tue, 20 Sep 2011 10:10:01 -0700 (PDT)\r\nX-Received: by 10.42.189.129 with SMTP id de1mr1859155icb.90.1316538601151; Tue,\n 20 Sep 2011 10:10:01 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.34.8 with HTTP; Tue, 20 Sep 2011 10:09:41 -0700 (PDT)\r\nIn-Reply-To: &lt;CABHM76Wkypn2HA4rKYsFRRMV-aH-QVDysU24H9Uy6rP26A_TEQ@...&gt;\r\nReferences: &lt;CACj8BuMu+VDrSxmF5ArRf+Ct+Jg9BjBH4vMALk1hxEvW1r8fGw@...&gt;\n &lt;CALgAf82b6=za=YUpXCy02Sf6pZ1dibAL_JNiL59162m8gZuSGw@...&gt;\n &lt;CALS12-NdXKmo7b6z7KGu9+za67hjKj0Zb4BaNW+zoPoPL9u-6Q@...&gt;\n &lt;CA+nPnMxpMTQzdWYSp=+rMT4ehdLDZKhcTnh5T0js+whN67C5=w@...&gt; &lt;CABHM76Wkypn2HA4rKYsFRRMV-aH-QVDysU24H9Uy6rP26A_TEQ@...&gt;\r\nDate: Tue, 20 Sep 2011 10:09:41 -0700\r\nMessage-ID: &lt;CAA3E+eW8k1HBAaj--t57ZQ4Hy-HZbJx49yE83MFDyxEg_TmAwQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-System-Of-Record: true\r\nFrom: Kevin Cooney &lt;kcooney@...&gt;\r\nSubject: Re: [junit] Alphabetizing test method run order?\r\nX-Yahoo-Group-Post: member; u=475263748; y=cHbZgFWEW7dTFBL-Ct9lU6yROa_ZWrQUGlazBiyA2JxtNAIheT74V8kO7VywE3UlAkFbgXA-6LN4VfA\r\nX-Yahoo-Profile: kevincooney2000\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 21 Sep 2011 01:41:58 -0000\r\n\r\nOn Tue, Sep 20, 2011 at 3:07 AM, Dominik Dorn &lt;dorn@...&gt; wrote:\n\n&gt; *=\r\n*\n&gt;\n&gt;\n&gt; Hmm... I think it would be even better to _ensure_ that the test ca=\r\nses are\n&gt; run\n&gt; in a random order but provide a summary at the end of the t=\r\nestrun where the\n&gt; order gets printed.\n&gt;\n\n-10\n\nA number of projects I worke=\r\nd on used to do this. While this may initially\nseem like a good idea, it wa=\r\ns problematic for us for a number of reasons.\n\nIf the tests are run in a ra=\r\nndom order, then a small change to a test or a\nclass under test could cause=\r\n a completely unrelated test to fail. Many\ndevelopers will assume that it i=\r\ns their change that caused the problem,\nleading them in a wild goose chase =\r\ntrying to see which of their changes\ncaused the problems and why, and when =\r\nthey realize it is due to the test\nordering, they need to do a big context =\r\nswitch back to their original\ntask. This would be made worse by the fact th=\r\nat simply rerunning the tests\nwould cause them to pass again (or worse, cau=\r\nse a different test to fail).\n\nNote that I don&#39;t think developers should be=\r\n writing tests where the outcome\ndepends on the ordering that the test meth=\r\nods were run. I just don&#39;t think\nwe should assume that fixing the tests wit=\r\nh this problem is necessarily as\nimportant as what the developer is trying =\r\nto do.\n\nMaking the test order random by default also does not necessarily m=\r\nake it\neasier to track down problems with ordering of tests, since if you r=\r\nan the\nfailing test suite again, you would get a different run order. JUnit=\r\n could\nprint out the random seed used for that particular run, but then dev=\r\nelopers\nwould have to figure out how to pass the previous random seed back =\r\nto the\ntest (how to do this would depend on which IDE or build system they =\r\nused).\n\nIf developers want the ordering to be shuffled, they should use a c=\r\nustom\nrunner that shuffles the tests. We used to do this in our JUnit3 test=\r\ns with\na custom subclass of TestSuite. It used a random seed based on the\nS=\r\nystem.currentTimeMillis() at midnight, so if a particular ordering caused\nt=\r\nhe tests to fail, it was reproducible for the rest of the day.\nUnfortunatel=\r\ny, developers often assumed that the breakage was caused by one\nof the chan=\r\nges submitted since the most recent green run of\nthe continuous build.\n\n\nPe=\r\nrsonally, I don&#39;t need the test ordering to be defined, but I need it to\nbe=\r\n deterministic. If I build the same code with the same JDK and run it in\nth=\r\ne same JRE on the same kernel on a different day, the tests should run in\nt=\r\nhe same order. We often re-run tests that failed earlier in the day, using\n=\r\nthe same source code, to try to determine which failures were due to flaky\n=\r\ntests. Having the tests run in a different order would make it much more\ndi=\r\nfficult to do this analysis.\n\n\nI suggest that JUnit4 order the tests by the=\r\n hash code of the test method\nname. If there is a tie, JUnit could compare =\r\nthe test names using the\nnatural ordering defined by String.compareTo(Strin=\r\ng) (possibly in reverse\n:-)\n\n-- Kevin\n\nIn that way, people would be urged t=\r\no create independent tests and if it\n&gt; happens\n&gt; that the tests are not ind=\r\nependent (and this is discovered through a\n&gt; different ordering)\n&gt; they can=\r\n diagnose the problem and fix their tests.\n&gt;\n&gt; On Tue, Sep 20, 2011 at 10:1=\r\n0 AM, Stephen Connolly &lt;\n&gt; stephen.alan.connolly@...&gt; wrote:\n&gt;\n&gt; &gt; **=\r\n\n&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; At present if you create a Request, the tests will be unsort=\r\ned, but you\n&gt; can\n&gt; &gt; call\n&gt; &gt;\n&gt; &gt; Request r;\n&gt; &gt; r.sort( new Comparator() =\r\n{ ... } );\n&gt; &gt;\n&gt; &gt; to have the tests sorted.\n&gt; &gt;\n&gt; &gt; Additionally, a Runner=\r\n has the ability to sort its tests initially,\n&gt; &gt; though IMHO there is a ta=\r\nd missing in terms of sorting if your Runner\n&gt; &gt; extends from ParentRunner =\r\nas the entire list of tests is hidden from\n&gt; &gt; the Sortable interface and c=\r\nhild classes of ParentRunner... thus you\n&gt; &gt; are relying on Collections.sor=\r\nt to establish your sorting with the\n&gt; &gt; comparator.\n&gt; &gt;\n&gt; &gt; i.e. Some sort=\r\ning requirements may need as many as N*N/2 comparisons\n&gt; &gt; to establish the=\r\n correct sorting, while Collections.sort will\n&gt; &gt; typically only perform N*=\r\nlog(N) comparisons.\n&gt; &gt;\n&gt; &gt; See https://github.com/KentBeck/junit/pull/316\n=\r\n&gt; &gt;\n&gt; &gt; Something similar to https://github.com/KentBeck/junit/pull/316 wil=\r\nl\n&gt; &gt; probably be needed if/as more people use the Request#sort(Comparator)=\r\n\n&gt; &gt; method.\n&gt; &gt;\n&gt; &gt; On 20 September 2011 08:44, Malte Finsterwalder\n&gt; &gt;\n&gt; =\r\n&gt; &lt;malte@...&gt; wrote:\n&gt; &gt; &gt; +1\n&gt; &gt; &gt;\n&gt; &gt; &gt; keep ordering unde=\r\nfined.\n&gt; &gt; &gt; Allow ordering though a custom Annotation, a Runner or a Rule =\r\n(or a\n&gt; &gt; &gt; combination thereof, whatever makes sense).\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; -=\r\n-----------------------------------\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; [Non-text portions of this message have be=\r\nen removed]\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]=\r\n\n\n\n", 
    "profile": "kevincooney2000", 
    "topicId": 23671, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "prevInTime": 23679, 
    "contentTrasformed": false, 
    "postDate": "1316538581", 
    "canDelete": false, 
    "nextInTopic": 23685, 
    "prevInTopic": 23676, 
    "headers": {
        "inReplyToHeader": "PENBQkhNNzZXa3lwbjJIQTRyS1lzRlJSTVYtYUgtUVZEeXNVMjRIOVV5NnJQMjZBX1RFUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQTNFK2VXOGsxSEJBYWotLXQ1N1pRNEh5LUhaYkp4NDl5RTgzTUZEeXhFZ19UbUF3UUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ2o4QnVNdStWRHJTeG1GNUFyUmYrQ3QrSmc5QmpCSDR2TUFMazFoeEV2VzFyOGZHd0BtYWlsLmdtYWlsLmNvbT4gPENBTGdBZjgyYjY9emE9WVVwWEN5MDJTZjZwWjFkaWJBTF9KTmlMNTkxNjJtOGdadVNHd0BtYWlsLmdtYWlsLmNvbT4gPENBTFMxMi1OZFhLbW83YjZ6N0tHdTkremE2N2hqS2owWmI0QmFOVyt6b1BvUEw5dS02UUBtYWlsLmdtYWlsLmNvbT4gPENBK25Qbk14cE1UUXpkV1lTcD0rck1UNGVoZExEWktoY1RuaDVUMGpzK3doTjY3QzU9d0BtYWlsLmdtYWlsLmNvbT4gPENBQkhNNzZXa3lwbjJIQTRyS1lzRlJSTVYtYUgtUVZEeXNVMjRIOVV5NnJQMjZBX1RFUUBtYWlsLmdtYWlsLmNvbT4="
    }
}