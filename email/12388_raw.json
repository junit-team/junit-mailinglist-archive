{
    "numMessagesInTopic": 4, 
    "nextInTime": 12389, 
    "senderId": "LS7et48pJKJqn6mtIwSkWiq3CVlpvtQz1TiRuX11dWoi7KyyKNDBKjlTMPZnF2u2L82hejO4kXvw-E7nIFbS8x4R5DHphAG4CD3K1VAumw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Should tests follow the code...?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Why? Doesn t your IDE let you search for everywhere this class is used ? In the worst case, use grep. ... That is my usual approach. ... I just verify", 
    "msgId": 12388, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 51208 invoked from network); 25 Nov 2004 19:13:57 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m14.grp.scd.yahoo.com with QMQP; 25 Nov 2004 19:13:57 -0000\r\nReceived: from unknown (HELO smtp105.rog.mail.re2.yahoo.com) (206.190.36.83)\n  by mta5.grp.scd.yahoo.com with SMTP; 25 Nov 2004 19:13:57 -0000\r\nReceived: from unknown (HELO ?192.168.1.117?) (srainsberger5790@24.156.43.226 with plain)\n  by smtp105.rog.mail.re2.yahoo.com with SMTP; 25 Nov 2004 19:12:56 -0000\r\nMessage-ID: &lt;41A62EB8.2030203@...&gt;\r\nDate: Thu, 25 Nov 2004 14:12:56 -0500\r\nUser-Agent: Mozilla Thunderbird 0.9 (Macintosh/20041103)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;5C6FDF20AA4CF34EBB7D8AB22708E9E705A4DE@...&gt;\r\nIn-Reply-To: &lt;5C6FDF20AA4CF34EBB7D8AB22708E9E705A4DE@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 206.190.36.83\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Should tests follow the code...?\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\nJonathan Oddy wrote:\n&gt; \n&gt; JB replied:\n&gt; \n&gt;  &gt; &gt; How do other people handle this type of refactoring and unit test\n&gt;  &gt; &gt; management and what they do?\n&gt; \n&gt;  &gt; As B grows, you&#39;ll start to add tests for B on its own, which will\n&gt; make\n&gt;  &gt; it easier to notice that some of its tests are here and others are\n&gt;  &gt; there. If this becomes a problem -- and it isn&#39;t always -- that&#39;s the\n&gt;  &gt; point at which I&#39;d start moving tests.\n&gt; \n&gt; Yes, that was my feeling.  My only (slight) worry is that this type of\n&gt; thing happens over time, so there seems to be a risk of &quot;forgetting&quot;\n&gt; that you&#39;ve got some of these tests somewhere else.\n\nWhy? Doesn&#39;t your IDE let you search for &quot;everywhere this class is \nused&quot;? In the worst case, use grep.\n\n &gt; That said if\n&gt; additional functionality then breaks those tests then I guess (as you\n&gt; said) that&#39;s the time to move/change them.\n\nThat is my usual approach.\n\n&gt;  &gt; Now it seems that A instantiates B directly, based on your\n&gt; description.\n&gt;  &gt; If that&#39;s true, then I would consider refactoring A to allow me to\n&gt;  &gt; inject B into it, and see how the tests would change. Perhaps YAGNI,\n&gt; and\n&gt;  &gt; as you say, you need to spend your time on other things; however, my\n&gt;  &gt; designs have always suffered from too /many/ hardcoded dependencies,\n&gt; and\n&gt;  &gt; not too /few/.\n&gt; \n&gt; Agreed, actually I&#39;ve already done this - so I now have two types of\n&gt; tests for A - those that implicitly use the actual functionality of B\n&gt; (because that&#39;s what it&#39;s supposed to do) and those where I seed the\n&gt; behaviour of B to allow me to test code flow. \n&gt; \n&gt; It&#39;s a struts-based application so these second set of tests allow me to\n&gt; check that given certain behaviours of B, A forwards to the relevant\n&gt; page.  I know I *could* do this with struts-unit or some such like, but\n&gt; at the moment I think that is another level of complexity I have yet to\n&gt; get to (and I think it&#39;s too heavy for my current requirement).  I\n&gt; currently &quot;get away with&quot; having my Action delegate to some other\n&gt; class(es) which I TDD, so then what&#39;s left is checking my Action\n&gt; forwards to where I want it to go to given some stimulus...\n\nI just verify struts-config.xml directly using XMLUnit to test the \nactual navigation rules. I wrote about this in JUnit Recipes. As for \nverifying that all my Actions correctly return the ActionForward I want \nthem to return, I introduce a Template Method variant of execute() that \nasks me to return the forward name (which I can easily test), then \ncreates the appropriate ActionForward and returns it to the \nRequestProcessor. At least that&#39;s how I remember doing it. It&#39;s been a \nwhile, so the details might have changed. :)\n-- \nJ. B. (Joe) Rainsberger\nDiaspar Software Services\nhttp://www.diasparsoftware.com\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing\n\n", 
    "profile": "nails762", 
    "topicId": 12381, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 12387, 
    "contentTrasformed": false, 
    "postDate": "1101409976", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 12385, 
    "headers": {
        "inReplyToHeader": "PDVDNkZERjIwQUE0Q0YzNEVCQjdEOEFCMjI3MDhFOUU3MDVBNERFQHN0b2MtZGMxLnNwLnNlcnZpY2Vwb3dlci5jb20+", 
        "messageIdInHeader": "PDQxQTYyRUI4LjIwMzAyMDNAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDVDNkZERjIwQUE0Q0YzNEVCQjdEOEFCMjI3MDhFOUU3MDVBNERFQHN0b2MtZGMxLnNwLnNlcnZpY2Vwb3dlci5jb20+"
    }
}