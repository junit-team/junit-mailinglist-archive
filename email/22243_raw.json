{
    "numMessagesInTopic": 38, 
    "nextInTime": 22244, 
    "senderId": "JkOfPP4YzJgwZC6Bb3RqB3ZTISsrsxK7EBXupUGZL6cT_9ezrlUNPEpTi_3GqqGrD04eRWnPm1ekFqqEYT9pENZ_3ebdvIf62pc6cSP4ObnZ-hI7y_5Gs1zzxrZICMs", 
    "systemMessage": false, 
    "subject": "Re: [junit] Order of execution for tests", 
    "from": "=?UTF-8?B?Q8OpZHJpYyBCZXVzdCDimZQ=?= &lt;cbeust@...&gt;", 
    "authorName": "Cédric Beust ♔", 
    "msgSnippet": "Agree with Charlie:  I think it s impossible for a framework to automatically determine this kind of dependency.  Even assuming that the framework would go", 
    "msgId": 22243, 
    "rawEmail": "Return-Path: &lt;cbeust@...&gt;\r\nX-Sender: cbeust@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 79026 invoked from network); 30 Dec 2009 20:15:59 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m11.grp.re1.yahoo.com with QMQP; 30 Dec 2009 20:15:59 -0000\r\nX-Received: from unknown (HELO smtp-out.google.com) (216.239.33.17)\n  by mta3.grp.sp2.yahoo.com with SMTP; 30 Dec 2009 20:15:58 -0000\r\nX-Received: from kpbe19.cbf.corp.google.com (kpbe19.cbf.corp.google.com [172.25.105.83])\n\tby smtp-out.google.com with ESMTP id nBUKFuph017944\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 30 Dec 2009 20:15:57 GMT\r\nX-Received: from gxk6 (gxk6.prod.google.com [10.202.11.6])\n\tby kpbe19.cbf.corp.google.com with ESMTP id nBUKFtIi021758\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 30 Dec 2009 12:15:55 -0800\r\nX-Received: by gxk6 with SMTP id 6so1324478gxk.13\n        for &lt;junit@yahoogroups.com&gt;; Wed, 30 Dec 2009 12:15:55 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.150.9.18 with SMTP id 18mr27072504ybi.164.1262204155241; Wed, \n\t30 Dec 2009 12:15:55 -0800 (PST)\r\nIn-Reply-To: &lt;003d01ca898c$391d9ff0$7201a8c0@ferrari&gt;\r\nReferences: &lt;391EA52E-AD81-4677-8DF9-DA47816D5474@...&gt; \n\t&lt;003d01ca898c$391d9ff0$7201a8c0@ferrari&gt;\r\nDate: Wed, 30 Dec 2009 12:15:35 -0800\r\nMessage-ID: &lt;b86b6a9c0912301215q51a9e3fbj43be431746ba5ee6@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-System-Of-Record: true\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: =?UTF-8?B?Q8OpZHJpYyBCZXVzdCDimZQ=?= &lt;cbeust@...&gt;\r\nSubject: Re: [junit] Order of execution for tests\r\nX-Yahoo-Group-Post: member; u=199443513; y=Z4zUAG6KsZ9P_vnFVzhhu0yGhoy3as1e0l1JapUKEJ0P\r\nX-Yahoo-Profile: cbeust\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nAgree with Charlie:  I think it&#39;s impossible for a framework to\nautomatical=\r\nly determine this kind of dependency.  Even assuming that the\nframework wou=\r\nld go inside the body of test methods and actually understand\nwhat&#39;s going =\r\non in there, it&#39;s just not possible to infer from that\ninformation which me=\r\nthods depend on which ones.\n\nExplicit (@Test(dependsOnGroups =3D &quot;init&quot;)) i=\r\ns good, and it opens the door\nfor additional tools to use this information =\r\nin different ways, such as\nshowing a graph of dependencies or optimizing th=\r\ne thread pool allocation,\nlike I did in the article I posted earlier.\n\n-- \n=\r\n***C=E9dric\n*\n\nOn Wed, Dec 30, 2009 at 12:11 PM, Charlie Poole &lt;charlie@poo=\r\nleconsulting.com\n&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hi Kent,\n&gt;\n&gt; &gt; It seems to me that a cover=\r\nage tool like Clover could\n&gt; &gt; discover this information dynamically with[o=\r\nut] the user having to\n&gt; &gt; specify more meta-information about tests that c=\r\nould be wrong\n&gt; &gt; and would need maintenance. Isn&#39;t removing tedium why we =\r\nhave\n&gt; &gt; computers in the first place?\n&gt;\n&gt; As far as I know, coverage tools=\r\n deal well with direct dependencies\n&gt; but not with logical (interpretive) d=\r\nependency.\n&gt;\n&gt; For example, if we have\n&gt;\n&gt; Test A --&gt; SUT A --&gt; SUT B\n&gt; Tes=\r\nt B --&gt; SUT B\n&gt;\n&gt; Even in this simple case, coverage analysis won&#39;t tell us=\r\n anything\n&gt; about the relationship between A and B, although we could make =\r\nsome\n&gt; deductions by examining the results.\n&gt;\n&gt; If there were some way to t=\r\nell the framework &quot;Test A depends\n&gt; on functionality, which is tested direc=\r\ntly by B&quot; then I can\n&gt; imagine several good outcomes:\n&gt;\n&gt; 1) The test resul=\r\nt output could be made much clearer - by\n&gt; emphasizing the B result when bo=\r\nth tests had failed. Some\n&gt; approaches I can think include subordinating th=\r\ne A result\n&gt; to that of B, highlighting B, not showing A at all and\n&gt; marki=\r\nng A as inconclusive.\n&gt;\n&gt; 2) Users would be discouraged from seeking annota=\r\ntions that\n&gt; provide for direct ordering of tests or the actual &quot;hard&quot;\n&gt; de=\r\npendencies.\n&gt;\n&gt; 3) Less important, but as an optimization, the framework\n&gt; =\r\ncould suppress running of A if B had already failed.\n&gt;\n&gt; Charlie\n&gt;\n&gt;\n&gt; &gt; Ke=\r\nnt\n&gt; &gt;\n&gt; &gt; On Dec 29, 2009, at 2:28 PM, Pigneri, Rocco wrote:\n&gt; &gt;\n&gt; &gt; &gt; Cha=\r\nrlie,\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;As a framework author, I can see that allowing the user =\r\nto specify\n&gt; &gt; &gt; &gt;ordering is a simpler implementation. But I think it&#39;s mo=\r\nre\n&gt; &gt; &gt; &gt;interesting to imagine the user specifying the nature of the\n&gt; &gt; =\r\n&gt; &gt;dependencies and allowing the framework to figure out a strategy.\n&gt; &gt; &gt;\n=\r\n&gt; &gt; &gt; I am very much with you on this one. In my experience,\n&gt; &gt; there have=\r\n been a lot of times when functions under test\n&gt; &gt; within the same class de=\r\npend upon each other, and it would\n&gt; &gt; have been great to have the test har=\r\nness know that\n&gt; &gt; information. When I was refactoring code for a new frame=\r\nwork\n&gt; &gt; package, I would have loved to have the UI to display\n&gt; &gt; non-depe=\r\nndent tests first as it would have shown me very\n&gt; &gt; clearly the source of =\r\nthe problem.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Specifying only the relationships in code and leav=\r\ning the\n&gt; &gt; display strategy to the test harness would allow more\n&gt; &gt; flexi=\r\nble display and execution of these tests based upon the\n&gt; &gt; user&#39;s goals ra=\r\nther than upon the dependencies themselves. I\n&gt; &gt; could imagine myself aski=\r\nng the UI only to display the least\n&gt; &gt; dependent functions&#39; errors and to =\r\nhide all other errors for\n&gt; &gt; quick debugging on sweeping optimizations. I =\r\ncould also want\n&gt; &gt; to see the dependent tests in a tree in case I am chang=\r\ning a\n&gt; &gt; single class and want to understand the effects of what I am\n&gt; &gt; =\r\ntouching. I could also want to see all tests in a single list\n&gt; &gt; with the =\r\nleast dependent at the top and the most dependent on\n&gt; &gt; the bottom when ru=\r\nnning regression tests. As you can see, the\n&gt; &gt; chosen view depends more up=\r\non what I am doing than upon the\n&gt; &gt; test dependencies themselves.\n&gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; Finally, being able to list dependencies between test\n&gt; &gt; classes in ad=\r\ndition to test cases would also JUnit to report\n&gt; &gt; which components of the=\r\n system depend upon each other. This\n&gt; &gt; simple extension would greatly inc=\r\nrease the power of the\n&gt; &gt; dependency models for larger systems (particular=\r\nly regression tests).\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thank you,\n&gt; &gt; &gt;\n&gt; &gt; &gt; Rocco\n&gt; &gt; &gt;\n&gt; &gt; &gt; =\r\nFrom: junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt; [mailto:\n&gt; junit@yaho=\r\nogroups.com &lt;junit%40yahoogroups.com&gt;]\n&gt; &gt; On Behalf\n&gt; &gt; &gt; Of Charlie Poole=\r\n\n&gt; &gt; &gt; Sent: Thursday, December 24, 2009 12:09 AM\n&gt; &gt; &gt; To: junit@yahoogrou=\r\nps.com &lt;junit%40yahoogroups.com&gt;\n&gt; &gt; &gt; Subject: RE: [junit] Order of execut=\r\nion for tests\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hi C=E9dric,\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; On another list, I i=\r\ndentified the same variations of dependency\n&gt; &gt; &gt; &gt; &gt; but with the variatio=\r\nn that for case 1. We might run B\n&gt; &gt; anyway but\n&gt; &gt; &gt; &gt; &gt; could highlight =\r\nthe error in A in some way. That\n&gt; &gt; approach doesn&#39;t\n&gt; &gt; &gt; &gt; &gt; require ord=\r\nering the tests in any particular way, which\n&gt; &gt; has some advantages.\n&gt; &gt; &gt;=\r\n &gt; &gt; It still promotes developer efficiency while not worrying about\n&gt; &gt; &gt; =\r\n&gt; &gt; execution efficiency.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yes, we call these &quot;sof=\r\nt dependencies&quot;.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; If &quot;b&quot; has a hard dependency on &quot;a&quot; and &quot;a=\r\n&quot; fails, &quot;a&quot; will be\n&gt; &gt; &gt; &gt; marked &quot;FAILED&quot; and b &quot;SKIPPED&quot;.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; If &quot;b&quot; has a soft dependency on &quot;a&quot;, &quot;b&quot; will still run\n&gt; &gt; even if &quot;a&quot;\n=\r\n&gt; &gt; &gt; &gt; fails but a warning could be displayed in the log.\n&gt; &gt; &gt;\n&gt; &gt; &gt; This=\r\n is an implementation-based view of the tests: i.e. they will\n&gt; &gt; &gt; either =\r\nbe run or not run.\n&gt; &gt; &gt;\n&gt; &gt; &gt; The distinction I was trying to make - and I=\r\n think David as\n&gt; &gt; well - is\n&gt; &gt; &gt; based on the cause and nature of the de=\r\npendency.\n&gt; &gt; &gt; For the sake of argument, I&#39;ll try to redefine what you&#39;re =\r\ncalling\n&gt; &gt; &gt; Hard and Soft along those lines.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hard: Test A doe=\r\ns something (sets state) upon which B depends.\n&gt; &gt; &gt; For example, A may wri=\r\nte to a data store and B might try to\n&gt; &gt; read the\n&gt; &gt; &gt; information back. =\r\nOr A might create a complex object and B\n&gt; &gt; might try\n&gt; &gt; &gt; to call a meth=\r\nod on that object. If we allow this sort of\n&gt; &gt; thing, then\n&gt; &gt; &gt; there is =\r\nno choice but to run A first and it makes sense to\n&gt; &gt; not run B\n&gt; &gt; &gt; at a=\r\nll if A fails. However, I would not want a unit test\n&gt; &gt; framework to\n&gt; &gt; &gt;=\r\n allow it.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Soft: Test A tests some functionality upon which som=\r\ne other\n&gt; &gt; &gt; functionality, tested by B, depends. Therefore, if test A\n&gt; &gt;=\r\n fails, Test\n&gt; &gt; &gt; B will either fail as well or be inconclusive, so nothin=\r\ng\n&gt; &gt; further can\n&gt; &gt; &gt; be learned from test B. In this case, a testing fra=\r\nmework could\n&gt; &gt; &gt; respond in a number of ways to the dependency:\n&gt; &gt; &gt; 1) =\r\nRun the tests in order, skipping B if A fails.\n&gt; &gt; &gt; 2) Run the tests in an=\r\n arbitrary order, but skip B if A already ran\n&gt; &gt; &gt; and failed.\n&gt; &gt; &gt; 3) Ru=\r\nn the tests in an arbitrary order, not skipping any of\n&gt; &gt; them but\n&gt; &gt; &gt; o=\r\nrganize reporting in such a way that a failure of A takes\n&gt; &gt; precedence\n&gt; =\r\n&gt; &gt; over a failure of B.\n&gt; &gt; &gt;\n&gt; &gt; &gt; As a framework author, I can see that =\r\nallowing the user to specify\n&gt; &gt; &gt; ordering is a simpler implementation. Bu=\r\nt I think it&#39;s more\n&gt; &gt; &gt; interesting to imagine the user specifying the na=\r\nture of the\n&gt; &gt; &gt; dependencies and allowing the framework to figure out a s=\r\ntrategy.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Charlie\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Every time we have discussed thi=\r\ns potential feature for\n&gt; &gt; TestNG, the\n&gt; &gt; &gt; &gt; discussion ended up being n=\r\non conclusive on the real interest and\n&gt; &gt; &gt; &gt; the existing ability to mark=\r\n certain methods as\n&gt; &gt; &quot;alwaysRun&quot; already\n&gt; &gt; &gt; &gt; fills a big part of thi=\r\ns scenario, so I always ended up\n&gt; &gt; punting on\n&gt; &gt; &gt; &gt; it, but I&#39;d be happ=\r\ny to hear if someone can come up with\n&gt; &gt; a good use\n&gt; &gt; &gt; &gt; case for soft =\r\ndependencies...\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --\n&gt; &gt; &gt; &gt; ***C=E9dric\n&gt; &gt; &gt; &gt; *\n&gt; &gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt; &gt;=\r\n\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; ------------------------------------\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-tex=\r\nt portions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [=\r\nNon-text portions of this message have been removed]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------=\r\n------------------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n=\r\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "cbeust", 
    "topicId": 22219, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 199443513, 
    "prevInTime": 22242, 
    "contentTrasformed": false, 
    "postDate": "1262204135", 
    "canDelete": false, 
    "nextInTopic": 22244, 
    "prevInTopic": 22242, 
    "headers": {
        "inReplyToHeader": "PDAwM2QwMWNhODk4YyQzOTFkOWZmMCQ3MjAxYThjMEBmZXJyYXJpPg==", 
        "messageIdInHeader": "PGI4NmI2YTljMDkxMjMwMTIxNXE1MWE5ZTNmYmo0M2JlNDMxNzQ2YmE1ZWU2QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDM5MUVBNTJFLUFEODEtNDY3Ny04REY5LURBNDc4MTZENTQ3NEBlYXJ0aGxpbmsubmV0PiAJPDAwM2QwMWNhODk4YyQzOTFkOWZmMCQ3MjAxYThjMEBmZXJyYXJpPg=="
    }
}