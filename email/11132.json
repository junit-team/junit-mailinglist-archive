{
    "numMessagesInTopic": 9, 
    "nextInTime": 11133, 
    "senderId": "wKawCPilk-YkLEsYE5vQTnKts5D1GcZImX86sMdBef8lQcQ8zKwPKA1bgsTGEvAw2HW-3WNzJ8-SyG0xOjhzkBeMbRRkzb8HFndu", 
    "systemMessage": false, 
    "subject": "Re: [junit] using JUnit with derived classes", 
    "from": "Curt Sampson &lt;yahoo_sucks@...&gt;", 
    "authorName": "Curt Sampson", 
    "msgSnippet": "... While the test code is generally not run in production systems, I think of the unit tests as an essential, integral part of any chunk of code. Leaving out", 
    "msgId": 11132, 
    "profile": "cjstokyo", 
    "topicId": 11010, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 110189933, 
    "messageBody": "<div id=\"ygrps-yiv-1530038405\">On Tue, 25 May 2004, J. B. Rainsberger wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I don&#39;t like the built-in assumption that tests belong to production<br/>\n&gt; code. A test is just another client of the production code....<br/>\n<br/>\n </span></blockquote>While the test code is generally not run in production systems, I think<br/>\nof the unit tests as an essential, integral part of any chunk of code.<br/>\nLeaving out unit tests would be like--well, leaving out large chunks of<br/>\nthe code itself. Code without tests is only half-written code.<br/>\n<br/>\nSo in that sense, to me, if you&#39;re going to be using files for storage<br/>\nof code units anyway, putting the tests in a separate file seems akin to<br/>\njust chopping the class randomly in half, and putting half in one file,<br/>\nand half in the other. After all, from a TDD programmer&#39;s point of view,<br/>\nthe tests and code are an inseparable chunk.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; ...and clients do not belong to providers. The implied dependency is<br/>\n&gt; in the wrong direction and generally that way lie dragons.<br/>\n<br/>\n </span></blockquote>In fact, as I&#39;ve been doing more and more acceptance testing, I am<br/>\nseeing more and more cases where the code is merely a subservient<br/>\ndependency on the test. The tests are, after all, where we specified<br/>\njust what the code is to do, and where most of hard work (design and<br/>\nspecification) was done. If you remove all the code, it can relatively<br/>\neasily be recreated, so long as you have those tests. If you delete the<br/>\ntests, you now have a pile of code with no specification of what it<br/>\nshould do, only some behaviour that you can&#39;t safely modify. Losing the<br/>\ntests and keeping the code is akin in this case to losing your source<br/>\ncode and being left only with compiled binaries.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; I don&#39;t see what the problem with [including tests in production<br/>\n&gt; &gt; code] is. It might cause a bit of code bloat, but that&#39;s often not a<br/>\n&gt; &gt; problem in many projects.<br/>\n&gt;<br/>\n&gt; I disagree with the notion that code bloat is not a common problem.<br/>\n&gt; Refactoring exists in part because of code bloat.<br/>\n<br/>\n </span></blockquote>Actually, &quot;code bloat&quot; was possibly the wrong term to use here. I<br/>\nwas refering to things like your distribution files getting larger.<br/>\nFor example, the JAR files I roll out into production often include<br/>\ncompiled versions of all of the unit tests, even though that code is not<br/>\nnecessary in production. That may make my JAR file twice the size it<br/>\nwould be otherwise, but in most circumstances I don&#39;t really care enough<br/>\nto do the work to try to remove the test code.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt;  &gt; This brings up something I am struggling with: in C#/NUnit, we can<br/>\n&gt; &gt;  &gt; declare a test without extending TestCase (even if we frequently extend<br/>\n&gt; &gt;  &gt; Assert, anyway). Is there some great benefit to this over the way we do<br/>\n&gt; &gt;  &gt; it in JUnit, SUnit, RubyUnit, PyUnit, ...?<br/>\n&gt;...<br/>\n&gt; I know it&#39;s possible, but I don&#39;t know why it&#39;s valuable. Can someone<br/>\n&gt; with experience doing both make a comparison? Weblog? Anything?<br/>\n<br/>\n </span></blockquote>I think it&#39;s valuable because it gives you a lot more leway to play with<br/>\nthe design of your testing framework within a particular application. I<br/>\nknow that I often feel that certain refactoring directions I&#39;d like to<br/>\ntry are closed to me because of the fairly strict structure of the JUnit<br/>\ntesting framework.<br/>\n<br/>\nA &quot;pain&quot; that I&#39;ve been feeling over the last few years has been the<br/>\ntension between code that is in an external library, and code that is<br/>\nin &quot;my&quot; source repository. For some things, the pain is bad enough, and<br/>\nmy need for flexability strong enough, that I just import the source<br/>\ncode for the external package and effectively start maintaining it<br/>\nmyself. This introduces a maintenance load, however, if I&#39;m also going<br/>\nto track the changes from the external package. I think that being<br/>\ngiven more flexability in how one interfaces with an external chunk of<br/>\ncode lessens this tension. That&#39;s one thing that has, over the past few<br/>\nyears, started driving me away from the very static and declarative Java<br/>\nmodel (&quot;this interaface is declared as such, and may only be used in<br/>\nthis way&quot;) more towards the Smalltalk model, where an interface can be<br/>\nthought of as any group of messages that one object sends to another.<br/>\n<br/>\nI&#39;m sure that this message is not terribly clear; my thoughts on this<br/>\ntopic are actually not terribly well formed at this time. But perhaps it<br/>\ngives you an inkling of what I&#39;m grasping towards here.<br/>\n<br/>\ncjs<br/>\n-- <br/>\nCurt Sampson  &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:cjs@...\">cjs@...</a>&gt;   +81 90 7737 2974   <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.NetBSD.org\">http://www.NetBSD.org</a><br/>\n    Don&#39;t you know, in this new Dark Age, we&#39;re all light.  --XTC</div>", 
    "prevInTime": 11131, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1086579614", 
    "canDelete": false, 
    "nextInTopic": 11134, 
    "prevInTopic": 11062, 
    "headers": {
        "inReplyToHeader": "PDQwQjM4MjlBLjIwNDA2MDNAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PFBpbmUuTkVCLjQuNTguMDQwNjA3MTIxNzA1MC40NDhAYW5nZWxpYy12dGZ3LmN2cG4uY3luaWMubmV0Pg==", 
        "referencesHeader": "PGM3dHN1MytmY3NiQGVHcm91cHMuY29tPiA8NDBBMkFDRjcuOTAzMDcwNEByb2dlcnMuY29tPiA8UGluZS5ORUIuNC41OC4wNDA1MjUxMzA5NTQwLjkyMzNAYW5nZWxpYy12dGZ3LmN2cG4uY3luaWMubmV0PiA8NDBCMzgyOUEuMjA0MDYwM0Byb2dlcnMuY29tPg=="
    }
}