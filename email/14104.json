{
    "numMessagesInTopic": 8, 
    "nextInTime": 14105, 
    "senderId": "e9sKF9q5ImUSownT4tT4yYK8gDICG5PhiLmScOHu-zXrJgXu9NZ_vRbfvpSNgvcR-oOTmhMs1z3k-xyzpEiKq0ZJ1jjd", 
    "systemMessage": false, 
    "subject": "Re: Testing static Properties", 
    "from": "&quot;Michael&quot; &lt;mkoss917@...&gt;", 
    "authorName": "Michael", 
    "msgSnippet": "J.B., Thanks for the reply. I m not exactly sure what you mean by Monostate, but I understand your concern on the static methods. My developers group is", 
    "msgId": 14104, 
    "profile": "mkoss917", 
    "topicId": 14082, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 133234607, 
    "messageBody": "<div id=\"ygrps-yiv-426884512\">J.B.,<br/>\n<br/>\nThanks for the reply. I&#39;m not exactly sure what you mean by<br/>\n&quot;Monostate,&quot; but I understand your concern on the static methods. My<br/>\ndevelopers&#39; group is meeting on Wednesday and one of the topics is<br/>\ngoing to be allowing my project to use Spring. If that happens, I will<br/>\neliminate the AppProperties and have each component that needs<br/>\nproperties have a setter for the specific property.<br/>\n<br/>\nAlso, I ordered your book from Amazon about three weeks ago and I am<br/>\nanxiously awaiting its arrival (it is supposed to be delivered<br/>\n7/12-7/28). I have heard nothing but rave reviews.<br/>\n<br/>\nMichael.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; wrote:<br/>\n&gt; Michael wrote:<br/>\n&gt; &gt; Hi, all. I have a testing scenario I need help with. The application I<br/>\n&gt; &gt; am working on has a class called AppProperties. This class has a lot<br/>\n&gt; &gt; of static methods on it for loading properties files and getting<br/>\n&gt; &gt; properties back out:<br/>\n&gt; &gt; <br/>\n&gt; &gt; public void loadProperties() {<br/>\n&gt; &gt;    //reads properties from classpath<br/>\n&gt; &gt;    AppProperties.addResource(&quot;app.properties&quot;);<br/>\n&gt; &gt;    AppProperties.addResource(&quot;MessageResources.properties&quot;);<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; public void performTest() {<br/>\n&gt; &gt;    boolean test = AppProperties.getBoolean(&quot;app.perform.test&quot;);<br/>\n&gt; &gt;    if (test) {<br/>\n&gt; &gt;       ...<br/>\n&gt; &gt;    }<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; This scenario is not very testable. I like the idea of a static class<br/>\n&gt; &gt; to pull application properties from, but it makes testing more<br/>\n&gt; &gt; difficult. I could load the AppProperties object in the setUp (that is<br/>\n&gt; &gt; my solution to get it working until I get better suggestions), but it<br/>\n&gt; &gt; seems like the app should be designed a little differently. How would<br/>\n&gt; &gt; something like this be handled in IoC (DI) projects?<br/>\n&gt; <br/>\n&gt; I don&#39;t much like the Monostate you have there. Even a true Singleton <br/>\n&gt; would be a little better than all those class-level method invocations.<br/>\n&gt; <br/>\n&gt; Injecting the dependency is simple: classes than need application <br/>\n&gt; properties add a constructor parameter or set() method that takes an <br/>\n&gt; AppProperties implementation. Now in tests, I can set up the data in <br/>\n&gt; AppProperties any way I want for the test. (In fact, I wouldn&#39;t do it <br/>\n&gt; that way, but that&#39;s another article.) In production code, I might have <br/>\n&gt; AppProperties be a Singleton and, in one place, invoke <br/>\n&gt; AppProperties.getInstance(), then inject that instance into all the <br/>\n&gt; objects that need it, either in code or through a DI container like<br/>\nSpring.<br/>\n&gt; <br/>\n&gt; For the &quot;advanced&quot; answer, I&#39;ll just have to write the article, but <br/>\n&gt; here&#39;s the summary: don&#39;t have classes depend on AppProperties, but <br/>\n&gt; rather on the data you want from it. Centralize getting the <br/>\n&gt; AppProperties data in one place.<br/>\n&gt; -- <br/>\n&gt; J. B. (Joe) Rainsberger<br/>\n&gt; Diaspar Software Services<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\n&gt; Author, JUnit Recipes: Practical Methods for Programmer Testing </span></blockquote></div>", 
    "prevInTime": 14103, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1120871788", 
    "canDelete": false, 
    "nextInTopic": 14106, 
    "prevInTopic": 14099, 
    "headers": {
        "inReplyToHeader": "PDQyQ0VFNTcxLjQwODA5MDJAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PGRhbjhoYytnYjYwQGVHcm91cHMuY29tPg=="
    }
}