{
    "numMessagesInTopic": 26, 
    "nextInTime": 22526, 
    "senderId": "z1UI6P1KGL53_rh4LFUiamStEG6K2TtlXyYExFNmv-at4HMBSucJRy1qW_XZh_Toh6Q_sW_Xu8cgZCCUarkkxFSvrPk", 
    "systemMessage": false, 
    "subject": "Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "&quot;Gary&quot; &lt;gary@...&gt;", 
    "authorName": "Gary", 
    "msgSnippet": "WRT: @RuleOnClass public static ClassRule... @ClassRule public static ClassRule... @ClassRule reads better to me than @RuleOnClass and the symmetry with", 
    "msgId": 22525, 
    "rawEmail": "Return-Path: &lt;gary@...&gt;\r\nReceived: (qmail 83290 invoked by uid 7800); 10 Mar 2010 04:53:16 -0000\r\nX-Sender: gary@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 92607 invoked from network); 10 Mar 2010 04:04:20 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m1.grp.sp2.yahoo.com with QMQP; 10 Mar 2010 04:04:20 -0000\r\nX-Received: from unknown (HELO n43d.bullet.mail.sp1.yahoo.com) (66.163.169.157)\n  by mta3.grp.sp2.yahoo.com with SMTP; 10 Mar 2010 04:04:20 -0000\r\nX-Received: from [69.147.65.173] by n43.bullet.mail.sp1.yahoo.com with NNFMP; 10 Mar 2010 04:04:20 -0000\r\nX-Received: from [98.137.35.12] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 10 Mar 2010 04:04:20 -0000\r\nDate: Wed, 10 Mar 2010 04:04:20 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hn75o4+nl71@...&gt;\r\nIn-Reply-To: &lt;4f7da6b91003091747j6cabdf9bi81ad30e81f7d094@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Gary&quot; &lt;gary@...&gt;\r\nSubject: Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=406321433; y=x6hWdsVfp6o27nMpVsEoPZorOIjUU4U1o7UpbUeQ6FuG66msjobdXI0\r\nX-Yahoo-Profile: gary_d_gregory\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 10 Mar 2010 04:53:15 -0000\r\n\r\nWRT: @RuleOnClass public static ClassRule...\n\n@ClassRule public static Clas=\r\nsRule...\n\n@ClassRule reads better to me than @RuleOnClass\n\nand the symmetry=\r\n with @Before/@BeforeClass is nice.\n\nGary\n\n--- In junit@yahoogroups.com, Da=\r\nvid Saff &lt;david@...&gt; wrote:\n&gt;\n&gt; On Tue, Mar 9, 2010 at 8:08 PM, Kent Beck &lt;=\r\nkentb@...&gt; wrote:\n&gt; &gt; This is an interesting design tradeoff. I don&#39;t like =\r\nimplicit magic but I also don&#39;t like creating new elements (like the &quot;befor=\r\neClass =3D true&quot;) if I can reuse existing elements. When I saw the &quot;@Rule s=\r\ntatic...&quot; I immediately knew what was wrong, so I find it understandable th=\r\nat static variables containing rules are only executed once. (By symmetry, =\r\nI suppose &quot;@Before static void...&quot; should be a synonym for @BeforeClass.)\n&gt;=\r\n \n&gt; Or, by (almost) symmetry, the following?\n&gt; \n&gt; @Before public void...\n&gt; =\r\n@After public void...\n&gt; @Rule public MethodRule...\n&gt; \n&gt; @BeforeClass public=\r\n static void...\n&gt; @AfterClass public static void...\n&gt; @RuleOnClass public s=\r\ntatic ClassRule...\n&gt; \n&gt; \n&gt; \n&gt; In the end, though, my opinion of what is obv=\r\nious is less important\n&gt; than y&#39;all&#39;s. Chime in if you want to be heard.\n&gt; =\r\n&gt;\n&gt; &gt; Kent\n&gt; &gt;\n&gt; &gt; On Mar 9, 2010, at 3:02 PM, yme0987654321 wrote:\n&gt; &gt;\n&gt; &gt;=\r\n&gt; I&#39;m all for a Rule before the class is run, but I think it is way to gimm=\r\nicky and obscure to hang that on if the variable is declared static.\n&gt; &gt;&gt;\n&gt;=\r\n &gt;&gt; I would instead think that the @Rule should have a method which indicat=\r\nes if it is before the class or before the test, and then have it validated=\r\n if the @Rule is on a static or instance variable, as appropriate.\n&gt; &gt;&gt;\n&gt; &gt;=\r\n&gt; Something like:\n&gt; &gt;&gt;\n&gt; &gt;&gt; @Rule(beforeClass =3D true)\n&gt; &gt;&gt; public static =\r\nTemporaryFolder testFolder =3D new TemporaryFolder();\n&gt; &gt;&gt;\n&gt; &gt;&gt; --- In juni=\r\nt@yahoogroups.com, Kent Beck &lt;kentb@&gt; wrote:\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Hmmm... I don&#39;t =\r\nthink we ever tried @Rule on a static variable before. I&#39;m not even sure wh=\r\nat they mean. Rules are inserted before an individual test is run. Should s=\r\ntatic rules be inserted before the class is run or before each individual t=\r\nest? Before the class is run, I&#39;m thinking. Opinions?\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Kent\n&gt; =\r\n&gt;&gt; &gt;\n&gt; &gt;&gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;=\r\n &gt; @Rule objects are not initialized before @BeforeClass methods are called=\r\n. Is this by design or a bug?\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; For example:\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; =\r\n&gt; &gt; package test;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; import java.io.File;\n&gt; &gt;&gt; &gt; &gt; import ja=\r\nva.io.IOException;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; import junit.framework.Assert;\n&gt; &gt;&gt; &gt; =\r\n&gt;\n&gt; &gt;&gt; &gt; &gt; import org.junit.BeforeClass;\n&gt; &gt;&gt; &gt; &gt; import org.junit.Rule;\n&gt; =\r\n&gt;&gt; &gt; &gt; import org.junit.Test;\n&gt; &gt;&gt; &gt; &gt; import org.junit.rules.TemporaryFold=\r\ner;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {\n&gt; &gt;&gt; &gt; =\r\n&gt; @Rule\n&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder =3D new Temporary=\r\nFolder();\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; @BeforeClass\n&gt; &gt;&gt; &gt; &gt; public static void testIn=\r\nTempFolder() throws IOException {\n&gt; &gt;&gt; &gt; &gt; File tempFile =3D testFolder.new=\r\nFile(&quot;file.txt&quot;);\n&gt; &gt;&gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;folder=\r\n&quot;);\n&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());\n&gt; =\r\n&gt;&gt; &gt; &gt; // test\n&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt; &gt;&gt; &gt; =\r\n&gt; }\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; @Test\n&gt; &gt;&gt; &gt; &gt; public void test() {\n&gt; &gt;&gt; &gt; &gt; // noop\n=\r\n&gt; &gt;&gt; &gt; &gt; }\n&gt; &gt;&gt; &gt; &gt; }\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; Having the TemporaryFolder Rule dec=\r\nlared as static is OK as this example test shows:\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; public =\r\nclass TestTemporaryFolderRuleStatic {\n&gt; &gt;&gt; &gt; &gt; @Rule\n&gt; &gt;&gt; &gt; &gt; public static=\r\n TemporaryFolder testFolder =3D new TemporaryFolder();\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; @T=\r\nest\n&gt; &gt;&gt; &gt; &gt; public void testInTempFolder() throws IOException {\n&gt; &gt;&gt; &gt; &gt; F=\r\nile tempFile =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt; &gt;&gt; &gt; &gt; File tempFolder =\r\n=3D testFolder.newFolder(&quot;folder&quot;);\n&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folde=\r\nr: &quot; + testFolder.getRoot());\n&gt; &gt;&gt; &gt; &gt; // test\n&gt; &gt;&gt; &gt; &gt; Assert.assertNotNul=\r\nl(testFolder.getRoot());\n&gt; &gt;&gt; &gt; &gt; }\n&gt; &gt;&gt; &gt; &gt; }\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; How can @R=\r\nules be used from @BeforeClass?\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt; Calling TemporaryFolder.c=\r\nreate() would work only for TemporaryFolder and not Rules in general but wo=\r\nuld be against the advice of create method Javadoc.\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; &gt; &gt;\n&gt; &gt;&gt; =\r\n&gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; [Non-text portions of this message have been removed=\r\n]\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message have =\r\nbeen removed]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------\n&gt; &gt;\n&gt; &gt; =\r\nYahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "gary_d_gregory", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 406321433, 
    "prevInTime": 22524, 
    "contentTrasformed": false, 
    "postDate": "1268193860", 
    "canDelete": false, 
    "nextInTopic": 22526, 
    "prevInTopic": 22524, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MTAwMzA5MTc0N2o2Y2FiZGY5Ymk4MWFkMzBlODFmN2QwOTRAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGhuNzVvNCtubDcxQGVHcm91cHMuY29tPg=="
    }
}