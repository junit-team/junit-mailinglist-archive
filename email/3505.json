{
    "numMessagesInTopic": 14, 
    "nextInTime": 3506, 
    "senderId": "XIpTY_lyWShWXw4j-8pJPES0uQqucfVNncVOyc3ZM3YvK2pXI3Jk87gcYtCrAKjFWm9pdra90ozXegPGYSsY6TRp4BvyBObwRA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Static class behavior", 
    "from": "&quot;Thomas SMETS&quot; &lt;tsmets@...&gt;", 
    "authorName": "Thomas SMETS", 
    "msgSnippet": "hi Mike, Like often I can only thank you. I dived into the article. Just a word on the usage I make of the Singelton Pattern. The Developper assignement I", 
    "msgId": 3505, 
    "profile": "smetsthomas", 
    "topicId": 3503, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 20361908, 
    "messageBody": "<div id=\"ygrps-yiv-2029064526\">\n<html><head>\n \n \n<style></style>\n</head>\n \n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">hi Mike,</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Like often I can only thank \nyou.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">I dived into the \narticle.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Just a word on the usage I \nmake of the Singelton Pattern.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">The Developper assignement I \nreceived is the one of the airlain reservation ticket. The DataBase \nshould&nbsp;serve multiple-clients. </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Without altering the source \ncode of the constructor provided, I added the following factory :</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&lt;code&gt;</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; public static Data \ngetDatabase(String aDBName)<br>&nbsp;&nbsp;&nbsp; throws \nIOException,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \nDatabaseException<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; // First find the absolute \npath of the file.<br>&nbsp;&nbsp;&nbsp; File f = new \nFile(aDBName);<br>&nbsp;&nbsp;&nbsp; aDBName = f.getAbsolutePath \n();<br>&nbsp;&nbsp;&nbsp; Data db = null;<br>&nbsp;&nbsp;&nbsp; \n<br>&nbsp;&nbsp;&nbsp; // Check if we still have a reference \nto<br>&nbsp;&nbsp;&nbsp; // the DB in the HashpMap<br>&nbsp;&nbsp;&nbsp; \nsynchronized(DataBaseReferenced)<br>&nbsp;&nbsp;&nbsp; \n{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (DataBaseReferenced.containsKey \n(aDBName))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db = \n(Data)DataBaseReferenced.get \n(aDBName);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (db != \nnull)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return \ndb;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db = new \nData(aDBName);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataBaseReferenced.put \n(aDBName, db);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; } // End of \nsynchronized element<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; return \ndb;<br>&nbsp; }</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&lt;/code&gt;</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">where the Key (should be a \nprimary key) is the file name (absolute path). The DataBaseReferenced is in fact \na WeakHashMap with the Data Object being stored as the value - \nObject.</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Any comment on the Pattern \nused, is most appreciated.</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Thomas,</font></div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<blockquote><span title=\"qreply\"> <blockquote\n style=\"BORDER-LEFT:#008080 2px solid;MARGIN-LEFT:5px;MARGIN-RIGHT:0px;PADDING-LEFT:5px;PADDING-RIGHT:0px;\">\n  <div style=\"FONT:10pt arial;\">----- Original Message ----- </div>\n  <div\n style=\"BACKGROUND:#e4e4e4;FONT:10pt arial;\"><b>From:</b> \n  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mike@...\" title=\"mike@...\">Mike Clark</a> \n  </div>\n  <div style=\"FONT:10pt arial;\"><b>To:</b> <a rel=\"nofollow\"\n target=\"_blank\" href=\"mailto:junit@yahoogroups.com\"\n title=\"junit@yahoogroups.com\">junit@yahoogroups.com</a> </div>\n  <div style=\"FONT:10pt arial;\"><b>Sent:</b> Sunday, December 09, 2001 11:42 \n  PM</div>\n  <div style=\"FONT:10pt arial;\"><b>Subject:</b> Re: [junit] Testing Static class \n  behavior</div>\n  <div><br></div><tt>Thomas SMETS wrote:<br><br>&gt; Hi,<br>&gt; I&#39;m currently \n  testing a Class behavior onto which the<br>&gt; Factory (getInstance(param1, \n  param2, ...)) is playing a crucial role.<br>&gt; That is the class has some \n  sort of a Singelton pattern where existing<br>&gt; reference for the singelton \n  factory are used to determine if a reference to<br>&gt; a particula instance \n  already exists.<br>&gt;<br>&gt; I therefore would need to regerister the class \n  to have the static<br>&gt; variablebeing re-initialized. I there something in \n  Java ?<br>&gt;<br><br>Hi Thomas,<br><br>Depending on the implementation of the \n  singleton you&#39;re attempting to test, it<br>may be possible to obtain a \n  reference to its sole instance (or instances) and<br>assign it a null \n  value.&nbsp; If the implementation uses lazy initialization, this<br>may \n  trigger reinitialization on the next invocation of getInstance().<br><br>If \n  you haven&#39;t already read J.B. Rainsberger&#39;s article on the use \n  and<br>testability of singletons, I highly recommend \n  it:<br><br>&nbsp;&nbsp;&nbsp; <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://www-106.ibm.com/developerworks/webservices/library/co-single.html\">http://www-106.ibm.com/developerworks/webservices/library/co-single.html</a><br><br>In \n  general, singletons are often overused and can be difficult to test, \n  and<br>J.B.&#39;s article offers some practical \n  alternatives.<br><br>Regards,<br><br>Mike<br><br>--<br>Mike Clark<br>Clarkware \n  Consulting, Inc.<br><a rel=\"nofollow\"\n target=\"_blank\" href=\"http://www.clarkware.com\">http://www.clarkware.com</a><br>720.851.2014<br><br><br></tt><br><br><tt>To \n  unsubscribe from this group, send an email \n  to:<br>junit-unsubscribe@yahoogroups.com<br></tt><br><br><tt>Your use of \n  Yahoo! Groups is subject to the <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">Yahoo! Terms of Service</a>.</tt> \n<br></blockquote></span></blockquote></html> \n</div>", 
    "prevInTime": 3504, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1007983094", 
    "canDelete": false, 
    "nextInTopic": 3506, 
    "prevInTopic": 3504, 
    "headers": {
        "messageIdInHeader": "PDAwZWUwMWMxODE2YyQ2OTA3NDYyMCQ5M2VlNDRkNEBwbG9wPg==", 
        "referencesHeader": "PDAwM2IwMWMxODEwMSQ4NDcxMWI0MCQ5M2VlNDRkNEBwbG9wPiA8M0MxM0U4RDAuNjdBMjg2MEBjbGFya3dhcmUuY29tPg=="
    }
}