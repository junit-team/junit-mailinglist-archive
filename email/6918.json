{
    "numMessagesInTopic": 41, 
    "nextInTime": 6919, 
    "senderId": "YWVG_bcwKl8Z2Yiu9qTP_JOXH8T36SuH7q7YCX-7E0uR31YL49koJeEABbPt-4MgOS9U7-sXSl2hSW77mOQ6z9ncDaT40Pkdfb3W2D4UcgCN4N2v", 
    "systemMessage": false, 
    "subject": "Re: [junit] Programmer Tests and the Database", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "So said  Curt Sampson  on  2/9/2003 --------------------  ... then ... You re right. I m not testing that the SQL code is correct because: (1)", 
    "msgId": 6918, 
    "profile": "nails762", 
    "topicId": 6711, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "messageBody": "<div id=\"ygrps-yiv-243382712\">So said  Curt Sampson  on  2/9/2003 --------------------<br/>\n<br/>\n&lt;snip /&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; From: J. B. Rainsberger &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbr@...\">jbr@...</a>&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; If I test your implementation rather than just checking the SQL<br/>\n&gt;&gt; string, then I have to run that [taking a lot of time] OR I simply<br/>\n&gt;&gt; don&#39;t run those tests. (If I knew ahead of time what would break,<br/>\n </span></blockquote>then<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; I wouldn&#39;t want to run all the tests all the time, but I don&#39;t, so I<br/>\n&gt;&gt; do.)<br/>\n&gt;<br/>\n&gt;I read this as you suggesting that you want to run all the tests and<br/>\n&gt;have reasonable coverage, but you don&#39;t want to run the SQL code. That<br/>\n&gt;makes no sense to me; if you&#39;re not running the SQL code, you&#39;re not<br/>\n&gt;testing it.<br/>\n<br/>\n </span></blockquote>You&#39;re right. I&#39;m not testing that the SQL code is correct because:<br/>\n<br/>\n(1) Continually testing it is expensive, and<br/>\n(2) I tested it at least once, and<br/>\n(3) Re-testing it only finds bugs in either the environment or the<br/>\nunderlying database management system<br/>\n<br/>\nRemember that part of the point of these tests is to enable me to make<br/>\nchanges and see the consequences of those things. That way I am<br/>\naggressive and make changes without fear of unknowingly breaking some<br/>\npart of the system.<br/>\n<br/>\nIf I don&#39;t change the DBMS nor the operating environment, then the SQL<br/>\nstatements, once correct, cannot break. They become a &quot;golden master&quot;<br/>\nagainst which I can continue to compare as needed.<br/>\n<br/>\nBetter would be to have some in-memory SQL syntax/semantics checker<br/>\nthat worked against my database schema, simulated the statements and<br/>\nensured that they continue to make sense. Failing that, I choose to<br/>\naccept the risk that my SQL statements suddenly stop working, even if I<br/>\ndon&#39;t change them.<br/>\n<br/>\nBut like I said, if I move all the SQL statements into one place, I can<br/>\neasily write a simple test to verify those statements against the<br/>\ndatabase. I can run that test less frequently, thus avoiding the<br/>\noverhead of running them all the time.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Proving that the SQL code compares to some arbitrary string<br/>\n&gt;is not at all the same thing as saying that, when executed, it does<br/>\n </span></blockquote>the<br/>\n<blockquote><span title=\"ireply\"> &gt;right thing in the context of the application, and the surrounding<br/>\n </span></blockquote>Java<br/>\n<blockquote><span title=\"ireply\"> &gt;code that uses the result of that SQL statement does the right thing.<br/>\n<br/>\n </span></blockquote>But once I verify that the SQL statements are correct, if I don&#39;t<br/>\nchange them, they never stop working. (My assumptions are listed<br/>\nabove.)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;In other words, it sounds like you&#39;re not testing the entire<br/>\n </span></blockquote>application<br/>\n<blockquote><span title=\"ireply\"> &gt;at all. You&#39;re just hoping the SQL will work, rather than proving it<br/>\n </span></blockquote>by<br/>\n<blockquote><span title=\"ireply\"> &gt;actually executing it and verifying the results.<br/>\n<br/>\n </span></blockquote>No, I think I either misspoke or you misread. See the above.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;(And as I said, the tests do not take nearly as long as you&#39;ve<br/>\n&gt;suggested, if you set things up properly. There are lots of tricks,<br/>\n </span></blockquote>such<br/>\n<blockquote><span title=\"ireply\"> &gt;as using very small sets of sample data for the unit tests, that help<br/>\n&gt;keep things moving quickly.)<br/>\n<br/>\n </span></blockquote>I agree; however, now my tests depend on the database. I don&#39;t want my<br/>\nPTs to depend on such an expensive resource. My CTs or some mid-level<br/>\nintegration tests, perhaps; but not my PTs. That&#39;s not the role they<br/>\nplay.<br/>\n<br/>\nI hope that the above make my position clearer.<br/>\n<br/>\n<br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603<br/>\nAll correspondence (c) 2002 Diaspar Software Services.<br/>\nIf you want to use it, just ask; don&#39;t steal.</div>", 
    "prevInTime": 6917, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1044815868", 
    "canDelete": false, 
    "nextInTopic": 6923, 
    "prevInTopic": 6916, 
    "headers": {
        "inReplyToHeader": "PFBpbmUuTkVCLjQuNTEuMDMwMjA5MTc1NzM0MC41NzBAYW5nZWxpYy5jeW5pYy5uZXQ+", 
        "messageIdInHeader": "PDIwMDMwMjA5MTMzNzQ4MDE4NC4wOTQ1OTdGM0Bzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PEtJRUhJQklPQkFFTEpBSElQTkhEQ0VNTENPQUEuc2NvdHRzdGlybGluZ0ByY24uY29tPiA8UGluZS5ORUIuNC41MS4wMzAyMDYxNTQwMzUwLjczNTZAYW5nZWxpYy5jeW5pYy5uZXQ+IDwyMDAzMDIwNjA5MzA1MTA3NjkuMDA0NzM0MEJAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDxQaW5lLk5FQi40LjUxLjAzMDIwNzE0MjczNDAuMzY5QGFuZ2VsaWMuY3luaWMubmV0PiA8MjAwMzAyMDgxNTM3MTkwMzU0LjA0OENBODVBQHNzbXRwLmJsb29yLmlzLm5ldC5jYWJsZS5yb2dlcnMuY29tPiA8UGluZS5ORUIuNC41MS4wMzAyMDkxNzU3MzQwLjU3MEBhbmdlbGljLmN5bmljLm5ldD4="
    }
}