{
    "numMessagesInTopic": 9, 
    "nextInTime": 16941, 
    "senderId": "fKAIPrrr7zfsASDrR28BmU4FpmwqdJ0nMMMdKC9-0OpekqGMKC3PCixtVUCu5aGduwtpm_89WYCKEalxIWTNIm0MjVk1NjlpNxTf-JzKEQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Deep Equals of two JavaBeans", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Have you looked at commons-beanutils? They have a great thing called the BeanUtils class. It has this magical method describe() that returns a Map of", 
    "msgId": 16940, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nReceived: (qmail 33971 invoked from network); 16 Jun 2006 08:09:47 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m23.grp.scd.yahoo.com with QMQP; 16 Jun 2006 08:09:47 -0000\r\nReceived: from unknown (HELO n28b.bullet.scd.yahoo.com) (209.73.160.85)\n  by mta4.grp.scd.yahoo.com with SMTP; 16 Jun 2006 08:09:47 -0000\r\nReceived: from [66.218.69.2] by n28.bullet.scd.yahoo.com with NNFMP; 16 Jun 2006 08:09:40 -0000\r\nReceived: from [66.218.66.89] by t2.bullet.scd.yahoo.com with NNFMP; 16 Jun 2006 08:09:40 -0000\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 59425 invoked from network); 15 Jun 2006 17:51:00 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m27.grp.scd.yahoo.com with QMQP; 15 Jun 2006 17:51:00 -0000\r\nReceived: from unknown (HELO chilco.textdrive.com) (207.7.108.242)\n  by mta9.grp.scd.yahoo.com with SMTP; 15 Jun 2006 17:51:00 -0000\r\nReceived: from [192.168.1.111] (CPE000cf1c2033e-CM0012c9daf7de.cpe.net.cable.rogers.com [70.31.219.13])\n\tby chilco.textdrive.com (Postfix) with ESMTP id 05464DB99B\n\tfor &lt;junit@yahoogroups.com&gt;; Thu, 15 Jun 2006 17:50:05 +0000 (UTC)\r\nMessage-ID: &lt;44919DD4.20901@...&gt;\r\nDate: Thu, 15 Jun 2006 13:50:12 -0400\r\nUser-Agent: Thunderbird 1.5 (Macintosh/20051201)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;e6n1di+8a93@...&gt;\r\nIn-Reply-To: &lt;e6n1di+8a93@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:4:8:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Re: Deep Equals of two JavaBeans\r\nX-Yahoo-Group-Post: member; u=127224993; y=rXSFwqu-rmmDxlTIWhNN8TxMFhm46m8H-KMyZKnlu6pPyg4\r\nX-Yahoo-Profile: nails762\r\nX-Yahoo-Marked-Not-Spam: \r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 16 Jun 2006 08:09:38 -0000\r\n\r\nwheelerpoker wrote:\n\n&gt; Thanks Joe. I think it&#39;s wise to implement the equals method properly\n&gt; if that&#39;s what you&#39;re saying, but I am interested in externalizing a\n&gt; deep comparison to relieve myself of having to do property-by-property\n&gt; comparisons in unit tests--so far, mainly DbUnit tests. I&#39;m happy with\n&gt; what I&#39;ve got for the most part, I&#39;m just not completely satisfied\n&gt; with the error messages it generates on failure.\n\nHave you looked at commons-beanutils? They have a great thing called the \nBeanUtils class. It has this magical method describe() that returns a \nMap of property names to values, using the Java Bean naming conventions \nto determine properties.\n\nWith this, I can write standard Java Bean methods for equals(), \nhashCode() and toString() and not need to test them.\n\npublic boolean equals(Object other) {\n     return BeanUtils.describe(this).equals(BeanUtils.describe(other));\n}\n\npublic int hashCode() {\n     return BeanUtils.describe(this).hashCode();\n}\n\npublic String toString() {\n     return BeanUtils.describe(this).toString();\n}\n\nNow, the /bad/ news is that describe() throws a checked exception \n(naughty API), so I usually have to write a &quot;safe&quot; version of describe() \nthat isn&#39;t such a loudmouth.\n\npublic class Beans {\n     public static Map describeSafely(Object bean) {\n         try {\n             return BeanUtils.describe(bean);\n         }\n         catch (Exception wrapped) {\n             throw new RuntimeException(\n                 &quot;Unable to describe bean of type &quot; + bean.getClass(),\n                 wrapped);\n         }\n     }\n}\n\nNow I can do Bean.describeSafely(this) everywhere, but of course, that&#39;s \nduplication, so I usually end up with this:\n\npublic class Beans {\n     ...\n\n     public static boolean equals(Object lhs, Object rhs) {\n         return describeSafely(lhs).equals(describeSafely(rhs));\n     }\n\n     public static int hashCode(Object bean) {\n         return describeSafely(bean).hashCode();\n     }\n\n     public static String toString(Object bean) {\n         return describeSafely(bean).toString();\n     }\n}\n\nso each Java Bean has:\n\npublic boolean equals(Object other) {\n     return Beans.equals(this, other);\n}\n\npublic int hashCode() {\n     return Beans.hashCode(this);\n}\n\npublic String toString() {\n     return Beans.toString(this);\n}\n\n...which I then turn into a code template in Eclipse and never have to \nworry about getting wrong again.\n\nWould that help you?\n-- \nJ. B. (Joe) Rainsberger :: http://www.jbrains.info\nYour guide to software craftsmanship\nJUnit Recipes: Practical Methods for Programmer Testing\n2005 Gordon Pask Award for contribution Agile Software Practice\n\n\n\n", 
    "profile": "nails762", 
    "topicId": 16890, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 16939, 
    "contentTrasformed": false, 
    "postDate": "1150393812", 
    "canDelete": false, 
    "nextInTopic": 17007, 
    "prevInTopic": 16917, 
    "headers": {
        "inReplyToHeader": "PGU2bjFkaSs4YTkzQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQ0OTE5REQ0LjIwOTAxQHJvZ2Vycy5jb20+", 
        "referencesHeader": "PGU2bjFkaSs4YTkzQGVHcm91cHMuY29tPg=="
    }
}