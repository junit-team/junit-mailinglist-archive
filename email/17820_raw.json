{
    "numMessagesInTopic": 287, 
    "nextInTime": 17821, 
    "senderId": "Td_009XSPRGkfMt927C-QQnFcxSWqY1O-sSBcCd_4gxBDbDbQbgjDwg5hcK4z41f88gFtNhTcFU4b62tQ_-gTWxRC8KB74vkrZKtOLQ-84ZoGQ", 
    "systemMessage": true, 
    "subject": "Re: Test-friendly, but not caller-friendly?", 
    "from": "&quot;Dean Wampler&quot; &lt;dean@...&gt;", 
    "authorName": "Dean Wampler", 
    "msgSnippet": "I m the author of Contract4J. Here s my perspective. To be quite honest, I use TDD far more than DbC these days. They overlap enough in terms of what they do", 
    "msgId": 17820, 
    "rawEmail": "Return-Path: &lt;dean@...&gt;\r\nReceived: (qmail 45463 invoked from network); 6 Sep 2006 05:51:54 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m23.grp.scd.yahoo.com with QMQP; 6 Sep 2006 05:51:54 -0000\r\nReceived: from unknown (HELO n23c.bullet.sc5.yahoo.com) (66.163.187.214)\n  by mta10.grp.scd.yahoo.com with SMTP; 6 Sep 2006 05:51:54 -0000\r\nReceived: from [66.163.187.121] by n23.bullet.sc5.yahoo.com with NNFMP; 06 Sep 2006 05:51:49 -0000\r\nReceived: from [66.218.66.58] by t2.bullet.sc5.yahoo.com with NNFMP; 06 Sep 2006 05:51:49 -0000\r\nReceived: from [66.218.66.86] by t7.bullet.scd.yahoo.com with NNFMP; 06 Sep 2006 05:51:49 -0000\r\nX-Sender: dean@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 51246 invoked from network); 6 Sep 2006 03:13:59 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m24.grp.scd.yahoo.com with QMQP; 6 Sep 2006 03:13:59 -0000\r\nReceived: from unknown (HELO n17b.bullet.sc5.yahoo.com) (66.163.187.184)\n  by mta6.grp.scd.yahoo.com with SMTP; 6 Sep 2006 03:13:54 -0000\r\nReceived: from [66.163.187.121] by n17.bullet.sc5.yahoo.com with NNFMP; 06 Sep 2006 03:11:54 -0000\r\nReceived: from [66.218.69.6] by t2.bullet.sc5.yahoo.com with NNFMP; 06 Sep 2006 03:11:54 -0000\r\nReceived: from [66.218.66.92] by t6.bullet.scd.yahoo.com with NNFMP; 06 Sep 2006 03:11:54 -0000\r\nDate: Wed, 06 Sep 2006 03:11:52 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;edle9o+eeia@...&gt;\r\nIn-Reply-To: &lt;b86b6a9c0609041513w58d213b8ic6febac5cf319d1@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Dean Wampler&quot; &lt;dean@...&gt;\r\nSubject: Re: Test-friendly, but not caller-friendly?\r\nX-Yahoo-Group-Post: member; u=171044160; y=ihzEoKFXorrlCNifybnOCw0LDftdnql-qK0yRs6cNKZGoHAT068\r\nX-Yahoo-Profile: deanwampler\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via web; 06 Sep 2006 05:51:47 -0000\r\n\r\nI&#39;m the author of Contract4J. Here&#39;s my perspective.\n\nTo be quite honest, I=\r\n use TDD far more than DbC these days. They\noverlap enough in terms of what=\r\n they do and TDD has enough advantages\nthat I only use DbC when I&#39;m in a si=\r\ntuation where testing, and\nimplicitly defining the contract with automated =\r\ntests, is hard. The\nlast time this really happened was a few years ago whil=\r\ne working on an\nEJB v2 application. Before TDD, I used DbC and was very suc=\r\ncessful\nwith it. One thing I particularly like about DbC is that it explici=\r\ntly\nstates information that is more implicit, in unit tests, but which is\nn=\r\no less essetially to clients.\n\nThat EJB project was before I wrote Contract=\r\n4J, so why did I bother?\nWell, I know that many people still use DbC and As=\r\npectJ is a natural\nand powerful tool to implement it. (I may extend the fra=\r\nmework for\nother &quot;metaprogramming-like&quot; purposes later....) \n\nBut, is the c=\r\nontract a &quot;cross-cutting concern&quot;? Doesn&#39;t it have to be\nto use AspectJ?? D=\r\nbC is an interesting &quot;grey-area&quot; example. The\ncontract is most definitely a=\r\nn integral part of a component; how can\nyou use the component without under=\r\nstanding the requirements on inputs\nand expected outputs? However, you can =\r\nargue (perhaps weakly ;^) that\nhow you *exploit* the contract is the crossc=\r\nutting part. In the case\nof C4J, it&#39;s an *enforcement* tool. You could also=\r\n imagine other tools\nthat use the contract for other purposes, e.g., an IDE=\r\n that enhances\ncode completion with contract information. Okay, maybe this =\r\nargument\nis splitting hairs, but I&#39;m more interested in practicalities than=\r\n\ntheory anyway. So sue me. ;)\n\nHere&#39;s a funny thing about Cedric&#39;s comment =\r\nabout aspects only being\nuseful for reuse scenarios; the actual aspects in =\r\nC4J are very\ngeneric; all the unique contract stuff is in the user annotati=\r\nons. \n\nAmong its many limitations, most reflect limitations of Java itself.=\r\n\n(I prefer Ruby these days...) Cedric is correct about some of the\nlimitati=\r\nons; especially the fact that tests are written as strings and\naren&#39;t compi=\r\nled until runtime interpretation. I made that choice so I\ncould use annotat=\r\nions and I chose annotations to (i) separate out the\ncontract code from the=\r\n &quot;business logic&quot; and (ii) get the contract into\nthe method and class signa=\r\ntures that you would see in Javadoc output.\n\nBelieve me, it was a big desig=\r\nn pain doing runtime interpretation and\nthe majority of the Contract4J unit=\r\n tests (yes, it&#39;s tested with\njunit) have something or other to do with tes=\r\nting the expression\nevaluation.\n\nThe performance is also not great, as you =\r\nmight expect, but this is\nnot a serious issue most of the time, IMHO, as th=\r\ne contracts are\nusually only enabled during the testing process.\n\nFinally, =\r\nif you really have a huge contract expression, I suspect you\nneed to refact=\r\nor an overly-complicated class or method. If not, then\ngo ahead and write a=\r\nn &quot;isValid()&quot; method as regular Java and call it\nin the contract.\n\ndean\n \n\n=\r\n--- In junit@yahoogroups.com, &quot;C=C3=A9dric Beust =E2=99&quot; &quot; &lt;cbeust@...&gt; wro=\r\nte:\n&gt;\n&gt; One more thought:  I don&#39;t think AOP is the right tool for this job=\r\n.\n&gt; \n&gt; AOP helps you when the same concerns are crosscutting your code and\n=\r\ncan be\n&gt; factored out.  In the case of pre/postconditions or invariants, ea=\r\nch of\n&gt; these will be fairly unique to the method they apply to, so there i=\r\ns\nlittle\n&gt; reuse going on, and therefore, little point in capturing them in=\r\n aspects\n&gt; (which this tool doesn&#39;t seem to do, by the way, since they are\n=\r\ncaptured in\n&gt; a string).\n&gt; \n&gt; -- \n&gt; Cedric\n&gt; \n&gt; \n&gt; On 9/4/06, C=C3=A9dric B=\r\neust =E2=99&quot; &lt;cbeust@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On 9/4/06, Ray V &lt;ttftestr=\r\nayv@...&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; I wonder what you guys think of Contract4J:\n&gt; &gt;=\r\n &gt;\nhttp://www.contract4j.org/contract4j&lt;http://www.google.com/url?sa=3DD&q=\r\n=3Dhttp%3A%2F%2Fwww.contract4j.org%2Fcontract4j&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; It combines an=\r\n annotation based design by contract\n&gt; &gt; &gt; approach with the &quot;fail fast&quot; ph=\r\nilosophy, and can be\n&gt; &gt; &gt; turned off (like assertions) when it&#39;s time to d=\r\neploy.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; It seems very complimentary to unit testing, and w=\r\nould\n&gt; &gt; &gt; help in doing less defensive programming.  I&#39;ve been\n&gt; &gt; &gt; curio=\r\nus about this tool for a while, but have yet to\n&gt; &gt; &gt; use it myself on a re=\r\nal project.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Based on the example on the Web site, it seems to m=\r\ne it&#39;s the\nwrong way to\n&gt; &gt; solve the problem.\n&gt; &gt;\n&gt; &gt; The example is basic=\r\nally moving asserts inside the method into a\nstring\n&gt; &gt; inside an annotatio=\r\nn.  By doing that, you lose type checking, you\nlose IDE\n&gt; &gt; assistance, you=\r\n lose highlighting and you lose refactoring\ncapabilities.\n&gt; &gt;\n&gt; &gt; I also wo=\r\nnder how well it scales when your preconditions or\npostconditions\n&gt; &gt; need =\r\nto span ten lines, or when you want to intersperse them\nin-between\n&gt; &gt; seve=\r\nral lines inside your method.\n&gt; &gt;\n&gt; &gt; These reasons are exactly why I think=\r\n Design by Contract simply\ndoesn&#39;t\n&gt; &gt; work:  either your DBC tests are sma=\r\nll enough to fit in one-line\nassertions\n&gt; &gt; (which can be optimized away by=\r\n the compiler) or they are fairly\ncomplex and\n&gt; &gt; better captured in tests.=\r\n\n&gt; &gt;\n&gt; &gt; --\n&gt; &gt; C=C3=A9dric\n&gt; &gt;\nhttp://testng.org&lt;http://www.google.com/url=\r\n?sa=3DD&q=3Dhttp%3A%2F%2Ftestng.org&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; \n&gt; \n&gt; -- \n&gt; C=C3=A9dric\n&gt; \n&gt;=\r\n \n&gt; [Non-text portions of this message have been removed]\n&gt;\n\n\n\n\n\n\n\n\n\n", 
    "profile": "deanwampler", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 171044160, 
    "prevInTime": 17819, 
    "contentTrasformed": false, 
    "postDate": "1157512312", 
    "canDelete": false, 
    "nextInTopic": 17821, 
    "prevInTopic": 17819, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDYwOTA0MTUxM3c1OGQyMTNiOGljNmZlYmFjNWNmMzE5ZDFAbWFpbC5nb29nbGUuY29tPg==", 
        "messageIdInHeader": "PGVkbGU5bytlZWlhQGVHcm91cHMuY29tPg=="
    }
}