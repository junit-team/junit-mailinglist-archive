{
    "numMessagesInTopic": 12, 
    "nextInTime": 22385, 
    "senderId": "yMUTYLX1Jo2KtSmeNEOOjsueZ1nAggM75OJNcTX-_cZfj3mjYlgKL0qOe_g7d8Epph3QWoXG9ERjdRvQZGOlXYskf2mcHTUTtzo", 
    "systemMessage": false, 
    "subject": "Re: Theories Usability", 
    "from": "&quot;Berin&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Berin", 
    "msgSnippet": "I dug out my work laptop.  Attached is the stacktrace provided by Eclipse: org.junit.experimental.theories.internal.ParameterizedAssertionError:", 
    "msgId": 22384, 
    "rawEmail": "Return-Path: &lt;berin.loritsch@...&gt;\r\nX-Sender: berin.loritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 12166 invoked from network); 8 Feb 2010 21:12:45 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m13.grp.re1.yahoo.com with QMQP; 8 Feb 2010 21:12:45 -0000\r\nX-Received: from unknown (HELO n5-vm6.bullet.mail.sp2.yahoo.com) (67.195.135.101)\n  by mta1.grp.sp2.yahoo.com with SMTP; 8 Feb 2010 21:12:45 -0000\r\nX-Received: from [67.195.134.49] by n5.bullet.mail.sp2.yahoo.com with NNFMP; 08 Feb 2010 21:10:17 -0000\r\nX-Received: from [69.147.65.149] by t2.bullet.mail.sp2.yahoo.com with NNFMP; 08 Feb 2010 21:10:17 -0000\r\nX-Received: from [98.137.34.36] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 08 Feb 2010 21:10:17 -0000\r\nDate: Mon, 08 Feb 2010 21:10:17 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hkpujp+bjqa@...&gt;\r\nIn-Reply-To: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C772@...-ais.com&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Berin&quot; &lt;berin.loritsch@...&gt;\r\nSubject: Re: Theories Usability\r\nX-Yahoo-Group-Post: member; u=428096731; y=t74lNcsq591l2n5reRwWOI__iP9342kStWZjUjxLxZASaOm-\r\nX-Yahoo-Profile: bloritsch\r\n\r\nI dug out my work laptop.  Attached is the stacktrace provided by Eclipse:\n=\r\n\n\norg.junit.experimental.theories.internal.ParameterizedAssertionError: exa=\r\nmineClass(collectEntityAttributes[15])\n\tat org.junit.experimental.theories.=\r\nTheories$TheoryAnchor.reportParameterizedError(Theories.java:176)\n\tat org.j=\r\nunit.experimental.theories.Theories$TheoryAnchor$1$1.evaluate(Theories.java=\r\n:131)\n\tat org.junit.experimental.theories.Theories$TheoryAnchor.runWithComp=\r\nleteAssignment(Theories.java:112)\n\tat org.junit.experimental.theories.Theor=\r\nies$TheoryAnchor.runWithAssignment(Theories.java:96)\n\tat org.junit.experime=\r\nntal.theories.Theories$TheoryAnchor.runWithIncompleteAssignment(Theories.ja=\r\nva:105)\n\tat org.junit.experimental.theories.Theories$TheoryAnchor.runWithAs=\r\nsignment(Theories.java:94)\n\tat org.junit.experimental.theories.Theories$The=\r\noryAnchor.evaluate(Theories.java:82)\n\tat org.junit.runners.BlockJUnit4Class=\r\nRunner.runChild(BlockJUnit4ClassRunner.java:76)\n\tat org.junit.runners.Block=\r\nJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.ru=\r\nnners.ParentRunner$3.run(ParentRunner.java:193)\n\tat org.junit.runners.Paren=\r\ntRunner$1.schedule(ParentRunner.java:52)\n\tat org.junit.runners.ParentRunner=\r\n.runChildren(ParentRunner.java:191)\n\tat org.junit.runners.ParentRunner.acce=\r\nss$000(ParentRunner.java:42)\n\tat org.junit.runners.ParentRunner$2.evaluate(=\r\nParentRunner.java:184)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.=\r\njava:236)\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.ru=\r\nn(JUnit4TestReference.java:45)\n\tat org.eclipse.jdt.internal.junit.runner.Te=\r\nstExecution.run(TestExecution.java:38)\n\tat org.eclipse.jdt.internal.junit.r=\r\nunner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)\n\tat org.eclipse.=\r\njdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:6=\r\n73)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTe=\r\nstRunner.java:386)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunn=\r\ner.main(RemoteTestRunner.java:196)\nCaused by: java.lang.AssertionError: exp=\r\nected:&lt;Hello String:null&gt; but was:&lt;null&gt;\n\tat org.junit.Assert.fail(Assert.j=\r\nava:91)\n\tat org.junit.Assert.failNotEquals(Assert.java:645)\n\tat org.junit.A=\r\nssert.assertEquals(Assert.java:126)\n\tat org.junit.Assert.assertEquals(Asser=\r\nt.java:145)\n\tat com.gdais.incident.model.TestTrackableContracts.examineClas=\r\ns(TestTrackableContracts.java:53)\n\tat sun.reflect.NativeMethodAccessorImpl.=\r\ninvoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Nati=\r\nveMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.=\r\ninvoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.i=\r\nnvoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runRef=\r\nlectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.R=\r\neflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.mod=\r\nel.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit=\r\n.experimental.theories.Theories$TheoryAnchor$2.evaluate(Theories.java:160)\n=\r\n\tat org.junit.experimental.theories.Theories$TheoryAnchor$1$1.evaluate(Theo=\r\nries.java:126)\n\t... 19 more\n\n\n\n--- In junit@yahoogroups.com, &quot;Loritsch, Ber=\r\nin C.&quot; &lt;berin.loritsch@...&gt; wrote:\n&gt;\n&gt; It&#39;ll take some time, but I can get =\r\nit for you (I&#39;m snowed in and the environment is on my work computer).\n&gt; \n&gt;=\r\n \n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com on behalf of D=\r\navid Saff\n&gt; Sent: Mon 2/8/2010 1:01 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subjec=\r\nt: Re: [junit] Theories Usability\n&gt;  \n&gt; Berin,\n&gt; \n&gt; Do you have a stack tra=\r\nce you could share?  That would be really helpful.\n&gt; \n&gt;    David\n&gt; \n&gt; On Mo=\r\nn, Feb 8, 2010 at 12:35 PM, Loritsch, Berin C.\n&gt; &lt;berin.loritsch@...&gt; wrote=\r\n:\n&gt; &gt;\n&gt; &gt; I have JUnit 4.7 which is the most recent available from Maven. =\r\n=A0The parameters that caused the failure were not easily detectable from t=\r\nhe stack trace.\n&gt; &gt;\n&gt; &gt; I&#39;ve added a feature request, that would at least a=\r\nllow a theory to be declared to be run as discrete. =A0AKA:\n&gt; &gt;\n&gt; &gt; @Theory=\r\n(runAsDiscrete=3Dtrue)\n&gt; &gt;\n&gt; &gt; which would generate a new &quot;test&quot; for each c=\r\nombination of parameters. =A0The name of the test would include the paramet=\r\ners (using the toString method on the parameters of course). =A0It may gene=\r\nrate 100+ test names, depending on the number of data points and the combin=\r\nations, but that works better for me than one name and one failure at a tim=\r\ne.\n&gt; &gt;\n&gt; &gt; -----Original Message-----\n&gt; &gt; From: junit@yahoogroups.com on be=\r\nhalf of David Saff\n&gt; &gt; Sent: Mon 2/8/2010 11:13 AM\n&gt; &gt; To: junit@yahoogroup=\r\ns.com\n&gt; &gt; Subject: Re: [junit] Theories Usability\n&gt; &gt;\n&gt; &gt; Berin,\n&gt; &gt;\n&gt; &gt; I =\r\nwouldn&#39;t use Rules, either.\n&gt; &gt;\n&gt; &gt; One failure per method is currently bak=\r\ned into the architecture of the\n&gt; &gt; Theories runner--I&#39;d welcome a feature =\r\nrequest for the right way to\n&gt; &gt; make that better.\n&gt; &gt;\n&gt; &gt; In terms of know=\r\ning what failed, the Theories runner should show in\n&gt; &gt; the stack trace the=\r\n parameters that triggered the failure. =A0Is that\n&gt; &gt; not happening?\n&gt; &gt;\n&gt;=\r\n &gt; =A0 David\n&gt; &gt;\n&gt; &gt; On Mon, Feb 8, 2010 at 9:24 AM, Loritsch, Berin C.\n&gt; &gt;=\r\n &lt;berin.loritsch@...&gt; wrote:\n&gt; &gt;&gt; I haven&#39;t logged the feature request, mai=\r\nnly because I might not be using the right tool for the job. =A0What I woul=\r\nd like to see is what I described.\n&gt; &gt;&gt;\n&gt; &gt;&gt; With JUnit 3, I adopted the te=\r\nst nomenclature of something on the order of:\n&gt; &gt;&gt;\n&gt; &gt;&gt; testMyMethod_withNu=\r\nllParam1()\n&gt; &gt;&gt; testMyMethod_withXandYparams()\n&gt; &gt;&gt;\n&gt; &gt;&gt; etc.\n&gt; &gt;&gt;\n&gt; &gt;&gt; tha=\r\nt would let me see within the test report (particularly a continuous integr=\r\nation test report) what exactly failed. =A0If the null parameter failed its=\r\n check I&#39;d have to fix one thing (boundary checking), but if the XandYparam=\r\ns version failed then I knew something may be wrong with the algorithm.\n&gt; &gt;=\r\n&gt;\n&gt; &gt;&gt; With the particular Theory I&#39;ve written I need to know not only the =\r\nclass that was tested, but the attribute that did not follow the contracts =\r\nfor using the base class. =A0With only one failure that can&#39;t happen.\n&gt; &gt;&gt;\n=\r\n&gt; &gt;&gt; I didn&#39;t think Rules was the right way to go, because the MethodRule o=\r\nbjects were applied to the tests within that same class (unless I&#39;m missing=\r\n something).\n&gt; &gt;&gt;\n&gt; &gt;&gt; Theories at least gives me the coverage and assuranc=\r\ne I&#39;m after, but I&#39;d like to get away from writing to System.out to figure =\r\nout exactly what failed. =A0I would also like to be able to see all my fail=\r\nures at once instead of only after fixing the last failure.\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; =\r\n-----Original Message-----\n&gt; &gt;&gt; From: junit@yahoogroups.com on behalf of Da=\r\nvid Saff\n&gt; &gt;&gt; Sent: Sun 2/7/2010 9:48 PM\n&gt; &gt;&gt; To: junit@yahoogroups.com\n&gt; &gt;=\r\n&gt; Subject: Re: [junit] Theories Usability\n&gt; &gt;&gt;\n&gt; &gt;&gt; Berin,\n&gt; &gt;&gt;\n&gt; &gt;&gt; I do t=\r\nhink that we should eventually have a way to operate at least\n&gt; &gt;&gt; optional=\r\nly in the way you describe. =A0Have you logged a feature request\n&gt; &gt;&gt; yet?\n=\r\n&gt; &gt;&gt;\n&gt; &gt;&gt; =A0 Davi\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Fri, Feb 5, 2010 at 3:27 PM, Loritsch, Beri=\r\nn C.\n&gt; &gt;&gt; &lt;berin.loritsch@...&gt; wrote:\n&gt; &gt;&gt;&gt; Thanks everyone for helping me =\r\nwork through the testing challenge I wanted to address. =A0I&#39;ve written a r=\r\nudimentary ClassCollector that lets me specify a base package, what base cl=\r\nasses I need, any annotations I need applied, etc. =A0I supplimented that w=\r\nith a BeanAttributes class that will collect all the attributes (setters/ge=\r\ntters) on the class. =A0It&#39;s working very well. =A0Unfortunately, there are=\r\n a few shortcomings with this approach:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; 1. I cannot easily dete=\r\nrmine what the actual data point combination was that caused the failure. =\r\n=A0I have to write those values out to System.out because the test failure =\r\ndoes not do that for me.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; 2. It stops on the very first failure,=\r\n hiding many more failures that may still be lurking beneath the service.\n&gt;=\r\n &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; 3. The theory is the only line shown in the test report, so ther=\r\ne is no way to differentiate runs which would handle the above concerns.\n&gt; =\r\n&gt;&gt;&gt;\n&gt; &gt;&gt;&gt; What I would really like to see is that a new test name for each =\r\ncombination of data points. =A0For example if you had a @Theory named &quot;chec=\r\nkAddWorks&quot; that took two parameters and the data points [1,2] then I&#39;d like=\r\n to see a set of test names that look like this in the test report:\n&gt; &gt;&gt;&gt;\n&gt;=\r\n &gt;&gt;&gt; checkAddWorks(1,1)\n&gt; &gt;&gt;&gt; checkAddWorks(1,2)\n&gt; &gt;&gt;&gt; checkAddWorks(2,2)\n&gt;=\r\n &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; That will address all of the shortcomings I identified.\n&gt; &gt;&gt;&gt;\n&gt; =\r\n&gt;&gt;&gt; My code looks like this:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; @RunWith(Theories.class)\n&gt; &gt;&gt;&gt; cla=\r\nss TestMyTrackableContract {\n&gt; &gt;&gt;&gt; =A0 =A0@DataPoints\n&gt; &gt;&gt;&gt; =A0 =A0BeanAttr=\r\nibute[] collectAllAttributesToTest() {\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0ClassCollector =\r\ncollector =3D new ClassCollector();\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0collector.within(&quot;=\r\ncom.mycompany.incident.model&quot;).assignableTo(Trackable.class);\n&gt; &gt;&gt;&gt; =A0 =A0=\r\n =A0 =A0Collection&lt;Class&lt;?&gt;&gt; matchedClasses =3D collector.recurse().collect=\r\n();\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0List&lt;BeanAttribute&gt; attributes =3D new Array=\r\nList&lt;BeanAttribute&gt;();\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0for (Class&lt;?&gt; trackable :=\r\n matchedClasses) {\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0attributes.addAll(BeanAttri=\r\nbute.collectFrom(trackable));\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0}\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0 =\r\n=A0 =A0return attributes.toArray(new BeanAttribute[attributes.size()]);\n&gt; &gt;=\r\n&gt;&gt; =A0 =A0}\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0@Theory\n&gt; &gt;&gt;&gt; =A0 =A0public void checkSideEf=\r\nfectsOnAssign() throws Exception {\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0// This is designed=\r\n to ensure that setters/getters work in concert\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0// and=\r\n that setters set the appropriate message is sent\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0if (=\r\n ! beanAttribute.hasSetter() || ! beanAttribute.hasGetter() ) return;\n&gt; &gt;&gt;&gt;=\r\n =A0 =A0 =A0 =A0beanAttribute.assertBalanced();\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0=\r\nTrackable entity =3D beanAttribute.getEntityAs(Trackable.class);\n&gt; &gt;&gt;&gt; =A0 =\r\n=A0 =A0 =A0// Unfortunately needed to determine when things go bad\n&gt; &gt;&gt;&gt; =\r\n=A0 =A0 =A0 =A0System.out.format(&quot;Testing %s&#92;n&quot;, beanAttribute);\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;=\r\n&gt; =A0 =A0 =A0 =A0Object original =3D beanAttribute.getValue();\n&gt; &gt;&gt;&gt; =A0 =\r\n=A0 =A0 =A0Object testValue =3D beanAttribute.generateTestValue(original);\n=\r\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0// Ensure the setter works as expected\n&gt; &gt;&gt;&gt; =A0=\r\n =A0 =A0 =A0beanAttribute.setValue(testValue);\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0assertE=\r\nquals(testValue, beanAttribute.getValue());\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0// E=\r\nnsure properties are set and events were properly\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0Prop=\r\nerties changes =3D entity.getChanges();\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0assertEquals( =\r\nString.valueOf(testValue),\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty=\r\n(beanAttribute.getAttribute()));\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0assertEquals( String.=\r\nvalueOf(original),\n&gt; &gt;&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty(beanAtt=\r\nribute.getAttribute() + &quot;.old&quot;));\n&gt; &gt;&gt;&gt; =A0 =A0}\n&gt; &gt;&gt;&gt; }\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; =\r\n[Non-text portions of this message have been removed]\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;=\r\n&gt;&gt; ------------------------------------\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt;=\r\n&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; [Non-text portions of this message=\r\n have been removed]\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; -----------------------------------=\r\n-\n&gt; &gt;&gt;\n&gt; &gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-te=\r\nxt portions of this message have been removed]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------=\r\n------------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; \n&gt; \n=\r\n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "prevInTime": 22383, 
    "contentTrasformed": false, 
    "postDate": "1265663417", 
    "canDelete": false, 
    "nextInTopic": 22385, 
    "prevInTopic": 22383, 
    "headers": {
        "inReplyToHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NzJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "messageIdInHeader": "PGhrcHVqcCtianFhQGVHcm91cHMuY29tPg=="
    }
}