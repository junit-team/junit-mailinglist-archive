{
    "numMessagesInTopic": 5, 
    "nextInTime": 19591, 
    "senderId": "QAnzD6ONH9n9734fVBdDV1r9tUmVHWNSC5es7K48OFVn4fy_CQLfdX9G9pb3tXMk7Z87HNEEuni4vk0tW6d2plOz", 
    "systemMessage": false, 
    "subject": "JUnit 4.4 released", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "All, We re very pleased to announce the release of JUnit 4.4.  This release is the biggest since JUnit 4.0.  More information below (taken from the release", 
    "msgId": 19590, 
    "profile": "dsaff", 
    "topicId": 19590, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-999075685\">All,<br/>\n<br/>\nWe&#39;re very pleased to announce the release of JUnit 4.4.  This release<br/>\nis the biggest since JUnit 4.0.  More information below (taken from<br/>\nthe release notes).  To download, please go to<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/project/showfiles.php?group_id=15278&package_id=12472&release_id=524119\">http://sourceforge.net/project/showfiles.php?group_id=15278&package_id=12472&release_id=524119</a><br/>\n<br/>\nThanks to all of the bug reports, feature requests, and good<br/>\nconversation so far.  We hope this release will provoke more of the<br/>\nsame.<br/>\n<br/>\n   David Saff and Kent Beck<br/>\n<br/>\n## Summary of Changes in version 4.4 ##<br/>\n<br/>\nJUnit is designed to efficiently capture developers&#39; intentions about<br/>\ntheir code, and quickly check their code matches those intentions.<br/>\nOver the last year, we&#39;ve been talking about what things developers<br/>\nwould like to say about their code that have been difficult in the<br/>\npast, and how we can make them easier.<br/>\n<br/>\n### assertThat ###<br/>\n<br/>\nTwo years ago, Joe Walnes built a [new assertion mechanism][walnes] on<br/>\ntop of what was<br/>\nthen [JMock 1][].  The method name was `assertThat`, and the syntax<br/>\nlooked like this:<br/>\n<br/>\n[walnes]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://joe.truemesh.com/blog/000511.html\">http://joe.truemesh.com/blog/000511.html</a><br/>\n[JMock 1]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jmock.org/download.html\">http://www.jmock.org/download.html</a><br/>\n<br/>\n    assertThat(x, is(3));<br/>\n    assertThat(x, is(not(4)));<br/>\n    assertThat(responseString,<br/>\neither(containsString(&quot;color&quot;)).or(containsString(&quot;colour&quot;)));<br/>\n    assertThat(myList, hasItem(&quot;3&quot;));<br/>\n<br/>\nMore generally:<br/>\n<br/>\n    assertThat([value], [matcher statement]);<br/>\n<br/>\nAdvantages of this assertion syntax include:<br/>\n<br/>\n- More readable and typeable: this syntax allows you to think in terms<br/>\nof subject, verb, object<br/>\n  (assert &quot;x is 3&quot;) rather than `assertEquals`, which uses verb,<br/>\nobject, subject (assert &quot;equals 3 x&quot;)<br/>\n<br/>\n- Combinations: any matcher statement `s` can be negated (`not(s)`),<br/>\ncombined (`either(s).or(t)`),<br/>\n  mapped to a collection (`each(s)`), or used in custom combinations<br/>\n(`afterFiveSeconds(s)`)<br/>\n<br/>\n- Readable failure messages.  Compare<br/>\n<br/>\n        assertTrue(responseString.contains(&quot;color&quot;) ||<br/>\nresponseString.contains(&quot;colour&quot;));<br/>\n        // ==&gt; failure message:<br/>\n        // java.lang.AssertionError:<br/>\n<br/>\n        assertThat(responseString, anyOf(containsString(&quot;color&quot;),<br/>\ncontainsString(&quot;colour&quot;)));<br/>\n        // ==&gt; failure message:<br/>\n        // java.lang.AssertionError:<br/>\n        // Expected: (a string containing &quot;color&quot; or a string<br/>\ncontaining &quot;colour&quot;)<br/>\n        //      got: &quot;Please choose a font&quot;<br/>\n<br/>\n- Custom Matchers.  By implementing the `Matcher` interface yourself,<br/>\nyou can get all of the<br/>\n  above benefits for your own custom assertions.<br/>\n<br/>\n- For a more thorough description of these points, see [Joe Walnes&#39;s<br/>\n  original post][walnes].<br/>\n<br/>\nWe have decided to include this API directly in JUnit.<br/>\nIt&#39;s an extensible and readable syntax, and it enables<br/>\nnew features, like [assumptions][] and [theories][].<br/>\n<br/>\n[assumptions]: #assumptions<br/>\n[theories]: #theories<br/>\n<br/>\nSome notes:<br/>\n<br/>\n- The old assert methods are never, ever, going away.  Developers may<br/>\n  continue using the old `assertEquals`, `assertTrue`, and so on.<br/>\n- The second parameter of an `assertThat` statement is a `Matcher`.<br/>\n  We include the Matchers we want as static imports, like this:<br/>\n<br/>\n        import static org.hamcrest.CoreMatchers.is;<br/>\n<br/>\n  or:<br/>\n<br/>\n        import static org.hamcrest.CoreMatchers.*;<br/>\n<br/>\n- Manually importing `Matcher` methods can be frustrating.  [Eclipse<br/>\n3.3][] includes the ability to<br/>\n  define<br/>\n  &quot;Favorite&quot; classes to import static methods from, which makes it easier<br/>\n  (Search for &quot;Favorites&quot; in the Preferences dialog).<br/>\n  We expect that support for static imports will improve in all Java<br/>\nIDEs in the future.<br/>\n<br/>\n[Eclipse 3.3]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.eclipse.org/downloads/\">http://www.eclipse.org/downloads/</a><br/>\n<br/>\n- To allow compatibility with a wide variety of possible matchers,<br/>\n  we have decided to include the classes from hamcrest-core,<br/>\n  from the [Hamcrest][] project.  This is the first time that<br/>\n  third-party classes have been included in JUnit.<br/>\n<br/>\n[Hamcrest]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/hamcrest/\">http://code.google.com/p/hamcrest/</a><br/>\n<br/>\n- JUnit currently ships with a few matchers, defined in<br/>\n  `org.hamcrest.CoreMatchers` and `org.junit.matchers.JUnitMatchers`.<br/>\n  To use many, many more, consider downloading the [full hamcrest package][].<br/>\n<br/>\n[full hamcrest package]:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://hamcrest.googlecode.com/files/hamcrest-all-1.1.jar\">http://hamcrest.googlecode.com/files/hamcrest-all-1.1.jar</a><br/>\n<br/>\n- JUnit contains special support for comparing string and array<br/>\n  values, giving specific information on how they differ.  This is not<br/>\n  yet available using the `assertThat` syntax, but we hope to bring<br/>\n  the two assert methods into closer alignment in future releases.<br/>\n<br/>\n&lt;a name=&quot;assumptions&quot; /&gt;<br/>\n### Assumptions ###<br/>\n<br/>\nIdeally, the developer writing a test has control of all of the forces<br/>\nthat might cause a test to fail.<br/>\nIf this isn&#39;t immediately possible, making dependencies explicit can<br/>\noften improve a design.<br/>\nFor example, if a test fails when run in a different locale than the<br/>\ndeveloper intended,<br/>\nit can be fixed by explicitly passing a locale to the domain code.<br/>\n<br/>\nHowever, sometimes this is not desirable or possible.<br/>\nIt&#39;s good to be able to run a test against the code as it is currently written,<br/>\nimplicit assumptions and all, or to write a test that exposes a known bug.<br/>\nFor these situations, JUnit now includes the ability to express &quot;assumptions&quot;:<br/>\n<br/>\n    import static org.junit.Assume.*<br/>\n<br/>\n    @Test public void filenameIncludesUsername() {<br/>\n       assumeThat(File.separatorChar, is(&#39;/&#39;));<br/>\n       assertThat(new User(&quot;optimus&quot;).configFileName(),<br/>\nis(&quot;configfiles/optimus.cfg&quot;));<br/>\n    }<br/>\n<br/>\n    @Test public void correctBehaviorWhenFilenameIsNull() {<br/>\n       assumeTrue(bugFixed(&quot;13356&quot;));  // bugFixed is not included in JUnit<br/>\n       assertThat(parse(null), is(new NullDocument()));<br/>\n    }<br/>\n<br/>\nWith this release, a failed assumption will lead to the test being<br/>\nmarked as passing,<br/>\nregardless of what the code below the assumption may assert.<br/>\nIn the future, this may change, and a failed assumption may lead to<br/>\nthe test being ignored:<br/>\nhowever, third-party runners do not currently allow this option.<br/>\n<br/>\nWe have included `assumeTrue` for convenience, but thanks to the<br/>\ninclusion of Hamcrest, we do not need to create `assumeEquals`,<br/>\n`assumeSame`, and other analogues to the `assert*` methods.  All of<br/>\nthose functionalities are subsumed in `assumeThat`, with the appropriate<br/>\nmatcher.<br/>\n<br/>\n&lt;a name=&quot;theories&quot; /&gt;<br/>\n### Theories ###<br/>\n<br/>\nMore flexible and expressive assertions, combined with the ability to<br/>\nstate assumptions clearly, lead to a new kind of statement of intent,<br/>\nwhich we call a &quot;Theory&quot;.  A test captures the intended behavior in<br/>\none particular scenario.  A theory captures some aspect of the<br/>\nintended behavior in possibly<br/>\ninfinite numbers of potential scenarios.  For example:<br/>\n<br/>\n    @RunWith(Theories.class)<br/>\n    public class UserTest {<br/>\n      @DataPoint public static String GOOD_USERNAME = &quot;optimus&quot;;<br/>\n      @DataPoint public static String USERNAME_WITH_SLASH = &quot;optimus/prime&quot;;<br/>\n<br/>\n      @Theory public void filenameIncludesUsername(String username) {<br/>\n        assumeThat(username, not(containsString(&quot;/&quot;)));<br/>\n        assertThat(new User(username).configFileName(),<br/>\ncontainsString(username));<br/>\n      }<br/>\n    }<br/>\n<br/>\nThis makes it clear that the user&#39;s filename should be included in the<br/>\nconfig file name, only if it doesn&#39;t contain a slash.  Another test<br/>\nor theory might define what happens when a username does contain a slash.<br/>\n<br/>\n`UserTest` will attempt to run `filenameIncludesUsername` on<br/>\nevery compatible `DataPoint` defined in the class.  If any of the<br/>\nassumptions fail, the data point is silently ignored.  If all of the<br/>\nassumptions pass, but an assertion fails, the test fails.<br/>\n<br/>\nThe support for Theories has been absorbed from the [Popper][]<br/>\nproject, and [more complete documentation][popper-docs] can be found<br/>\nthere.<br/>\n<br/>\n[Popper]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://popper.tigris.org\">http://popper.tigris.org</a><br/>\n[popper-docs]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://popper.tigris.org/tutorial.html\">http://popper.tigris.org/tutorial.html</a><br/>\n<br/>\nDefining general statements in this way can jog the developer&#39;s memory<br/>\nabout other potential data points and tests, also allows [automated<br/>\ntools][junit-factory] to [search][my-blog] for new, unexpected data<br/>\npoints that expose bugs.<br/>\n<br/>\n[junit-factory]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.junitfactory.org\">http://www.junitfactory.org</a><br/>\n[my-blog]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://shareandenjoy.saff.net/2007/04/popper-and-junitfactory.html\">http://shareandenjoy.saff.net/2007/04/popper-and-junitfactory.html</a><br/>\n<br/>\n### Other changes ###<br/>\n<br/>\nThis release contains other bug fixes and new features.  Among them:<br/>\n<br/>\n- Annotated descriptions<br/>\n<br/>\n  Runner UIs, Filters, and Sorters operate on Descriptions of test<br/>\n  methods and test classes.  These Descriptions now include the<br/>\n  annotations on the original Java source element, allowing for richer<br/>\n  display of test results, and easier development of annotation-based<br/>\n  filters.<br/>\n<br/>\n- Bug fix (1715326): assertEquals now compares all Numbers using their<br/>\n  native implementation of `equals`.  This assertion, which passed in<br/>\n  4.3, will now fail:<br/>\n<br/>\n        assertEquals(new Integer(1), new Long(1));<br/>\n<br/>\n  Non-integer Numbers (Floats, Doubles, BigDecimals, etc),<br/>\n  which were compared incorrectly in 4.3, are now fixed.<br/>\n<br/>\n- `assertEquals(long, long)` and `assertEquals(double, double)` have<br/>\n  been re-introduced to the `Assert` class, to take advantage of<br/>\n  Java&#39;s native widening conversions.  Therefore, this still passes:<br/>\n<br/>\n        assertEquals(1, 1L);<br/>\n<br/>\n- The default runner for JUnit 4 test classes has been refactored.<br/>\n  The old version was named `TestClassRunner`, and the new is named<br/>\n  `JUnit4ClassRunner`.  Likewise, `OldTestClassRunner` is now<br/>\n  `JUnit3ClassRunner`.  The new design allows variations in running<br/>\n  individual test classes to be expressed with fewer custom classes.<br/>\n  For a good example, see the source to<br/>\n  `org.junit.experimental.theories.runner.api.Theories`.<br/>\n<br/>\n- The rules for determining which runner is applied by default to a<br/>\n  test class have been simplified:<br/>\n<br/>\n  1. If the class has a `@RunWith` annotation, the annotated runner<br/>\n     class is used.<br/>\n<br/>\n  2. If the class can be run with the JUnit 3 test runner (it<br/>\n     subclasses `TestCase`, or contains a `public static Test suite()`<br/>\n     method), JUnit38ClassRunner is used.<br/>\n<br/>\n  3. Otherwise, JUnit4ClassRunner is used.<br/>\n<br/>\n  This default guess can always be overridden by an explicit<br/>\n  `@RunWith(JUnit4ClassRunner.class)` or<br/>\n  `@RunWith(JUnit38ClassRunner.class)` annotation.<br/>\n<br/>\n  The old class names `TestClassRunner` and `OldTestClassRunner`<br/>\n  remain as deprecated.<br/>\n<br/>\n- Bug fix (1739095): Filters and Sorters work correctly on test<br/>\n  classes that contain a `suite` method like:<br/>\n<br/>\n        public static junit.framework.Test suite() {<br/>\n          return new JUnit4TestAdapter(MyTest.class);<br/>\n        }<br/>\n<br/>\n- Bug fix (1745048): @After methods are now correctly called<br/>\n  after a test method times out.</div>", 
    "prevInTime": 19589, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1184792268", 
    "canDelete": false, 
    "nextInTopic": 19598, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDRmN2RhNmI5MDcwNzE4MTM1N3k1ZGQzOTcyOW0xNzI3YmYzZmVlYzUyNmE2QG1haWwuZ21haWwuY29tPg=="
    }
}