{
    "numMessagesInTopic": 2, 
    "nextInTime": 20370, 
    "senderId": "0l6KYG3dKi882LJeUbro_TcyqjHqeqwBmPOLmS6yWHkzy5NXhVO2-1NYayDmXqIYHk5F6XAw4iqa7y_CCIxjnrii0ACpmrrshBolZQ", 
    "systemMessage": true, 
    "subject": "Re: Failurs, Exception and AssertionError", 
    "from": "&quot;toalexsmail&quot; &lt;toalexsmail@...&gt;", 
    "authorName": "toalexsmail", 
    "msgSnippet": "want to correct my last e-mail in this Thread. Test method of calculator should be public void testNegativeInput() { try { calc.sqrt(-1); ", 
    "msgId": 20369, 
    "profile": "toalexsmail", 
    "topicId": 20362, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 340165037, 
    "messageBody": "<div id=\"ygrps-yiv-1356741114\">want to correct my last e-mail in this Thread.<br/>\nTest method of calculator should be<br/>\npublic void testNegativeInput() {<br/>\n    try {<br/>\n     calc.sqrt(-1);<br/>\n     fail(&quot;IllegalArgumenException is expecting&quot;);<br/>\n    }<br/>\n    catch(IllegalArgumenException e){<br/>\n      assert true : &quot;it&#39; ok&quot;;<br/>\n    } <br/>\n}<br/>\n<br/>\nIllegalArgumenException should be thrown in public sqrt() method. This<br/>\nis not happened because programmer forgot to do this check. It is the<br/>\nbug. Instead AssertionError is thrown by the code itself, because<br/>\nprogrammer that writed doSqrt() method clearly states that his<br/>\nprecondition is that argument is valid. We should be fails before.<br/>\nAssertionError shouldn&#39;t happen.<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;toalexsmail&quot; &lt;toalexsmail@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; In JUnit 3.8 there was difference between assertion error<br/>\n&gt; (assertTrue(flag) fails, for example) and exception (unexpected<br/>\n&gt; exception thrown). It was indicated as F (failures) and E (exception).<br/>\n&gt; Why this was removed from JUnit 4?<br/>\n&gt; <br/>\n&gt; Moreover, if asserts of JDK 1.4 was used (assert obj!=null;) both in<br/>\n&gt; the tested code and in the tests than, if assertion is enabled,<br/>\n&gt; AssertionError was thrown that caused to exception. In JUnit 4 it will<br/>\n&gt; cause to failure because AssertionFailedError now extends<br/>\n&gt; AssertionError so from JUnit point of view there is no difference.<br/>\n&gt; It is true, that in JUnit 4 there is no difference between failures<br/>\n&gt; and exception, so it shouldn&#39;t be a problem. But, as I see it is.<br/>\n&gt; Consider for example following example.<br/>\n&gt; <br/>\n&gt; public class Calculator {<br/>\n&gt;  ...<br/>\n&gt;  public double sqrt(double a){<br/>\n&gt;    //here should be check that a&gt;=0 that is missing<br/>\n&gt;    return doSqrt(a);<br/>\n&gt;  }<br/>\n&gt; <br/>\n&gt;  private double doSqrt(double a){<br/>\n&gt;    //a should be valid at this point<br/>\n&gt;    assert &quot;a should be not negative!&quot; : a&gt;=0;<br/>\n&gt;    ...<br/>\n&gt;   }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class CalculatorTest {<br/>\n&gt;  // the logger<br/>\n&gt;  private static final Log log = LogFactory.getLog(CalculatorTest.class);<br/>\n&gt;  private Calculator calc;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  @BeforeClass<br/>\n&gt;  public static void oneTimeSetup(){<br/>\n&gt; \t// do your one time set-up here!<br/>\n&gt; \tlog.debug(&quot;Going to check whether asserts are enabled&quot;);<br/>\n&gt; \tboolean assertsEnabled = false;<br/>\n&gt; \tassert (assertsEnabled = true); // Intentional side effect!!!<br/>\n&gt; \tif (!assertsEnabled) {<br/>\n&gt; \t  throw new AssertionError(&quot;Asserts must be enabled!!!&quot;);<br/>\n&gt; \t}<br/>\n&gt;   }<br/>\n&gt; <br/>\n&gt;  @Before<br/>\n&gt;  public void setUp() throws Exception {<br/>\n&gt;    calc = new Calculator(...);<br/>\n&gt;  }<br/>\n&gt; <br/>\n&gt;  public static void main(String[] args) throws Exception {<br/>\n&gt;    Request r = Request.aClass(clazz);<br/>\n&gt;    JUnitCore runner = new JUnitCore();<br/>\n&gt;    RunListener listener= new TextListener();<br/>\n&gt;    runner.addListener(listener);<br/>\n&gt;    runner.run(r);<br/>\n&gt;  }<br/>\n&gt; <br/>\n&gt;  @Test<br/>\n&gt;  public void testNegativeInput() {<br/>\n    try {<br/>\n     calc.sqrt(-1);<br/>\n     fail(&quot;IllegalArgumenException is expecting&quot;);<br/>\n    }<br/>\n    catch(IllegalArgumenException e){<br/>\n      assert true : &quot;it&#39; ok&quot;;<br/>\n    } <br/>\n  }<br/>\n&gt; <br/>\n&gt; assert are used inside the code in order to validate what programmer<br/>\n&gt; is think is true in some point of the program. They are often used to<br/>\n&gt; check preconditions of the private methods. In the above example,<br/>\n&gt; programmer that writed doSqrt() method states that precondition of<br/>\n&gt; this method is that he receives valid parameter. So, this JDK 1.4<br/>\n&gt; assertion fails has nothing with JUnit 4 assertXXX() fails and it<br/>\n&gt; should be considered as exception, as in case that unexpected<br/>\n&gt; exception is thrown.<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20368, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1205352685", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20362, 
    "headers": {
        "inReplyToHeader": "PGZyOGlxOStsZmY3QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGZyOWRkZCtnNmI4QGVHcm91cHMuY29tPg=="
    }
}