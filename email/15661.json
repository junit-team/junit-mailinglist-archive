{
    "numMessagesInTopic": 3, 
    "nextInTime": 15662, 
    "senderId": "A85LgxLIVyFZsHXJVpe3YM10s4rQ2VjmNkPfHoGQfwvKLZhlI_8lqwcUKjccqMM-CZ125RXmdOe5CcxPQPYeUOm8xlK7cPKS", 
    "systemMessage": true, 
    "subject": "Re: Running test methods in a test case in seperate VM&#39;s and in order", 
    "from": "&quot;johnlukar&quot; &lt;johnlukar@...&gt;", 
    "authorName": "johnlukar", 
    "msgSnippet": "Hi David, you pointed  me in a right direction. here is the code I threw together. TestMethods testMethods = new TestMethods(); Class cls1 = Class.forName(", 
    "msgId": 15661, 
    "profile": "johnlukar", 
    "topicId": 15634, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 78569046, 
    "messageBody": "<div id=\"ygrps-yiv-1744164340\">Hi David,<br/>\nyou pointed  me in a right direction.<br/>\n<br/>\nhere is the code I threw together. <br/>\n<br/>\n        TestMethods testMethods = new TestMethods();<br/>\n        Class cls1 = Class.forName( argv[0] );<br/>\n        TestCase case1 = (TestCase) cls1.newInstance();<br/>\n        Method method1 = cls1.getMethod( &quot;setUp&quot;,null);<br/>\n        Method method2 = cls1.getMethod( argv[1],null);<br/>\n        Method method3 = cls1.getMethod( &quot;tearDown&quot;,null);<br/>\n        method1.invoke( case1, null);<br/>\n        method2.invoke( case1, null);<br/>\n        method3.invoke( case1, null);<br/>\n        log.info(&quot;Done! &quot;);<br/>\n<br/>\n        System.exit(0);<br/>\n<br/>\n<br/>\n<br/>\nthen I have a ant target:<br/>\n&lt;target name=&quot;test.all&quot; depends=&quot;compile&quot; description=&quot;- run all tests<br/>\nmethods in individual methods&quot;&gt;<br/>\n        &lt;java classname=&quot;com.mycomp.TestMethods&quot; fork=&quot;yes&quot;&gt;<br/>\n            &lt;classpath refid=&quot;project.class.path&quot;/&gt;<br/>\n            &lt;arg value=&quot;${testclass}&quot;/&gt;<br/>\n            &lt;arg value=&quot;${testmethod}&quot;/&gt;<br/>\n            &lt;jvmarg value=&quot;-Xms500m&quot;/&gt;<br/>\n            &lt;jvmarg value=&quot;-Xmx600m&quot;/&gt;<br/>\n            &lt;jvmarg value=&quot;-Xloggc:./gc.${testmethod}.log&quot;/&gt;<br/>\n            &lt;jvmarg<br/>\nvalue=&quot;-Dlog4j.configuration=./properties/log4j.properties&quot;/&gt;<br/>\n        &lt;/java&gt;<br/>\n    &lt;/target&gt;<br/>\n<br/>\n<br/>\n<br/>\nThen I run a shell script to call the ant target for each test method.<br/>\n<br/>\n<br/>\nseems to  work.<br/>\n<br/>\nthanks much.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;saff@m...&gt; wrote:<br/>\n&gt;<br/>\n&gt; John,<br/>\n&gt; <br/>\n&gt; This shouldn&#39;t be too hard, although it&#39;ll require a little hacking.<br/>\n If <br/>\n&gt; it were my task, I&#39;d first write a class that instantiates a TestCase <br/>\n&gt; for a single method:<br/>\n&gt; <br/>\n&gt; void main(String[] argv) {<br/>\n&gt;     TestResult result = new TestResult();<br/>\n&gt;     TestCase case = Class.forName(argv[0]).newInstance(argv[1]);<br/>\n&gt;     case.run(result);<br/>\n&gt;     // output result somehow<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; Then, you can create a wrapper that invokes this for each test you&#39;re <br/>\n&gt; interested in.  Is that a start?<br/>\n&gt; <br/>\n&gt;     David Saff<br/>\n&gt; <br/>\n&gt; johnlukar wrote:<br/>\n&gt; <br/>\n&gt; &gt;<br/>\n&gt; &gt; Is this possible ?<br/>\n&gt; &gt;<br/>\n&gt; &gt; My problem is that I have a Unit test that does performance<br/>\n&gt; &gt; benchmarking of a product.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Each test method tests one aspect of the product.  The problem is the<br/>\n&gt; &gt; VM performs full GC collection due to the memory being chewed up in a<br/>\n&gt; &gt; single VM invocation that runs all testMethods. <br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; This subsequently results in erronous perfromance times and stats.<br/>\n&gt; &gt;<br/>\n&gt; &gt; so I&#39;d like to run each testMethod in its own VM, and to avoid<br/>\n&gt; &gt; multiple parallel test methods running and chewing up the memory, I<br/>\n&gt; &gt; think I need to run the methods in order.<br/>\n&gt; &gt;<br/>\n&gt; &gt; any ideas ?<br/>\n&gt; &gt;<br/>\n&gt; &gt; thanks much in advance for info.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n------------------------------------------------------------------------<br/>\n&gt; &gt; YAHOO! GROUPS LINKS<br/>\n&gt; &gt;<br/>\n&gt; &gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt; &gt;       on the web.<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt; &gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt; &gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n------------------------------------------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15660, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1134075348", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15646, 
    "headers": {
        "inReplyToHeader": "PDQzOTgzRDEzLjEwOTAzMDhAbWl0LmVkdT4=", 
        "messageIdInHeader": "PGRuYTZrays0a3BxQGVHcm91cHMuY29tPg=="
    }
}