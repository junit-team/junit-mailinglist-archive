{
    "numMessagesInTopic": 2, 
    "nextInTime": 23295, 
    "senderId": "p4LG-52NM2E2TdTPg5MIoHcRXI3QbII6naa1itlE7HFy-cFntph4UbqZwB9JP74HxgOjOfgtUZUDs5vV6Uus0xpdlp-dMBsbpeQ", 
    "systemMessage": false, 
    "subject": "Testing a helper class with a factory method", 
    "from": "&quot;douggiefox&quot; &lt;paul@...&gt;", 
    "authorName": "douggiefox", 
    "msgSnippet": "Hi I m refactoring and I ve created a helper class that I m trying to test. The code I end up with is this: public class SQLHelper { def connection String url", 
    "msgId": 23294, 
    "profile": "douggiefox", 
    "topicId": 23294, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 370202545, 
    "messageBody": "<div id=\"ygrps-yiv-2143969056\">Hi<br/>\n<br/>\nI&#39;m refactoring and I&#39;ve created a helper class that I&#39;m trying to test.<br/>\n<br/>\nThe code I end up with is this:<br/>\n<br/>\npublic class SQLHelper {<br/>\n<br/>\n  def connection<br/>\n  String url = &quot;urltodata&quot; <br/>\n  String username = &quot;&quot;<br/>\n  String password = &quot;&quot;<br/>\n  String driver = &quot;com.driver&quot;<br/>\n<br/>\n  def ApproachSQLHelper() {<br/>\n<br/>\n    this.connection = groovy.sql.Sql.newInstance(this.url, this.username, this.password, this.driver)<br/>\n  }<br/>\n<br/>\n}<br/>\n<br/>\nand my test looks a little like this:<br/>\n<br/>\nclass SQLHelperTests extends GrailsUnitTestCase {<br/>\n<br/>\n    def helper<br/>\n<br/>\n    protected void setUp() {<br/>\n        super.setUp()<br/>\n        helper = new SQLHelper()<br/>\n    }<br/>\n<br/>\n    protected void tearDown() {<br/>\n        super.tearDown()<br/>\n        helper = null<br/>\n    }<br/>\n<br/>\n    void testOpenConnection() {<br/>\n      assert helper.connection instanceof groovy.sql.Sql<br/>\n    }<br/>\n  <br/>\n<br/>\n}<br/>\n<br/>\nIt all works and passes but my question is this.  The helper class uses &quot;newInstance&quot; which unless given a correct url and a valid driver will throw an exception.  So in providing this information it&#39;s making me think this is more an integration test rather than a unit test.  Am I off course here?<br/>\n<br/>\nBest DF</div>", 
    "prevInTime": 23293, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1298564034", 
    "canDelete": false, 
    "nextInTopic": 23304, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGlrNjA0Mis3bmQ0QGVHcm91cHMuY29tPg=="
    }
}