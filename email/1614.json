{
    "numMessagesInTopic": 15, 
    "nextInTime": 1615, 
    "senderId": "Y_-uPYjowSJEgcwd4D3-YRVZmKJCGp9OqIaSFTa65uanWlVWm52-FjXHw4rBKmyo3Auv6ShI-5hjWRcDccTqXqDqNegd", 
    "systemMessage": false, 
    "subject": "RE: [junit] Testing Connection Pools", 
    "from": "David Roussel &lt;dir@...&gt;", 
    "authorName": "David Roussel", 
    "msgSnippet": "What you describe Jim can be done in the sql libraries that have been developed on my project.  It s not that simple, you ll have to modify existing code, but", 
    "msgId": 1614, 
    "topicId": 1606, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1258992386\">\n<html><head>\n \n\n\n</head> \n \n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">What \nyou describe Jim can be done in the sql libraries that have been developed on my \nproject.&nbsp; It&#39;s not that simple, you&#39;ll have to modify existing code, but it \ncomes in useful for lots of reasons.&nbsp; Basically...</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\"></span></font>&nbsp;</div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">public \nclass ConnectionPool</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">{</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">&nbsp;&nbsp;&nbsp; public JDBCConnection \ngetJDBCConnection(){...}\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">&nbsp;&nbsp;&nbsp; public void returnConnection( \nConnection ret ) { ... \n}</span></font></div></span></font></div></span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">&nbsp;&nbsp;&nbsp; public void commit() { do validation \n}</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">}</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\"></span></font>&nbsp;</div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">public \nclass JDBCConnection implements java.sql.Connection</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">{</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">&nbsp;&nbsp;&nbsp; // both methods do the same thing, \njust have different return types</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">&nbsp;&nbsp;&nbsp; public JDBCStatement \ncreateJDBCStatement(){ ... }\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">&nbsp;&nbsp;&nbsp; public Statement createStatement(){ \n... }</span></font></div></span></font><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">}</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">}</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\"></span></font>&nbsp;</div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">What \nis going on here is that I have a custom SQL package.&nbsp; For each interface \nin java.sql I have a class which implements that interface and acts as a wrapper \naround the connection, statement, resultset, etc. objects that are returned by \nthe driver.</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\"></span></font>&nbsp;</div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">For \neach method we add another, so as well as createStatement() we also have \ncreateJDBCStatement(), this allows us to return references to the concrete type, \nnot just the interface.&nbsp; This step is not required.</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\"></span></font>&nbsp;</div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span class=\"ygrps-yiv-1258992386225084111-22062001\">So now \nthat we have a whole set of wrappers we can add monitoring code to count open \nresultsets and such like.</span></font></div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\"></span></font>&nbsp;</div>\n<div><font color=\"#0000ff\" face=\"Arial\" size=\"2\"><span\n class=\"ygrps-yiv-1258992386225084111-22062001\">Dave</span></font></div>\n<blockquote><span title=\"qreply\"> <blockquote>\n  <div align=\"left\" class=\"ygrps-yiv-1258992386OutlookMessageHeader\" dir=\"ltr\"><font face=\"Tahoma\"\n size=\"2\">-----Original Message-----<br><b>From:</b> Jim Cheesman \n  [mailto:jchees@...]<br><b>Sent:</b> 22 June 2001 12:39<br><b>To:</b> \n  junit@yahoogroups.com<br><b>Subject:</b> Re: [junit] Testing Connection \n  Pools<br><br></font></div><tt>At 12:39 PM 22/06/01, you wrote:<br>&gt;Does \n  this technique handle mean that developers that forget to \n  close()<br>&gt;ResultSets and PreparedStatements won&#39;t cause problems?&nbsp; \n  Do you have any<br>&gt;idea if this true for all JDBC implementations (with \n  the appropriate check)?<br><br><br>This is what I was looking for - I already \n  call con.commit(). (After <br>checking if commit() is supported, of \n  course.)<br><br>Any ideas?<br><br><br><br>&gt;----- Original Message \n  -----<br>&gt;From: &quot;David Roussel&quot; &lt;dir@...&gt;<br>&gt;To: \n  &lt;junit@yahoogroups.com&gt;<br>&gt;Sent: Friday, June 22, 2001 5:10 \n  AM<br>&gt;Subject: RE: [junit] Testing Connection \n  Pools<br>&gt;<br>&gt;<br>&gt; &gt; I don&#39;t know which connection pool you on \n  about but I know how my own<br>&gt; &gt; connection pool works.&nbsp; When a \n  connection is returned it checks the<br>&gt; &gt; transaction and rolls it \n  back it one is open &quot;SELECT @@trancount&quot; on SQL<br>&gt; &gt; Server.&nbsp; \n  This also serves the purpose of making sure the connection is OK,<br>&gt; &gt; \n  i.e. no network cables pulled out etc.&nbsp; If the connection is working \n  then<br>&gt; &gt; its put back in the pool.&nbsp; If the connection is faulty \n  then it is closed<br>&gt;and<br>&gt; &gt; removed from the pool.<br>&gt; \n  &gt;<br>&gt; &gt; Not sure how you make sure all connections are \n  returned.&nbsp; Could do with a<br>&gt; &gt; way to signal all sub-systems to \n  return any connections and then check<br>&gt;that<br>&gt; &gt; none are still \n  checked out of the pool.<br>&gt; &gt;<br>&gt; &gt; Dave<br>&gt; &gt;<br>&gt; \n  &gt; -----Original Message-----<br>&gt; &gt; From: Jim Cheesman \n  [mailto:jchees@...]<br>&gt; &gt; Sent: 22 June 2001 09:58<br>&gt; &gt; To: \n  junit@yahoogroups.com<br>&gt; &gt; Subject: RE: [junit] Testing Connection \n  Pools<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; &gt;For software \n  quality two of the most important things to test for<br>&gt; &gt; &gt;(if you \n  can) are:<br>&gt; &gt; &gt;1. Connections are &#39;clean&#39; when you put them back \n  in the pool.<br>&gt; &gt; &gt;The next piece of code to use the connection \n  should be able to<br>&gt; &gt; &gt;do so without fear of picking up a bad \n  connection or one which<br>&gt; &gt; &gt;wasn&#39;t tidied up properly by the last \n  user.<br>&gt; &gt;<br>&gt; &gt; Just out of interest, (and getting a little \n  OT) is there any way to check<br>&gt; &gt; (within the code - not as a unit \n  test) that the connection is &quot;clean&quot; - ie<br>&gt; &gt; ResultSets, statements \n  closed etc.?<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; Jim<br>&gt; \n  &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; --<br>&gt; &gt;<br>&gt; \n  &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  *&nbsp;&nbsp; Jim Cheesman&nbsp;&nbsp; *<br>&gt; \n  &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  Trabajo:<br>&gt; &gt; jchees@... - (34)(91) 724 9200 x 2360<br>&gt; \n  &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  Exaggeration is not<br>&gt; &gt; all it&#39;s cracked up to be.<br>&gt; \n  &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; Yahoo! Groups \n  Sponsor<br>&gt; &gt;<br>&gt; &gt;<br>&gt;&lt;<a rel=\"nofollow\"\n target=\"_blank\" href=\"http://rd.yahoo.com/M=190481.1491588.3061929.2/D=egroupmail/S=1700007181:N/\">http://rd.yahoo.com/M=190481.1491588.3061929.2/D=egroupmail/S=1700007181:N/</a>&gt; \n  <br>&gt;A=613970/?<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.neway.org\">http://www.neway.org</a>&gt; \n  www.newaydirect.com<br>&gt; &gt;<br>&gt; &gt;<br>&gt;&lt;<a rel=\"nofollow\"\n target=\"_blank\" href=\"http://us.adserver.yahoo.com/l?M=190481.1491588.3061929.2/D=egroupmail/S=17\">http://us.adserver.yahoo.com/l?M=190481.1491588.3061929.2/D=egroupmail/S=17</a>&gt; \n  <br>&gt;00007181:N/A=613970/rand=811999790&gt;<br>&gt; &gt;<br>&gt; &gt; To \n  unsubscribe from this group, send an email to:<br>&gt; &gt; \n  junit-unsubscribe@yahoogroups.com<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; Your \n  use of Yahoo! Groups is subject to the Yahoo! Terms of Service<br>&gt; &gt; \n  &lt;<a rel=\"nofollow\"\n target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt; \n  .<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; \n  -------------------------------------------------------------------------<br>&gt; \n  &gt; If you have received this e-mail in error or wish to read our \n  e-mail<br>&gt; &gt; disclaimer statement and monitoring policy, please refer \n  to<br>&gt; &gt; <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://www.bjss.co.uk/disclaimer\">http://www.bjss.co.uk/disclaimer</a> \n  or contact the sender.<br>&gt; &gt; \n  ------------------------------------------------------------------------<br>&gt; \n  &gt;<br>&gt; &gt;<br>&gt;<br>&gt;<br>&gt;To unsubscribe from this group, send \n  an email \n  to:<br>&gt;junit-unsubscribe@yahoogroups.com<br>&gt;<br>&gt;<br>&gt;Your use \n  of Yahoo! Groups is subject to <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br><br><br>--<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  *&nbsp;&nbsp; Jim Cheesman&nbsp;&nbsp; \n  *<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  Trabajo: <br>jchees@... - (34)(91) 724 9200 x \n  2360<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If there&#39;s one \n  thing I <br>can&#39;t stand, it&#39;s intolerance.<br><br><br></tt><br><br><tt>To \n  unsubscribe from this group, send an email \n  to:<br>junit-unsubscribe@yahoogroups.com<br></tt><br><br><tt>Your use of \n  Yahoo! Groups is subject to the <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">Yahoo! Terms of Service</a>.</tt> \n<br></blockquote></span></blockquote></html> \n<br>\n\n<p><font SIZE=\"2\" FACE=\"Arial\">-------------------------------------------------------------------------<br>\nIf you have received this e-mail in error or wish to read our e-mail<br>\ndisclaimer statement and monitoring policy, please refer to<br>\nhttp://www.bjss.co.uk/disclaimer or contact the sender.<br>\n------------------------------------------------------------------------</font></p>\n<br>\n</div>", 
    "prevInTime": 1613, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "993210887", 
    "canDelete": false, 
    "nextInTopic": 1619, 
    "prevInTopic": 1613, 
    "headers": {
        "messageIdInHeader": "PDI1NjVBOTg2QjhBNEQzMTE5QjRGMDAxMDVBREYwREE0OTlGRTlEQHJvbm5pZXMuYmpzcy5jby51az4="
    }
}