{
    "numMessagesInTopic": 17, 
    "nextInTime": 4013, 
    "senderId": "eza_3qS3JtvpD5Hwp3d8z7y3Z_hVspmcwGkw4UYE7PayilAcmum3CvASm0GBFcahdNlR5-w_Lq-LuVcm8_f1CSzbvlBFGkMCp6o09RC3", 
    "systemMessage": false, 
    "subject": "Re: [junit] Database Select query checks!! newbie", 
    "from": "&quot;Mathieu Gervais&quot; &lt;egoine_@...&gt;", 
    "authorName": "Mathieu Gervais", 
    "msgSnippet": "Hi, ... I never got that one. It s like saying SQL code doesn t need testing as mush as java code. Programmer A: When I do unit testing, I just run my code in", 
    "msgId": 4012, 
    "rawEmail": "Return-Path: &lt;egoine_@...&gt;\r\nX-Sender: egoine_@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_2); 11 Feb 2002 22:44:31 -0000\r\nReceived: (qmail 34341 invoked from network); 11 Feb 2002 22:44:31 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m8.grp.snv.yahoo.com with QMQP; 11 Feb 2002 22:44:31 -0000\r\nReceived: from unknown (HELO hotmail.com) (216.33.236.201)\n  by mta1.grp.snv.yahoo.com with SMTP; 11 Feb 2002 22:44:31 -0000\r\nReceived: from mail pickup service by hotmail.com with Microsoft SMTPSVC;\n\t Mon, 11 Feb 2002 14:44:31 -0800\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;20020210100037.81083.qmail@...&gt; &lt;1013463312.3c6839103e2b5@...&gt; &lt;3C683F1C.5DAF86E6@...&gt;\r\nSubject: Re: [junit] Database Select query checks!! newbie\r\nDate: Mon, 11 Feb 2002 17:44:29 -0500\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4133.2400\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400\r\nMessage-ID: &lt;OE62crwPBhfgM4fGIC7000035fc@...&gt;\r\nX-OriginalArrivalTime: 11 Feb 2002 22:44:31.0424 (UTC) FILETIME=[AB802400:01C1B34D]\r\nFrom: &quot;Mathieu Gervais&quot; &lt;egoine_@...&gt;\r\nX-Yahoo-Group-Post: member; u=35075295\r\nX-Yahoo-Profile: egoine\r\n\r\nHi,\n\n&gt;There is a line of thought that all you need to do is make sure your SQL\n&gt;is valid. beyond that you&#39;re testing your database, not your method...\n\n I never got that one. It&#39;s like saying SQL code doesn&#39;t need testing as\nmush as java code.\n\nProgrammer A:\nWhen I do unit testing, I just run my code in a couple of conditions and\nlook if it&#39;s ok.\n\nXPer:\nYou should really program those tests so they are repeatable, fast to run\nand don&#39;t need any human interaction to verify if they pass. Do automated\nunit testing! Use  JUnit!\n\nWhy doesn&#39;t the same applies to SQL queries? In reality the programmer DOES\ntest his SQL queries by trying them and looking at results. (&quot;make sure your\nSQL is valid&quot;) so why not automate it like the rest?\n\nI&#39;ve seen queries way more complex than some Java code. I&#39;m pretty sure\neverybody did. Don&#39;t you want that when somebody will need to modifiy the\nquery (to add a filtering condition for example) they can press the button\nand run the tests to ensure the query is still ok?\n\nWhat I do is I connect to a special DB (with a replica of the schema of the\nreal DB) populated with test data. I also dynamically add data (in setup)\nand delete it (in teardown) for some tests. Or check that my code really\ninserted a row, etc. Of course, if a query is like selectAll(), you might be\ninfluenced by other programmers using the same test DB at the same time, so\nyou will want something like a test db per programmer. And then you start to\nfind it hard to deal with this increasingly complex solution so you drop all\nof this and return to &quot;make sure your SQL is valid&quot; testing, no more\nautomated tests for SQL.\n\nI would really like to have a tool that helped me test my SQL code and setup\ntestcases as easily as the JUnit testcase for Java. I can&#39;t use a sql only\ntest tool: I don&#39;t want to test the SQL outside the java code and then have\nthe java code use those statements. Why? Because often what I want to test\nis if the transaction is correctly rolledback in a special case, stuff like\nthat that needs java code and SQL. But really 10 lines of code and 3 lines\nof sql, so it is a &quot;unit&quot; difficult to break down further without loosing a\nlot of test cases. And what about testing failure of a DB connection at a\ncritical point? Mock objects seem to be usefull for this. Really, there is a\nneed for somebody to build a tool or documentatin explaining the best way to\ndo all of this.\n\nI&#39;ve already tought about solutions for DB-interacting code testing  (see\nposts in archive) but all my ideas are going into direction where the\ninfrastructure needed is heavy and difficult to maintain. Any brillant tool\nor ideas out there for all of this?\n\nmathieu\n\n\nPS: The original poster should also look at MockObjects to mock the results\nof the DB. They might help depending on what you want to do. But then you\naren&#39;t testing the SQL since you are mocking the execution engine.\n\n----- Original Message -----\nFrom: Nilesh Thali\nTo: junit@yahoogroups.com\nSent: Monday, February 11, 2002 5:01 PM\nSubject: Re: [junit] Database Select query checks!! newbie\n\n\n&gt; (2) Your tests are simple: populate the database with data, write News\nbeans\n&gt; that represent that data, assert that getAllNews() answers the same Set\n(or\n&gt; List, if you care about order within the collection) of News beans. Do\nthis\n&gt; with as many different datasets as you need to be confident that your\nmethod\n&gt; works.\n\n    only problem with testing queries like this is that your test will be\ntime and\n    database dependent, because data (in this case the number of news beans)\n    may change over time, and you will see the red bar even though your\nmethod\n    works fine.\n    There is a line of thought that all you need to do is make sure your SQL\n    is valid. beyond that you&#39;re testing your database, not your method...\n\nregards,\nNilesh\n\n\nYahoo! Groups Sponsor\nADVERTISEMENT\n\n\n\n\nTo unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogroups.com\n\n\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service.\n\n", 
    "profile": "egoine", 
    "topicId": 4008, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 35075295, 
    "prevInTime": 4011, 
    "contentTrasformed": false, 
    "postDate": "1013467469", 
    "canDelete": false, 
    "nextInTopic": 4014, 
    "prevInTopic": 4011, 
    "headers": {
        "messageIdInHeader": "PE9FNjJjcndQQmhmZ000ZkdJQzcwMDAwMzVmY0Bob3RtYWlsLmNvbT4=", 
        "referencesHeader": "PDIwMDIwMjEwMTAwMDM3LjgxMDgzLnFtYWlsQHdlYjIwNjAxLm1haWwueWFob28uY29tPiA8MTAxMzQ2MzMxMi4zYzY4MzkxMDNlMmI1QHdlYm1haWwuYmxhY2tzdW4uY2E+IDwzQzY4M0YxQy41REFGODZFNkBzYWJyZS5jb20+"
    }
}