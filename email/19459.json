{
    "numMessagesInTopic": 13, 
    "nextInTime": 19460, 
    "senderId": "XW_YoinbJRjTUTkcZs7JkwsMAIeXLrTRhSTsXBtNES77BV8G-2bAeTpPsxMH7HZ7bWNZGbcB_zMY4KG6hKHQvufT", 
    "systemMessage": false, 
    "subject": "Re: [junit] Filtering does not appear to work in 4.3.1", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Michael, I ve been meaning to look at this for a while now.  At a very cursory glance, it looks like it may be a bug.  Can you log it as a bug in SourceForge,", 
    "msgId": 19459, 
    "profile": "dsaff", 
    "topicId": 17338, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1767632562\">Michael,<br/>\n<br/>\nI&#39;ve been meaning to look at this for a while now.  At a very cursory<br/>\nglance, it looks like it may be a bug.  Can you log it as a bug in<br/>\nSourceForge, and I&#39;ll try to take a look at it in the next few days?<br/>\nThanks,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 6/8/07, Michael Schechter &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mlschechter@...\">mlschechter@...</a>&gt; wrote:<br/>\n&gt; Does anyone have any suggestions on how to address this?<br/>\n&gt;<br/>\n&gt; Thanks!<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Michael Schechter&quot; &lt;mlschechter@...&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Kent/David et. al.,<br/>\n&gt; &gt;<br/>\n&gt; &gt; I have been successfully using a filter implementation that I provided<br/>\n&gt; &gt; with one or more method names. These methods were the only ones<br/>\n&gt; &gt; executed in the test class. Worked seamlessly with 4.1<br/>\n&gt; &gt;<br/>\n&gt; &gt; I just recently updated to JUnit 4.3.1, and the filter implementation<br/>\n&gt; &gt; no longer seems to be applied. There is nothing I can find in the<br/>\n&gt; &gt; release notes that implies that this would have changed. The<br/>\n&gt; &gt; frustrating thing is that setting breakpoints in my filter has no<br/>\n&gt; &gt; effect - it is as if it is never being called.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I am including the filter implementation class and the invocation<br/>\n&gt; &gt; logic. Please let me know if there is something I missed here.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks in advance!<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------------------<br/>\n&gt; &gt; import java.util.ArrayList;<br/>\n&gt; &gt; import java.util.List;<br/>\n&gt; &gt;<br/>\n&gt; &gt; import org.junit.runner.Description;<br/>\n&gt; &gt; import org.junit.runner.manipulation.Filter;<br/>\n&gt; &gt;<br/>\n&gt; &gt; /**<br/>\n&gt; &gt;  * This class provides a mechanism to filter tests by name, allowing a<br/>\n&gt; &gt; subset of the tests in a test<br/>\n&gt; &gt;  * class to be defined by a developer.<br/>\n&gt; &gt;  *<br/>\n&gt; &gt;  * @since 2.0<br/>\n&gt; &gt;  */<br/>\n&gt; &gt; public class MatchingFilter extends Filter {<br/>\n&gt; &gt;<br/>\n&gt; &gt;   /**<br/>\n&gt; &gt;    * The references to the tests that should be executed.<br/>\n&gt; &gt;    */<br/>\n&gt; &gt;   private List&lt;Description&gt; tests = new ArrayList&lt;Description&gt;();<br/>\n&gt; &gt;<br/>\n&gt; &gt;   /**<br/>\n&gt; &gt;    * Initializes an instance of &lt;code&gt;MatchingFilter&lt;/code&gt; with the<br/>\n&gt; &gt; data provided.<br/>\n&gt; &gt;    *<br/>\n&gt; &gt;    * @param aTestClass<br/>\n&gt; &gt;    *          the class for which tests will be executed<br/>\n&gt; &gt;    * @param someTestNames<br/>\n&gt; &gt;    *          the method names<br/>\n&gt; &gt;    */<br/>\n&gt; &gt;   public MatchingFilter(Class aTestClass, String[] someTestNames) {<br/>\n&gt; &gt;     for (String testName : someTestNames) {<br/>\n&gt; &gt;       this.tests.add(Description.createTestDescription(aTestClass,<br/>\n&gt; &gt; testName));<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;   }<br/>\n&gt; &gt;<br/>\n&gt; &gt;   /**<br/>\n&gt; &gt;    * Implemented abstract method to provide detail filtering<br/>\n&gt; &gt; mechanism. Only test methods that match<br/>\n&gt; &gt;    * the provided names will be executed.<br/>\n&gt; &gt;    *<br/>\n&gt; &gt;    * @see<br/>\n&gt; &gt;<br/>\n&gt; org.junit.runner.manipulation.Filter#shouldRun(org.junit.runner.Description)<br/>\n&gt; &gt;    */<br/>\n&gt; &gt;   @Override<br/>\n&gt; &gt;   public boolean shouldRun(Description aDescription) {<br/>\n&gt; &gt;     return this.tests.contains(aDescription);<br/>\n&gt; &gt;   }<br/>\n&gt; &gt;<br/>\n&gt; &gt;   /**<br/>\n&gt; &gt;    * Implemented abstract method.<br/>\n&gt; &gt;    *<br/>\n&gt; &gt;    * @see org.junit.runner.manipulation.Filter#describe()<br/>\n&gt; &gt;    */<br/>\n&gt; &gt;   @Override<br/>\n&gt; &gt;   public String describe() {<br/>\n&gt; &gt;     return &quot;This filter excludes any test methods that do not exactly<br/>\n&gt; &gt; match the provided names&quot;;<br/>\n&gt; &gt;   }<br/>\n&gt; &gt;<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------------------<br/>\n&gt; &gt;     JUnitCore core = new JUnitCore();<br/>\n&gt; &gt;     Request testRequest = Request.aClass(aTestClass);<br/>\n&gt; &gt;     if (0 &lt; someArguments.length) {<br/>\n&gt; &gt;       Filter matchFilter = new MatchingFilter(aTestClass,<br/>\n&gt; someArguments);<br/>\n&gt; &gt;       testRequest = testRequest.filterWith(matchFilter);<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;     core.run(testRequest);<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Michael Schechter&quot; &lt;bard@&gt; wrote:<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Kent,<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; First and foremost, thanks! That example did the trick. I was able to<br/>\n&gt; &gt; &gt; modify it, and our team can now specify any subset of the test methods<br/>\n&gt; &gt; &gt; in a given class dynamically as part of their development process.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I would strongly recommend that this trick (and any others that<br/>\n&gt; &gt; &gt; require extension/implementation from JUnit core classes) be added to<br/>\n&gt; &gt; &gt; whatever &quot;recipes&quot; get documented.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I feel very strongly about the utility of JUnit (or any similar tool)<br/>\n&gt; &gt; &gt; in a testing-dependent development environment. The only drawback I<br/>\n&gt; &gt; &gt; can see to using volunteer labor for documentation purposes is that<br/>\n&gt; &gt; &gt; these volunteers would need access to the brains behind the code to<br/>\n&gt; &gt; &gt; write complete Javadoc. For example, in following your example, I got<br/>\n&gt; &gt; &gt; tripped up by the Request filterWith() method. So many frameworks<br/>\n&gt; &gt; &gt; today return a modified instance of the class on which you are<br/>\n&gt; &gt; &gt; operating that I was somewhat surprised that the instance on which I<br/>\n&gt; &gt; &gt; called filterWith() was not modified.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Upon reflection, your contract and implementation are perfectly<br/>\n&gt; &gt; &gt; reasonable OO - the filtered instance is what is returned, not what is<br/>\n&gt; &gt; &gt; invoked. This is the kind of fine point that would be easy to miss in<br/>\n&gt; &gt; &gt; documenting this code as a volunteer. I point this out not as an<br/>\n&gt; &gt; &gt; argument against. Instead, those who volunteer must be cognizant of<br/>\n&gt; &gt; &gt; the fairly subtle complexities of this framework, and be willing to<br/>\n&gt; &gt; &gt; ask questions when contributing.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Once again, thanks for the timely assist!<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Kent Beck&quot; &lt;kentb@&gt; wrote:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Michael,<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; You&#39;re right that the JUnit documentation needs to be improved. As a<br/>\n&gt; &gt; &gt; &gt; volunteer project, we&#39;re open to contributions.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; The following example may serve to address the situation you raise:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; public class FilterExample {<br/>\n&gt; &gt; &gt; &gt;   @Test public void runTestsInAList() {<br/>\n&gt; &gt; &gt; &gt;           final String[] tests= new String[] {&quot;a&quot;, &quot;b&quot;};<br/>\n&gt; &gt; &gt; &gt;           Filter namedTests= new Filter() {<br/>\n&gt; &gt; &gt; &gt;                   @Override<br/>\n&gt; &gt; &gt; &gt;                   public String describe() {<br/>\n&gt; &gt; &gt; &gt;                           return &quot;only tests starting with &#39;a&#39;&quot;;<br/>\n&gt; &gt; &gt; &gt;                   }<br/>\n&gt; &gt; &gt; &gt;                   @Override<br/>\n&gt; &gt; &gt; &gt;                   public boolean shouldRun(Description description) {<br/>\n&gt; &gt; &gt; &gt;                           for (String each : tests)<br/>\n&gt; &gt; &gt; &gt;                                   if<br/>\n&gt; &gt; &gt; &gt; (description.getDisplayName().startsWith(each))<br/>\n&gt; &gt; &gt; &gt;                                           return true;<br/>\n&gt; &gt; &gt; &gt;                           return false;<br/>\n&gt; &gt; &gt; &gt;                   }<br/>\n&gt; &gt; &gt; &gt;           };<br/>\n&gt; &gt; &gt; &gt;           Request request=<br/>\n&gt; &gt; &gt; &gt; Request.aClass(Tests.class).filterWith(namedTests);<br/>\n&gt; &gt; &gt; &gt;           Result result= new JUnitCore().run(request);<br/>\n&gt; &gt; &gt; &gt;           assertEquals(2, result.getRunCount());<br/>\n&gt; &gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt; &gt;   public static class Tests {<br/>\n&gt; &gt; &gt; &gt;           @Test public void a() {}<br/>\n&gt; &gt; &gt; &gt;           @Test public void b() {}<br/>\n&gt; &gt; &gt; &gt;           @Test public void c() {}<br/>\n&gt; &gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Sincerely yours,<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Kent Beck<br/>\n&gt; &gt; &gt; &gt; Three Rivers Institute<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; ________________________________<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On<br/>\n&gt; Behalf<br/>\n&gt; &gt; &gt; &gt; Of Michael Schechter<br/>\n&gt; &gt; &gt; &gt;   Sent: Monday, August 07, 2006 8:11 AM<br/>\n&gt; &gt; &gt; &gt;   To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; &gt; &gt;   Subject: [junit] How to add functionality for execution flexibilty?<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   I am looking to add the following functionality to my tests:<br/>\n&gt; &gt; &gt; &gt;   - When provided a list of method names on the command line, only<br/>\n&gt; &gt; &gt; &gt; those<br/>\n&gt; &gt; &gt; &gt;   methods in the invoked class will be executed.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   I need this implementation at the test class level. This was pretty<br/>\n&gt; &gt; &gt; &gt;   straightforward with JUnit 3.8.1 - just create new instances of the<br/>\n&gt; &gt; &gt; &gt;   derived TestCase with the method name as the argument, and add them<br/>\n&gt; &gt; &gt; &gt; to<br/>\n&gt; &gt; &gt; &gt;   the suite.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   I am having a lot of difficulty trying to replicate this<br/>\n&gt; &gt; &gt; &gt;   functionality. The filter logic appears to be a one-shot exclusion<br/>\n&gt; &gt; &gt; &gt;   filter (everything not matching is dropped), and I can&#39;t seem to<br/>\n&gt; &gt; &gt; &gt; find<br/>\n&gt; &gt; &gt; &gt;   any documentation that would address this.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   As Mr. Rainsberger and others have suggested, I have searched the<br/>\n&gt; &gt; &gt; &gt; web<br/>\n&gt; &gt; &gt; &gt;   for an appropriate tutorial. I have found a number of good basic<br/>\n&gt; &gt; &gt; &gt;   tutorials (including some references in this group), and a couple<br/>\n&gt; &gt; &gt; &gt; with<br/>\n&gt; &gt; &gt; &gt;   some advanced content. I cannot seem to find one with the detail to<br/>\n&gt; &gt; &gt; &gt;   unlock the tools and capabilities that I am positive are available<br/>\n&gt; &gt; &gt; &gt;   within the new JUnit framework.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   I am also convinced that no one is as capable as the authors in<br/>\n&gt; &gt; &gt; &gt;   documenting the features of the framework, and I am having trouble<br/>\n&gt; &gt; &gt; &gt;   find Javadoc for some of the classes and APIs in the JUnit 4.1<br/>\n&gt; tree.<br/>\n&gt; &gt; &gt; &gt;   There is a fairly good chance that I am looking in the wrong place.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   If anyone has any suggestions or guidance on these issues, it would<br/>\n&gt; &gt; &gt; &gt; be<br/>\n&gt; &gt; &gt; &gt;   greatly appreciated.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   Thanks in advance!<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;   Michael Schechter<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19458, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1181828733", 
    "canDelete": false, 
    "nextInTopic": 19474, 
    "prevInTopic": 19440, 
    "headers": {
        "inReplyToHeader": "PGY0YnE2ZStuYTBkQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwNjE0MDY0NWwyN2NhMWEyNnRkOTQ3ZTI1OWQzNGQ1MjhiQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGYxZGVqbisyYjRzQGVHcm91cHMuY29tPiA8ZjRicTZlK25hMGRAZUdyb3Vwcy5jb20+"
    }
}