{
    "numMessagesInTopic": 4, 
    "nextInTime": 6012, 
    "senderId": "XDWlgyTf7W0bSNpZciHbBHPloT-8K4h2P-qifk9aiswyOWoA2MJX81E1kkCTMFlxNm-nR1-QBNXeCjE7axg0jdjswb3hmFybFNt7xC3Xm7IcV9Gr_tx4YVNT", 
    "systemMessage": false, 
    "subject": "java not so lazy loading", 
    "from": "=?iso-8859-1?Q?Bill_de_h=D3ra?= &lt;dehora@...&gt;", 
    "authorName": "Bill de hÓra", 
    "msgSnippet": "I m too lazy to book keep my test suites by hand, so I wrote a class that walks a test directory to load and run unit tests - I understand I m far from the", 
    "msgId": 6011, 
    "profile": "bdehora", 
    "topicId": 6011, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 94742758, 
    "messageBody": "<div id=\"ygrps-yiv-1639887152\">I&#39;m too lazy to book keep my test suites by hand, so I wrote a class<br/>\nthat walks a test directory to load and run unit tests - I understand<br/>\nI&#39;m far from the first to do this. The walker looks for a marker<br/>\ninterface rather than a pattern such as *Test.java.<br/>\n<br/>\nHowever there&#39;s a problem with some private static classes which expect<br/>\nto find a ejb container serving ejbs somewhere. As soon as a class of<br/>\nthis kind gets loaded it makes a connection:<br/>\n<br/>\n  private static class IAMSDBInstanceHolder<br/>\n  {<br/>\n    static IAMSDB theInstance;<br/>\n    static<br/>\n    {<br/>\n      try<br/>\n      {<br/>\n        IAMSDBHome home = (IAMSDBHome)getInitialContext()<br/>\n          .lookup(getJNDIProperty(&quot;IAMSDBBean&quot;));<br/>\n        theInstance = home.create();<br/>\n      }<br/>\n      catch(Exception e)<br/>\n      {<br/>\n        e.printStackTrace();<br/>\n      }<br/>\n    } <br/>\n  }<br/>\n  <br/>\n  <br/>\n  public static IAMSDB getIAMSDB()<br/>\n    throws Exception<br/>\n  {<br/>\n    return IAMSDBInstanceHolder.theInstance;<br/>\n  }<br/>\n<br/>\nThe idiom is a workaround for double checked locking, from Joshua Bloch.<br/>\n<br/>\n<br/>\nWalking the tree to load test classes results in this thing getting<br/>\nloaded, and if there&#39;s no container up, the load blocks for a few<br/>\nseconds before it gives up and I get a stacktrace. <br/>\n<br/>\nAnyway... I&#39;d like to remove the stacktrace noise, but run my tests<br/>\nwithout an ejb container turned on. Any thoughts on how to proceed?<br/>\n<br/>\nBill de hÓra <br/>\n--<br/>\nPropylon<br/>\nwww.propylon.com</div>", 
    "prevInTime": 6010, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1034895555", 
    "canDelete": false, 
    "nextInTopic": 6015, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDAwYmEwMWMyNzYzMCRkMTlhM2ZkMCQxZmM4YzhjOEBtaXRjaHVtPg=="
    }
}