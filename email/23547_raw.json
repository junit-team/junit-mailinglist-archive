{
    "numMessagesInTopic": 12, 
    "nextInTime": 23548, 
    "senderId": "YxLao8oKft3ePsNZuWLrFiFqy-f8-RKkgHjz7D5d8z8vhiULclgQXNPEbDrZN9fvL4o9Sv6QHskLswlegtzvsNk54HUXFAUqXSJzmmUSBcg", 
    "systemMessage": true, 
    "subject": "Re: Chaining of rules", 
    "from": "&quot;Stefan Birkner&quot; &lt;mail@...&gt;", 
    "authorName": "Stefan Birkner", 
    "msgSnippet": "The separation of concerns is essential. If somebody needs to create a composition of two rules, we should provide the tool. Imagine a UserProviderRule and a", 
    "msgId": 23547, 
    "rawEmail": "Return-Path: &lt;mail@...&gt;\r\nReceived: (qmail 55737 invoked from network); 6 Aug 2011 22:55:59 -0000\r\nReceived: from unknown (66.196.94.106)\n  by m17.grp.re1.yahoo.com with QMQP; 6 Aug 2011 22:55:59 -0000\r\nReceived: from unknown (HELO ng4-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.18)\n  by mta2.grp.re1.yahoo.com with SMTP; 6 Aug 2011 22:55:59 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1312671359; bh=vAB0hM/rOZSRLx/xV+cWKXk0G9SQ+ZQBrh5PVTgsdJI=; h=Received:Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:In-Reply-To:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=rKEhyeiHvbDUR2Pa1BgWuTrjS3JvEfTmaLPfIujI1Yockc0IAZeJFTdIp1Q4hiGJPX73X0FgWmMPEpOsghE+uBisVYsU48Cx9ToeDH/tKgyD0hzy6gFcmIP/upfmhnNB\r\nReceived: from [98.139.164.124] by ng4.bullet.mail.bf1.yahoo.com with NNFMP; 06 Aug 2011 22:55:59 -0000\r\nReceived: from [69.147.65.171] by tg5.bullet.mail.bf1.yahoo.com with NNFMP; 06 Aug 2011 22:55:59 -0000\r\nReceived: from [98.137.34.119] by t13.bullet.mail.sp1.yahoo.com with NNFMP; 06 Aug 2011 22:55:59 -0000\r\nX-Sender: mail@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 79751 invoked from network); 6 Aug 2011 22:33:10 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m17.grp.re1.yahoo.com with QMQP; 6 Aug 2011 22:33:10 -0000\r\nX-Received: from unknown (HELO ng18-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.102)\n  by mta2.grp.re1.yahoo.com with SMTP; 6 Aug 2011 22:33:09 -0000\r\nX-Received: from [98.138.217.179] by ng18.bullet.mail.ne1.yahoo.com with NNFMP; 06 Aug 2011 22:33:09 -0000\r\nX-Received: from [69.147.65.151] by tg4.bullet.mail.ne1.yahoo.com with NNFMP; 06 Aug 2011 22:33:09 -0000\r\nX-Received: from [98.137.34.184] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 06 Aug 2011 22:33:09 -0000\r\nDate: Sat, 06 Aug 2011 22:33:09 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;j1kff5+gmqk@...&gt;\r\nIn-Reply-To: &lt;CACj8BuPQPNzzzb=UhdRB94EGoMmqSErLqh3BHmPSCWFQPG4d5Q@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nFrom: &quot;Stefan Birkner&quot; &lt;mail@...&gt;\r\nSubject: Re: Chaining of rules\r\nX-Yahoo-Group-Post: member; u=9154342; y=b6l_BDq4azyCOatQmt5xFUnx918b-jKAwPzg0tGfeMIu1UGD_-mi_4Y\r\nX-Yahoo-Profile: stefan.birkner\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 06 Aug 2011 22:55:57 -0000\r\n\r\nThe separation of concerns is essential. If somebody needs to create a comp=\r\nosition of two rules, we should provide the tool.\n\nImagine a UserProviderRu=\r\nle and a ProductRule. The UserProviderRule creates a user and deletes it af=\r\nter the test. The ProductRule is configured with a user and adds a product =\r\nto its shopping cart and deletes it after the test. Both rules work pretty =\r\nfor itself, but we could create a nice rule by combining the UserProviderRu=\r\nle and the ProductProviderRule. The new rule will create a user with a prod=\r\nuct and delete both after the test.\n\n--- In junit@yahoogroups.com, David Sa=\r\nff &lt;david@...&gt; wrote:\n&gt;\n&gt; Kent,\n&gt; \n&gt; I&#39;ve seen several examples in the wild=\r\n.  Easiest to explain is this: I\n&gt; have an ExternalResource that starts and=\r\n stops an expensive server.  I\n&gt; also have a Timeout rule.  If the Timeout =\r\nis applied around the\n&gt; ExternalResource, then I am asserting that server s=\r\ntartup + test +\n&gt; server stopping all happens within the timeout.  If the\n&gt;=\r\n ExternalResource is applied around the Timeout, then I am ignoring the\n&gt; s=\r\nerver startup time, and just asserting about the test time.\n&gt; \n&gt; One possib=\r\nility is to create specialized TimeoutExternalResource and\n&gt; ExternalResour=\r\nceTimeout rules that bake-in the ordering.  I like the\n&gt; RuleChain approach=\r\n better, because it encourages separation of\n&gt; concerns.\n&gt; \n&gt;    David Saff=\r\n\n&gt; \n&gt; On Mon, Aug 1, 2011 at 10:31 AM, Kent Beck &lt;kentb@...&gt; wrote:\n&gt; &gt; The=\r\n lack of order of rules is by design. Rules are intended to be composeable =\r\nand order-independent. I would need a compelling use case to tighten this c=\r\nonstraint.\n&gt; &gt;\n&gt; &gt; Kent\n&gt; &gt;\n&gt; &gt; On Jul 30, 2011, at 1:33 AM, stefan.birkner=\r\n wrote:\n&gt; &gt;\n&gt; &gt;&gt; Hello,\n&gt; &gt;&gt; sometimes you care about the order of rules. T=\r\nherefore I created a RuleChain, which is a rule itself:\n&gt; &gt;&gt;\n&gt; &gt;&gt; @Rule\n&gt; &gt;=\r\n&gt; public TestRule chain =3D RuleChain.outerRule(new FirstRule()).enclose(ne=\r\nw SecondRule());\n&gt; &gt;&gt;\n&gt; &gt;&gt; What do you thing about the naming outerRule and=\r\n enclose?\n&gt; &gt;&gt;\n&gt; &gt;&gt; What do you think about starting with the outer rule in=\r\nstead of starting with the inner rule:\n&gt; &gt;&gt;\n&gt; &gt;&gt; @Rule\n&gt; &gt;&gt; public TestRule=\r\n chain =3D RuleChain.innerRule(new SecondRule()).enclosedBy(new FirstRule()=\r\n);\n&gt; &gt;&gt;\n&gt; &gt;&gt; If you want to see the code, look at https://github.com/stefan=\r\nbirkner/junit/commit/3584c44bedd8705f30dda4f4213fa45655b998c7\n&gt; &gt;&gt; The issu=\r\ne is https://github.com/KentBeck/junit/issues/193\n&gt; &gt;&gt;\n&gt; &gt;&gt; ciao,\n&gt; &gt;&gt; stef=\r\nan\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message have been r=\r\nemoved]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------\n&gt; &gt;\n&gt; &gt; Yahoo!=\r\n Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "stefan.birkner", 
    "topicId": 23533, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 9154342, 
    "prevInTime": 23546, 
    "contentTrasformed": false, 
    "postDate": "1312669989", 
    "canDelete": false, 
    "nextInTopic": 23550, 
    "prevInTopic": 23546, 
    "headers": {
        "inReplyToHeader": "PENBQ2o4QnVQUVBOenp6Yj1VaGRSQjk0RUdvTW1xU0VyTHFoM0JIbVBTQ1dGUVBHNGQ1UUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGoxa2ZmNStnbXFrQGVHcm91cHMuY29tPg=="
    }
}