{
    "numMessagesInTopic": 287, 
    "nextInTime": 17558, 
    "senderId": "d4-prASIgtGus5407Ygfstcngcv_vMUpWUnIHJksn2i2eMnbHbrns_vNLaLjLvw4i2YyBpkfi3S-p1Q50g7cxH-lUYGgFENdpwA6w1klmw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Test-friendly, but not caller-friendly?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I m sure you meant this as general advice, because I ve certainly measured the speed of database client tests in the course of my work. ... Perhaps Moore s", 
    "msgId": 17557, 
    "profile": "nails762", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-25244699\">Cédric Beust ♔ wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; In my opinion, the slowness of database tests is vastly exaggerated.<br/>\n&gt; <br/>\n&gt; Don&#39;t over-estimate the time taken to contact a localhost database until you<br/>\n&gt; actually start watching the clock tick while your tests run.<br/>\n<br/>\n </span></blockquote>I&#39;m sure you meant this as general advice, because I&#39;ve certainly <br/>\nmeasured the speed of database client tests in the course of my work.<br/>\n<br/>\n<blockquote><span title=\"ireply\">  &gt; And in my<br/>\n&gt; experience, it takes a lot of databases, tables and complex queries to get<br/>\n&gt; there.<br/>\n<br/>\n </span></blockquote>Perhaps Moore&#39;s Law has changed the balance, but when you consider my <br/>\ngoal is 100 tests/second, you can be sure the database client tests <br/>\ndon&#39;t cut the mustard. Even without the arbitrary speed goal, there is a <br/>\ngood reason to avoid testing against the database.<br/>\n<br/>\nIt&#39;s just too easy when testing against the database to write more tests <br/>\nthan is necessary against the database. Rather than 20-30 such tests, <br/>\noften we end up with hundreds, and that&#39;s not just idiot practitioners <br/>\ndoing it. I&#39;ve seen otherwise intelligent, thoughtful people fall into <br/>\nthis trap. This is one of the reasons I advise against it.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Nowadays, databases and networks are extremely fast, so don&#39;t optimize<br/>\n&gt; prematurely. Test the &quot;real code&quot; and wait until the tests start taking a<br/>\n&gt; long time before deciding on a course of action (and when such a thing<br/>\n&gt; happens, I will usually choose not to use mock objects and split my tests<br/>\n&gt; further into &quot;slow&quot; and &quot;fast&quot; groups).<br/>\n<br/>\n </span></blockquote>I agree with you in general (and I&#39;m pretty sure you knew that). I am <br/>\ntalking about years of experience doing this, and not weeks, so I <br/>\nstrongly doubt that I have optimized prematurely (and I&#39;m pretty sure <br/>\nyou haven&#39;t aimed that statement at me in particular).<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Like Elliotte, I like testing real objects, but I don&#39;t hesitate to use<br/>\n&gt; interfaces whenever it makes sense.<br/>\n<br/>\n </span></blockquote>I prefer testing with real objects, if they run entirely in memory and <br/>\nif they don&#39;t make my tests overly complex. Strangely enough, though, <br/>\nreal collaborators tend to make my tests overly complex. They introduce <br/>\nirrelevant details in my tests and make it difficult to pinpoint <br/>\nproblems. It&#39;s about test execution speed, but not exclusively so.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.info\">http://www.jbrains.info</a><br/>\nYour guide to software craftsmanship<br/>\nJUnit Recipes: Practical Methods for Programmer Testing<br/>\n2005 Gordon Pask Award for contribution Agile Software Practice</div>", 
    "prevInTime": 17556, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1156029886", 
    "canDelete": false, 
    "nextInTopic": 17561, 
    "prevInTopic": 17556, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDYwODE3MTYxM20zZTI4YjAxeGQyNGFkNzlmZjE1Mjk2MTlAbWFpbC5nb29nbGUuY29tPg==", 
        "messageIdInHeader": "PDQ0RTc5REJFLjMwMDAyMDdAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDNGQjA4RDZBMjFCM0VDNEQ4NzQ5RUY2RDlFNjI2Mjc4NTZGN0VGQFdEQ0NQTUFJTDAxLm1hcmtldHRvb2xzLmNvbT4JIDw0NEUzMzJDNC4zMDkwMzA1QG1ldGFsYWIudW5jLmVkdT4JIDxiODZiNmE5YzA2MDgxNjEwMDZnYzE2YWNmMnUzNGQyMzIxZjZmMTk1OWY2QG1haWwuZ29vZ2xlLmNvbT4JIDw0NEU0NDA2OS42MDUwNEBtZXRhbGFiLnVuYy5lZHU+IDw0NEU0NTlGQS43MDkwMjA5QG1pbmRzcHJpbmcuY29tPgkgPDQ0RTRCMDRELjYwMzA0MDdAbWV0YWxhYi51bmMuZWR1PiA8NDRFNEY0RDEuMjA0MDQwMUByb2dlcnMuY29tPiA8Yjg2YjZhOWMwNjA4MTcxNjEzbTNlMjhiMDF4ZDI0YWQ3OWZmMTUyOTYxOUBtYWlsLmdvb2dsZS5jb20+"
    }
}