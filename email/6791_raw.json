{
    "numMessagesInTopic": 15, 
    "nextInTime": 6792, 
    "senderId": "KkKUF_rhwF3QCH017DkL7yXOAlmaaNZzlyIW7cb_k26XenVslp7ipatP8LBc-anAm0NVoH9CojR-JNJ8tjGhncrdJvGTzj82DQNlr6AZTC8qk7cu_-OIXPJLTJ1yPbnCUGxMz12O", 
    "systemMessage": false, 
    "subject": "Re: ** How to test objects that depend on other objects with mock objects **", 
    "from": "&quot;tobemligado &lt;jasbell@...&gt;&quot; &lt;jasbell@...&gt;", 
    "authorName": "tobemligado &lt;jasbell@consultant.com&gt;", 
    "msgSnippet": "Hello. REGARDING: Q: Why is ConfigManager a singleton? ==================================================== Its a singleton because it needs to hold some", 
    "msgId": 6791, 
    "rawEmail": "Return-Path: &lt;jasbell@...&gt;\r\nReceived: (qmail 29111 invoked from network); 30 Jan 2003 22:28:27 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m11.grp.scd.yahoo.com with QMQP; 30 Jan 2003 22:28:27 -0000\r\nReceived: from unknown (HELO n17.grp.scd.yahoo.com) (66.218.66.72)\n  by mta2.grp.scd.yahoo.com with SMTP; 30 Jan 2003 22:28:26 -0000\r\nX-eGroups-Return: jasbell@...\r\nReceived: from [66.218.67.248] by n17.grp.scd.yahoo.com with NNFMP; 30 Jan 2003 22:28:22 -0000\r\nX-Sender: jasbell@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 27 Jan 2003 00:15:30 -0000\r\nReceived: (qmail 42298 invoked from network); 27 Jan 2003 00:15:29 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m12.grp.scd.yahoo.com with QMQP; 27 Jan 2003 00:15:29 -0000\r\nReceived: from unknown (HELO n3.grp.scd.yahoo.com) (66.218.66.86)\n  by mta2.grp.scd.yahoo.com with SMTP; 27 Jan 2003 00:15:29 -0000\r\nReceived: from [66.218.67.146] by n3.grp.scd.yahoo.com with NNFMP; 27 Jan 2003 00:15:12 -0000\r\nDate: Mon, 27 Jan 2003 00:15:07 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: ** How to test objects that depend on other objects with mock objects **\r\nMessage-ID: &lt;b11tmb+da5n@...&gt;\r\nIn-Reply-To: &lt;200301261507280259.00821823@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3384\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;tobemligado &lt;jasbell@...&gt;&quot; &lt;jasbell@...&gt;\r\nX-Yahoo-Group-Post: member; u=48242015\r\nX-Yahoo-Profile: tobemligado\r\nX-eGroups-Approved-By: nails762 &lt;jbr@...&gt; via web; 30 Jan 2003 22:28:19 -0000\r\n\r\nHello.\n\nREGARDING: &quot;Q: Why is ConfigManager a singleton?&quot;\n====================================================\nIts a singleton because it needs to hold some state (so I would like \nan instance), its state is to be referred to throughout the uptime of \nthe app, and finally it is called and used by several objects in the \nsystem.  Also, like I said, I want to say &quot;ConfigManager is not valid \nuntil its state (the other objects it loads) has also been \nsuccessfully created&quot;.  \n\nREGARDING:  Your answer:\nI did not originally do what you suggested with the second public \nconstructor because other members of my team will see it and use it \nif they dont know better.  I feel its like &quot;changing the house to fit \nthe door&quot;.\n\nI will now read the article you suggested\n\n\n--- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; &lt;jbr@d...&gt; wrote:\n&gt; So said  tobemligado &lt;jasbell@c...&gt;  on  2003-01-26\n&gt; --------------------\n&gt; \n&gt; &gt;I have a singleton called &quot;ConfigManager&quot;, where in its \nconstructor \n&gt; &gt;it reads in a bunch of files from a directory and creates \nobjectsfrom \n&gt; &gt;the files.  I am doing this because I want to say &quot;ConfigManager \nis \n&gt; &gt;not valid until these other objects have also been successfully \n&gt; &gt;created&quot;.  \n&gt; &gt;\n&gt; &gt;I want the &quot;ConfigManager&quot; to be able to read a directory full \n&gt; &gt;of &quot;bad files&quot; in some test scenarios, a directory full of &quot;good \n&gt; &gt;files&quot; in other test scenarios, and a directory full of &quot;good and \nbad \n&gt; &gt;files&quot; in yet other test scenarios.  Ultimately, the program will \n&gt; &gt;have to handle &quot;good and bad files&quot;,\n&gt; &gt;\n&gt; &gt;My problem is that I need to &quot;trick&quot; the &quot;ConfigManager&quot; into \nusing \n&gt; &gt;the three directories in different test scenarios, but I dont want \nto \n&gt; &gt;alter the fact that all objects are created in &quot;ConfigManager&#39;s&quot; \n&gt; &gt;constructor.  Here is what is in the constructor for the \n&gt; &gt;singleton &quot;ConfigManager&quot;:\n&gt; &gt;----------------------------------------------------\n&gt; &gt;String basePath = ServiceResources.CONFIG_FILE_DIRECTORY;\n&gt; &gt;setBaseDirectory(basePath);\n&gt; &gt;loadAllFilesFound(getBaseDirectory());\n&gt; &gt;loadConfigFilesFound(getAllFilesFoundList());\n&gt; &gt;ArrayList configList = createConfigurations(getConfigFilesFound());\n&gt; &gt;TriggerManager tm = TriggerManager.getInstance();\n&gt; &gt;ArrayList triggerList = tm.createTriggers(configList);\n&gt; &gt;tm.registerTriggers(triggerList);\n&gt; &gt;----------------------------------------------------\n&gt; &gt;\n&gt; &gt;How can I switch the CONFIG_FILE_DIRECTORY value for testing when \nits \n&gt; &gt;in the constructor? \n&gt; \n&gt; 1. Create a new, public constructor. Make the value a constructor\n&gt; parameter.\n&gt; 2. Have the private/protected no-argument constructor delegate to \nthe\n&gt; new constructor passing in the default (production) values.\n&gt; 3. Test through the new constructor.\n&gt; \n&gt; If people ask for the singleton instance, then they get the \nproduction\n&gt; instance. If people use the other constructor, then they have to\n&gt; provide the necessary data for the ConfigManager to work on.\n&gt; \n&gt; Done.\n&gt; \n&gt; Q: Why is ConfigManager a singleton?\n&gt; \n&gt; Google &quot;Use your singletons wisely&quot;. Read it and let me know if it\n&gt; changes your mind to use a singleton.\n&gt; \n&gt; \n&gt; J. B. Rainsberger,\n&gt; President, Diaspar Software Services\n&gt; Let&#39;s write software that people understand.\n&gt; http://www.diasparsoftware.com/\n&gt; telephone: +1 416 791-8603\n&gt; All correspondence (c) 2002 Diaspar Software Services.\n&gt; If you want to use it, just ask; don&#39;t steal.\n\n\n\n", 
    "profile": "tobemligado", 
    "topicId": 6743, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 48242015, 
    "prevInTime": 6790, 
    "contentTrasformed": false, 
    "postDate": "1043626507", 
    "canDelete": false, 
    "nextInTopic": 6792, 
    "prevInTopic": 6777, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMTI2MTUwNzI4MDI1OS4wMDgyMTgyM0BzbXRwLnltLnBodWIubmV0LmNhYmxlLnJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PGIxMXRtYitkYTVuQGVHcm91cHMuY29tPg=="
    }
}