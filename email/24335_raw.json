{
    "numMessagesInTopic": 30, 
    "nextInTime": 24336, 
    "senderId": "m6XHKod2e-GxicfHxvPikRQM6uNfxg7uUBSL7CzJ9P4WJnY-NlBPB4yjrnB4a1BQyhGLUbCLcL3Ngdvk2RoiLROXNyRVvQ", 
    "systemMessage": true, 
    "subject": "Re: Feedback requested: Impending changes to RunListener", 
    "from": "&quot;tibord47&quot; &lt;tibord47@...&gt;", 
    "authorName": "tibord47", 
    "msgSnippet": "I am still thinking of the inner staff. You know that it s not recommended convention to make a class inner unless it uses this pointer of the top class. Then", 
    "msgId": 24335, 
    "rawEmail": "Return-Path: &lt;tibord47@...&gt;\r\nReceived: (qmail 89784 invoked from network); 14 Feb 2013 19:20:36 -0000\r\nReceived: from unknown (10.193.84.150)\n  by m7.grp.bf1.yahoo.com with QMQP; 14 Feb 2013 19:20:36 -0000\r\nReceived: from unknown (HELO ng8-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.58)\n  by mta2.grp.bf1.yahoo.com with SMTP; 14 Feb 2013 19:20:36 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1360869636; bh=7IWH6zVG8bBZSSxwS6qaBt40nNGMdNR/3tPKz0IQKjQ=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=czixL+ROmC0cgWrdvVWi2LGc1tQo671QSdVtRZGkmJabQqFXabtecKiJmQ5xcmZ8q/xcK4RkndIFWISeKq2DUJaVD6apzfh7ntg6xK7d8baYVLe2AbviwHN3x9A7n3wK+wKQA0jVh60E4LDjY2WCPrA6z6RVSkpqOtr0YZJgvBM=\r\nReceived: from [98.139.164.122] by ng8.bullet.mail.bf1.yahoo.com with NNFMP; 14 Feb 2013 19:20:36 -0000\r\nReceived: from [10.193.94.42] by tg3.bullet.mail.bf1.yahoo.com with NNFMP; 14 Feb 2013 19:20:36 -0000\r\nX-Sender: tibord47@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 57880 invoked from network); 14 Feb 2013 19:07:05 -0000\r\nX-Received: from unknown (10.193.84.135)\n  by m5.grp.bf1.yahoo.com with QMQP; 14 Feb 2013 19:07:05 -0000\r\nX-Received: from unknown (HELO ng2-ip2.bullet.mail.bf1.yahoo.com) (98.139.164.141)\n  by mta1.grp.bf1.yahoo.com with SMTP; 14 Feb 2013 19:07:05 -0000\r\nX-Received: from [98.139.164.125] by ng2.bullet.mail.bf1.yahoo.com with NNFMP; 14 Feb 2013 19:07:05 -0000\r\nX-Received: from [10.193.94.42] by tg6.bullet.mail.bf1.yahoo.com with NNFMP; 14 Feb 2013 19:07:05 -0000\r\nDate: Thu, 14 Feb 2013 19:07:05 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;kfjckp+fe3s@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: &quot;tibord47&quot; &lt;tibord47@...&gt;\r\nSubject: Re: Feedback requested: Impending changes to RunListener\r\nX-Yahoo-Group-Post: member; u=507342950; y=X3i6MuKQYzPB2o2ILkyuq_MfXq_wqPyDOGgxWFcA7dzfJBg\r\nX-Yahoo-Profile: tibord47\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 14 Feb 2013 19:20:35 -0000\r\n\r\nI am still thinking of the inner staff. You know that it&#39;s not recommended =\r\nconvention to make a class inner unless it uses this pointer of the top cla=\r\nss.\nThen it should be public annotation in the same package.\n\nHm?\n\n--- In j=\r\nunit@yahoogroups.com, Kevin Cooney  wrote:\n&gt;\n&gt; On Thu, Feb 14, 2013 at 9:27=\r\n AM, tibord47  wrote:\n&gt; \n&gt; &gt; **\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; David, I can confirm that runni=\r\nng annotated listener in 4.11 and compiled\n&gt; &gt; with 4.12 does not throw exc=\r\neption. So the annotation is winner in my eyes.\n&gt; &gt;\n&gt; &gt; Regarding the stati=\r\nc inner annotation in RunListener, this would mean that\n&gt; &gt; other classes w=\r\nhich will maybe later need the same name of annotation will\n&gt; &gt; just duplic=\r\nate again.\n&gt; &gt;\n&gt; Remember, this annotation changes the behavior of JUnit wi=\r\nll have when\n&gt; interacting with classes that extend RunListener. It&#39;s not s=\r\nimply an\n&gt; indication that the listener is thread-safe (though your listene=\r\nr would\n&gt; have to be thread-safe to use this annotation). See my comments i=\r\nn\n&gt; http://goo.gl/6HBNV to see other reasons why I think a top-level JUnit\n=\r\n&gt; ThreadSafe annotation would be problematic\n&gt; \n&gt; I&#39;m personally not too wo=\r\nrried about what might happen if we need to think\n&gt; about indicating the th=\r\nread-safety of extension points somewhere else in\n&gt; JUnit. We could easily =\r\nsupport multiple annotations in the future if we\n&gt; need to, and when that t=\r\nime comes, perhaps JSR-305 will be more mature.\n&gt; \n&gt; -- Kevin\n&gt; \n&gt; \n&gt; &gt;\n&gt; &gt;=\r\n\n&gt; &gt; Cheers,\n&gt; &gt; Tibor\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups.com, Kevin Cooney w=\r\nrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; On Thu, Feb 14, 2013 at 8:38 AM, David Saff wrote:\n&gt; &gt; &gt;\n=\r\n&gt; &gt; &gt; &gt; Hi, all.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Kevin, thank you very much for the summary=\r\n document. I think that a\n&gt; &gt; &gt; &gt; JUnit-specific annotation, which is not n=\r\name-confusable with a standard\n&gt; &gt; &gt; &gt; like @ThreadSafe, seems to be a pret=\r\nty clear winner. If we feel\n&gt; &gt; strongly\n&gt; &gt; &gt; &gt; that it should remain cons=\r\nonant with @ThreadSafe, we could make it a\n&gt; &gt; static\n&gt; &gt; &gt; &gt; inner annotat=\r\nion, and reference it as @....\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;m per=\r\nsonally find with that as long as the JavaDoc for the annotation\n&gt; &gt; &gt; make=\r\ns it clear that a RunListener implementation annotated with that\n&gt; &gt; &gt; inte=\r\nrface will be treated differently than one not annotated with that\n&gt; &gt; &gt; in=\r\nterface when addListener() and removeListener() is called.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt; That might\n&gt; &gt; &gt; &gt; also have the advantage of making clear that i=\r\nt&#39;s a single-purpose\n&gt; &gt; &gt; &gt; annotation (I&#39;d rather not, at this point, sta=\r\nrt speculatively\n&gt; &gt; figuring out\n&gt; &gt; &gt; &gt; what other interfaces might try t=\r\no pun meanings onto a general-purpose\n&gt; &gt; &gt; &gt; ThreadSafe annotation)\n&gt; &gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt; I&#39;m a little curious about the third-party library implementation=\r\n.\n&gt; &gt; Let&#39;s\n&gt; &gt; &gt; &gt; say I write a package FooTest which is compiled against=\r\n JUnit 4.12,\n&gt; &gt; and it\n&gt; &gt; &gt; &gt; contains a FooListener I&#39;d like to mark thr=\r\neadsafe. A client wants to\n&gt; &gt; use\n&gt; &gt; &gt; &gt; it with JUnit 4.11 (she knows sh=\r\ne won&#39;t get the concurrent performance\n&gt; &gt; &gt; &gt; boost, but wants it to just =\r\nwork). The document seems to assume that if\n&gt; &gt; &gt; &gt; FooListener has a RunLi=\r\nstener.TheadSafe annotation, then our client\n&gt; &gt; won&#39;t\n&gt; &gt; &gt; &gt; have a probl=\r\nem (unless, likely, she actually tries to instantiate all\n&gt; &gt; of\n&gt; &gt; &gt; &gt; th=\r\ne annotations from FooListener in her own code).\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Correct =\r\nas of JDK 1.5.0_06. See\n&gt; &gt; &gt;\n&gt; &gt; http://stackoverflow.com/questions/356741=\r\n3/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime=\r\n\n&gt; &gt; &gt;\n&gt; &gt; &gt; It sounds that if the client wants to write code that extends =\r\nFooListener\n&gt; &gt; &gt; then JUnit 4.12 will need to be on the compile-time class=\r\npath\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; However, the document\n&gt; &gt; &gt; &gt; assumes that d=\r\neclaring a marker interface ThreadSafeRunListener _would_\n&gt; &gt; &gt; &gt; break the=\r\n client. Is that true?\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; I believe it would result in a NoC=\r\nlassDefFoundError exception. It should\n&gt; &gt; be\n&gt; &gt; &gt; easy to verify.\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; Note that it may be hard to write a library that has a compile-time\n&gt; =\r\n&gt; &gt; dependency on JUnit 4.12 while being runtime compatible with 4.11 for\n&gt;=\r\n &gt; other\n&gt; &gt; &gt; reasons.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Does FooListener fail at bytecode\n&gt; &gt; &gt;=\r\n &gt; verification because the verifier wants to make sure that it\n&gt; &gt; impleme=\r\nnts all\n&gt; &gt; &gt; &gt; of ThreadSafeRunListener&#39;s methods?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Tha=\r\nt would be my guess.\n&gt; &gt; &gt;\n&gt; &gt; &gt; -- Kevin\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text porti=\r\nons of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; [Non-tex=\r\nt portions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "tibord47", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 507342950, 
    "prevInTime": 24334, 
    "contentTrasformed": false, 
    "postDate": "1360868825", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24334, 
    "headers": {
        "messageIdInHeader": "PGtmamNrcCtmZTNzQGVHcm91cHMuY29tPg=="
    }
}