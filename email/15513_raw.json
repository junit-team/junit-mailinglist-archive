{
    "numMessagesInTopic": 2, 
    "nextInTime": 15514, 
    "senderId": "ZF_9ZhsR4YC1X6y7E0bvF66v60fOM_tqW5-YIJGeB5iqRj9e3y_jsn-DIjaBVjN2PyuEUSzVoaqAHA_QLjWcQyT8S3L7UuPomHrvD0kHIg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Maven/Cactus setup question", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Now you see why I recommend not testing inside the container, most of the time! You need to create two targets:  ", 
    "msgId": 15513, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 45044 invoked from network); 25 Nov 2005 18:45:48 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m28.grp.scd.yahoo.com with QMQP; 25 Nov 2005 18:45:48 -0000\r\nReceived: from unknown (HELO smtp103.rog.mail.re2.yahoo.com) (206.190.36.81)\n  by mta2.grp.scd.yahoo.com with SMTP; 25 Nov 2005 18:45:48 -0000\r\nReceived: (qmail 97728 invoked from network); 25 Nov 2005 18:45:12 -0000\r\nReceived: from unknown (HELO ?192.168.1.112?) (srainsberger5790@...@70.31.219.107 with plain)\n  by smtp103.rog.mail.re2.yahoo.com with SMTP; 25 Nov 2005 18:45:11 -0000\r\nMessage-ID: &lt;43875BB7.4060902@...&gt;\r\nDate: Fri, 25 Nov 2005 13:45:11 -0500\r\nUser-Agent: Thunderbird 1.5 (Macintosh/20051025)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;dltgm2+9ocr@...&gt;\r\nIn-Reply-To: &lt;dltgm2+9ocr@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Maven/Cactus setup question\r\nX-Yahoo-Group-Post: member; u=127224993; y=pVnXbE4e6ea4YaBH5rK2uDVeec-icgWZLxtTb490-qPoXQQ\r\nX-Yahoo-Profile: nails762\r\n\r\nTony Gunter wrote:\n&gt; I am attempting to automate my EJB testing inside a Sun container.  I\n&gt; had hoped to use the Cactus plugin to Maven, but the Sun container is\n&gt; not supported in Cactus.  Only Tomcat, JBoss, Orion, Resin, and\n&gt; WebLogic containers are supported.\n&gt; \n&gt; The Cactus website indicates that other containers can be used by\n&gt; configuring Cactus with a generic container.  Does anyone know how to\n&gt; configure the generic container to support a Sun server? \n&gt; Specifically, the Cactus site states:\n&gt; \n&gt; &quot;The next example shows the use of the generic container element for\n&gt; starting/stopping a custom container. You need to define the two\n&gt; targets mycontainer.start and mycontainer.stop, so that the container\n&gt; is started up (on port 8080) before the tests are run, and shut down\n&gt; after the tests completed. How these targets are implemented is\n&gt; highly dependant on the container. Most likely you&#39;ll need to copy\n&gt; some files and use the &lt;java&gt; task to invoke a container-provided\n&gt; Java class that can start/stop the container.&quot;\n&gt; \n&gt; Which sounds like Greek to me.  Can anyone provide some hints?  I\n&gt; acquired the cookbook, but I think 11.3 skips a few steps that I\n&gt; need.  I think I&#39;m stuck at the point where to add one pound of\n&gt; ground beef, I first have to hunt down and slay a cow.\n\nNow you see why I recommend not testing inside the container, most of \nthe time!\n\nYou need to create two targets:\n\n&lt;target name=&quot;mycontainer.start&quot; ... /&gt;\n&lt;target name=&quot;mycontainer.stop&quot; ... /&gt;\n\nThe first starts the container on port 8080 before the tests are run, \nthe second shuts down the container after the tests are run. If you can \nstart/stop the container with a Java program, then you can use the \n&lt;java&gt; task to do that.\n\nI don&#39;t know how to start/stop the Sun container, but I can use JBoss as \nan example.\n\nIn JBoss&#39; run.sh, there is this:\n\n---- tail of run.sh ----\nSTATUS=10\nwhile [ $STATUS -eq 10 ]\ndo\n# Execute the JVM\n    &quot;$JAVA&quot; $JAVA_OPTS &#92;\n       -Djava.endorsed.dirs=&quot;$JBOSS_ENDORSED_DIRS&quot; &#92;\n       -classpath &quot;$JBOSS_CLASSPATH&quot; &#92;\n       org.jboss.Main &quot;$@&quot;\n    STATUS=$?\n    # if it doesn&#39;t work, you may want to take a look at this:\n    #    http://developer.java.sun.com/developer/bugParade/bugs/4465334.html\ndone\n---- tail of run.sh ----\n\nThis is running a Java program called org.jboss.Main. This means that if \nI can get the class path and variables right, I can use this Ant task to \nrun it:\n\n&lt;java fork=&quot;yes&quot; classname=&quot;org.jboss.Main&quot;&gt;\n     &lt;classpath&gt;\n         ...\n     &lt;/classpath&gt;\n     &lt;arg line=&quot;...&quot; /&gt;\n&lt;/java&gt;\n\nThis would be the &quot;mycontainer.start&quot; target.\n\nThe easiest way to get the right classp ath is to echo it in the script \nbefore executing it.\n\n---- tail of edited run.sh ----\nSTATUS=10\nwhile [ $STATUS -eq 10 ]\ndo\n# Echo the command used to run JBoss\necho &quot;$JAVA&quot; $JAVA_OPTS &#92;\n     -Djava.endorsed.dirs=&quot;$JBOSS_ENDORSED_DIRS&quot; &#92;\n     -classpath &quot;$JBOSS_CLASSPATH&quot; &#92;\n     org.jboss.Main &quot;$@&quot;\n\n# Execute the JVM\n    &quot;$JAVA&quot; $JAVA_OPTS &#92;\n       -Djava.endorsed.dirs=&quot;$JBOSS_ENDORSED_DIRS&quot; &#92;\n       -classpath &quot;$JBOSS_CLASSPATH&quot; &#92;\n       org.jboss.Main &quot;$@&quot;\n    STATUS=$?\n    # if it doesn&#39;t work, you may want to take a look at this:\n    #    http://developer.java.sun.com/developer/bugParade/bugs/4465334.html\ndone\n---- tail of edited run.sh ----\n\nWhen I run this, I see:\n\n/System/Library/Frameworks/JavaVM.framework/Versions/1.4.2/Home/bin/java \n-server -Xms128m -Xmx128m -Dprogram.name=run.sh \n-Djava.endorsed.dirs=/Applications/jboss-4.0.0/lib/endorsed -classpath \n/Applications/jboss-4.0.0/bin/run.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.4.2/Home/lib/tools.jar \norg.jboss.Main\n\nI can make this my &lt;java&gt; task:\n\n&lt;target name=&quot;mycontainer.start&quot;&gt;\n     &lt;java fork=&quot;yes&quot; classname=&quot;org.jboss.Main&quot;&gt;\n         &lt;classpath&gt;\n             &lt;path location=&quot;/Applications/jboss-4.0.0/bin/run.jar&quot; /&gt;\n             &lt;path \nlocation=&quot;/System/Library/Frameworks/JavaVM.framework/Versions/1.4.2/Home/lib/tools.jar&quot; \n/&gt;\n         &lt;/classpath&gt;\n         &lt;arg line=&quot;-server -Xms128m -Xmx128m -Dprogram.name=run.sh \n-Djava.endorsed.dirs=/Applications/jboss-4.0.0/lib/endorsed&quot; /&gt;\n     &lt;/java&gt;\n&lt;/target&gt;\n\nThat ought to do it. I haven&#39;t tried it, but that ought to do it. You \ncan use the same technique to figure out the mycontainer.stop task, \nwhich comes from the shutdown.sh script in JBoss.\n\nI&#39;m assuming that the Sun container works similarly.\n\nGood luck.\n-- \nJ. B. (Joe) Rainsberger :: http://www.jbrains.info\nYour guide to software craftsmanship\nJUnit Recipes: Practical Methods for Programmer Testing\n2005 Gordon Pask Award for contribution Agile Software Practice\n\n", 
    "profile": "nails762", 
    "topicId": 15484, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 15512, 
    "contentTrasformed": false, 
    "postDate": "1132944311", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15484, 
    "headers": {
        "inReplyToHeader": "PGRsdGdtMis5b2NyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQzODc1QkI3LjQwNjA5MDJAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGRsdGdtMis5b2NyQGVHcm91cHMuY29tPg=="
    }
}