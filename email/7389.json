{
    "numMessagesInTopic": 14, 
    "nextInTime": 7390, 
    "senderId": "dYx9WSPLQEV7HpFHc7Wi5UExef4M4rTnaYNYDCDPH6RuOF7hi3-yTVuLIjnHT4VaVzdE-funq23BCNX7bkGjsryeRVmoOfRHDC3X4JZh680u", 
    "systemMessage": false, 
    "subject": "Re: How do I make Unit Testing practical?", 
    "from": "&quot;Richard Jensen&quot; &lt;rjensen@...&gt;", 
    "authorName": "Richard Jensen", 
    "msgSnippet": "... or ... testing. ... downloaded ... impossible. ... Sometime when we want to start unit testing, all we have is a big ball of mud . But think of your test", 
    "msgId": 7389, 
    "profile": "richardhjensen", 
    "topicId": 7360, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 118405, 
    "messageBody": "<div id=\"ygrps-yiv-1956064325\">--- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;swpalmer2001&quot; &lt;scott.palmer@2...&gt; <br/>\nwrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; First off I better say up front that this is not meant as a troll, <br/>\n </span></blockquote>or<br/>\n<blockquote><span title=\"ireply\"> &gt; to start some sort of flame war about unit testing....  I&#39;m really<br/>\n&gt; looking for simple insight from people who have been where I am now,<br/>\n&gt; links to articles on the web and so forth....<br/>\n&gt; <br/>\n&gt; I like, the rest off you, have heard great things about unit <br/>\n </span></blockquote>testing.<br/>\n<blockquote><span title=\"ireply\"> &gt;  I believe a lot of it.  I want to start writing unit tests for my<br/>\n&gt; code and in general improve my development practices.   So I <br/>\n </span></blockquote>downloaded<br/>\n<blockquote><span title=\"ireply\"> &gt; JUnit, and read through some articles and examples.<br/>\n&gt; <br/>\n&gt; They are all too trivial.<br/>\n&gt; <br/>\n&gt; I am struggling as to how I can write unit tests for &quot;real code&quot;.   <br/>\n&gt; Most of the examples I see are testing objects that are VERY general<br/>\n&gt; (lists, or other simple container classes, a calculator, etc..).   <br/>\n&gt; But my &quot;real classes&quot; are written for my &quot;real application&quot; and as<br/>\n&gt; such there is an entire environment that is created as they work<br/>\n&gt; together.  Testing the classes in isolation seems next to <br/>\n </span></blockquote>impossible.<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n </span></blockquote>Sometime when we want to start unit testing, all we have is a<br/>\n&#39;big ball of mud&#39;. But think of your test cases as applications<br/>\nusing the user-accessible API as a starting point.<br/>\n<br/>\nThe following is a C++ example I recently worked on BECAUSE I<br/>\ndon&#39;t have visibility of unit tests down in the core of the<br/>\nproduct. (Sorry it&#39;s not a JUnit example, but I&#39;ve been doing<br/>\nmostly C++ for the last few months.)<br/>\n<br/>\nstatic DefineTestCase(RelationshipSupervises, QueryTests)<br/>\n{<br/>\n    // Want to test queries in database, not cache<br/>\n    clearCache();<br/>\n    pass_if(areEqual(0, pCacheMgr-&gt;numInstances()));<br/>\n    Manager_Cltn_var mngrs;<br/>\n    mngrs = managerFact-&gt;allInstances();<br/>\n    pass_if(areEqual(2, mngrs-&gt;length()));<br/>\n    Manager_var currMgr;<br/>\n    bool unexpectedMgr = kps_false;<br/>\n    for (int mgrIndx=0; mgrIndx &lt; mngrs-&gt;length(); ++mgrIndx)<br/>\n    {<br/>\n        currMgr = (*mngrs)[mgrIndx];<br/>\n        FullName_var mgrName = currMgr-&gt;name();<br/>\n        Employee_Cltn_var supervises = currMgr-&gt;supervises();<br/>\n#if defined(SHOW_RESULTS)<br/>\n        std::cout &lt;&lt; *currMgr-&gt;name() &lt;&lt; &quot; supervises &quot; &lt;&lt; supervises-<br/>\n<blockquote><span title=\"ireply\"> &gt;length()<br/>\n </span></blockquote>            &lt;&lt; &quot; employees &quot; &lt;&lt; std::endl;<br/>\n#endif<br/>\n        Employee_var currEmp;<br/>\n        bool unexpectedEmp = kps_false;<br/>\n        if (strcmp(mgrName-&gt;last, &quot;Jekel&quot;) == 0)<br/>\n        {<br/>\n            pass_if(areEqual(3, supervises-&gt;length()));<br/>\n            for (int empIndx=0; empIndx &lt; supervises-&gt;length(); <br/>\n++empIndx)<br/>\n            {<br/>\n                currEmp = (*supervises)[empIndx];<br/>\n#if defined(SHOW_RESULTS)<br/>\n                std::cout &lt;&lt; &quot;&#92;t&quot; &lt;&lt; *currEmp-&gt;name() &lt;&lt; std::endl;<br/>\n#endif<br/>\n                FullName_var empName = currEmp-&gt;name();<br/>\n                if (strcmp(empName-&gt;last, &quot;Simpson&quot;) == 0)<br/>\n                {<br/>\n                } else if (strcmp(empName-&gt;last, &quot;Jackson&quot;) == 0)<br/>\n                {<br/>\n                } else if (strcmp(empName-&gt;last, &quot;Abrams&quot;) == 0)<br/>\n                {<br/>\n                }<br/>\n                else<br/>\n                {<br/>\n                    unexpectedEmp = kps_true;<br/>\n                }<br/>\n            }<br/>\n        }<br/>\n        else if (strcmp(mgrName-&gt;last, &quot;Nash&quot;) == 0)<br/>\n        {<br/>\n            pass_if(areEqual(4, supervises-&gt;length()));<br/>\n            for (int empIndx=0; empIndx &lt; supervises-&gt;length(); <br/>\n++empIndx)<br/>\n            {<br/>\n                currEmp = (*supervises)[empIndx];<br/>\n#if defined(SHOW_RESULTS)<br/>\n                std::cout &lt;&lt; &quot;&#92;t&quot; &lt;&lt; *currEmp-&gt;name() &lt;&lt; std::endl;<br/>\n#endif<br/>\n                FullName_var empName = currEmp-&gt;name();<br/>\n                if (strcmp(empName-&gt;last, &quot;Swanson&quot;) == 0)<br/>\n                {<br/>\n                } else if (strcmp(empName-&gt;last, &quot;Mawbry&quot;) == 0)<br/>\n                {<br/>\n                } else if (strcmp(empName-&gt;last, &quot;Jekel&quot;) == 0)<br/>\n                {<br/>\n                } else if (strcmp(empName-&gt;last, &quot;Colson&quot;) == 0)<br/>\n                {<br/>\n                }<br/>\n                else<br/>\n                {<br/>\n                    unexpectedEmp = kps_true;<br/>\n                }<br/>\n            }<br/>\n        }<br/>\n        else<br/>\n        {<br/>\n            unexpectedMgr = kps_true;<br/>\n        }<br/>\n        fail_if(unexpectedEmp);<br/>\n    }<br/>\n    fail_if(unexpectedMgr);<br/>\n    for (int clrIndx=0; clrIndx &lt; mngrs-&gt;length(); ++clrIndx)<br/>\n    {<br/>\n        (*mngrs)[clrIndx].tryClear(kps_true);<br/>\n    }<br/>\n}<br/>\n<br/>\nI&#39;m testing the public API against a known data set.<br/>\nBut, having the tests allows me to make sure that the<br/>\nunderlying table structure does not affect how the queries<br/>\nthemselves work.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Some people will be quick to jump in and say that this must be a<br/>\n&gt; fundamental problem with my design.. my classes shouldn&#39;t be so<br/>\n&gt; dependent on each other, or something similar.    In some (trivial)<br/>\n&gt; cases it is possible to write stand alone classes, and they are<br/>\n&gt; fairly easy to test in isolation.  But a complex application needs<br/>\n&gt; all sorts of classes that bind trivial bits together... and these<br/>\n&gt; classes must rely on the very classes that they are causing to work<br/>\n&gt; together.<br/>\n&gt; <br/>\n&gt; I find that it is these classes that are difficult to<br/>\n&gt; compartmentalize where most of my bugs tend to show up anyway, but <br/>\n </span></blockquote>of<br/>\n<blockquote><span title=\"ireply\"> &gt; course not always.   How do you unit test such beasts?<br/>\n&gt; <br/>\n </span></blockquote>Start outside and work your way in. Once you have good<br/>\nfunctional coverage outside a certain layer, you can refactor<br/>\nthe internals to BE more test-friendly (and know if you broke<br/>\nsomething). At least, that&#39;s what *I&#39;m* hoping to do. :-)<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; So far in all my attempts to get started at this I find that the <br/>\n </span></blockquote>test<br/>\n<blockquote><span title=\"ireply\"> &gt; code itself becomes very complex - not as complex as my application,<br/>\n&gt; but enough that the time I would end up writing and debugging the<br/>\n&gt; test seems completely unreasonable.   I would love to have the<br/>\n&gt; finished tests, but I simply can&#39;t see how I could justify writing<br/>\n&gt; them, as it would more than double my design and coding development<br/>\n&gt; time.<br/>\n&gt; <br/>\n </span></blockquote>I just wrote as if I were a user of the product, and did very<br/>\nsimple asserts.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; In the end I would almost end up with an &quot;automated user&quot;, and of<br/>\n&gt; course that is a tad extreme and prone to it&#39;s own sorts of errors<br/>\n&gt; and assumptions.<br/>\n&gt; <br/>\n&gt; I&#39;ve told co-workers about what I have read about unit testing,<br/>\n&gt; testing frameworks etc.  None of my co-workers do unit tests, and ll<br/>\n&gt; of them have the same attitude.  Unit testing is too<br/>\n&gt; complex/difficult to use when making real complete programs.<br/>\n&gt; <br/>\n </span></blockquote>It is unbelievable how FREEING having unit tests in place can be.<br/>\nUntil you&#39;ve had the experience of the test you wrote last week<br/>\ncaught something you changed today, you might not appreciate that,<br/>\nbut (I feel) you can go faster with good tests in place.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; So I&#39;m asking... Who else has been down this path?  How do I get <br/>\n </span></blockquote>past<br/>\n<blockquote><span title=\"ireply\"> &gt; this point?   Am I making sense or have I just gotten something<br/>\n&gt; completely wrong? Or is this unit testing just a passing fad that is<br/>\n&gt; really nothing more than a bunch of hype?<br/>\n<br/>\n </span></blockquote>I&#39;m overcoming my fear. :-)<br/>\nI&#39;m proceeding down the path, but I&#39;m not much further along<br/>\nthan you.<br/>\n<br/>\nRichard.</div>", 
    "prevInTime": 7388, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1049246716", 
    "canDelete": false, 
    "nextInTopic": 7390, 
    "prevInTopic": 7360, 
    "headers": {
        "inReplyToHeader": "PGI2Y3JpMCs5aGllQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGI2ZGU1cytwaDJsQGVHcm91cHMuY29tPg=="
    }
}