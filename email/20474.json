{
    "numMessagesInTopic": 4, 
    "nextInTime": 20475, 
    "senderId": "T00H8VsRL3Ej3D3htiCadBgzZAxdshtSO6_O360Be8oMQTHFJTqVU_Mx1sx1ZZkCdeG6Wa1xLiSxiHkMqstPBo43KtbCAVk6fXxYQA", 
    "systemMessage": true, 
    "subject": "Re: Extending JUnit with first-class dependencies", 
    "from": "&quot;adrian.kuhn&quot; &lt;adrian.kuhn@...&gt;", 
    "authorName": "adrian.kuhn", 
    "msgSnippet": "Hello Cédric, Thank you for your comments! ... I am not sure if I completly understood that remark. But, let me quickly explain what happens behinde the", 
    "msgId": 20474, 
    "profile": "adrian.kuhn", 
    "topicId": 20471, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 345034378, 
    "messageBody": "<div id=\"ygrps-yiv-582819285\">Hello Cédric,<br/>\n<br/>\nThank you for your comments!<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; 1) I find it a bit odd that inside a class Stack, you find yourself creating<br/>\n&gt; a brand new instance of Stack and passing it around, instead of just reusing<br/>\n&gt; the same instance (I realize it&#39;s because JUnit creates a new instance<br/>\n&gt; before each test, but this doesn&#39;t strike me as optimal)<br/>\n<br/>\n </span></blockquote>I am not sure if I completly understood that remark. But, let me quickly explain what <br/>\nhappens behinde the curtains when JExample executes those two methods. Lets assume <br/>\nthey are implemented in TestStack as follows<br/>\n<br/>\n@RunWith(JExampleRunner.class) <br/>\npublic class StackTest { <br/>\n    ....<br/>\n} <br/>\n<br/>\nWhat happens is<br/>\n<br/>\n1. JUnit reads the RunWith annotation and hands over to JExample<br/>\n2. JExample reads all annotations of all methods (if depedencies go across classes, even <br/>\nthose of other classes).<br/>\n3. JExample builds an execution graph of the test methods<br/>\n4. JExample runs the methods in topological sort order, that is<br/>\n4.1 call testPush<br/>\n4.2 cache return value<br/>\n4.3 call testPop (passing the return value)<br/>\n<br/>\nIf there is more than one &quot;consumer&quot; the cached values get cloned before passing along. If <br/>\nthe objects do not implement Cloneable, the &quot;producer&quot; is invoked again. We just see a<br/>\ntest method as an comprehensive constructor. Hence we have NO setup methods, the<br/>\nfixture is always what was returned by another test method.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; 2) Your current implementation will break if a method gets renamed, which is<br/>\n&gt; why, while TestNG supports direct method dependencies with<br/>\n&gt; [...snip...]<br/>\n&gt; The advantage of this approach is that it is independent of method names<br/>\n&gt; (&quot;refactoring safe&quot;&quot;) and it captures the fact that any test method that<br/>\n&gt; populates the stack is a valid prerequisite to testing pop().  In other<br/>\n&gt; words, you can add more methods to the group &quot;populate&quot; and everything will<br/>\n&gt; work as long as all these methods leave the stack populated with at least<br/>\n&gt; one element.<br/>\n<br/>\n </span></blockquote>That is true, current renaming breaks our implementation.<br/>\nNote the difference to: renaming breaks our current implementation.<br/>\n<br/>\nWe thought about taking special action, but then, decided to &quot;design for forward-<br/>\ncompatibility&quot;. Why? JExamples design will last, the refactoring feature of Eclipes (and <br/>\nothers) will improve and one day include references in string literals. In fact, when <br/>\nrenaming packages and classes this is already done by eclipse!!! So, somday they do that <br/>\nfor methods as well.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Anyway, I&#39;m glad to see test dependencies receive the attention they deserve<br/>\n&gt; :-)<br/>\n<br/>\n </span></blockquote>Dependencies for president! :)<br/>\n<br/>\ncheers,<br/>\nAA<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; -- <br/>\n&gt; Cédric<br/>\n&gt; <br/>\n&gt; On Sat, May 3, 2008 at 10:09 PM, adrian.kuhn &lt;adrian.kuhn@...&gt; wrote:<br/>\n&gt; <br/>\n&gt; &gt;   Welcome everyone,<br/>\n&gt; &gt;<br/>\n&gt; &gt; I am new here and hope that this is the right place to announce a novel<br/>\n&gt; &gt; JUnit extensions. If not, please point us to the proper<br/>\n&gt; &gt; place.<br/>\n&gt; &gt;<br/>\n&gt; &gt; JExample is an extensions that introduces dependencies. But unlike eg<br/>\n&gt; &gt; TestNG, we go beyond mere dependencies. We use<br/>\n&gt; &gt; dependencies to pass the &quot;instance under test&quot; from one the test method to<br/>\n&gt; &gt; the next. If test B depends on A, the return value of A<br/>\n&gt; &gt; can be used as B&#39;s fixture. And if A test fails, B and all other dependees<br/>\n&gt; &gt; of A are skipped and marked as white. We show in an<br/>\n&gt; &gt; empirical study (accepted at the XP2008 conference) that JExample improves<br/>\n&gt; &gt; performance, shortness of test methods, and defect<br/>\n&gt; &gt; localization.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Let me give an example :)<br/>\n&gt; &gt;<br/>\n&gt; &gt; Testing a stack is not trivial, there is an intrinsic dependency between<br/>\n&gt; &gt; pushing and popping elements. An element can not be<br/>\n&gt; &gt; popped without pushing it first. Intrinsic dependencies are evil. If there<br/>\n&gt; &gt; is a bug in push, both push&#39;s and pop&#39;s test fail, even if<br/>\n&gt; &gt; there is no bug in pop! Therefore, we declare that testPop depends on the<br/>\n&gt; &gt; successful outcome of testPush. When running the<br/>\n&gt; &gt; tests, the return value of testPush is used as the fixture of testPop.<br/>\n&gt; &gt;<br/>\n&gt; &gt; @Test<br/>\n&gt; &gt; public Stack testPush() {<br/>\n&gt; &gt; Stack s = new Stack();<br/>\n&gt; &gt; s.push(&quot;Foo&quot;);<br/>\n&gt; &gt; assertEquals(1, s.size());<br/>\n&gt; &gt; return s;<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; @Test<br/>\n&gt; &gt; @Depends(&quot;testPush&quot;)<br/>\n&gt; &gt; public void testPop(Stack s) {<br/>\n&gt; &gt; s.pop(&quot;Foo&quot;);<br/>\n&gt; &gt; assertEquals(0, s.size());<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; Using JExample, each test method is a comprehensive constructor that<br/>\n&gt; &gt; creates an example instance of the unit under test. That is<br/>\n&gt; &gt; also why JExample is called JExample. The idea of example-driven testing is<br/>\n&gt; &gt; based on the work of Markus Gaelli.<br/>\n&gt; &gt;<br/>\n&gt; &gt; You can learn more about JExample here<br/>\n&gt; &gt;<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.iam.unibe.ch/~akuhn/blog/2008/04/jexample-\">http://www.iam.unibe.ch/~akuhn/blog/2008/04/jexample-</a><br/>\n </span></blockquote>quickstart/&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.iam.unibe.ch/%7Eakuhn/blog/2008/04/jexample-quickstart/\">http://www.iam.unibe.ch/%7Eakuhn/blog/2008/04/jexample-quickstart/</a>&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; <br/>\n </span></blockquote><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.iam.unibe.ch/~scg/Research/JExample/&lt;http://www.iam.unibe.ch/%7Escg/Re\">http://www.iam.unibe.ch/~scg/Research/JExample/&lt;http://www.iam.unibe.ch/%7Escg/Re</a><br/>\nsearch/JExample/&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt;<br/>\n&gt; &gt; Download<br/>\n&gt; &gt;<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.iam.unibe.ch/~scg/Research/JExample/jexample-\">http://www.iam.unibe.ch/~scg/Research/JExample/jexample-</a><br/>\n </span></blockquote>latest.jar&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.iam.unibe.ch/%7Escg/Research/JExample/jexample-latest.jar\">http://www.iam.unibe.ch/%7Escg/Research/JExample/jexample-latest.jar</a>&gt;<br/>\n<blockquote><span title=\"qreply\"> &gt; &gt;<br/>\n&gt; &gt; Please give it a try (JExample is a seamless extension of JUnit and even<br/>\n&gt; &gt; runs with the normal JUnit runner of Eclipse) and let us<br/>\n&gt; &gt; know what you think.<br/>\n&gt; &gt;<br/>\n&gt; &gt; cheers,<br/>\n&gt; &gt; Adrian<br/>\n&gt; &gt;<br/>\n&gt; &gt;  <br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20473, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1209983683", 
    "canDelete": false, 
    "nextInTopic": 20479, 
    "prevInTopic": 20472, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDgwNTA0MDc1NnI1NDlmNDljM3ljMWI1ZDAxNzNlZmFmMGZmQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZ2bW5zMyt1YW5wQGVHcm91cHMuY29tPg=="
    }
}