{
    "numMessagesInTopic": 14, 
    "nextInTime": 3507, 
    "senderId": "jhqL3yXunjvqpOeypF0z9AlXQp_s4NZPNAb6HSqf17EvtqUQGRENQiOD9OXsuLpWZYJTZUV2GH44oLjkA4FLpf2yBM1kO8soMQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Static class behavior", 
    "from": "&quot;Thomas SMETS&quot; &lt;tsmets@...&gt;", 
    "authorName": "Thomas SMETS", 
    "msgSnippet": "Hi Mike These mails should probably be posted on an Advanced ML like the Advance-java@yahoogroups.com, instead. I read the paper you advised & drew some", 
    "msgId": 3506, 
    "profile": "smetsthomas", 
    "topicId": 3503, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 20361908, 
    "messageBody": "<div id=\"ygrps-yiv-1802402458\">\n<html><head>\n \n \n<style></style>\n</head>\n \n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Hi Mike</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">These mails should probably \nbe posted on an Advanced ML like the <a rel=\"nofollow\"\n target=\"_blank\" href=\"mailto:Advance-java@yahoogroups.com\">Advance-java@yahoogroups.com</a>, \ninstead. I read the paper you advised &amp; drew some conclusion on my app \ndesign. </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Could you tell me if I&#39;m \nright or not ?</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Problem statement \n:</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; The Data class allows \nto access Data in a formatted file (similar to DBF).</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; Change request is to \nenable multiclient simultaneous access.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\"></font>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Solution 1 :</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; Singelton is right but \nthrows too much code dependencies in the system which </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; as a direct \nconsequence of making unit testing rather painfull when there is </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; some (more) change \nrequests.</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp; singelton has \nsomething fundamently wrong : </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp;&nbsp;&nbsp; class do \nnot need to know how they are used.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp;&nbsp;&nbsp; Access to \nsingle instance should be made via a ToolBox returning </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp;&nbsp;&nbsp; instances \nof the class as requested. </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\"></font>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Solution 2 :</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp;&nbsp;&nbsp; Client \ncode should be told&nbsp;</font><font color=\"#008080\" face=\"Courier New\" size=\"2\">to \naccess the class via&nbsp;an external Factory.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp;&nbsp;&nbsp; Problem is \nnot yet perfectly solved.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">&nbsp;&nbsp;&nbsp; \n</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">I cannot formalize yet the \nnext step in the logic, but I more or less consider it as making a move from a \nFactory to a method factory. I probably need a few more days to grasp the \ninternals of that.</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">I also wonder why the code \ntalks straight to the instance rather that to interfaces.</font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Though slightly slower, that \nwould be to me the ultimate abstraction in the system more than the method \nfactory.&nbsp; </font></div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\"></font>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Do you agree with that \n?</font></div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Tx,</font></div>\n<div>&nbsp;</div>\n<div><font color=\"#008080\" face=\"Courier New\" size=\"2\">Thomas,</font></div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<blockquote><span title=\"qreply\"> <blockquote\n style=\"BORDER-LEFT:#008080 2px solid;MARGIN-LEFT:5px;MARGIN-RIGHT:0px;PADDING-LEFT:5px;PADDING-RIGHT:0px;\">\n  <div style=\"FONT:10pt arial;\">----- Original Message ----- </div>\n  <div\n style=\"BACKGROUND:#e4e4e4;FONT:10pt arial;\"><b>From:</b> \n  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mike@...\" title=\"mike@...\">Mike Clark</a> \n  </div>\n  <div style=\"FONT:10pt arial;\"><b>To:</b> <a rel=\"nofollow\"\n target=\"_blank\" href=\"mailto:junit@yahoogroups.com\"\n title=\"junit@yahoogroups.com\">junit@yahoogroups.com</a> </div>\n  <div style=\"FONT:10pt arial;\"><b>Sent:</b> Sunday, December 09, 2001 11:42 \n  PM</div>\n  <div style=\"FONT:10pt arial;\"><b>Subject:</b> Re: [junit] Testing Static class \n  behavior</div>\n  <div><br></div><tt>Thomas SMETS wrote:<br><br>&gt; Hi,<br>&gt; I&#39;m currently \n  testing a Class behavior onto which the<br>&gt; Factory (getInstance(param1, \n  param2, ...)) is playing a crucial role.<br>&gt; That is the class has some \n  sort of a Singelton pattern where existing<br>&gt; reference for the singelton \n  factory are used to determine if a reference to<br>&gt; a particula instance \n  already exists.<br>&gt;<br>&gt; I therefore would need to regerister the class \n  to have the static<br>&gt; variablebeing re-initialized. I there something in \n  Java ?<br>&gt;<br><br>Hi Thomas,<br><br>Depending on the implementation of the \n  singleton you&#39;re attempting to test, it<br>may be possible to obtain a \n  reference to its sole instance (or instances) and<br>assign it a null \n  value.&nbsp; If the implementation uses lazy initialization, this<br>may \n  trigger reinitialization on the next invocation of getInstance().<br><br>If \n  you haven&#39;t already read J.B. Rainsberger&#39;s article on the use \n  and<br>testability of singletons, I highly recommend \n  it:<br><br>&nbsp;&nbsp;&nbsp; <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://www-106.ibm.com/developerworks/webservices/library/co-single.html\">http://www-106.ibm.com/developerworks/webservices/library/co-single.html</a><br><br>In \n  general, singletons are often overused and can be difficult to test, \n  and<br>J.B.&#39;s article offers some practical \n  alternatives.<br><br>Regards,<br><br>Mike<br><br>--<br>Mike Clark<br>Clarkware \n  Consulting, Inc.<br><a rel=\"nofollow\"\n target=\"_blank\" href=\"http://www.clarkware.com\">http://www.clarkware.com</a><br>720.851.2014<br><br><br></tt><br><br><tt>To \n  unsubscribe from this group, send an email \n  to:<br>junit-unsubscribe@yahoogroups.com<br></tt><br><br><tt>Your use of \n  Yahoo! Groups is subject to the <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">Yahoo! Terms of Service</a>.</tt> \n<br></blockquote></span></blockquote></html> \n</div>", 
    "prevInTime": 3505, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1007987069", 
    "canDelete": false, 
    "nextInTopic": 3507, 
    "prevInTopic": 3505, 
    "headers": {
        "messageIdInHeader": "PDAxODAwMWMxODE3NSRlODk0NjJjMCQ5M2VlNDRkNEBwbG9wPg==", 
        "referencesHeader": "PDAwM2IwMWMxODEwMSQ4NDcxMWI0MCQ5M2VlNDRkNEBwbG9wPiA8M0MxM0U4RDAuNjdBMjg2MEBjbGFya3dhcmUuY29tPg=="
    }
}