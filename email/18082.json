{
    "numMessagesInTopic": 18, 
    "nextInTime": 18083, 
    "senderId": "03_-0adr8FRmhJrmDl2bX77nPrk_520lla4p3tH0K6ojDItSzmEMg5prVBodMxlXE_FxNJWROBoBy1NNsI3I-uu54OPmlmTm6qc7iy1afpiBjA", 
    "systemMessage": false, 
    "subject": "Re: Comparing Arrays with Assert.assertEquals in Junit 4.1", 
    "from": "&quot;putnam_david_t&quot; &lt;davidtputnam@...&gt;", 
    "authorName": "putnam_david_t", 
    "msgSnippet": "I have inserted the casts and the array comparisons are working well. *Except* when the array elements are null. String[] expected = { 7 , null, 9 , 0 }; ", 
    "msgId": 18082, 
    "profile": "putnam_david_t", 
    "topicId": 18028, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 92755177, 
    "messageBody": "<div id=\"ygrps-yiv-1634932753\">I have inserted the casts and the array comparisons are<br/>\nworking well. *Except* when the array elements are null.<br/>\n<br/>\nString[] expected = {&quot;7&quot;, null, &quot;9&quot;,<br/>\n&quot;0&quot;};<br/>\nString[] received = testingClass.getManyAttribs();<br/>\norg.junit.Assert.assertEquals(expected, received);<br/>\n<br/>\nCauses:<br/>\njava.lang.NullPointerException<br/>\n\tat org.junit.Assert.assertEquals(Assert.java:128)<br/>\n\tat org.junit.Assert.assertEquals(Assert.java:144)<br/>\n...<br/>\n<br/>\nIt looks like the check to see if each element might itself<br/>\nbe an array fails when the element is null. o1.getClass() -&gt;<br/>\nNPE.  Looks like the same style of null checking from the<br/>\ninitial arguments is needed before the recursive call to<br/>\nassertEquals.<br/>\n<br/>\nOne reason I suggested not casting is that within the<br/>\nassertEquals(Object, Object) code, you could recursivly invoke<br/>\nassertEquals(Object, Object) without dealing with the special case<br/>\nthat both elements are also arrays.<br/>\n<br/>\nDavid<br/>\n<br/>\nThanks,<br/>\nDavid<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Kent Beck&quot; &lt;kentb@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; David, Jason, and all:<br/>\n&gt;  <br/>\n&gt; Thank you for the suggestion. I have checked in a change to handle<br/>\nthis. The<br/>\n&gt; test case is:<br/>\n&gt;  <br/>\n&gt; @Test public void arraysDeclaredAsObjectAreComparedAsArrays() {<br/>\n&gt; <br/>\n&gt;     Object a1= new Object[] {&quot;abc&quot;};<br/>\n&gt; <br/>\n&gt;     Object a2= new Object[] {&quot;abc&quot;};<br/>\n&gt; <br/>\n&gt;     assertEquals(a1, a2);<br/>\n&gt; <br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; Let me know if this is what you were looking for.<br/>\n&gt; <br/>\n&gt; Regards,<br/>\n&gt; <br/>\n&gt; Kent Beck, Three Rivers Institute<br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 18081, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1160062544", 
    "canDelete": false, 
    "nextInTopic": 18091, 
    "prevInTopic": 18044, 
    "headers": {
        "inReplyToHeader": "PDA1MTcwMWM2ZTVkOSQ1NjMzYjExMCQxMGZlMGEwYUBUNDI+", 
        "messageIdInHeader": "PGVnMzhvZytxcG4zQGVHcm91cHMuY29tPg=="
    }
}