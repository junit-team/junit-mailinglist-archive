{
    "numMessagesInTopic": 2, 
    "nextInTime": 21940, 
    "senderId": "sFq1buGmzWm-yllvITCJYcHwzuNP29NNZC80SlgqNJBqZhRtsDvIp30G-nABt8OBPTjB7H1vxo90kEkPqpbZV4Ovha8", 
    "systemMessage": false, 
    "subject": "RE: [junit] assertThat() failure output doesn&#39;t allow Matcher to describe the mismatch", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "Can you file this as a defect? We d appreciate the test that, when passing, will demonstrate that we re doing the right thing. Kent _____ From:", 
    "msgId": 21939, 
    "profile": "kentlbeck", 
    "topicId": 21934, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-303971656\">Can you file this as a defect? We&#39;d appreciate the test that, when passing,<br/>\nwill demonstrate that we&#39;re doing the right thing.<br/>\n <br/>\nKent<br/>\n<br/>\n  _____  <br/>\n<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\nbeckymc22<br/>\nSent: Saturday, September 19, 2009 3:13 PM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: [junit] assertThat() failure output doesn&#39;t allow Matcher to<br/>\ndescribe the mismatch<br/>\n<br/>\n<br/>\n  <br/>\n<br/>\nHi,<br/>\n<br/>\nI recently upgraded to JUnit 4 and started exploring Matchers. I found that<br/>\nthe org.junit.Assert.assertThat() method doesn&#39;t allow my Matcher&#39;s<br/>\ndescribeMismatch() method to influence the 2nd part of the failure output<br/>\n(the &quot;got:&quot; part), in my case it&#39;s not a String:<br/>\n<br/>\njava.lang.AssertionError: <br/>\nExpected: a CDR record with call ID: 12345678900<br/>\ngot: &lt;org.cafesip.sipexchange.ejbs.cdr.value.CdrRecord@1712b3a&gt;<br/>\n<br/>\nat org.junit.Assert.assertThat(Assert.java:778)<br/>\nat org.junit.Assert.assertThat(Assert.java:736)<br/>\nat org.cafesip.sipexchange.ejbs.cdr.tests.CdrServiceTest.testCdrCreation<br/>\n(CdrServiceTest.java:154)<br/>\n<br/>\nI think I see the reason for it in the code:<br/>\n<br/>\npublic static &lt;T&gt; void assertThat(String reason, T actual,<br/>\nMatcher&lt;T&gt; matcher) {<br/>\nif (!matcher.matches(actual)) {<br/>\nDescription description= new StringDescription();<br/>\ndescription.appendText(reason);<br/>\ndescription.appendText(&quot;&#92;nExpected: &quot;);<br/>\ndescription.appendDescriptionOf(matcher);<br/>\ndescription.appendText(&quot;&#92;n got: &quot;);<br/>\ndescription.appendValue(actual);<br/>\ndescription.appendText(&quot;&#92;n&quot;);<br/>\nthrow new java.lang.AssertionError(description.toString());<br/>\n}<br/>\n}<br/>\n<br/>\nBut if I use the hamcrest assertThat() method, it calls my Matcher&#39;s<br/>\ndescribeMatch() method and I get something more useful:<br/>\n<br/>\njava.lang.AssertionError: <br/>\nExpected: a CDR record with call ID: 12345678900<br/>\nbut: the call ID was &quot;1234567890&quot;<br/>\nat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)<br/>\nat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)<br/>\nat org.cafesip.sipexchange.ejbs.cdr.tests.CdrServiceTest.testCdrCreation<br/>\n(CdrServiceTest.java:154)<br/>\n<br/>\nDid I miss something in using the JUnit version of assertThat? Or, it&#39;s not<br/>\nall there yet?<br/>\n<br/>\nThanks,<br/>\nBecky<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 21938, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1253745506", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21934, 
    "headers": {
        "inReplyToHeader": "PGg5M2wxbytzY2NjQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDBBQzg4MUY2MzQxNjQwNEU5MjQzNjREMzc3Mjg0QTRBQGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PGg5M2wxbytzY2NjQGVHcm91cHMuY29tPg=="
    }
}