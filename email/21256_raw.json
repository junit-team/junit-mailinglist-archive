{
    "numMessagesInTopic": 19, 
    "nextInTime": 21257, 
    "senderId": "yRGEr4mhqQfraFRc5sYFZqiFSpI0EZZ0BsR_MdqvOE4Gr5g1QMTLFIOUr7tYznJSjEcrAOujLCO_2zeG4nOLE21jF5g5Kji-V_9XIHI2Geh5sN0l", 
    "systemMessage": false, 
    "subject": "Re: [junit] Priority of Assertion?", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "Or: new int[0][0] throws ArrayIndexOutOfBoundsException hmmm... exception(classOf[ArrayIndexoutOfBoundsException]) isThrownBy {new int[0][0]} Hmmm, cheating,", 
    "msgId": 21256, 
    "rawEmail": "Return-Path: &lt;joakim.ohlrogge@...&gt;\r\nX-Sender: joakim.ohlrogge@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 47652 invoked from network); 5 Jan 2009 16:43:40 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m54.grp.scd.yahoo.com with QMQP; 5 Jan 2009 16:43:40 -0000\r\nX-Received: from unknown (HELO mail-gx0-f12.google.com) (209.85.217.12)\n  by mta16.grp.scd.yahoo.com with SMTP; 5 Jan 2009 16:43:40 -0000\r\nX-Received: by gxk5 with SMTP id 5so1271922gxk.23\n        for &lt;junit@yahoogroups.com&gt;; Mon, 05 Jan 2009 08:43:40 -0800 (PST)\r\nX-Received: by 10.151.147.16 with SMTP id z16mr13764900ybn.214.1231173819998;\n        Mon, 05 Jan 2009 08:43:39 -0800 (PST)\r\nX-Received: by 10.151.117.16 with HTTP; Mon, 5 Jan 2009 08:43:39 -0800 (PST)\r\nMessage-ID: &lt;b9ee5e410901050843w638c0dect30dd05afd101339e@...&gt;\r\nDate: Mon, 5 Jan 2009 17:43:39 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;A2556A2737454FC8AC4CBCFC7DFDF233@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;gjcoh4+a6v5@...&gt;\n\t &lt;B6D159719D97430CB9DD6CC4DB5F0DC2@kentspavilion&gt;\n\t &lt;fba296970812300818i4d920db4o4321ab7dc6dcab14@...&gt;\n\t &lt;4f7da6b90812301943k3dfa7cbbp896567b54a756e64@...&gt;\n\t &lt;b9ee5e410901050621j1078cef8n8ec70e068c1e6829@...&gt;\n\t &lt;A2556A2737454FC8AC4CBCFC7DFDF233@kentspavilion&gt;\r\nX-Google-Sender-Auth: 54f711363cb4fd51\r\nX-eGroups-Msg-Info: 2:4:8:0:2\r\nX-eGroups-From: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nFrom: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nReply-To: joakim.ohlrogge@...\r\nSubject: Re: [junit] Priority of Assertion?\r\nX-Yahoo-Group-Post: member; u=261856052; y=c4vlSmvtTugYb1ZhQo7LJ1p2N5no4kMPNLTCgJAl89hwI11u\r\nX-Yahoo-Profile: j0hlrogge\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nOr:\n\nnew int[0][0] throws ArrayIndexOutOfBoundsException\n\nhmmm...\n\nexceptio=\r\nn(classOf[ArrayIndexoutOfBoundsException]) isThrownBy {new\nint[0][0]}\n\nHmmm=\r\n, cheating, that was scala...\n\nexception(ArrayIndexOutoBounds.class).isThro=\r\nwnBy(new fn0() {\n   public void apply() {\n      new int[0][0]();\n   }\n});\n\n=\r\nNot sure of the Scala example, something similar or better should be\npossib=\r\nle. The java version is certainly not for the faint of heart. The\naddition =\r\nof anonymous functions in java would sure make this particular\nexample more=\r\n elegant...\n\nOn Mon, Jan 5, 2009 at 5:04 PM, kentb &lt;kentb@...&gt; wr=\r\note:\n\n&gt;   Another way to look at this is to free ourselves from the fetters=\r\n of\n&gt; Java\n&gt; syntax and semantics for a moment and imagine what we&#39;d like t=\r\no say about\n&gt; thrown exceptions, then map that back as best we can to the r=\r\neal\n&gt; programming\n&gt; language. I think I&#39;d like to say something like:\n&gt;\n&gt; A=\r\nrrayIndexOutOfBoundsException isThrownBy new int[0][0]\n&gt;\n&gt; This is the esse=\r\nntial information in the situation--an exception, an\n&gt; expression, and the =\r\ndeclaration that the expression throws the exception.\n&gt; Now the game become=\r\ns how little noise do you need to add to get to\n&gt; syntactically correct Jav=\r\na. There is no one right answer.\n&gt;\n&gt; Cheers,\n&gt;\n&gt;\n&gt; Kent Beck\n&gt; Three Rivers=\r\n Institute\n&gt;\n&gt; _____\n&gt;\n&gt; From: junit@yahoogroups.com &lt;junit%40yahoogroups.c=\r\nom&gt; [mailto:\n&gt; junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt;] On Behalf O=\r\nf\n&gt; Joakim Ohlrogge\n&gt; Sent: Monday, January 05, 2009 6:22 AM\n&gt; To: junit@ya=\r\nhoogroups.com &lt;junit%40yahoogroups.com&gt;\n&gt; Subject: Re: [junit] Priority of =\r\nAssertion?\n&gt;\n&gt; In rMock we used the following contruct:\n&gt;\n&gt; public void tes=\r\ntSomething() {\n&gt; &lt;code that we don&#39;t expect to throw an exception&gt;\n&gt; expect=\r\nThatExceptionThrown(isInstanceOf(SomeException.class));\n&gt; &lt;code that we exp=\r\nect to throw an exception&gt;\n&gt; }\n&gt;\n&gt; I think that idea is what Charlies asser=\r\ntThrows suggestion hinted towards.\n&gt;\n&gt; While this freedom can be abused it =\r\nallows to precisely pinpoint what\n&gt; should\n&gt; throw an exception. Also, you =\r\ncould do all kind of hamcrest checks on the\n&gt; exception instance that is no=\r\nt possible to do with annotations. The\n&gt; underlying implementation in the r=\r\nMock-case is that\n&gt; expectThatExceptionThrows primes the framework with an =\r\nexpection that any\n&gt; exception is checked against before the exception is r=\r\nethrown as an error\n&gt; (if the check passes the Exception is expected and no=\r\nt rethrown).\n&gt;\n&gt; Jusr my 5 cents :)\n&gt;\n&gt; On Wed, Dec 31, 2008 at 4:43 AM, Da=\r\nvid Saff &lt;david@...&lt;david%40saff.net&gt;\n&gt; &lt;mailto:david%40saff.net &lt;davi=\r\nd%2540saff.net&gt;&gt; &gt; wrote:\n&gt;\n&gt; &gt; Ilja,\n&gt; &gt;\n&gt; &gt; Thanks for thinking this thro=\r\nugh.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; In my view, the behavior is in fact an artifact of an im=\r\nplementation\n&gt; &gt; &gt; detail - namely that asserts indicate failures by throwi=\r\nng an\n&gt; &gt; &gt; exception.\n&gt; &gt;\n&gt; &gt; I don&#39;t know that I can get behind this. Thi=\r\ns test is always going to\n&gt; pass:\n&gt; &gt;\n&gt; &gt; @Test public void avoidThePainful=\r\nTruth() {\n&gt; &gt; try {\n&gt; &gt; assertTrue(false);\n&gt; &gt; } catch (Exception e) {\n&gt; &gt; =\r\n}\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; I can&#39;t think of a better way than exceptions to implement =\r\nassertions,\n&gt; and\n&gt; &gt; I\n&gt; &gt; can&#39;t think of a way to hide that fact from use=\r\nrs in all cases.\n&gt; &gt;\n&gt; &gt; David Saff\n&gt; &gt;\n&gt; &gt; On Tue, Dec 30, 2008 at 11:18 A=\r\nM, Ilja Preu=DF &lt;iljapreuss@googlema\n&gt; &lt;mailto:iljapreuss%40googlemail.com =\r\n&lt;iljapreuss%2540googlemail.com&gt;&gt;\n&gt; il.com&lt;iljapreuss%40googlemail.com&gt;\n&gt; &gt; =\r\n&gt;wrote:\n&gt; &gt;\n&gt; &gt; &gt; Kent, I agree that it is expected behavior, technically. =\r\nI think you\n&gt; &gt; &gt; could also make an argument that it would be better if th=\r\ne behavior\n&gt; &gt; &gt; was different.\n&gt; &gt; &gt;\n&gt; &gt; &gt; In my view, the behavior is in =\r\nfact an artifact of an implementation\n&gt; &gt; &gt; detail - namely that asserts in=\r\ndicate failures by throwing an\n&gt; &gt; &gt; exception. It could be made the case t=\r\nhat JUnit &quot;should&quot; report those\n&gt; &gt; &gt; failing asserts as failing asserts, n=\r\not as unexpected exceptions.\n&gt; &gt; &gt; Basically, the current behavior masks th=\r\ne true test failure.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Frankly, I have a hunch that the best solu=\r\ntion to this problem\n&gt; &gt; &gt; actually is to split the test in two, that is, t=\r\no not mix &quot;expected&quot;\n&gt; &gt; &gt; and &quot;assert&quot; in the same test method.\n&gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; Cheers, Ilja\n&gt; &gt; &gt;\n&gt; &gt; &gt; 2008/12/30 kentb &lt;kentb@earthlink. &lt;mailto:kentb=\r\n%40earthlink.net&lt;kentb%2540earthlink.net&gt;&gt;\n&gt; net\n&gt; &lt;kentb%40earthlink.net&gt; =\r\n&lt;kentb%\n&gt; &gt; 40earthlink.net&gt;&gt;:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yosef,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The beh=\r\navior you describe is what I would expect to see. In the test,\n&gt; &gt; you\n&gt; &gt; =\r\n&gt; &gt; declared that an ArrayIndexOutOfBounds exception would be thrown. It\n&gt; =\r\n&gt; was\n&gt; &gt; &gt; not\n&gt; &gt; &gt; &gt; thrown, so the test fails. The error message says t=\r\nhat the &quot;wrong&quot;\n&gt; &gt; &gt; exception\n&gt; &gt; &gt; &gt; that was thrown was an AssertionErr=\r\nor, which is generated by the\n&gt; &gt; &gt; &gt; assertTrue(false). The &quot;expected=3D..=\r\n.&quot; means that a test can fail if\n&gt; no\n&gt; &gt; &gt; &gt; exception is thrown or if the=\r\n wrong exception is thrown.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Regards,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Kent B=\r\neck\n&gt; &gt; &gt; &gt; Three Rivers Institute\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; _____\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Fr=\r\nom: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&lt;junit%2540yahoogroup=\r\ns.com&gt;&gt;\n&gt; com\n&gt; &lt;junit%40yahoogroups.com&gt; &lt;junit%\n&gt; &gt; 40yahoogroups.com&gt; [m=\r\nailto:\n&gt; &gt; &gt; junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&lt;junit%2540y=\r\nahoogroups.com&gt;&gt;\n&gt; com\n&gt; &lt;junit%40yahoogroups.com&gt; &lt;junit%40yahoogroups.com=\r\n&gt;]\n&gt; &gt; On Behalf Of\n&gt; &gt; &gt; &gt; yosefshariat\n&gt; &gt; &gt; &gt; Sent: Tuesday, December 30=\r\n, 2008 1:10 AM\n&gt; &gt; &gt; &gt; To: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.c=\r\nom&lt;junit%2540yahoogroups.com&gt;&gt;\n&gt; com\n&gt; &lt;junit%40yahoogroups.com&gt; &lt;junit%\n&gt; =\r\n&gt; 40yahoogroups.com&gt;\n&gt; &gt; &gt; &gt; Subject: [junit] Priority of Assertion?\n&gt; &gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt; Hi\n&gt; &gt; &gt; &gt; I use &quot;@Test(expected =3D AnyClassException.class&quot;) an=\r\nd one\n&gt; &gt; &gt; &gt; &quot;assertTrue(false)&quot; together for example following code:\n&gt; &gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; &gt; @Test(expected =3D ArrayIndexOutOfBoundsException.class)\n&gt; &gt; &gt; =\r\n&gt; public void test()\n&gt; &gt; &gt; &gt; {\n&gt; &gt; &gt; &gt; String s[] =3D new String[]{&quot;1&quot;};\n&gt; =\r\n&gt; &gt; &gt; assertTrue(false);\n&gt; &gt; &gt; &gt; System.out.println(s[10]);\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt;=\r\n &gt;\n&gt; &gt; &gt; &gt; I expect to see an assertion but I see following error:\n&gt; &gt; &gt; &gt; =\r\njava.lang.Exception: Unexpected exception,\n&gt; &gt; &gt; &gt; expected&lt;java.lang.Array=\r\nIndexOutOfBoundsException&gt; but\n&gt; &gt; &gt; &gt; was&lt;java.lang.AssertionError&gt;..\n&gt; &gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; &gt; In your opinion, this test must be Assertion or Exception.\n&gt; &gt; =\r\n&gt; &gt; In &quot;JUnit&quot; we cannot use &quot;@Test(expected =3D AnyClassException.class&quot;)\n=\r\n&gt; &gt; &gt; &gt; and Assertion together at the same time.\n&gt; &gt; &gt; &gt; In my opinion this=\r\n test must be failed for &quot;assertion&quot; and not for\n&gt; &gt; &gt; &gt; ArrayIndexOutOfBou=\r\nndsException.\n&gt; &gt; &gt; &gt; Is this a bug in JUnit or my test is wrong and should=\r\nn&#39;t use two item\n&gt; &gt; &gt; &gt; together?\n&gt; &gt; &gt; &gt; Tanks.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; [Non-text=\r\n portions of this message have been removed]\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; =\r\n&gt;\n&gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;=\r\n --\n&gt; -----------------------------------------------------\n&gt; Joakim Ohlrog=\r\nge\n&gt; Agical AB\n&gt; V=E4sterl=E5nggatan 79, 2 tr\n&gt; 111 29 Stockholm, SWEDEN\n&gt;\n=\r\n&gt; Mobile: +46-708-754004\n&gt; Blog: johlrogge.wordpress.com\n&gt; E-mail: joakim.o=\r\nhlrogge@ &lt;mailto:joakim.ohlrogge%40agical.se&lt;joakim.ohlrogge%2540agical.se&gt;=\r\n&gt;\n&gt; agical.se\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;=\r\n [Non-text portions of this message have been removed]\n&gt;\n&gt;  \n&gt;\n\n\n\n-- \n-----=\r\n------------------------------------------------\nJoakim Ohlrogge\nAgical AB\n=\r\nV=E4sterl=E5nggatan 79, 2 tr\n111 29 Stockholm, SWEDEN\n\nMobile: +46-708-7540=\r\n04\nBlog: johlrogge.wordpress.com\nE-mail: joakim.ohlrogge@...\n\n\n[Non-t=\r\next portions of this message have been removed]\n\n\n", 
    "profile": "j0hlrogge", 
    "topicId": 21230, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "prevInTime": 21255, 
    "contentTrasformed": false, 
    "postDate": "1231173819", 
    "canDelete": false, 
    "nextInTopic": 21257, 
    "prevInTopic": 21255, 
    "headers": {
        "inReplyToHeader": "PEEyNTU2QTI3Mzc0NTRGQzhBQzRDQkNGQzdERkRGMjMzQGtlbnRzcGF2aWxpb24+", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDkwMTA1MDg0M3c2MzhjMGRlY3QzMGRkMDVhZmQxMDEzMzllQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGdqY29oNCthNnY1QGVHcm91cHMuY29tPgkgPEI2RDE1OTcxOUQ5NzQzMENCOURENkNDNERCNUYwREMyQGtlbnRzcGF2aWxpb24+CSA8ZmJhMjk2OTcwODEyMzAwODE4aTRkOTIwZGI0bzQzMjFhYjdkYzZkY2FiMTRAbWFpbC5nbWFpbC5jb20+CSA8NGY3ZGE2YjkwODEyMzAxOTQzazNkZmE3Y2JicDg5NjU2N2I1NGE3NTZlNjRAbWFpbC5nbWFpbC5jb20+CSA8YjllZTVlNDEwOTAxMDUwNjIxajEwNzhjZWY4bjhlYzcwZTA2OGMxZTY4MjlAbWFpbC5nbWFpbC5jb20+CSA8QTI1NTZBMjczNzQ1NEZDOEFDNENCQ0ZDN0RGREYyMzNAa2VudHNwYXZpbGlvbj4="
    }
}