{
    "numMessagesInTopic": 15, 
    "nextInTime": 6604, 
    "senderId": "4r6AfygtNz4i_vz9Bnp2OlF-SfCK3ox5a6gPocGtQumpbc1OZdOe1f2FuY82Yuu3sB6xNH-91cLJRnBQTqqs31JVuCxc0wnPoGzZnj3Pi48", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Conditional tearDown()", 
    "from": "&quot;Jason Rogers&quot; &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "These are exceptional cases, right?  So, throw specific exceptions that you can then catch in your test. For instance, some of our tables prevent duplicate", 
    "msgId": 6603, 
    "rawEmail": "Return-Path: &lt;jacaetevha@...&gt;\r\nX-Sender: jacaetevha@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 3 Jan 2003 18:26:36 -0000\r\nReceived: (qmail 31232 invoked from network); 3 Jan 2003 18:26:35 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 3 Jan 2003 18:26:35 -0000\r\nReceived: from unknown (HELO www.fastmail.fm) (66.111.4.2)\n  by mta3.grp.scd.yahoo.com with SMTP; 3 Jan 2003 18:26:35 -0000\r\nReceived: from www.fastmail.fm (localhost [127.0.0.1])\n\tby localhost.localdomain (Postfix) with ESMTP id EF6694ED1\n\tfor &lt;junit@yahoogroups.com&gt;; Fri,  3 Jan 2003 13:26:32 -0500 (EST)\r\nReceived: from 127.0.0.1 ([127.0.0.1] helo=www.fastmail.fm) by fastmail.fm\n  with SMTP; Fri, 03 Jan 2003 13:26:33 -0500\r\nX-Epoch: 1041618393\r\nX-Sasl-enc: Aoi7uVMdFjYcqxljOqWuvQ\r\nReceived: from RHINO (host-31.subnet-156.med.umich.edu [141.214.156.31])\n\tby www.fastmail.fm (Postfix) with ESMTP id 10DC3154EF\n\tfor &lt;junit@yahoogroups.com&gt;; Fri,  3 Jan 2003 13:26:32 -0500 (EST)\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Re: Conditional tearDown()\r\nDate: Fri, 3 Jan 2003 13:22:19 -0500\r\nMessage-ID: &lt;000301c2b355$0e1e6420$1f9cd68d@RHINO&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;Windows-1252&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook, Build 10.0.2627\r\nX-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4133.2400\r\nImportance: Normal\r\nIn-Reply-To: &lt;av4jae+cus5@...&gt;\r\nFrom: &quot;Jason Rogers&quot; &lt;jacaetevha@...&gt;\r\nX-Yahoo-Group-Post: member; u=109352929\r\nX-Yahoo-Profile: jacaetev\r\n\r\nThese are exceptional cases, right?  So, throw specific exceptions that\nyou can then catch in your test.\n\nFor instance, some of our tables prevent duplicate records.  We catch\nthat particular case and report it as an exceptional case.  If that\nhappened to go wrong in the transaction when all else is fine we know it\nin the test (and we explicitly test for that).  On the same transaction\nthere could be an attempt to enter a string for a number field, we would\ncatch that as a separate exception and report it -- and of course we\nwould explicitly test for that case.\n\n=jason\n[:question | ^One] \n\n-----Original Message-----\nFrom: Brian &lt;br524@...&gt; [mailto:br524@...] \nSent: Friday, January 03, 2003 1:04 PM\nTo: junit@yahoogroups.com\nSubject: [junit] Re: Conditional tearDown()\n\n\nNo, you have a good point.\n\nThe problem is that my test writes to the database, then I call the\nmethod that I&#39;m unit testing which performs several database functions\nwithin a transaction, then I read from the database again to test the\nvalues.  The test could fail at any one of these three points.\n\nYour suggestion of cleaning up code though made me look at the\ntransactional method I was testing though...it turns out I was missing\na rollback() call, so thanks!  But that still doesn&#39;t solve the\nproblem I have with three points of failure within my test.  If you\nhave any ideas as to how to get around this, I&#39;m all ears.\n\n-Brian\n\n--- In junit@yahoogroups.com, &quot;Jason Rogers&quot; &lt;jacaetevha@f...&gt; wrote:\n&gt; Could you not use the opportunity to clean up your code such that\nyou\n&gt; don&#39;t need to visually inspect the DB?  I realize that there may be\n&gt; times when you absolutely need the visual inspection (though I can&#39;t\n&gt; think of one off the bat), nevertheless, this seems like a subtle\nform\n&gt; of test dependencies or spaghetti code, or some other code-smell. \nSorry\n&gt; if that sounds harsh -- I am certainly not trying to be judgemental,\n&gt; just reflective.\n&gt; \n&gt; =jason\n&gt; [:question | ^One] \n&gt; \n&gt; -----Original Message-----\n&gt; From: Kendall Collett [mailto:przkiie02@s...] \n&gt; Sent: Friday, January 03, 2003 12:41 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Re: Conditional tearDown()\n&gt; \n&gt; \n&gt; I could use a conditional clean-up in tearDown, for exactly the same\n&gt; reason\n&gt; as Brian.\n&gt; \n&gt; When I first ran into this issue; I didn&#39;t think of trying to make\nthe\n&gt; tearDown() clean-up conditional.  Instead, I adopted a convention of\n&gt; having\n&gt; my setUp()s perform the clean-up for the next test.  In other\nwords, for\n&gt; a\n&gt; given test I do a pre-clean instead of a post-clean.  I&#39;m not sure\nif\n&gt; that&#39;s\n&gt; good or bad...\n&gt; \n&gt; Kendall\n&gt; \n&gt; ----- Original Message -----\n&gt; From: Brian br524-at-yahoo.com br524-at-yahoo.com |Yahoo Work\n20030102|\n&gt; To: XXXXXXXXXXXXXXXXXX\n&gt; Sent: Friday, January 03, 2003 10:47\n&gt; Subject: [junit] Re: Conditional tearDown()\n&gt; \n&gt; \n&gt; I only have one test in the TestCase, and if it fails, I want to\nleave\n&gt; the database in the state it was in when the test failed so I can\n&gt; inspect what happened.\n&gt; \n&gt; --- In junit@yahoogroups.com, Mike Clark &lt;mike@c...&gt; wrote:\n&gt; &gt; Brian  wrote:\n&gt; &gt;\n&gt; &gt; &gt;I see in the TestResult class there&#39;s a method wasSuccessful().\n&gt; From\n&gt; &gt; &gt;within class that extends TestCase, I want to do something like\n&gt; this:\n&gt; &gt; &gt;\n&gt; &gt; &gt;    public void tearDown()\n&gt; &gt; &gt;    {\n&gt; &gt; &gt;        TestResult result = createResult();\n&gt; &gt; &gt;        if( result.wasSuccessful() )\n&gt; &gt; &gt;        {\n&gt; &gt; &gt;            System.out.println( &quot;Clearing database&quot; );\n&gt; &gt; &gt;            clearDatabase( &quot;1&quot; );\n&gt; &gt; &gt;        }\n&gt; &gt; &gt;    }\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; Is this intended to be more efficient than just clearing the\n&gt; database\n&gt; &gt; every time the tearDown() method is invoked, or am I missing\n&gt; something?\n&gt; &gt;\n&gt; &gt; Mike\n&gt; \n&gt; \n&gt; \n&gt; Yahoo! Groups Sponsor\n&gt; ADVERTISEMENT\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt; \n&gt; \n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of\nService. \n&gt; \n&gt; ---\n&gt; Outgoing mail is certified Virus Free.\n&gt; Checked by AVG anti-virus system (http://www.grisoft.com).\n&gt; Version: 6.0.431 / Virus Database: 242 - Release Date: 12/17/2002\n\n\n\nYahoo! Groups Sponsor\nADVERTISEMENT\n\n\n\n\nTo unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogroups.com\n\n\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. \n\n---\nOutgoing mail is certified Virus Free.\nChecked by AVG anti-virus system (http://www.grisoft.com).\nVersion: 6.0.431 / Virus Database: 242 - Release Date: 12/17/2002\n \n\n\n", 
    "profile": "jacaetev", 
    "topicId": 6589, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "prevInTime": 6602, 
    "contentTrasformed": false, 
    "postDate": "1041618139", 
    "canDelete": false, 
    "nextInTopic": 6604, 
    "prevInTopic": 6602, 
    "headers": {
        "inReplyToHeader": "PGF2NGphZStjdXM1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAwMDMwMWMyYjM1NSQwZTFlNjQyMCQxZjljZDY4ZEBSSElOTz4="
    }
}