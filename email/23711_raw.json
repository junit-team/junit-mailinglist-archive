{
    "numMessagesInTopic": 20, 
    "nextInTime": 23712, 
    "senderId": "i4fu3Ejp0lxrc7PoO-K0g3u1DnTVcZpqpTN0jc0D3BhwTb1AOv_0YNVwkUi4BuRqYYfAS46hRqRbbegE97xp3G90oFJ_QOhIPdXj", 
    "systemMessage": false, 
    "subject": "Re: UI tests in Eclipse on MAC", 
    "from": "&quot;shca08_junit&quot; &lt;jacsmit09@...&gt;", 
    "authorName": "shca08_junit", 
    "msgSnippet": "Also note that the example below works fine on Windows (in all cases including the eclipse junit plugin test).", 
    "msgId": 23711, 
    "rawEmail": "Return-Path: &lt;jacsmit09@...&gt;\r\nReceived: (qmail 23113 invoked by uid 7800); 27 Sep 2011 15:06:57 -0000\r\nX-Sender: jacsmit09@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 89625 invoked from network); 27 Sep 2011 15:01:08 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m4.grp.sp2.yahoo.com with QMQP; 27 Sep 2011 15:01:08 -0000\r\nX-Received: from unknown (HELO ng12-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.207)\n  by mta3.grp.sp2.yahoo.com with SMTP; 27 Sep 2011 15:01:08 -0000\r\nX-Received: from [98.138.217.180] by ng12.bullet.mail.ne1.yahoo.com with NNFMP; 27 Sep 2011 15:00:54 -0000\r\nX-Received: from [69.147.65.151] by tg5.bullet.mail.ne1.yahoo.com with NNFMP; 27 Sep 2011 15:00:54 -0000\r\nX-Received: from [98.137.34.73] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 27 Sep 2011 15:00:54 -0000\r\nDate: Tue, 27 Sep 2011 15:00:54 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;j5sof6+90qo@...&gt;\r\nIn-Reply-To: &lt;j5r2c9+udjq@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;shca08_junit&quot; &lt;jacsmit09@...&gt;\r\nSubject: Re: UI tests in Eclipse on MAC\r\nX-Yahoo-Group-Post: member; u=497061698; y=HuQIHujMKsbx_bNZgezpRHoPm1ksCvNSDh-CKJ41ecxd8dKCZYk\r\nX-Yahoo-Profile: shca08_junit\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 27 Sep 2011 15:06:57 -0000\r\n\r\n\nAlso note that the example below works fine on Windows (in all cases inclu=\r\nding the eclipse junit plugin test).\n\n--- In junit@yahoogroups.com, &quot;shca08=\r\n_junit&quot; &lt;jacsmit09@...&gt; wrote:\n&gt;\n&gt; \n&gt; Thanks murat & Dale. I will investiga=\r\nte that further - I&#39;m pretty sure that was covered during various iteration=\r\ns of trying to get this to work.  In fact, I started with a simple FEST exa=\r\nmple following exactly their instructions.  It worked with the JUnit testca=\r\nse but not the JUnit Plugin one.\n&gt; \n&gt; Appreciate the replies.\n&gt; \n&gt; --- In j=\r\nunit@yahoogroups.com, Murat &lt;murat.knecht@&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi Shaun,\n&gt; &gt; \n&gt;=\r\n &gt; I think Dale is right. I&#39;ve done a fair share of Swing-JUnit-Tests and y=\r\nour\n&gt; &gt; code ought not work. The usual JUnit-Runner will run the tests in a=\r\n &quot;normal&quot;\n&gt; &gt; Thread, while UI-Manipulation, including Frame creation, shou=\r\nld be done in\n&gt; &gt; the AWT Eventqueue, even in a test. Also, if you interact=\r\n with your GUI you\n&gt; &gt; need to wait for the events that you dispatch to be =\r\nprocessed. Abbot, a ui\n&gt; &gt; test framework like FEST, provides a wait() meth=\r\nod for that, which uses the\n&gt; &gt; invokeAndWait()-Method mentioned by Dale wi=\r\nth an empty Runnable.\n&gt; &gt; \n&gt; &gt; regards\n&gt; &gt; murat\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; 2011/9/23 Da=\r\nle Emery &lt;dale@&gt;\n&gt; &gt; \n&gt; &gt; &gt; **\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hi Shaun,\n&gt; &gt; &gt;\n&gt; &gt; &gt; You&#39;=\r\nre calling methods that are described as not threadsafe. That is, while\n&gt; &gt;=\r\n &gt; your method is running on one thread, some other thread (the Swing &quot;even=\r\nt&quot;\n&gt; &gt; &gt; thread) might come along and fiddle with the same component you&#39;re=\r\n fiddling\n&gt; &gt; &gt; with.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I wonder if that&#39;s part of the problem. I=\r\nf it is, the way to solve the\n&gt; &gt; &gt; problem is to invoke the non-threadsafe=\r\n methods via\n&gt; &gt; &gt; SwingUtilities.invokeLater() or SwingUtilities.invokeAnd=\r\nWait().\n&gt; &gt; &gt;\n&gt; &gt; &gt; http://download.oracle.com/javase/6/docs/api/javax/swin=\r\ng/SwingUtilities.html#invokeLater\n&gt; &gt; &gt; (java.lang.Runnable)\n&gt; &gt; &gt;\n&gt; &gt; &gt; Da=\r\nle\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; On Sep 23, 2011, at 10:28 AM, shca08_junit wrote:\n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Mac OS 10.6.8\n&gt; &gt; &gt; &gt; Eclipse Helios\n&gt; &gt; &gt; &gt; JDK 1.6_26\n&gt;=\r\n &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; import java.awt.AWTException;\n&gt; &gt; &gt; &gt; import java.awt.Robot;=\r\n\n&gt; &gt; &gt; &gt; import java.awt.event.ActionEvent;\n&gt; &gt; &gt; &gt; import java.awt.event.A=\r\nctionListener;\n&gt; &gt; &gt; &gt; import java.awt.event.InputEvent;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; im=\r\nport javax.swing.JButton;\n&gt; &gt; &gt; &gt; import javax.swing.JFrame;\n&gt; &gt; &gt; &gt; import=\r\n javax.swing.JOptionPane;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; import junit.framework.TestCase;\n=\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; public class FrameTest extends TestCase\n&gt; &gt; &gt; &gt; {\n&gt; &gt; &gt; &gt; J=\r\nFrame frame;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; @Override\n&gt; &gt; &gt; &gt; public void setUp()\n&gt; &gt; &gt; &gt; =\r\n{\n&gt; &gt; &gt; &gt; frame =3D new JFrame();\n&gt; &gt; &gt; &gt; frame.setDefaultCloseOperation(JF=\r\nrame.EXIT_ON_CLOSE);\n&gt; &gt; &gt; &gt; JButton btn =3D new JButton(&quot;click&quot;);\n&gt; &gt; &gt; &gt; =\r\nbtn.addActionListener(new ActionListener()\n&gt; &gt; &gt; &gt; {\n&gt; &gt; &gt; &gt; @Override\n&gt; &gt; =\r\n&gt; &gt; public void actionPerformed(ActionEvent e)\n&gt; &gt; &gt; &gt; {\n&gt; &gt; &gt; &gt; JOptionPan=\r\ne.showMessageDialog(frame, &quot;Hello&quot;);\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; });\n&gt; &gt; &gt; &gt; frame.ad=\r\nd(btn);\n&gt; &gt; &gt; &gt; frame.pack();\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; public void testSho=\r\nwFrame() throws AWTException\n&gt; &gt; &gt; &gt; {\n&gt; &gt; &gt; &gt; frame.setVisible(true);\n&gt; &gt; =\r\n&gt; &gt; frame.setExtendedState(JFrame.ICONIFIED);\n&gt; &gt; &gt; &gt; frame.setExtendedStat=\r\ne(JFrame.MAXIMIZED_BOTH);\n&gt; &gt; &gt; &gt; Robot robot =3D new Robot();\n&gt; &gt; &gt; &gt; robo=\r\nt.delay(2000);\n&gt; &gt; &gt; &gt; robot.mouseMove(500, 500);\n&gt; &gt; &gt; &gt; robot.delay(2000)=\r\n;\n&gt; &gt; &gt; &gt; robot.mousePress(InputEvent.BUTTON1_MASK);\n&gt; &gt; &gt; &gt; robot.mouseRel=\r\nease(InputEvent.BUTTON1_MASK);\n&gt; &gt; &gt; &gt; robot.delay(2000);\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;=\r\n }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; If you add a main() method and run as an App, it works. =\r\nIf you run it as\n&gt; &gt; &gt; a JUnit testcase, it works. But if you run it as a p=\r\nlugin test (which\n&gt; &gt; &gt; requires it to be in a plugin project) using the de=\r\nfault args, it always\n&gt; &gt; &gt; fails (in diff ways). Removing the args and any=\r\n unnecessary plugins gets it\n&gt; &gt; &gt; mostly working. However, a couple other =\r\nthings don&#39;t always work - like\n&gt; &gt; &gt; trying to select submenus.\n&gt; &gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; &gt; --- In junit@yahoogroups.com, Marc Philipp &lt;mphilipp82@&gt; wrote:\n&gt; &gt; &gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Can you please provide a minimal non-working example?\n&gt; &gt; &gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Am 22.09.2011 um 17:12 schrieb shca08_junit &lt;jacsmit09@&gt;:\n&gt; &gt;=\r\n &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Hi Marc,\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;=\r\n Our app uses OSGi - so the different components are plugins. The only\n&gt; &gt; =\r\n&gt; way to\n&gt; &gt; &gt; &gt; &gt; test it is to use JUnit plugin tests.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; =\r\n&gt; --- In junit@yahoogroups.com, Marc Philipp &lt;mphilipp82@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;=\r\n &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Shaun,\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; since you seem to be using FE=\r\nST you must be using Swing not SWT,\n&gt; &gt; &gt; right?\n&gt; &gt; &gt; &gt; &gt; Why would you wa=\r\nnt to run such a test as a JUnit plugin test?\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Marc\n=\r\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Am 15.09.2011 um 16:58 schrieb shca08_j=\r\nunit:\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi Dale,\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt; Thanks for your reply. Ok so I wrote a simple test that shows a\n&gt; &gt;=\r\n &gt; JFrame\n&gt; &gt; &gt; &gt; &gt; and uses Java Robot to click on it. Works fine run in E=\r\nclipse on Mac as\n&gt; &gt; &gt; an\n&gt; &gt; &gt; &gt; &gt; application or JUnit test but fails whe=\r\nn run as JUnit plugin test.\n&gt; &gt; &gt; Frame\n&gt; &gt; &gt; &gt; &gt; would show 1 out of 5 or =\r\nso times. Removing all unneeded plugins\n&gt; &gt; &gt; resulted in\n&gt; &gt; &gt; &gt; &gt; frame a=\r\nlways being shown but the click never seems to happen.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt; I also tried Window Licker and the included Calculator test(s) -\n&gt; =\r\n&gt; &gt; same\n&gt; &gt; &gt; &gt; &gt; thing... runs as a JUnit Test but fails as a JUnit Plugi=\r\nn Test. One\n&gt; &gt; &gt; time the\n&gt; &gt; &gt; &gt; &gt; frame was shown, but nothing happened =\r\n(so the test failed). The other\n&gt; &gt; &gt; times,\n&gt; &gt; &gt; &gt; &gt; the frame didn&#39;t eve=\r\nn show. Tried removing all VM args and unnecessary\n&gt; &gt; &gt; &gt; &gt; plugins.\n&gt; &gt; &gt;=\r\n &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; Is this related to the args that Eclipse uses to run=\r\n plugin tests\n&gt; &gt; &gt; on\n&gt; &gt; &gt; &gt; &gt; Mac? Or the core plugins included to run t=\r\nhe tests? Or...?\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; Shaun.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;=\r\n &gt; &gt; --- In junit@yahoogroups.com, Dale Emery &lt;dale@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi whoever you are,\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi =\r\n- thanks for your reply. I&#39;m actually using Alex Ruiz&#39;s FEST\n&gt; &gt; &gt; for\n&gt; &gt; =\r\n&gt; &gt; &gt; our testing and it works quite well on Windows. With or without FEST =\r\non\n&gt; &gt; &gt; the\n&gt; &gt; &gt; &gt; &gt; Mac, I can&#39;t seem to get any UI tests to run. The in=\r\nitial frame/window\n&gt; &gt; &gt; comes\n&gt; &gt; &gt; &gt; &gt; up in some cases but I can&#39;t do mu=\r\nch more than that. When running JUnit\n&gt; &gt; &gt; &gt; &gt; tests (again with or withou=\r\nt FEST), I don&#39;t even see the frame.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I&#39;=\r\nve gone through what docs there are for FEST and have read\n&gt; &gt; &gt; the\n&gt; &gt; &gt; =\r\n&gt; &gt; blog/article but I can&#39;t figure it out.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;=\r\n\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I&#39;ve used FEST to test Swing code on a toy project:\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt; &gt; https://github.com/dhemery/towers.dead\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; =\r\n&gt; &gt; &gt; Later I restarted the project and used WindowLicker instead:\n&gt; &gt; &gt; &gt; =\r\n&gt; &gt; &gt; &gt; https://github.com/dhemery/Towers\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I=\r\nt&#39;s been a while since I visited either project, but I think the\n&gt; &gt; &gt; &gt; &gt; =\r\n(few) UI tests run. Neither version of the code does much, so there\n&gt; &gt; &gt; a=\r\nren&#39;t\n&gt; &gt; &gt; &gt; &gt; many UI tests. The older one (which uses FEST) has more fea=\r\ntures and\n&gt; &gt; &gt; tests.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I wrote all of this =\r\ncode on Macs running Snow Leopard and Eclipse\n&gt; &gt; &gt; &gt; &gt; Ganymede. I haven&#39;t=\r\n tried it on Lion or Helios.\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Dale\n&gt; &gt; &gt; &gt; &gt;=\r\n &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; --\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Dale Emery\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Consul=\r\ntant to software teams and leaders\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; http://dhemery.com\n&gt; &gt; &gt;=\r\n &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; =\r\n[Non-text portions of this message have been removed]\n&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; [Non=\r\n-text portions of this message have been removed]\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt;=\r\n &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; [Non-text portions of this message hav=\r\ne been removed]\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; --\n&gt; &gt; &gt; Dale Emery\n&gt;=\r\n &gt; &gt; Consultant to software teams and leaders\n&gt; &gt; &gt; http://dhemery.com\n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt; &gt;  =\r\n\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-text portions of this message have been removed]\n=\r\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "shca08_junit", 
    "topicId": 23594, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 497061698, 
    "prevInTime": 23710, 
    "contentTrasformed": false, 
    "postDate": "1317135654", 
    "canDelete": false, 
    "nextInTopic": 23741, 
    "prevInTopic": 23709, 
    "headers": {
        "inReplyToHeader": "PGo1cjJjOSt1ZGpxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGo1c29mNis5MHFvQGVHcm91cHMuY29tPg=="
    }
}