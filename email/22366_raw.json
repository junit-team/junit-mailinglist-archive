{
    "numMessagesInTopic": 7, 
    "nextInTime": 22367, 
    "senderId": "DoRU3_wJ8hnEUtsWpLDr4SmQ69y2IbekMXTedTBFHRzK1TTmD-hw2WEI3obYp-AlULsWttxaWWzRQocrYTQ1FA-oXc4ab7kX-r_F", 
    "systemMessage": true, 
    "subject": "Using JUnit 4 to drive a test DSL", 
    "from": "Edson Tirelli &lt;ed.tirelli@...&gt;", 
    "authorName": "Edson Tirelli", 
    "msgSnippet": "Hi all, Facing a problem a could not find an answer for yet. We use JUnit as the testing framework for Drools ( http://www.jboss.org/drools/). It happens,", 
    "msgId": 22366, 
    "rawEmail": "Return-Path: &lt;ed.tirelli@...&gt;\r\nReceived: (qmail 45702 invoked from network); 5 Feb 2010 21:17:50 -0000\r\nReceived: from unknown (66.196.94.106)\n  by m14.grp.re1.yahoo.com with QMQP; 5 Feb 2010 21:17:50 -0000\r\nReceived: from unknown (HELO n39b.bullet.mail.sp1.yahoo.com) (66.163.168.153)\n  by mta2.grp.re1.yahoo.com with SMTP; 5 Feb 2010 21:17:50 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1265404669; bh=KpHPxi6RGzxBQEo/jC+585mND8k/jA3BAzK8acK9I/8=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:Date:X-Google-Sender-Auth:Message-ID:To:X-Originating-IP:X-eGroups-Msg-Info:X-eGroups-From:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Content-Type:Content-Transfer-Encoding:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=eddREMpV9gTOz2nl6lMQpgSgrOfL4ZV/3qk/lMjpo1k+txcKw+0VyjiAycXss1Kzm3PmzcSye42KjprJDetTz/CiauC/jrg+c0pkZPXXMiLGAPwa21DsG3phzVHIBZBj\r\nReceived: from [69.147.65.149] by n39.bullet.mail.sp1.yahoo.com with NNFMP; 05 Feb 2010 21:17:49 -0000\r\nReceived: from [98.137.35.12] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 05 Feb 2010 21:17:49 -0000\r\nX-Sender: ed.tirelli@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 31174 invoked from network); 5 Feb 2010 21:08:20 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m10.grp.re1.yahoo.com with QMQP; 5 Feb 2010 21:08:20 -0000\r\nX-Received: from unknown (HELO mail-ew0-f219.google.com) (209.85.219.219)\n  by mta1.grp.re1.yahoo.com with SMTP; 5 Feb 2010 21:08:20 -0000\r\nX-Received: by ewy19 with SMTP id 19so1828465ewy.21\n        for &lt;junit@yahoogroups.com&gt;; Fri, 05 Feb 2010 13:08:10 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.87.197 with SMTP id y47mr1055808wee.202.1265404090274; \n\tFri, 05 Feb 2010 13:08:10 -0800 (PST)\r\nDate: Fri, 5 Feb 2010 16:08:09 -0500\r\nX-Google-Sender-Auth: 7a380d0aa5736edc\r\nMessage-ID: &lt;e6dd5ba31002051308y1a8ecc2fl60e3e5b04196f5c1@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nX-eGroups-From: Edson Tirelli &lt;tirelli@...&gt;\r\nFrom: Edson Tirelli &lt;ed.tirelli@...&gt;\r\nSubject: Using JUnit 4 to drive a test DSL\r\nX-Yahoo-Group-Post: member; u=303667645; y=286QJIyVaLPiJIQMTWB1W6415eA3hOJkOeiKd-aTOIr9lrP1QEDP\r\nX-Yahoo-Profile: edsontirelli\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 05 Feb 2010 21:17:48 -0000\r\n\r\n  Hi all,\n\n  Facing a problem a could not find an answer for yet.\n\n  We use JUnit as the testing framework for Drools (\nhttp://www.jboss.org/drools/). It happens, though, that some of the internal\nlow level stuff are really hard to test using pure java code, so, we created\na DSL to define some of our low level tests. Example here (but it does not\nreally matter for the problem at hand):\n\nhttp://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/resources/org/drools/reteoo/test/AccumulateNodeAssertRetractTest.nodeTestCase\n\n   The DSL follows a simplified test structure, similar to previous JUnit\nversions, i.e., each file is a test case that might have a setup and\nteardown sections, plus a bunch of tests. Simple and works fine for us.\n\n   Now, since we use JUnit to drive all our tests, I would like to use junit\nto drive these DSL test cases as well during our build (maven), to keep all\nreports, etc integrated. So, I created a test runner class:\n\nhttp://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/java/org/drools/reteoo/test/JUnitNodeTestRunner.java\n\n   And then I created a bootstrap class (not sure if there is a way to avoid\nhaving the bootstrap class):\n\nhttp://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/java/org/drools/reteoo/test/NodeTestsSuite.java\n\n   As you can see, the bootstrap class has the annotation:\n@RunWith(JUnitNodeTestRunner.class)\n\n   Now, when I right click that class and choose &quot;Run as... JUnit test case&quot;\nin eclipse, the class loads and executes all tests defined in our dsl test\nfiles without any problem. It shows all tests with success/error messages in\nthe eclipse junit view, etc. BUT, when I run the tests from our maven build,\nI get the following error:\n\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.005 sec\n&lt;&lt;&lt; FAILURE!\ninitializationError(org.drools.reteoo.test.dsl.NodeTest)  Time elapsed: 0\nsec  &lt;&lt;&lt; ERROR!\njava.lang.IllegalArgumentException: Test class can only have one constructor\n        at org.junit.runners.model.TestClass.&lt;init&gt;(TestClass.java:32)\n        at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:54)\n...\n\n   I am at a loss right now, so any insights on how to fix that (or even if\nwe are using the wrong approach here) are most appreciated.\n\n   Thanks,\n      Edson\n\n\n-- \n Edson Tirelli\n JBoss Drools Core Development\n JBoss by Red Hat @ www.jboss.com\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "edsontirelli", 
    "topicId": 22366, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 303667645, 
    "prevInTime": 22365, 
    "contentTrasformed": false, 
    "postDate": "1265404089", 
    "canDelete": false, 
    "nextInTopic": 22367, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGU2ZGQ1YmEzMTAwMjA1MTMwOHkxYThlY2MyZmw2MGUzZTViMDQxOTZmNWMxQG1haWwuZ21haWwuY29tPg=="
    }
}