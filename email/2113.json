{
    "numMessagesInTopic": 8, 
    "nextInTime": 2114, 
    "senderId": "-BY1Gw6txcS6I9Lt-E_lYTDOtvJfqqvFw7p0KBxW9aV7PoMM56xlHINHSUoaxo4bUaLlGOhPKCjQVfiCZRmj6Hunkoielv-qF1hq", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Errors and Exceptions", 
    "from": "Jeff Langr &lt;JLangr@...&gt;", 
    "authorName": "Jeff Langr", 
    "msgSnippet": "I agree with Mr. Duffy and would like to add my thoughts. Your test cases represent controlled contexts that you create.  You need to not only test all the", 
    "msgId": 2113, 
    "topicId": 2070, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-67014951\">I agree with Mr. Duffy and would like to add my thoughts.<br/>\n<br/>\nYour test cases represent controlled contexts that you create.  You need to<br/>\nnot only test all the &quot;happy path&quot; scenarios -- the ones where you expect no<br/>\nexceptions should be thrown -- but as well test the scenarios where you<br/>\n*expect* exceptions to be thrown. For example:<br/>\n<br/>\npublic void testTooManyPlayersOnField() {<br/>\n\tField field = new Field();<br/>\n\tfor (int i = 0; i &lt; 11; i++)<br/>\n\t\tfield.addPlayer();<br/>\n\ttry {<br/>\n\t\tfield.addPlayer();<br/>\n\t\tfail(&quot;should have thrown exception...&quot;);<br/>\n\t}<br/>\n\tcatch (TooManyPlayersException e) {<br/>\n\t\tassertTrue(true);  // ugh.  &quot;pass()&quot; would be nice<br/>\n\t}<br/>\n}<br/>\n<br/>\nFor the happy path tests, I don&#39;t care what exception is thrown -- it should<br/>\nnever happen under normal circumstances. (If it does, something&#39;s seriously<br/>\nwrong anyway, and JUnit will still catch it.)  So I just declare that my<br/>\ntest &quot;throws Exception&quot; where I have to (and use finally clauses when I need<br/>\nto).  That&#39;s the simplest thing that&#39;ll work in the light of Java&#39;s<br/>\ninsistence that you deal with the potential for an exception.  <br/>\n<br/>\nUsing throws on test methods is fine as long as you document how to deal<br/>\nwith all possible inappropriate things that *can* happen.  This<br/>\ndocumentation is through other tests that force and demonstrate these<br/>\ninappropriate things.  The nice part about this approach is that it pushes<br/>\ndevelopers to learn how to treat exceptions early on.  Kind of like ensuring<br/>\nthat you can actually restore from your backup tapes before you actually<br/>\nhave to.  Most non-XP code I&#39;ve seen does a poor job of organizing<br/>\nexceptions.  <br/>\n<br/>\nJeff L.<br/>\nObject Mentor, Inc.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; -----Original Message-----<br/>\n&gt; From: Mike Duffy [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mduffy_lists@...\">mduffy_lists@...</a>]<br/>\n&gt; Sent: Wednesday, July 25, 2001 9:44 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] Re: Errors and Exceptions<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I do see your point.  In general, I think that using &quot;throws<br/>\n&gt; Exception&quot; is bad coding.<br/>\n&gt; <br/>\n&gt; However, from the standpoint of maintaining a testing framework,<br/>\n&gt; using &quot;throws Exception&quot; might be acceptable.  When writing a test<br/>\n&gt; method the goal is to test a specific condition.  You can minimize<br/>\n&gt; your work and maintenance by letting the JUint framework handle the<br/>\n&gt; things that go wrong (catching exceptions and generating errors).<br/>\n&gt; <br/>\n&gt; If you have twenty test methods that test the method &quot;aMethod&quot; and<br/>\n&gt; each of these methods has a throws clause identical to the throws<br/>\n&gt; clause in aMethod, whenever the throws clause for aMethod changes you<br/>\n&gt; have twenty test methods to revise.  If each of your test methods<br/>\n&gt; &quot;throws Exception&quot;, a change in the throws clause of aMethod does not<br/>\n&gt; affect your test methods.<br/>\n&gt; <br/>\n&gt; Mike<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; --- <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dfw1@...\">dfw1@...</a> wrote:<br/>\n&gt; &gt; --- In junit@y..., Mike Duffy &lt;mduffy_lists@y...&gt; wrote:<br/>\n&gt; &gt; &gt; I have only been using JUnit for a few months and I am focusing<br/>\n&gt; &gt; on<br/>\n&gt; &gt; &gt; creating &quot;best practices&quot; templates for our development team.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; I would greatly appreciate the insight of more experienced users<br/>\n&gt; &gt; on<br/>\n&gt; &gt; &gt; the following issue.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; Because an exception caught by the JUnit framework is an error,<br/>\n&gt; &gt; when<br/>\n&gt; &gt; &gt; testing a method that throws exceptions, it is best to include<br/>\n&gt; &gt; those<br/>\n&gt; &gt; &gt; exceptions in the throws clause of the test method (or even add a<br/>\n&gt; &gt; &gt; &quot;throws Exception&quot; to most test methods).  <br/>\n&gt; &gt; <br/>\n&gt; &gt; Hi Mike,<br/>\n&gt; &gt; <br/>\n&gt; &gt; My team at a previous job tried just adding &quot;throws Exception&quot; to<br/>\n&gt; &gt; all<br/>\n&gt; &gt; our test method footprints. The problem we hit was that other<br/>\n&gt; &gt; developers down the line would use our test code as example code<br/>\n&gt; &gt; when<br/>\n&gt; &gt; they reused the code we were testing. (Unit test code makes poor<br/>\n&gt; &gt; example code in so many ways, but was consistenty what the<br/>\n&gt; &gt; developers<br/>\n&gt; &gt; down line tried to use. That continued even when we provided<br/>\n&gt; &gt; example<br/>\n&gt; &gt; code.)<br/>\n&gt; &gt; <br/>\n&gt; &gt; I found it much better to list out all the exceptions that a test<br/>\n&gt; &gt; could possibly throw in the throws clause. It adds a tiny amount of<br/>\n&gt; &gt; overhead to writing the test code, but adds greatly to the<br/>\n&gt; &gt; awareness<br/>\n&gt; &gt; of just what can go wrong. Otherwise, people who use your code down<br/>\n&gt; &gt; line are likely to include &quot;throws Exception&quot; (or worse,<br/>\n&gt; &gt; catch(Exception ex)) in everything that uses your code. Also, it<br/>\n&gt; &gt; will<br/>\n&gt; &gt; tip you off to changes in the throws clauses in your code at<br/>\n&gt; &gt; compile<br/>\n&gt; &gt; time.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Since then, I&#39;ve added a patch to junit that adds a fail(Exception)<br/>\n&gt; &gt; method to Assert. See<br/>\n&gt; &gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/tracker/index.php?func=detail&aid=43569\">http://sourceforge.net/tracker/index.php?func=detail&aid=43569</a><br/>\n&gt; 9&group_id=15278&atid=315278<br/>\n&gt; &gt; (I feel like I&#39;m plugging a book in a talk show interview. :) )<br/>\n&gt; &gt; <br/>\n&gt; &gt; I personally prefer having try-catch-finally blocks in my tests,<br/>\n&gt; &gt; and<br/>\n&gt; &gt; this patch lets me do it. That reserves junit errors for<br/>\n&gt; &gt; RuntimeExceptions and Errors, and still gives me a full stack<br/>\n&gt; &gt; trace. <br/>\n&gt; &gt; <br/>\n&gt; &gt; Not everyone will want to run a patched junit 3.7, so listing out<br/>\n&gt; &gt; each<br/>\n&gt; &gt; exception seems a reasonable technique.<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt; public void testMethod() throws Exception {<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt;     returnValue = methodCall(args);<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt;     assertTrue(some condition);<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; The following template would be less correct:<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; public void testMethod() {<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt;     try {<br/>\n&gt; &gt; &gt;         returnValue = methodCall(args);<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt;     } catch (Exception e){<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt;         fail(&quot;Exception should not be thrown: &quot; + e);<br/>\n&gt; &gt; &gt;     }<br/>\n&gt; &gt; &gt;      <br/>\n&gt; &gt; &gt;     assertTrue(some condition);<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; Don&#39;t forget that your assertTrue(some condition); can also throw<br/>\n&gt; &gt; exceptions, so these two blocks are not interchangable.<br/>\n&gt; &gt; <br/>\n&gt; &gt; I prefer<br/>\n&gt; &gt; <br/>\n&gt; &gt; public void testMethod() throws SomeExceptionThatMethodCallThrows<br/>\n&gt; &gt; {<br/>\n&gt; &gt; \ttry<br/>\n&gt; &gt; \t{<br/>\n&gt; &gt; \t\treturnValue = methodCall(args);<br/>\n&gt; &gt; \t\tassertTrue(some condition);<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; \tfinally<br/>\n&gt; &gt; \t{<br/>\n&gt; &gt; \t\t//any code to clean up the mess<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; or (even better)<br/>\n&gt; &gt; <br/>\n&gt; &gt; public void testMethod()<br/>\n&gt; &gt; {<br/>\n&gt; &gt; \ttry<br/>\n&gt; &gt; \t{<br/>\n&gt; &gt; \t\treturnValue = methodCall(args);<br/>\n&gt; &gt; \t\tassertTrue(some condition);<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; \tcatch(SomeExceptionThatMethodCallThrows setmct)<br/>\n&gt; &gt; \t{<br/>\n&gt; &gt; \t\tfail(setmct);<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; \tfinally<br/>\n&gt; &gt; \t{<br/>\n&gt; &gt; \t\t//any code to clean up the mess<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt; In general, test methods should be very lean and focus<br/>\n&gt; &gt; specifically<br/>\n&gt; &gt; &gt; on the condition being tested; let the framework handle the rest.<br/>\n&gt; &gt; <br/>\n&gt; &gt; so long as the code is easy to read, and encourages good practices<br/>\n&gt; &gt; down the line. I discourage &quot;throws Exception&quot;s anywhere I see<br/>\n&gt; &gt; them.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Anyway, that&#39;s how I do it. Others take different approaches, and<br/>\n&gt; &gt; have<br/>\n&gt; &gt; reasons for it.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Dave<br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; __________________________________________________<br/>\n&gt; Do You Yahoo!?<br/>\n&gt; Make international calls for as low as $.04/minute with <br/>\n&gt; Yahoo! Messenger<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://phonecard.yahoo.com/\">http://phonecard.yahoo.com/</a><br/>\n&gt; <br/>\n&gt; ------------------------ Yahoo! Groups Sponsor <br/>\n&gt; ---------------------~--&gt;<br/>\n&gt; Small business owners...<br/>\n&gt; Tell us what you think! <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://promo2.yahoo.com/sbin/Yahoo!\">http://promo2.yahoo.com/sbin/Yahoo!</a>_BusinessNewsletter/survey.cgi<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/vO1FAB/txzCAA/ySSFAA/NhFolB/TM\">http://us.click.yahoo.com/vO1FAB/txzCAA/ySSFAA/NhFolB/TM</a><br/>\n&gt; --------------------------------------------------------------<br/>\n&gt; -------~-&gt;<br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 2112, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "996121596", 
    "canDelete": false, 
    "nextInTopic": 2115, 
    "prevInTopic": 2104, 
    "headers": {
        "messageIdInHeader": "PEFGMDc3NzZEQjVEMUQyMTFCQzA3MDBBMEM5RTkyMzdGNUMwMTc2QG9iamVjbWVudG9yLmNvbT4="
    }
}