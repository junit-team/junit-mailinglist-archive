{
    "numMessagesInTopic": 8, 
    "nextInTime": 21528, 
    "senderId": "JDj3RnstewSVEFGoPSOyqiW_5pseWAXWLw20s38tyW4QUa0F4mzqNLirNwPzDu70MDeNKkzMvftzy3poX45S98xf", 
    "systemMessage": false, 
    "subject": "Re: [junit] execute code upon failed test in junit 4", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Mykro, all, Here s the syntax I m playing with for 4.7: public class MykroTest { @Decorator public OnFail noticeFailures = new OnFail() { public void", 
    "msgId": 21527, 
    "profile": "dsaff", 
    "topicId": 21515, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-809272966\">Mykro, all,<br/>\n<br/>\nHere&#39;s the syntax I&#39;m playing with for 4.7:<br/>\n<br/>\npublic class MykroTest {<br/>\n\t@Decorator public OnFail noticeFailures = new OnFail() {<br/>\n\t\tpublic void catchFailure(Throwable t) {<br/>\n\t\t\tdumpCacheAppenderToConsoleAppender();<br/>\n\t\t}<br/>\n\t};<br/>\n<br/>\n\t//...<br/>\n}<br/>\n<br/>\nWould that do what you need?<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Fri, Apr 17, 2009 at 2:02 AM, mykro76 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:danieljcarr@...\">danieljcarr@...</a>&gt; wrote:<br/>\n&gt; I&#39;m using Junit 4 annotations, @Before, @After, @Test, etc.  I can&#39;t find a way to execute code only when a test fails.   In essence, an @OnFail annotation.  Is this possible?<br/>\n&gt;<br/>\n&gt; The only solutions I&#39;ve seen posted in this list were for Junit3, or involved setting a success flag at the end of *every* test.  Neither of which is very appealing.<br/>\n&gt;<br/>\n&gt; Backstory: I created a CacheAppender for log4j which stores large volumes of DEBUG level logging.  ERROR, WARN, INFO etc continue to go to the default ConsoleAppender in realtime.  If the test fails, I want to dump the contents of CacheAppender to the ConsoleAppender.  If the test succeeds I want to discard this extra logging.   Is there a better way I could be doing this?<br/>\n&gt;<br/>\n&gt; Thanks!<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21526, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1240320952", 
    "canDelete": false, 
    "nextInTopic": 21529, 
    "prevInTopic": 21525, 
    "headers": {
        "inReplyToHeader": "PGdzOTYxZCs2aXZ0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkwNDIxMDYzNWs3YTM0NTdiM3ViZGI4OGYxYmY5ZTRhNmZhQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGdzOTYxZCs2aXZ0QGVHcm91cHMuY29tPg=="
    }
}