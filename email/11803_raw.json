{
    "numMessagesInTopic": 7, 
    "nextInTime": 11804, 
    "senderId": "QyzWJdI_ZE_lcQ3BGd32eXISEAHlDGyCpVSoQMCHqGMyA2k4hHLgG1g5CAF-jke2zAyaTjh8eYQ_sW7LqvgsztQJlSQo_h0X", 
    "systemMessage": true, 
    "subject": "Re: How to test XML file processing?", 
    "from": "&quot;jxingtang&quot; &lt;jxingtang@...&gt;", 
    "authorName": "jxingtang", 
    "msgSnippet": "... Thanks a lot for all the valuable suggestions from J.B.Rainsberger, Allan Halme, Mark Van Peteghem, Kevin Lawerence! I first got input from", 
    "msgId": 11803, 
    "rawEmail": "Return-Path: &lt;jxingtang@...&gt;\r\nReceived: (qmail 76190 invoked from network); 19 Aug 2004 17:43:27 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m16.grp.scd.yahoo.com with QMQP; 19 Aug 2004 17:43:27 -0000\r\nReceived: from unknown (HELO n12.grp.scd.yahoo.com) (66.218.66.67)\n  by mta4.grp.scd.yahoo.com with SMTP; 19 Aug 2004 17:43:27 -0000\r\nReceived: from [66.218.67.254] by n12.grp.scd.yahoo.com with NNFMP; 19 Aug 2004 17:43:22 -0000\r\nX-Sender: jxingtang@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 50087 invoked from network); 19 Aug 2004 02:00:18 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m25.grp.scd.yahoo.com with QMQP; 19 Aug 2004 02:00:18 -0000\r\nReceived: from unknown (HELO n32.grp.scd.yahoo.com) (66.218.66.100)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Aug 2004 02:00:18 -0000\r\nReceived: from [66.218.67.162] by n32.grp.scd.yahoo.com with NNFMP; 19 Aug 2004 02:00:09 -0000\r\nDate: Thu, 19 Aug 2004 02:00:09 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;cg11j9+c2ra@...&gt;\r\nIn-Reply-To: &lt;cfpb23+155t@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3093\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Remote-IP: 66.218.66.100\r\nFrom: &quot;jxingtang&quot; &lt;jxingtang@...&gt;\r\nSubject: Re: How to test XML file processing?\r\nX-Yahoo-Group-Post: member; u=126373237\r\nX-Yahoo-Profile: jxingtang\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 19 Aug 2004 17:43:20 -0000\r\nX-eGroups-Remote-IP: 66.218.66.67\r\n\r\n--- In junit@yahoogroups.com, &quot;jxingtang&quot; &lt;jxingtang@y...&gt; wrote:\n&gt; I have a method to read an XML file and then use DOM to extract the \n&gt; data. Can anyone recommend a good way to unit test this method? The \n&gt; code snippet is blow:\n&gt; \n&gt; \tpublic void processConfigFile( String fileNameArg )\n&gt; \t\tthrows IllegalArgumentException\n&gt; \t{\n&gt; \t\tFile configFile = new File( fileNameArg );\n&gt; \t\tif( configFile.exists() == false )\n&gt; \t\t{\n&gt; \t\t\tString msg = &quot;Failed to locate the specified \n&gt; configuration file &#92;&quot;&quot; +\n&gt; \t\t\t\t\t\tfileNameArg + &quot;&#92;&quot;&quot;;\n&gt; \t\t\tthrow new IllegalArgumentException( msg );\n&gt; \t\t}\n&gt; \t\t\n&gt; \t\tDocumentBuilderFactory factory =\n&gt; \t\t\tDocumentBuilderFactory.newInstance();\n&gt; \t\t\n&gt; \t\ttry \n&gt; \t\t{\n&gt; \t\t   DocumentBuilder builder = \n&gt; factory.newDocumentBuilder();\n&gt; \t\t   configDoc = builder.parse( configFile );\n&gt; \t\t}\n&gt;                 ....\n\nThanks a lot for all the valuable suggestions from J.B.Rainsberger,  \nAllan Halme, Mark Van Peteghem, Kevin Lawerence! \n\nI first got input from J.B.Rainsberger, I thought that I might need \nto create Java temporary files for various XML data files instead of \nmaintaining them in the persistent storage. Then I got better ideas \nfrom Allan and Mark to refactor my code and use string instead of \nfile as input to the testing method. Kevin seems to have the similar \napproach but honestly I do not have the enough knowledge to \nunderstand it fully. Definitely, I will re-visit back later to fine \ntune my code and I begin to find Junit testing is really fun. Here \nare my refactored source codes and testing codes.\n\n\tpublic void processConfigFile( String fileNameArg )\n\t\tthrows IllegalArgumentException\n\t{\n\t\tFileInputStream fileInputStream = null;\n\n\t\ttry\n\t\t{ \n\t\t\t//fileReader = new FileReader( configFile );\n\t\t\tfileInputStream = new FileInputStream( \nconfigFile );\n\t\t}\n\t\tcatch( FileNotFoundException fne )\n\t\t{\n\t\t\tString msg = &quot;Failed to locate the specified \nconfiguration file &#92;&quot;&quot; +\n\t\t\t\t\t\tfileNameArg + &quot;&#92;&quot;&quot;;\n\t\t\tthrow new IllegalArgumentException( msg );\n\t\t\t\n\t\t}\n\t\t\n\t\tprocessXMLConfigFile( fileInputStream );\n\t}\n\n\tprotected void processXMLConfigFile( InputStream inputStream )\n\t\tthrows IllegalArgumentException\n\t{\n\t\tDocumentBuilderFactory factory =\n\t\t\tDocumentBuilderFactory.newInstance();\n\t\t\n\t\ttry \n\t\t{\n\t\t   DocumentBuilder builder = \nfactory.newDocumentBuilder();\n\t\t   configDoc = builder.parse( inputStream );\n\t\t}\n\n\t\t......\n\t}\n\n\n=================\n\n\tprotected void setUp()\n\t{\n\t\tcfgFileParser = new XMLParser( ... );\n\t}\n\n\tprivate InputStream createXMLFileWithSyntaxError()\n\t{\n\t\tStringBuffer fileBuffer = new StringBuffer();\n\t\t\n\t\tfileBuffer.append( &quot;&lt;?xml version=&#92;&quot;1.0&#92;&quot; \nencoding=&#92;&quot;UTF-8&#92;&quot;?&gt;&#92;n&quot; );\n\t\tfileBuffer.append( &quot;&lt;configuration&gt;&#92;n&quot; );\n\t\tfileBuffer.append( &quot;&lt;/configure&gt;&quot; );\n\t\t\n\t\treturn new StringBufferInputStream( \nfileBuffer.toString());\n\t}\n\n\tpublic void testProcessXMLFileWithSyntaxError()\n\t{\n\t\ttry\n\t\t{\n\t\t\tcfgFileParser.processXMLConfigFile( \ncreateXMLFileWithSyntaxError());\n\t\t\tfail( &quot;Failed to throw \nIllegalArgumentException for XML file with syntax error&quot; );\n\t\t}\n\t\tcatch( IllegalArgumentException iae )\n\t\t{\n\t\t\tassertTrue( true );\n\t\t}\n\t}\n       \n\n\n\n", 
    "profile": "jxingtang", 
    "topicId": 11782, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 126373237, 
    "prevInTime": 11802, 
    "contentTrasformed": false, 
    "postDate": "1092880809", 
    "canDelete": false, 
    "nextInTopic": 11812, 
    "prevInTopic": 11793, 
    "headers": {
        "inReplyToHeader": "PGNmcGIyMysxNTV0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGNnMTFqOStjMnJhQGVHcm91cHMuY29tPg=="
    }
}