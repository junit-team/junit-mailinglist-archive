{
    "numMessagesInTopic": 1, 
    "nextInTime": 8885, 
    "senderId": "hoKHnwkwGMOrfZ95i92v1AVC2pnP8ynKrLyHPKuAJDP4KNWKT22_PAlZ-uSqFXisFkgd6KIxWPyB6jHu0xbA5aIm", 
    "systemMessage": false, 
    "subject": "javascript onChange() using HttpUnit and Junit", 
    "from": "&quot;barry1roe&quot; &lt;atobin@...&gt;", 
    "authorName": "barry1roe", 
    "msgSnippet": "Hi I m trying to test a newly developed app using HttpUnit. On the page there is a Dropdown list, once selected causes the page to submit to the server", 
    "msgId": 8884, 
    "rawEmail": "Return-Path: &lt;atobin@...&gt;\r\nReceived: (qmail 3418 invoked by uid 7800); 31 Jul 2003 23:56:33 -0000\r\nX-Sender: atobin@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 30933 invoked from network); 31 Jul 2003 09:44:17 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m14.grp.scd.yahoo.com with QMQP; 31 Jul 2003 09:44:17 -0000\r\nReceived: from unknown (HELO n38.grp.scd.yahoo.com) (66.218.66.106)\n  by mta1.grp.scd.yahoo.com with SMTP; 31 Jul 2003 09:44:16 -0000\r\nReceived: from [66.218.67.130] by n38.grp.scd.yahoo.com with NNFMP; 31 Jul 2003 09:44:16 -0000\r\nDate: Thu, 31 Jul 2003 09:44:14 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: javascript onChange() using HttpUnit and Junit\r\nMessage-ID: &lt;bgaode+5c3j@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3433\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;barry1roe&quot; &lt;atobin@...&gt;\r\nX-Yahoo-Group-Post: member; u=155214664\r\nX-Yahoo-Profile: barry1roe\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via email; 31 Jul 2003 23:56:31 -0000\r\n\r\nHi \nI&#39;m trying to test a newly developed app using HttpUnit. On the page \nthere is a Dropdown list, once selected causes the page to submit to \nthe server (onChange())so as to populate another dropdown list, which \nin turn will cause another onChange event. Once this is done I fill \nout the remainder of the form and then hit the submit button. How can \nI simulate this? Essentially there are 2 onChange() Submits before \nthe Submit button is hit. Any help would be appreciated as I am stuck \non this. \n\nThanks \nArthur \n\nThis is the Code that I am using \n\nWebForm loginForm = response.getForms()[0]; \nWebRequest request = loginForm.getRequest(); \nHttpUnitOptions.setExceptionsThrownOnScriptError( false ); \nrequest.setParameter( AppProperties.FORM_ELEMENT_startDate, \nAppProperties.DATA_START_DATE); \nrequest.setParameter( AppProperties.FORM_ELEMENT_endDate, \nAppProperties.DATA_END_DATE); \nrequest.setParameter( AppProperties.FORM_ELEMENT_classID, \nAppProperties.DATA_CLASS); \nrequest.setParameter( AppProperties.FORM_ELEMENT_lineOfBusiness, \nAppProperties.DATA_LINE_OF_BUSINESS); \nrequest.setParameter( AppProperties.FORM_ELEMENT_assignmentLevel, \nAppProperties.DATA_ASSIGNMENT_LEVEL); \nrequest.setParameter( AppProperties.FORM_ELEMENT_assignedName, \nAppProperties.DATA_ASSIGNED_NAME); \nrequest.setParameter( AppProperties.FORM_ELEMENT_shortDesc, \nAppProperties.DATA_SHORT_DESCRIPTION); \nrequest.setParameter( AppProperties.FORM_ELEMENT_detailedDesc, \nAppProperties.DATA_LONG_DESCRIPTION); \n//request.setParameter( AppProperties.FORM_ELEMENT_ATTACH_file, \nAppProperties.DATA_ATTACH_FILE); \nrequest.setParameter( AppProperties.FORM_ELEMENT_category, \nAppProperties.DATA_CATEGORY); \nrequest.setParameter( AppProperties.FORM_ELEMENT_subCategory, \nAppProperties.DATA_SUB_CATEGORY); \n\nresponse = conversation.getResponse( request ); \n\nThis is the javascript code: \n&lt;script type=&quot;text/javascript&quot;&gt; \nfunction submit(){ \ncreateTaskForm.submit(); \n} \n\nfunction classSubmit(){ \ndocument.createTaskForm.classChanged.value=&quot;true&quot;; \ncreateTaskForm.submit(); \n} \n&lt;/script&gt; \n\nwhich is called by : \n\n\n&lt;select name=&#39;classID&#39; onchange=&quot;javascript:classSubmit()&quot; &gt; \n\n\nThis is the error that I am receiving, Category is blank until the \nfirst onChange, but it should be a 100 for the final submit \n\ntestCreateTaskFormSubmitValidData(com.decare.test.CreateTaskUseCase)\ncom.meterware.httpunit.MissingParameterValueException: \nParameter &#39;category&#39; must have the value &#39;&#39;. Attempted to set it to: \n{ 100 } \n[junit] void com.meterware.httpunit.FormControl.claimValueIsRequired\n(java.util.List, java.lang.String) \n[junit] FormControl.java:259 \n[junit] void \ncom.meterware.httpunit.TextFormControl.claimValueIsRequired\n(java.util.List) \n[junit] FormControl.java:667 \n[junit] void \ncom.meterware.httpunit.TextFormControl.claimRequiredValues\n(java.util.List) \n[junit] FormControl.java:662 \n[junit] void com.meterware.httpunit.FormParameter.setValues\n(java.lang.String[]) \n[junit] FormParameter.java:89 \n[junit] void com.meterware.httpunit.WebForm.setParameter\n(java.lang.String, java.lang.String[]) \n[junit] WebForm.java:522 \n[junit] void com.meterware.httpunit.WebForm.setParameter\n(java.lang.String, java.lang.String) \n[junit] WebForm.java:515 \n[junit] void com.meterware.httpunit.WebRequest.setParameter\n(java.lang.String, java.lang.String) \n[junit] WebRequest.java:134 \n[junit] void \ncom.decare.test.CreateTaskUseCase.testCreateTaskFormSubmitValidData() \n\n\n", 
    "profile": "barry1roe", 
    "topicId": 8884, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 155214664, 
    "prevInTime": 8883, 
    "contentTrasformed": false, 
    "postDate": "1059644654", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGJnYW9kZSs1YzNqQGVHcm91cHMuY29tPg=="
    }
}