{
    "numMessagesInTopic": 12, 
    "nextInTime": 22163, 
    "senderId": "NtSMC25hWnEzwWC_i0VX569s5E7eF5HKxE4GwpKo1ytYstz0RsnQYEj5-KscRi7Hsc7Bvxk9KCo9OeTrgH7ChNdnWqYD2daqFH-ECgoRnEI", 
    "systemMessage": false, 
    "subject": "Re: running a single test case in a separate JVM or ClassLoader", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "I m not really suggesting you change the overall design of the public API, I m just suggesting you have a way of injecting a different properties object, via", 
    "msgId": 22162, 
    "rawEmail": "Return-Path: &lt;yme0987654321@...&gt;\r\nX-Sender: yme0987654321@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 92148 invoked from network); 11 Dec 2009 13:51:00 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m1.grp.sp2.yahoo.com with QMQP; 11 Dec 2009 13:51:00 -0000\r\nX-Received: from unknown (HELO n46b.bullet.mail.sp1.yahoo.com) (66.163.168.160)\n  by mta3.grp.re1.yahoo.com with SMTP; 11 Dec 2009 13:50:59 -0000\r\nX-Received: from [69.147.65.149] by n46.bullet.mail.sp1.yahoo.com with NNFMP; 11 Dec 2009 13:50:59 -0000\r\nX-Received: from [98.137.34.35] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 11 Dec 2009 13:50:59 -0000\r\nDate: Fri, 11 Dec 2009 13:50:58 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hftio2+29pg@...&gt;\r\nIn-Reply-To: &lt;4B21D583.6050903@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;yme0987654321&quot; &lt;yme0987654321@...&gt;\r\nSubject: Re: running a single test case in a separate JVM or ClassLoader\r\nX-Yahoo-Group-Post: member; u=386557907; y=7f95h0W_uodcxpD3RlmXb04sCBkPkJG6n2iwbYlsCSYbiM0L66FSWg\r\nX-Yahoo-Profile: yme0987654321\r\n\r\nI&#39;m not really suggesting you change the overall design of the public API, =\r\nI&#39;m just suggesting you have a way of injecting a different properties obje=\r\nct, via say a package-private method or constructor, rather than the public=\r\n API, which would use that same method to inject the System properties at c=\r\nlass initialization.\n\nRegarding the Suite option, you only need as many Sui=\r\ntes as you have variations on the System property.\n\nIf none of this makes s=\r\nense, you are indeed down to a custom class loader, but on my Java map cust=\r\nom class loaders are in the &quot;there be dragons&quot; area, so I can&#39;t really give=\r\n you any good advice there.\n\n--- In junit@yahoogroups.com, Bill Shannon &lt;Bi=\r\nll.Shannon@...&gt; wrote:\n&gt;\n&gt; I can&#39;t change the design of the class under tes=\r\nt, its behavior is defined\n&gt; by a standard.\n&gt; \n&gt; As for different suites, a=\r\nre you suggesting that I separate the tests\n&gt; into different groups, and th=\r\nen run each group of tests as a separate\n&gt; run from maven, each in its own =\r\nJVM?  The number of classes I&#39;d like\n&gt; to test this way is quite large.  I =\r\nthink having lots of different test\n&gt; suites would quickly become unmanagea=\r\nble.\n&gt; \n&gt; If I need to build this capability myself, would building my own =\r\ncustom\n&gt; Runner be the right approach?  If so, is there some documentation =\r\non how\n&gt; to write a custom Runner?  Or do I just need to read the code?\n&gt; \n=\r\n&gt; \n&gt; yme0987654321 wrote on 12/10/2009 08:23 PM:\n&gt; &gt;  \n&gt; &gt; \n&gt; &gt; The way I w=\r\nould handle this is to inject the relevant properties via a \n&gt; &gt; properties=\r\n object, and then in production pass System.getProperties(), \n&gt; &gt; that way =\r\nthe tests are not coupled to the nasty global which is the \n&gt; &gt; System prop=\r\nerty.\n&gt; &gt; \n&gt; &gt; If that isn&#39;t an option for some reason, perhaps you can org=\r\nanize your \n&gt; &gt; different tests into suites, and set the system property in=\r\n a \n&gt; &gt; @BeforeClass method on the suite?\n&gt; &gt; \n&gt; &gt; Yishai\n&gt; &gt; \n&gt; &gt; --- In j=\r\nunit@yahoogroups.com &lt;mailto:junit%40yahoogroups.com&gt;, Bill \n&gt; &gt; Shannon &lt;B=\r\nill.Shannon@&gt; wrote:\n&gt; &gt;  &gt;\n&gt; &gt;  &gt; I&#39;ve read the FAQ and the javadocs and d=\r\none much web searching but \n&gt; &gt; can&#39;t find\n&gt; &gt;  &gt; an answer to this. Sorry =\r\nif this is stupid question.\n&gt; &gt;  &gt;\n&gt; &gt;  &gt; I need to write a test case that =\r\ntests a class whose behavior depends on\n&gt; &gt;  &gt; a System property. The class=\r\n reads the System property at class \n&gt; &gt; initialization\n&gt; &gt;  &gt; time. I&#39;d li=\r\nke to have multiple test cases, each of which sets a \n&gt; &gt; different\n&gt; &gt;  &gt; =\r\nvalue for the System property, so each of the tests needs to be run in a\n&gt; =\r\n&gt;  &gt; separate JVM or possibly a separate ClassLoader.\n&gt; &gt;  &gt;\n&gt; &gt;  &gt; Is ther=\r\ne a simple way to (e.g.) annotate my test case to cause JUnit to\n&gt; &gt;  &gt; han=\r\ndle this for me?\n&gt; &gt;  &gt;\n&gt; &gt;  &gt; I&#39;m invoking JUnit as part of a maven build.=\r\n Note that I don&#39;t want to\n&gt; &gt;  &gt; run *all* of my JUnit tests in a single s=\r\neparate JVM, I want to run\n&gt; &gt;  &gt; certain test cases each in their own sepa=\r\nrate JVM (or ClassLoader).\n&gt; &gt;  &gt;\n&gt; &gt;  &gt; If I have to start a new JVM or cr=\r\neate a new ClassLoader myself, what&#39;s\n&gt; &gt;  &gt; the best way to initialize the=\r\n CLASSPATH and find the class to be tested\n&gt; &gt;  &gt; from within a JUnit test =\r\ncase running under maven?\n&gt; &gt;  &gt;\n&gt; &gt;  &gt; Thanks.\n&gt; &gt;  &gt;\n&gt; &gt; \n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "yme0987654321", 
    "topicId": 22156, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "prevInTime": 22161, 
    "contentTrasformed": false, 
    "postDate": "1260539458", 
    "canDelete": false, 
    "nextInTopic": 22163, 
    "prevInTopic": 22161, 
    "headers": {
        "inReplyToHeader": "PDRCMjFENTgzLjYwNTA5MDNAc3VuLmNvbT4=", 
        "messageIdInHeader": "PGhmdGlvMisyOXBnQGVHcm91cHMuY29tPg=="
    }
}