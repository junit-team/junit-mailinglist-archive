{
    "numMessagesInTopic": 16, 
    "nextInTime": 21359, 
    "senderId": "OUof_f74PNOTe8qALJ75bOmc8auVo1zgPnh9uJrUVjtQ8yOmZvtnvohW4e-GPKmGhoTJdYnlFR3FVqdjt80-o-Ytn_hyTlZp3KsCv5SQsBY", 
    "systemMessage": false, 
    "subject": "Re: Conditionally running tests", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "That is certainly doable, but I was hoping to use this technique for other types of test segregation going forward. That is besides DBTests (as in tests that", 
    "msgId": 21358, 
    "rawEmail": "Return-Path: &lt;yme0987654321@...&gt;\r\nX-Sender: yme0987654321@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 404 invoked from network); 17 Feb 2009 14:50:09 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m43.grp.scd.yahoo.com with QMQP; 17 Feb 2009 14:50:09 -0000\r\nX-Received: from unknown (HELO n38b.bullet.mail.sp1.yahoo.com) (66.163.168.152)\n  by mta15.grp.scd.yahoo.com with SMTP; 17 Feb 2009 14:50:09 -0000\r\nX-Received: from [69.147.65.149] by n38.bullet.mail.sp1.yahoo.com with NNFMP; 17 Feb 2009 14:50:09 -0000\r\nX-Received: from [98.137.34.32] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 17 Feb 2009 14:50:09 -0000\r\nDate: Tue, 17 Feb 2009 14:50:06 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gneiqu+vode@...&gt;\r\nIn-Reply-To: &lt;11b5960d0902170233m2e52755ar9187d1836f48d276@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;yme0987654321&quot; &lt;yme0987654321@...&gt;\r\nSubject: Re: Conditionally running tests\r\nX-Yahoo-Group-Post: member; u=386557907; y=hzXYHxX1NB_SgigUXpHsnP3wGjJ9kLe-0ewRmYVcB8D25uMI2ISdqw\r\nX-Yahoo-Profile: yme0987654321\r\n\r\nThat is certainly doable, but I was hoping to use this technique for\nother =\r\ntypes of test segregation going forward. That is besides DBTests\n(as in tes=\r\nts that really test a stored procedure or view), I\npotentially have integra=\r\ntion tests, performance tests and possibly\nin-container tests, and to start=\r\n segregating everything by directory\ngets a little much.\n\nAlso, it is hard =\r\nto tell in our IDE (Intellij IDEA) where a given\nclass resides in the direc=\r\ntory structure, so knowing by looking at the\nclass if it runs in a given gr=\r\noup would be a little bit harder than it\nshould be.\n\n--- In junit@yahoogrou=\r\nps.com, Colin Vipurs &lt;zodiaczx6@...&gt; wrote:\n&gt;\n&gt; Have you considered placing=\r\n these tests in a seperate directory\nstructure to\n&gt; your normal tests so th=\r\ney can be selected as a group to be run?\n&gt; \n&gt; Say currently you have:\n&gt; \n&gt; =\r\nsrc/\n&gt; test/\n&gt; \n&gt; You then use something like slowtests/, dbtests/ etc.\n&gt; \n=\r\n&gt; On Tue, Feb 17, 2009 at 3:54 AM, yme0987654321 &lt;yme0987654321@...&gt;wrote:\n=\r\n&gt; \n&gt; &gt;   Hi,\n&gt; &gt;\n&gt; &gt; I&#39;ve tried looking around the group but I haven&#39;t seen=\r\n an answer to\n&gt; &gt; this. I&#39;m trying to set up a group of tests that runs onl=\r\ny under\n&gt; &gt; certain circumstances. Because they are database tests, they ha=\r\nve\n&gt; &gt; expensive setup and teardown procedures (via DBUnit), so they are\n&gt; =\r\n&gt; segregated to run separately. The way to get that done seems to be via\n&gt; =\r\n&gt; a separate runner, so I hacked up a class that looks like this:\n&gt; &gt; (Insp=\r\niration from here:\n&gt; &gt; http://schuchert.wikispaces.com/CustomJunit4RunnerJU=\r\nnit4_4 but that\n&gt; &gt; example no longer applies to the 4.5 API):\n&gt; &gt;\n&gt; &gt; publ=\r\nic class SlowTestRunner extends Runner {\n&gt; &gt;\n&gt; &gt; private Runner runner;\n&gt; &gt;=\r\n private Class&lt;?&gt; klass;\n&gt; &gt;\n&gt; &gt; public SlowTestRunner(Class&lt;?&gt; klass, Runn=\r\nerBuilder builder)\n&gt; &gt; throws Throwable {\n&gt; &gt; this.klass =3D klass;\n&gt; &gt; if =\r\n(Boolean.getBoolean(&quot;RunSlowTests&quot;)) {\n&gt; &gt; runner =3D getAppropriateRunner(=\r\nbuilder);\n&gt; &gt; } else {\n&gt; &gt; runner =3D new IgnoredClassRunner(klass);\n&gt; &gt; }\n=\r\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; private Runner getAppropriateRunner(RunnerBuilder builder) {\n=\r\n&gt; &gt; List&lt;RunnerBuilder&gt; builders =3D Arrays.asList(\n&gt; &gt; new IgnoredBuilder(=\r\n),\n&gt; &gt; new AnnotatedBuilder(builder),\n&gt; &gt; new SuiteMethodBuilder(),\n&gt; &gt; new=\r\n JUnit3Builder(),\n&gt; &gt; new JUnit4Builder());\n&gt; &gt;\n&gt; &gt; for (RunnerBuilder each=\r\n : builders) {\n&gt; &gt; Runner runner =3D each.safeRunnerForClass(klass);\n&gt; &gt; if=\r\n (runner !=3D null && runner.getClass() !=3D this.getClass())\n&gt; &gt; return ru=\r\nnner;\n&gt; &gt; }\n&gt; &gt; //this is actually never going to happen, at least in the\n&gt;=\r\n &gt; current implementation because the JUnit4Builder is the Builder of\n&gt; &gt; l=\r\nast resort.\n&gt; &gt; return new ErrorReportingRunner(klass, new\n&gt; &gt; Initializati=\r\nonError(&quot;Unable to find suitable runner to delegate for &quot;\n&gt; &gt; + klass.getNa=\r\nme()));\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; public Description getDescription() {\n&gt; &gt; return runn=\r\ner.getDescription();\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; public void run(RunNotifier notifier) {\n=\r\n&gt; &gt; runner.run(notifier);\n&gt; &gt; }\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; The method getAppropriateRunn=\r\ner is basically a copy/paste from\n&gt; &gt; AllDefaultPossibilitiesBuilder. I had=\r\n to copy paste because the\n&gt; &gt; protected method forced a return of an Annot=\r\natedBuilder, instead of\n&gt; &gt; just a RunnerBuilder, so overriding wasn&#39;t work=\r\ning well. Note the case\n&gt; &gt; here is that I&#39;m not sure if the class is a JUn=\r\nit3 or 4 class, and I\n&gt; &gt; want to support both with one runner.\n&gt; &gt;\n&gt; &gt; At =\r\nfirst I tried to just do a runnerForClass on builder passed to the\n&gt; &gt; cons=\r\ntructor, but that causes an infinite loop, because the class has\n&gt; &gt; the Ru=\r\nnWith annotation on it that references the very same Runner.\n&gt; &gt;\n&gt; &gt; Am I c=\r\norrect that the API isn&#39;t naturally supporting what I am trying\n&gt; &gt; to do, =\r\nor is there another way to accomplish this?\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; -- \n&gt; =\r\nWell, as long as you&#39;re in my house, you&#39;ll do what I do, and\nbelieve what =\r\nI\n&gt; believe. So butter your bacon! Bacon that sausage!\n&gt; \n&gt; \n&gt; [Non-text po=\r\nrtions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "yme0987654321", 
    "topicId": 21356, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "prevInTime": 21357, 
    "contentTrasformed": false, 
    "postDate": "1234882206", 
    "canDelete": false, 
    "nextInTopic": 21359, 
    "prevInTopic": 21357, 
    "headers": {
        "inReplyToHeader": "PDExYjU5NjBkMDkwMjE3MDIzM20yZTUyNzU1YXI5MTg3ZDE4MzZmNDhkMjc2QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGduZWlxdSt2b2RlQGVHcm91cHMuY29tPg=="
    }
}