{
    "numMessagesInTopic": 27, 
    "nextInTime": 17177, 
    "senderId": "TsJ21hIxXruUb_vSYXQUV7She6Csz1ZhzKAXCj7pdcptCiy97MsfYHDYk2pah3usqNcB86_AjtyInUkuiipjYfPC8Wzmaoeipg6Uo9t8ToE", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to Test Private Methods Inside a Class", 
    "from": "Stephen Smith &lt;steve@...&gt;", 
    "authorName": "Stephen Smith", 
    "msgSnippet": "Much as I dislike going against Elliotte, I m going to stick to my guns. I like reflection, but after bingeing on it when I was young and foolish I now tend to", 
    "msgId": 17176, 
    "topicId": 17170, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 231973488, 
    "messageBody": "<div id=\"ygrps-yiv-1732992696\">Much as I dislike going against Elliotte, I&#39;m going to stick to my guns.<br/>\n<br/>\nI like reflection, but after bingeing on it when I was young and foolish <br/>\nI now tend to avoid it. I&#39;m uncomfortable using reflection and fiddling <br/>\nwith run-time modifiers solely for the purposes of calling a private <br/>\nmethod from a test case.<br/>\n<br/>\nAs I originally stated (and elaborated upon by Joakim), I would suggest <br/>\ninstead analysing exactly _why_ the private method needs testing. If it <br/>\nis sufficiently important to require a test case, does its functionality <br/>\nmerit a change in access modifier? Is its behaviour sufficiently <br/>\ndifferent to that of the parent class that an extraction to a public <br/>\nhelper class might be possible?<br/>\n<br/>\nSteve.<br/>\n<br/>\n--<br/>\nStephen Smith, MEng (Wales).<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.stephen-smith.co.uk/\">http://www.stephen-smith.co.uk/</a><br/>\n<br/>\nJoakim Ohlrogge wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; In addition to the two options below I would add what I think Stephen<br/>\n&gt; Smith was suggesting:<br/>\n&gt; <br/>\n&gt; 3. Look for an abstraction and extract the private methods you want to<br/>\n&gt; test into a separate, testable class. Inspired By Cederics example and<br/>\n&gt; refering to the Java-API, let&#39;s say that you have the private method<br/>\n&gt; int compare(Object left, Object right) that compares two objects. That<br/>\n&gt; can be extracted to a comparator with that method as a public<br/>\n&gt; interface (yes I completely stile the exam√∂ple from the Java API<br/>\n&gt; what&#39;s wong with that? :)). An implementation of that interface could<br/>\n&gt; be instantiated and used in the your tested class AND it could and<br/>\n&gt; should be tested in isolation outside of that class.<br/>\n&gt; <br/>\n&gt; I would look for abstractions first, I have yet to find a situation<br/>\n&gt; where I need to test private methods with reflection and I very<br/>\n&gt; seldomly, if ever need to open up the API in a way that feels<br/>\n&gt; &quot;unnatural&quot;. When I do that a better solution usually presents itself<br/>\n&gt; later (so opening up can be a way to keep your flow).<br/>\n&gt; <br/>\n&gt; I think SRP is one of the most important principles when TDD:ing:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.objectmentor.com/resources/articles/srp\">http://www.objectmentor.com/resources/articles/srp</a><br/>\n&gt; <br/>\n&gt; If something is hard to test the reason is often that SRP has been violated.<br/>\n&gt; <br/>\n&gt; Just my two cents for what they are worth.<br/>\n&gt; /J<br/>\n&gt; <br/>\n&gt; <br/>\n&gt;&gt;  Back to the original question.  You have two options:<br/>\n&gt;&gt;<br/>\n&gt;&gt;  - You absolutely want to keep that method private, and in this case,<br/>\n&gt;&gt;     you should probably invoke it via reflection (see setAccessible(true)).<br/>\n&gt;&gt;<br/>\n&gt;&gt;  - You can relax the visibility of this method, in which case I suggest<br/>\n&gt;&gt;     making it package protected and then put your test in the same package (it<br/>\n&gt;&gt;     can still be in a separate source folder).<br/>\n&gt;&gt;<br/>\n&gt;&gt;  I recommend the latter approach...<br/>\n&gt;&gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 17175, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1153678792", 
    "canDelete": false, 
    "nextInTopic": 17177, 
    "prevInTopic": 17175, 
    "headers": {
        "inReplyToHeader": "PGI5ZWU1ZTQxMDYwNzIzMTEwM3A3MGM5ZjgzYWs3ZDEyMWFjMWJmMGY4ZGJiQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ0QzNCREM4LjMwOTA0MDRAc3RlcGhlbi1zbWl0aC5jby51az4=", 
        "referencesHeader": "PGU5dmJhcCs4OHNhQGVHcm91cHMuY29tPiA8NDRDMzYzRkEuODA1MDAwNkBzdGVwaGVuLXNtaXRoLmNvLnVrPgkgPDQ0QzM5NzI4LjkwNjA1QG1ldGFsYWIudW5jLmVkdT4JIDxiODZiNmE5YzA2MDcyMzA5MDhrN2ZmY2Y4YzNwY2M3YmI3YjIwZjgwYjYyMEBtYWlsLmdvb2dsZS5jb20+IDxiOWVlNWU0MTA2MDcyMzExMDNwNzBjOWY4M2FrN2QxMjFhYzFiZjBmOGRiYkBtYWlsLmdtYWlsLmNvbT4="
    }
}