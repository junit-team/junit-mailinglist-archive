{
    "topicId": 7374, 
    "postDate": "1049326012", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "skss2002@...", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "pVirsVazlPWVYUdLmXvCf62UYK0ZbUFtg0CWI3zMaQvHHfRcNlu46Z34OOWepATQpyIX2nFvyQ", 
    "nextInTime": 7457, 
    "userId": 107426134, 
    "prevInTime": 7455, 
    "prevInTopic": 7396, 
    "headers": {
        "messageIdInHeader": "PDE5Ny4xODMyZjI0OC4yYmJjY2JiY0Bhb2wuY29tPg=="
    }, 
    "authorName": "skss2002@aol.com", 
    "numMessagesInTopic": 17, 
    "msgSnippet": "Hi Levi, Thanks for biting, I thought I was wasting my time in the backwater here ... ... Sorry that I didn t make my question clearer for you, please let me", 
    "contentTrasformed": false, 
    "msgId": 7456, 
    "nextInTopic": 7457, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;Skss2002@...&gt;\r\nReceived: (qmail 29883 invoked from network); 2 Apr 2003 23:27:57 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m9.grp.scd.yahoo.com with QMQP; 2 Apr 2003 23:27:57 -0000\r\nReceived: from unknown (HELO n10.grp.scd.yahoo.com) (66.218.66.65)\n  by mta2.grp.scd.yahoo.com with SMTP; 2 Apr 2003 23:28:01 -0000\r\nX-eGroups-Return: Skss2002@...\r\nReceived: from [66.218.67.142] by n10.grp.scd.yahoo.com with NNFMP; 02 Apr 2003 23:27:58 -0000\r\nX-Sender: Skss2002@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 2 Apr 2003 23:27:04 -0000\r\nReceived: (qmail 3537 invoked from network); 2 Apr 2003 23:26:58 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 2 Apr 2003 23:26:58 -0000\r\nReceived: from unknown (HELO imo-m03.mx.aol.com) (64.12.136.6)\n  by mta3.grp.scd.yahoo.com with SMTP; 2 Apr 2003 23:26:56 -0000\r\nReceived: from Skss2002@...\n\tby imo-m03.mx.aol.com (mail_out_v34.21.) id r.197.1832f248 (4230)\n\t for &lt;junit@yahoogroups.com&gt;; Wed, 2 Apr 2003 18:26:53 -0500 (EST)\r\nMessage-ID: &lt;197.1832f248.2bbccbbc@...&gt;\r\nDate: Wed, 2 Apr 2003 18:26:52 EST\r\nSubject: Re: [junit] Junit and RMI, please help ...\r\nTo: junit@yahoogroups.com\r\nMIME-Version: 1.0\r\nX-Mailer: 7.0 for Windows sub 537\r\nFrom: skss2002@...\r\nX-Yahoo-Group-Post: member; u=107426134\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Approved-By: clarkware &lt;mike@...&gt; via web; 02 Apr 2003 23:27:55 -0000\r\n\r\nHi Levi,\n\nThanks for biting, I thought I was wasting my time in the backwater here ...  \n:)\n\nSorry that I didn&#39;t make my question clearer for you, please let me try \nagain.\n\nThe application I am working on is the test assignment for the Java 2 \nDeveloper Exam.  Although JUnit testing is not required, I thought I would do \nit for my own good.\n\nI was asked to implement a DatabaseServer and DatabaseClient using RMI, and \nthe remote DatabaseInterface is like:\n\npublic Record getRecord(int recno) throws RemoteException;\npublic void modify(Record newRecord) throws RemoteException;\npublic void lock(int recno, Object client) throws InterruptedException, \nRemoteException;\npublic void unlock(int recno, Object client) throws RemoteException;\npublic boolean connect(Object client) throws RemoteException;\npublic void disconnect(Object client) throws RemoteException;\n\n*note: Record object encapsulates record number, field names, field widths, \nand field values.\n\nIn the DatabaseClient, statements below are used to access the remote \ndatabase; clients are expected to call lock(), getRecord(), modify(), \nunlock() in sequence to maintain database integrity:\n\nDatabaseInterface database = (DatabaseInterface) \nNaming.lookup(databaseServiceName);\nif (! database.connect(this)) {\n    System.out.println(&quot;The server is busy, please try again.&quot;);\n    System.exit(1);\n}\ndatabase.lock(1, this); // Locks record number 1\nRecord record = database.getRecord(1);\n/*\n    Here, extracts and modify some field values of record 1, and creates a \nnew record based on the change ...\n*/\ndatabase.modify(newRecord); // Record 1 is now updated\ndatabase.unlock(1, this);\ndatabase.disconnect(this);      // The client has finished\n\nTo implement my DatabaseServer:\n\n1.  When connect() is called: the server puts the client object in a HashSet.\n2.  lock() is called: the client object and the record number is put in a \nHashMap, lock() requests to the record by other clients will be blocked until \nthe first client calls unlock().\n3.  unlock() is called: the server removes the client/record number entry \nfrom the HashMap.\n4.  disconnect() is called: the server removes the client object from the \nHashSet.\n\nTo avoid a crashed client from holding a record lock indefinitely, a server \nthread is spawned to constantly checking the HashSet entries:\n\nif (clientObject != null && clientObject.equals(null)) { \n    /*\n        Releases record lock held by the crashed client if any.\n        Removes the crashed client object from the HashSet.\n    */\n}\n\nI thought if the client is crashed and his connection is lost, the value that \nthe object reference &#39;clientObject&#39; points to must be null.  Without access \nto any network system, I am only able to test this locally:\n\n1.  Open a OS window (Windows XP) and run rmiregistry\n2.  Run DatabaseServer in another OS window\n3.  Open a third OS window and run DatabaseClient to lock record 1.  Embedded \nprintln statement in the server shows record 1 has been locked by this \nclient.\n4.  Open a fourth OS window and run DatabaseClient again to lock record 1.  \nThe println statement shows the second client is waiting for record 1.\n5.  Close the first client&#39;s OS window to kill the client&#39;s process.\n6.  The println statement shows the second client locks record 1.\n\nSo things seem to work fine for 2 clients.  I would like to write a test case \nto stress test the server with 20 to 30 clients, may be using Runtime.exec() \nin my test case to open multiple clients windows.  Does this make sense to \nyou or can it be done with JUnit?\n\nAppreciate your comment, thanks.\n\nSam\n\n\n[Non-text portions of this message have been removed]\n\n\n\n", 
    "subject": "Re: [junit] Junit and RMI, please help ..."
}