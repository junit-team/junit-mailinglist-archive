{
    "numMessagesInTopic": 12, 
    "nextInTime": 22384, 
    "senderId": "RmjdWRkqDI6-Yu7jyVp8LlKIkh1z8qw72eveleUghqzeQs8b_8uT4lWgk9jqxT8G8c6-Su4yCYPKljEZ2WSd0SWqINQBCO5iW_-mA746-yvWd-NSGyGK", 
    "systemMessage": false, 
    "subject": "RE: [junit] Theories Usability", 
    "from": "&quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Loritsch, Berin C.", 
    "msgSnippet": "It ll take some time, but I can get it for you (I m snowed in and the environment is on my work computer). ... From: junit@yahoogroups.com on behalf of David", 
    "msgId": 22383, 
    "rawEmail": "Return-Path: &lt;prvs=1649fa904d=berin.loritsch@...&gt;\r\nX-Sender: prvs=1649fa904d=berin.loritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 85171 invoked from network); 8 Feb 2010 19:52:50 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m1.grp.sp2.yahoo.com with QMQP; 8 Feb 2010 19:52:50 -0000\r\nX-Received: from unknown (HELO mnbm01-relay1.mnb.gd-ais.com) (137.100.120.43)\n  by mta2.grp.re1.yahoo.com with SMTP; 8 Feb 2010 19:52:50 -0000\r\nX-Received: from ([10.73.100.22])\n\tby mnbm01-relay1.mnb.gd-ais.com with SMTP  id 5202712.244907368;\n\tMon, 08 Feb 2010 13:51:42 -0600\r\nX-Received: from vaff01-mail01.ad.gd-ais.com ([10.13.13.20]) by camv02-fes01.ad.gd-ais.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Mon, 8 Feb 2010 11:51:42 -0800\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Mon, 8 Feb 2010 14:49:50 -0500\r\nMessage-ID: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C772@...-ais.com&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C772@...-ais.com&gt;\r\nThread-Topic: [junit] Theories Usability\r\nThread-Index: Acqo6V8WKMQ1XFnZSce3RR6kaitGawADoE6+\r\nReferences: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76B@...-ais.com&gt;&lt;4f7da6b91002071848r3458f8c2ob7cda7cab6523ecc@...&gt;&lt;75F5ED8A5A553646A46E00E6EC854FA30378C76D@...-ais.com&gt;&lt;4f7da6b91002080813v3d97cdccye1f8879e80dbc396@...&gt;&lt;75F5ED8A5A553646A46E00E6EC854FA30378C770@...-ais.com&gt; &lt;4f7da6b91002081001h2382ebdeu8b70f274123c8a5@...&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReturn-Path: Berin.Loritsch@...\r\nX-OriginalArrivalTime: 08 Feb 2010 19:51:42.0713 (UTC) FILETIME=[2310A690:01CAA8F8]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;\r\nSubject: RE: [junit] Theories Usability\r\nX-Yahoo-Group-Post: member; u=428096731; y=kHTlXVoI3vytsoYYxyHrxwd0fiMV_pqaF52mkKWdoj0xKWWF\r\nX-Yahoo-Profile: bloritsch\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nIt&#39;ll take some time, but I can get it for you (I&#39;m snowed in and the envir=\r\nonment is on my work computer).\n\n\n-----Original Message-----\nFrom: junit@ya=\r\nhoogroups.com on behalf of David Saff\nSent: Mon 2/8/2010 1:01 PM\nTo: junit@=\r\nyahoogroups.com\nSubject: Re: [junit] Theories Usability\n \nBerin,\n\nDo you ha=\r\nve a stack trace you could share?  That would be really helpful.\n\n   David\n=\r\n\nOn Mon, Feb 8, 2010 at 12:35 PM, Loritsch, Berin C.\n&lt;berin.loritsch@gd-ais=\r\n.com&gt; wrote:\n&gt;\n&gt; I have JUnit 4.7 which is the most recent available from M=\r\naven. =A0The parameters that caused the failure were not easily detectable =\r\nfrom the stack trace.\n&gt;\n&gt; I&#39;ve added a feature request, that would at least=\r\n allow a theory to be declared to be run as discrete. =A0AKA:\n&gt;\n&gt; @Theory(r=\r\nunAsDiscrete=3Dtrue)\n&gt;\n&gt; which would generate a new &quot;test&quot; for each combina=\r\ntion of parameters. =A0The name of the test would include the parameters (u=\r\nsing the toString method on the parameters of course). =A0It may generate 1=\r\n00+ test names, depending on the number of data points and the combinations=\r\n, but that works better for me than one name and one failure at a time.\n&gt;\n&gt;=\r\n -----Original Message-----\n&gt; From: junit@yahoogroups.com on behalf of Davi=\r\nd Saff\n&gt; Sent: Mon 2/8/2010 11:13 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject:=\r\n Re: [junit] Theories Usability\n&gt;\n&gt; Berin,\n&gt;\n&gt; I wouldn&#39;t use Rules, either=\r\n.\n&gt;\n&gt; One failure per method is currently baked into the architecture of th=\r\ne\n&gt; Theories runner--I&#39;d welcome a feature request for the right way to\n&gt; m=\r\nake that better.\n&gt;\n&gt; In terms of knowing what failed, the Theories runner s=\r\nhould show in\n&gt; the stack trace the parameters that triggered the failure. =\r\n=A0Is that\n&gt; not happening?\n&gt;\n&gt; =A0 David\n&gt;\n&gt; On Mon, Feb 8, 2010 at 9:24 A=\r\nM, Loritsch, Berin C.\n&gt; &lt;berin.loritsch@...&gt; wrote:\n&gt;&gt; I haven&#39;t log=\r\nged the feature request, mainly because I might not be using the right tool=\r\n for the job. =A0What I would like to see is what I described.\n&gt;&gt;\n&gt;&gt; With J=\r\nUnit 3, I adopted the test nomenclature of something on the order of:\n&gt;&gt;\n&gt;&gt;=\r\n testMyMethod_withNullParam1()\n&gt;&gt; testMyMethod_withXandYparams()\n&gt;&gt;\n&gt;&gt; etc.=\r\n\n&gt;&gt;\n&gt;&gt; that would let me see within the test report (particularly a continu=\r\nous integration test report) what exactly failed. =A0If the null parameter =\r\nfailed its check I&#39;d have to fix one thing (boundary checking), but if the =\r\nXandYparams version failed then I knew something may be wrong with the algo=\r\nrithm.\n&gt;&gt;\n&gt;&gt; With the particular Theory I&#39;ve written I need to know not onl=\r\ny the class that was tested, but the attribute that did not follow the cont=\r\nracts for using the base class. =A0With only one failure that can&#39;t happen.=\r\n\n&gt;&gt;\n&gt;&gt; I didn&#39;t think Rules was the right way to go, because the MethodRule=\r\n objects were applied to the tests within that same class (unless I&#39;m missi=\r\nng something).\n&gt;&gt;\n&gt;&gt; Theories at least gives me the coverage and assurance =\r\nI&#39;m after, but I&#39;d like to get away from writing to System.out to figure ou=\r\nt exactly what failed. =A0I would also like to be able to see all my failur=\r\nes at once instead of only after fixing the last failure.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; -----Ori=\r\nginal Message-----\n&gt;&gt; From: junit@yahoogroups.com on behalf of David Saff\n&gt;=\r\n&gt; Sent: Sun 2/7/2010 9:48 PM\n&gt;&gt; To: junit@yahoogroups.com\n&gt;&gt; Subject: Re: [=\r\njunit] Theories Usability\n&gt;&gt;\n&gt;&gt; Berin,\n&gt;&gt;\n&gt;&gt; I do think that we should even=\r\ntually have a way to operate at least\n&gt;&gt; optionally in the way you describe=\r\n. =A0Have you logged a feature request\n&gt;&gt; yet?\n&gt;&gt;\n&gt;&gt; =A0 Davi\n&gt;&gt;\n&gt;&gt; On Fri,=\r\n Feb 5, 2010 at 3:27 PM, Loritsch, Berin C.\n&gt;&gt; &lt;berin.loritsch@...&gt; =\r\nwrote:\n&gt;&gt;&gt; Thanks everyone for helping me work through the testing challeng=\r\ne I wanted to address. =A0I&#39;ve written a rudimentary ClassCollector that le=\r\nts me specify a base package, what base classes I need, any annotations I n=\r\need applied, etc. =A0I supplimented that with a BeanAttributes class that w=\r\nill collect all the attributes (setters/getters) on the class. =A0It&#39;s work=\r\ning very well. =A0Unfortunately, there are a few shortcomings with this app=\r\nroach:\n&gt;&gt;&gt;\n&gt;&gt;&gt; 1. I cannot easily determine what the actual data point comb=\r\nination was that caused the failure. =A0I have to write those values out to=\r\n System.out because the test failure does not do that for me.\n&gt;&gt;&gt;\n&gt;&gt;&gt; 2. It=\r\n stops on the very first failure, hiding many more failures that may still =\r\nbe lurking beneath the service.\n&gt;&gt;&gt;\n&gt;&gt;&gt; 3. The theory is the only line show=\r\nn in the test report, so there is no way to differentiate runs which would =\r\nhandle the above concerns.\n&gt;&gt;&gt;\n&gt;&gt;&gt; What I would really like to see is that =\r\na new test name for each combination of data points. =A0For example if you =\r\nhad a @Theory named &quot;checkAddWorks&quot; that took two parameters and the data p=\r\noints [1,2] then I&#39;d like to see a set of test names that look like this in=\r\n the test report:\n&gt;&gt;&gt;\n&gt;&gt;&gt; checkAddWorks(1,1)\n&gt;&gt;&gt; checkAddWorks(1,2)\n&gt;&gt;&gt; che=\r\nckAddWorks(2,2)\n&gt;&gt;&gt;\n&gt;&gt;&gt; That will address all of the shortcomings I identif=\r\nied.\n&gt;&gt;&gt;\n&gt;&gt;&gt; My code looks like this:\n&gt;&gt;&gt;\n&gt;&gt;&gt; @RunWith(Theories.class)\n&gt;&gt;&gt; =\r\nclass TestMyTrackableContract {\n&gt;&gt;&gt; =A0 =A0@DataPoints\n&gt;&gt;&gt; =A0 =A0BeanAttri=\r\nbute[] collectAllAttributesToTest() {\n&gt;&gt;&gt; =A0 =A0 =A0 =A0ClassCollector col=\r\nlector =3D new ClassCollector();\n&gt;&gt;&gt; =A0 =A0 =A0 =A0collector.within(&quot;com.m=\r\nycompany.incident.model&quot;).assignableTo(Trackable.class);\n&gt;&gt;&gt; =A0 =A0 =A0 =\r\n=A0Collection&lt;Class&lt;?&gt;&gt; matchedClasses =3D collector.recurse().collect();\n&gt;=\r\n&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0List&lt;BeanAttribute&gt; attributes =3D new ArrayList&lt;Bean=\r\nAttribute&gt;();\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0for (Class&lt;?&gt; trackable : matchedClass=\r\nes) {\n&gt;&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0attributes.addAll(BeanAttribute.collectFro=\r\nm(trackable));\n&gt;&gt;&gt; =A0 =A0 =A0 =A0}\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0return attribute=\r\ns.toArray(new BeanAttribute[attributes.size()]);\n&gt;&gt;&gt; =A0 =A0}\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =\r\n=A0@Theory\n&gt;&gt;&gt; =A0 =A0public void checkSideEffectsOnAssign() throws Excepti=\r\non {\n&gt;&gt;&gt; =A0 =A0 =A0 =A0// This is designed to ensure that setters/getters =\r\nwork in concert\n&gt;&gt;&gt; =A0 =A0 =A0 =A0// and that setters set the appropriate =\r\nmessage is sent\n&gt;&gt;&gt; =A0 =A0 =A0 =A0if ( ! beanAttribute.hasSetter() || ! be=\r\nanAttribute.hasGetter() ) return;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0beanAttribute.assertBa=\r\nlanced();\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0Trackable entity =3D beanAttribute.getEnti=\r\ntyAs(Trackable.class);\n&gt;&gt;&gt; =A0 =A0 =A0 =A0// Unfortunately needed to determ=\r\nine when things go bad\n&gt;&gt;&gt; =A0 =A0 =A0 =A0System.out.format(&quot;Testing %s&#92;n&quot;,=\r\n beanAttribute);\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0Object original =3D beanAttribute.g=\r\netValue();\n&gt;&gt;&gt; =A0 =A0 =A0 =A0Object testValue =3D beanAttribute.generateTe=\r\nstValue(original);\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =A0// Ensure the setter works as exp=\r\nected\n&gt;&gt;&gt; =A0 =A0 =A0 =A0beanAttribute.setValue(testValue);\n&gt;&gt;&gt; =A0 =A0 =A0=\r\n =A0assertEquals(testValue, beanAttribute.getValue());\n&gt;&gt;&gt;\n&gt;&gt;&gt; =A0 =A0 =A0 =\r\n=A0// Ensure properties are set and events were properly\n&gt;&gt;&gt; =A0 =A0 =A0 =\r\n=A0Properties changes =3D entity.getChanges();\n&gt;&gt;&gt; =A0 =A0 =A0 =A0assertEqu=\r\nals( String.valueOf(testValue),\n&gt;&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getPrope=\r\nrty(beanAttribute.getAttribute()));\n&gt;&gt;&gt; =A0 =A0 =A0 =A0assertEquals( String=\r\n.valueOf(original),\n&gt;&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty(beanAttr=\r\nibute.getAttribute() + &quot;.old&quot;));\n&gt;&gt;&gt; =A0 =A0}\n&gt;&gt;&gt; }\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; [Non-text p=\r\nortions of this message have been removed]\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ----------------=\r\n--------------------\n&gt;&gt;&gt;\n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;=\r\n&gt; [Non-text portions of this message have been removed]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; -------=\r\n-----------------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;=\r\n [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt; ------------=\r\n------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n[Non-text porti=\r\nons of this message have been removed]\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "prevInTime": 22382, 
    "contentTrasformed": false, 
    "postDate": "1265658590", 
    "canDelete": false, 
    "nextInTopic": 22384, 
    "prevInTopic": 22382, 
    "headers": {
        "messageIdInHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NzJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "referencesHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPjw0ZjdkYTZiOTEwMDIwNzE4NDhyMzQ1OGY4YzJvYjdjZGE3Y2FiNjUyM2VjY0BtYWlsLmdtYWlsLmNvbT48NzVGNUVEOEE1QTU1MzY0NkE0NkUwMEU2RUM4NTRGQTMwMzc4Qzc2REB2YWZmMDEtbWFpbDAxLmFkLmdkLWFpcy5jb20+PDRmN2RhNmI5MTAwMjA4MDgxM3YzZDk3Y2RjY3llMWY4ODc5ZTgwZGJjMzk2QG1haWwuZ21haWwuY29tPjw3NUY1RUQ4QTVBNTUzNjQ2QTQ2RTAwRTZFQzg1NEZBMzAzNzhDNzcwQHZhZmYwMS1tYWlsMDEuYWQuZ2QtYWlzLmNvbT4gPDRmN2RhNmI5MTAwMjA4MTAwMWgyMzgyZWJkZXU4YjcwZjI3NDEyM2M4YTVAbWFpbC5nbWFpbC5jb20+"
    }
}