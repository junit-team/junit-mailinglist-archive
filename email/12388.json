{
    "numMessagesInTopic": 4, 
    "nextInTime": 12389, 
    "senderId": "9WV1TRb5PvqhnIGZLTs8joTADFfegWfxwK4VOteTK0NoJ8anRpdHFvG052fGm5tNR4Y7iOKJh-f1mB5l6xbhS7msPASKi8KdLawbZ3l2Pw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Should tests follow the code...?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Why? Doesn t your IDE let you search for everywhere this class is used ? In the worst case, use grep. ... That is my usual approach. ... I just verify", 
    "msgId": 12388, 
    "profile": "nails762", 
    "topicId": 12381, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-544389334\">Jonathan Oddy wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; JB replied:<br/>\n&gt; <br/>\n&gt;  &gt; &gt; How do other people handle this type of refactoring and unit test<br/>\n&gt;  &gt; &gt; management and what they do?<br/>\n&gt; <br/>\n&gt;  &gt; As B grows, you&#39;ll start to add tests for B on its own, which will<br/>\n&gt; make<br/>\n&gt;  &gt; it easier to notice that some of its tests are here and others are<br/>\n&gt;  &gt; there. If this becomes a problem -- and it isn&#39;t always -- that&#39;s the<br/>\n&gt;  &gt; point at which I&#39;d start moving tests.<br/>\n&gt; <br/>\n&gt; Yes, that was my feeling.  My only (slight) worry is that this type of<br/>\n&gt; thing happens over time, so there seems to be a risk of &quot;forgetting&quot;<br/>\n&gt; that you&#39;ve got some of these tests somewhere else.<br/>\n<br/>\n </span></blockquote>Why? Doesn&#39;t your IDE let you search for &quot;everywhere this class is <br/>\nused&quot;? In the worst case, use grep.<br/>\n<br/>\n<blockquote><span title=\"ireply\">  &gt; That said if<br/>\n&gt; additional functionality then breaks those tests then I guess (as you<br/>\n&gt; said) that&#39;s the time to move/change them.<br/>\n<br/>\n </span></blockquote>That is my usual approach.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;  &gt; Now it seems that A instantiates B directly, based on your<br/>\n&gt; description.<br/>\n&gt;  &gt; If that&#39;s true, then I would consider refactoring A to allow me to<br/>\n&gt;  &gt; inject B into it, and see how the tests would change. Perhaps YAGNI,<br/>\n&gt; and<br/>\n&gt;  &gt; as you say, you need to spend your time on other things; however, my<br/>\n&gt;  &gt; designs have always suffered from too /many/ hardcoded dependencies,<br/>\n&gt; and<br/>\n&gt;  &gt; not too /few/.<br/>\n&gt; <br/>\n&gt; Agreed, actually I&#39;ve already done this - so I now have two types of<br/>\n&gt; tests for A - those that implicitly use the actual functionality of B<br/>\n&gt; (because that&#39;s what it&#39;s supposed to do) and those where I seed the<br/>\n&gt; behaviour of B to allow me to test code flow. <br/>\n&gt; <br/>\n&gt; It&#39;s a struts-based application so these second set of tests allow me to<br/>\n&gt; check that given certain behaviours of B, A forwards to the relevant<br/>\n&gt; page.  I know I *could* do this with struts-unit or some such like, but<br/>\n&gt; at the moment I think that is another level of complexity I have yet to<br/>\n&gt; get to (and I think it&#39;s too heavy for my current requirement).  I<br/>\n&gt; currently &quot;get away with&quot; having my Action delegate to some other<br/>\n&gt; class(es) which I TDD, so then what&#39;s left is checking my Action<br/>\n&gt; forwards to where I want it to go to given some stimulus...<br/>\n<br/>\n </span></blockquote>I just verify struts-config.xml directly using XMLUnit to test the <br/>\nactual navigation rules. I wrote about this in JUnit Recipes. As for <br/>\nverifying that all my Actions correctly return the ActionForward I want <br/>\nthem to return, I introduce a Template Method variant of execute() that <br/>\nasks me to return the forward name (which I can easily test), then <br/>\ncreates the appropriate ActionForward and returns it to the <br/>\nRequestProcessor. At least that&#39;s how I remember doing it. It&#39;s been a <br/>\nwhile, so the details might have changed. :)<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing</div>", 
    "prevInTime": 12387, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1101409976", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 12385, 
    "headers": {
        "inReplyToHeader": "PDVDNkZERjIwQUE0Q0YzNEVCQjdEOEFCMjI3MDhFOUU3MDVBNERFQHN0b2MtZGMxLnNwLnNlcnZpY2Vwb3dlci5jb20+", 
        "messageIdInHeader": "PDQxQTYyRUI4LjIwMzAyMDNAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDVDNkZERjIwQUE0Q0YzNEVCQjdEOEFCMjI3MDhFOUU3MDVBNERFQHN0b2MtZGMxLnNwLnNlcnZpY2Vwb3dlci5jb20+"
    }
}