{
    "numMessagesInTopic": 2, 
    "nextInTime": 6972, 
    "senderId": "ePNewIuLcYlFqM0oBNcVOoyQBjfWRqCFWZSVsOkIhu57-2mgB0vV4AHF6tgU1SfNiEVtu6-EXEaglYp6tRFhvgEZIusxdjZaGV9V4EC6mNoc4qs", 
    "systemMessage": false, 
    "subject": "How to test threaded classes?", 
    "from": "&quot;Erik Mattsson&quot; &lt;erik.mattsson@...&gt;", 
    "authorName": "Erik Mattsson", 
    "msgSnippet": "Im having trouble doing unittesting on my threaded classes. Background: Ive created a very simple HotFolder class that runs in its own thread and notifies", 
    "msgId": 6971, 
    "profile": "erikmattsson73", 
    "topicId": 6971, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 135813500, 
    "messageBody": "<div id=\"ygrps-yiv-1697118186\">Im having trouble doing unittesting on my threaded classes.<br/>\nBackground: Ive created a very simple HotFolder class that runs in its<br/>\nown thread and notifies listeners every time it finds a new file in<br/>\na folder (path/dir). The class has a few public methods, such as<br/>\nstart/stop/setFolder/setFilter, the rest are private. How do I test<br/>\nthis class the best way?<br/>\n<br/>\nIve implemented some testcases that uses this hotfolder thread that<br/>\nstarts the thread and creates files in the active folder. Then I check<br/>\nhow many times the testcase was notified and compares it to the<br/>\nnumber of actual files created.<br/>\nBut this fails sometimes, since the computer can be occupied with other<br/>\nstuff which delays the hotfolder notifying and therefore doesnt report<br/>\nthat many new files that I was expecting.<br/>\n<br/>\nThis is a common problem I have with other threads, such as a<br/>\nThumbnailLoader (singleton instance that loads jpeg thumbnails)....<br/>\n<br/>\n<br/>\nSo which way is the best to test threaded classes?<br/>\nOr is this impossible and should be avoided, and for example<br/>\nput the thread stuff into its own class. (But how do you test that<br/>\nclass :)?<br/>\n<br/>\n<br/>\nI want to have a complete threaded object and not having to put the<br/>\nobject into as a Runnable every time I want to use it. (besides there so<br/>\nmuch more work to start/stop threads that I want to hide in the<br/>\nmentioned class)<br/>\n<br/>\nAny suggestions?<br/>\n<br/>\n//erik<br/>\n---------------------------------------------------------------------<br/>\nErik Mattsson<br/>\n<br/>\nimBridge AB<br/>\nVasaplatsen 8<br/>\nSE-411 34 GÃ¶teborg<br/>\n<br/>\nPhone: +46-31-138310<br/>\nMobile: +46-733-174116<br/>\nwww.imbridge.com</div>", 
    "prevInTime": 6970, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1045560100", 
    "canDelete": false, 
    "nextInTopic": 6973, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDAwMjIwMWMyZDcyZiQyNWMwOWNkMCQwNjAwYThjMEBpbWJyaWRnZS5zZT4="
    }
}