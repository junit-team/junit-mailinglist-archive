{
    "numMessagesInTopic": 2, 
    "nextInTime": 6072, 
    "senderId": "JLQY60k5Op4c1rhJcu0W7zCnD70MmWFv8LWmjdzBmwm4SY3SHuZP4Zk4KT2noBSrrvGxKRCBIcZcZ8phyi9q0tBQ6VYCz-1p5LAEevy40no", 
    "systemMessage": false, 
    "subject": "Security issue while running under Ant", 
    "from": "&quot;craigsdickson&quot; &lt;craigsdickson@...&gt;", 
    "authorName": "craigsdickson", 
    "msgSnippet": "During one of my unit tests, I attempt to make a connection via JNDI to an EJB. In my  element, I have a directory that contains a jndi.properties", 
    "msgId": 6071, 
    "rawEmail": "Return-Path: &lt;craigsdickson@...&gt;\r\nReceived: (qmail 4569 invoked from network); 31 Oct 2002 16:41:58 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m4.grp.scd.yahoo.com with QMQP; 31 Oct 2002 16:41:58 -0000\r\nReceived: from unknown (HELO n15.grp.scd.yahoo.com) (66.218.66.70)\n  by mta2.grp.scd.yahoo.com with SMTP; 31 Oct 2002 16:41:58 -0000\r\nX-eGroups-Return: craigsdickson@...\r\nReceived: from [66.218.67.187] by n15.grp.scd.yahoo.com with NNFMP; 31 Oct 2002 16:41:58 -0000\r\nX-Sender: craigsdickson@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_2_1); 31 Oct 2002 16:16:02 -0000\r\nReceived: (qmail 71344 invoked from network); 31 Oct 2002 16:16:02 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m1.grp.scd.yahoo.com with QMQP; 31 Oct 2002 16:16:02 -0000\r\nReceived: from unknown (HELO n16.grp.scd.yahoo.com) (66.218.66.71)\n  by mta3.grp.scd.yahoo.com with SMTP; 31 Oct 2002 16:16:02 -0000\r\nReceived: from [66.218.67.138] by n16.grp.scd.yahoo.com with NNFMP; 31 Oct 2002 16:16:02 -0000\r\nDate: Thu, 31 Oct 2002 16:16:01 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Security issue while running under Ant\r\nMessage-ID: &lt;aprl01+anf7@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 1754\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;craigsdickson&quot; &lt;craigsdickson@...&gt;\r\nX-Yahoo-Group-Post: member; u=96396263\r\nX-Yahoo-Profile: craigsdickson\r\nX-eGroups-Approved-By: clarkware &lt;mike@...&gt; via web; 31 Oct 2002 16:41:57 -0000\r\n\r\nDuring one of my unit tests, I attempt to make a connection via JNDI \nto an EJB.\n\nIn my &lt;classpath&gt; element, I have a directory that contains a \njndi.properties file and I use the no arg constructor when creating \nan InitialContext.\n\nThe test fails and looking at the stack trace I see that as part of \nthe no arg constructor call, it is attempting to find a \nsecurity.policy file. As jvmargs I have turned on the security \nmanager and also specified the security policy location. However, it \nis looking for it in a completely different spot. If I remove those \njvmargs, I get the exact same result - it is almost like JUnit is \nusing its own SecurityManger or something. It is always looking for \nthe security policy file under config/security.policy no matter what \nI do.\n\nAlso in an additional stack trace, it is looking for a file called \nconfig/ejb.properties - I have no idea what that file is for.\n\nWhen I execute the tests from the command line, they run perfectly.\n\nHere is the ant task I am using to run JUnit.\n\n&lt;target name=&quot;test&quot;&gt;\n  &lt;taskdef name=&quot;junit&quot; \nclassname=&quot;org.apache.tools.ant.taskdefs.optional.junit.JUnitTask&quot; \nclasspathref=&quot;taskdef.classpath&quot;/&gt;\n\n  &lt;junit printsummary=&quot;yes&quot; fork=&quot;true&quot;&gt;\n    &lt;classpath refid=&quot;test.classpath&quot;/&gt;\n    &lt;formatter type=&quot;xml&quot;/&gt;\n    &lt;!--&lt;jvmarg value=&quot;-Djava.security.manager&quot;/&gt;--&gt;\n    &lt;!--&lt;jvmarg value=&quot;-\nDjava.security.policy=${resources.dir}/test/security.policy&quot;/&gt;--&gt;\n\n    &lt;batchtest&gt;\n      &lt;fileset dir=&quot;${build.dir.classes}&quot; \nincludes=&quot;test/**/*Test.class&quot;/&gt;\n    &lt;/batchtest&gt;\n  &lt;/junit&gt;\n&lt;/target&gt;\n\n\nI know there are classpath issues with Junit and ant, but I am not \nsure they apply here since JUnit us actually running and then failing \nthe tests.\n\nAnyone got any suggestions?\n\nThanks,\nCraig\n\n\n\n\n", 
    "profile": "craigsdickson", 
    "topicId": 6071, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 96396263, 
    "prevInTime": 6070, 
    "contentTrasformed": false, 
    "postDate": "1036080961", 
    "canDelete": false, 
    "nextInTopic": 6093, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGFwcmwwMSthbmY3QGVHcm91cHMuY29tPg=="
    }
}