{
    "numMessagesInTopic": 14, 
    "nextInTime": 3506, 
    "senderId": "uYTShc3PbMWi9YZTr463rzujrc_D_jebY_F-srKbxxTdyzcOuceLuul5YQILqcd4Yj-6E51pvYe2Tkkc5TQyo-dPznUVOTSkBg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Static class behavior", 
    "from": "&quot;Thomas SMETS&quot; &lt;tsmets@...&gt;", 
    "authorName": "Thomas SMETS", 
    "msgSnippet": "hi Mike, Like often I can only thank you. I dived into the article. Just a word on the usage I make of the Singelton Pattern. The Developper assignement I", 
    "msgId": 3505, 
    "rawEmail": "Return-Path: &lt;tsmets@...&gt;\r\nX-Sender: tsmets@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_2); 10 Dec 2001 11:16:33 -0000\r\nReceived: (qmail 29434 invoked from network); 10 Dec 2001 11:16:33 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m2.grp.snv.yahoo.com with QMQP; 10 Dec 2001 11:16:33 -0000\r\nReceived: from unknown (HELO mirapoint2.brutele.be) (212.68.193.7)\n  by mta2.grp.snv.yahoo.com with SMTP; 10 Dec 2001 11:16:32 -0000\r\nReceived: from plop (212.68.238.147.brutele.be [212.68.238.147])\n\tby mirapoint2.brutele.be (Mirapoint)\n\twith SMTP id APG37928;\n\tMon, 10 Dec 2001 12:16:29 +0100 (CET)\r\nMessage-ID: &lt;00ee01c1816c$69074620$93ee44d4@plop&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;003b01c18101$84711b40$93ee44d4@plop&gt; &lt;3C13E8D0.67A2860@...&gt;\r\nSubject: Re: [junit] Testing Static class behavior\r\nDate: Mon, 10 Dec 2001 12:18:14 +0100\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_00E9_01C18174.BDE3FFF0&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.00.2919.6700\r\nDisposition-Notification-To: &quot;Thomas SMETS&quot; &lt;tsmets@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700\r\nFrom: &quot;Thomas SMETS&quot; &lt;tsmets@...&gt;\r\nX-Yahoo-Group-Post: member; u=20361908\r\nX-Yahoo-Profile: smetsthomas\r\n\r\n\r\n------=_NextPart_000_00E9_01C18174.BDE3FFF0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nhi Mike,\nLike often I can only thank you.\nI dived into the article.\nJust a =\r\nword on the usage I make of the Singelton Pattern.\nThe Developper assigneme=\r\nnt I received is the one of the airlain reservation ticket. The DataBase sh=\r\nould serve multiple-clients. \nWithout altering the source code of the const=\r\nructor provided, I added the following factory :\n\n&lt;code&gt;\n  public static Da=\r\nta getDatabase(String aDBName)\n    throws IOException,\n            Database=\r\nException\n  {\n    // First find the absolute path of the file.\n    File f =\r\n=3D new File(aDBName);\n    aDBName =3D f.getAbsolutePath ();\n    Data db =\r\n=3D null;\n    \n    // Check if we still have a reference to\n    // the DB i=\r\nn the HashpMap\n    synchronized(DataBaseReferenced)\n    {\n      if (DataBas=\r\neReferenced.containsKey (aDBName))\n      {\n        db =3D (Data)DataBaseRef=\r\nerenced.get (aDBName);\n        if (db !=3D null)\n          return db;\n     =\r\n }\n      \n      db =3D new Data(aDBName);\n      DataBaseReferenced.put (aDB=\r\nName, db);      \n    } // End of synchronized element\n    \n    return db;\n =\r\n }\n&lt;/code&gt;\n\nwhere the Key (should be a primary key) is the file name (absol=\r\nute path). The DataBaseReferenced is in fact a WeakHashMap with the Data Ob=\r\nject being stored as the value - Object.\n\nAny comment on the Pattern used, =\r\nis most appreciated.\n\nThomas,\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  ----- Original Message ---=\r\n-- \n  From: Mike Clark \n  To: junit@yahoogroups.com \n  Sent: Sunday, Decemb=\r\ner 09, 2001 11:42 PM\n  Subject: Re: [junit] Testing Static class behavior\n\n=\r\n\n  Thomas SMETS wrote:\n\n  &gt; Hi,\n  &gt; I&#39;m currently testing a Class behavior =\r\nonto which the\n  &gt; Factory (getInstance(param1, param2, ...)) is playing a =\r\ncrucial role.\n  &gt; That is the class has some sort of a Singelton pattern wh=\r\nere existing\n  &gt; reference for the singelton factory are used to determine =\r\nif a reference to\n  &gt; a particula instance already exists.\n  &gt;\n  &gt; I theref=\r\nore would need to regerister the class to have the static\n  &gt; variablebeing=\r\n re-initialized. I there something in Java ?\n  &gt;\n\n  Hi Thomas,\n\n  Depending=\r\n on the implementation of the singleton you&#39;re attempting to test, it\n  may=\r\n be possible to obtain a reference to its sole instance (or instances) and\n=\r\n  assign it a null value.  If the implementation uses lazy initialization, =\r\nthis\n  may trigger reinitialization on the next invocation of getInstance()=\r\n.\n\n  If you haven&#39;t already read J.B. Rainsberger&#39;s article on the use and\n=\r\n  testability of singletons, I highly recommend it:\n\n      http://www-106.i=\r\nbm.com/developerworks/webservices/library/co-single.html\n\n  In general, sin=\r\ngletons are often overused and can be difficult to test, and\n  J.B.&#39;s artic=\r\nle offers some practical alternatives.\n\n  Regards,\n\n  Mike\n\n  --\n  Mike Cla=\r\nrk\n  Clarkware Consulting, Inc.\n  http://www.clarkware.com\n  720.851.2014\n\n=\r\n\n\n        Yahoo! Groups Sponsor \n              ADVERTISEMENT\n             \n=\r\n       \n       \n\n  To unsubscribe from this group, send an email to:\n  juni=\r\nt-unsubscribe@yahoogroups.com\n\n\n  Your use of Yahoo! Groups is subject to t=\r\nhe Yahoo! Terms of Service. \n\n\r\n------=_NextPart_000_00E9_01C18174.BDE3FFF0\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META content=3D&quot;text/html; charset=3Diso-8859-1&quot; http-equiv=3DContent-Typ=\r\ne&gt;\n&lt;META content=3D&quot;MSHTML 5.00.2920.0&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE&gt;\n&lt;=\r\n/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier =\r\nNew&quot; size=3D2&gt;hi Mike,&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Cour=\r\nier New&quot; size=3D2&gt;Like often I can only thank \nyou.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT=\r\n color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;I dived into the \narticle.&lt;/=\r\nFONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;Just a=\r\n word on the usage I \nmake of the Singelton Pattern.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FON=\r\nT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;The Developper assignement =\r\nI \nreceived is the one of the airlain reservation ticket. The DataBase \nsho=\r\nuld&nbsp;serve multiple-clients. &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 f=\r\nace=3D&quot;Courier New&quot; size=3D2&gt;Without altering the source \ncode of the const=\r\nructor provided, I added the following factory :&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/=\r\nDIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&lt;code&gt;&lt;=\r\n/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp=\r\n; public static Data \ngetDatabase(String aDBName)&lt;BR&gt;&nbsp;&nbsp;&nbsp; thr=\r\nows \nIOException,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp; \nDatabaseException&lt;BR&gt;&nbsp; {&lt;BR&gt;&nbsp;&nbsp;&nbsp; // First =\r\nfind the absolute \npath of the file.&lt;BR&gt;&nbsp;&nbsp;&nbsp; File f =3D new \n=\r\nFile(aDBName);&lt;BR&gt;&nbsp;&nbsp;&nbsp; aDBName =3D f.getAbsolutePath \n();&lt;BR&gt;=\r\n&nbsp;&nbsp;&nbsp; Data db =3D null;&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n&lt;BR&gt;&nbsp;&nbsp=\r\n;&nbsp; // Check if we still have a reference \nto&lt;BR&gt;&nbsp;&nbsp;&nbsp; // =\r\nthe DB in the HashpMap&lt;BR&gt;&nbsp;&nbsp;&nbsp; \nsynchronized(DataBaseReferenc=\r\ned)&lt;BR&gt;&nbsp;&nbsp;&nbsp; \n{&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (DataBase=\r\nReferenced.containsKey \n(aDBName))&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n{&lt;BR&gt;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db =3D \n(Data)DataBaseReferenced=\r\n.get \n(aDBName);&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (db !=3D =\r\n\nnull)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return \ndb=\r\n;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n&lt;B=\r\nR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db =3D new \nData(aDBName);&lt;BR&gt;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp; DataBaseReferenced.put \n(aDBName, db);&nbsp;&nbsp;&nbsp;=\r\n&nbsp;&nbsp; &lt;BR&gt;&nbsp;&nbsp;&nbsp; } // End of \nsynchronized element&lt;BR&gt;&n=\r\nbsp;&nbsp;&nbsp; &lt;BR&gt;&nbsp;&nbsp;&nbsp; return \ndb;&lt;BR&gt;&nbsp; }&lt;/FONT&gt;&lt;/DIV=\r\n&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&lt;/code&gt;&lt;/F=\r\nONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New=\r\n&quot; size=3D2&gt;where the Key (should be a \nprimary key) is the file name (absol=\r\nute path). The DataBaseReferenced is in fact \na WeakHashMap with the Data O=\r\nbject being stored as the value - \nObject.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;=\r\nDIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;Any comment on the =\r\nPattern \nused, is most appreciated.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FO=\r\nNT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;Thomas,&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;=\r\n&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nb=\r\nsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/D=\r\nIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;=\r\n\n&lt;BLOCKQUOTE \nstyle=3D&quot;BORDER-LEFT: #008080 2px solid; MARGIN-LEFT: 5px; MA=\r\nRGIN-RIGHT: 0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px&quot;&gt;\n  &lt;DIV style=3D&quot;FO=\r\nNT: 10pt arial&quot;&gt;----- Original Message ----- &lt;/DIV&gt;\n  &lt;DIV \n  style=3D&quot;BACK=\r\nGROUND: #e4e4e4; FONT: 10pt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n  &lt;A hr=\r\nef=3D&quot;mailto:mike@...&quot; title=3Dmike@...&gt;Mike Clark&lt;/A&gt; =\r\n\n  &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A \n  href=3D&quot;mailto=\r\n:junit@yahoogroups.com&quot; \n  title=3Djunit@yahoogroups.com&gt;junit@yahoogroups.=\r\ncom&lt;/A&gt; &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; Sunday, Decem=\r\nber 09, 2001 11:42 \n  PM&lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Subject=\r\n:&lt;/B&gt; Re: [junit] Testing Static class \n  behavior&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;=\r\nTT&gt;Thomas SMETS wrote:&lt;BR&gt;&lt;BR&gt;&gt; Hi,&lt;BR&gt;&gt; I&#39;m currently \n  testing a C=\r\nlass behavior onto which the&lt;BR&gt;&gt; Factory (getInstance(param1, \n  param2=\r\n, ...)) is playing a crucial role.&lt;BR&gt;&gt; That is the class has some \n  so=\r\nrt of a Singelton pattern where existing&lt;BR&gt;&gt; reference for the singelto=\r\nn \n  factory are used to determine if a reference to&lt;BR&gt;&gt; a particula in=\r\nstance \n  already exists.&lt;BR&gt;&gt;&lt;BR&gt;&gt; I therefore would need to regeris=\r\nter the class \n  to have the static&lt;BR&gt;&gt; variablebeing re-initialized. I=\r\n there something in \n  Java ?&lt;BR&gt;&gt;&lt;BR&gt;&lt;BR&gt;Hi Thomas,&lt;BR&gt;&lt;BR&gt;Depending on=\r\n the implementation of the \n  singleton you&#39;re attempting to test, it&lt;BR&gt;ma=\r\ny be possible to obtain a \n  reference to its sole instance (or instances) =\r\nand&lt;BR&gt;assign it a null \n  value.&nbsp; If the implementation uses lazy ini=\r\ntialization, this&lt;BR&gt;may \n  trigger reinitialization on the next invocation=\r\n of getInstance().&lt;BR&gt;&lt;BR&gt;If \n  you haven&#39;t already read J.B. Rainsberger&#39;s=\r\n article on the use \n  and&lt;BR&gt;testability of singletons, I highly recommend=\r\n \n  it:&lt;BR&gt;&lt;BR&gt;&nbsp;&nbsp;&nbsp; &lt;A \n  href=3D&quot;http://www-106.ibm.com/deve=\r\nloperworks/webservices/library/co-single.html&quot;&gt;http://www-106.ibm.com/devel=\r\noperworks/webservices/library/co-single.html&lt;/A&gt;&lt;BR&gt;&lt;BR&gt;In \n  general, sing=\r\nletons are often overused and can be difficult to test, \n  and&lt;BR&gt;J.B.&#39;s ar=\r\nticle offers some practical \n  alternatives.&lt;BR&gt;&lt;BR&gt;Regards,&lt;BR&gt;&lt;BR&gt;Mike&lt;BR=\r\n&gt;&lt;BR&gt;--&lt;BR&gt;Mike Clark&lt;BR&gt;Clarkware \n  Consulting, Inc.&lt;BR&gt;&lt;A \n  href=3D&quot;htt=\r\np://www.clarkware.com&quot;&gt;http://www.clarkware.com&lt;/A&gt;&lt;BR&gt;720.851.2014&lt;BR&gt;&lt;BR&gt;=\r\n&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;To \n  unsubscribe from this group, send an email \n  to=\r\n:&lt;BR&gt;junit-unsubscribe@yahoogroups.com&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Your use of \n  Y=\r\nahoo! Groups is subject to the &lt;A \n  href=3D&quot;http://docs.yahoo.com/info/ter=\r\nms/&quot;&gt;Yahoo! Terms of Service&lt;/A&gt;.&lt;/TT&gt; \n&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_00E9_01C18174.BDE3FFF0--\r\n\n", 
    "profile": "smetsthomas", 
    "topicId": 3503, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 20361908, 
    "prevInTime": 3504, 
    "contentTrasformed": false, 
    "postDate": "1007983094", 
    "canDelete": false, 
    "nextInTopic": 3506, 
    "prevInTopic": 3504, 
    "headers": {
        "messageIdInHeader": "PDAwZWUwMWMxODE2YyQ2OTA3NDYyMCQ5M2VlNDRkNEBwbG9wPg==", 
        "referencesHeader": "PDAwM2IwMWMxODEwMSQ4NDcxMWI0MCQ5M2VlNDRkNEBwbG9wPiA8M0MxM0U4RDAuNjdBMjg2MEBjbGFya3dhcmUuY29tPg=="
    }
}