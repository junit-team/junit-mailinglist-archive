{
    "numMessagesInTopic": 26, 
    "nextInTime": 22520, 
    "senderId": "_o7BDSRrJL2B-IZFr71xDTpfeGzY7I4kg15IhQUoxl6R4HWA3nsIPnnBRhtrt0qk7DrHO0h-Q3iHo3L3Cyk5KCsfxryInA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "Kent Beck &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "This is an interesting design tradeoff. I don t like implicit magic but I also don t like creating new elements (like the beforeClass = true ) if I can reuse", 
    "msgId": 22519, 
    "profile": "kentlbeck", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-1908437257\">This is an interesting design tradeoff. I don&#39;t like implicit magic but I also don&#39;t like creating new elements (like the &quot;beforeClass = true&quot;) if I can reuse existing elements. When I saw the &quot;@Rule static...&quot; I immediately knew what was wrong, so I find it understandable that static variables containing rules are only executed once. (By symmetry, I suppose &quot;@Before static void...&quot; should be a synonym for @BeforeClass.) In the end, though, my opinion of what is obvious is less important than y&#39;all&#39;s. Chime in if you want to be heard.<br/>\n<br/>\nKent<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Mar 9, 2010, at 3:02 PM, yme0987654321 wrote:<br/>\n<br/>\n&gt; I&#39;m all for a Rule before the class is run, but I think it is way to gimmicky and obscure to hang that on if the variable is declared static.<br/>\n&gt; <br/>\n&gt; I would instead think that the @Rule should have a method which indicates if it is before the class or before the test, and then have it validated if the @Rule is on a static or instance variable, as appropriate.<br/>\n&gt; <br/>\n&gt; Something like:<br/>\n&gt; <br/>\n&gt; @Rule(beforeClass = true)<br/>\n&gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; <br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Kent Beck &lt;kentb@...&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a static variable before. I&#39;m not even sure what they mean. Rules are inserted before an individual test is run. Should static rules be inserted before the class is run or before each individual test? Before the class is run, I&#39;m thinking. Opinions?<br/>\n&gt; &gt; <br/>\n&gt; &gt; Kent<br/>\n&gt; &gt; <br/>\n&gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt; @Rule objects are not initialized before @BeforeClass methods are called. Is this by design or a bug? <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; For example:<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; package test;<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; import java.io.File;<br/>\n&gt; &gt; &gt; import java.io.IOException;<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; import junit.framework.Assert;<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; import org.junit.BeforeClass;<br/>\n&gt; &gt; &gt; import org.junit.Rule;<br/>\n&gt; &gt; &gt; import org.junit.Test;<br/>\n&gt; &gt; &gt; import org.junit.rules.TemporaryFolder;<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {<br/>\n&gt; &gt; &gt; @Rule<br/>\n&gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; @BeforeClass<br/>\n&gt; &gt; &gt; public static void testInTempFolder() throws IOException {<br/>\n&gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt; &gt; &gt; // test<br/>\n&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; @Test<br/>\n&gt; &gt; &gt; public void test() {<br/>\n&gt; &gt; &gt; // noop<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; Having the TemporaryFolder Rule declared as static is OK as this example test shows:<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {<br/>\n&gt; &gt; &gt; @Rule<br/>\n&gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; @Test<br/>\n&gt; &gt; &gt; public void testInTempFolder() throws IOException {<br/>\n&gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt; &gt; &gt; // test<br/>\n&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; How can @Rules be used from @BeforeClass? <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; Calling TemporaryFolder.create() would work only for TemporaryFolder and not Rules in general but would be against the advice of create method Javadoc.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 22518, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1268183320", 
    "canDelete": false, 
    "nextInTopic": 22520, 
    "prevInTopic": 22518, 
    "headers": {
        "inReplyToHeader": "PGhuNmsyZytmNWM1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEVGRDg2NzRDLUU4NTUtNDNBMS05RDM5LUIyNEI3NzA0MzlDNkBlYXJ0aGxpbmsubmV0Pg==", 
        "referencesHeader": "PGhuNmsyZytmNWM1QGVHcm91cHMuY29tPg=="
    }
}