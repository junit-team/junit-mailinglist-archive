{
    "numMessagesInTopic": 9, 
    "nextInTime": 13259, 
    "senderId": "sTqEQ4CW2rCHS63EFFn-HsTxj4fgJCoVx0H0vpN5tUDQTqjs6isbAsVDTMixVWoI7NfFk_BdAVQhS2qFjVVRhW_WJY_Ccw", 
    "systemMessage": false, 
    "subject": "Re: How to test this class ?", 
    "from": "&quot;rubbinio&quot; &lt;rubbinio@...&gt;", 
    "authorName": "rubbinio", 
    "msgSnippet": "Thx Harald for your answer but I managed to find a solution myself after a loot of seraching on the net and a lot of reading I came up with my own solution.", 
    "msgId": 13258, 
    "profile": "rubbinio", 
    "topicId": 13253, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 111748393, 
    "messageBody": "<div id=\"ygrps-yiv-2094245183\">Thx Harald for your answer but I managed to find a solution myself<br/>\nafter a loot of seraching on the net and a lot of reading I came up<br/>\nwith my own solution. Here it is in case someone else needs it.<br/>\n<br/>\nI basically created a thread which fakes an input and it works great.<br/>\nHere is the code:<br/>\n<br/>\n<br/>\nprivate class fakeInput extends Thread<br/>\n    {<br/>\n        private String in_;<br/>\n        <br/>\n        public fakeInput( String in )<br/>\n        {<br/>\n            in_ = in;<br/>\n        }<br/>\n        <br/>\n        public void run()<br/>\n        {<br/>\n            try <br/>\n            {<br/>\n                <br/>\n                PipedInputStream testInPipe = new PipedInputStream();<br/>\n            \tPipedOutputStream testOutPipe = new PipedOutputStream();<br/>\n            \ttestInPipe.connect(testOutPipe);<br/>\n            \tSystem.setIn(testInPipe);<br/>\n            \tString withline = in_ + &quot;&#92;n&quot;;<br/>\n                this.sleep(1000);<br/>\n                testOutPipe.write(withline.getBytes(), 0,<br/>\nwithline.length());<br/>\n<br/>\n                <br/>\n            }<br/>\n            catch ( Exception e)<br/>\n            {                <br/>\n            }<br/>\n            <br/>\n            <br/>\n        }<br/>\n    }<br/>\n<br/>\n<br/>\n--- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Harald M. Muller &lt;harald.m.mueller@b...&gt;<br/>\nwrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; I need to test a class in which all the methods read via System.in.<br/>\n&gt; &gt; <br/>\n&gt; &gt; How can I fake the input so that I can automate my tests ?<br/>\n&gt; &gt; <br/>\n&gt; &gt; Any answer will be helpfull ..... I am using JUnit under Eclipse.<br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; ================================================================<br/>\n&gt; &gt; <br/>\n&gt; &gt; class Input {<br/>\n&gt; &gt; <br/>\n&gt; &gt;   static final BufferedReader keyboard = new BufferedReader( new<br/>\n&gt; &gt; InputStreamReader(System.in));<br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; Since JDK1.1, there is a method<br/>\n&gt; \tSystem.setIn(InputStream in)<br/>\n&gt; Just call this in setUp() to get Input from somewhere else (a<br/>\n&gt; FileInputStream or a ByteArrayInputStream probably make most sense). If<br/>\n&gt; you want to be perfect, do the following:<br/>\n&gt; <br/>\n&gt; class MyTestCase ... {<br/>\n&gt;   InputStream originalIn;<br/>\n&gt;   public void setUp() {<br/>\n&gt;     originalIn = System.in;<br/>\n&gt;     System.setIn(....);<br/>\n<br/>\n<br/>\n&gt;   }<br/>\n&gt;   public void tearDown() {<br/>\n&gt;     System.setIn(originalIn);<br/>\n&gt;   }<br/>\n&gt;   // ...<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; No need for any fancy refactoring ;-) - but it wouldn&#39;t hurt to do it!<br/>\n&gt; <br/>\n&gt; Regards<br/>\n&gt; Harald M. Mueller </span></blockquote></div>", 
    "prevInTime": 13257, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1113103794", 
    "canDelete": false, 
    "nextInTopic": 13259, 
    "prevInTopic": 13257, 
    "headers": {
        "inReplyToHeader": "PDAwMGEwMWM1M2QzOSQ0NWMzODk4MCQ2YjAwYThjMEBIQVJSWT4=", 
        "messageIdInHeader": "PGQzYTZqaStjN2kwQGVHcm91cHMuY29tPg=="
    }
}