{
    "numMessagesInTopic": 12, 
    "nextInTime": 22379, 
    "senderId": "mfsPEKAIKjYLlxehBkbiaaRO3Sgioe3461DtO9Z1m58bRQ7deBgllCM-1xxdXrGjVSvf-4LI-lJpVLg2hSGowGBo", 
    "systemMessage": false, 
    "subject": "Re: [junit] Theories Usability", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "http://github.com/KentBeck/junit/issues", 
    "msgId": 22378, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 80047 invoked from network); 8 Feb 2010 02:49:12 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m11.grp.re1.yahoo.com with QMQP; 8 Feb 2010 02:49:12 -0000\r\nX-Received: from unknown (HELO mail-px0-f185.google.com) (209.85.216.185)\n  by mta2.grp.sp2.yahoo.com with SMTP; 8 Feb 2010 02:49:12 -0000\r\nX-Received: by pxi15 with SMTP id 15so6254955pxi.23\n        for &lt;junit@yahoogroups.com&gt;; Sun, 07 Feb 2010 18:48:59 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.214.38 with SMTP id r38mr4011077rvq.264.1265597339794; \n\tSun, 07 Feb 2010 18:48:59 -0800 (PST)\r\nIn-Reply-To: &lt;4f7da6b91002071848r3458f8c2ob7cda7cab6523ecc@...&gt;\r\nReferences: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76B@...-ais.com&gt;\n\t &lt;4f7da6b91002071848r3458f8c2ob7cda7cab6523ecc@...&gt;\r\nDate: Sun, 7 Feb 2010 21:48:59 -0500\r\nX-Google-Sender-Auth: f4ee72be46e5212b\r\nMessage-ID: &lt;4f7da6b91002071848p1bae3e47vf461cf00be11ed33@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Theories Usability\r\nX-Yahoo-Group-Post: member; u=341876227; y=7hE7boa5kwr4PNL6t7ftknUCF5ydUJ089tI-YLSZAfI\r\nX-Yahoo-Profile: dsaff\r\n\r\nhttp://github.com/KentBeck/junit/issues\n\nOn Sun, Feb 7, 2010 at 9:48 PM, Da=\r\nvid Saff &lt;david@...&gt; wrote:\n&gt; Berin,\n&gt;\n&gt; I do think that we should eve=\r\nntually have a way to operate at least\n&gt; optionally in the way you describe=\r\n. =A0Have you logged a feature request\n&gt; yet?\n&gt;\n&gt; =A0 David\n&gt;\n&gt; On Fri, Feb=\r\n 5, 2010 at 3:27 PM, Loritsch, Berin C.\n&gt; &lt;berin.loritsch@...&gt; wrote=\r\n:\n&gt;&gt; Thanks everyone for helping me work through the testing challenge I wa=\r\nnted to address. =A0I&#39;ve written a rudimentary ClassCollector that lets me =\r\nspecify a base package, what base classes I need, any annotations I need ap=\r\nplied, etc. =A0I supplimented that with a BeanAttributes class that will co=\r\nllect all the attributes (setters/getters) on the class. =A0It&#39;s working ve=\r\nry well. =A0Unfortunately, there are a few shortcomings with this approach:=\r\n\n&gt;&gt;\n&gt;&gt; 1. I cannot easily determine what the actual data point combination =\r\nwas that caused the failure. =A0I have to write those values out to System.=\r\nout because the test failure does not do that for me.\n&gt;&gt;\n&gt;&gt; 2. It stops on =\r\nthe very first failure, hiding many more failures that may still be lurking=\r\n beneath the service.\n&gt;&gt;\n&gt;&gt; 3. The theory is the only line shown in the tes=\r\nt report, so there is no way to differentiate runs which would handle the a=\r\nbove concerns.\n&gt;&gt;\n&gt;&gt; What I would really like to see is that a new test nam=\r\ne for each combination of data points. =A0For example if you had a @Theory =\r\nnamed &quot;checkAddWorks&quot; that took two parameters and the data points [1,2] th=\r\nen I&#39;d like to see a set of test names that look like this in the test repo=\r\nrt:\n&gt;&gt;\n&gt;&gt; checkAddWorks(1,1)\n&gt;&gt; checkAddWorks(1,2)\n&gt;&gt; checkAddWorks(2,2)\n&gt;&gt;=\r\n\n&gt;&gt; That will address all of the shortcomings I identified.\n&gt;&gt;\n&gt;&gt; My code l=\r\nooks like this:\n&gt;&gt;\n&gt;&gt; @RunWith(Theories.class)\n&gt;&gt; class TestMyTrackableCont=\r\nract {\n&gt;&gt; =A0 =A0@DataPoints\n&gt;&gt; =A0 =A0BeanAttribute[] collectAllAttributes=\r\nToTest() {\n&gt;&gt; =A0 =A0 =A0 =A0ClassCollector collector =3D new ClassCollecto=\r\nr();\n&gt;&gt; =A0 =A0 =A0 =A0collector.within(&quot;com.mycompany.incident.model&quot;).ass=\r\nignableTo(Trackable.class);\n&gt;&gt; =A0 =A0 =A0 =A0Collection&lt;Class&lt;?&gt;&gt; matchedC=\r\nlasses =3D collector.recurse().collect();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0List&lt;BeanAtt=\r\nribute&gt; attributes =3D new ArrayList&lt;BeanAttribute&gt;();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =\r\n=A0for (Class&lt;?&gt; trackable : matchedClasses) {\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0at=\r\ntributes.addAll(BeanAttribute.collectFrom(trackable));\n&gt;&gt; =A0 =A0 =A0 =A0}\n=\r\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0return attributes.toArray(new BeanAttribute[attributes=\r\n.size()]);\n&gt;&gt; =A0 =A0}\n&gt;&gt;\n&gt;&gt; =A0 =A0@Theory\n&gt;&gt; =A0 =A0public void checkSide=\r\nEffectsOnAssign() throws Exception {\n&gt;&gt; =A0 =A0 =A0 =A0// This is designed =\r\nto ensure that setters/getters work in concert\n&gt;&gt; =A0 =A0 =A0 =A0// and tha=\r\nt setters set the appropriate message is sent\n&gt;&gt; =A0 =A0 =A0 =A0if ( ! bean=\r\nAttribute.hasSetter() || ! beanAttribute.hasGetter() ) return;\n&gt;&gt; =A0 =A0 =\r\n=A0 =A0beanAttribute.assertBalanced();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0Trackable entit=\r\ny =3D beanAttribute.getEntityAs(Trackable.class);\n&gt;&gt; =A0 =A0 =A0 =A0// Unfo=\r\nrtunately needed to determine when things go bad\n&gt;&gt; =A0 =A0 =A0 =A0System.o=\r\nut.format(&quot;Testing %s&#92;n&quot;, beanAttribute);\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0Object origi=\r\nnal =3D beanAttribute.getValue();\n&gt;&gt; =A0 =A0 =A0 =A0Object testValue =3D be=\r\nanAttribute.generateTestValue(original);\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0// Ensure the=\r\n setter works as expected\n&gt;&gt; =A0 =A0 =A0 =A0beanAttribute.setValue(testValu=\r\ne);\n&gt;&gt; =A0 =A0 =A0 =A0assertEquals(testValue, beanAttribute.getValue());\n&gt;&gt;=\r\n\n&gt;&gt; =A0 =A0 =A0 =A0// Ensure properties are set and events were properly\n&gt;&gt;=\r\n =A0 =A0 =A0 =A0Properties changes =3D entity.getChanges();\n&gt;&gt; =A0 =A0 =A0 =\r\n=A0assertEquals( String.valueOf(testValue),\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0chang=\r\nes.getProperty(beanAttribute.getAttribute()));\n&gt;&gt; =A0 =A0 =A0 =A0assertEqua=\r\nls( String.valueOf(original),\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty=\r\n(beanAttribute.getAttribute() + &quot;.old&quot;));\n&gt;&gt; =A0 =A0}\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; [Non-te=\r\nxt portions of this message have been removed]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ----------------=\r\n--------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22377, 
    "contentTrasformed": false, 
    "postDate": "1265597339", 
    "canDelete": false, 
    "nextInTopic": 22379, 
    "prevInTopic": 22377, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MTAwMjA3MTg0OHIzNDU4ZjhjMm9iN2NkYTdjYWI2NTIzZWNjQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMjA3MTg0OHAxYmFlM2U0N3ZmNDYxY2YwMGJlMTFlZDMzQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPgkgPDRmN2RhNmI5MTAwMjA3MTg0OHIzNDU4ZjhjMm9iN2NkYTdjYWI2NTIzZWNjQG1haWwuZ21haWwuY29tPg=="
    }
}