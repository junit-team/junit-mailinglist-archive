{
    "numMessagesInTopic": 3, 
    "nextInTime": 24042, 
    "senderId": "O4lJCR2zQKiSb1P8c1P_R-nUZ2LAagMsI4XY3t42mahD2LM-V9bjHi3Xg3mfL8K-SDb_zchkI6-aw7sgYwYr3vsVeYWj3D5M", 
    "systemMessage": true, 
    "subject": "[junit] JUnit and Spring configuration", 
    "from": "Metain &lt;metaingegnere@...&gt;", 
    "authorName": "Metain", 
    "msgSnippet": "Hello everyone, I m trying to configure JUnit to work with Spring, but I cannot. ... @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(locations =", 
    "msgId": 24041, 
    "profile": "darkmanuel_roma", 
    "topicId": 24041, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 544259781, 
    "messageBody": "<div id=\"ygrps-yiv-1136824903\">Hello everyone, I&#39;m trying to configure JUnit to work with Spring, but I<br/>\ncannot.<br/>\n<br/>\nI create a test class this way:<br/>\n-------------------------------------------------<br/>\n@RunWith(SpringJUnit4ClassRunner.class)<br/>\n@ContextConfiguration(locations = {&quot;classpath:/web-application-config.xml&quot;})<br/>\npublic class MyControllerToTest {<br/>\n\t@Autowired<br/>\n\tprivate MyController ctr;<br/>\n<br/>\n\t@Test<br/>\n....<br/>\n}<br/>\n-------------------------------------------------<br/>\nIn classpath, I inserted src/main/resources, where the<br/>\nweb-application-config.xml is located. Here its content:<br/>\n-------------------------------------------------<br/>\n<br/>\n&lt;beans xmlns=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans&quot;\">http://www.springframework.org/schema/beans&quot;</a><br/>\n       xmlns:xsi=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.w3.org/2001/XMLSchema-instance&quot;\">http://www.w3.org/2001/XMLSchema-instance&quot;</a><br/>\n       xmlns:context=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/context&quot;\">http://www.springframework.org/schema/context&quot;</a><br/>\n       xsi:schemaLocation=&quot;<br/>\n           <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans\">http://www.springframework.org/schema/beans</a><br/>\n           <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</a><br/>\n           <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/context\">http://www.springframework.org/schema/context</a><br/>\n          <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;\">http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;</a>&gt;<br/>\n<br/>\n\t&lt;!-- Scans for application @Components to deploy --&gt;<br/>\n\t&lt;context:component-scan base-package=&quot;com.infoone.mycontrollerpackage&quot;/&gt;<br/>\n<br/>\n\t&lt;!-- Imports the configurations of the different infrastructure systems of<br/>\nthe application --&gt;<br/>\n\t&lt;import resource=&quot;webflow-config.xml&quot; /&gt;<br/>\n\t&lt;import resource=&quot;webmvc-config.xml&quot; /&gt;<br/>\n\t&lt;import resource=&quot;data-access-config.xml&quot; /&gt;<br/>\n\t&lt;import resource=&quot;repository-config.xml&quot; /&gt;<br/>\n \t&lt;import resource=&quot;security-config.xml&quot; /&gt;<br/>\n&lt;/beans&gt;<br/>\n-------------------------------------------------<br/>\nWhen I run as JUnit the MyControllerToTest class, I get the following:<br/>\n-------------------------------------------------<br/>\nERROR: org.springframework.test.context.TestContextManager - Caught<br/>\nexception while allowing TestExecutionListener<br/>\n[org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6419fa]<br/>\nto prepare test instance [com.infoone.myapp.MyControllerToTest@10036f2]<br/>\njava.lang.IllegalStateException: Failed to load ApplicationContext<br/>\n...<br/>\nCaused by: org.springframework.beans.factory.BeanCreationException: Error<br/>\ncreating bean with name &#39;flowExecutor&#39;: Cannot resolve reference to bean<br/>\n&#39;flowRegistry&#39; while setting bean property &#39;flowDefinitionLocator&#39;; nested<br/>\nexception is org.springframework.beans.factory.BeanCreationException: Error<br/>\ncreating bean with name &#39;flowRegistry&#39;: Invocation of init method failed;<br/>\nnested exception is java.lang.IllegalStateException: An I/O Exception<br/>\noccurred resolving the flow location pattern &#39;/**/*-flow.xml&#39;<br/>\n...<br/>\n aused by: org.springframework.beans.factory.BeanCreationException: Error<br/>\ncreating bean with name &#39;flowRegistry&#39;: Invocation of init method failed;<br/>\nnested exception is java.lang.IllegalStateException: An I/O Exception<br/>\noccurred resolving the flow location pattern &#39;/**/*-flow.xml&#39;<br/>\n...4<br/>\nCaused by: java.lang.IllegalStateException: An I/O Exception occurred<br/>\nresolving the flow location pattern &#39;/**/*-flow.xml&#39;<br/>\n...<br/>\nCaused by: java.io.FileNotFoundException: class path resource<br/>\n[WEB-INF/flows/] cannot be resolved to URL because it does not exist<br/>\n-------------------------------------------------<br/>\nMaybe, you also need my web-flow-config file, also located in<br/>\nsrc/main/resources (whereas my flows are in WEB-INF/flows/**/*.xml):<br/>\n-------------------------------------------------<br/>\n<br/>\n&lt;beans xmlns=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans&quot;\">http://www.springframework.org/schema/beans&quot;</a><br/>\n       xmlns:xsi=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.w3.org/2001/XMLSchema-instance&quot;\">http://www.w3.org/2001/XMLSchema-instance&quot;</a><br/>\n       xmlns:webflow=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/webflow-config&quot;\">http://www.springframework.org/schema/webflow-config&quot;</a><br/>\n       xmlns:faces=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/faces&quot;\">http://www.springframework.org/schema/faces&quot;</a><br/>\n       xsi:schemaLocation=&quot;<br/>\n           <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans\">http://www.springframework.org/schema/beans</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</a><br/>\n           <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/webflow-config\">http://www.springframework.org/schema/webflow-config</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd\">http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd</a><br/>\n           <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/faces\">http://www.springframework.org/schema/faces</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/faces/spring-faces-2.2.xsd&quot;\">http://www.springframework.org/schema/faces/spring-faces-2.2.xsd&quot;</a>&gt;<br/>\n<br/>\n\t&lt;!-- Executes flows: the central entry point into the Spring Web Flow<br/>\nsystem --&gt;<br/>\n\t&lt;webflow:flow-executor id=&quot;flowExecutor&quot;&gt;<br/>\n\t\t&lt;webflow:flow-execution-listeners&gt;<br/>\n\t\t\t&lt;webflow:listener ref=&quot;facesContextListener&quot;/&gt;<br/>\n\t\t\t&lt;webflow:listener ref=&quot;securityFlowExecutionListener&quot; /&gt;<br/>\n            &lt;webflow:listener ref=&quot;icefacesFlowListener&quot; /&gt;<br/>\n\t\t\t&lt;webflow:listener ref=&quot;myFlowListener&quot; /&gt;<br/>\n            &lt;webflow:listener ref=&quot;myExceptionListener&quot; /&gt;<br/>\n\t\t&lt;/webflow:flow-execution-listeners&gt;<br/>\n\t&lt;/webflow:flow-executor&gt;<br/>\n\t<br/>\n\t&lt;!-- The registry of executable flow definitions --&gt;<br/>\n\t&lt;webflow:flow-registry id=&quot;flowRegistry&quot;<br/>\nflow-builder-services=&quot;facesFlowBuilderServices&quot; base-path=&quot;/WEB-INF/flows&quot;&gt;<br/>\n\t\t&lt;webflow:flow-location-pattern value=&quot;/**/*-flow.xml&quot; /&gt;<br/>\n\t&lt;/webflow:flow-registry&gt;<br/>\n\t<br/>\n\t&lt;!-- Configures the Spring Web Flow JSF integration --&gt;<br/>\n\t&lt;faces:flow-builder-services id=&quot;facesFlowBuilderServices&quot;<br/>\ndevelopment=&quot;true&quot; /&gt;<br/>\n<br/>\n\t&lt;!-- Installs a listener that creates and releases the FacesContext for<br/>\neach request. --&gt;<br/>\n\t&lt;bean id=&quot;facesContextListener&quot;<br/>\nclass=&quot;org.springframework.faces.webflow.FlowFacesContextLifecycleListener&quot;/&gt;<br/>\n\t<br/>\n\t&lt;!-- Installs a listener to apply Spring Security authorities --&gt;<br/>\n\t&lt;bean id=&quot;securityFlowExecutionListener&quot;<br/>\nclass=&quot;org.springframework.webflow.security.SecurityFlowExecutionListener&quot;<br/>\n/&gt;<br/>\n<br/>\n    &lt;bean id=&quot;icefacesFlowListener&quot;<br/>\nclass=&quot;com.icesoft.spring.security.WebflowListener&quot; /&gt;<br/>\n    <br/>\n    &lt;bean id=&quot;myFlowListener&quot;<br/>\nclass=&quot;com.infoone.myapp.spring.webflow.AutowiringFlowExecutionListener&quot; /&gt;<br/>\n    <br/>\n    &lt;bean id=&quot;myExceptionListener&quot;<br/>\nclass=&quot;com.infoone.myapp.exception.MyExceptionListener&quot; /&gt;<br/>\n<br/>\n&lt;/beans&gt;<br/>\n-------------------------------------------------<br/>\nPlease consider that I&#39;m also using JSF and Icefaces (which I don&#39;t want to<br/>\ntest via JUnit at the moment).<br/>\n<br/>\nThank you!<br/>\n-- <br/>\nView this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://old.nabble.com/JUnit-and-Spring-configuration-tp34480553p34480553.html\">http://old.nabble.com/JUnit-and-Spring-configuration-tp34480553p34480553.html</a><br/>\nSent from the JUnit - User mailing list archive at Nabble.com.</div>", 
    "prevInTime": 24040, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1348779096", 
    "canDelete": false, 
    "nextInTopic": 24070, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDM0NDgwNTUzLnBvc3RAdGFsay5uYWJibGUuY29tPg=="
    }
}