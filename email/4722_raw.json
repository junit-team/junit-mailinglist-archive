{
    "numMessagesInTopic": 1, 
    "nextInTime": 4723, 
    "senderId": "4jx0BO68yS1NNEsX_WkXU3cwAH1XzaFwgqoiBV2-c8f7xL3gEqytSeePJ3sfmu4kYPRIdkTGG7rCdoIHDEao4VSZhHQ", 
    "systemMessage": false, 
    "subject": "EJB testing: ClassCastExceptions thrown by narrow() in ant", 
    "from": "&quot;ejstock&quot; &lt;ejstock@...&gt;", 
    "authorName": "ejstock", 
    "msgSnippet": "I am getting ClassCastExceptions thrown by calling PortableRemoteObject.narrow() when running my tests as an ant task. I m using the text only test runner, not", 
    "msgId": 4722, 
    "rawEmail": "Return-Path: &lt;ejstock@...&gt;\r\nReceived: (qmail 54098 invoked from network); 20 Apr 2002 00:54:56 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m10.grp.scd.yahoo.com with QMQP; 20 Apr 2002 00:54:56 -0000\r\nReceived: from unknown (HELO n10.grp.scd.yahoo.com) (66.218.66.65)\n  by mta1.grp.scd.yahoo.com with SMTP; 20 Apr 2002 00:54:56 -0000\r\nX-eGroups-Return: ejstock@...\r\nReceived: from [66.218.67.191] by n10.grp.scd.yahoo.com with NNFMP; 20 Apr 2002 00:54:55 -0000\r\nX-eGroups-Approved-By: geektank &lt;emeade@...&gt; via web; 20 Apr 2002 00:54:54 -0000\r\nX-Sender: ejstock@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_1); 19 Apr 2002 21:47:51 -0000\r\nReceived: (qmail 33487 invoked from network); 19 Apr 2002 17:21:34 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m8.grp.scd.yahoo.com with QMQP; 19 Apr 2002 17:21:34 -0000\r\nReceived: from unknown (HELO n28.grp.scd.yahoo.com) (66.218.66.84)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Apr 2002 17:21:33 -0000\r\nReceived: from [66.218.67.185] by n28.grp.scd.yahoo.com with NNFMP; 19 Apr 2002 17:20:39 -0000\r\nDate: Fri, 19 Apr 2002 17:20:39 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: EJB testing: ClassCastExceptions thrown by narrow() in ant\r\nMessage-ID: &lt;a9pjl7+r6qu@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 2028\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;ejstock&quot; &lt;ejstock@...&gt;\r\nX-Yahoo-Group-Post: member; u=110632468\r\nX-Yahoo-Profile: ejstock\r\n\r\nI am getting ClassCastExceptions thrown by calling \nPortableRemoteObject.narrow() when running my tests as an ant task. \nI&#39;m using the text only test runner, not the GUI one.\n\nThe test is for an EJB and so it&#39;s trying to get a home interface for \nthe EJB it tests. The problem only occurs when the test runs in ant, \nnot when I run the test on the command line like so:\n\njava -\nclasspath .&#92;build&#92;classes;.&#92;lib&#92;junit.jar;D:&#92;bea&#92;wlserver&#92;lib&#92;weblogic\n.jar;.&#92;lib&#92;log4j.jar;  junit.textui.TestRunner \ncom.pics.nmc2.media.ObjectGroupTest\n\nI have read a few postings on this list regarding class loader issues \nthat at first looked relevant, but in fact they are all specific to \nthe GUI test runner, or running outside of ant, or maybe both. I \nshould mention the EJB container is Weblogic 6.1 SP2. I&#39;ve had test \ncases running on Weblogic 6.x before, but not with ant.\n\nMy ant test task in build.xml looks like this:\n\n  &lt;target name=&quot;test&quot; depends=&quot;init&quot; &gt;\n    &lt;junit printsummary=&quot;on&quot;&gt;\n      &lt;classpath&gt;\n\t&lt;pathelement location=&quot;${properties_dir}&quot;/&gt;\n\t&lt;fileset dir=&quot;${weblogic_home}/lib&quot;&gt;\n          &lt;include name=&quot;weblogic.jar&quot;/&gt;\n\t&lt;/fileset&gt;\n        &lt;pathelement location=&quot;${build_dir}/classes&quot;/&gt;\n        &lt;fileset dir=&quot;lib&quot;&gt;\n          &lt;include name=&quot;**/*.jar&quot;/&gt;\n\t&lt;/fileset&gt;\n\t&lt;fileset dir=&quot;d:&#92;bea&#92;utils&quot;&gt;\n\t  &lt;include name=&quot;**/*.jar&quot;/&gt;\n        &lt;/fileset&gt;\n\t&lt;fileset dir=&quot;${build_dir}&quot;&gt;\n\t  &lt;include name=&quot;NMC2WebApp.war&quot;/&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n      &lt;formatter type=&quot;plain&quot; /&gt;\n      &lt;batchtest todir=&quot;${testreports_dir}&quot;&gt;\n        &lt;fileset dir=&quot;${src_dir}&quot;&gt;\n\t  &lt;include name=&quot;**/*Test*.java&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n    &lt;/junit&gt;\n  &lt;/target&gt;\n\nSome explanation of classloader issues with respect to running Junit \nwithin ant would be welcome, even if you don&#39;t know exactly what the \nproblem is. Does it matter that the stub is loaded by a different \nclassloader on the server than in the client?\n\nI&#39;m using Junit 3.7 and Ant 1.4.1.\n\nThanks in advance.\n\nEliot Stock\nPremiere Retial Networks\nSan Francisco\n\n\n\n\n", 
    "profile": "ejstock", 
    "topicId": 4722, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 110632468, 
    "prevInTime": 4721, 
    "contentTrasformed": false, 
    "postDate": "1019236839", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGE5cGpsNytyNnF1QGVHcm91cHMuY29tPg=="
    }
}