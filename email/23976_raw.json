{
    "numMessagesInTopic": 12, 
    "nextInTime": 23977, 
    "senderId": "wRzX_gdn-AHUP3dJMNu0a5orKATg603NT6UIaMxGbOVy8Xpu2XFJUFsH7GpCkKiQxYo_TGDyp3oMUkpX5f2nGBWb2A", 
    "systemMessage": false, 
    "subject": "Re: [junit] Tests starting before Logback initialisation complete when run in parallel", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Brett, There s currently not a good single way to do what you want.  There s current conversation on the github repo about how to do it in a future version,", 
    "msgId": 23976, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 34853 invoked from network); 4 Sep 2012 18:24:54 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m2.grp.sp2.yahoo.com with QMQP; 4 Sep 2012 18:24:54 -0000\r\nX-Received: from unknown (HELO mail-iy0-f179.google.com) (209.85.210.179)\n  by mta6.grp.sp2.yahoo.com with SMTP; 4 Sep 2012 18:24:53 -0000\r\nX-Received: by iage36 with SMTP id e36so8448982iag.10\n        for &lt;junit@yahoogroups.com&gt;; Tue, 04 Sep 2012 11:24:53 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:in-reply-to:references:from:date:message-id:subject:to\n         :content-type:x-system-of-record:x-gm-message-state;\n        bh=nzNTKsZ2Xr9FayG0p9HvLLtbyTVDcFWKW64iG1i1Iic=;\n        b=OKDwPdxFY39yGnyki4iHkGt6fJf6zUnuULYB8Qnav1y9Y8rA/Ayemq4V0sc2h93Ubr\n         XjRmNED4sZU8G+cUWDsFS8Pqo5pXErhJHAbyqUVWuDxaCBuPXRj8+TZ/c+E+BlT9AtX6\n         G7JHMpW2B8z1IcSPV5MbKwuBOfn3hQCKVH9alFj0r/G5mUzDAMpG3hpNVpxOuHFlLsMX\n         uj0x4SoF0bhYf2sXmDkkbouAISJXqpp8l8fdzPnZI9aib5l9hj55QHsMX/uOQg5aBVDw\n         aaDua0aXcuQQJatrDLQr6mvdsiKNhBujjujwSJMkp+Avg6qd/6sqaMm5fgEVVYanOWCz\n         fyaw==\r\nX-Received: by 10.50.181.200 with SMTP id dy8mr15337330igc.36.1346783093568;\n        Tue, 04 Sep 2012 11:24:53 -0700 (PDT)\r\nX-Received: by 10.50.181.200 with SMTP id dy8mr15337317igc.36.1346783093373;\n Tue, 04 Sep 2012 11:24:53 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.24.75 with HTTP; Tue, 4 Sep 2012 11:24:33 -0700 (PDT)\r\nIn-Reply-To: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\r\nReferences: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\r\nDate: Tue, 4 Sep 2012 14:24:33 -0400\r\nMessage-ID: &lt;CALrw-PwwAGs6__NwXGfkiG_-Lp=QDYpeyCi-b=rKq9X-t3dVqQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-System-Of-Record: true\r\nX-Gm-Message-State: ALoCoQmjYMJdps5X3HdtxFaj6cKFD7iHzV8BnLI5W+AzZj45CtEjtd0nurHob3eYzanWhmbqMKFwuSnUdKwNcO/ice/Eyvlnf5cgFHw4gzbDclpFdGtx3utxQhD+c6Q+u5R9alKaV3qhbbbCAUm2lsi0+DpU07JU6NH2vr7+Nnjv3aaZZ0eRDVU0w6ztPTb+XSXO0gYmv3Qg\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] Tests starting before Logback initialisation complete\n when run in parallel\r\nX-Yahoo-Group-Post: member; u=525765722; y=OAbGH-30jnbRm7mmweug5lDrcG2AQPhkRw-IT1LQqvPDNSbmSxIGot5kp9NIhLitp6oSCG0Wquj_tKU\r\nX-Yahoo-Profile: saffatgoogle\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nBrett,\n\nThere&#39;s currently not a good single way to do what you want.  There=\r\n&#39;s\ncurrent conversation on the github repo about how to do it in a future\nv=\r\nersion, but there&#39;s no great first-step answer.\n\nOne possibility is to add =\r\na @BeforeClass or @ClassRule to each of your\ntests that would, in a thread-=\r\nsafe way, check if your initialization has\nalready been performed, and if n=\r\not, do it.  I know that&#39;s not a great\nsolution.\n\n   David Saff\n\n\nOn Mon, Se=\r\np 3, 2012 at 3:51 PM, Brett Delle Grazie &lt;bdellegrazie@...&gt;wrote:\n\n&gt; **=\r\n\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; I&#39;m using JUnit 4.10 with Maven 3.0.4, Surefire 2.12.3, JDK =\r\n1.6.0_35\n&gt; on Windows 7\n&gt; Surefire is configured with parallel=3Dmethods an=\r\nd threadCount=3D10\n&gt; For logging, I&#39;m using SLF4J to Logback, initialised b=\r\ny default method\n&gt; (i.e. configuration file logback-test.xml is on the test=\r\n classpath)\n&gt;\n&gt; I have an order of initialisation problem in that:\n&gt; (1) So=\r\nme unit tests test classes that use commons-logging (and logback\n&gt; via jcl-=\r\nslf4j) but are ending up with\n&gt; Null loggers.\n&gt; (2) jcl-slf4j is not initia=\r\nlised _until_ those classes are called.\n&gt;\n&gt; If I disable parallelism the co=\r\nde works correctly, implying an order\n&gt; of initialisation issue.\n&gt;\n&gt; Accord=\r\ning to the most recent FAQ on Junit.org (Section 5, #3) I could\n&gt; use @Befo=\r\nreClass and @AfterClass at the class\n&gt; level but I&#39;m talking about at the g=\r\nlobal level, something that needs\n&gt; to be executed even if only a single te=\r\nst is run.\n&gt;\n&gt; What is the correct method to add global, one-time, setup / =\r\ntear-down\n&gt; hooks? In this case they would need to execute and\n&gt; complete (=\r\ni.e. blocking) before any parallel tests are run.\n&gt; Is it simplest to overr=\r\nide the Runner and initialise the logging in code\n&gt; there?\n&gt;\n&gt; Thanks,\n&gt;\n&gt; =\r\nBest Regards,\n&gt;\n&gt; Brett\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have bee=\r\nn removed]\n\n\n", 
    "profile": "saffatgoogle", 
    "topicId": 23967, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "prevInTime": 23975, 
    "contentTrasformed": false, 
    "postDate": "1346783073", 
    "canDelete": false, 
    "nextInTopic": 23977, 
    "prevInTopic": 23967, 
    "headers": {
        "inReplyToHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBTHJ3LVB3d0FHczZfX053WEdma2lHXy1McD1RRFlwZXlDaS1iPXJLcTlYLXQzZFZxUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4="
    }
}