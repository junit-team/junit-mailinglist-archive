{
    "numMessagesInTopic": 18, 
    "nextInTime": 11541, 
    "senderId": "qlcOldA806Vt7VtPKXuViXbpv9Ve475E1lJPULF_SoMffWnS4HojrTW73cLvX4hhHwjsp2MqEyNXXQ5JkfifD2rzAk92IJFn", 
    "systemMessage": false, 
    "subject": "Re: Did my question get missed, somehow?", 
    "from": "&quot;cypherfox&quot; &lt;cypherfox@...&gt;", 
    "authorName": "cypherfox", 
    "msgSnippet": "Greetings, ... I understand, and did not mean to be rude.  To me, the suggestion that testing the way I was is a code smell reads as a go fix your code before", 
    "msgId": 11540, 
    "rawEmail": "Return-Path: &lt;cypherfox@...&gt;\r\nX-Sender: cypherfox@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 80529 invoked from network); 16 Jul 2004 19:20:16 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m1.grp.scd.yahoo.com with QMQP; 16 Jul 2004 19:20:16 -0000\r\nReceived: from unknown (HELO n36.grp.scd.yahoo.com) (66.218.66.104)\n  by mta6.grp.scd.yahoo.com with SMTP; 16 Jul 2004 19:20:15 -0000\r\nReceived: from [66.218.67.159] by n36.grp.scd.yahoo.com with NNFMP; 16 Jul 2004 19:18:49 -0000\r\nDate: Fri, 16 Jul 2004 19:18:47 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;cd99mo+64r1@...&gt;\r\nIn-Reply-To: &lt;40F7DA80.7090106@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 8218\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-eGroups-Remote-IP: 66.218.66.104\r\nFrom: &quot;cypherfox&quot; &lt;cypherfox@...&gt;\r\nSubject: Re: Did my question get missed, somehow?\r\nX-Yahoo-Group-Post: member; u=174888704\r\nX-Yahoo-Profile: cypherfox\r\n\r\nGreetings,\n\n--- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; wrote:\n&gt; cypherfox wrote:\n&gt; \n&gt; &gt; The problem with dismissing it like\n&gt; &gt; that is...\n&gt; \n&gt; Rudeness objection. I expressly did not dismiss your point.\n\nI understand, and did not mean to be rude.  To me, the suggestion\nthat testing the way I was is a code smell reads as a &#39;go fix your code\nbefore bugging us&#39;.  I understand now that you didn&#39;t mean it like\nthat.\n\n&gt; &gt; The problem I have with this is it&#39;s completely unlike how code is\n&gt; &gt; actually used.  It&#39;s forcing a framework on code that makes it much\n&gt; &gt; less useful to test.  \n&gt; \n&gt; No-one is forcing anything. If JUnit doesn&#39;t work for you, then build \n&gt; your own testing framework. No-one is going to stop you.\n\nMmm..   Besides the point.  JUnit is the testing framework\nsupported by a massive number of tools, and my toolchain\nin particular.  If I can retrofit JUnit to fit my needs, it&#39;s the\noptimal answer.  I now do understand it&#39;s definitely not in\nJUnit&#39;s scope, however.\n\n&gt;  &gt; I don&#39;t need (or think it&#39;s right at all) to\n&gt; &gt; test all of:\n&gt; &gt; [...lots deleted...]\n&gt; &gt; all in one test, just in order to test the &#39;read message&#39; in the\n&gt; &gt; middle.\n&gt; \n&gt; Well of course not! I would /never/ do such a thing! I would just pull \n&gt; out the &quot;read message&quot; part and test it in isolation. I do that all the \n&gt; time, successfully, with JUnit.\n\nThe problem is that &#39;read message&#39; talks to a persistent mail\nserver.  It has to have a message on it to read.  It has to have\na user on it to read the message to.  It has to have a mailbox\nto read the message in.  It has to have selected that mailbox.\nMock objects don&#39;t test the actual networking code, and\nrequire 1.5x the maintenance anyway.  (Interface changes,\nespecially for code still under heavy development, need to be\npropogated not only to the test, but to the mock objects,\nconstantly.)\n\nI test from the bottom up, running the lowest layer of tests\nfirst.  If any level fails, I ignore the rest of the results until\nthat layer is fixed.  However, since some information (like\nhostnames) is passed from the top layer all the way down,\na bug in the top layer that generates a bad host name can\nonly be caught by the bottom layer actually trying to do\nthe work.\n\n&gt; &gt;  &gt; [...deletia: arrange, act, assert...]\n&gt; &gt; \n&gt; &gt; Done through the prior tests, and since they&#39;ve presumably\n&gt; &gt; succeeded, the next test can run.\n&gt; \n&gt; With object-level testing, /each/ test contains the &quot;Arrange, act, \n&gt; assert&quot; triad. In order for these tests to run quickly, each part must \n&gt; run quickly, and it turns out that when you make that a goal, good \n&gt; things happen. Different things than you&#39;re accustomed to, but good things.\n\nThe problem here is that the information is on a\nserver.  In order to arrange, I need to go through\nall the setup steps (create user, mailbox, message).\n\nHow would you accelerate that, and still allow the\nreadMessage test to actually test the networking\ncode?\n\n&gt; &gt; E.g., The &#39;read message&#39;, which is the only thing of interest to the\n&gt; &gt; testReadMessage method.\n&gt; \n&gt; Right. There should be absolutely no need to set up the system in a \n&gt; complicated manner, just to read a message (whatever that means in this \n&gt; context). Would you describe what &quot;read message&quot; does?\n\nPasses a request to a persistent IMAP-client thread which\nthen queries the IMAP server for the message, and returns\nit, then its converted to XML.  That&#39;s a broad overview, it\ngoes through several layers before that including some\nauthentication, for example.\n\n&gt; &gt;  &gt; then check the results (assert).\n&gt; &gt; \n&gt; &gt; See you&#39;re forgetting a few things, when dealing with stateful\n&gt; &gt; external systems.  \n&gt; \n&gt; Rudeness objection again. You do not know what I&#39;m remembering and what \n&gt; I&#39;m forgetting.\n\nYou&#39;re absolutely right, I shouldn&#39;t have said you had\nforgotten it, merely to point out that you left it out, and\nI consider it something very important.\n\n[...deletia...]\n&gt; Example: test #1 fails, and tests #2-#10 are now meaningless, because \n&gt; #1&#39;s failure leaves the system in an undesirable, strange state. To me, \n&gt; test failures ought not to affect one another.\n\nThis is the heirarchical test argument, and I don&#39;t want to get into it,\nbecause I have a &#39;practical&#39; and &#39;theoretical&#39; side, and they disagree\nvigorously with each other on this one.  :)  For any system that talks\nto a persistent store, there is always going to be a tear-down state\nthat has to be done.  If you don&#39;t allow it to talk to the persistent\nstore, then you&#39;re not testing all your code.\n\n[...deletia...]\n\n&gt; &gt; Statics aren&#39;t an answer, and the framework forcing them on\n&gt; &gt; tests is a failure in the framework.  I was hoping that wasn&#39;t\n&gt; &gt; the answer.\n&gt; \n&gt; Statics aren&#39;t an answer, and having to use them is a failure in the \n&gt; design of the production code.\n&gt; \n&gt; (It sounds silly when I state it that way, doesn&#39;t it?)\n\nStatics in production code would lead to an instant code\nreview, group meeting, and a (probably private) chewing\nout of the author, for anything more than an m_instance\nfor a singleton object.  No, it&#39;s not silly.  It&#39;s deadly serious\nwhen it comes to multi-threading, and it&#39;s a code smell in\nany other case.\n\nI strongly dislike having to use statics in my test suites, for\nthose reasons, among others.\n\n&gt; I&#39;m afraid that /you/ have misread /me/.\n&gt; \n&gt; I wrote: &quot;your test is doing too much&quot;\n&gt; You wrote: &quot;Each test is testing a single, basic unit...&quot;\n&gt; \n&gt; I didn&#39;t say that your test was /testing/ too much. I said that your \n&gt; test is /doing/ too much. Here&#39;s the distinction: the &quot;too much&quot; that \n&gt; your test is doing is jumping through hoops to set up global state that \n&gt; such a test does not need to set up, /if/ you approach it slightly \n&gt; differently.\n\nI&#39;m at a loss, I admit.  I need to test reading a message from a\nserver.  How do I do that, without writing the message to the\nserver first?  How do I test that the entire code path is working?\n\n&gt; &gt; [...multithreaded tests...]\n&gt; \n&gt; [...deletia: suggest Silk Performer?...]\n&gt; \n&gt; I feel even more strongly now that JUnit is not the right tool for the \n&gt; job you&#39;re trying to perform.\n\nIt is the best tool available for it, but it IS doing a different\nscope of tests than JUnit intends, I now completely agree.\nHowever, JUnit is mere inches away from being usable for\nit, so I&#39;m probably going to make a local change to be\nable to do the tests I need.\n\nSilk Performer, Load Runner, and such, are all good tools,\nbut they are for later in the process.\n\n&gt; &gt; [...deletia: massiveTest calling storageTest repeatedly...]\n&gt; \n&gt; I imagine you could build your own test runner easily enough to execute \n&gt; all the tests in a suite against the same fixture data.\n\nI&#39;d have to change TestSuite, rather than a test runner of my own,\nespecially as I generally run the tests under IntelliJ, before checking\nin my code.\n\n&gt; I still think that simply using class-level data would suffice. I still \n&gt; don&#39;t understand the objection. It appears that your tests are using \n&gt; some external resource (like a database, mail server/client, whatever). \n&gt; What&#39;s the difference between using an external resource and class-level \n&gt; data? It&#39;s all global, from the test case&#39;s point of view. I don&#39;t \n&gt; understand why using one would be any better or worse than using the other.\n\nBecause statics don&#39;t work on a multi-threaded project, and\nin order to re-use test knowledge, I want to reuse the storage\ntest case.\n\n&gt; &gt; [...deletia: TestResult extensions...]\n&gt; I /think/ I understand. There /are/ multithreaded extensions to JUnit, \n&gt; although I&#39;ve never tried any of them. MTUnit comes to mind, although \n&gt; that could be wrong. It may be worth examining.\n\nThere are, and MTUnit (that&#39;s the one recently released?) does some\nvery, very trippy things to work around TestResult results not being\naggregatable.\n\nHowever, a good point was made, that doing the tests I&#39;m having\ntrouble with are in the end, more functional than unit, and so not\nin the scope of JUnit.  I need this functionality *in* JUnit (because\nJUnit is supported by my toolchain), in order to do my testing\nquickly and easily before I do checkins, but it&#39;s not in the mission\nof JUnit to do this, so I shouldn&#39;t expect it from the framework.\n\n--  Morgan Schweers\n\n\n", 
    "profile": "cypherfox", 
    "topicId": 11495, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 174888704, 
    "prevInTime": 11539, 
    "contentTrasformed": false, 
    "postDate": "1090005527", 
    "canDelete": false, 
    "nextInTopic": 11541, 
    "prevInTopic": 11539, 
    "headers": {
        "inReplyToHeader": "PDQwRjdEQTgwLjcwOTAxMDZAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PGNkOTltbys2NHIxQGVHcm91cHMuY29tPg=="
    }
}