{
    "numMessagesInTopic": 3, 
    "nextInTime": 22962, 
    "senderId": "Q8kBnJ99U0bv7zupLxDePUBqZsW36YXyuDGDf7xVMpS-WPFQsRDyEd_95SPd-3OckcBhaNW88A9zM7tggTTcJd_s", 
    "systemMessage": false, 
    "subject": "Re: [junit] Fwd: Writing a test fixture for a set of many classes", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Konrad, I don t know enough about your design to critique it, yet, but I m familiar with the things that can happen if you try to run all your tests against", 
    "msgId": 22961, 
    "profile": "dsaff", 
    "topicId": 22959, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-923586828\">Konrad,<br/>\n<br/>\nI don&#39;t know enough about your design to critique it, yet, but I&#39;m<br/>\nfamiliar with the things that can happen if you try to run all your<br/>\ntests against One Big Concrete Example, as you seem to be doing.<br/>\n<br/>\nUsually, in these cases, I recommend that a developer try to<br/>\ncustom-build their data in each test, using only what they need.  For<br/>\nexample, although a single lecturer, single class, and two rooms isn&#39;t<br/>\nenough to test every available case, it&#39;s probably enough to feed to a<br/>\nsimple room-assignment test, etc.<br/>\n<br/>\nIn this case, if I find myself making the same chain of calls over and<br/>\nover, I sometimes write convenient factory methods in my test class,<br/>\nso my tests can look like:<br/>\n<br/>\n@Test public void scheduleRoom() {<br/>\n   Scenario s = scenario(lecturer(&quot;Smith&quot;),<br/>\n                      schoolClass(&quot;Algebra: requires 50 seats&quot;),<br/>\n                      rooms(&quot;Smith Hall 100: 50 seats&quot;, &quot;Smith Hall<br/>\n102: 20 seats&quot;))<br/>\n   assertEquals(&quot;Smith Hall 102&quot;, s.getAssignments().getRoom(&quot;Algebra&quot;))<br/>\n}<br/>\n<br/>\nGood luck,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Mon, Sep 20, 2010 at 4:47 PM, Konrad Reiche &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:home@...\">home@...</a>&gt; wrote:<br/>\n&gt; Â Hey everyone!<br/>\n&gt;<br/>\n&gt; I am currently developing a course scheduler for universites in Java. My<br/>\n&gt; team and me chose test driven development, espcially for the scheduler<br/>\n&gt; itself. I am using JUnit. For nearly every class there has to be JUnit<br/>\n&gt; test class. The database schema has become quiet big. Not everything is<br/>\n&gt; needed for the OR-mapped classes in the scheduler. In the end there are<br/>\n&gt; still 14 classes.<br/>\n&gt;<br/>\n&gt; As the scheduler has to be highly configurable, we need classes like:<br/>\n&gt; courses, lecturers, students, features, rooms, roomRequiredFeatures,<br/>\n&gt; timeSlot, lecturerPrefferredTimeSlots, and so on. I wanted to use the<br/>\n&gt; @Before annotations to create fixtures (instantiated test objects to<br/>\n&gt; test). These test objects reflect one example of a data set from the<br/>\n&gt; database.<br/>\n&gt;<br/>\n&gt; As a matter of fact, the 14 classess are not very detailed: maybe 3-4<br/>\n&gt; fields. The problem arises as they are bound really tight to each other.<br/>\n&gt; THis results in 220 lines code of instanation in the @Before method<br/>\n&gt; which is way to much. A common way to deal with this is to write<br/>\n&gt; mockups, which simulate the test objects behaviour. But as the classes<br/>\n&gt; are very simple there is no way to simulate them.<br/>\n&gt;<br/>\n&gt; I am a little bit desperate because I have the feeling our design is<br/>\n&gt; flawed. Are there any suggesstions or course of actions for this case?<br/>\n&gt;<br/>\n&gt; I hope I made myself clear,<br/>\n&gt;<br/>\n&gt; Best regards!<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22960, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1285017473", 
    "canDelete": false, 
    "nextInTopic": 22963, 
    "prevInTopic": 22959, 
    "headers": {
        "inReplyToHeader": "PDRDOTdDODQ3LjEwNTAwMDBAcGF0aGV0aGljLmNvbT4=", 
        "messageIdInHeader": "PEFBTkxrVGlueD1LRXlfTFNlMHl4QUtqYUdBZDVXek5YPT1BMUVxWkJvbXdGREBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDRDOTdDODQ3LjEwNTAwMDBAcGF0aGV0aGljLmNvbT4="
    }
}