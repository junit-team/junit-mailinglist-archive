{
    "numMessagesInTopic": 22, 
    "nextInTime": 11614, 
    "senderId": "tgRzQim1R6MQPqiSUIa076jOjEhhJet_bJ_T3AGOsPs304mLAZXCEnklURRbOPSww6geUJAu7q1MLfd6nIYpF0VYdMVVbgls-PWci8IdEcpTbGGZ", 
    "systemMessage": false, 
    "subject": "awkward mocking options.", 
    "from": "&quot;Kevin O&#39;Sullivan&quot; &lt;kosullivan@...&gt;", 
    "authorName": "Kevin O&#39;Sullivan", 
    "msgSnippet": "Hi - I am modifying code in an existing app. I have changed code a private method, and I m trying to write a junit test case (the first on this proj) to", 
    "msgId": 11613, 
    "rawEmail": "Return-Path: &lt;kosullivan@...&gt;\r\nReceived: (qmail 75593 invoked from network); 21 Jul 2004 14:22:10 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m2.grp.scd.yahoo.com with QMQP; 21 Jul 2004 14:22:10 -0000\r\nReceived: from unknown (HELO n17.grp.scd.yahoo.com) (66.218.66.72)\n  by mta2.grp.scd.yahoo.com with SMTP; 21 Jul 2004 14:22:10 -0000\r\nX-eGroups-Return: kosullivan@...\r\nReceived: from [66.218.67.160] by n17.grp.scd.yahoo.com with NNFMP; 21 Jul 2004 14:21:08 -0000\r\nX-Sender: kosullivan@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 94986 invoked from network); 21 Jul 2004 08:25:07 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m22.grp.scd.yahoo.com with QMQP; 21 Jul 2004 08:25:07 -0000\r\nReceived: from unknown (HELO ukbtne01.elandtech.co.uk) (217.8.27.115)\n  by mta5.grp.scd.yahoo.com with SMTP; 21 Jul 2004 08:25:07 -0000\r\nReceived: from BTNPC05 ([57.6.88.85]) by ukbtne01.elandtech.co.uk with Microsoft SMTPSVC(5.0.2195.6713);\n\t Wed, 21 Jul 2004 09:25:06 +0100\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Wed, 21 Jul 2004 09:25:06 +0100\r\nMessage-ID: &lt;NEBBIKBMILEEMNGFDNNIIEBJCPAA.kosullivan@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)\r\nIn-Reply-To: &lt;40FD783F.7050401@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441\r\nImportance: Normal\r\nX-OriginalArrivalTime: 21 Jul 2004 08:25:06.0226 (UTC) FILETIME=[3A4E9920:01C46EFC]\r\nX-eGroups-Remote-IP: 217.8.27.115\r\nFrom: &quot;Kevin O&#39;Sullivan&quot; &lt;kosullivan@...&gt;\r\nSubject: awkward mocking options.\r\nX-Yahoo-Group-Post: member; u=42238173\r\nX-Yahoo-Profile: kosullivan_eland\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 21 Jul 2004 14:21:06 -0000\r\nX-eGroups-Remote-IP: 66.218.66.72\r\n\r\nHi -\n\nI am modifying code in an existing app. I have changed code a private\nmethod, and I&#39;m trying to write a junit test case (the first on this proj)\nto validate this. (see pseudo code below)\n\nThe problem is with the call to the static class ServiceLocator to get the\n&#39;client&#39; object. Normally I would just mock this to client obj to do\nnothing, as I don&#39;t care a jot about it in my test case. (I need to mock it\nbecause it makes calls to a web service). Because its instantiated inside\nthe method, I can&#39;t see any simple way to mock the client object.\n\nDue to the overall architecture of the app, it is not possible to chng\nmyPublicMethod() pass  in client or ServiceLocator.  I&#39;m thinking of these\noptions:\n\n1. Have my own ServiceLocator which return mock objects, and get this\nServiceLocator on the classpath before the &#39;real one&#39; - but I hate depening\non classpath loading order, mostly because its a bit of a dark art to me.\n\n2. Modify ServiceLocator to add a member variable to say if its operating\nunder junit test or real production. If its a junit test, then it should\nreturn a mock object (that I can set), otherwise return the real thing.\nThis would involve an extra &quot;if (junit)&quot; in all the getServiceClient()\nmethods, and it seems like a lot of extra work.\n\nDoes anyone have any neater suggestions?\n\n\npublic void myPublicMethod()\n{\n\t// no problem mocking the HTTP Servlet Reqest\n\tparams = readParamsFromHttpServletRequest();\n\tmyPrivateMethod(params);\n\n\t// How do I mock either &#39;client&#39; or &#39;ServiceLocator&#39;\n\tOrgMgrServiceClient client = ServiceLocator.getOrgMgrServiceClient();\n\tclient.doStuff();\n\n\treturn;\n}\n\n\nprivate void myPrivateMethod(params)\n{\n\t// My changes are here..\n\t..\n\t..\n}\n\n\n\n", 
    "profile": "kosullivan_eland", 
    "topicId": 11604, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 42238173, 
    "prevInTime": 11612, 
    "contentTrasformed": false, 
    "postDate": "1090398306", 
    "canDelete": false, 
    "nextInTopic": 11616, 
    "prevInTopic": 11612, 
    "headers": {
        "inReplyToHeader": "PDQwRkQ3ODNGLjcwNTA0MDFAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PE5FQkJJS0JNSUxFRU1OR0ZETk5JSUVCSkNQQUEua29zdWxsaXZhbkBlbGFuZHRlY2guY29tPg=="
    }
}