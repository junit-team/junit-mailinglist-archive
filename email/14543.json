{
    "numMessagesInTopic": 14, 
    "nextInTime": 14544, 
    "senderId": "7lhs4vXkdQ9UlQhZxQej2F-kX-t9r9wBzznbdYKXF87QRtcCGjY-B0Fe9NFdMjH0oJOI6T4IPBhkUZFvjzCekzSwTLYElnkKsZroJnHQ_DZkI_7Ivw", 
    "systemMessage": true, 
    "subject": "Re: Unit tests design", 
    "from": "&quot;my_java_questions&quot; &lt;java.questions@...&gt;", 
    "authorName": "my_java_questions", 
    "msgSnippet": "... Mikhail, Thank you for this tip. In fact, I was already wondering if delegation/combination/encapsulation wasn t the right way around single inheritance", 
    "msgId": 14543, 
    "profile": "my_java_questions", 
    "topicId": 14519, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 235663842, 
    "messageBody": "<div id=\"ygrps-yiv-486374203\">--- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Mikhail Shnayderman &lt;mschnayd@y...&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; D. and David,<br/>\n&gt; <br/>\n&gt; I agree with David that incremental approach is<br/>\n&gt; proably the best approach for extracting commonalities<br/>\n&gt; into a base classes, although I am not sure that in<br/>\n&gt; this case you would not be able to have a delegation<br/>\n&gt; based approach.  <br/>\n&gt; <br/>\n&gt; It seems to me that what you are talking about is a <br/>\n&gt; way to extract common fixture setup and teardown code<br/>\n&gt; and reuse that.  Maybe Abstract test cases is not what<br/>\n&gt; you really need and if you are you will be able to<br/>\n&gt; refactor to something similar to what I am outlining.<br/>\n&gt; <br/>\n&gt; Here is a solution that I would probably consider.<br/>\n&gt; <br/>\n&gt; public interface IFixture {<br/>\n&gt;    public void setUp() {<br/>\n&gt;    }<br/>\n&gt;    public void tearDown() {<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public interface IBaseFixture extends IFixture {<br/>\n&gt;    public void setUp() {<br/>\n&gt;    }<br/>\n&gt;    public void tearDown() {<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class FixtureForInterfaceA implements<br/>\n&gt; IBaseFixture {<br/>\n&gt; <br/>\n&gt;   // public accessors for fixture data<br/>\n&gt;   public void ... get<br/>\n&gt;   ...<br/>\n&gt; <br/>\n&gt;   public void setUp() {<br/>\n&gt;      // setup fixture data ...<br/>\n&gt;   }<br/>\n&gt; <br/>\n&gt;   public void tearDown() {<br/>\n&gt;      // tear down fixture data ...<br/>\n&gt;   }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class FixtureForInterfaceB implements<br/>\n&gt; IBaseFixture {<br/>\n&gt; <br/>\n&gt;   // public accessors for fixture data<br/>\n&gt;   public void ... get<br/>\n&gt;   ...<br/>\n&gt; <br/>\n&gt;   public void setUp() {<br/>\n&gt;      // setup fixture data ...<br/>\n&gt;   }<br/>\n&gt; <br/>\n&gt;   public void tearDown() {<br/>\n&gt;      // tear down fixture data ...<br/>\n&gt;   }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class FixtureForConcreteClassImplementingAandB<br/>\n&gt; implements IFixture {<br/>\n&gt;    public FixtureForInterfaceA baseFixtureForA = new<br/>\n&gt; FixtureForInterfaceA();<br/>\n&gt;    public FixtureForInterfaceB baseFixtureForB = new <br/>\n&gt; FixtureForInterfaceB();<br/>\n&gt; <br/>\n&gt;    // public accessors for fixture data<br/>\n&gt;    public void ... get<br/>\n&gt;    ...<br/>\n&gt; <br/>\n&gt;    public FixtureForInterfaceA getIAFixture() {<br/>\n&gt;       return baseFixtureForA;<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt;    public FixtureForInterfaceB getIBFixture() {<br/>\n&gt;       return baseFixtureForB;<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt;    public void setUp() {<br/>\n&gt;      baseFixtureForA.setUp();<br/>\n&gt;      baseFixtureForB.setup();<br/>\n&gt;      // ... setup own fixture data<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt;    public void tearDown() {<br/>\n&gt;      // .. teardown own fixture data.<br/>\n&gt;      baseFixtureForB.tearDown();<br/>\n&gt;      baseFixtureForA.tearDown();   <br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class<br/>\n&gt; MyTestCaseForConcreteClassImplementingAandB extends<br/>\n&gt; TestCase {<br/>\n&gt; <br/>\n&gt;   FixtureForConcreteClassImplementingAandB fixture =<br/>\n&gt;       new FixtureForConcreteClassImplementingAandB();<br/>\n&gt; <br/>\n&gt;   public void setUp() {<br/>\n&gt;      fixture.setUp();<br/>\n&gt;   }<br/>\n&gt; <br/>\n&gt;   public testFoo() {<br/>\n&gt;      foo(fixture.get...);<br/>\n&gt;      ...<br/>\n&gt;      foo(fixture.getIAFixture().get...);<br/>\n&gt;   }<br/>\n&gt; <br/>\n&gt;   public void tearDown() {<br/>\n&gt;      fixture.tearDown();<br/>\n&gt;   }<br/>\n&gt; } <br/>\n&gt; <br/>\n&gt; Ofcourse what I did there is a first shot.  <br/>\n&gt; It may seem somewhat complicated but all I really did<br/>\n&gt; is encapsulated Fixture and fixture data <br/>\n&gt; and created BaseFixtures as well as ConcreteFixtures<br/>\n&gt; that will be used in Concrete class test cases.<br/>\n&gt; <br/>\n&gt; If you need to reuse more than just fixture code, you<br/>\n&gt; can create a different abstraction for resuablity,<br/>\n&gt; possibly even a set of base test-cases.<br/>\n&gt; <br/>\n&gt; I know this is not truly LSP solution that you had in<br/>\n&gt; mind, but this I think does answer your &quot;requirement&quot; <br/>\n&gt; for fixture reusablity.<br/>\n&gt; <br/>\n&gt; Hope this helps, Mikhail<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>Mikhail,<br/>\n<br/>\nThank you for this tip. <br/>\n<br/>\nIn fact, I was already wondering if<br/>\ndelegation/combination/encapsulation wasn&#39;t the right way around<br/>\nsingle inheritance limitation (isn&#39;t it always :-)). I just couldn&#39;t<br/>\nfigure out how exactly to implement it...<br/>\n<br/>\nI think I will use J.B. Rainsberger&#39;s solution of splitting my<br/>\nfixtures in as many different TestCases as there are interfaces<br/>\nimplemented. I like the idea of separating the different aspects I&#39;m<br/>\ntesting...<br/>\n<br/>\nYour tip will be usefull too if it occurs that all these<br/>\ninterface-specific TestCases share common setUp() and tearDown() code.<br/>\n<br/>\nAnyway, I am really enjoying my first experience on this mailing list.<br/>\nEveryone is really nice and all the answers I&#39;ve received so far have<br/>\nbeen very helpfull.<br/>\n<br/>\nThank you all for making TDD such a bliss ;-)<br/>\n<br/>\nDimitri</div>", 
    "prevInTime": 14542, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1125516197", 
    "canDelete": false, 
    "nextInTopic": 14547, 
    "prevInTopic": 14542, 
    "headers": {
        "inReplyToHeader": "PDIwMDUwODMxMTU0MzI2LjE5Mzc1LnFtYWlsQHdlYjMwODA2Lm1haWwubXVkLnlhaG9vLmNvbT4=", 
        "messageIdInHeader": "PGRmNTAzNStvOGhjQGVHcm91cHMuY29tPg=="
    }
}