{
    "numMessagesInTopic": 27, 
    "nextInTime": 7379, 
    "senderId": "nW6Oi6cgtC_1bfFRj_YxXFWQNPnB_BfzBWm0o6Hnigvt-OVA_ZHWZK52BX4c67YUxAK4kgT4APFF3nPuzjPy9UCYxxc56fGBcxh_nw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: JUnit Design?", 
    "from": "Robert Bateman &lt;rbatemanmi@...&gt;", 
    "authorName": "Robert Bateman", 
    "msgSnippet": "Levi, I tried this - it doesn t work :( My emperical evidence from using JUnit indicates that setUp() and tearDown() are pretty much called before *each* test.", 
    "msgId": 7378, 
    "profile": "rbatemanmi", 
    "topicId": 7266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 124365129, 
    "messageBody": "<div id=\"ygrps-yiv-39639604\">Levi,<br/>\n<br/>\nI tried this - it doesn&#39;t work :(<br/>\n<br/>\nMy emperical evidence from using JUnit indicates that setUp() and tearDown() are pretty much<br/>\ncalled before *each* test.  This, in effect, makes each test case an isolated entity.<br/>\n<br/>\nSomeone else mentioned the FAQ entry that basically runs the test suite for you with your code<br/>\nmanually running the setUp() and tearDown() routines only once.  The FAQ entry uses a test Suite<br/>\nto test with.  I believe the test Suite example was simplified so we can run all tests via run(<br/>\ntest.class ) in main().  <br/>\n<br/>\nI haven&#39;t seen anything that refactors the FAQ entry to use the newer execution method.  I hope to<br/>\nhave enough time soon to try and figure out how to do this myself.<br/>\n<br/>\nBob<br/>\n--- Levi Cook &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:levicook@...\">levicook@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Once you&#39;ve gone static, I could imagine this sort of hackery... (I don&#39;t endorse it though:)<br/>\n&gt; <br/>\n&gt; SomeTest extends TestCase<br/>\n&gt; {<br/>\n&gt;    static Connection myConnection = null<br/>\n&gt;    static int numTestsRun = 0<br/>\n&gt; <br/>\n&gt;    protected void setUp()<br/>\n&gt;    {<br/>\n&gt;       if (myConnection == null)<br/>\n&gt;          myConnection = createMyConnection()<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt;    public void testA(){}<br/>\n&gt;    public void testB(){}<br/>\n&gt;    public void testC(){}<br/>\n&gt; <br/>\n&gt;    protected void tearDown()<br/>\n&gt;    {<br/>\n&gt;       numTestsRun++;<br/>\n&gt;       if(numTestsRun == countTestCases())<br/>\n&gt;          release(myConnection)<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt;    private Connection createMyConnection()<br/>\n&gt;    {<br/>\n&gt;        // do something &quot;expensive&quot;<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt;    private release(Connection theConnection)<br/>\n&gt;    {<br/>\n&gt;        // do the good citizen clean up thing...<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; -- Levi<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Bill Venners wrote:<br/>\n&gt; <br/>\n&gt; &gt;Bob,<br/>\n&gt; &gt;<br/>\n&gt; &gt;On Sunday, March 23, 2003, at 11:29 AM, Robert Bateman wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt;  <br/>\n&gt; &gt;<br/>\n&gt; &gt;&gt;--- Bill Venners &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:bv@...\">bv@...</a>&gt; wrote:<br/>\n&gt; &gt;&gt;    <br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;&gt;If the fixture includes an expensive database<br/>\n&gt; &gt;&gt;&gt;connection, for example, could that connection not be created by the<br/>\n&gt; &gt;&gt;&gt;first test method and stored in a static variable for all subsequent<br/>\n&gt; &gt;&gt;&gt;test methods to share? Not sure how you could close the connection at<br/>\n&gt; &gt;&gt;&gt;the end of the last test method executed, though. Has anyone used<br/>\n&gt; &gt;&gt;&gt;static variables to share fixture objects among multiple test methods?<br/>\n&gt; &gt;&gt;&gt;      <br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;I did this very thing by accident - as I&#39;m new to JUnit testing.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;I have legacy DB code I have to test and the original author used a  <br/>\n&gt; &gt;&gt;static anonymous class to<br/>\n&gt; &gt;&gt;create the connection cache.  I use setup() to instantiate the  <br/>\n&gt; &gt;&gt;underlying class and get/close my<br/>\n&gt; &gt;&gt;DB connections in each test.  I pay the penalty for the connection  <br/>\n&gt; &gt;&gt;creation in the first test, but<br/>\n&gt; &gt;&gt;every other test is fairly fast.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;So far, I&#39;ve found JUnits testing of each test method to be low level  <br/>\n&gt; &gt;&gt;in design and nature...  I<br/>\n&gt; &gt;&gt;create a method in an object and my test methods exercise my method -  <br/>\n&gt; &gt;&gt;checking for validity of<br/>\n&gt; &gt;&gt;execution.  I&#39;ve found JUnit assumes I&#39;m interested in assuring the  <br/>\n&gt; &gt;&gt;tested method executes and<br/>\n&gt; &gt;&gt;provides some specific result.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;Maybe I&#39;m still too new to JUnit to know what I&#39;m missing with  <br/>\n&gt; &gt;&gt;SuiteRunner - but I&#39;ve always<br/>\n&gt; &gt;&gt;thought the first test I must *always* perform is the validation of my  <br/>\n&gt; &gt;&gt;code against the<br/>\n&gt; &gt;&gt;specifications - that what I&#39;m writing is performing to expectations.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;Your right, if I write code that modifies a part of my object in some  <br/>\n&gt; &gt;&gt;way, I need to insure that I<br/>\n&gt; &gt;&gt;haven&#39;t created an artifact that can damage some other part of the  <br/>\n&gt; &gt;&gt;code.  Isn&#39;t that the basis of<br/>\n&gt; &gt;&gt;performing lots of different asserts in each of your tests?  If I can  <br/>\n&gt; &gt;&gt;alter some part of my object<br/>\n&gt; &gt;&gt;thru my code, then after my code runs, don&#39;t I want to verify the  <br/>\n&gt; &gt;&gt;contents of the underlying<br/>\n&gt; &gt;&gt;object?  All within one test? (Not Suite of tests - but an individual  <br/>\n&gt; &gt;&gt;test...)<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;If I&#39;m too far off topic, please forgive me.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;    <br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;Not off topic at all. I was asking if anyone had used static members to  <br/>\n&gt; &gt;share fixture among multiple test methods in a single TestCase, and you  <br/>\n&gt; &gt;did. You even did it for a database connection, which was the example I  <br/>\n&gt; &gt;mentioned. The one question I still have about your test code is, did  <br/>\n&gt; &gt;you find a way to explicitly close the connection after the last test  <br/>\n&gt; &gt;method finished? Or was it just left open under the assumption your app  <br/>\n&gt; &gt;would go away soon enough.<br/>\n&gt; &gt;<br/>\n&gt; &gt;One significant difference between the static member approach to  <br/>\n&gt; &gt;fixture sharing in JUnit and SuiteRunner is that I know how to close  <br/>\n&gt; &gt;the connection when I&#39;m done in SuiteRunner, but not in JUnit. If  <br/>\n&gt; &gt;anyone has a way to do that, please reply.<br/>\n&gt; &gt;<br/>\n&gt; &gt;Another difference is really one of design taste I suspect. I just  <br/>\n&gt; &gt;found it non-intuitive that JUnit gave each test method invocation its  <br/>\n&gt; &gt;own instance, especially when they also provided the setUp() method. I  <br/>\n&gt; &gt;used JUnit a long time before I realized this object wrapping was going  <br/>\n&gt; &gt;on. In a previous post to this list, I asked if anyone could help me  <br/>\n&gt; &gt;understand what benefit I get for that wrapping. I mentioned that the  <br/>\n&gt; &gt;only benefit I could see was that if I screw up my  setUp() and  <br/>\n&gt; &gt;tearDown() methods and don&#39;t actually initialize and clean up the  <br/>\n&gt; &gt;fixture correctly, the wrapping of method invocations may let me get  <br/>\n&gt; &gt;away with it. Vladimir Bossicard agreed that that was a benefit, and no  <br/>\n&gt; &gt;one else offered any others.<br/>\n&gt; &gt;<br/>\n&gt; &gt;My design sense when I was doing that part of SuiteRunner was to not  <br/>\n&gt; &gt;provide the extra shield. I figured it would be relatively rare that a  <br/>\n&gt; &gt;user would screw up their setUpFixture() and tearDownFixture() methods.  <br/>\n&gt; &gt;When they do, they get a red bar and can fix the bug like any other  <br/>\n&gt; &gt;bug. Then they get a green bar. And all the while the hierarchy of  <br/>\n&gt; &gt;objects that make up their test is the intuitive simple tree of objects  <br/>\n&gt; &gt;that for a long time (until I realized that the object wrapping was  <br/>\n&gt; &gt;going on) I imagined JUnit was building.<br/>\n&gt; &gt;<br/>\n&gt; &gt;Bill<br/>\n&gt; &gt;<br/>\n&gt; &gt;  <br/>\n&gt; &gt;<br/>\n&gt; &gt;&gt;Bob<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;__________________________________________________<br/>\n&gt; &gt;&gt;Do you Yahoo!?<br/>\n&gt; &gt;&gt;Yahoo! Platinum - Watch CBS&#39; NCAA March Madness, live on your desktop!<br/>\n&gt; &gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://platinum.yahoo.com\">http://platinum.yahoo.com</a><br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;------------------------ Yahoo! Groups Sponsor  <br/>\n&gt; &gt;&gt;---------------------~--&gt;<br/>\n&gt; &gt;&gt;Get 128 Bit SSL Encryption!<br/>\n&gt; &gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/xaxhjB/hdqFAA/xGHJAA/5cFolB/TM\">http://us.click.yahoo.com/xaxhjB/hdqFAA/xGHJAA/5cFolB/TM</a><br/>\n&gt; &gt;&gt;--------------------------------------------------------------------- <br/>\n&gt; &gt;&gt;~-&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;To unsubscribe from this group, send an email to:<br/>\n&gt; &gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;Your use of Yahoo! Groups is subject to  <br/>\n&gt; &gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;    <br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;bv<br/>\n&gt; &gt;--<br/>\n&gt; &gt;Bill Venners<br/>\n&gt; &gt;Artima Software, Inc.<br/>\n&gt; &gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.artima.com\">http://www.artima.com</a><br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;To unsubscribe from this group, send an email to:<br/>\n&gt; &gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt; <br/>\n&gt; &gt;<br/>\n&gt; &gt;Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;  <br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n </span></blockquote>__________________________________________________<br/>\nDo you Yahoo!?<br/>\nYahoo! Platinum - Watch CBS&#39; NCAA March Madness, live on your desktop!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://platinum.yahoo.com\">http://platinum.yahoo.com</a></div>", 
    "prevInTime": 7377, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1048702051", 
    "canDelete": false, 
    "nextInTopic": 7385, 
    "prevInTopic": 7375, 
    "headers": {
        "inReplyToHeader": "PDNFODFFNkFELjgwMDAyMDdAcGFwYWpvLmNvbT4=", 
        "messageIdInHeader": "PDIwMDMwMzI2MTgwNzMxLjM4NzIucW1haWxAd2ViMTI1MDUubWFpbC55YWhvby5jb20+"
    }
}