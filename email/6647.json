{
    "numMessagesInTopic": 5, 
    "nextInTime": 6648, 
    "senderId": "wjUEFQfM3w7mt2KUWFkjWCMHtAEXOmGubIM1nWx9zb61puDHKfpuq2MmnbLzTw_nqvftd8zDYKBFGc3yLGBdUSDt_ldDzw", 
    "systemMessage": false, 
    "subject": "Re: [junit] java.beans.XMLEncoder with swing GUI JUnit", 
    "from": "Lynne Lawrence &lt;lgl@...&gt;", 
    "authorName": "Lynne Lawrence", 
    "msgSnippet": "Morten, I don t know whether this is your problem, and have no explanation for why you would be seeing a difference with the junit GUI, but I do know that I", 
    "msgId": 6647, 
    "topicId": 6645, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 132653444, 
    "messageBody": "<div id=\"ygrps-yiv-567610678\">Morten,<br/>\n<br/>\nI don&#39;t know whether this is your problem, and have no explanation for why you<br/>\nwould be seeing a difference with the junit GUI, but I do know that I have<br/>\nexperienced problems similar to what you are seeing when the &quot;get&quot; method does<br/>\nnot return the same object set with the &quot;set&quot; method, as in the case of the<br/>\n&quot;name&quot; attribute of your MyClass class.  A suggestion I have is to try setting<br/>\nand getting a private name variable as for a typical attribute and see if the<br/>\nproblem goes away.<br/>\n<br/>\nLynne Lawrence<br/>\n&quot;Morten Grum, PH-Consult&quot; wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; Sorry.<br/>\n&gt;<br/>\n&gt; The test I had pasted in my previous mail should have been this (with<br/>\n&gt; XMLEncoder rather than WOXMLEncoder).<br/>\n&gt;<br/>\n&gt; import junit.framework.TestCase;<br/>\n&gt; import junit.framework.Test;<br/>\n&gt; import junit.framework.TestSuite;<br/>\n&gt;<br/>\n&gt; import java.io.*;<br/>\n&gt; import java.beans.XMLEncoder;<br/>\n&gt; import java.beans.XMLDecoder;<br/>\n&gt;<br/>\n&gt; public class XMLEncoderTest extends TestCase {<br/>\n&gt;<br/>\n&gt;     public XMLEncoderTest(String name) {<br/>\n&gt;         super(name);<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     protected void setUp() {<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     protected void tearDown() {<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     public static Test suite() {<br/>\n&gt;         return new TestSuite(XMLEncoderTest.class);<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     public void testSpiking() {<br/>\n&gt;         try {<br/>\n&gt;             MyClass myObject = new MyClass();<br/>\n&gt;             myObject.setName(&quot;Max&quot;);<br/>\n&gt;             myObject.setValue(0.001);<br/>\n&gt;<br/>\n&gt;             String xmlFileName = System.getProperty(&quot;user.dir&quot;)+<br/>\n&gt;                     &quot;/&quot;+&quot;Sample.xml&quot;;<br/>\n&gt;             System.out.println(&quot;xmlFileName=&quot;+xmlFileName);<br/>\n&gt;             XMLEncoder encoder = new XMLEncoder(<br/>\n&gt;                             new BufferedOutputStream(<br/>\n&gt;                                     new FileOutputStream(xmlFileName)));<br/>\n&gt;             encoder.writeObject(myObject);<br/>\n&gt;             encoder.close();<br/>\n&gt;<br/>\n&gt;             XMLDecoder decoder = new XMLDecoder(<br/>\n&gt;                             new BufferedInputStream(<br/>\n&gt;                                     new FileInputStream(xmlFileName)));<br/>\n&gt;             MyClass myReadObject = (MyClass)decoder.readObject();<br/>\n&gt;             decoder.close();<br/>\n&gt;<br/>\n&gt;             assertEquals(&quot;Name&quot;, &quot;Max&quot;, myReadObject.getName());<br/>\n&gt;             assertEquals(&quot;Name&quot;, 0.001, myReadObject.getValue(), 0.0);<br/>\n&gt;         } catch (FileNotFoundException e) {<br/>\n&gt;             fail(&quot;FileNotFoundException should not be thrown here.&#92;n&quot;+e);<br/>\n&gt;         }<br/>\n&gt;     }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; &gt; -----Original Message-----<br/>\n&gt; &gt; From: Morten Grum, PH-Consult [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mg@...\">mg@...</a>]<br/>\n&gt; &gt; Sent: 13. januar 2003 12:24<br/>\n&gt; &gt; To: JunitList<br/>\n&gt; &gt; Subject: [junit] java.beans.XMLEncoder with swing GUI JUnit<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Hi All!<br/>\n&gt; &gt;<br/>\n&gt; &gt; I have a problem with java.beans.XMLEncoder that only occures when my test<br/>\n&gt; &gt; is run in the swing GUI JUnit and not when I run through ant.<br/>\n&gt; &gt;<br/>\n&gt; &gt; My XMLEncoder test runs fine when I run it via ant. But when I<br/>\n&gt; &gt; run it using<br/>\n&gt; &gt; the swing gui (running from within idea) it comes up with the<br/>\n&gt; &gt; stack overflow<br/>\n&gt; &gt; error below. Normally my tests run fine in both ways.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Details below. Any ideas?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks in advance.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Morten<br/>\n&gt; &gt;<br/>\n&gt; &gt; The error i get running via JUnit swing version (via idea):<br/>\n&gt; &gt;<br/>\n&gt; &gt; java.lang.StackOverflowError<br/>\n&gt; &gt;   at java.lang.Class.getMethod0(Class.java:1756)<br/>\n&gt; &gt;   at java.lang.Class.getMethod(Class.java:963)<br/>\n&gt; &gt;   at java.beans.Statement.findPublicMethod(Statement.java:230)<br/>\n&gt; &gt;   at java.beans.Statement.findMethod(Statement.java:270)<br/>\n&gt; &gt;   at java.beans.Statement.getMethod(Statement.java:366)<br/>\n&gt; &gt;   at java.beans.Statement.invoke(Statement.java:439)<br/>\n&gt; &gt;   at java.beans.Expression.getValue(Expression.java:101)<br/>\n&gt; &gt;   at java.beans.Encoder.getValue(Encoder.java:84)<br/>\n&gt; &gt;   at java.beans.Encoder.get(Encoder.java:186)<br/>\n&gt; &gt;   at<br/>\n&gt; &gt; java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:97)<br/>\n&gt; &gt;   at java.beans.Encoder.writeObject(Encoder.java:55)<br/>\n&gt; &gt;   at java.beans.XMLEncoder.writeObject(XMLEncoder.java:250)<br/>\n&gt; &gt;   at java.beans.Encoder.writeExpression(Encoder.java:260)<br/>\n&gt; &gt;   at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:363)<br/>\n&gt; &gt;   at<br/>\n&gt; &gt; java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:100)<br/>\n&gt; &gt;   at java.beans.Encoder.writeObject(Encoder.java:55)<br/>\n&gt; &gt;   at java.beans.XMLEncoder.writeObject(XMLEncoder.java:250)<br/>\n&gt; &gt;<br/>\n&gt; &gt; My test looks like this:<br/>\n&gt; &gt;<br/>\n&gt; &gt; import junit.framework.TestCase;<br/>\n&gt; &gt; import junit.framework.Test;<br/>\n&gt; &gt; import junit.framework.TestSuite;<br/>\n&gt; &gt;<br/>\n&gt; &gt; import java.io.*;<br/>\n&gt; &gt;<br/>\n&gt; &gt; public class XMLEncoderTest extends TestCase {<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public XMLEncoderTest(String name) {<br/>\n&gt; &gt;         super(name);<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     protected void setUp() {<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     protected void tearDown() {<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public static Test suite() {<br/>\n&gt; &gt;         return new TestSuite(XMLEncoderTest.class);<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public void testSpiking() {<br/>\n&gt; &gt;         try {<br/>\n&gt; &gt;             MyClass myObject = new MyClass();<br/>\n&gt; &gt;             myObject.setName(&quot;Max&quot;);<br/>\n&gt; &gt;             myObject.setValue(0.001);<br/>\n&gt; &gt;<br/>\n&gt; &gt;             String xmlFileName = System.getProperty(&quot;user.dir&quot;)+<br/>\n&gt; &gt;                     &quot;/&quot;+&quot;Sample.xml&quot;;<br/>\n&gt; &gt;             WOXMLEncoder encoder = new WOXMLEncoder(<br/>\n&gt; &gt;                             new BufferedOutputStream(<br/>\n&gt; &gt;                                     new FileOutputStream(xmlFileName)));<br/>\n&gt; &gt;             encoder.writeObject(myObject);<br/>\n&gt; &gt;             encoder.close();<br/>\n&gt; &gt;<br/>\n&gt; &gt;             WOXMLDecoder decoder = new WOXMLDecoder(<br/>\n&gt; &gt;                             new BufferedInputStream(<br/>\n&gt; &gt;                                     new FileInputStream(xmlFileName)));<br/>\n&gt; &gt;             MyClass myReadObject = (MyClass)decoder.readObject();<br/>\n&gt; &gt;             decoder.close();<br/>\n&gt; &gt;<br/>\n&gt; &gt;             assertEquals(&quot;Name&quot;, &quot;Max&quot;, myReadObject.getName());<br/>\n&gt; &gt;             assertEquals(&quot;Name&quot;, 0.001, myReadObject.getValue(), 0.0);<br/>\n&gt; &gt;         } catch (FileNotFoundException e) {<br/>\n&gt; &gt;             fail(&quot;FileNotFoundException should not be thrown here.&#92;n&quot;+e);<br/>\n&gt; &gt;         }<br/>\n&gt; &gt;     }<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; Where my test class looks like:<br/>\n&gt; &gt;<br/>\n&gt; &gt; public class MyClass {<br/>\n&gt; &gt;     private String name;<br/>\n&gt; &gt;     private double value;<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public String getName(){<br/>\n&gt; &gt;         return &quot;&quot;+name;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public void setName(String name){<br/>\n&gt; &gt;         this.name = &quot;&quot;+name;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public double getValue(){<br/>\n&gt; &gt;         return value;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     public void setValue(double value){<br/>\n&gt; &gt;         this.value = value;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; To unsubscribe from this group, send an email to:<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> </span></blockquote></div>", 
    "prevInTime": 6646, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1042468675", 
    "canDelete": false, 
    "nextInTopic": 6649, 
    "prevInTopic": 6646, 
    "headers": {
        "messageIdInHeader": "PDNFMjJDRjQzLjFDMDFEQjE1QG50ZWxvcy5uZXQ+", 
        "referencesHeader": "PEZFRUFJRklNTEhMS0FKQ0VQT05IS0VIQkNGQUEubWdAcGhjLmRrPg=="
    }
}