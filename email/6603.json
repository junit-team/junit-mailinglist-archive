{
    "numMessagesInTopic": 15, 
    "nextInTime": 6604, 
    "senderId": "CWdv1sOgKg8qHPF7RCKZPbZPcDgc-E1NKdtNmlQl2tZRScL4nnFv9ssJj9vOPWAY8kVBT6x84D5iVA0MeGNN4YoShG_E2Y9MFiwDmMhMEcw", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Conditional tearDown()", 
    "from": "&quot;Jason Rogers&quot; &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "These are exceptional cases, right?  So, throw specific exceptions that you can then catch in your test. For instance, some of our tables prevent duplicate", 
    "msgId": 6603, 
    "profile": "jacaetev", 
    "topicId": 6589, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "messageBody": "<div id=\"ygrps-yiv-546699573\">These are exceptional cases, right?  So, throw specific exceptions that<br/>\nyou can then catch in your test.<br/>\n<br/>\nFor instance, some of our tables prevent duplicate records.  We catch<br/>\nthat particular case and report it as an exceptional case.  If that<br/>\nhappened to go wrong in the transaction when all else is fine we know it<br/>\nin the test (and we explicitly test for that).  On the same transaction<br/>\nthere could be an attempt to enter a string for a number field, we would<br/>\ncatch that as a separate exception and report it -- and of course we<br/>\nwould explicitly test for that case.<br/>\n<br/>\n=jason<br/>\n[:question | ^One] <br/>\n<br/>\n-----Original Message-----<br/>\nFrom: Brian &lt;br524@...&gt; [mailto:br524@...] <br/>\nSent: Friday, January 03, 2003 1:04 PM<br/>\nTo: junit@yahoogroups.com<br/>\nSubject: [junit] Re: Conditional tearDown()<br/>\n<br/>\n<br/>\nNo, you have a good point.<br/>\n<br/>\nThe problem is that my test writes to the database, then I call the<br/>\nmethod that I&#39;m unit testing which performs several database functions<br/>\nwithin a transaction, then I read from the database again to test the<br/>\nvalues.  The test could fail at any one of these three points.<br/>\n<br/>\nYour suggestion of cleaning up code though made me look at the<br/>\ntransactional method I was testing though...it turns out I was missing<br/>\na rollback() call, so thanks!  But that still doesn&#39;t solve the<br/>\nproblem I have with three points of failure within my test.  If you<br/>\nhave any ideas as to how to get around this, I&#39;m all ears.<br/>\n<br/>\n-Brian<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In junit@yahoogroups.com, &quot;Jason Rogers&quot; &lt;jacaetevha@f...&gt; wrote:<br/>\n&gt; Could you not use the opportunity to clean up your code such that<br/>\nyou<br/>\n&gt; don&#39;t need to visually inspect the DB?  I realize that there may be<br/>\n&gt; times when you absolutely need the visual inspection (though I can&#39;t<br/>\n&gt; think of one off the bat), nevertheless, this seems like a subtle<br/>\nform<br/>\n&gt; of test dependencies or spaghetti code, or some other code-smell. <br/>\nSorry<br/>\n&gt; if that sounds harsh -- I am certainly not trying to be judgemental,<br/>\n&gt; just reflective.<br/>\n&gt; <br/>\n&gt; =jason<br/>\n&gt; [:question | ^One] <br/>\n&gt; <br/>\n&gt; -----Original Message-----<br/>\n&gt; From: Kendall Collett [mailto:przkiie02@s...] <br/>\n&gt; Sent: Friday, January 03, 2003 12:41 PM<br/>\n&gt; To: junit@yahoogroups.com<br/>\n&gt; Subject: Re: [junit] Re: Conditional tearDown()<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I could use a conditional clean-up in tearDown, for exactly the same<br/>\n&gt; reason<br/>\n&gt; as Brian.<br/>\n&gt; <br/>\n&gt; When I first ran into this issue; I didn&#39;t think of trying to make<br/>\nthe<br/>\n&gt; tearDown() clean-up conditional.  Instead, I adopted a convention of<br/>\n&gt; having<br/>\n&gt; my setUp()s perform the clean-up for the next test.  In other<br/>\nwords, for<br/>\n&gt; a<br/>\n&gt; given test I do a pre-clean instead of a post-clean.  I&#39;m not sure<br/>\nif<br/>\n&gt; that&#39;s<br/>\n&gt; good or bad...<br/>\n&gt; <br/>\n&gt; Kendall<br/>\n&gt; <br/>\n&gt; ----- Original Message -----<br/>\n&gt; From: Brian br524-at-yahoo.com br524-at-yahoo.com |Yahoo Work<br/>\n20030102|<br/>\n&gt; To: XXXXXXXXXXXXXXXXXX<br/>\n&gt; Sent: Friday, January 03, 2003 10:47<br/>\n&gt; Subject: [junit] Re: Conditional tearDown()<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I only have one test in the TestCase, and if it fails, I want to<br/>\nleave<br/>\n&gt; the database in the state it was in when the test failed so I can<br/>\n&gt; inspect what happened.<br/>\n&gt; <br/>\n&gt; --- In junit@yahoogroups.com, Mike Clark &lt;mike@c...&gt; wrote:<br/>\n&gt; &gt; Brian  wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt;I see in the TestResult class there&#39;s a method wasSuccessful().<br/>\n&gt; From<br/>\n&gt; &gt; &gt;within class that extends TestCase, I want to do something like<br/>\n&gt; this:<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;    public void tearDown()<br/>\n&gt; &gt; &gt;    {<br/>\n&gt; &gt; &gt;        TestResult result = createResult();<br/>\n&gt; &gt; &gt;        if( result.wasSuccessful() )<br/>\n&gt; &gt; &gt;        {<br/>\n&gt; &gt; &gt;            System.out.println( &quot;Clearing database&quot; );<br/>\n&gt; &gt; &gt;            clearDatabase( &quot;1&quot; );<br/>\n&gt; &gt; &gt;        }<br/>\n&gt; &gt; &gt;    }<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Is this intended to be more efficient than just clearing the<br/>\n&gt; database<br/>\n&gt; &gt; every time the tearDown() method is invoked, or am I missing<br/>\n&gt; something?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Mike<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Yahoo! Groups Sponsor<br/>\n&gt; ADVERTISEMENT<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; junit-unsubscribe@yahoogroups.com<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\nService. <br/>\n&gt; <br/>\n&gt; ---<br/>\n&gt; Outgoing mail is certified Virus Free.<br/>\n&gt; Checked by AVG anti-virus system (http://www.grisoft.com).<br/>\n&gt; Version: 6.0.431 / Virus Database: 242 - Release Date: 12/17/2002<br/>\n<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\nADVERTISEMENT<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\njunit-unsubscribe@yahoogroups.com<br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. <br/>\n<br/>\n---<br/>\nOutgoing mail is certified Virus Free.<br/>\nChecked by AVG anti-virus system (http://www.grisoft.com).<br/>\nVersion: 6.0.431 / Virus Database: 242 - Release Date: 12/17/2002 </span></blockquote></div>", 
    "prevInTime": 6602, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1041618139", 
    "canDelete": false, 
    "nextInTopic": 6604, 
    "prevInTopic": 6602, 
    "headers": {
        "inReplyToHeader": "PGF2NGphZStjdXM1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAwMDMwMWMyYjM1NSQwZTFlNjQyMCQxZjljZDY4ZEBSSElOTz4="
    }
}