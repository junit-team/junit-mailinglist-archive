{
    "numMessagesInTopic": 3, 
    "nextInTime": 1008, 
    "senderId": "Rrm-hB6f2VlubHzwXL7pEkXUEkXHOXasEHsxLFkOR2UnTpxKV05G8_oivR9IVdj0lln2W2XiTS9WUaRT1866MiLaRfq1G-_Y5G_D9HCQFwmq", 
    "systemMessage": false, 
    "subject": "RE: [junit] Testing JOptionPane", 
    "from": "&quot;Logan, Daniel (ING)&quot; &lt;logand@...&gt;", 
    "authorName": "Logan, Daniel (ING)", 
    "msgSnippet": "Thanks for the help!  Your response made me rethink the implementation of the message box dialog. When I first did it, i used the", 
    "msgId": 1007, 
    "topicId": 1003, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-900162625\">Thanks for the help!  Your response made me rethink the implementation of<br/>\nthe message box dialog.<br/>\n<br/>\nWhen I first did it, i used the JOptionPane.showMessageDialog(...)  which is<br/>\neasy to code but did not result in something testable since you can&#39;t get<br/>\nahold of the JOptionPane or the JDialog that is generated from the call.<br/>\n<br/>\nTo implement the test I had to have my application panel keep a reference to<br/>\na JOptionPane and keep resetting it and showing it in a Dialog when needed.<br/>\n<br/>\ne.g.<br/>\n<br/>\nprotected JOptionPane messageOptionPane=JOptionPane();  //instance variable<br/>\n.<br/>\n.<br/>\n.<br/>\n//later on in the method that wants to display a message dialog <br/>\n.<br/>\nmessageOptionPane.setMessage(&quot;My message&quot;);<br/>\nmessageOptionPane.setValue(JOptionPane.UNINITIALIZED_VALUE);<br/>\nJOptionDialog dialog = messageOptionPane.createDialog(this,&quot;My Title&quot;);<br/>\ndialog.setVisible(true);<br/>\n<br/>\n<br/>\nThis then allows my test code to inspect the state of the messageOptionPane<br/>\nvia tests like:<br/>\nassertEquals(&quot;Did not pick the OK Button&quot;,new<br/>\nInteger(JOptionPane.OK_OPTION), messageOptionPane.getValue() );<br/>\n<br/>\n<br/>\nAlthough not quite as easy easy as a one line implementation the 3 or four<br/>\nlines to pop-up the dialog is not bad, and has the big side benefit of being<br/>\ntestable, and maybe even a small side benefit of being more memory freindly<br/>\nsince I don&#39;t create a new JOptionPane every time.<br/>\n<br/>\nThanks again.<br/>\n<br/>\n-----Original Message-----<br/>\nFrom: Joi Ellis [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joi@...\">joi@...</a>]<br/>\nSent: Friday, April 20, 2001 10:08 AM<br/>\nTo: &#39;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&#39;<br/>\nSubject: Re: [junit] Testing JOptionPane<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Fri, 20 Apr 2001, Logan, Daniel (ING) wrote:<br/>\n<br/>\n&gt; Since the JOptionPane.showMessageDialog(...) method presents a modal<br/>\ndialog<br/>\n&gt; and the thread halts execution until a user intervenes how can I test<br/>\nthis?<br/>\n<br/>\nI&#39;d stick the showMessageDialog() call within a SwingUtilities.invokeLater()<br/>\ncall.  This allows your test thread to continue operating.<br/>\n<br/>\n&gt; <br/>\n&gt; here is the test case I am struggling with:<br/>\n&gt; <br/>\n&gt; public void testInformationMessage( )<br/>\n&gt; {<br/>\n&gt; \tMyPanel panel = new MyPanel();<br/>\n&gt; \tpanel.someButton.doClick();   //MyPanel will listen for button click<br/>\n&gt; and show info message<br/>\n<br/>\nEek.  doClick() is not thread-safe.  I ended up writing a static clicker<br/>\nmethod:<br/>\n<br/>\n /**<br/>\n   * Safely call doClick() on the specified JButton.<br/>\n   * @param button The button to doClick().<br/>\n   */<br/>\n  public static void safeDoClick(final JButton button) {<br/>\n    try {<br/>\n      SwingUtilities.invokeAndWait(<br/>\n        new Runnable() {<br/>\n          public void run() {<br/>\n            button.doClick();<br/>\n          }<br/>\n        }<br/>\n      );<br/>\n    }<br/>\n    catch (Exception ex) {<br/>\n      ex.printStackTrace();<br/>\n    }<br/>\n  }<br/>\n<br/>\nI&#39;d do something like this pseudo-code:<br/>\n  <br/>\n  safeShowMessageDialog( panel );<br/>\n  sleep(1 second);<br/>\n  assert(panel.isVisible());<br/>\n  safeDoClick(panel.button);<br/>\n  sleep(1 second);<br/>\n  assert(! panel.isVisible());<br/>\n  assert(&quot;whatever happens after button is clicked&quot;,...);<br/>\n<br/>\nI don&#39;t like using sleep() since it&#39;s fragile but I haven&#39;t had any<br/>\ntrouble with it in a year&#39;s testing, so...  I prefer turning the test class<br/>\ninto an event listener and having it wait for events to arrive before<br/>\nproceeding.  I have an extension class that implements a bunch of <br/>\nlisteners and stuffs events into a queue for later inspection.<br/>\n<br/>\n&gt; \t// assert????????   what do I assert here....after returning from<br/>\n&gt; doClick it is to late because<br/>\n&gt; \t//the JOptionPane would be closed<br/>\n&gt; \t//furthermore...how will I even automate the click on the OK button<br/>\n&gt; within the JOptionPane<br/>\n&gt; \t//so it does not just hang indefinitely?<br/>\n&gt; }<br/>\n-- <br/>\nJoi Ellis                    Software Engineer<br/>\nAravox Technologies          <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joi@...\">joi@...</a>, <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:gyles19@...\">gyles19@...</a><br/>\n<br/>\nNo matter what we think of Linux versus FreeBSD, etc., the one thing I<br/>\nreally like about Linux is that it has Microsoft worried.  Anything<br/>\nthat kicks a monopoly in the pants has got to be good for something.<br/>\n           - Chris Johnson<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n <br/>\n<br/>\nYour use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> </span></blockquote></div>", 
    "prevInTime": 1006, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "987789328", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 1005, 
    "headers": {
        "messageIdInHeader": "PEZEQjAyNDBDQjE5RUQzMTFCRDhEMDA1MDhCNUJGNzRCMDcyQTEwNTNAVFdSUC1FWENILTAwMT4="
    }
}