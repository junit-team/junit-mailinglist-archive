{
    "numMessagesInTopic": 7, 
    "nextInTime": 23364, 
    "senderId": "XYDw7Y8P1kfPGqwAC58RTykuKpg-8No7fW298zx2ECpibJCa9yLTXBsAFTtLETecTpy92Ap_p0UUwbsL8_uhL4B2L514", 
    "systemMessage": true, 
    "subject": "Re: Unit Testing best practices", 
    "from": "&quot;Daniel&quot; &lt;dtoffe@...&gt;", 
    "authorName": "Daniel", 
    "msgSnippet": "Hi, Henrik, your answer is very complete and well thought, but right now I m doing just small personal projects and practice exercises for a course I m taking,", 
    "msgId": 23363, 
    "rawEmail": "Return-Path: &lt;dtoffe@...&gt;\r\nReceived: (qmail 917 invoked from network); 31 Mar 2011 12:27:35 -0000\r\nReceived: from unknown (66.196.94.107)\n  by m17.grp.re1.yahoo.com with QMQP; 31 Mar 2011 12:27:35 -0000\r\nReceived: from unknown (HELO n41b.bullet.mail.sp1.yahoo.com) (66.163.168.155)\n  by mta3.grp.re1.yahoo.com with SMTP; 31 Mar 2011 12:27:35 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1301574455; bh=JNQbxBlIroqKLnHFw27xA7f7qZuvRQRoiehfhWB5bxg=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:In-Reply-To:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=I0kx5xN/Srgk2aZcw/K6g3fHwe93RBtyFP74PjHKgMOe5oAubk6CSuY7e1A1irZXP7kol1ObpUlE8I+GCy8M7bqKGy9+nFHycXzPqdDi5kkxwYRjpcHwYV17TlLSzpeB\r\nReceived: from [69.147.65.173] by n41.bullet.mail.sp1.yahoo.com with NNFMP; 31 Mar 2011 12:27:35 -0000\r\nReceived: from [98.137.34.72] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 31 Mar 2011 12:27:35 -0000\r\nX-Sender: dtoffe@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 51015 invoked from network); 31 Mar 2011 11:52:56 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m7.grp.sp2.yahoo.com with QMQP; 31 Mar 2011 11:52:56 -0000\r\nX-Received: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta1.grp.sp2.yahoo.com with SMTP; 31 Mar 2011 11:52:56 -0000\r\nX-Received: from [69.147.65.151] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 31 Mar 2011 11:52:56 -0000\r\nX-Received: from [98.137.34.35] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 31 Mar 2011 11:52:56 -0000\r\nDate: Thu, 31 Mar 2011 11:52:54 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;in1pum+9evb@...&gt;\r\nIn-Reply-To: &lt;imnnnq+miu5@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Daniel&quot; &lt;dtoffe@...&gt;\r\nSubject: Re: Unit Testing best practices\r\nX-Yahoo-Group-Post: member; u=85419192; y=Mb5mgwd0J7EG7FhT7-3AsNEXGzF6MDvlGww6T0rcXEWB\r\nX-Yahoo-Profile: dtoffe\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 31 Mar 2011 12:27:33 -0000\r\n\r\nHi,\n\n    Henrik, your answer is very complete and well thought, but right n=\r\now I&#39;m doing just small personal projects and practice exercises for a cour=\r\nse I&#39;m taking, I think that much level of detail is a bit overkill for my n=\r\needs.\n\nThanks you !!\n\nDaniel\n\n--- In junit@yahoogroups.com, &quot;hkaipe&quot; &lt;hkaip=\r\ne@...&gt; wrote:\n&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; Hi Daniel\n&gt; \n&gt; I think you are right on tr=\r\nack when you recognize that &quot;validations on the input parameters, providing=\r\n defaults if the parameters are not valid&quot; will make &quot;the number of testing=\r\n methods&quot; skyrocket quickly when you want to &quot;test all variations of invali=\r\nd input on all three constructors&quot;.\n&gt; \n&gt; During the past ten years I have s=\r\npent some time thinking over similar problems myself and the fruit is a JUn=\r\nit-extension for parameterized tests - CallbackParams http://callbackparams=\r\n.org - that I released as open-source a couple of months ago. When using Ca=\r\nllbackParams for your Account example - a &quot;best practice&quot; could be ...\n&gt;  .=\r\n.. one test-class per constructor (similar to David&#39;s suggestion)\n&gt;  ... on=\r\ne enum(!) per constructor parameter (e.g. enum AccountId / enum OwnerName /=\r\n enum Balance)\n&gt;  ... one enum-constant for each value you would like to te=\r\nst\n&gt; \n&gt; To demonstrate this I have made the class &quot;TestAccount&quot;, which is c=\r\nommitted to the svn-repo:\n&gt; http://callbackparams.svn.sourceforge.net/viewv=\r\nc/callbackparams/trunk/junit4-tests/src/test/java/org/callbackparams/demo/T=\r\nestAccount.java?revision=3D18&view=3Dmarkup\n&gt; \n&gt; The test uses BddRunner (o=\r\nne of two JUnit-runner offered by CallbackParams) and has this general stru=\r\ncture:\n&gt; \n&gt; @RunWith(Suite.class)\n&gt; @...({\n&gt;  \tTestAccount.C=\r\nonstructor_1.class,\n&gt;  \tTestAccount.Constructor_2.class,\n&gt;  \tTestAccount.Co=\r\nnstructor_3.class})\n&gt; public class TestAccount {\n&gt; \n&gt;     @Retention(Retent=\r\nionPolicy.RUNTIME)\n&gt;     @interface ValidationFailure {String value();}\n&gt; \n=\r\n&gt; \n&gt;     @RunWith(BddRunner.class)\n&gt;     @CombineConfig(strategy=3DCombineC=\r\nompletely.class)\n&gt;     public static class Constructor_1 {\n&gt;         Accoun=\r\nt account;\n&gt;         String accountIdConstructorArg;\n&gt;         ...\n&gt;       =\r\n  @When void createAccount() {\n&gt;             account =3D new Account(accoun=\r\ntIdConstructorArg);\n&gt;         }\n&gt; \n&gt; \t@Then void verifyDefaults() {...}\n&gt; \n=\r\n&gt;         enum AccountId {\n&gt;             @ValidationFailure(...) ACCOUNT_ID=\r\n_NULL(null),\n&gt;             @ValidationFailure(...) ACCOUNT_ID_EMPTY(&quot;&quot;),\n&gt; =\r\n            ACCOUNT_ID_VALID(&quot;123456789-0&quot;),\n&gt;             @ValidationFailu=\r\nre(...) ACCOUNT_ID_INVALID(&quot;HM?&quot;);\n&gt;             ...\n&gt;             @Given v=\r\noid setupAccountIdConstructorArg(Constructor_1 test) {...}\n&gt;             @T=\r\nhen void verifyAccountId(Account account) {...}\n&gt;         }\n&gt;     }\n&gt; \n&gt; \n&gt;=\r\n     public static class Constructor_2 extends Constructor_1 {\n&gt;         St=\r\nring ownerNameConstructorArg;\n&gt; \n&gt;         @When @Override void createAccou=\r\nnt() {\n&gt;             account =3D new Account(accountIdConstructorArg, owner=\r\nNameConstructorArg);\n&gt;         }\n&gt; \n&gt;         @Then @Override void verifyDe=\r\nfaults() {...}\n&gt; \n&gt;         enum OwnerName {\n&gt;             ...\n&gt;           =\r\n  @Given void setupOwnerNameConstructorArg(Constructor_2 test) {...}\n&gt;     =\r\n        @Then void verifyOwnerName(Account account) {...}\n&gt;         }\n&gt;    =\r\n }\n&gt; \n&gt; \n&gt;     public static class Constructor_3 extends Constructor_2 {\n&gt; =\r\n        Double balanceConstructorArg;\n&gt;         ...\n&gt;         enum Balance =\r\n{\n&gt;             ...\n&gt;         }\n&gt;     }\n&gt; }\n&gt; \n&gt; Unlike traditional paramet=\r\nerized tests the parameter values are not primitive - instead they are enum=\r\n constants, which each has one @Given-method - for setting up the construct=\r\nor argument that the enum class concerns - and one @Then-method - for verif=\r\nying the resulting account. (There is no test-method that calls these metho=\r\nds - that is taken care of under-the-hood by BddRunner.) Please note that i=\r\nt is possible for individual enum-constants to override methods and this is=\r\n what the constants OWNER_NULL and BALANCE_NULL do in order to verify that =\r\nthe null-argument results in the proper default value.\n&gt; \n&gt; My test-example=\r\n has four constants per enum, i.e. there are four different values tested f=\r\nor each constructor parameter. Each test will pick exactly one enum-constan=\r\nt from each of its nested enum-classes. This means that Constructor_1 will =\r\nproduce four tests - one for each AccountId-constant. Constructor_2 produce=\r\ns 16 tests - one for each combination of OwnerName and AccountId, where the=\r\n enum AccountId will be available since it is nested by the super-class! Th=\r\nereafter Constructor_3 will produce one test for each possible combination =\r\nof AccountId, OwnerName and Balance etc ... This will result in a total of =\r\n84 tests, which will be named like this:\n&gt; \n&gt; Test-class TestAccount$Constr=\r\nuctor_1$BDD$ (4 tests)\n&gt;   test[ACCOUNT_ID_NULL]\n&gt;   test[ACCOUNT_ID_EMPTY]=\r\n\n&gt;   test[ACCOUNT_ID_VALID]\n&gt;   test[ACCOUNT_ID_INVALID]\n&gt; \n&gt; Test-class Te=\r\nstAccount$Constructor_2$BDD$ (16 tests)\n&gt;   test[ACCOUNT_ID_NULL, OWNER_DEF=\r\nAULT]\n&gt;   test[ACCOUNT_ID_NULL, OWNER_NULL]\n&gt;   test[ACCOUNT_ID_NULL, OWNER=\r\n_VALID]\n&gt;   test[ACCOUNT_ID_NULL, OWNER_NAME_INVALID]\n&gt;   test[ACCOUNT_ID_E=\r\nMPTY, OWNER_DEFAULT]\n&gt;   ...\n&gt;   test[ACCOUNT_ID_INVALID, OWNER_NAME_INVALI=\r\nD]\n&gt; \n&gt; Test-class TestAccount$Constructor_3$BDD$ - (64 tests)\n&gt;   test[ACC=\r\nOUNT_ID_NULL, OWNER_DEFAULT, BALANCE_DEFAULT]\n&gt;   test[ACCOUNT_ID_NULL, OWN=\r\nER_DEFAULT, BALANCE_NULL]\n&gt;   test[ACCOUNT_ID_NULL, OWNER_DEFAULT, BALANCE_=\r\n10000]\n&gt;   test[ACCOUNT_ID_NULL, OWNER_DEFAULT, BALANCE_NEGATIVE]\n&gt;   test[=\r\nACCOUNT_ID_NULL, OWNER_NULL, BALANCE_DEFAULT]\n&gt;   ...\n&gt;   test[ACCOUNT_ID_I=\r\nNVALID, OWNER_NAME_INVALID, BALANCE_NEGATIVE]\n&gt; \n&gt; So instead of having &quot;on=\r\ne single thing in each unit test&quot; we now have ~one single thing in each enu=\r\nm-constant~ and no test-method. For the &quot;all variations of invalid input on=\r\n all three constructors&quot;-thing - CallbackParams handles it by combining the=\r\n enum-constants.\n&gt; \n&gt; I may be somewhat biased :-) but from how you describ=\r\ne your intentions I think CallbackParams is what fits your needs.\n&gt; \n&gt; For =\r\nmore information on BddRunner: http://callbackparams.org/part1-maintain.htm=\r\nl#bdd\n&gt; \n&gt; The annotation @ValidationFailure is used to annotate each enum-=\r\nconstant that is expected to cause an exception. It is part of a Rule-based=\r\n pattern that is further described here:\n&gt; http://callbackparams.org/part2-=\r\nvalidate.html\n&gt; \n&gt; Greetings\n&gt; /Henrik Kaipe\n&gt; \n&gt; --- In junit@yahoogroups.=\r\ncom, &quot;Daniel&quot; &lt;dtoffe@&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi all,\n&gt; &gt; \n&gt; &gt;     I&#39;m rather new =\r\nto unit testing and after reading about best practices on the net and some =\r\nattempts on my own, I still have doubts, hope this is a right place to ask.=\r\n\n&gt; &gt;     Let&#39;s say I have an Account class with three fields, accountId, ow=\r\nnerName and balance. This class has three constructors:\n&gt; &gt; \n&gt; &gt; Account(St=\r\nring accountId)\n&gt; &gt; Account(String accountId, String ownerName)\n&gt; &gt; Account=\r\n(String accountId, String ownerName, Double balance)\n&gt; &gt; \n&gt; &gt;     and these=\r\n constructors have to do some validations on the input parameters, providin=\r\ng defaults if the parameters are not valid.\n&gt; &gt;     Now, let&#39;s say I want t=\r\no test all variations of invalid input on all three constructors, for examp=\r\nle:\n&gt; &gt; \n&gt; &gt; Account(null)\n&gt; &gt; Account(&quot;&quot;, null, 1575.0)\n&gt; &gt; \n&gt; &gt;     I&#39;ve =\r\nlearned that a best practice is to test one single thing in each unit test.=\r\n If I write my test as.\n&gt; &gt; \n&gt; &gt; testConstructor1AccountIdNull\n&gt; &gt; testCons=\r\ntructor1AccountIdEmpty\n&gt; &gt; testConstructor1AccountIdExampleValue\n&gt; &gt; etc,\n&gt;=\r\n &gt; \n&gt; &gt;     the number of testing methods skyrockets quickly.\n&gt; &gt;     So my=\r\n question is, am I doing it wrong, is there any other simpler best practice=\r\n to test all variations of input values ?\n&gt; &gt;     I&#39;ve seen the @Parameter =\r\nannotation in JUnit 4.x, can I use it with multiple constructors and data s=\r\nets in one unit testing class, or must I spread it into one class for each =\r\nconstructor and data array definition ?\n&gt; &gt; \n&gt; &gt; Thanks in advance,\n&gt; &gt; \n&gt; =\r\n&gt; Daniel\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "dtoffe", 
    "topicId": 23330, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 85419192, 
    "prevInTime": 23362, 
    "contentTrasformed": false, 
    "postDate": "1301572374", 
    "canDelete": false, 
    "nextInTopic": 23376, 
    "prevInTopic": 23350, 
    "headers": {
        "inReplyToHeader": "PGltbm5ucSttaXU1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGluMXB1bSs5ZXZiQGVHcm91cHMuY29tPg=="
    }
}