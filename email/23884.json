{
    "numMessagesInTopic": 2, 
    "nextInTime": 23885, 
    "senderId": "RiDseaap0RweAch-scb_nsErSvr6ytnGsbgY1ws0qgg-CxwIqCLz-enTIbQeQBU3e48roQCLGdvcSbfoN5lOiWmCIg", 
    "systemMessage": true, 
    "subject": "Re: [junit] Testing of OSGi declarative services", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Rene, Sorry for the late reply.  Unfortunately, I don t have a lot of experience with declarative services, so I can t be a lot of help.  Are there ", 
    "msgId": 23884, 
    "profile": "saffatgoogle", 
    "topicId": 23873, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "messageBody": "<div id=\"ygrps-yiv-254911069\">Rene,<br/>\n<br/>\nSorry for the late reply.  Unfortunately, I don&#39;t have a lot of experience<br/>\nwith declarative services, so I can&#39;t be a lot of help.  Are there<br/>\nOSGi-related lists that might be more helpful?  Have you found a solution?<br/>\n<br/>\n   David<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Sat, Apr 28, 2012 at 10:19 AM, . &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:tesco@...\">tesco@...</a>&gt; wrote:<br/>\n<br/>\n&gt; Hi,<br/>\n&gt;<br/>\n&gt; I&#39;m not able to test a OSGi declarative service with a JUnit Plugin Test<br/>\n&gt; in Eclipse.<br/>\n&gt;<br/>\n&gt; Although all necessary bundles (especially the Service, the Consumer<br/>\n&gt; with the JUnit Test class, org.eclipse.equinox.ds,<br/>\n&gt; org.eclipse.equinox.util, org.eclipse.jdt.junit.runtime and<br/>\n&gt; org.eclipse.pde.junit.runtime) are added to the Run Configuration of the<br/>\n&gt; Plugin Test and the bind/unbind methods are defined in the test class it<br/>\n&gt; comes to an Null Pointer Exception (the bind method seems to be not<br/>\n&gt; executed), if I access the Service attribute (e.g. public static<br/>\n&gt; IMyService myService) in a JUnit Test method.<br/>\n&gt;<br/>\n&gt; According to this site<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/7161338/using-osgi-declarative-services-in-the-context-of-a-junit-test\">http://stackoverflow.com/questions/7161338/using-osgi-declarative-services-in-the-context-of-a-junit-test</a><br/>\n&gt; the reason for this exception is that the OSGi framework is in a race<br/>\n&gt; condition with the JUnit tests runner context. The solution there to use<br/>\n&gt; a Count Down Latch that waits in a @Before method until the needed<br/>\n&gt; service (that should be tested) is binded, seems to be not working for<br/>\n&gt; me. In my case the await() method blocks infinitely, so the test will be<br/>\n&gt; never executed. On the other hand, if I define a maximum time to wait,<br/>\n&gt; e.g. await(10, TimeUnit.SECONDS), it comes after this time again to the<br/>\n&gt; Null Pointer Exception.<br/>\n&gt;<br/>\n&gt; What is the correct way to test a OSGi declarative service with JUnit?<br/>\n&gt;<br/>\n&gt; Any help is appreciated.<br/>\n&gt;<br/>\n&gt; Regards,<br/>\n&gt; Rene<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 23883, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1336656852", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23873, 
    "headers": {
        "inReplyToHeader": "PDRGOUJGQzY5LjEwMDA0MDlAZ214LmluZm8+", 
        "messageIdInHeader": "PENBTHJ3LVB4YUpqMjY3enhYS095WHd6NFpnYW8yTWV6bitwMWk2TGtyZEQ2WUNZQXJIQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDRGOUJGQzY5LjEwMDA0MDlAZ214LmluZm8+"
    }
}