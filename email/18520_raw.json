{
    "topicId": 18509, 
    "postDate": "1165600396", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Stephen Smith &lt;steve@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "ovu9-wl7cKUZ52EY3eEt4fAu0PNJzJRDOF0i2g9ztXAs_lY3i-mg5FP7ixoCjnWvs72Jown_-YkU50ZAY4-WfEtJMjc_Pn4rhkXbNvqbdjI", 
    "nextInTime": 18521, 
    "userId": 231973488, 
    "prevInTime": 18519, 
    "prevInTopic": 18519, 
    "headers": {
        "inReplyToHeader": "PDBFMEU5QUVDNjJEMUZDNDA4QjUwMjRCQ0ZEQTg4NkVBQUVGMkMxQHNsY2VzMDEuYWQuZmFzdC5ubz4=", 
        "messageIdInHeader": "PDQ1NzlBNjhDLjIwMzA2MDBAc3RlcGhlbi1zbWl0aC5jby51az4=", 
        "referencesHeader": "PDBFMEU5QUVDNjJEMUZDNDA4QjUwMjRCQ0ZEQTg4NkVBQUVGMkMxQHNsY2VzMDEuYWQuZmFzdC5ubz4="
    }, 
    "authorName": "Stephen Smith", 
    "numMessagesInTopic": 7, 
    "msgSnippet": "This question comes up time and again on this mailing list. For what it s worth, I think the idea of having a single assertion per test case is a noble design", 
    "contentTrasformed": false, 
    "msgId": 18520, 
    "nextInTopic": 18521, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;steve@...&gt;\r\nX-Sender: steve@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 47936 invoked from network); 8 Dec 2006 18:03:57 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m35.grp.scd.yahoo.com with QMQP; 8 Dec 2006 18:03:57 -0000\r\nReceived: from unknown (HELO smtp-out4.blueyonder.co.uk) (195.188.213.7)\n  by mta6.grp.scd.yahoo.com with SMTP; 8 Dec 2006 18:03:57 -0000\r\nReceived: from [172.23.170.136] (helo=anti-virus01-07)\n\tby smtp-out4.blueyonder.co.uk with smtp (Exim 4.52)\n\tid 1GsjuR-00063T-54\n\tfor junit@yahoogroups.com; Fri, 08 Dec 2006 17:53:19 +0000\r\nReceived: from [86.147.31.205] (helo=[192.168.1.2])\n\tby asmtp-out5.blueyonder.co.uk with esmtpa (Exim 4.52)\n\tid 1GsjuO-0006q4-LD\n\tfor junit@yahoogroups.com; Fri, 08 Dec 2006 17:53:17 +0000\r\nMessage-ID: &lt;4579A68C.2030600@...&gt;\r\nDate: Fri, 08 Dec 2006 17:53:16 +0000\r\nUser-Agent: Thunderbird 1.5.0.8 (Windows/20061025)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;0E0E9AEC62D1FC408B5024BCFDA886EAAEF2C1@...&gt;\r\nIn-Reply-To: &lt;0E0E9AEC62D1FC408B5024BCFDA886EAAEF2C1@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Stephen Smith &lt;steve@...&gt;\r\nReply-To: steve@...\r\nSubject: Re: [junit] Philosophical question--Multiple assertions in one test\n case\r\nX-Yahoo-Group-Post: member; u=231973488\r\n\r\nThis question comes up time and again on this mailing list. For what \nit&#39;s worth, I think the idea of having a single assertion per test case \nis a noble design aim, but it can be tough.\n\nWhen I struggle to encapsulate what I want to test in a single \nassertion, I extract my multiple assertions to a private method - and by \nmultiple I mean 2 or 3 assertions, tops. Beyond that, and it&#39;s a design \nsmell.\n--\nStephen Smith, MEng (Wales).\nhttp://www.stephen-smith.co.uk/\n\nDavid Jackman wrote:\n&gt; \n&gt; \n&gt; I do this as well. I always assert early on whatever assumptions my\n&gt; test code is making about its environment, with error messages that\n&gt; instruct the user what they need to do to fix the situation (or at least\n&gt; what&#39;s missing). It&#39;s a whole lot better to see one of those error\n&gt; messages than some other exception that occurred because an assumption\n&gt; wasn&#39;t valid. So, in your case, I would even say that every test should\n&gt; (in the setUp method if possible) verify that everything is in place\n&gt; with the DAO (if such verification is possible without actually changing\n&gt; the state). And any time a test does change the state of the system, it\n&gt; ought to verify that the state is as expected. It&#39;s basically the &quot;fail\n&gt; fast&quot; philosophy. As you say, it&#39;s good to limit the amount of state\n&gt; changes occurring in a single test, but sometimes it is necessary.\n&gt; \n&gt; ..David..\n&gt; \n&gt; ________________________________\n&gt; \n&gt; From: junit@yahoogroups.com &lt;mailto:junit%40yahoogroups.com&gt; \n&gt; [mailto:junit@yahoogroups.com &lt;mailto:junit%40yahoogroups.com&gt;] On Behalf Of\n&gt; shefehs\n&gt; Sent: Wednesday, December 06, 2006 1:52 PM\n&gt; To: junit@yahoogroups.com &lt;mailto:junit%40yahoogroups.com&gt;\n&gt; Subject: [junit] Philosophical question--Multiple assertions in one test\n&gt; case\n&gt; \n&gt; I&#39;ve read all over the place that it&#39;s a bad idea to include multiple\n&gt; assertions in one test case, but it seems to me that sometimes it&#39;s\n&gt; very useful. For example, I have a fairly straightforward DAO and I\n&gt; want to test the create method. But to really test it, I need to\n&gt; retrieve it afterwards and make sure it was successfully created. And\n&gt; I need to clean it up afterwards (or the test will fail next time I\n&gt; run it and try to create a duplicate), so I call my delete method.\n&gt; There I&#39;ve exercised 3 methods of my DAO, not just one. So it feels\n&gt; like it would save time to assert that each step of the process\n&gt; succeeded.\n&gt; \n&gt; Example:\n&gt; public void testEmployeeCRUD()\n&gt; throws Exception\n&gt; {\n&gt; int sizeBeforeAdding = em.listEmployees().size();\n&gt; _employeeId = em.createEmployee(_fname, _lname, _jobtitle);\n&gt; \n&gt; int sizeAfterAdding = em.listEmployees().size();\n&gt; log.debug(&quot;Created employee &quot; + _employeeId);\n&gt; //Make sure that the new list is longer than the old list\n&gt; assertTrue(&quot;Create employee failed&quot;, sizeAfterAdding&gt;sizeBeforeAdding);\n&gt; \n&gt; Employee emp = em.getEmployee(_employeeId);\n&gt; assertEquals(&quot;getEmployee failed&quot;, emp.getLName(), _lname);\n&gt; log.debug(&quot;Retrieved employee &quot; + emp.getLName());\n&gt; \n&gt; em.deleteEmployee(emp);\n&gt; \n&gt; int sizeAfterDelete = em.listEmployees().size();\n&gt; \n&gt; //Make sure that the length of the list after delete\n&gt; //is the same as it was before we added\n&gt; assertEquals(&quot;Delete employee failed&quot;, sizeAfterDelete,\n&gt; sizeBeforeAdding);\n&gt; log.debug(&quot;Deleted employee&quot;);\n&gt; }\n&gt; \n&gt; The preceding code works just fine. If the test fails, I&#39;d look in\n&gt; the failure message to see which part of it failed, and it seems like\n&gt; that&#39;s not too difficult. I know it&#39;s not following best practices\n&gt; because it calls 4 separate methods, but when I tried writing a test\n&gt; for each of those methods, I ended up either calling the other ones in\n&gt; the setup/teardown or by essentially recreating them in a sample data\n&gt; loading operation. I&#39;m trying to do good TDD and to convince a\n&gt; colleague who resists unit tests at all, so I don&#39;t want to do things\n&gt; &quot;wrong&quot; but I also don&#39;t want to make life tremendously more difficult\n&gt; without understanding the real reason behind the recommendations.\n&gt; \n&gt; Does anyone have any thoughts on this principle? I appreciate the\n&gt; intelligent exchanges I&#39;ve seen on the list in the past so I hope to\n&gt; get a thoughtful discussion going.\n&gt; \n&gt; Thanks very much!\n&gt; Julie\n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------------------------------------------\n&gt; \n&gt; No virus found in this incoming message.\n&gt; Checked by AVG Free Edition.\n&gt; Version: 7.5.432 / Virus Database: 268.15.15/579 - Release Date: 07/12/2006 13:31\n\n\n", 
    "subject": "Re: [junit] Philosophical question--Multiple assertions in one test case"
}