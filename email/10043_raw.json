{
    "numMessagesInTopic": 2, 
    "nextInTime": 10044, 
    "senderId": "1CcuWLMJLxKhzouFsGyYTG9KGm1n_472AyNL1pxzKN5ylmaGhBVOEbopzRf3hiknGLDjJ6FVMzairKwNMR-ljCPyxMXzmFExgtkupRwPT6WE", 
    "systemMessage": false, 
    "subject": "JUnit Group Test", 
    "from": "&quot;Andrew Wilson&quot; &lt;andrew@...&gt;", 
    "authorName": "Andrew Wilson", 
    "msgSnippet": "Gday, I wondered whether anyone had any comments on this, particular on whether you are interested in integrating into JUnit. I have been a fan of JUnit for a", 
    "msgId": 10043, 
    "rawEmail": "Return-Path: &lt;andrew@...&gt;\r\nReceived: (qmail 56319 invoked from network); 5 Dec 2003 07:30:32 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m4.grp.scd.yahoo.com with QMQP; 5 Dec 2003 07:30:32 -0000\r\nReceived: from unknown (HELO n27.grp.scd.yahoo.com) (66.218.66.83)\n  by mta4.grp.scd.yahoo.com with SMTP; 5 Dec 2003 07:30:26 -0000\r\nX-eGroups-Return: andrew@...\r\nReceived: from [66.218.67.134] by n27.grp.scd.yahoo.com with NNFMP; 05 Dec 2003 07:30:25 -0000\r\nX-Sender: andrew@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 35470 invoked from network); 5 Dec 2003 05:55:08 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m7.grp.scd.yahoo.com with QMQP; 5 Dec 2003 05:55:08 -0000\r\nReceived: from unknown (HELO n13.grp.scd.yahoo.com) (66.218.66.68)\n  by mta6.grp.scd.yahoo.com with SMTP; 5 Dec 2003 05:55:07 -0000\r\nReceived: from [66.218.67.158] by n13.grp.scd.yahoo.com with NNFMP; 05 Dec 2003 05:55:07 -0000\r\nDate: Fri, 05 Dec 2003 05:55:03 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: JUnit Group Test\r\nMessage-ID: &lt;bqp6jn+af0g@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Length: 5754\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-eGroups-Remote-IP: 66.218.66.68\r\nFrom: &quot;Andrew Wilson&quot; &lt;andrew@...&gt;\r\nX-Yahoo-Group-Post: member; u=164619628\r\nX-Yahoo-Profile: anewilson\r\nX-eGroups-Approved-By: geektank &lt;emeade@...&gt; via web; 05 Dec 2003 07:30:23 -0000\r\nX-eGroups-Remote-IP: 66.218.66.83\r\n\r\nGday, I wondered whether anyone had any comments on this, particular \non wh=\r\nether you are interested in integrating into JUnit.\n\nI have been a fan of J=\r\nUnit for a number of years now, having seen all \nits benefits in a number o=\r\nf projects at major Investment Banks.  \nHowever, as I wrote more tests I be=\r\ngan to see patterns emerging.  \nParticularly, I found that as my tests beca=\r\nme more complicated I \nrequired true objects rather than the simple \nsetUp/=\r\ntearDown/testMe/testMeToo type construction.  I noticed the \nfollowing:\n\n=\r\n=84h A lot of my test methods were very similar, testing with some \nslightl=\r\ny different parameters.  I wanted to define one generic test, \nnot many sim=\r\nilar ones.\n=84h I wanted the other tests to continue if one failed.  Note t=\r\nhat \nGroboUtils provides this sort of SoftAssert, but you need to define \ne=\r\nach test in a separate method.\n\nTo implement my tests you just have to impl=\r\nement one very simple \nInterface:\n\npublic interface GroupTestable {\n    /**=\r\n\n     * Usually this would look at an array or an XML file to count \nthe te=\r\nsts.\n     * @return How many tests there are\n     */\n    public int getNumb=\r\nerOfTests() throws Exception;\n\n    /**\n     * Again this would look at an a=\r\nrray or an XML file to get the \ntest name.\n     * @param testNo Get the nam=\r\ne of the test with the given number\n     */\n    public String getTestName(i=\r\nnt testNo) throws Exception;\n\n    /**\n     * Run a particular test, this wo=\r\nuld probably be getting data out \nof an\n     * array or an XML file to run =\r\nthe particular test.\n     * @param testNo The number of the test to run\n   =\r\n  */\n    public void runTest(int testNo) throws Exception;\n}\n\nHere is a ver=\r\ny simple sample implementation:\n\npublic class SampleGroupTest extends TestS=\r\nuite implements \nGroupTestable\n{\n    public static Test suite() throws Thro=\r\nwable {\n        return GroupTest.getTestSuite(new SampleGroupTest(), true);=\r\n\n    }\n\n    private SampleGroupTest() { /* do some useful set up for the \nt=\r\nests here */ }\n\n    public int getNumberOfTests() throws Exception { return=\r\n 3; }\n\n    public String getTestName(int i) throws Exception { \nreturn &quot;Tes=\r\nt &quot; + i; }\n\n    public void runTest(int i) throws Exception {\n        Syste=\r\nm.out.println(&quot;Running test # &quot; + i);\n        if(i=3D=3D0) {\n            As=\r\nsert.fail(&quot;Problem&quot;);\n        } else if(i=3D=3D1) {\n            throw new E=\r\nxception(&quot;Exception&quot;);\n        } else {\n            // Pass the final test.=\r\n\n        }\n    }\n}\n\nAnd if you run this in any standard Junit runner you wi=\r\nll get the \nfollowing output:\n\nFAILURES!!!\nTests run: 3,  Failures: 1,  Err=\r\nors: 1\n\nSo as expected, one test passed, one failed and one got an \nexcepti=\r\non.  The other tests continued after the first one failed and \nmultiple tes=\r\nts were run from a single method.\n\nThis code becomes more useful when you s=\r\ntart to define your tests \nusing Arrays or XML.  I managed to define 50 use=\r\nful tests to my \nserver in a single XML file.  Now, when I want to add a ne=\r\nw test, I \njust add some XML to the file and the new testcase runs \nautomat=\r\nically.  Imagine the mess if I had to add a new method for \neach test!\nSo h=\r\now do I do this trickery?\nWhat Im actually doing is overriding the runTest(=\r\n) method in TestCase \nto call my particular test., I would like to see this=\r\n code integrated \ninto JUnit or GroboUtils (I don=A1=A6t like maintaining i=\r\nnfrastructure).\n\npublic class GroupTest {\n    private static final Category=\r\n CAT =3D Category.getInstance\n(GroupTest.class.getName());\n\n    private sta=\r\ntic int counter =3D 0;    // A counter for which test we \nare on.\n    priva=\r\nte static GroupTestable suit; // The test suite we are \ntesting.\n    privat=\r\ne static boolean mShutdownAfterTests;\n\n    public static Test getTestSuite(=\r\nGroupTestable mySuit, boolean \nshutdownAfterTests) throws Exception {\n     =\r\n   mShutdownAfterTests =3D shutdownAfterTests;\n        suit =3D mySuit;\n   =\r\n     TestSuite ts =3D new TestSuite();\n        int noOfTests =3D suit.getNu=\r\nmberOfTests();\n        for(int i=3D0;i&lt;noOfTests;i++) {\n            ts.addT=\r\nestSuite(GenericTestCase.class);\n        }\n        GroupTest.counter =3D 0;=\r\n  // reset counter for running tests.\n        return ts;\n    }\n\n    public =\r\nstatic class GenericTestCase extends TestCase {\n        /**\n         * Cons=\r\ntructor with correct name.\n         */\n        public GenericTestCase(Strin=\r\ng name) throws Exception {\n            super(suit.getTestName(counter++));\n=\r\n         }\n\n        /**\n         * Override the run test method to call our=\r\n test method.\n         */\n        public void runTest() throws Exception {\n=\r\n            try {\n                String description =3D &quot;test #&quot; + counter=\r\n + &quot; : &quot; + \nsuit.getTestName(counter);\n                CAT.info(&quot;Running &quot; =\r\n+ description);\n                suit.runTest(counter++);\n                CA=\r\nT.info(&quot;Succeeded for &quot; + description);\n            } finally {\n           =\r\n     // See whether we should shut down for the last test.\n                =\r\nif(mShutdownAfterTests && counter =3D=3D \nsuit.getNumberOfTests() ) {\n     =\r\n               System.out.println(&quot;Calling exit&quot;);\n                    Shut=\r\ndownHandler.getInstance\n().shutdownServerCleanly();\n                }\n     =\r\n       }\n        }\n\n        /**\n         * Dummy to trick JUnit\n         */=\r\n\n        public void testDummy() throws Exception {\n            throw new E=\r\nxception(&quot;This should not be called - it is a \ndummy method required to foo=\r\nl JUnit&quot;);\n        }\n    }\n} \nConclusion \nIf you have a lot of tests which =\r\nlook very similar and you don=A1=A6t want \nto write a separate method for e=\r\nach one this might help you!  Because \nit implements the TestSuite interfac=\r\ne it will conform to all the \nstandard Junit architecture (eg. Maven, Cruis=\r\ne Control etc).\nBackground Reading\nhttp://www.junit.org =A1V Junit Website.=\r\n\nhttp://groboutils.sourceforge.net =A1V Junit extensio\n\n\n\n\n", 
    "profile": "anewilson", 
    "topicId": 10043, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 164619628, 
    "prevInTime": 10042, 
    "contentTrasformed": false, 
    "postDate": "1070603703", 
    "canDelete": false, 
    "nextInTopic": 10045, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGJxcDZqbithZjBnQGVHcm91cHMuY29tPg=="
    }
}