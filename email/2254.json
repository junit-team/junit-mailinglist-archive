{
    "numMessagesInTopic": 14, 
    "nextInTime": 2255, 
    "senderId": "rXHTizNO-k5801dWZcLb-WSt46N6bYPA4Twjbzw-mLkwbheXJEA5CgLCK_JSEMeZbT4uC7deRVTUYyT2tafZPABrFvY-BLv5t6o", 
    "systemMessage": false, 
    "subject": "Re: [junit] Need Advice on Unit Testing Pain", 
    "from": "Robert Leftwich &lt;digital@...&gt;", 
    "authorName": "Robert Leftwich", 
    "msgSnippet": "I have been using mock objects (in particular EasyMock - http://tammofreese.de/easymock/index.html, it s great!) to ease the sort of pain you are talking", 
    "msgId": 2254, 
    "topicId": 2251, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1587389866\">I have been using mock objects (in particular EasyMock - <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://tammofreese.de/easymock/index.html,\">http://tammofreese.de/easymock/index.html,</a> it&#39;s great!) to ease the sort of <br/>\npain you are talking about.<br/>\n<br/>\nI have found that using mock objects for the servlet specific classes <br/>\nenables me to easily test the page content (using XPath expressions on the <br/>\nDOM produced by the Java presentation classes) and the navigation, firstly <br/>\nby checking the links, etc in the page content and secondly by checking any <br/>\nredirection performed in the Java code. I am not doing J2EE (I use <br/>\nEnhydra/Barracuda servlets) so I don&#39;t know how easy it would be to setup <br/>\nthe mock objects for that environment but it is extremely simple, using <br/>\nEasyMock at least, to setup HttpRequest/Response/Session objects to enable <br/>\nthis sort of testing using JUnit.<br/>\n<br/>\nThe bonus of this approach is that you don&#39;t need to wait for any web <br/>\nenvironment to start-up before you can run the tests, so it is faster. In <br/>\naddition all the tests are purely JUnit-based, so there is no additional <br/>\ntesting frameworks to learn or keep up to date. Also, you can use <br/>\ntest-first design on all the layers in your application, even the app <br/>\nserver specific areas.<br/>\nThe drawbacks are firstly that it doesn&#39;t do functional testing, in the <br/>\nsense of complete end to end tests in the environment that will be used in <br/>\nproduction (but that isn&#39;t your problem). Secondly, EasyMock requires java <br/>\n1.3 which may be an issue for some people. Thirdly, it does take a little <br/>\ntime to setup the mock objects behavior, but nothing like the time it used <br/>\nto take me to setup HttpUnit tests.<br/>\n<br/>\nBy way of illustration, I found 5 bugs (admittedly somewhat obscure) on the <br/>\nfirst page I used this technique on, a login page that had been in <br/>\nproduction for some months, purely because it was easy to setup a number of <br/>\ndifferent scenarios in the mock objects that the login code used.<br/>\n<br/>\nHTH<br/>\n<br/>\nRobert<br/>\n<br/>\nPS The code I am testing is very much as thin as possible, I make heavy use <br/>\nof facades to make the ui/web server specific code as simple as I can, <br/>\noriginally in the hope that it couldn&#39;t possible break, so it wouldn&#39;t need <br/>\nunit testing. However, the recent releases I have made have had problems <br/>\nfound by QA in that thin layer (and only in that layer) that wasn&#39;t being <br/>\nunit tested, hence the use of mock objects.<br/>\n<br/>\n<br/>\nAt 04:37 AM 6/08/2001, Paul Hodgetts wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt;We are developing a J2EE-based web application, and we&#39;ve been<br/>\n&gt;getting better and better at our testing.  Recently we reached<br/>\n&gt;a pain threshold that&#39;s causing us to make a compromise trade<br/>\n&gt;off.  Perhaps you folks can offer some suggestions.<br/>\n&gt;<br/>\n&gt;The developers write unit test for all layers of the system,<br/>\n&gt;from the web pages to the smallest methods.  For most tests,<br/>\n&gt;we use JUnit and for the web tests we use HTTPUnit.<br/>\n&gt;<br/>\n&gt;The highest level of the web tests check for the page flow<br/>\n&gt;(link navigation) and for page contents.  These tests, written<br/>\n&gt;with HTTPUnit, are getting painful.  There is often a lot of<br/>\n&gt;set up needed (e.g., putting objects in the right state) to<br/>\n&gt;get to the point where the test can execute, as well as a lot<br/>\n&gt;of code to log in and navigate to the page where the test can<br/>\n&gt;run.  In some cases, the effort to write these tests is a<br/>\n&gt;significant percentage of the overall task efforts.<br/>\n&gt;<br/>\n&gt;Recently, developers have stopped writing these web tests,<br/>\n&gt;resorting to running the tests manually by hand.  Their<br/>\n&gt;reasoning is that the cost of writing the web tests is not<br/>\n&gt;justified by their benefits.  Others point out the issues<br/>\n&gt;with manual tests (inconsistent tests, the extra time to run<br/>\n&gt;them repeatedly, lack of documentation, etc.), and assert<br/>\n&gt;that the tests are worth the admittedly high costs.  We&#39;re<br/>\n&gt;having trouble reaching consensus.<br/>\n&gt;<br/>\n&gt;A related issue is that our QA folks have not been able to<br/>\n&gt;provide a suite of automated acceptance tests, which we<br/>\n&gt;presume should also test page navigation and contents as page<br/>\n&gt;of the user functionality tests.  They use a &quot;big&quot; testing<br/>\n&gt;tool (Seque), and we&#39;re not sure if we could use their tests<br/>\n&gt;in a day-to-day development environment, if they existed.<br/>\n&gt;<br/>\n&gt;So, in your opinion, should the developers be writing the web<br/>\n&gt;page navigation and contents tests?  IMHO, we should because<br/>\n&gt;this stuff can break, unless we can get QA to write them as<br/>\n&gt;part of the acceptance tests and we can share the tool to run<br/>\n&gt;them in the development environment.<br/>\n&gt;<br/>\n&gt;If so, should the tests be automated?  IMHO, they should for<br/>\n&gt;all the same reasons we automate any tests.<br/>\n&gt;<br/>\n&gt;Now, what about the cost?  Are there ways to reduce the costs<br/>\n&gt;of writing these type of tests?  Are there other tools we<br/>\n&gt;could be using?  At XPU, Lisa Crispin recommended WebART as<br/>\n&gt;a tool at this level.  I also heard discussion of patterns<br/>\n&gt;such as Object Mother for creating objects in a particular<br/>\n&gt;state for testing.  Comments here?<br/>\n&gt;<br/>\n&gt;Thanks much in advance for any suggestions.<br/>\n&gt;<br/>\n&gt;-Paul Hodgetts<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt;Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> </span></blockquote></div>", 
    "prevInTime": 2253, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "997049787", 
    "canDelete": false, 
    "nextInTopic": 2256, 
    "prevInTopic": 2253, 
    "headers": {
        "inReplyToHeader": "PDQuMi4yLjIwMDEwODA1MTA0NTI5LjAwYzY0ZWIwQG1haWwuenp5enh0ZWsuY29tPg==", 
        "messageIdInHeader": "PDUuMS4wLjE0LjAuMjAwMTA4MDYwNzM4MjAuMDNkNGY2ZTBAZHVhbD4=", 
        "referencesHeader": "PDk5NzAwODI5Ny41NjIuNjQ0NjgubDEwQHlhaG9vZ3JvdXBzLmNvbT4="
    }
}