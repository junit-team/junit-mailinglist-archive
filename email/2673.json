{
    "numMessagesInTopic": 13, 
    "nextInTime": 2674, 
    "senderId": "dvi6_M6NJxcXkCfmvnMlcsPfEhBIyM7WLEz4VJhHGgRtUWk0EibLkFm0Sh4k1GOcrt3UmGK5UcuR9u5Q5rcprBFNLOV0vBuuG3s", 
    "systemMessage": false, 
    "subject": "RE: [junit] Proper use of TestReult", 
    "from": "Shane Celis &lt;shane@...&gt;", 
    "authorName": "Shane Celis", 
    "msgSnippet": "I put together the following page in response to this discussion.  It was a feature I needed when I first started working with JUnit. Multiple Failures in a", 
    "msgId": 2673, 
    "topicId": 2662, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-669043126\">I put together the following page in response to this discussion.  It was a<br/>\nfeature I needed when I first started working with JUnit.<br/>\n<br/>\nMultiple Failures in a Singular Test &lt;<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.gnufoo.org/junit/index.html#failures\">http://www.gnufoo.org/junit/index.html#failures</a> &gt;<br/>\n<br/>\nThere has been a lot of discussion on the JUnit mailing list about allowing<br/>\nmultiple failures in a test. Some people insist that with the right amount<br/>\nof refactoring there should be no need to introduce this flexibility. I,<br/>\nhowever, found this wasn&#39;t the case. This restriction hampered my testing,<br/>\nas I had to reflect more upon the framework than my tests themselves. Being<br/>\nforced to choose between having only one assert per test which provided more<br/>\ninformation, rather than the more logical aggregations of asserts which<br/>\nprovided less information. <br/>\n<br/>\nThe change isn&#39;t radical by any means. It simply allows your tests to have<br/>\nmultiple failures attributed to them. Which means if you&#39;re say comparing a<br/>\ncollection of values, you get a report back of all the elements that didn&#39;t<br/>\nmatch, not just the first one that caused an AssertionFailureError to be<br/>\nthrown. <br/>\n<br/>\nI&#39;ve put together a patch &lt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.gnufoo.org/junit/junit3.7a.patch\">http://www.gnufoo.org/junit/junit3.7a.patch</a> &gt;<br/>\nagainst the 3.7 sources that you can apply. Or you can simply use this<br/>\njunit3.7a.jar &lt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.gnufoo.org/junit/junit3.7a.jar\">http://www.gnufoo.org/junit/junit3.7a.jar</a> &gt; (source is<br/>\nincluded in the jar). <br/>\n<br/>\nThe test I added to SimpleTest looks like this: <br/>\n<br/>\n    public void testMultipleFailures() {<br/>\n        fail(&quot;failing once&quot;);<br/>\n        fail(&quot;failing twice&quot;);<br/>\n        fail(&quot;failing once, again&quot;);<br/>\n    }<br/>\n<br/>\nRunning test runner presents the results as follows (stack traces have been<br/>\nremoved for sake of brevity): <br/>\n<br/>\n$ java -classpath junit3.7a.jar junit.textui.TestRunner<br/>\njunit.samples.SimpleTest<br/>\n.F.E.FF.FFF<br/>\nTime: 0.034<br/>\nThere was 1 error:<br/>\n1) testDivideByZero(junit.samples.SimpleTest)java.lang.ArithmeticException:<br/>\n/ by zero<br/>\nThere were 3 failures:<br/>\n1) testAdd(junit.samples.SimpleTest)junit.framework.AssertionFailedError<br/>\n2) testEquals(junit.samples.SimpleTest)junit.framework.AssertionFailedError:<br/>\nSize expected:&lt;12&gt; but was:&lt;13&gt;<br/>\n3) testEquals(junit.samples.SimpleTest)junit.framework.AssertionFailedError:<br/>\nCapacity expected:&lt;12.0&gt; but was:&lt;11.99&gt;<br/>\n4)<br/>\ntestMultipleFailures(junit.samples.SimpleTest)junit.framework.AssertionFaile<br/>\ndError: failing once<br/>\n5)<br/>\ntestMultipleFailures(junit.samples.SimpleTest)junit.framework.AssertionFaile<br/>\ndError: failing twice<br/>\n6)<br/>\ntestMultipleFailures(junit.samples.SimpleTest)junit.framework.AssertionFaile<br/>\ndError: failing once, again<br/>\n<br/>\nFAILURES!!!<br/>\nTests run: 4,  Failures: 3,  Errors: 1<br/>\n<br/>\n<br/>\nThe Swing and AWT TestRunner should work fine as well. The only<br/>\ninconsistency that this has introduced is the listing of failures may exceed<br/>\nthe number of failed tests displayed on the status line, which is slightly<br/>\nconfusing since they&#39;ve typically had a one to one correspondence until now.<br/>\n<br/>\n<br/>\n-shane (at) terraspring.com <br/>\n<br/>\n-----Original Message-----<br/>\nFrom: Laurent Duperval [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:lduperval@...\">lduperval@...</a>]<br/>\nSent: Monday, September 17, 2001 5:50 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: Re: [junit] Proper use of TestReult<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 14 Sep, Vladimir Bossicard wrote:<br/>\n&gt; One thing you have to understand is that when a assertion failed, the<br/>\n&gt; method is exited because an Error is thrown.  There is no way to avoid<br/>\n&gt; this unless you write your own JUnit app.  I don&#39;t think that it&#39;s what<br/>\n&gt; you want...<br/>\n&gt; <br/>\n<br/>\nRight.<br/>\n<br/>\n&gt; if you have 3 mendatory fields, you write 4 methods.  The first 3 test<br/>\n&gt; that you successfully see when fields are missing and the 4th to see if<br/>\n&gt; everything&#39;s fine when you have your 3 mendatory fields.  You have done<br/>\n&gt; quite the same thing (removing one field after another) but my approach is<br/>\n&gt; more simple.<br/>\n&gt; <br/>\n&gt; Remember: &quot;keep tests simple&quot;.  The more complicated the test code is, the<br/>\n&gt; more likely you introduce errors in the test code.  The goal of unit<br/>\n&gt; testing is not to debug your test code :-)<br/>\n&gt; <br/>\n<br/>\nMy problem with the 4 tests approach is that if for some reason the public<br/>\nAPI<br/>\nfor the tests change, I have to change n+1 test methods. Whereas if I<br/>\ncontain<br/>\neverything in a single test (as I&#39;m doing now) I only have to change it once<br/>\nwhen the public API changes (and yes, it has happened).<br/>\n<br/>\n&gt; to implement the simpliest tests possible:<br/>\n&gt; <br/>\n&gt; - use the setUp() method to create your data object<br/>\n&gt; - create 4 tests methods (in my example it&#39;s 4)<br/>\n&gt; - remove one single mendatory field at the beginning of each test method<br/>\n&gt; - call the fail() method to tell JUnit that something wrong happend<br/>\n&gt; <br/>\n<br/>\nI&#39;m just trying to concentrate all that in one test because I find<br/>\nCut&#39;n&#39;Paste to be error prone. In our case, we test data that has 12 or 14<br/>\nmandatory fields and 3 or 4 optional. Repeating the exact same code 18 times<br/>\nscreams REFACTORING! And to me a proper refactoring of such identical tests<br/>\nis<br/>\nto put it all in one method. I&#39;m just looking for a friendly way to show 8<br/>\nfailures if 8 of the test cases fail. So far, the best I&#39;ve come up with is<br/>\nto create a string with all the names of the fields that have failed and<br/>\nprint<br/>\nthem in the fail() call. But it&#39;s not very appealing visually.<br/>\n<br/>\nL<br/>\n<br/>\n-- <br/>\nLaurent Duperval &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:lduperval@...\">lduperval@...</a>&gt;<br/>\n<br/>\nBref. L&#39;affreuse déception pour mes auditeurs. Les malheureux. Sevrés du<br/>\nsuc de ma pensée. Soyons brave.<br/>\n                                             -Achille Talon<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n <br/>\n<br/>\nYour use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> </span></blockquote></div>", 
    "prevInTime": 2672, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1000774246", 
    "canDelete": false, 
    "nextInTopic": 2675, 
    "prevInTopic": 2670, 
    "headers": {
        "messageIdInHeader": "PDE3MUQzODFGQjREMkQzMTE5OThCMDBEMEI3M0VBQjEwODE4RDVGQHhjZnRlY2guY29tPg=="
    }
}