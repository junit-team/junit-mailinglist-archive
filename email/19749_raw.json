{
    "numMessagesInTopic": 3, 
    "nextInTime": 19750, 
    "senderId": "i2iTka8nw45Ck2gUIzwOOW1U5PA4xLpd_ImTVlH8tQzeT0gZliNMvdSXr841xSD1Vdk_V-vpg6sp0eUSLyNAb7D024DmPdD0HERwx-zQFryW4m0", 
    "systemMessage": true, 
    "subject": "Re: How to write Junit Test for Struts Validation Framework?", 
    "from": "=?iso-8859-1?B?zfXB6Luq?= &lt;hut@...&gt;", 
    "authorName": "ÍõÁè»ª", 
    "msgSnippet": "... Thanks for Kevin s reply and forgive my poor English. :) Exactly, now I am using struts-1.1.3i18n, I am trying to use Struts Test Case to write Junit test", 
    "msgId": 19749, 
    "rawEmail": "Return-Path: &lt;hut@...&gt;\r\nReceived: (qmail 57668 invoked from network); 17 Aug 2007 08:00:14 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m45.grp.scd.yahoo.com with QMQP; 17 Aug 2007 08:00:14 -0000\r\nReceived: from unknown (HELO n15c.bullet.sp1.yahoo.com) (69.147.64.120)\n  by mta14.grp.scd.yahoo.com with SMTP; 17 Aug 2007 08:00:14 -0000\r\nReceived: from [216.252.122.217] by n15.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 07:59:42 -0000\r\nReceived: from [66.218.69.6] by t2.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 07:59:37 -0000\r\nReceived: from [66.218.66.83] by t6.bullet.scd.yahoo.com with NNFMP; 17 Aug 2007 07:59:37 -0000\r\nX-Sender: hut@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 93226 invoked from network); 17 Aug 2007 07:38:55 -0000\r\nReceived: from unknown (66.218.66.71)\n  by m49.grp.scd.yahoo.com with QMQP; 17 Aug 2007 07:38:55 -0000\r\nReceived: from unknown (HELO n19a.bullet.sp1.yahoo.com) (69.147.64.130)\n  by mta13.grp.scd.yahoo.com with SMTP; 17 Aug 2007 07:38:55 -0000\r\nReceived: from [216.252.122.219] by n19.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 07:38:34 -0000\r\nReceived: from [66.218.69.6] by t4.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 07:38:34 -0000\r\nReceived: from [66.218.66.80] by t6.bullet.scd.yahoo.com with NNFMP; 17 Aug 2007 07:38:34 -0000\r\nDate: Fri, 17 Aug 2007 07:38:33 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fa3j9p+nisq@...&gt;\r\nIn-Reply-To: &lt;51d1b2de0708100855h3cd45314x41f73dfc8d4d766@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: =?iso-8859-1?B?zfXB6Luq?= &lt;hut@...&gt;\r\nSubject: Re: How to write Junit Test for Struts Validation Framework?\r\nX-Yahoo-Group-Post: member; u=300426891; y=SkICJt9Z3kDA1-GyZ83hiSaGhCaYJ_MU-bp81OYGGgWiw3v9yHp5b-Kr\r\nX-Yahoo-Profile: wanglinghua2008\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 17 Aug 2007 07:59:36 -0000\r\n\r\n--- In junit@yahoogroups.com, &quot;Kevin Lawrence&quot; &lt;kev.lawrence@...&gt; wrote:\n&gt;\n=\r\n&gt; On 8/9/07, =CD=F5=C1=E8=BB=AA &lt;hut@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Could anyone g=\r\nive some clues about how to write junit test for Struts\n&gt; &gt; validation fram=\r\nework?\n&gt; &gt;\n&gt; \n&gt; \n&gt; I have written exactly one test for a validation that us=\r\nes struts2\n&gt; annotations:\n&gt; \n&gt;   @Test\n&gt;   public void testEmailShouldMatch=\r\nRegex() throws Exception {\n&gt;     Method method =3D UpdateSettingsAction.cla=\r\nss.getMethod(&quot;getEmail&quot;);\n&gt;     RegexFieldValidator annotation =3D method.g=\r\netAnnotation(\n&gt; RegexFieldValidator.class);\n&gt; \n&gt;     assertThat(&quot;a@b.c&quot;, ma=\r\ntches(annotation.expression()));\n&gt;     assertThat(&quot;a@b&quot;, not(matches(annota=\r\ntion.expression())));\n&gt;     assertThat(&quot;ab.c&quot;, not(matches(annotation.expre=\r\nssion())));\n&gt;     assertThat(&quot;kevin@...&quot;, matches(annotation.expression()))=\r\n;\n&gt;   }\n&gt; \n&gt; \n&gt; -- \n&gt; Kevin\n&gt; \n&gt; http://www.junitfactory.com\n&gt; You send us =\r\ncode. We send you tests. For free.\n&gt; \n&gt; \n&gt; [Non-text portions of this messa=\r\nge have been removed]\n&gt;\n\nThanks for Kevin&#39;s reply and forgive my poor Engli=\r\nsh. :)\n\nExactly, now I am using struts-1.1.3i18n, I am trying to use Struts=\r\n\nTest Case to write Junit test for my currect validation framework.\n\nThis i=\r\ns my code from sample code of Struts Test case site.\nhttp://strutstestcase.=\r\nsourceforge.net/\n public void testHut() {\n        initStrutsTestContext();\n=\r\n        setRequestPathInfo(&quot;...&quot;);\n         this.setConfigFile(&quot;...&quot;)\n     =\r\n   //addRequestParameter(&quot;AT&quot;, &quot;EU&quot;);\n        addRequestParameter(&quot;username=\r\n&quot;, generateLargerThanXString(64));\n        // Do the related Action\n       =\r\n actionPerform();\n        verifyActionErrors(new String[] { &quot;errors.maxleng=\r\nth&quot; });\n    }\n\nValidation-rule.xml:\n\n...\n    &lt;validator name=3D&quot;maxlength&quot;\n=\r\n            classname=3D&quot;org.apache.struts.validator.FieldChecks&quot;\n         =\r\n      method=3D&quot;validateMaxLength&quot;\n         methodParams=3D&quot;java.lang.Objec=\r\nt,\n                       org.apache.commons.validator.ValidatorAction,\n   =\r\n                    org.apache.commons.validator.Field,\n                   =\r\n    org.apache.struts.action.ActionErrors,\n                       javax.ser=\r\nvlet.http.HttpServletRequest&quot;\n              depends=3D&quot;&quot;\n                  =\r\nmsg=3D&quot;errors.maxlength&quot;&gt;\n\n      &lt;/validator&gt;\n\nI got the exception trace :\n=\r\n\njunit.framework.AssertionFailedError: was expecting some error\nmessages, b=\r\nut received none.\n\tat servletunit.struts.Common.verifyActionMessages(Common=\r\n.java:84)\n\tat\nservletunit.struts.MockStrutsTestCase.verifyActionErrors(Mock=\r\nStrutsTestCase.java:765)\n\tat\ncom.webex.test.urlapi.profile.TestEditUserVali=\r\ndation.testHut(TestEditUserValidation.java:197)\n\tat sun.reflect.NativeMetho=\r\ndAccessorImpl.invoke0(Native Method)\n\tat\nsun.reflect.NativeMethodAccessorIm=\r\npl.invoke(NativeMethodAccessorImpl.java:39)\n...\n\nI have no idea what I have=\r\n missed.\n\nThank in advance for your help.\n\nRegards.\n\n-Hut\n\n\n\n\n", 
    "profile": "wanglinghua2008", 
    "topicId": 19736, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 300426891, 
    "prevInTime": 19748, 
    "contentTrasformed": false, 
    "postDate": "1187336313", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 19737, 
    "headers": {
        "inReplyToHeader": "PDUxZDFiMmRlMDcwODEwMDg1NWgzY2Q0NTMxNHg0MWY3M2RmYzhkNGQ3NjZAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGZhM2o5cCtuaXNxQGVHcm91cHMuY29tPg=="
    }
}