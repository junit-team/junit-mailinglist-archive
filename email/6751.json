{
    "numMessagesInTopic": 15, 
    "nextInTime": 6752, 
    "senderId": "zTRdm3XJ7Vdj48oK5AJDUZGfPBTPjfAfMS6zJC_DxrBpwSGOUe866DnuQoQVvlkW0y4hFUqUwpTrkParPhcJC6xrsc7AmQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] ** How to test objects that depend on other objects with mock objects **", 
    "from": "Kirill Maximov &lt;kir@...&gt;", 
    "authorName": "Kirill Maximov", 
    "msgSnippet": "... I d use such a trick: String basePath = System.getProperty( CONFIG_FILE_DIRECTORY ); if (basePath == null) basePath =", 
    "msgId": 6751, 
    "profile": "maxkir1", 
    "topicId": 6743, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 85102992, 
    "messageBody": "<div id=\"ygrps-yiv-1824467903\">On  0, &quot;tobemligado &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jasbell@...\">jasbell@...</a>&gt;&quot; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jasbell@...\">jasbell@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; I have a singleton called &quot;ConfigManager&quot;, where in its constructor <br/>\n&gt; it reads in a bunch of files from a directory and creates objectsfrom <br/>\n&gt; the files.  I am doing this because I want to say &quot;ConfigManager is <br/>\n&gt; not valid until these other objects have also been successfully <br/>\n&gt; created&quot;.  <br/>\n&gt; <br/>\n&gt; I want the &quot;ConfigManager&quot; to be able to read a directory full <br/>\n&gt; of &quot;bad files&quot; in some test scenarios, a directory full of &quot;good <br/>\n&gt; files&quot; in other test scenarios, and a directory full of &quot;good and bad <br/>\n&gt; files&quot; in yet other test scenarios.  Ultimately, the program will <br/>\n&gt; have to handle &quot;good and bad files&quot;,<br/>\n&gt; <br/>\n&gt; My problem is that I need to &quot;trick&quot; the &quot;ConfigManager&quot; into using <br/>\n&gt; the three directories in different test scenarios, but I dont want to <br/>\n&gt; alter the fact that all objects are created in &quot;ConfigManager&#39;s&quot; <br/>\n&gt; constructor.  Here is what is in the constructor for the <br/>\n&gt; singleton &quot;ConfigManager&quot;:<br/>\n&gt; ----------------------------------------------------<br/>\n&gt; String basePath = ServiceResources.CONFIG_FILE_DIRECTORY;<br/>\n&gt; setBaseDirectory(basePath);<br/>\n&gt; loadAllFilesFound(getBaseDirectory());<br/>\n&gt; loadConfigFilesFound(getAllFilesFoundList());<br/>\n&gt; ArrayList configList = createConfigurations(getConfigFilesFound());<br/>\n&gt; TriggerManager tm = TriggerManager.getInstance();<br/>\n&gt; ArrayList triggerList = tm.createTriggers(configList);<br/>\n&gt; tm.registerTriggers(triggerList);<br/>\n&gt; ----------------------------------------------------<br/>\n&gt; <br/>\n&gt; How can I switch the CONFIG_FILE_DIRECTORY value for testing when its <br/>\n&gt; in the constructor? <br/>\n<br/>\n </span></blockquote>  I&#39;d use such a trick:<br/>\n<br/>\n  String basePath = System.getProperty(&quot;CONFIG_FILE_DIRECTORY&quot;);<br/>\n  if (basePath == null)<br/>\n      basePath = ServiceResources.CONFIG_FILE_DIRECTORY;<br/>\n<br/>\n  Hope, this helps.<br/>\n  I don&#39;t think that creating a public constructor for singleton <br/>\n  only for testing purposes is Good Thing.<br/>\n<br/>\n  With kind regards,<br/>\n  KIR<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt; <br/>\n<br/>\n </span></blockquote>-- <br/>\nKirill Maximov aka KIR<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:kir@...\">kir@...</a> | <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.maxkir.com/\">http://www.maxkir.com/</a></div>", 
    "prevInTime": 6750, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1043640892", 
    "canDelete": false, 
    "nextInTopic": 6764, 
    "prevInTopic": 6750, 
    "headers": {
        "inReplyToHeader": "PGIxMHV0aCtudjQzQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwMTI3MDQxNDUyLkdBMTUwMjVAcXVlZW4uYWN0aW1pbmQuY29tPg==", 
        "referencesHeader": "PGIxMHV0aCtudjQzQGVHcm91cHMuY29tPg=="
    }
}