{
    "numMessagesInTopic": 7, 
    "nextInTime": 18523, 
    "senderId": "otMqWOWVAHa1eL_FjqG046zt1netBcSDuNHLa-vGcSZ6T2L8YekukkyBDApkgtceqqsfqPCPl1AYAfKyGj9WcqlIJFnvMrCxqjQ", 
    "systemMessage": false, 
    "subject": "Re: Philosophical question--Multiple assertions in one test case", 
    "from": "&quot;lancezant&quot; &lt;lancezant@...&gt;", 
    "authorName": "lancezant", 
    "msgSnippet": "Short answer: To my understanging, the intent of the rule is to test one thing in each test.  If it takes multiple assertions to do so, go for it. ", 
    "msgId": 18522, 
    "rawEmail": "Return-Path: &lt;lancezant@...&gt;\r\nReceived: (qmail 89807 invoked by uid 7800); 8 Dec 2006 20:18:53 -0000\r\nX-Sender: lancezant@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 46783 invoked from network); 8 Dec 2006 17:46:26 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m37.grp.scd.yahoo.com with QMQP; 8 Dec 2006 17:46:26 -0000\r\nReceived: from unknown (HELO n16c.bullet.sp1.yahoo.com) (69.147.64.123)\n  by mta10.grp.scd.yahoo.com with SMTP; 8 Dec 2006 17:46:26 -0000\r\nReceived: from [216.252.122.216] by n16.bullet.sp1.yahoo.com with NNFMP; 08 Dec 2006 17:44:26 -0000\r\nReceived: from [209.73.164.86] by t1.bullet.sp1.yahoo.com with NNFMP; 08 Dec 2006 17:44:26 -0000\r\nReceived: from [66.218.66.72] by t8.bullet.scd.yahoo.com with NNFMP; 08 Dec 2006 17:44:26 -0000\r\nDate: Fri, 08 Dec 2006 17:44:26 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;elc89q+43eo@...&gt;\r\nIn-Reply-To: &lt;el7agp+di2p@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;lancezant&quot; &lt;lancezant@...&gt;\r\nSubject: Re: Philosophical question--Multiple assertions in one test case\r\nX-Yahoo-Group-Post: member; u=291419863; y=46TI-9m2SRAeP40K9QNqOLquWS0kKBWg0y7rNaNfZynboQse\r\nX-Yahoo-Profile: lancezant\r\nX-eGroups-Approved-By: ddoss_2006 &lt;didoss@...&gt; via email; 8 Dec 2006 20:18:53 -0000\r\n\r\nShort answer:\nTo my understanging, the intent of the rule is to test one th=\r\ning in\neach test.  If it takes multiple assertions to do so, go for it.\n\nPh=\r\nilosophical rationale:\nHaving many separate tests offers several advantages=\r\n over having fewer\nbigger tests.  Having a smaller scope, smaller tests bet=\r\nter pinpoint\nany bugs they reveal.  When a small test fails, the others sti=\r\nll run,\nwhereas if a bigger test fails early, the later portions get skippe=\r\nd.\n With separate tests, you can add new tests without having to be too\ncar=\r\neful stitching them into the old ones.  You get the idea, it&#39;s\nsimply the m=\r\nodularity concept applied to tests.\n\nHence the heuristic that each test sho=\r\nuld test only one thing.  But\nwhat constitutes &quot;one thing&quot; can be subtle, a=\r\nnd should be approached\nthe same as for other modules.  That is to say, it&#39;=\r\ns best defined in\nterms of the function accomplished rather than the syntax=\r\n in which it\nis expressed.  From your example of testing a DAO, you probabl=\r\ny want\nto test the CRUD functions separately, but within, say, the update,\n=\r\nthe point is to test that all and only updated fields actually change.\n Tha=\r\nt will naturally lead to multiple assertions, and probably\nmultiple updates=\r\n of various field combinations.  Usually, it would be\nsilly to repeat the w=\r\nhole test for each field.\n\nThat said, when it comes to testing cross-field =\r\nrules and invariants,\nyou&#39;ll want separate tests for each, but the reason i=\r\ns that now you&#39;re\ntesting different things, not because you want to limit t=\r\nhe number of\nassert statements.  \n\nAs often happens, pithy one-line rules m=\r\nake great reminders of things\nwe already know, but poor explanations of ide=\r\nas that are new to us.  I\nthink this is a good example.\n\n--- In junit@yahoo=\r\ngroups.com, &quot;shefehs&quot; &lt;julie_sheffield@...&gt; wrote:\n&gt;\n&gt; I&#39;ve read all over t=\r\nhe place that it&#39;s a bad idea to include multiple\n&gt; assertions in one test =\r\ncase, but it seems to me that sometimes it&#39;s\n&gt; very useful. For example, I =\r\nhave a fairly straightforward DAO and I\n&gt; want to test the create method.  =\r\nBut to really test it, I need to\n&gt; retrieve it afterwards and make sure it =\r\nwas successfully created.  And\n&gt; I need to clean it up afterwards (or the t=\r\nest will fail next time I\n&gt; run it and try to create a duplicate), so I cal=\r\nl my delete method. \n&gt; There I&#39;ve exercised 3 methods of my DAO, not just o=\r\nne.  So it feels\n&gt; like it would save time to assert that each step of the =\r\nprocess\n&gt; succeeded.  \n&gt; \n&gt; Example:\n&gt;   public void testEmployeeCRUD()\n&gt;  =\r\n throws Exception\n&gt;   {\n&gt; \tint sizeBeforeAdding =3D em.listEmployees().size=\r\n();\n&gt; \t_employeeId =3D em.createEmployee(_fname, _lname, _jobtitle);\n&gt; \t\n&gt; =\r\n        int sizeAfterAdding =3D em.listEmployees().size();\n&gt;         log.de=\r\nbug(&quot;Created employee &quot; + _employeeId);\n&gt;         //Make sure that the new =\r\nlist is longer than the old list\n&gt; \tassertTrue(&quot;Create employee failed&quot;, si=\r\nzeAfterAdding&gt;sizeBeforeAdding);\n&gt;                \n&gt;         Employee emp =\r\n=3D em.getEmployee(_employeeId);\n&gt;         assertEquals(&quot;getEmployee failed=\r\n&quot;, emp.getLName(), _lname);\n&gt;         log.debug(&quot;Retrieved employee &quot; + emp=\r\n.getLName());\n&gt;                 \n&gt;         em.deleteEmployee(emp);\n&gt;       =\r\n          \n&gt;         int sizeAfterDelete =3D em.listEmployees().size();\n&gt;  =\r\n               \n&gt;         //Make sure that the length of the list after del=\r\nete \n&gt;         //is the same as it was before we added\n&gt;         assertEqua=\r\nls(&quot;Delete employee failed&quot;, sizeAfterDelete,\n&gt; sizeBeforeAdding);\n&gt;       =\r\n  log.debug(&quot;Deleted employee&quot;);\n&gt;     }\n&gt; \n&gt; The preceding code works just=\r\n fine.  If the test fails, I&#39;d look in\n&gt; the failure message to see which p=\r\nart of it failed, and it seems like\n&gt; that&#39;s not too difficult.  I know it&#39;=\r\ns not following best practices\n&gt; because it calls 4 separate methods, but w=\r\nhen I tried writing a test\n&gt; for each of those methods, I ended up either c=\r\nalling the other ones in\n&gt; the setup/teardown or by essentially recreating =\r\nthem in a sample data\n&gt; loading operation.  I&#39;m trying to do good TDD and t=\r\no convince a\n&gt; colleague who resists unit tests at all, so I don&#39;t want to =\r\ndo things\n&gt; &quot;wrong&quot; but I also don&#39;t want to make life tremendously more di=\r\nfficult\n&gt; without understanding the real reason behind the recommendations.=\r\n\n&gt; \n&gt; Does anyone have any thoughts on this principle?  I appreciate the\n&gt; =\r\nintelligent exchanges I&#39;ve seen on the list in the past so I hope to\n&gt; get =\r\na thoughtful discussion going.\n&gt; \n&gt; Thanks very much!\n&gt; Julie\n&gt;\n\n\n\n", 
    "profile": "lancezant", 
    "topicId": 18509, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 291419863, 
    "prevInTime": 18521, 
    "contentTrasformed": false, 
    "postDate": "1165599866", 
    "canDelete": false, 
    "nextInTopic": 18550, 
    "prevInTopic": 18521, 
    "headers": {
        "inReplyToHeader": "PGVsN2FncCtkaTJwQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGVsYzg5cSs0M2VvQGVHcm91cHMuY29tPg=="
    }
}