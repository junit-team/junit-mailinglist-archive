{
    "numMessagesInTopic": 5, 
    "nextInTime": 9647, 
    "senderId": "7kozKsGw0mz3ksvCUVpLD5_5rbh0HUPr7T7zk3n7BXDlOiOYKtToezxxEImyuIW3mR-ld0zOiezC90322mx5n5A8_jt04WR1J3EpXpZJvzlV", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: How would you test a code which is used in Multi-threaded context", 
    "from": "&quot;Kris Henderson&quot; &lt;khenderson@...&gt;", 
    "authorName": "Kris Henderson", 
    "msgSnippet": "Sal, I think I know why your test is failing.  I numbered the lines below, hopefully they won t get reformatted away when I send this.  You test is probably", 
    "msgId": 9646, 
    "rawEmail": "Return-Path: &lt;khenderson@...&gt;\r\nX-Sender: khenderson@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 11198 invoked from network); 6 Oct 2003 20:01:39 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m15.grp.scd.yahoo.com with QMQP; 6 Oct 2003 20:01:39 -0000\r\nReceived: from unknown (HELO out002.iad.hostedmail.net) (209.225.56.24)\n  by mta2.grp.scd.yahoo.com with SMTP; 6 Oct 2003 20:01:39 -0000\r\nReceived: from 10.158.10.20 by out002.iad.hostedmail.net (InterScan E-Mail VirusWall NT); Mon, 06 Oct 2003 16:01:33 -0400\r\nReceived: from ATL1VEXC005.usdom004.tco.tc ([10.158.7.208]) by atl1simr002.tco.tc with Microsoft SMTPSVC(5.0.2195.5329);\n\t Mon, 6 Oct 2003 16:01:20 -0400\r\nX-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0\r\ncontent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nSubject: RE: [junit] Re: How would you test a code which is used in Multi-threaded context\r\nDate: Mon, 6 Oct 2003 16:01:20 -0400\r\nMessage-ID: &lt;F7B16EB8984B14409ACB015F1326BB668816BC@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] Re: How would you test a code which is used in Multi-threaded context\r\nThread-Index: AcOMOlSVMsme0ACuRYC6ZarsvlhZqQACRC3g\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReturn-Path: khenderson@...\r\nX-OriginalArrivalTime: 06 Oct 2003 20:01:20.0468 (UTC) FILETIME=[9C505140:01C38C44]\r\nFrom: &quot;Kris Henderson&quot; &lt;khenderson@...&gt;\r\nX-Yahoo-Group-Post: member; u=90305179\r\nX-Yahoo-Profile: kris_556\r\n\r\nSal,\n\nI think I know why your test is failing.  I numbered the lines below,=\r\n\nhopefully they won&#39;t get reformatted away when I send this.  You test is\np=\r\nrobably executing in this order:\n\n9, 10, 11, 12, 6, 13, 7\n\nOr maybe this or=\r\nder\n\n9, 6, 11, 7, 12, 13\n\nBoth of which fail.\n\nI re-wrote the test and was =\r\nable to get it to pass.  Here&#39;s how I\nre-wrote it:\n    public void testGetA=\r\nndPutWithThread() throws Exception \n    {\n        final SynchronizedQueue s=\r\nynchronizedQueue =3D new\nSynchronizedQueue();\n        new Thread() \n       =\r\n {\n            public void run() \n            {\n                synchronize=\r\ndQueue.put(&quot;FirstElement&quot;);\n               synchronizedQueue.put(&quot;SecondEle=\r\nment&quot;);\n            }\n        }.start();\n        assertEquals(&quot;FirstElement=\r\n&quot;, synchronizedQueue.get());\n        assertEquals(&quot;SecondElement&quot;, synchron=\r\nizedQueue.get());\n        \n        synchronizedQueue.put(&quot;ThirdElement&quot;);\n =\r\n       assertEquals(&quot;ThirdElement&quot;, synchronizedQueue.get());\n    }\n\nI thin=\r\nk this is still testing what you want to test.  Give it a try and\nsee if it=\r\n works for you.\n\nKris\n\n\n&gt; \n&gt; -----Original Message-----\n&gt; From: shailesh401=\r\n [mailto:skadam@...] \n&gt; Sent: Monday, October 06, 2003 11:39 AM\n&gt;=\r\n To: junit@yahoogroups.com\n&gt; \n&gt; I have changes the code a to \n&gt;1.  public v=\r\noid testGetAndPutWithThread() throws Exception {\n&gt;2.          Vector elemen=\r\nts =3D new Vector();\n&gt;3.          final SynchronizedQueue synchronizedQueue=\r\n =3D new\nSynchronizedQueue();\n&gt;4.          new Thread() {\n&gt;5.              =\r\npublic void run() {\n&gt;6.                  assertEquals(&quot;FirstElement&quot;,\nsynch=\r\nronizedQueue.get());\n&gt;7.                  assertEquals(&quot;ThirdElement&quot;,\nsync=\r\nhronizedQueue.get());\n&gt;8.              }\n&gt;9.          }.start();\n&gt;10.      =\r\n   synchronizedQueue.put(&quot;FirstElement&quot;);\n&gt;11.         synchronizedQueue.pu=\r\nt(&quot;SecondElement&quot;);\n&gt;12.         assertEquals(&quot;SecondElement&quot;, synchronized=\r\nQueue.get());\n&gt;13.         synchronizedQueue.put(&quot;ThirdElement&quot;);\n&gt;14.     =\r\n}\n&gt; \n&gt; -------------------------------------------------------------------\n=\r\n&gt; \n&gt; Now when i run the test it has a random behavior\n&gt; \n&gt; i get the error\n=\r\n&gt; junit.framework.AssertionFailedError: expected:&lt;FirstElement&gt; but \n&gt; was:=\r\n&lt;SecondElement&gt;\n&gt; junit.framework.AssertionFailedError: expected:&lt;SecondEle=\r\nment&gt; but \n&gt; was:&lt;FirstElement&gt;\n&gt; \n&gt; \n&gt; How would i write the test code to =\r\nmake sure the order of put and get\n&gt; \n&gt; \n&gt; Thanks\n&gt; Sal\n&gt; \n&gt; \n&gt; \n&gt; --------=\r\n---------------- Yahoo! Groups Sponsor \n&gt; ---------------------~--&gt;\n&gt; Buy I=\r\nnk Cartridges or Refill Kits for your HP, Epson, Canon or Lexmark\n&gt; Printer=\r\n at MyInks.com. Free s/h on orders $50 or more to the \n&gt; US & Canada.\n&gt; htt=\r\np://www.c1tracking.com/l.asp?cid=3D5511\n&gt; http://us.click.yahoo.com/mOAaAA/=\r\n3exGAA/qnsNAA/5cFolB/TM\n&gt; -------------------------------------------------=\r\n-------------\n&gt; -------~-&gt;\n&gt; \n&gt; To unsubscribe from this group, send an ema=\r\nil to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Grou=\r\nps is subject to \n&gt; http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n&gt; \n&gt; \n\n", 
    "profile": "kris_556", 
    "topicId": 9641, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 90305179, 
    "prevInTime": 9645, 
    "contentTrasformed": false, 
    "postDate": "1065470480", 
    "canDelete": false, 
    "nextInTopic": 9648, 
    "prevInTopic": 9645, 
    "headers": {
        "messageIdInHeader": "PEY3QjE2RUI4OTg0QjE0NDA5QUNCMDE1RjEzMjZCQjY2ODgxNkJDQEFUTDFWRVhDMDA1LnVzZG9tMDA0LnRjby50Yz4="
    }
}