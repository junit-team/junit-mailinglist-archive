{
    "numMessagesInTopic": 22, 
    "nextInTime": 21291, 
    "senderId": "KBW5T6hzMvLLq8IDkjCBmGBff_RtufoKIe2juqt_Y-5ijOeX2sjr4te5DxU0bc41bbjm1Yxm-6Tie0DT0m43bp-KZU_7nDikGLojd8lH5bM", 
    "systemMessage": false, 
    "subject": "Re: Runner for non static inner class in JUnit 4.x", 
    "from": "&quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;", 
    "authorName": "Lasse Koskela", 
    "msgSnippet": "David, I m not sure if I misinterpreted the below solution but from my perspective the perfect solution would be to make JUnit look for a runner from the", 
    "msgId": 21290, 
    "rawEmail": "Return-Path: &lt;lasse.koskela@...&gt;\r\nX-Sender: lasse.koskela@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 68553 invoked from network); 15 Jan 2009 08:14:52 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m45.grp.scd.yahoo.com with QMQP; 15 Jan 2009 08:14:52 -0000\r\nX-Received: from unknown (HELO n18c.bullet.sp1.yahoo.com) (69.147.64.129)\n  by mta16.grp.scd.yahoo.com with SMTP; 15 Jan 2009 08:14:52 -0000\r\nX-Received: from [69.147.65.147] by n18.bullet.sp1.yahoo.com with NNFMP; 15 Jan 2009 08:14:52 -0000\r\nX-Received: from [66.218.67.88] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 15 Jan 2009 08:14:52 -0000\r\nDate: Thu, 15 Jan 2009 08:14:51 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gkmr9r+3mhq@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90901140546l63cf5302g2ef1e17c1ae5c1f9@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;\r\nSubject: Re: Runner for non static inner class in JUnit 4.x\r\nX-Yahoo-Group-Post: member; u=190530936; y=xWF5w5wz3kebb40QMA4fb0QOwaHpn9n6R7zIoEIx6IsTTUYQR1GW\r\nX-Yahoo-Profile: lassekoskela\r\n\r\nDavid,\n\nI&#39;m not sure if I misinterpreted the below solution but from my\nper=\r\nspective the perfect solution would be to make JUnit look for a\nrunner from=\r\n the declaring class of a non-static inner class. The\nrationale being that =\r\nthis would be the only change necessary - the\nfeature would be immediately =\r\nsupported by all IDEs and build tools.\n\nLasse\n\n--- In junit@yahoogroups.com=\r\n, &quot;David Saff&quot; &lt;david@...&gt; wrote:\n&gt;\n&gt; All,\n&gt; \n&gt; It would seem that the perf=\r\nect solution would be:\n&gt; \n&gt; 1) The ability to add to the default Runner bui=\r\nlder\n&gt; 2) A command-line flag to configure #1\n&gt; 3) An Eclipse setting to se=\r\nt #2\n&gt; \n&gt; It sounds like everyone who is requesting this feature is a user =\r\nof\nJDave,\n&gt; and a quick Eclipse setting would give them everything they wan=\r\nt. \nIt would\n&gt; also allow users of other JUnit-based frameworks to do simil=\r\nar things.\n&gt; Thoughts?\n&gt; \n&gt;    David Saff\n&gt; \n&gt; On Wed, Jan 14, 2009 at 3:42=\r\n AM, Lasse Koskela &lt;lasse.koskela@...&gt;wrote:\n&gt; \n&gt; &gt; Hi David, Tuomas,\n&gt; &gt;\n&gt;=\r\n &gt; I&#39;m not exactly unbiased either, having submitted a couple of patches\n&gt; =\r\n&gt; for JDave back in the day and just having joined a project that has\n&gt; &gt; 5=\r\n000+ JDave tests.\n&gt; &gt;\n&gt; &gt; With that said, I don&#39;t think the increase in com=\r\nplexity that we&#39;re\n&gt; &gt; talking about here is all that big. If you don&#39;t spe=\r\ncify a runner\n&gt; &gt; (non-static inner class), one is inherited from one level=\r\n up\n&gt; &gt; (declaring class).\n&gt; &gt;\n&gt; &gt; Again, I might be biased but I sure woul=\r\nd like to be able to run just\n&gt; &gt; one of the tests.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Lasse\n&gt; &gt;\n&gt;=\r\n &gt; --- In junit@yahoogroups.com, &quot;David Saff&quot; &lt;david@&gt; wrote:\n&gt; &gt; &gt; Do you =\r\nthink the overall ease of use to people who need this feature\n&gt; &gt; will be\n&gt;=\r\n &gt; &gt; worth a 20% increase in complexity for everyone who needs to\n&gt; &gt; under=\r\nstand the\n&gt; &gt; &gt; default running rules?\n&gt; &gt; &gt;\n&gt; &gt; &gt;    David Saff\n&gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; On Wed, Dec 31, 2008 at 3:08 AM, tuomaskarkkainenri &lt;\n&gt; &gt; &gt; tuomaskarkkai=\r\nnenri@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; hey David,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; i uploaded the patc=\r\nh as a file,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\nhttp://f1.grp.yahoofs.com/v1/c=\r\nBhbSQYycXqWtmfu6mA5iis6I67Qo0Itb3lfEH-tMTD2PqfQBWFNQwiqbje7jxu7yGSHFHijEoZP=\r\nnMvQpZtq0gohmbE9pzSYXRseJ5ewyt0/nonstaticinnerclasses.patch\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;=\r\n or if that link is relative to my session it&#39;s\n&gt; &gt; &gt; &gt; nonstaticinnerclass=\r\nes.patch under files here in Yahoo Groups.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; in JUnit4 speak:=\r\n\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; public class RegularJunit4 {\n&gt; &gt; &gt; &gt;  public class NonStat=\r\nicInnerClass {\n&gt; &gt; &gt; &gt;    @Test\n&gt; &gt; &gt; &gt;    public void testMethod() {\n&gt; &gt; &gt;=\r\n &gt;    }\n&gt; &gt; &gt; &gt;  }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; running testMethod() is not po=\r\nssible since NonStaticInnerClass\ncannot\n&gt; &gt; &gt; &gt; be instantiated from the ou=\r\ntside.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; in JDave:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;  @RunWith(JDaveRunner.clas=\r\ns)\n&gt; &gt; &gt; &gt;  public static class ASpec extends Specification&lt;Void&gt; {\n&gt; &gt; &gt; &gt;=\r\n    public class AContext {\n&gt; &gt; &gt; &gt;      public void aBehavior() {}\n&gt; &gt; &gt; &gt;=\r\n    }\n&gt; &gt; &gt; &gt;  }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; AContext is instantiated by SpecRunner whi=\r\nch JDaveRunner\ndelegates to.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; When I run this with current J=\r\nUnit,\n&gt; &gt; &gt; &gt; AllDefaultPossibilitiesBuilder#runnerForClass(final Class&lt;?&gt;\n=\r\n&gt; &gt; &gt; &gt; testClass) picks out the @RunWith annotation and uses that to\nrun m=\r\ny\n&gt; &gt; &gt; &gt; spec(test class).\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; However if I want to run just a=\r\n single behavior (test method) from\n&gt; &gt; &gt; &gt; this spec for example from Ecli=\r\npse.  Eclipse tells JUnit to\nrun class\n&gt; &gt; &gt; &gt; ASpec.AContext and method aB=\r\nehavior JUnit then sees what\nbuilder it\n&gt; &gt; &gt; &gt; should use for AContext, an=\r\nd doesn&#39;t find the annotation there and\n&gt; &gt; &gt; &gt; tries to use the regular JU=\r\nnit4 builder and since it&#39;s a JDave\nspec it\n&gt; &gt; &gt; &gt; fails to run.\n&gt; &gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; &gt; What I want to do is: in case AllDefaultPossibilitiesBuilder\nnotices=\r\n\n&gt; &gt; &gt; &gt; that the TestClass is a non-static member class, which it has no\n&gt;=\r\n &gt; &gt; &gt; chance of being able run anyway, it checks whether the\ndeclaring cla=\r\nss\n&gt; &gt; &gt; &gt; of the testclass would be able to run it instead.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; In the case of JDave, the declaring class would have the @RunWith\n&gt; &gt; &gt; &gt;=\r\n annotation, and with the Filter created by FilterRequest,\nJDave can\n&gt; &gt; &gt; =\r\n&gt; then choose which Context and Spec it should actually allow to\nrun.\n&gt; &gt; &gt;=\r\n &gt;\n&gt; &gt; &gt; &gt; br,\n&gt; &gt; &gt; &gt; Tuomas\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --- In junit@yahoogroups.com,=\r\n &quot;David Saff&quot; &lt;david@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; JDave is cool.  I&#39;m not 1=\r\n00% clear what you want to do, and\nI don&#39;t\n&gt; &gt; &gt; &gt; see the\n&gt; &gt; &gt; &gt; &gt; patch.=\r\n  Could you perhaps include a small test case as\ninline text?\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt;=\r\n &gt; &gt; &gt;    David Saff\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; On Tue, Dec 30, 2008 at 10:27 AM, =\r\ntuomaskarkkainenri &lt;\n&gt; &gt; &gt; &gt; &gt; tuomaskarkkainenri@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt;   I participate in JDave (http://jdave.org). A BDD framework\n&gt; &gt; for =\r\nJava\n&gt; &gt; &gt; &gt; &gt; &gt; that takes advantage of JUnit for example for Eclipse\ninte=\r\ngration.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; We have tests in non-static inner classes =\r\nof our test classes.\n&gt; &gt; These\n&gt; &gt; &gt; &gt; &gt; &gt; run wonderfully using the @RunWi=\r\nth annotation and our own\nrunner.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; however, for indi=\r\nvidual tests, this doesn&#39;t work. What I would\n&gt; &gt; like\n&gt; &gt; &gt; &gt; &gt; &gt; to do is=\r\n that AllDefaultPossibilitiesBuilder would check\n&gt; &gt; whether or\n&gt; &gt; &gt; &gt; &gt; &gt;=\r\n not the test class is a non static member class. if it is,\nthen I\n&gt; &gt; &gt; &gt; =\r\n&gt; &gt; would grab the runner of the declaring class instead.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; &gt; &gt; I made a patch implementing this. I will try to attach it.\n&gt; &gt; &gt; &gt; &gt;=\r\n &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; [Non-text portions=\r\n of this message have been removed]\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; ------------------------------------\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yahoo! Groups Links=\r\n\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text portions of th=\r\nis message have been removed]\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; -----------------------=\r\n-------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; \n&gt; \n&gt; [Non-text=\r\n portions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "lassekoskela", 
    "topicId": 21238, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190530936, 
    "prevInTime": 21289, 
    "contentTrasformed": false, 
    "postDate": "1232007291", 
    "canDelete": false, 
    "nextInTopic": 21291, 
    "prevInTopic": 21288, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwMTE0MDU0Nmw2M2NmNTMwMmcyZWYxZTE3YzFhZTVjMWY5QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGdrbXI5ciszbWhxQGVHcm91cHMuY29tPg=="
    }
}