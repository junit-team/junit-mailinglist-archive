{
    "numMessagesInTopic": 16, 
    "nextInTime": 8376, 
    "senderId": "j5zuTQ3nUc-9y6JhZOCwR1Y_zeHlwluWyQhOWN4Bf9kag0UagsxrUMgYKFh-T0Pck8js2KVO6ZcSJi4O6XDSX8aK7kfw6qvOX-_MUCxyXQ", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Fork each test method?", 
    "from": "&quot;Robert DiFalco&quot; &lt;rdifalco@...&gt;", 
    "authorName": "Robert DiFalco", 
    "msgSnippet": "... No, not really. I don t expect to be able to convince you but if you have caches, or thread pools, or whatever that are scoped to the runtime instance", 
    "msgId": 8375, 
    "rawEmail": "Return-Path: &lt;rdifalco@...&gt;\r\nReceived: (qmail 30005 invoked by uid 7800); 17 Jun 2003 23:15:15 -0000\r\nX-Sender: rdifalco@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 19925 invoked from network); 17 Jun 2003 22:58:57 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m12.grp.scd.yahoo.com with QMQP; 17 Jun 2003 22:58:57 -0000\r\nReceived: from unknown (HELO mail.tripwire.com) (12.33.17.140)\n  by mta3.grp.scd.yahoo.com with SMTP; 17 Jun 2003 22:58:57 -0000\r\nReceived: from seabass.tripwire.com (unverified [10.1.1.24]) by mail.tripwire.com\n (Content Technologies SMTPRS 4.3.6) with ESMTP id &lt;T62e2e74101c0a8c0054a8@...&gt; for &lt;junit@yahoogroups.com&gt;;\n Tue, 17 Jun 2003 16:00:01 -0700\r\nX-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0\r\ncontent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nSubject: RE: [junit] Re: Fork each test method?\r\nDate: Tue, 17 Jun 2003 15:58:54 -0700\r\nMessage-ID: &lt;CFDDEB3B870EE346BB583D2B0420F5AC3B9491@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] Re: Fork each test method?\r\nThread-Index: AcM1IC7R061fo6XTTgicycAJXAUxOwAADK8g\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nFrom: &quot;Robert DiFalco&quot; &lt;rdifalco@...&gt;\r\nX-Yahoo-Group-Post: member; u=35850082\r\nX-Yahoo-Profile: robert_difalco\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via email; 17 Jun 2003 23:15:15 -0000\r\n\r\n&gt;&gt; I would think that the easiest way to zero out all the\n&gt;&gt; caches is to c=\r\nreate new cache objects. \n\nNo, not really. I don&#39;t expect to be able to con=\r\nvince you but if you\nhave caches, or thread pools, or whatever that &quot;are sc=\r\noped to the\nruntime instance they were created in&quot;, the easiest and in fact=\r\n the most\ncorrect way to reinitialize them is to create a new runtime insta=\r\nnce.\nThe saddest thing is that there is no reason in production to &quot;zero ou=\r\nt\nall caches&quot;. Even having such a method indicates (to me) a design flaw.\nA=\r\nfter all, I don&#39;t expect the value of an immutable object (say an\nInteger) =\r\nto suddenly change during the life of that object. \n\n&gt;&gt; If a class uses a c=\r\nache, then that class should either\n&gt;&gt; accept the cache from the outside wo=\r\nrld or be unaware\n&gt;&gt; that it&#39;s using a cache at all.\n\nYou are working too h=\r\nard at this. Things seem simpler to me. For\nexample, from what you say I am=\r\n going to assume that you never use\nstring constants in your code. There is=\r\nn&#39;t that much of a difference. I\nsuppose you use a decorator that caches st=\r\nrings and then you make a call\non each access of the string (possibly looki=\r\nng in a map?) instead of\nsimply caching the constant string reference as a =\r\nstatic final? Really,\nthere is no difference between that and this:\n\n class=\r\n Something\n {\n     private static final Identity FOO_CLASS_ID =3D\nClassRegi=\r\nstry.identify( Foo.class );\n\n     ...\n }\n\nFOO_CLASS_ID is scoped to the run=\r\ntime instance it was created in. It is\nimmutable for the life of the runtim=\r\ne. These may be generated by a\ndatabase, created by a synchronized static i=\r\nnt, GUID generator or\nwhatever. It doesn&#39;t really matter. The contract is t=\r\nhat they are good\nfor the life of the Runtime. So it makes sense to hide th=\r\nem just as you\nwould any other immutable constant -- say a string. The only=\r\n reason to\nimpose a hash look up on every access is, well, I dunno. For tes=\r\nting?\n\nNow, if you suddenly invalidate those identities or flush the\nClassR=\r\negistry, you are in deep trouble. What is the simplest solution?\n&quot;Don&#39;t do =\r\nthat.&quot; What is the most complicated solution? &quot;Create a bunch\nof rigging th=\r\nat has no value save for unit tests that are unable to\ncreate new runtime i=\r\nnstances on each run.&quot; Think about it. Details and\nAbstraction are one thin=\r\ng, this is another. For me, there is nothing\nworse than seeing designs that=\r\n are overly complicated (obfuscated in\nfact) for no other reason than to se=\r\nrve a principle. Liskov\nSubstitution, Law of Demeter, Coupling and Cohesion=\r\n, Shunts, Mock\nObjects, Decorators....these are all good and wonderful thin=\r\ngs.  All\nimportant tools. However, they are capable of improving code or ma=\r\nking\ncode horribly obfuscated and ugly. At this point in its evolution,\npro=\r\ngramming is much more like music than science. You can kill the feel\nof the=\r\n code by being too pedantic.\n\nGoogle &quot;Simplicity&quot;.\n\nRobert\n\n-----Original M=\r\nessage-----\nFrom: J. B. Rainsberger [mailto:jbrains@...] \nSent: Tues=\r\nday, June 17, 2003 3:30 PM\nTo: junit@yahoogroups.com\nSubject: Re: [junit] R=\r\ne: Fork each test method?\n\n\n&gt;So said robert_difalco on 2003-06-16 ---------=\r\n----------- Sure, loosely\n\n&gt;coupled systems are great, definitely a goal. H=\r\nowever, sometimes \n&gt;certain things just are coupled, like a subclass to it&#39;=\r\ns superclass. \n&gt;The class data for the superclass should exist before the s=\r\nubclass, \n&gt;etc.\n\nWhy should the class have its own data?\n\n&gt;Also, sometimes =\r\nthe more loosely coupled something is, the HARDER it\n&gt;is to reset it&#39;s cach=\r\ned data (across all interactions). And I guess \n&gt;this is really the problem=\r\n. I want to zero out all cached data \n&gt;without having to know about the cou=\r\nplings that were created \n&gt;dynamically.\n\nI would think that the easiest way=\r\n to zero out all the caches is to\ncreate new cache objects. That&#39;s the poin=\r\nt of a loosely-coupled system.\nIf a class uses a cache, then that class sho=\r\nuld either accept the cache\nfrom the outside world or be unaware that it&#39;s =\r\nusing a cache at all.\n\nCaching is more of an extra service that should be i=\r\nmplemented as a\nDecorator. The application should decide to add caching whe=\r\nn it strings\nobjects together to form the application. Either that or compo=\r\nnents\nshould make caching configurable.\n\nGoogle &quot;Abstraction and detail&quot;.\n\n=\r\nTake care.\n\n\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s =\r\nwrite software that people understand.\nhttp://www.diasparsoftware.com/\ntele=\r\nphone: +1 416 791-8603\n\n\n\nTo unsubscribe from this group, send an email to:=\r\n\njunit-unsubscribe@yahoogroups.com\n \n\nYour use of Yahoo! Groups is subject =\r\nto\nhttp://docs.yahoo.com/info/terms/ \n\n\n\n", 
    "profile": "robert_difalco", 
    "topicId": 8358, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 35850082, 
    "prevInTime": 8374, 
    "contentTrasformed": false, 
    "postDate": "1055890734", 
    "canDelete": false, 
    "nextInTopic": 8376, 
    "prevInTopic": 8374, 
    "headers": {
        "messageIdInHeader": "PENGRERFQjNCODcwRUUzNDZCQjU4M0QyQjA0MjBGNUFDM0I5NDkxQHNlYWJhc3MudHJpcHdpcmUuY29tPg=="
    }
}