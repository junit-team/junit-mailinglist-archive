{
    "numMessagesInTopic": 6, 
    "nextInTime": 3153, 
    "senderId": "HrZaK26jXGmRjSU7Q6ijyKd8iwvTdlWGyMS-u3zLwbJDFJRHVqaVcii0rUPCKPBPFmJSJ7eX_juuaK4TqkjAcM8CeYjR", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Behavior of tearDown and exceptions", 
    "from": "Eric Vought &lt;evought@...&gt;", 
    "authorName": "Eric Vought", 
    "msgSnippet": "It looks like Matt may have just misread your question. I agree that junit should handle this case better. Both exceptions should always be printed. The", 
    "msgId": 3152, 
    "rawEmail": "Return-Path: &lt;evought@...&gt;\r\nX-Sender: evought@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_0_1); 31 Oct 2001 22:54:14 -0000\r\nReceived: (qmail 7443 invoked from network); 31 Oct 2001 22:54:14 -0000\r\nReceived: from unknown (10.1.10.27)\n  by 10.1.1.222 with QMQP; 31 Oct 2001 22:54:14 -0000\r\nReceived: from unknown (HELO ral.qlue.com) (65.201.137.7)\n  by mta2 with SMTP; 31 Oct 2001 22:54:14 -0000\r\nReceived: from brain.qlue-lan (brain.qlue-lan [192.168.1.55])\n\tby ral.qlue.com (Postfix) with ESMTP id 09FB21CE6B\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 31 Oct 2001 17:54:00 -0500 (EST)\r\nDate: Wed, 31 Oct 2001 17:54:00 -0500 (EST)\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Re: Behavior of tearDown and exceptions\r\nIn-Reply-To: &lt;FD6B0244766DD5118AC000306E00B0B12F0D27@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.30.0110311747190.1865-100000@...-lan&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: Eric Vought &lt;evought@...&gt;\r\nX-Yahoo-Profile: eric_vought\r\n\r\nIt looks like Matt may have just misread your question.\n\nI agree that junit should handle this case better. Both exceptions should\nalways be printed. The modifications to the code should not be hard.\n\nOn the other hand, in most cases, this behavior *also* indicates a bug in\nyour test code. Since the point of testing is to discover bugs, your\nteardown should assume that testcase errors will occur and should not\ndepend on any testcase having completed. Always test the state in your\nteardown before taking action.\n\nOn Wed, 31 Oct 2001, Di Iorio, Matthew (ISS Atlanta) wrote:\n\n&gt; Thanks for the reply.  Your proposed solution would not solve the problem I\n&gt; am trying to address.  My situation is the following:\n&gt;\n&gt; 1. My test method throws an exception.  This exception indicates the real\n&gt; problem.\n&gt; 2. My tearDown method throws an exception.  This exception is caused by an\n&gt; invalid state because my test method did not run all way through.\n&gt;\n&gt; This is a problem because of #2.  The way the JUnit framework is written,\n&gt; any exception coming out of tearDown will mask any exception coming out of a\n&gt; test method.\n&gt;\n&gt; Remember that fail() is really just a method that throws an\n&gt; AssertionFailedError.  So, your solution below will still cause the\n&gt; exception thrown from tearDown to mask the exception thrown by fail() in the\n&gt; test method.\n&gt;\n&gt; In my case the exception thrown in the test method is the root of the\n&gt; problem.  But, I can&#39;t see that exception without modifying my code to print\n&gt; the exception.  Once I fix the problem, I have to go back and remove the\n&gt; code I added to print the exception.\n&gt;\n&gt; Matt\n&gt;\n&gt; -----Original Message-----\n&gt; From: nils_khare@... [mailto:nils_khare@...]\n&gt; Sent: Friday, October 26, 2001 7:12 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Re: Behavior of tearDown and exceptions\n&gt;\n&gt;\n&gt; Hi Matt,\n&gt;\n&gt; JUnit behaves in the following way for catching Exceptions and a\n&gt; little modification in the test code would help solving your problem.\n&gt;\n&gt; 1) public void testFoo() throws SomeDBException{\n&gt;      //Some code that would throw SomeDBException\n&gt;    }\n&gt;\n&gt; JUnit would automatically catch the Exception and display that as an\n&gt; Error (denoted by E in the output). In the description below it would\n&gt; give details about this Exception.\n&gt;\n&gt; 2) public void testFoo(){\n&gt;       try{\n&gt;         //Some code that would throw SomeDBException\n&gt;       }\n&gt;       catch(SomeDBException e){\n&gt;         //Option I  - Nothing\n&gt;         //Option II -\n&gt;         fail(&quot;SomeDBException caught&quot;);\n&gt;       }\n&gt;\n&gt; In this second case when SomeDBException is thrown with Option I,\n&gt; JUnit would assume that you are trying to catch this Exception and\n&gt; assuming that this is a negative test would &#39;PASS&#39; the test.\n&gt;\n&gt; In this second case when Option II is put into effect by giving a\n&gt; specific fail() command, JUnit makes the method to &#39;FAIL&#39;.\n&gt;\n&gt; Out of the two of the above, if you are really not interested in\n&gt; catching the Exeption then it should be just declared to be thrown\n&gt; and not explicitly caught and then JUnit would give you the result\n&gt; the way you want it.\n&gt;\n&gt; If you are doing this all and still getting the mentioned\n&gt; SomeDBException then that means something needs to be investigated\n&gt; further.\n&gt;\n&gt; I would never modify the Production code in order to make my tests\n&gt; pass or fail.\n&gt;\n&gt; - Nilesh\n&gt;\n&gt; --- In junit@y..., &quot;Di Iorio, Matthew (ISS Atlanta)&quot; &lt;mdiiorio@i...&gt;\n&gt; wrote:\n&gt; &gt; Laurent&#39;s message about tearDown getting called reminded me of\n&gt; something\n&gt; &gt; I&#39;ve wanted to post to the list.\n&gt; &gt;\n&gt; &gt; A few weeks back I was working with some database tests and was\n&gt; getting odd\n&gt; &gt; behavior.  It took me a little while to figure it out, but what was\n&gt; &gt; happening was a test method was throwing an exception because of\n&gt; some\n&gt; &gt; database error.  The tearDown method attempted to cleanup after the\n&gt; test and\n&gt; &gt; it also threw a database exception.  All I got back was the\n&gt; exception that\n&gt; &gt; occurred in tearDown, not the exception that occurred in the test\n&gt; method.\n&gt; &gt;\n&gt; &gt; It was a real pain because I had to modify the production code to\n&gt; catch and\n&gt; &gt; print the exception so I could uncover the actual problem.\n&gt; &gt;\n&gt; &gt; My preferred solution would be to print both exceptions.  If I get\n&gt; an\n&gt; &gt; exception in testFoo and in tearDown, JUnit should print the\n&gt; following:\n&gt; &gt;\n&gt; &gt; 1) testFoo(net.iss.FooTest)\n&gt; &gt; java.lang.Exception\n&gt; &gt; \tat ...\n&gt; &gt; Exception in tearDown:\n&gt; &gt; java.lang.Exception\n&gt; &gt; \tat ...\n&gt; &gt;\n&gt; &gt; I would be willing to put together a patch to do this.  Comments?\n&gt; &gt;\n&gt; &gt; Matt\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n-- \nEric Vought\nChief Technical Officer - QLUE Consulting, Inc.\n\nevought@... toll-free: 888-771-3538  RTP area: 919-816-9901\n\n\n", 
    "profile": "eric_vought", 
    "topicId": 3084, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "prevInTime": 3151, 
    "contentTrasformed": false, 
    "postDate": "1004568840", 
    "canDelete": false, 
    "nextInTopic": 3157, 
    "prevInTopic": 3151, 
    "headers": {
        "inReplyToHeader": "PEZENkIwMjQ0NzY2REQ1MTE4QUMwMDAzMDZFMDBCMEIxMkYwRDI3QG1zZ2F0bDA3Lmlzcy5uZXQ+", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMzAuMDExMDMxMTc0NzE5MC4xODY1LTEwMDAwMEBicmFpbi5xbHVlLWxhbj4="
    }
}