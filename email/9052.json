{
    "numMessagesInTopic": 11, 
    "nextInTime": 9053, 
    "senderId": "PlPf3ygIg3eAUe8gMh33fWge4Fbyx4Acsokcqi31aenvN7gvCCT7R9Pd1yVyD42MHqFG9TVKybA5lib1eAHYyVLOTmnPEOXrByplfab6oQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] a question about abstract/parameterised tests", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "...  ... You don t need to generate a subclass of AbstractTestGraph, although that would be helpful. You can just use a dynamic invocation handler to", 
    "msgId": 9052, 
    "profile": "nails762", 
    "topicId": 9015, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-2075049494\"><blockquote><span title=\"ireply\">&gt;So said Chris Dollin on 2003-08-07 --------------------<br/>\n </span></blockquote>&lt;snip /&gt;<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; You have an abstract test case AbstractTestGraph. There are a bunch of<br/>\n&gt;&gt; implementations (subclasses) of Graph. You want to be able to generate on<br/>\n&gt;&gt; the fly test cases for each implementation (subclass) of Graph.<br/>\n&gt;<br/>\n&gt;Yes. Specifically I don&#39;t want to have to write out essentially the same<br/>\n&gt;code<br/>\n&gt;once for each test subclass; the concrete test class differ only in their<br/>\n&gt;names<br/>\n&gt;(incidental, although useful when they fail ...) and in the class of<br/>\n&gt;object they<br/>\n&gt;instantiate (some subclass of Graph).<br/>\n&gt;<br/>\n&gt;&gt; If that is what you want, then it shouldn&#39;t be that hard. Create a<br/>\n&gt;&gt; TestSuite object consisting of dynamic subclasses of AbstractTestGraph,<br/>\n&gt;&gt; each of which overrides makeGraph() to answer its particular<br/>\n&gt;implementation<br/>\n&gt;&gt; of Graph. As I wrote, dynamic invocation handlers should do the job.<br/>\n&gt;<br/>\n&gt;It&#39;s generating those dynamic subclasses of AbstractTestGraph that&#39;s the<br/>\n&gt;problem for me. Am I missing something in the reflection API? <br/>\n<br/>\n </span></blockquote>You don&#39;t need to generate a subclass of AbstractTestGraph, although that would be helpful. You can just use a dynamic invocation handler to implement the Test interface directly. This sounds like a wonderful thing for me to try to do, so I will.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; &gt;What&#39;s important is not to be able to create a suite of them all<br/>\n&gt;(although<br/>\n&gt;&gt; &gt;that might be nice), but to be able to trivially able to create a suite<br/>\n&gt;&gt; &gt; for each one to be plugged into the locally appropriate test-cases.<br/>\n&gt;&gt;<br/>\n&gt;&gt; You want to generate code? or generate the implementation at runtime?<br/>\n&gt;<br/>\n&gt;The latter - as an implementation of &quot;write concise code which does the<br/>\n&gt;job&quot;.<br/>\n<br/>\n<br/>\n&gt;<br/>\n&gt;&gt; &gt;[When I say &quot;suite&quot; am I being sloppy? I really mean &quot;a test that runs<br/>\n&gt;&gt; &gt;lots of tests&quot;.]<br/>\n&gt;&gt;<br/>\n&gt;&gt; Tests don&#39;t run tests. TestRunners run tests.<br/>\n&gt;<br/>\n&gt;I really mean &quot;a test that when run results in the running of lots of<br/>\n&gt;tests.&quot;<br/>\n<br/>\n </span></blockquote>That&#39;s a suite: a Test that contains other Tests. (Test == interface junit.framework.Test)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; &gt;So far as I can tell, it would be easy in Java if classes nested inside<br/>\n&gt;&gt; &gt;methods<br/>\n&gt;&gt; &gt;were allowed to be public. I suspect the restriction was not reviewed<br/>\n&gt;when<br/>\n&gt;&gt; &gt;they added reflection to the official language ...<br/>\n&gt;&gt;<br/>\n&gt;&gt; They are if they are class-level (static).<br/>\n&gt;<br/>\n&gt;Yes, but then they&#39;re not nested inside methods, which rather loses the<br/>\n&gt;point<br/>\n&gt;of parametisation. Hmm. Perhaps I&#39;m missing a trick with non-static inner<br/>\n&gt;classes. (The trouble with dynamic inner classes being that their<br/>\n&gt;constructors<br/>\n&gt;won&#39;t match the pattern expected by junit ...)<br/>\n<br/>\n </span></blockquote>Why do you need this? An anonymous subclass would do, no?<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Will cogitate. Much other stuff to do as well. Thanks for prodding.<br/>\n<br/>\n </span></blockquote>No problem. We may have something neat here.<br/>\n<br/>\n<br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603</div>", 
    "prevInTime": 9051, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1060271918", 
    "canDelete": false, 
    "nextInTopic": 9056, 
    "prevInTopic": 9044, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwODA3MTU0Ni41MzYyMy5jaHJpcy5kb2xsaW5AaHAuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwODA3MTE1ODM4MDE2MC4wMjY2MzU3NkBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDIwMDMwODA0MTQ0NC4xMjQyMy5jaHJpcy5kb2xsaW5AaHAuY29tPiA8MjAwMzA4MDUwODI4LjQwMjAzLmNocmlzLmRvbGxpbkBocC5jb20+IDwyMDAzMDgwNjIxMTk1NjA4OTYuMDBEMzY3NjFAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDwyMDAzMDgwNzE1NDYuNTM2MjMuY2hyaXMuZG9sbGluQGhwLmNvbT4="
    }
}