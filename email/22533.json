{
    "numMessagesInTopic": 26, 
    "nextInTime": 22534, 
    "senderId": "uUu5r-JFBMQxAmUpigIIG5I2Ll2j6R-37vy02oNcr_1OjRj-SwDE48txihCXczV43GhjUmuS_O4LOM-egtSe6RqeBgU", 
    "systemMessage": false, 
    "subject": "Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "&quot;Gary&quot; &lt;gary@...&gt;", 
    "authorName": "Gary", 
    "msgSnippet": "Ah, right bad example, which should not invalidate the ClassRule rule name.", 
    "msgId": 22533, 
    "profile": "gary_d_gregory", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 406321433, 
    "messageBody": "<div id=\"ygrps-yiv-68575935\">Ah, right bad example, which should not invalidate the ClassRule rule name.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; On Wed, Mar 10, 2010 at 5:15 PM, Gary &lt;gary@...&gt; wrote:<br/>\n&gt; &gt; What does ClassRule clash with?<br/>\n&gt; <br/>\n&gt; You wrote @ClassRule public static ClassRule..., which can&#39;t be valid<br/>\n&gt; Java.  Does that answer the question?<br/>\n&gt; <br/>\n&gt;    David<br/>\n&gt; <br/>\n&gt; &gt;<br/>\n&gt; &gt; Alternates:<br/>\n&gt; &gt;<br/>\n&gt; &gt; - StaticRule<br/>\n&gt; &gt; - PerClassRule<br/>\n&gt; &gt; - OneTimeRule<br/>\n&gt; &gt; - SingletonRule<br/>\n&gt; &gt;<br/>\n&gt; &gt; more?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Gary<br/>\n&gt; &gt;<br/>\n&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Unfortunately, the same class can&#39;t be both an annotation and a type.<br/>\n&gt; &gt;&gt; Further suggestions?<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;    David<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; On Tue, Mar 9, 2010 at 11:04 PM, Gary &lt;gary@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt; WRT: @RuleOnClass public static ClassRule...<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; @ClassRule public static ClassRule...<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; @ClassRule reads better to me than @RuleOnClass<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; and the symmetry with @Before/@BeforeClass is nice.<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; Gary<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; On Tue, Mar 9, 2010 at 8:08 PM, Kent Beck &lt;kentb@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; This is an interesting design tradeoff. I don&#39;t like implicit magic but I also don&#39;t like creating new elements (like the &quot;beforeClass = true&quot;) if I can reuse existing elements. When I saw the &quot;@Rule static...&quot; I immediately knew what was wrong, so I find it understandable that static variables containing rules are only executed once. (By symmetry, I suppose &quot;@Before static void...&quot; should be a synonym for @BeforeClass.)<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; Or, by (almost) symmetry, the following?<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; @Before public void...<br/>\n&gt; &gt;&gt; &gt;&gt; @After public void...<br/>\n&gt; &gt;&gt; &gt;&gt; @Rule public MethodRule...<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; @BeforeClass public static void...<br/>\n&gt; &gt;&gt; &gt;&gt; @AfterClass public static void...<br/>\n&gt; &gt;&gt; &gt;&gt; @RuleOnClass public static ClassRule...<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; In the end, though, my opinion of what is obvious is less important<br/>\n&gt; &gt;&gt; &gt;&gt; than y&#39;all&#39;s. Chime in if you want to be heard.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; Kent<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; On Mar 9, 2010, at 3:02 PM, yme0987654321 wrote:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; I&#39;m all for a Rule before the class is run, but I think it is way to gimmicky and obscure to hang that on if the variable is declared static.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; I would instead think that the @Rule should have a method which indicates if it is before the class or before the test, and then have it validated if the @Rule is on a static or instance variable, as appropriate.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Something like:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; @Rule(beforeClass = true)<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Kent Beck &lt;kentb@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a static variable before. I&#39;m not even sure what they mean. Rules are inserted before an individual test is run. Should static rules be inserted before the class is run or before each individual test? Before the class is run, I&#39;m thinking. Opinions?<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; Kent<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Rule objects are not initialized before @BeforeClass methods are called. Is this by design or a bug?<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; For example:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; package test;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import java.io.File;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import java.io.IOException;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import junit.framework.Assert;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import org.junit.BeforeClass;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import org.junit.Rule;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import org.junit.Test;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import org.junit.rules.TemporaryFolder;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Rule<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @BeforeClass<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public static void testInTempFolder() throws IOException {<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; // test<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Test<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public void test() {<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; // noop<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Having the TemporaryFolder Rule declared as static is OK as this example test shows:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Rule<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Test<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public void testInTempFolder() throws IOException {<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; // test<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; How can @Rules be used from @BeforeClass?<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Calling TemporaryFolder.create() would work only for TemporaryFolder and not Rules in general but would be against the advice of create method Javadoc.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; ------------------------------------<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; ------------------------------------<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22532, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1268268865", 
    "canDelete": false, 
    "nextInTopic": 22537, 
    "prevInTopic": 22532, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MTAwMzEwMTUwMW82NzU4Zjk5YnQzODYwNmEyYWI3ODUwZjQwQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGhuOWYwMStmZW5oQGVHcm91cHMuY29tPg=="
    }
}