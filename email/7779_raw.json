{
    "numMessagesInTopic": 14, 
    "nextInTime": 7780, 
    "senderId": "Ir4wW664_2KFVLN5vB_y-kc5OPQWN76vTwKfGjbvMINw7n10_zhbR1DWrXBpel4HRTMv6omf5Bnmup0su-2Eo0tnGRYp0pcmKvfyDkFWTg", 
    "systemMessage": false, 
    "subject": "RE: [junit] A test to verify that an event is generated", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "Another excellent idea. Self-shunt is a simpler place to start. If you find that the TestCase needs to do more than be the event listener, then factor out the", 
    "msgId": 7779, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 18 Apr 2003 18:32:40 -0000\r\nReceived: (qmail 99449 invoked from network); 18 Apr 2003 18:32:40 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m9.grp.scd.yahoo.com with QMQP; 18 Apr 2003 18:32:40 -0000\r\nReceived: from unknown (HELO fep01-mail.bloor.is.net.cable.rogers.com) (66.185.86.71)\n  by mta3.grp.scd.yahoo.com with SMTP; 18 Apr 2003 18:32:41 -0000\r\nReceived: from quincy ([24.156.202.2])\n          by fep01-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030418183238.HZKO319328.fep01-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Fri, 18 Apr 2003 14:32:38 -0400\r\nMessage-ID: &lt;200304181432380356.002C382F@...&gt;\r\nIn-Reply-To: &lt;001a01c3057b$57be9550$1f03a8c0@dell&gt;\r\nReferences: &lt;001a01c3057b$57be9550$1f03a8c0@dell&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Fri, 18 Apr 2003 14:32:38 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: RE: [junit] A test to verify that an event is generated\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep01-mail.bloor.is.net.cable.rogers.com from [24.156.202.2] using ID &lt;jbrains@...&gt; at Fri, 18 Apr 2003 14:32:37 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\nAnother excellent idea. Self-shunt is a simpler place to start. If you find=\r\n that the TestCase needs to do more than be the event listener, then factor=\r\n out the event listener into a separate SpyEventListener class.\n\nTake care.=\r\n\n\n&gt;So said Bernd on 4/18/2003 --------------------\n&gt;\n&gt;Kris, \n&gt;\n&gt;&gt; Does anyo=\r\nne see any problems that might arise in this test? \n&gt;....\n&gt;&gt;          curre=\r\nntThread.sleep(5000);\n&gt;&gt;          fail(&quot;Timed out waiting for the event.&quot;);=\r\n\n&gt;\n&gt;If the event is not generated it takes looooong for the test to fail.\n&gt;=\r\n\n&gt;&gt;  Is there \n&gt;&gt; a better/more prefered way to do this?\n&gt;\n&gt;as others said:=\r\n avoid threading.\n&gt;\n&gt;\n&gt;and the listener may be the TestCase class itself\n&gt;(=\r\nIs this called the &quot;self shunt&quot; pattern?):\n&gt;\n&gt;public MyTestCase extends Tes=\r\ntCase implements MyEventListener{\n&gt;\n&gt;      public void somethingHappened(My=\r\nEvent event)\n&gt;      {\n&gt;            // e.g. inc counter\n&gt;            // e.g.=\r\n add event to a list\n&gt;      }\n&gt;....\n&gt;}\n&gt;\n&gt;Bernd\n&gt;\n&gt;\n&gt;&gt; Here is the code/pse=\r\nudocode of the test case I came up with:\n&gt;&gt; \n&gt;&gt; public void testEventGenera=\r\nted()\n&gt;&gt; {\n&gt;&gt;      MyClassThatFiresAnEvent myClass =3D new MyClassThatFires=\r\nAnEvent();\n&gt;&gt; \n&gt;&gt;      final Thread currentThread =3D Thread.currentThread(=\r\n);\n&gt;&gt; \n&gt;&gt;      myClass.addMyEventListener(new MyEventListener()\n&gt;&gt;      {\n&gt;=\r\n&gt;          public void somethingHappened(MyEvent event)\n&gt;&gt;          {\n&gt;&gt;   =\r\n           currentThread.interrupt();\n&gt;&gt;          }\n&gt;&gt;      });\n&gt;&gt;         =\r\n        \n&gt;&gt;      Thread thread =3D new Thread()\n&gt;&gt;      {\n&gt;&gt;          publi=\r\nc void run()\n&gt;&gt;          {\n&gt;&gt;              myClass.callMethodThatFiresTheEv=\r\nent();\n&gt;&gt;          }\n&gt;&gt;      };\n&gt;&gt;      thread.start();\n&gt;&gt;         \n&gt;&gt;     =\r\n try\n&gt;&gt;      {\n&gt;&gt;          currentThread.sleep(5000);\n&gt;&gt;          fail(&quot;Tim=\r\ned out waiting for the event.&quot;);\n&gt;&gt;      }\n&gt;&gt;      catch(InterruptedExcepti=\r\non ie)\n&gt;&gt;      {\n&gt;&gt;          System.out.println(&quot;Expect this exception&quot;);\n&gt;=\r\n&gt;      }\n&gt;&gt; }\n&gt;&gt; \n&gt;&gt; Thanks,\n&gt;&gt; Kris\n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; -----------------------=\r\n- Yahoo! Groups Sponsor \n&gt;&gt; ---------------------~--&gt;\n&gt;&gt; Get 128 Bit SSL En=\r\ncryption!\n&gt;&gt; http://us.click.yahoo.com/xaxhjB/hdqFAA/VygGAA/5cFolB/TM\n&gt;&gt; --=\r\n------------------------------------------------------------\n&gt;&gt; -------~-&gt;\n=\r\n&gt;&gt; \n&gt;&gt; To unsubscribe from this group, send an email to:\n&gt;&gt; junit-unsubscri=\r\nbe@yahoogroups.com\n&gt;&gt;  \n&gt;&gt; \n&gt;&gt; Your use of Yahoo! Groups is subject to \n&gt;&gt; =\r\nhttp://docs.yahoo.com/info/terms/ \n&gt;&gt; \n&gt;&gt; \n&gt;&gt; \n&gt;\n&gt;\n&gt;\n&gt;Yahoo! Groups Sponsor=\r\n\n&gt;\n&gt;\n&gt;\n&gt;To unsubscribe from this group, send an email to:\n&gt;junit-unsubscrib=\r\ne@yahoogroups.com\n&gt;\n&gt;\n&gt;Your use of Yahoo! Groups is subject to the Yahoo! T=\r\nerms of Service.\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLe=\r\nt&#39;s write software that people understand.\nhttp://www.diasparsoftware.com/\n=\r\ntelephone: +1 416 791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 7751, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 7778, 
    "contentTrasformed": false, 
    "postDate": "1050690758", 
    "canDelete": false, 
    "nextInTopic": 7780, 
    "prevInTopic": 7778, 
    "headers": {
        "inReplyToHeader": "PDAwMWEwMWMzMDU3YiQ1N2JlOTU1MCQxZjAzYThjMEBkZWxsPg==", 
        "messageIdInHeader": "PDIwMDMwNDE4MTQzMjM4MDM1Ni4wMDJDMzgyRkBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDAwMWEwMWMzMDU3YiQ1N2JlOTU1MCQxZjAzYThjMEBkZWxsPg=="
    }
}