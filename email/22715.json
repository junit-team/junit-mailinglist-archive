{
    "numMessagesInTopic": 4, 
    "nextInTime": 22716, 
    "senderId": "0_G15MAUlzA0OUf7V6apfVKSO6BV2-ECP-WVThOgN9cdCidpJJyPbjzQz5BnGpiWo08KbndqpIawcsvN_avwmmUk", 
    "systemMessage": false, 
    "subject": "Re: [junit] Why my own TestListener implementation doesn&#39;t work?", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Tao, createResult() is somewhat confusing--it has nothing to do with the normal flow of JUnit execution.  To do what you re doing, many people will override", 
    "msgId": 22715, 
    "profile": "dsaff", 
    "topicId": 22712, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1977889662\">Tao,<br/>\n<br/>\ncreateResult() is somewhat confusing--it has nothing to do with the<br/>\nnormal flow of JUnit execution.  To do what you&#39;re doing, many people<br/>\nwill override runTest().<br/>\n<br/>\n   David Saff<br/>\n<br/>\nOn Mon, May 24, 2010 at 1:16 AM, zx200287853714<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:zx200287853714@...\">zx200287853714@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; Hi, experts<br/>\n&gt;<br/>\n&gt; Since our project wants to save the failed environment for a failed test case, I tried to implement my own TestListener which did the work in TestListener.addFailure and TestListener.addError. But it doesn&#39;t work, could you please figure out the errors in my program, thanks.<br/>\n&gt;<br/>\n&gt; import junit.framework.AssertionFailedError;<br/>\n&gt; import junit.framework.Test;<br/>\n&gt; import junit.framework.TestCase;<br/>\n&gt; import junit.framework.TestResult;<br/>\n&gt; import junit.framework.TestSuite;<br/>\n&gt; import junit.framework.TestListener;<br/>\n&gt;<br/>\n&gt; public class NewTest extends TestCase {<br/>\n&gt;    class MyListener implements TestListener {<br/>\n&gt;        private TestCase test;<br/>\n&gt;<br/>\n&gt;        public MyListener(TestCase test) {<br/>\n&gt;            this.test = test;<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        public void addError(Test test, Throwable t) {<br/>\n&gt;            System.out.println(&quot;Detecing an error.&quot;);<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        public void addFailure(Test test, AssertionFailedError t) {<br/>\n&gt;            System.out.println(&quot;Detecing a failure.&quot;);<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        public void endTest(Test test) {<br/>\n&gt;            System.out.println(&quot;End a test.&quot;);<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        public void startTest(Test test) {<br/>\n&gt;            System.out.println(&quot;Start a test.&quot;);<br/>\n&gt;        }<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;    public void setUp() {<br/>\n&gt;        System.out.println(&quot;Doing setup.&quot;);<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;    public void tearDown() {<br/>\n&gt;        System.out.println(&quot;Doing tearDown.&quot;);<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;    @Override<br/>\n&gt;    protected TestResult createResult() {<br/>\n&gt;        System.out.println(&quot;Invoked.&quot;);<br/>\n&gt;        TestResult result = new TestResult();<br/>\n&gt;        result.addListener(new MyListener(this));<br/>\n&gt;<br/>\n&gt;        return result;<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;    public void testA() {<br/>\n&gt;        System.out.println(&quot;Doing testA.&quot;);<br/>\n&gt;        fail(&quot;Expected failure.&quot;);<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;    public void testB() {<br/>\n&gt;        System.out.println(&quot;Doing testB.&quot;);<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; I think if I implement my own TestListener and register it with a TestResult in createResult method, that TestResult should replace the default one, but it doesn&#39;t work.<br/>\n&gt;<br/>\n&gt; Thanks for any help!<br/>\n&gt;<br/>\n&gt; Regards!<br/>\n&gt; Tao<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22714, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1274716432", 
    "canDelete": false, 
    "nextInTopic": 22718, 
    "prevInTopic": 22712, 
    "headers": {
        "inReplyToHeader": "PGh0ZDI0NittYzdsQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEFBTkxrVGlra1ZqUTZUSGs2RWhpY213OE5tdmxxTnM3NXpOaFZKVE03SWpqb0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGh0ZDI0NittYzdsQGVHcm91cHMuY29tPg=="
    }
}