{
    "numMessagesInTopic": 9, 
    "nextInTime": 24494, 
    "senderId": "4Fg3ivwKvi-98tHvrCyws3tlN1vGntXuWQVnCfVHOm-ZcK1y3dVcIpavDWpduwjLJTkFutjazbE_MGMuRN_NJei3_i2_3-EBMcjx1iyI-FqLdfnzxheT84cqiSAWoy8", 
    "systemMessage": false, 
    "subject": "Re: Asserts using Comparable.compareTo() instead of equals() (for BigDecimal and others)", 
    "from": "=?iso-8859-1?Q?Miguel_Mu=F1oz?= &lt;SwingGuy1024@...&gt;", 
    "authorName": "Miguel Muñoz", 
    "msgSnippet": "Comrades, Okay, I checked out the conversations at https://github.com/junit-team/junit/issues/95 and https://github.com/junit-team/junit/pull/376, and while", 
    "msgId": 24493, 
    "topicId": 24490, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 168476580, 
    "messageBody": "<div id=\"ygrps-yiv-1145030585\"><html><head></head><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">Comrades,</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div><span style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">&nbsp; Okay, I checked</span><font><font face=\"Times New Roman\" size=\"3\"> out the conversations at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/junit-team/junit/issues/95\" style=\"color:rgb(50, 79, 225);text-decoration:none;line-height:16.25px;\">https://github.com/junit-team/junit/issues/95</a>&nbsp;and&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/junit-team/junit/pull/376\">https://github.com/junit-team/junit/pull/376</a>, and while I&#39;m not entirely convinced that hamcrest is the way to go for comparison assertions, I</font><font face=\"times new roman, new york, times, serif\" size=\"3\"> can certainly live with it. So I began searching the JUnit classes for an appropriate hamcrest Matcher that would work with BigDecimal values. I looked in these packages and classes:</font></font></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">org.junit.matchers.JUnitMatchers</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">org.junit.internal.matchers</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">org.hamcrest.CoreMatchers</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">org.hamcrest</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">org.hamcrest.core</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">org.hamcrest.internal</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">I couldn&#39;t find any classes that helped me compare two BigDecimal values.</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">Of course, I could search for a Matcher that doesn’t ship with JUnit, or I could write my own Matcher, but a class like BigDecimal, which shipped with version 1.0 of the JDK, should be supported by JUnit out of the box. Here’s why:</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">Some of the comments had questions like this:</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><span style=\"color:rgb(85, 85, 85);font-family:Helvetica, arial, freesans, clean, sans-serif;font-size:14px;line-height:23.799999237060547px;\">&nbsp; What makes you think Comparable assertions are common?</span><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">I&#39;m going to guess here that the questioner does not work in financial services.</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">My first Java job was back in 1997 with Java 1.1, before the collections framework was added, and frankly, I never needed BigDecimal&nbsp;<span style=\"font-size:12pt;\">until last year, when I started working in the Financial Services industry.</span>&nbsp;My current project is an accounting package, so I use it every day. Our application uses BigDecimal 7714 times, including 4046 times in unit tests. And we&#39;re hardly the only developers doing financial services work. So in certain industries, comparisons using Comparable are very common. (If you&#39;re writing software for financial services and you&#39;re not using BigDecimal, you&#39;re creating needless headaches for yourself.)</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">&nbsp;I should also point out that standards are more rigorous in financial services, so we tend to write more unit tests.&nbsp;<br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">Although, given how rarely I used it before I joined this industry, I can certainly understand why non-financial developers would think of BigDecimal as an obscure class that doesn&#39;t get used much. But they&#39;re wrong.</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">If BigDecimal were just a useful class from some apache project, I wouldn&#39;t be making this case, but BigDecimal and the Comparable interface are completely standard Java, and are used heavily.</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">So, while I won&#39;t try to persuade anyone that a new assertion should be written, I would like to suggest that maybe JUnit should support BigDecimal values out of the box. Perhaps some Matcher classes to support Comparables could be added to org.junit.matchers.JUnitMatchers.&nbsp;</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">I would be very happy with this proposed syntax, suggested in the threads I mentioned above:</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-size:16px;\"><font face=\"Courier New\">assertThat(expected, is(comparableTo(actual)));</font></div><div style=\"font-size:16px;\"><font face=\"Courier New\">assertThat(expected, is(greaterThan(actual)));<br></font></div><div style=\"font-size:16px;\"><font face=\"Courier New\">assertThat(expected, is(lessThan(actual)));<br></font></div><div style=\"font-size:16px;\"><font face=\"Courier New\">assertThat(expected, isNot(greaterThan(actual))); // for &lt;=</font></div><div style=\"font-size:16px;\"><font face=\"Courier New\">assertThat(expected, isNot(lessThan(actual))) &nbsp; &nbsp; // for &gt;=</font></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">although I&#39;m flexible on this point.</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">The comparableTo() method could use some discussion about the best name. I don’t want it to say “is(equalTo())” to avoid confusion with the equals() method, and I’d rather avoid something like “numericallyEqualTo” because this shouldn’t be limited to numbers. I’m open to suggestions, but I’ve considered these:</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(naturallyEqualTo( )) &nbsp;(To invoke the concept of a “natural order” from the Comparable interface)</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(equivalentTo( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(comparableTo( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(comparableValueTo( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(matchingValueWith( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(valueMatching( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(sameValueAs( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(orderedAs( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(theSameValueAs( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(coequalTo( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">is(coequalWith( ))</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">I’m sure if we put our heads together, we can come up with something good.&nbsp;</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">But that’s all just details. What we really need to discuss is whether we want support for Comparable comparisons out of the box.</div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\"><br></div><div style=\"font-family:'times new roman', 'new york', times, serif;font-size:16px;\">— Miguel Muñoz</div></html></div>", 
    "prevInTime": 24492, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1394908541", 
    "canDelete": false, 
    "nextInTopic": 24494, 
    "prevInTopic": 24492, 
    "headers": {
        "messageIdInHeader": "PDQ4NDZEODk4LUU4NTMtNDYxNC04MTRGLUM1RTE3MEFFQjk1OEB5YWhvby5jb20+"
    }
}