{
    "numMessagesInTopic": 8, 
    "nextInTime": 14100, 
    "senderId": "0U3VxjkQwsmz8MxvaXj8eRYVa_MdYP3An8dsw95sehNLSgEYXdJ7IuIqqPKAb25kT4Z7Gumv2En6ul6ZFvRe-12N0vM-yf5HCeXD-jUdpA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing static Properties", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I don t much like the Monostate you have there. Even a true Singleton would be a little better than all those class-level method invocations. Injecting the", 
    "msgId": 14099, 
    "profile": "nails762", 
    "topicId": 14082, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-467611650\">Michael wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Hi, all. I have a testing scenario I need help with. The application I<br/>\n&gt; am working on has a class called AppProperties. This class has a lot<br/>\n&gt; of static methods on it for loading properties files and getting<br/>\n&gt; properties back out:<br/>\n&gt; <br/>\n&gt; public void loadProperties() {<br/>\n&gt;    //reads properties from classpath<br/>\n&gt;    AppProperties.addResource(&quot;app.properties&quot;);<br/>\n&gt;    AppProperties.addResource(&quot;MessageResources.properties&quot;);<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public void performTest() {<br/>\n&gt;    boolean test = AppProperties.getBoolean(&quot;app.perform.test&quot;);<br/>\n&gt;    if (test) {<br/>\n&gt;       ...<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; This scenario is not very testable. I like the idea of a static class<br/>\n&gt; to pull application properties from, but it makes testing more<br/>\n&gt; difficult. I could load the AppProperties object in the setUp (that is<br/>\n&gt; my solution to get it working until I get better suggestions), but it<br/>\n&gt; seems like the app should be designed a little differently. How would<br/>\n&gt; something like this be handled in IoC (DI) projects?<br/>\n<br/>\n </span></blockquote>I don&#39;t much like the Monostate you have there. Even a true Singleton <br/>\nwould be a little better than all those class-level method invocations.<br/>\n<br/>\nInjecting the dependency is simple: classes than need application <br/>\nproperties add a constructor parameter or set() method that takes an <br/>\nAppProperties implementation. Now in tests, I can set up the data in <br/>\nAppProperties any way I want for the test. (In fact, I wouldn&#39;t do it <br/>\nthat way, but that&#39;s another article.) In production code, I might have <br/>\nAppProperties be a Singleton and, in one place, invoke <br/>\nAppProperties.getInstance(), then inject that instance into all the <br/>\nobjects that need it, either in code or through a DI container like Spring.<br/>\n<br/>\nFor the &quot;advanced&quot; answer, I&#39;ll just have to write the article, but <br/>\nhere&#39;s the summary: don&#39;t have classes depend on AppProperties, but <br/>\nrather on the data you want from it. Centralize getting the <br/>\nAppProperties data in one place.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing</div>", 
    "prevInTime": 14098, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1120855409", 
    "canDelete": false, 
    "nextInTopic": 14104, 
    "prevInTopic": 14088, 
    "headers": {
        "inReplyToHeader": "PGRhZTU5dSt1NWx2QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQyQ0VFNTcxLjQwODA5MDJAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGRhZTU5dSt1NWx2QGVHcm91cHMuY29tPg=="
    }
}