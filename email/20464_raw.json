{
    "numMessagesInTopic": 7, 
    "nextInTime": 20465, 
    "senderId": "xIuM94fTE9-Xa_679dgMAdhz8_QWf07FXP_WHQGcMHnV0U0UmG4LWnaWCvx7FCBBZiU-bW-uUa0ou4oXIHOqM321", 
    "systemMessage": true, 
    "subject": "Re: testing interfaces only and dependecy injection in test cases", 
    "from": "&quot;jensnz&quot; &lt;jensnz@...&gt;", 
    "authorName": "jensnz", 
    "msgSnippet": "Hi Ken, Thanks for these hints. I have managed to write my own test runner that used constructor dependency injection and can run junit 4 tests. It s not", 
    "msgId": 20464, 
    "rawEmail": "Return-Path: &lt;jensnz@...&gt;\r\nReceived: (qmail 63303 invoked from network); 28 Apr 2008 23:54:57 -0000\r\nReceived: from unknown (66.218.67.97)\n  by m47.grp.scd.yahoo.com with QMQP; 28 Apr 2008 23:54:57 -0000\r\nReceived: from unknown (HELO n10.bullet.mail.re1.yahoo.com) (69.147.103.137)\n  by mta18.grp.scd.yahoo.com with SMTP; 28 Apr 2008 23:54:57 -0000\r\nReceived: from [68.142.237.87] by n10.bullet.mail.re1.yahoo.com with NNFMP; 28 Apr 2008 23:54:57 -0000\r\nReceived: from [66.218.69.2] by t3.bullet.re3.yahoo.com with NNFMP; 28 Apr 2008 23:54:57 -0000\r\nReceived: from [66.218.66.82] by t2.bullet.scd.yahoo.com with NNFMP; 28 Apr 2008 23:54:56 -0000\r\nX-Sender: jensnz@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 2900 invoked from network); 28 Apr 2008 00:35:49 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m44.grp.scd.yahoo.com with QMQP; 28 Apr 2008 00:35:49 -0000\r\nX-Received: from unknown (HELO n51d.bullet.mail.sp1.yahoo.com) (66.163.169.49)\n  by mta16.grp.scd.yahoo.com with SMTP; 28 Apr 2008 00:35:49 -0000\r\nX-Received: from [216.252.122.216] by n51.bullet.mail.sp1.yahoo.com with NNFMP; 28 Apr 2008 00:35:49 -0000\r\nX-Received: from [66.218.69.6] by t1.bullet.sp1.yahoo.com with NNFMP; 28 Apr 2008 00:35:49 -0000\r\nX-Received: from [66.218.66.81] by t6.bullet.scd.yahoo.com with NNFMP; 28 Apr 2008 00:35:49 -0000\r\nDate: Mon, 28 Apr 2008 00:35:47 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fv3653+svet@...&gt;\r\nIn-Reply-To: &lt;014301c8a6e5$14f018a0$6bfe140a@kentspavilion&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;jensnz&quot; &lt;jensnz@...&gt;\r\nSubject: Re: testing interfaces only and dependecy injection in test cases\r\nX-Yahoo-Group-Post: member; u=344091775; y=ejMGjmbQKSpGVFnnAYQNEo5b4Pn1QEjpWGK9n4gIBJdR\r\nX-Yahoo-Profile: jensnz\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via web; 28 Apr 2008 23:54:54 -0000\r\n\r\n\nHi Ken,\n\nThanks for these hints. I have managed to write my own test runne=\r\nr that\nused constructor dependency injection and can run junit 4 tests.\nIt&#39;=\r\ns not production level code at the moment but this does not\nmatter -I just =\r\nneed it for a research prototype for a paper I am working\non. I have also c=\r\nreated a google code project, the actual code and a\nmore comprehensive expl=\r\nanation what the project is all about can be\nfound there: http://code.googl=\r\ne.com/p/treaty/\n&lt;http://code.google.com/p/treaty/&gt;  .\n\nMy feeling is that t=\r\nhis (runtime testing of discovered services) is an\nimportant use case and a=\r\ns frameworks that use late binding such as\nSpring and Eclipse are gaining m=\r\nomentum, there will be increasing demand\nfor runtime verification. Whenever=\r\n I coded Eclipse plugins in the past I\nalways found that having test cases =\r\nattached to the extension points (at\nleast if the x point provides interfac=\r\nes to be implemented by the\nextensions) would have made the plugins much be=\r\ntter =96Eclipse could\nrun in a &quot;safe mode&quot; where test cases are executed wh=\r\nenever a\nplugin extending the respective extension point is loaded. That wo=\r\nuld\nalso make it possible to use this kind of design in applications that\nr=\r\nequire high reliability.\n\nThe nice thing about test cases (for me at least)=\r\n is that they can be\nused to define the semantics of methods in a sense tha=\r\nt they exclude\nimplementations with unintended behaviour and therefore desc=\r\nribe the\nintended model. I see them very much on the same level as interfac=\r\nes,\nand not implementation classes.\n\nCheers,Jens\n\n\n--- In junit@yahoogroups=\r\n.com, &quot;Kent Beck&quot; &lt;kentb@...&gt; wrote:\n&gt;\n&gt; Jens,\n&gt;\n&gt; I think I understand you=\r\nr situation. What makes it a challenge for\nJUnit 4\n&gt; is that the new archit=\r\necture is a DSL and the binding is intended to\nhappen\n&gt; at compile time. I =\r\nwonder if a JUnit 3.8-style test would be easier.\nHere is\n&gt; pseudo-code for=\r\n what I&#39;m thinking:\n&gt;\n&gt; public void testDiscoveredList(Class klass) {\n&gt;    =\r\n TestSuite suite=3D new TestSuite(ListTest.class);\n&gt;     for (Test each : s=\r\nuite.tests) { // Does this work for Enumeration?\n&gt;         ListTest test=3D=\r\n (ListTest) each; // Sorry about the downcast...\n&gt;         each.setList(cre=\r\nateList(klass));\n&gt;     }\n&gt;     junit.framework.TestResult result=3D new\njun=\r\nit.framework.TestResult();\n&gt;     suite.run(result);\n&gt;     ...check results =\r\nand act appropriately\n&gt; }\n&gt;\n&gt; On a larger scale, what is interesting to me =\r\nabout this example is the\nway\n&gt; the shift to a DSL encouraged earlier bindi=\r\nng and the resulting loss\nof\n&gt; important (to you) flexibility.\n&gt;\n&gt; I&#39;m sure=\r\n you could accomplish the above with the JUnit 4 model, but\nyou&#39;d\n&gt; have to=\r\n circumvent more of it. We&#39;re trying to address this with the\nchanges\n&gt; in =\r\n4.5, but I&#39;m not sure it would easily accomodate your scenario even\nso.\n&gt; I=\r\n&#39;d love to see a custom runner to prove me wrong, though.\n&gt;\n&gt; Take care,\n&gt;\n=\r\n&gt; Kent Beck\n&gt; Three Rivers Institute\n&gt;\n&gt;   _____\n&gt;\n&gt; From: junit@yahoogroup=\r\ns.com [mailto:junit@yahoogroups.com] On Behalf\nOf\n&gt; jensnz\n&gt; Sent: Wednesda=\r\ny, April 23, 2008 2:57 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Re=\r\n: testing interfaces only and dependecy injection\nin test\n&gt; cases\n&gt;\n&gt;\n&gt;\n&gt; W=\r\nhat I am trying to avoid are explicit references to implementation\n&gt; classe=\r\ns in test cases, like in\n&gt; assertAddingAnElementIncreasesTheSizeByOne(new A=\r\nrrayList());.\n&gt;\n&gt; The background of my question is the following: I want to=\r\n use tests in\n&gt; a scenario where interfaces describe services (like in OSGI=\r\n). When a\n&gt; service becomes available (a class implementing the interface),=\r\n I want\n&gt; to run all tests for this service at runtime (!) to verify that t=\r\nhe\n&gt; service has the correct behaviour. I cannot do this at build time as\n&gt;=\r\n the service is discovered dynamically and I don&#39;t own the\n&gt; implementation=\r\n. So I somehow have to inject the service implementation\n&gt; into the test ca=\r\nse before setUp is executed.\n&gt;\n&gt; Jens\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of t=\r\nhis message have been removed]\n&gt;\n\n\n\n[Non-text portions of this message have=\r\n been removed]\n\n\n", 
    "profile": "jensnz", 
    "topicId": 20454, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 344091775, 
    "prevInTime": 20463, 
    "contentTrasformed": false, 
    "postDate": "1209342947", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20462, 
    "headers": {
        "inReplyToHeader": "PDAxNDMwMWM4YTZlNSQxNGYwMThhMCQ2YmZlMTQwYUBrZW50c3BhdmlsaW9uPg==", 
        "messageIdInHeader": "PGZ2MzY1MytzdmV0QGVHcm91cHMuY29tPg=="
    }
}