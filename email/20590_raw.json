{
    "topicId": 20590, 
    "postDate": "1213720080", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "Per Jacobsson &lt;perjacobsson@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "GmkHV2Kga4E5zFi3WV-DOiVZKnTYJLb15TrBDXCm3Jer8yIuYZGJgy6mPAHYpnXpMOb7CKYDqnIZ-KwSTjZzweYo3l7wKroyM_CzE7uTtYs", 
    "nextInTime": 20591, 
    "userId": 282257561, 
    "prevInTime": 20589, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYyRDQ2RUYwNUBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPg=="
    }, 
    "authorName": "Per Jacobsson", 
    "numMessagesInTopic": 8, 
    "msgSnippet": "Hi, This has been annoying me for a while and I can t think of a clean solution for it. Hope this makes sense: I have some code that returns different results", 
    "contentTrasformed": false, 
    "msgId": 20590, 
    "nextInTopic": 20591, 
    "systemMessage": true, 
    "rawEmail": "Return-Path: &lt;PerJacobsson@...&gt;\r\nReceived: (qmail 13435 invoked from network); 17 Jun 2008 23:08:36 -0000\r\nReceived: from unknown (66.218.67.97)\n  by m52.grp.scd.yahoo.com with QMQP; 17 Jun 2008 23:08:36 -0000\r\nReceived: from unknown (HELO n13.bullet.mail.re1.yahoo.com) (69.147.103.140)\n  by mta18.grp.scd.yahoo.com with SMTP; 17 Jun 2008 23:08:36 -0000\r\nReceived: from [68.142.237.88] by n13.bullet.mail.re1.yahoo.com with NNFMP; 17 Jun 2008 23:08:36 -0000\r\nReceived: from [66.218.69.4] by t4.bullet.re3.yahoo.com with NNFMP; 17 Jun 2008 23:08:36 -0000\r\nReceived: from [66.218.66.81] by t4.bullet.scd.yahoo.com with NNFMP; 17 Jun 2008 23:08:35 -0000\r\nX-Sender: PerJacobsson@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 13741 invoked from network); 17 Jun 2008 16:28:03 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m44.grp.scd.yahoo.com with QMQP; 17 Jun 2008 16:28:03 -0000\r\nX-Received: from unknown (HELO mx2.eharmony.com) (204.16.72.134)\n  by mta18.grp.scd.yahoo.com with SMTP; 17 Jun 2008 16:28:03 -0000\r\nX-IronPort-AV: E=Sophos;i=&quot;4.27,659,1204531200&quot;; \n   d=&quot;scan&#39;208,217&quot;;a=&quot;74075082&quot;\r\nX-Received: from ehweb2.eharmony.com ([10.0.10.22])\n  by mx2.eharmony.com with ESMTP; 17 Jun 2008 09:28:03 -0700\r\nX-Received: from EXCHANGE-VS1.eharmony.com ([192.168.69.2]) by\n ehweb2.eharmony.com ([10.0.10.22]) with mapi; Tue, 17 Jun 2008 09:28:02 -0700\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nDate: Tue, 17 Jun 2008 09:28:00 -0700\r\nThread-Topic: Testing code that depends on today&#39;s date\r\nThread-Index: AcjQlxvHAhH8ikoYRamo4Pi848hF7g==\r\nMessage-ID: &lt;860D47F8904F6041AEEE55F9B684667F162D46EF05@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nacceptlanguage: en-US\r\nMIME-Version: 1.0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Per Jacobsson &lt;perjacobsson@...&gt;\r\nSubject: Testing code that depends on today&#39;s date\r\nX-Yahoo-Group-Post: member; u=282257561\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 17 Jun 2008 23:08:34 -0000\r\n\r\nHi,\nThis has been annoying me for a while and I can&#39;t think of a clean solution for it. Hope this makes sense: I have some code that returns different results depending on what today&#39;s date is (the number of days since a user first registered, etc). The simple approach is to just create a new instance of java.util.Date whenever I need to know the current date, but that tends to make both unit and automated functional testing difficult.\n\nI&#39;m currently injecting today&#39;s date into the classes that need it, and then the tests can just use a static date. It gets pretty ugly though, a lot of times this date has to be dragged along deep into the domain model.\n\nAn alternative would be to take the old school approach and have a static factory that everything that needs to know today&#39;s date calls, and allow the unit tests to override with a test date. Of course, then you run into all the other issues that dependency injection solves.\n\nAny thoughts?\nThanks,\n/ Per\n\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "subject": "Testing code that depends on today&#39;s date"
}