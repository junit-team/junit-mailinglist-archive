{
    "numMessagesInTopic": 26, 
    "nextInTime": 22533, 
    "senderId": "K5YNtSUF--zlfqmakJMRJyHr2Gxkp1mF0JRiXvV8wNubbDyJUVA3Ok6BxNpfimydSVKTSanEQ3g-n-ufl-slhe8b", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "... You wrote @ClassRule public static ClassRule..., which can t be valid Java.  Does that answer the question? David", 
    "msgId": 22532, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 84495 invoked from network); 10 Mar 2010 23:01:50 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m12.grp.re1.yahoo.com with QMQP; 10 Mar 2010 23:01:50 -0000\r\nX-Received: from unknown (HELO mail-pz0-f192.google.com) (209.85.222.192)\n  by mta1.grp.re1.yahoo.com with SMTP; 10 Mar 2010 23:01:48 -0000\r\nX-Received: by pzk30 with SMTP id 30so204483pzk.12\n        for &lt;junit@yahoogroups.com&gt;; Wed, 10 Mar 2010 15:01:47 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.22.16 with SMTP id z16mr1260800rvi.139.1268262107646; Wed, \n\t10 Mar 2010 15:01:47 -0800 (PST)\r\nIn-Reply-To: &lt;hn95mi+r3an@...&gt;\r\nReferences: &lt;4f7da6b91003100621q327d0011x822bd27aa523639e@...&gt;\n\t &lt;hn95mi+r3an@...&gt;\r\nDate: Wed, 10 Mar 2010 18:01:47 -0500\r\nX-Google-Sender-Auth: c67fe206d050070d\r\nMessage-ID: &lt;4f7da6b91003101501o6758f99bt38606a2ab7850f40@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=341876227; y=S2-1AR15OiywvxRgpCbBtallDO3fBmMzP2qU9nmzhN4\r\nX-Yahoo-Profile: dsaff\r\n\r\nOn Wed, Mar 10, 2010 at 5:15 PM, Gary &lt;gary@...&gt; wrote:\n&gt; What =\r\ndoes ClassRule clash with?\n\nYou wrote @ClassRule public static ClassRule...=\r\n, which can&#39;t be valid\nJava.  Does that answer the question?\n\n   David\n\n&gt;\n&gt;=\r\n Alternates:\n&gt;\n&gt; - StaticRule\n&gt; - PerClassRule\n&gt; - OneTimeRule\n&gt; - Singleto=\r\nnRule\n&gt;\n&gt; more?\n&gt;\n&gt; Gary\n&gt;\n&gt; --- In junit@yahoogroups.com, David Saff &lt;davi=\r\nd@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; Unfortunately, the same class can&#39;t be both an annotati=\r\non and a type.\n&gt;&gt; Further suggestions?\n&gt;&gt;\n&gt;&gt; =A0 =A0David\n&gt;&gt;\n&gt;&gt; On Tue, Mar=\r\n 9, 2010 at 11:04 PM, Gary &lt;gary@...&gt; wrote:\n&gt;&gt; &gt; WRT: @RuleOnClass public =\r\nstatic ClassRule...\n&gt;&gt; &gt;\n&gt;&gt; &gt; @ClassRule public static ClassRule...\n&gt;&gt; &gt;\n&gt;&gt;=\r\n &gt; @ClassRule reads better to me than @RuleOnClass\n&gt;&gt; &gt;\n&gt;&gt; &gt; and the symmet=\r\nry with @Before/@BeforeClass is nice.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Gary\n&gt;&gt; &gt;\n&gt;&gt; &gt; --- In junit=\r\n@yahoogroups.com, David Saff &lt;david@&gt; wrote:\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; On Tue, Mar 9, 201=\r\n0 at 8:08 PM, Kent Beck &lt;kentb@&gt; wrote:\n&gt;&gt; &gt;&gt; &gt; This is an interesting desi=\r\ngn tradeoff. I don&#39;t like implicit magic but I also don&#39;t like creating new=\r\n elements (like the &quot;beforeClass =3D true&quot;) if I can reuse existing element=\r\ns. When I saw the &quot;@Rule static...&quot; I immediately knew what was wrong, so I=\r\n find it understandable that static variables containing rules are only exe=\r\ncuted once. (By symmetry, I suppose &quot;@Before static void...&quot; should be a sy=\r\nnonym for @BeforeClass.)\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Or, by (almost) symmetry, the followin=\r\ng?\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; @Before public void...\n&gt;&gt; &gt;&gt; @After public void...\n&gt;&gt; &gt;&gt; @Ru=\r\nle public MethodRule...\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; @BeforeClass public static void...\n&gt;&gt; &gt;=\r\n&gt; @AfterClass public static void...\n&gt;&gt; &gt;&gt; @RuleOnClass public static ClassR=\r\nule...\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; In the end, though, my opinion of what is ob=\r\nvious is less important\n&gt;&gt; &gt;&gt; than y&#39;all&#39;s. Chime in if you want to be hear=\r\nd.\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Kent\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; On Mar 9, 2010, at 3:02 PM, yme0987=\r\n654321 wrote:\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; I&#39;m all for a Rule before the class is run, =\r\nbut I think it is way to gimmicky and obscure to hang that on if the variab=\r\nle is declared static.\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; I would instead think that the @Ru=\r\nle should have a method which indicates if it is before the class or before=\r\n the test, and then have it validated if the @Rule is on a static or instan=\r\nce variable, as appropriate.\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; Something like:\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; =\r\n&gt;&gt; &gt;&gt; @Rule(beforeClass =3D true)\n&gt;&gt; &gt;&gt; &gt;&gt; public static TemporaryFolder te=\r\nstFolder =3D new TemporaryFolder();\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt; --- In junit@yahoogro=\r\nups.com, Kent Beck &lt;kentb@&gt; wrote:\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; Hmmm... I don&#39;t th=\r\nink we ever tried @Rule on a static variable before. I&#39;m not even sure what=\r\n they mean. Rules are inserted before an individual test is run. Should sta=\r\ntic rules be inserted before the class is run or before each individual tes=\r\nt? Before the class is run, I&#39;m thinking. Opinions?\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; K=\r\nent\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:=\r\n\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Rule objects are not initialized before @BeforeCl=\r\nass methods are called. Is this by design or a bug?\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;=\r\n &gt; For example:\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; package test;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; =\r\n&gt;&gt; &gt; &gt; import java.io.File;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import java.io.IOException;\n&gt;&gt; &gt;&gt; =\r\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import junit.framework.Assert;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; =\r\n&gt; import org.junit.BeforeClass;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import org.junit.Rule;\n&gt;&gt; &gt;&gt; &gt;=\r\n&gt; &gt; &gt; import org.junit.Test;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; import org.junit.rules.TemporaryF=\r\nolder;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public class TemporaryFolderRuleBeforeClas=\r\ns {\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Rule\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolde=\r\nr =3D new TemporaryFolder();\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @BeforeClass\n&gt;&gt; &gt;&gt; &gt;=\r\n&gt; &gt; &gt; public static void testInTempFolder() throws IOException {\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;=\r\n &gt; File tempFile =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File temp=\r\nFolder =3D testFolder.newFolder(&quot;folder&quot;);\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; System.out.println(=\r\n&quot;Test folder: &quot; + testFolder.getRoot());\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; // test\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; =\r\nAssert.assertNotNull(testFolder.getRoot());\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; =\r\n&gt;&gt; &gt;&gt; &gt; &gt; @Test\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public void test() {\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; // noop\n&gt;&gt; &gt;=\r\n&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Having the TemporaryFol=\r\nder Rule declared as static is OK as this example test shows:\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n=\r\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Rul=\r\ne\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder =3D new TemporaryFo=\r\nlder();\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; @Test\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; public void testInTemp=\r\nFolder() throws IOException {\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File tempFile =3D testFolder.new=\r\nFile(&quot;file.txt&quot;);\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;fo=\r\nlder&quot;);\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoo=\r\nt());\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; // test\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.get=\r\nRoot());\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; How can @R=\r\nules be used from @BeforeClass?\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt; Calling Temporary=\r\nFolder.create() would work only for TemporaryFolder and not Rules in genera=\r\nl but would be against the advice of create method Javadoc.\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt;=\r\n &gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt; &gt; [Non-text portions o=\r\nf this message have been removed]\n&gt;&gt; &gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;=\r\n&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; [Non-text portions of this message have been removed]\n&gt;=\r\n&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; ------------------------------------\n&gt;&gt; &gt;&gt; &gt;=\r\n\n&gt;&gt; &gt;&gt; &gt; Yahoo! Groups Links\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;\n&gt;&gt; =\r\n&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; ------------------------------------\n&gt;&gt; &gt;\n&gt;&gt; &gt; Yahoo! Grou=\r\nps Links\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ---------------------------------=\r\n---\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22531, 
    "contentTrasformed": false, 
    "postDate": "1268262107", 
    "canDelete": false, 
    "nextInTopic": 22533, 
    "prevInTopic": 22531, 
    "headers": {
        "inReplyToHeader": "PGhuOTVtaStyM2FuQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMzEwMTUwMW82NzU4Zjk5YnQzODYwNmEyYWI3ODUwZjQwQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MTAwMzEwMDYyMXEzMjdkMDAxMXg4MjJiZDI3YWE1MjM2MzllQG1haWwuZ21haWwuY29tPgkgPGhuOTVtaStyM2FuQGVHcm91cHMuY29tPg=="
    }
}