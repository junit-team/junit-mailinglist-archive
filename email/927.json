{
    "numMessagesInTopic": 1, 
    "nextInTime": 928, 
    "senderId": "vAcd9oap54nbCpBnxMp2UkjPhn8NadYnhQE1RmAmTz43FcNQ1L6n4yxtAbqBic9bw9QHKfDjEWRepg", 
    "systemMessage": false, 
    "subject": "Strange JUnit / AWT/Swing/Weblogic interaction (ClassCastException)", 
    "from": "e_o_toole@...", 
    "authorName": "e_o_toole@yahoo.com", 
    "msgSnippet": "I m a newbie, using junit to unit test my EJBs (Weblogic 5.1 for Appserver & JNDI, everything local). I run some setup code in the suite() function which gets", 
    "msgId": 927, 
    "topicId": 927, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1361188452\">I&#39;m a newbie, using junit to unit test my EJBs (Weblogic 5.1 for <br/>\nAppserver & JNDI, everything local). I run some setup code in the <br/>\nsuite() function which gets some static EJBHome interfaces.<br/>\n<br/>\nWhen I use the textui.TestRunner my setup runs OK, but when I use the <br/>\nswingui.TestRunner or the awtui.TestRunner, I get a <br/>\nClassCastException when I call <br/>\nPortableRemoteObject.narrow(SomeJndiObject,Some.class);<br/>\n<br/>\nThe code snippet follows, as does a stacktrace. <br/>\n<br/>\nHas anyone else seen this, and is there a workaround (other than the <br/>\nobvious &quot;use the textui&quot; ? <br/>\n<br/>\nThanks,<br/>\n<br/>\nE<br/>\n<br/>\n  public static Object lookup(String jndiName$) throws EJBException {<br/>\n    try {<br/>\n      Properties properties = new  Properties();<br/>\n      properties.put<br/>\n(Context.INITIAL_CONTEXT_FACTORY, &quot;weblogic.jndi.WLInitialContextFacto<br/>\nry&quot;);<br/>\n      properties.put(Context.PROVIDER_URL, &quot;t3://localhost:7001&quot;);<br/>\n      properties.put(Context.SECURITY_PRINCIPAL, &quot;******&quot;);<br/>\n      properties.put(Context.SECURITY_CREDENTIALS , &quot;******&quot;);<br/>\n      Context ctx = new InitialContext(properties);<br/>\n      Object jndiObject = null;<br/>\n      InitialContext initContext = new InitialContext(properties);<br/>\n      jndiObject = initContext.lookup(jndiName$);<br/>\n      return jndiObject;<br/>\n    } catch(Exception e) {<br/>\n      throw new EJBException(e);<br/>\n    }<br/>\n  }<br/>\n<br/>\n<br/>\njavax.ejb.EJBException at <br/>\ncom.classwell.unittest.assessment.AssessmentTestSetUp.lookup<br/>\n(AssessmentTestSetUp.java:188)<br/>\n        at <br/>\ncom.classwell.unittest.assessment.AssessmentTestSetUp.internalSetUp<br/>\n(AssessmentTestSetUp.java:68)<br/>\n        at com.classwell.unittest.assessment.AssessmentTestSetUp.setUp<br/>\n(AssessmentTestSetUp.java:45)<br/>\n        at <br/>\ncom.classwell.unittest.assessment.AssessmentUtilitiesTest.suite<br/>\n(AssessmentUtilitiesTest.java:21)<br/>\n        at java.lang.reflect.Method.invoke(Native Method)<br/>\n        at junit.runner.BaseTestRunner.getTest(BaseTestRunner.java:50)<br/>\n        at junit.awtui.TestRunner.runSuite(TestRunner.java:386)<br/>\n        at junit.awtui.TestRunner.start(TestRunner.java:467)<br/>\n        at junit.awtui.TestRunner.main(TestRunner.java:310)</div>", 
    "prevInTime": 926, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "986590299", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDlhbGE4cis0MXYxQGVHcm91cHMuY29tPg=="
    }
}