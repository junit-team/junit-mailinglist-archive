{
    "numMessagesInTopic": 2, 
    "nextInTime": 14813, 
    "senderId": "YqKZgSEE1ZbggAFQdiA9lh1L_lUP7hKVVhmr8SAo4Xh9PZzjhmQtv0ZUJ3n2AP0MqU5n4w7ZuyQgM4ciDanPXBNNHDAwjkU", 
    "systemMessage": false, 
    "subject": "[junit] Re: JUnitAssist - spike and class loaders", 
    "from": "Neil Swingler &lt;neil@...&gt;", 
    "authorName": "Neil Swingler", 
    "msgSnippet": "... As I said this isn t going to work in JUnit4. Which is a shame as there are other useful benefits of injecting a classloader like resetting static data for", 
    "msgId": 14812, 
    "profile": "neil_swingler", 
    "topicId": 14812, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 230174996, 
    "messageBody": "<div id=\"ygrps-yiv-873802249\"><blockquote><span title=\"ireply\">&gt; &gt; --- Tobias wrote:<br/>\n&gt; &gt;&gt; [...] By using Javassist together with JUnit I managed to<br/>\n&gt; &gt;&gt; add a powerful yet simple way of doing declarative (from<br/>\n&gt; &gt;&gt; the test-class) mocking of troublesome classes [...]<br/>\n&gt; <br/>\n&gt; --- Neil Swingler &lt;neil@s...&gt; wrote:<br/>\n&gt; &gt; I was working on something similar, extending JUnit. The big<br/>\n&gt; &gt; problem is how to insert the custom classloader early enough<br/>\n&gt; &gt; in each test run.<br/>\n&gt; <br/>\n&gt; I did this (in JUnit 3) by overloading the TestCase.runBare method:  <br/>\n&gt; When called, it reloaded itself (another instance of the same <br/>\n&gt; TestCase child class) through the &quot;AOP&quot; ClassLoader.  Then call the <br/>\n&gt; test methods.  You have to rely on reflection to make these calls, <br/>\n&gt; as the types aren&#39;t compatible across class loaders.  And I used a <br/>\n&gt; different constructor signature (and/or special flag set method) to <br/>\n&gt; let the test class loaded under the test ClassLoader know that it&#39;s <br/>\n&gt; the copy -- so it doesn&#39;t try to recursively load and call itself <br/>\n&gt; forever.<br/>\n&gt; <br/>\n&gt; It costs a few seconds, per run, to go through another class <br/>\n&gt; loader.  But otherwise, it can work really well.<br/>\n&gt; <br/>\n </span></blockquote>As I said this isn&#39;t going to work in JUnit4. Which is a shame as there are other useful benefits of injecting a classloader like resetting static data for each test.<br/>\n<br/>\n- Neil</div>", 
    "prevInTime": 14811, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1126853576", 
    "canDelete": false, 
    "nextInTopic": 14821, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEUxRUdBNXMtMDAwNUIxLTAwQHNlcnYwMS5zd2luZ2xlci5jaD4="
    }
}