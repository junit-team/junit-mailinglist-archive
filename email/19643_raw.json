{
    "numMessagesInTopic": 43, 
    "nextInTime": 19644, 
    "senderId": "TYlnYdiLMuwvXLTVcz7olv1m2QP9-eUYwNJevpWb-YWcFwI80AmYnhWJix2NB3WYF7XwiNbsx04aeDs2Ir_tvfvpBciQ2vppcHs", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing singleton patterns", 
    "from": "Pat Farrell &lt;pfarrell@...&gt;", 
    "authorName": "Pat Farrell", 
    "msgSnippet": "... I m no expert but dependency injection sure looks ugly with all the extra parameters being passed all around with them not being clearly used. Could be", 
    "msgId": 19643, 
    "rawEmail": "Return-Path: &lt;pfarrell@...&gt;\r\nX-Sender: pfarrell@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 78045 invoked from network); 29 Jul 2007 16:20:25 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m45.grp.scd.yahoo.com with QMQP; 29 Jul 2007 16:20:25 -0000\r\nReceived: from unknown (HELO dmz.pfarrell.com) (70.184.242.241)\n  by mta8.grp.scd.yahoo.com with SMTP; 29 Jul 2007 16:20:25 -0000\r\nReceived: by dmz.pfarrell.com (Postfix, from userid 517)\n\tid A89F812466; Sun, 29 Jul 2007 12:19:19 -0400 (EDT)\r\nX-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on dmz.pfarrell.com\r\nX-Spam-Level: \r\nX-Spam-Status: No, score=-4.4 required=6.0 tests=ALL_TRUSTED,BAYES_00\n\tautolearn=ham version=3.1.8\r\nReceived: from stately.pfarrell.com (mrfdfwvn01.rd.dc.cox.cci [172.16.4.70])\n\tby dmz.pfarrell.com (Postfix) with ESMTP id 6E63D1245C\n\tfor &lt;junit@yahoogroups.com&gt;; Sun, 29 Jul 2007 12:19:13 -0400 (EDT)\r\nMessage-ID: &lt;46ACBE01.4070301@...&gt;\r\nDate: Sun, 29 Jul 2007 12:19:13 -0400\r\nUser-Agent: Thunderbird 2.0.0.4 (X11/20070604)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;46AB416C.2040400@...&gt; &lt;46AC9AA5.70602@...&gt; &lt;b86b6a9c0707290903r3036b371i5e78b64a869459d1@...&gt;\r\nIn-Reply-To: &lt;b86b6a9c0707290903r3036b371i5e78b64a869459d1@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 2:3:4:0\r\nFrom: Pat Farrell &lt;pfarrell@...&gt;\r\nReply-To: pfarrell@...\r\nSubject: Re: [junit] Testing singleton patterns\r\nX-Yahoo-Group-Post: member; u=92022818; y=exaZe2A_ktApteDtRrNh-4yBwGAOWG-T8HQusTKk4bItoJU\r\nX-Yahoo-Profile: pat22043\r\n\r\nCédric Beust ♔ wrote:\n&gt; This pattern looks quite inferior to what you can achieve with\n&gt; dependency injection. What if you can&#39;t create your dependency in\n&gt; your main class? What if you can but you&#39;d rather do so lazily?\n\nI&#39;m no expert but dependency injection sure looks ugly with all the \nextra parameters being passed all around with them not being clearly \nused. Could be just a style thing.\n\n\n&gt; This approach also strongly couples the main() method with the\n&gt; implementation of the singleton you want to pass around, which is very\n&gt; bad.\n\nA much more serious problem that I see is that none of the web apps that \nI&#39;ve written have a main().\n\nWhen a JSP page is hit, it invokes a bean, which talks to lots of stuff.\nThe developer has no control over which bean is fired off first, none \nhave main(), etc.\n\nWhen you want to check something with a lot of state, say the list of \ncurrent users logged in, you need to access the OneTrueKnowledge.\nWhether the OneTrueKnowledge class is a singleton itself, or is accessed \nthough a singleton factory, its isomorphic.\n\nClearly testing the factory, or the OneTrueKnowledge class, is fairly \nstraight forward. At least unit testing is.\n\nYou can make it a little more explicit by having a MasterControlProgram \nsingleton that all factories talk to, but again, this is mostly \nsyntactic sugar.\n\n\n-- \nPat Farrell\nhttp://www.pfarrell.com/\n\n\n", 
    "profile": "pat22043", 
    "topicId": 19636, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 92022818, 
    "prevInTime": 19642, 
    "contentTrasformed": false, 
    "postDate": "1185725953", 
    "canDelete": false, 
    "nextInTopic": 19645, 
    "prevInTopic": 19642, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDcwNzI5MDkwM3IzMDM2YjM3MWk1ZTc4YjY0YTg2OTQ1OWQxQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ2QUNCRTAxLjQwNzAzMDFAcGZhcnJlbGwuY29tPg==", 
        "referencesHeader": "PDQ2QUI0MTZDLjIwNDA0MDBAcGZhcnJlbGwuY29tPiA8NDZBQzlBQTUuNzA2MDJAaWxqYXByZXVzcy5kZT4gPGI4NmI2YTljMDcwNzI5MDkwM3IzMDM2YjM3MWk1ZTc4YjY0YTg2OTQ1OWQxQG1haWwuZ21haWwuY29tPg=="
    }
}