{
    "numMessagesInTopic": 2, 
    "nextInTime": 7644, 
    "senderId": "ANfZuqxDay5E7pHhg2zHVUTOPfaiuNny8yNb_N7fqLwwQV0DoPgU06G8cTEN0FJrhWtx-GrxxdN7I47wFUVUBhWnanGBBjAupSpG52b2wA", 
    "systemMessage": false, 
    "subject": "Re: [junit] What&#39;s wrong with this test?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "I didn t look at the rest of the test, but... ... DON T CACHE DATABASE CONNECTIONS! Database connections will eventually be orphaned. In your test, it s no", 
    "msgId": 7643, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 9 Apr 2003 14:27:49 -0000\r\nReceived: (qmail 65526 invoked from network); 9 Apr 2003 14:27:49 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m14.grp.scd.yahoo.com with QMQP; 9 Apr 2003 14:27:49 -0000\r\nReceived: from unknown (HELO fep04-mail.bloor.is.net.cable.rogers.com) (66.185.86.74)\n  by mta1.grp.scd.yahoo.com with SMTP; 9 Apr 2003 14:27:49 -0000\r\nReceived: from quincy ([142.179.150.14])\n          by fep04-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030409142747.OJET4330.fep04-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Wed, 9 Apr 2003 10:27:47 -0400\r\nMessage-ID: &lt;200304090827470039.05371B2A@...&gt;\r\nIn-Reply-To: &lt;b710f6+lci4@...&gt;\r\nReferences: &lt;b710f6+lci4@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Wed, 09 Apr 2003 08:27:47 -0600\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] What&#39;s wrong with this test?\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep04-mail.bloor.is.net.cable.rogers.com from [142.179.150.14] using ID &lt;jbrains@...&gt; at Wed, 9 Apr 2003 10:27:47 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\nI didn&#39;t look at the rest of the test, but...\n\n... DON&#39;T CACHE DATABASE CON=\r\nNECTIONS!\n\nDatabase connections will eventually be orphaned. In your test, =\r\nit&#39;s no problem, but if you cache a physical database connection in a class=\r\n-level variable in real production code, then eventually your connection wi=\r\nll be thrown away by the database. As soon as the application runs for more=\r\n than 30 minutes, it&#39;ll stop working.\n\nAlso don&#39;t cache System.getPropertie=\r\ns(). Just grab it when you need it. For all you know, Java is caching it. L=\r\net Java do its job.\n\nNext: why use class-level data when method parameters =\r\nwill do? Resist the urge to use global data, even within the scope of a sin=\r\ngle class.\n\nIf you run this class by running main(), it will work; but if y=\r\nou run it in the TestRunner, it will not. The TestRunner doesn&#39;t touch your=\r\n main() method.\n\nIf your suite() method needs to initialize the database co=\r\nnnection, then why isn&#39;t it initializing the database connection?\n\nGood luc=\r\nk.\n\n&gt;So said josevnz on 4/9/2003 --------------------\n&gt;Greetings,\n&gt;\n&gt;I got =\r\nthe following TestSuite class:\n&gt;\n&gt;public class RunAllDictionaryTests extend=\r\ns TestSuite {\n&gt;      \n&gt;      private static Connection _conn;\n&gt;      privat=\r\ne static final Properties _prop =3D System.getProperties();\n&gt;\n&gt;      /**\n&gt; =\r\n     * Test entry point. Run all the tests from here. This method expects\n&gt;=\r\nthan the following system property is defined:\n&gt;      * &#39;cvebrowser.test.co=\r\nnfig.basedir&#39; pointing to the test base\n&gt;configuration directory.\n&gt;      * =\r\n@param String [] args - Command line arguments, currently ignored\n&gt;      */=\r\n\n&gt;      public static void main(String args[]) {\n&gt;            try {\n&gt;      =\r\n            // load the system properties\n&gt;                  _prop.load(new=\r\n FileInputStream( new\n&gt;File(System.getProperty(&quot;cvebrowser.test.config.base=\r\ndir&quot;) +\n&gt;System.getProperty(&quot;file.separator&quot;) +\n&gt;&quot;RunAllDictionaryTests.pro=\r\nperties&quot;)) ); // Load the aditional properties\n&gt;                  System.se=\r\ntProperties(_prop);\n&gt;                  // get the tests database connection=\r\n\n&gt;                 \n&gt;Class.forName(_prop.getProperty(&quot;cvebrowser.test.jdbc.=\r\ndriver&quot;));\n&gt;                 \n&gt;System.err.println(_prop.getProperty(&quot;cvebro=\r\nwser.test.jdbc.url&quot;) +\n&gt;&quot;, &quot; + _prop.getProperty(&quot;cvebrowser.test.jdbc.user=\r\n&quot;) + &quot;, &quot; +\n&gt;_prop.getProperty(&quot;cvebrowser.test.jdbc.password&quot;));\n&gt;        =\r\n          _conn =3D\n&gt;DriverManager.getConnection(_prop.getProperty(&quot;cvebrow=\r\nser.test.jdbc.url&quot;),\n&gt;_prop.getProperty(&quot;cvebrowser.test.jdbc.user&quot;),\n&gt;_pro=\r\np.getProperty(&quot;cvebrowser.test.jdbc.password&quot;));\n&gt;                  junit.t=\r\nextui.TestRunner.run(suite());\n&gt;            } catch (Exception exp) {\n&gt;    =\r\n              exp.printStackTrace();\n&gt;            } finally {\n&gt;            =\r\n      if (_conn !=3D null) {\n&gt;                        try { _conn.close(); =\r\n} catch (SQLException ignore)\n&gt;{}\n&gt;                  }\n&gt;            }\n&gt;    =\r\n    }\n&gt;      \n&gt;      /**\n&gt;      * Defines all the tests to be run. If you n=\r\need a new tests, add them\n&gt;here.\n&gt;      */\n&gt;      public static Test suite(=\r\n) {\n&gt;            TestSuite suite=3D new TestSuite();\n&gt;            suite.add=\r\nTest(new\n&gt;DictionaryTest(&quot;testCVEDictionaryGetVersionEmptyDB&quot;, _conn, _prop=\r\n));\n&gt;// Get the CVE / CAN version from an empty database\n&gt;\n&gt;            ret=\r\nurn suite;\n&gt;      }\n&gt;}\n&gt;\n&gt;but when i run the test i got a &quot;NullPointerExcep=\r\ntion&quot; (the Dictionary\n&gt;Test class checks if the database connection is !=3D=\r\n from null) because\n&gt;the database connection has not been defined yet.\n&gt;\n&gt;D=\r\noes the suite() method is called before the main() method by JUnit\n&gt;(doesn&#39;=\r\nt look like, plus my database connection is shared among the\n&gt;tests).\n&gt;\n&gt;Th=\r\nanks in advance,\n&gt;\n&gt;JV.\n&gt;\n&gt;\n&gt;Yahoo! Groups Sponsor\n&gt;ADVERTISEMENT\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;=\r\nTo unsubscribe from this group, send an email to:\n&gt;junit-unsubscribe@yahoog=\r\nroups.com\n&gt;\n&gt;\n&gt;Your use of Yahoo! Groups is subject to the Yahoo! Terms of =\r\nService.\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s writ=\r\ne software that people understand.\nhttp://www.diasparsoftware.com/\ntelephon=\r\ne: +1 416 791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 7638, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 7642, 
    "contentTrasformed": false, 
    "postDate": "1049898467", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 7638, 
    "headers": {
        "inReplyToHeader": "PGI3MTBmNitsY2k0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwNDA5MDgyNzQ3MDAzOS4wNTM3MUIyQUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGI3MTBmNitsY2k0QGVHcm91cHMuY29tPg=="
    }
}