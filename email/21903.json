{
    "numMessagesInTopic": 17, 
    "nextInTime": 21904, 
    "senderId": "ANNZYM35ViIoQ8SF5UneudC5j6Vl9I-YFiPxHnZcePNCB-iTitv-SkI2C0PN6veCB88PuLBeb62d24uyFc0qjMOb", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Rule annotation", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "I m trying to think this one through.  I m thinking I have: public ExternalResource myResource = new ExternalResource() { // ... } public MethodRule", 
    "msgId": 21903, 
    "profile": "dsaff", 
    "topicId": 21887, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-607658699\">I&#39;m trying to think this one through.  I&#39;m thinking I have:<br/>\n<br/>\npublic ExternalResource myResource = new ExternalResource() {<br/>\n  // ...<br/>\n}<br/>\n<br/>\npublic MethodRule myConditionalIgnore = new MethodRule() {<br/>\n  // ...<br/>\n}<br/>\n<br/>\npublic class CombinedRule implements MethodRule {<br/>\n        public final Statement apply(final Statement base,<br/>\n\t\t\tFrameworkMethod method, Object target) {<br/>\n            return myConditionalIgnore.apply(myResource.apply(base,<br/>\nmethod, target), method, target);<br/>\n\t}<br/>\n}<br/>\n<br/>\nDoes that work?<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Thu, Aug 20, 2009 at 1:38 PM, yme0987654321&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:yme0987654321@...\">yme0987654321@...</a>&gt; wrote:<br/>\n&gt; For the big class hierarchy that I had, this worked out. I had to make one rule which composed and delegated to an ExternalResource rule and had its own before and after methods because ExternalResource does not allow the overriding of its apply method. I certainly understand the inclination to make it final, but I would suggest that it be reconsidered.<br/>\n&gt;<br/>\n&gt; Regardless, going further replacing my custom runner, I did hit another wall, with @BeforeClass and @AfterClass. I assume there is nothing to do about those (other than an assumeThat in @BeforeClass)?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@...&gt; wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt; That&#39;s right: Rules can affect the processing after @Before and before<br/>\n&gt;&gt; @After.  Could you replace your setup/teardown with an<br/>\n&gt;&gt; ExternalResource rule?<br/>\n&gt;&gt;<br/>\n&gt;&gt;    David Saff<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Thu, Aug 20, 2009 at 11:11 AM, yme0987654321&lt;yme0987654321@...&gt; wrote:<br/>\n&gt;&gt; &gt; OK, I figured out the problem. What happens is that I have a custom runner that suppresses the test (these are slow tests, so they are only run at check-in, not by the developer while developing).<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; However, when I replace that with a Rule, the setup method is still run (looks slow). So I guess the conclusion is that @Rule can&#39;t interrupt or override the setup and teardown process, so if you need to do that you are back to a Runner? (Or making your own setups rule-aware I guess).<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; Yishai,<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; I just ran a test, and the Rules in the superclass were picked up.<br/>\n&gt;&gt; &gt;&gt; Can you post a small example?  Thanks,<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    David Saff<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; On Thu, Aug 20, 2009 at 10:21 AM, David Saff&lt;david@&gt; wrote:<br/>\n&gt;&gt; &gt;&gt; &gt; Yishai,<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; Sounds like a bug.  Can you file it at github?  Sorry for the oversight,<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;   David Saff<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; On Wed, Aug 19, 2009 at 8:26 PM, yme0987654321&lt;yme0987654321@&gt; wrote:<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; I&#39;m looking at the new Rule annotation in JUnit4. It&#39;s pretty nice, but it doesn&#39;t seem to inherit.<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; That is if I have a super class that has the @Rule, sub class tests don&#39;t run the rule on its tests.<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; Combined with the requirement that the rules field be public, this is surprising.<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; The practical effect for me is that it can&#39;t really replace my custom runner, as the @RunWith annotation is inherited by subclasses.<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; Am I missing something?<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; Yishai.<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; ------------------------------------<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt; Yahoo! Groups Links<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; ------------------------------------<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21902, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1250868128", 
    "canDelete": false, 
    "nextInTopic": 21908, 
    "prevInTopic": 21902, 
    "headers": {
        "inReplyToHeader": "PGg2azFtOCt0Z2t1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkwODIxMDgyMmc2OThlMWRiMWphMDAwZWQ4ODc4MTIyYTdkQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDkwODIwMDgxOGkxODc1OThjY3EyNTJiNTMxZGQ1M2EwOTU0QG1haWwuZ21haWwuY29tPgkgPGg2azFtOCt0Z2t1QGVHcm91cHMuY29tPg=="
    }
}