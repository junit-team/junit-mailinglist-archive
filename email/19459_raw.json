{
    "numMessagesInTopic": 13, 
    "nextInTime": 19460, 
    "senderId": "5VktYNw65FM99X3s9SXH3VFDInqujO5Vyc2prd24isEh1aZ_E4k5P19ponIp9xq7VoSwh4yPwRkW9W0JZdsf9uny", 
    "systemMessage": false, 
    "subject": "Re: [junit] Filtering does not appear to work in 4.3.1", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Michael, I ve been meaning to look at this for a while now.  At a very cursory glance, it looks like it may be a bug.  Can you log it as a bug in SourceForge,", 
    "msgId": 19459, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 8572 invoked from network); 14 Jun 2007 13:45:41 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m40.grp.scd.yahoo.com with QMQP; 14 Jun 2007 13:45:41 -0000\r\nReceived: from unknown (HELO wa-out-1112.google.com) (209.85.146.178)\n  by mta9.grp.scd.yahoo.com with SMTP; 14 Jun 2007 13:45:41 -0000\r\nReceived: by wa-out-1112.google.com with SMTP id j5so649239wah\n        for &lt;junit@yahoogroups.com&gt;; Thu, 14 Jun 2007 06:45:33 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;\n        b=ksP6pdYRKPKvJFRdY6GBHIdIIpIeVTpttivEebNM+0dEBZNnRH5JtoKzswW10KMsFxXCEbD8OWhgbBXPmZv1CVwZa5/7Lij19zKxOaga11zM33XuAMMRQuXoJESiG4fZhVk5cSkwbSyv07BX/Qy4d8x3VJuG0c+S2RDmbS18HqA=\r\nReceived: by 10.115.58.1 with SMTP id l1mr1831845wak.1181828733564;\n        Thu, 14 Jun 2007 06:45:33 -0700 (PDT)\r\nReceived: by 10.114.134.7 with HTTP; Thu, 14 Jun 2007 06:45:33 -0700 (PDT)\r\nMessage-ID: &lt;4f7da6b90706140645l27ca1a26td947e259d34d528b@...&gt;\r\nDate: Thu, 14 Jun 2007 09:45:33 -0400\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;f4bq6e+na0d@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;f1dejn+2b4s@...&gt; &lt;f4bq6e+na0d@...&gt;\r\nX-Google-Sender-Auth: e2199597f88a40bf\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;David Saff&quot; &lt;saff@...&gt;\r\nSubject: Re: [junit] Filtering does not appear to work in 4.3.1\r\nX-Yahoo-Group-Post: member; u=139771899; y=mhkQtW9JsG_rTqJzdVL6tVoStx1ESsHc4GoGRDuQ3g8\r\nX-Yahoo-Profile: dsaff\r\n\r\nMichael,\n\nI&#39;ve been meaning to look at this for a while now.  At a very cursory\nglance, it looks like it may be a bug.  Can you log it as a bug in\nSourceForge, and I&#39;ll try to take a look at it in the next few days?\nThanks,\n\n   David Saff\n\nOn 6/8/07, Michael Schechter &lt;mlschechter@...&gt; wrote:\n&gt; Does anyone have any suggestions on how to address this?\n&gt;\n&gt; Thanks!\n&gt;\n&gt; --- In junit@yahoogroups.com, &quot;Michael Schechter&quot; &lt;mlschechter@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Kent/David et. al.,\n&gt; &gt;\n&gt; &gt; I have been successfully using a filter implementation that I provided\n&gt; &gt; with one or more method names. These methods were the only ones\n&gt; &gt; executed in the test class. Worked seamlessly with 4.1\n&gt; &gt;\n&gt; &gt; I just recently updated to JUnit 4.3.1, and the filter implementation\n&gt; &gt; no longer seems to be applied. There is nothing I can find in the\n&gt; &gt; release notes that implies that this would have changed. The\n&gt; &gt; frustrating thing is that setting breakpoints in my filter has no\n&gt; &gt; effect - it is as if it is never being called.\n&gt; &gt;\n&gt; &gt; I am including the filter implementation class and the invocation\n&gt; &gt; logic. Please let me know if there is something I missed here.\n&gt; &gt;\n&gt; &gt; Thanks in advance!\n&gt; &gt;\n&gt; &gt; ------------------------------------------------\n&gt; &gt; import java.util.ArrayList;\n&gt; &gt; import java.util.List;\n&gt; &gt;\n&gt; &gt; import org.junit.runner.Description;\n&gt; &gt; import org.junit.runner.manipulation.Filter;\n&gt; &gt;\n&gt; &gt; /**\n&gt; &gt;  * This class provides a mechanism to filter tests by name, allowing a\n&gt; &gt; subset of the tests in a test\n&gt; &gt;  * class to be defined by a developer.\n&gt; &gt;  *\n&gt; &gt;  * @since 2.0\n&gt; &gt;  */\n&gt; &gt; public class MatchingFilter extends Filter {\n&gt; &gt;\n&gt; &gt;   /**\n&gt; &gt;    * The references to the tests that should be executed.\n&gt; &gt;    */\n&gt; &gt;   private List&lt;Description&gt; tests = new ArrayList&lt;Description&gt;();\n&gt; &gt;\n&gt; &gt;   /**\n&gt; &gt;    * Initializes an instance of &lt;code&gt;MatchingFilter&lt;/code&gt; with the\n&gt; &gt; data provided.\n&gt; &gt;    *\n&gt; &gt;    * @param aTestClass\n&gt; &gt;    *          the class for which tests will be executed\n&gt; &gt;    * @param someTestNames\n&gt; &gt;    *          the method names\n&gt; &gt;    */\n&gt; &gt;   public MatchingFilter(Class aTestClass, String[] someTestNames) {\n&gt; &gt;     for (String testName : someTestNames) {\n&gt; &gt;       this.tests.add(Description.createTestDescription(aTestClass,\n&gt; &gt; testName));\n&gt; &gt;     }\n&gt; &gt;   }\n&gt; &gt;\n&gt; &gt;   /**\n&gt; &gt;    * Implemented abstract method to provide detail filtering\n&gt; &gt; mechanism. Only test methods that match\n&gt; &gt;    * the provided names will be executed.\n&gt; &gt;    *\n&gt; &gt;    * @see\n&gt; &gt;\n&gt; org.junit.runner.manipulation.Filter#shouldRun(org.junit.runner.Description)\n&gt; &gt;    */\n&gt; &gt;   @Override\n&gt; &gt;   public boolean shouldRun(Description aDescription) {\n&gt; &gt;     return this.tests.contains(aDescription);\n&gt; &gt;   }\n&gt; &gt;\n&gt; &gt;   /**\n&gt; &gt;    * Implemented abstract method.\n&gt; &gt;    *\n&gt; &gt;    * @see org.junit.runner.manipulation.Filter#describe()\n&gt; &gt;    */\n&gt; &gt;   @Override\n&gt; &gt;   public String describe() {\n&gt; &gt;     return &quot;This filter excludes any test methods that do not exactly\n&gt; &gt; match the provided names&quot;;\n&gt; &gt;   }\n&gt; &gt;\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; ------------------------------------------------\n&gt; &gt;     JUnitCore core = new JUnitCore();\n&gt; &gt;     Request testRequest = Request.aClass(aTestClass);\n&gt; &gt;     if (0 &lt; someArguments.length) {\n&gt; &gt;       Filter matchFilter = new MatchingFilter(aTestClass,\n&gt; someArguments);\n&gt; &gt;       testRequest = testRequest.filterWith(matchFilter);\n&gt; &gt;     }\n&gt; &gt;     core.run(testRequest);\n&gt; &gt;\n&gt; &gt; ------------------------------------------------\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups.com, &quot;Michael Schechter&quot; &lt;bard@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Kent,\n&gt; &gt; &gt;\n&gt; &gt; &gt; First and foremost, thanks! That example did the trick. I was able to\n&gt; &gt; &gt; modify it, and our team can now specify any subset of the test methods\n&gt; &gt; &gt; in a given class dynamically as part of their development process.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I would strongly recommend that this trick (and any others that\n&gt; &gt; &gt; require extension/implementation from JUnit core classes) be added to\n&gt; &gt; &gt; whatever &quot;recipes&quot; get documented.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I feel very strongly about the utility of JUnit (or any similar tool)\n&gt; &gt; &gt; in a testing-dependent development environment. The only drawback I\n&gt; &gt; &gt; can see to using volunteer labor for documentation purposes is that\n&gt; &gt; &gt; these volunteers would need access to the brains behind the code to\n&gt; &gt; &gt; write complete Javadoc. For example, in following your example, I got\n&gt; &gt; &gt; tripped up by the Request filterWith() method. So many frameworks\n&gt; &gt; &gt; today return a modified instance of the class on which you are\n&gt; &gt; &gt; operating that I was somewhat surprised that the instance on which I\n&gt; &gt; &gt; called filterWith() was not modified.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Upon reflection, your contract and implementation are perfectly\n&gt; &gt; &gt; reasonable OO - the filtered instance is what is returned, not what is\n&gt; &gt; &gt; invoked. This is the kind of fine point that would be easy to miss in\n&gt; &gt; &gt; documenting this code as a volunteer. I point this out not as an\n&gt; &gt; &gt; argument against. Instead, those who volunteer must be cognizant of\n&gt; &gt; &gt; the fairly subtle complexities of this framework, and be willing to\n&gt; &gt; &gt; ask questions when contributing.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Once again, thanks for the timely assist!\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In junit@yahoogroups.com, &quot;Kent Beck&quot; &lt;kentb@&gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Michael,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; You&#39;re right that the JUnit documentation needs to be improved. As a\n&gt; &gt; &gt; &gt; volunteer project, we&#39;re open to contributions.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The following example may serve to address the situation you raise:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; public class FilterExample {\n&gt; &gt; &gt; &gt;   @Test public void runTestsInAList() {\n&gt; &gt; &gt; &gt;           final String[] tests= new String[] {&quot;a&quot;, &quot;b&quot;};\n&gt; &gt; &gt; &gt;           Filter namedTests= new Filter() {\n&gt; &gt; &gt; &gt;                   @Override\n&gt; &gt; &gt; &gt;                   public String describe() {\n&gt; &gt; &gt; &gt;                           return &quot;only tests starting with &#39;a&#39;&quot;;\n&gt; &gt; &gt; &gt;                   }\n&gt; &gt; &gt; &gt;                   @Override\n&gt; &gt; &gt; &gt;                   public boolean shouldRun(Description description) {\n&gt; &gt; &gt; &gt;                           for (String each : tests)\n&gt; &gt; &gt; &gt;                                   if\n&gt; &gt; &gt; &gt; (description.getDisplayName().startsWith(each))\n&gt; &gt; &gt; &gt;                                           return true;\n&gt; &gt; &gt; &gt;                           return false;\n&gt; &gt; &gt; &gt;                   }\n&gt; &gt; &gt; &gt;           };\n&gt; &gt; &gt; &gt;           Request request=\n&gt; &gt; &gt; &gt; Request.aClass(Tests.class).filterWith(namedTests);\n&gt; &gt; &gt; &gt;           Result result= new JUnitCore().run(request);\n&gt; &gt; &gt; &gt;           assertEquals(2, result.getRunCount());\n&gt; &gt; &gt; &gt;   }\n&gt; &gt; &gt; &gt;   public static class Tests {\n&gt; &gt; &gt; &gt;           @Test public void a() {}\n&gt; &gt; &gt; &gt;           @Test public void b() {}\n&gt; &gt; &gt; &gt;           @Test public void c() {}\n&gt; &gt; &gt; &gt;   }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Sincerely yours,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Kent Beck\n&gt; &gt; &gt; &gt; Three Rivers Institute\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; ________________________________\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On\n&gt; Behalf\n&gt; &gt; &gt; &gt; Of Michael Schechter\n&gt; &gt; &gt; &gt;   Sent: Monday, August 07, 2006 8:11 AM\n&gt; &gt; &gt; &gt;   To: junit@yahoogroups.com\n&gt; &gt; &gt; &gt;   Subject: [junit] How to add functionality for execution flexibilty?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   I am looking to add the following functionality to my tests:\n&gt; &gt; &gt; &gt;   - When provided a list of method names on the command line, only\n&gt; &gt; &gt; &gt; those\n&gt; &gt; &gt; &gt;   methods in the invoked class will be executed.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   I need this implementation at the test class level. This was pretty\n&gt; &gt; &gt; &gt;   straightforward with JUnit 3.8.1 - just create new instances of the\n&gt; &gt; &gt; &gt;   derived TestCase with the method name as the argument, and add them\n&gt; &gt; &gt; &gt; to\n&gt; &gt; &gt; &gt;   the suite.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   I am having a lot of difficulty trying to replicate this\n&gt; &gt; &gt; &gt;   functionality. The filter logic appears to be a one-shot exclusion\n&gt; &gt; &gt; &gt;   filter (everything not matching is dropped), and I can&#39;t seem to\n&gt; &gt; &gt; &gt; find\n&gt; &gt; &gt; &gt;   any documentation that would address this.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   As Mr. Rainsberger and others have suggested, I have searched the\n&gt; &gt; &gt; &gt; web\n&gt; &gt; &gt; &gt;   for an appropriate tutorial. I have found a number of good basic\n&gt; &gt; &gt; &gt;   tutorials (including some references in this group), and a couple\n&gt; &gt; &gt; &gt; with\n&gt; &gt; &gt; &gt;   some advanced content. I cannot seem to find one with the detail to\n&gt; &gt; &gt; &gt;   unlock the tools and capabilities that I am positive are available\n&gt; &gt; &gt; &gt;   within the new JUnit framework.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   I am also convinced that no one is as capable as the authors in\n&gt; &gt; &gt; &gt;   documenting the features of the framework, and I am having trouble\n&gt; &gt; &gt; &gt;   find Javadoc for some of the classes and APIs in the JUnit 4.1\n&gt; tree.\n&gt; &gt; &gt; &gt;   There is a fairly good chance that I am looking in the wrong place.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   If anyone has any suggestions or guidance on these issues, it would\n&gt; &gt; &gt; &gt; be\n&gt; &gt; &gt; &gt;   greatly appreciated.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   Thanks in advance!\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   Michael Schechter\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 17338, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "prevInTime": 19458, 
    "contentTrasformed": false, 
    "postDate": "1181828733", 
    "canDelete": false, 
    "nextInTopic": 19474, 
    "prevInTopic": 19440, 
    "headers": {
        "inReplyToHeader": "PGY0YnE2ZStuYTBkQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwNjE0MDY0NWwyN2NhMWEyNnRkOTQ3ZTI1OWQzNGQ1MjhiQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGYxZGVqbisyYjRzQGVHcm91cHMuY29tPiA8ZjRicTZlK25hMGRAZUdyb3Vwcy5jb20+"
    }
}