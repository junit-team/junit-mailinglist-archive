{
    "numMessagesInTopic": 4, 
    "nextInTime": 18683, 
    "senderId": "PK8xllfajwCA4MQWKLZlp2FgxyXmGGip_4jYz7BZ_GKjEFp_YJgxinOTEdcFapwljn_ZKlsyHi76BqfaHz4VujcKJXo", 
    "systemMessage": false, 
    "subject": "Re: how do I use my filter when running from ANT1.7", 
    "from": "&quot;adass75&quot; &lt;adass75@...&gt;", 
    "authorName": "adass75", 
    "msgSnippet": "Thanks David! This creature works like a charm! - Ajay ... such ... Here s ... the ... AFilter.class) ... AFilter.class) ... BFilter.class) ... (); ... ", 
    "msgId": 18682, 
    "rawEmail": "Return-Path: &lt;adass75@...&gt;\r\nReceived: (qmail 37035 invoked by uid 7800); 9 Jan 2007 18:14:05 -0000\r\nX-Sender: adass75@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 98342 invoked from network); 9 Jan 2007 15:09:24 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m24.grp.scd.yahoo.com with QMQP; 9 Jan 2007 15:09:24 -0000\r\nReceived: from unknown (HELO n11e.bullet.scd.yahoo.com) (66.218.67.71)\n  by mta10.grp.scd.yahoo.com with SMTP; 9 Jan 2007 15:09:24 -0000\r\nReceived: from [66.218.69.6] by n21.bullet.scd.yahoo.com with NNFMP; 09 Jan 2007 15:08:40 -0000\r\nReceived: from [66.218.66.72] by t6.bullet.scd.yahoo.com with NNFMP; 09 Jan 2007 15:08:40 -0000\r\nDate: Tue, 09 Jan 2007 15:08:40 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;eo0b5o+buc3@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90701081018qf5d855au5051c6fde2478491@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;adass75&quot; &lt;adass75@...&gt;\r\nSubject: Re: how do I use my filter when running from ANT1.7\r\nX-Yahoo-Group-Post: member; u=199362954; y=6HP9y3fhflFmctmemXWqyKc211Bqqg4lZRS6QzXtpe82Gw\r\nX-Yahoo-Profile: adass75\r\nX-eGroups-Approved-By: ddoss_2006 &lt;didoss@...&gt; via email; 9 Jan 2007 18:14:05 -0000\r\n\r\nThanks David! This creature works like a charm!\n\n- Ajay\n\n--- In junit@yahoo=\r\ngroups.com, &quot;David Saff&quot; &lt;saff@...&gt; wrote:\n&gt;\n&gt; On 1/5/07, adass75 &lt;adass75@=\r\n...&gt; wrote:\n&gt; &gt; I guess I want to be able to apply my filter and yet not ru=\r\nn from\n&gt; &gt; the main but using the RunWith option. Is the answer to this a\n&gt;=\r\n &gt; customized runner where my filter is applied?adass,\n&gt; \n&gt; Yes, a customiz=\r\ned runner is what you want.  I thought I&#39;d posted \nsuch\n&gt; a creature someti=\r\nme in the past, but wasn&#39;t able to find it.  \nHere&#39;s\n&gt; some code that shoul=\r\nd do the trick.  Above is the usage, below is \nthe\n&gt; implementation.  Share=\r\n and Enjoy,\n&gt; \n&gt;    David Saff\n&gt; \n&gt; \n&gt; \n&gt; package filter;\n&gt; \n&gt; import stati=\r\nc org.junit.Assert.*;\n&gt; \n&gt; import java.lang.annotation.Retention;\n&gt; import =\r\njava.lang.annotation.RetentionPolicy;\n&gt; \n&gt; import org.junit.Test;\n&gt; import =\r\norg.junit.runner.Description;\n&gt; import org.junit.runner.JUnitCore;\n&gt; import=\r\n org.junit.runner.Request;\n&gt; import org.junit.runner.Result;\n&gt; import org.j=\r\nunit.runner.RunWith;\n&gt; import org.junit.runner.Runner;\n&gt; import org.junit.r=\r\nunner.manipulation.Filter;\n&gt; import org.junit.runner.notification.RunNotifi=\r\ner;\n&gt; \n&gt; public class FilterTest {\n&gt; \t\n&gt; \t\n&gt; \t// TEST\n&gt; \t\n&gt; \t\n&gt; \tpublic sta=\r\ntic class AFilter extends PrefixFilter {\n&gt; \t\t@Override\n&gt; \t\tprotected String=\r\n getPrefix() {\n&gt; \t\t\treturn &quot;a&quot;;\n&gt; \t\t}\n&gt; \t}\n&gt; \n&gt; \tpublic static class BFilte=\r\nr extends PrefixFilter {\n&gt; \t\t@Override\n&gt; \t\tprotected String getPrefix() {\n&gt;=\r\n \t\t\treturn &quot;b&quot;;\n&gt; \t\t}\n&gt; \t}\n&gt; \n&gt; \tpublic static class OneAOneB {\n&gt; \t\t@Test\n&gt;=\r\n \t\tpublic void a1() {\n&gt; \n&gt; \t\t}\n&gt; \n&gt; \t\t@Test\n&gt; \t\tpublic void b1() {\n&gt; \n&gt; \t\t}=\r\n\n&gt; \t}\n&gt; \n&gt; \tpublic static class TwoAsOneB extends OneAOneB {\n&gt; \t\t@Test\n&gt; \t\t=\r\npublic void a2() {\n&gt; \n&gt; \t\t}\n&gt; \t}\n&gt; \n&gt; \t@RunWith(FilterRunner.class)\n&gt; \t@Fil=\r\nteredClass(testClass =3D OneAOneB.class, filterClass =3D \nAFilter.class)\n&gt; =\r\n\tpublic static class OneA {\n&gt; \n&gt; \t}\n&gt; \n&gt; \t@RunWith(FilterRunner.class)\n&gt; \t@=\r\nFilteredClass(testClass =3D TwoAsOneB.class, filterClass =3D \nAFilter.class=\r\n)\n&gt; \tpublic static class TwoAs {\n&gt; \n&gt; \t}\n&gt; \n&gt; \t@RunWith(FilterRunner.class)=\r\n\n&gt; \t@FilteredClass(testClass =3D TwoAsOneB.class, filterClass =3D \nBFilter.=\r\nclass)\n&gt; \tpublic static class OneB {\n&gt; \n&gt; \t}\n&gt; \n&gt; \t@Test\n&gt; \tpublic void fil=\r\nterRunnerWorksOnTwoAs() {\n&gt; \t\tResult result =3D JUnitCore.runClasses(TwoAs.=\r\nclass);\n&gt; \t\tassertEquals(2, result.getRunCount());\n&gt; \t}\n&gt; \n&gt; \t@Test\n&gt; \tpubl=\r\nic void filterRunnerWorksOnB() {\n&gt; \t\tResult result =3D JUnitCore.runClasses=\r\n(OneB.class);\n&gt; \t\tassertEquals(1, result.getRunCount());\n&gt; \t}\n&gt; \n&gt; \t@Test\n&gt;=\r\n \tpublic void filterRunnerWorksOnA() {\n&gt; \t\tResult result =3D JUnitCore.runC=\r\nlasses(OneA.class);\n&gt; \t\tassertEquals(1, result.getRunCount());\n&gt; \t}\n&gt; \t\n&gt; \n=\r\n&gt; \t\n&gt; \t\n&gt; \t// IMPLEMENTATION\n&gt; \t\n&gt; \t\n&gt; \t\n&gt; \t\n&gt; \t@Retention(RetentionPolicy.=\r\nRUNTIME)\n&gt; \tpublic @interface FilteredClass {\n&gt; \n&gt; \t\tClass&lt;?&gt; testClass();\n=\r\n&gt; \n&gt; \t\tClass&lt;? extends Filter&gt; filterClass();\n&gt; \n&gt; \t}\n&gt; \n&gt; \tpublic abstract=\r\n static class PrefixFilter extends Filter {\n&gt; \t\t@Override\n&gt; \t\tpublic String=\r\n describe() {\n&gt; \t\t\treturn &quot;methods beginning with &quot; + getPrefix\n();\n&gt; \t\t}\n&gt;=\r\n \n&gt; \t\t@Override\n&gt; \t\tpublic boolean shouldRun(Description description) {\n&gt; \t=\r\n\t\treturn (description.getDisplayName\n().startsWith(getPrefix()));\n&gt; \t\t}\n&gt; \n=\r\n&gt; \t\tprotected abstract String getPrefix();\n&gt; \t}\n&gt; \n&gt; \tpublic static class F=\r\nilterRunner extends Runner {\n&gt; \t\tprivate final Runner delegate;\n&gt; \n&gt; \t\tpubl=\r\nic FilterRunner(Class&lt;?&gt; testClass) throws \nException {\n&gt; \t\t\tRequest classR=\r\nequest =3D Request.aClass\n(getTestClass(testClass));\n&gt; \t\t\tFilter filter =3D=\r\n getFilter(testClass);\n&gt; \t\t\tdelegate =3D classRequest.filterWith\n(filter).g=\r\netRunner();\n&gt; \t\t}\n&gt; \n&gt; \t\tprivate Class&lt;?&gt; getTestClass(Class&lt;?&gt; testClass) =\r\n{\n&gt; \t\t\treturn annotation(testClass).testClass();\n&gt; \t\t}\n&gt; \n&gt; \t\tprivate Filte=\r\nr getFilter(Class&lt;?&gt; testClass) throws \nException {\n&gt; \t\t\treturn annotation(=\r\ntestClass).filterClass\n().newInstance();\n&gt; \t\t}\n&gt; \n&gt; \t\tprivate FilteredClass=\r\n annotation(Class&lt;?&gt; testClass) \n{\n&gt; \t\t\treturn testClass.getAnnotation\n(Fil=\r\nteredClass.class);\n&gt; \t\t}\n&gt; \n&gt; \t\t@Override\n&gt; \t\tpublic Description getDescrip=\r\ntion() {\n&gt; \t\t\treturn delegate.getDescription();\n&gt; \t\t}\n&gt; \n&gt; \t\t@Override\n&gt; \t\t=\r\npublic void run(RunNotifier notifier) {\n&gt; \t\t\tdelegate.run(notifier);\n&gt; \t\t}\n=\r\n&gt; \t}\n&gt; }\n&gt;\n\n\n\n", 
    "profile": "adass75", 
    "topicId": 18647, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 199362954, 
    "prevInTime": 18681, 
    "contentTrasformed": false, 
    "postDate": "1168355320", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 18672, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwMTA4MTAxOHFmNWQ4NTVhdTUwNTFjNmZkZTI0Nzg0OTFAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGVvMGI1bytidWMzQGVHcm91cHMuY29tPg=="
    }
}