{
    "numMessagesInTopic": 3, 
    "nextInTime": 24382, 
    "senderId": "UmvZnul1Ddh72_bOYktAg5xH4xLT5ejuwfKCuLoz9MnmHQ2Y8VMv1s2G5_bykORcckhkT9GrjOhP6mVuiaWpF7_zL7Vvn5lRIk4iVw", 
    "systemMessage": true, 
    "subject": "Re: JUnit 4.12 issue when using theory + enum type + DataPoint that contains a null", 
    "from": "&quot;willmcqueen&quot; &lt;willmcqueen@...&gt;", 
    "authorName": "willmcqueen", 
    "msgSnippet": "Done: https://github.com/junit-team/junit/issues/673 Thanks, David. Cheers, Will", 
    "msgId": 24381, 
    "rawEmail": "Return-Path: &lt;willmcqueen@...&gt;\r\nReceived: (qmail 86481 invoked by uid 102); 4 May 2013 12:37:31 -0000\r\nReceived: from unknown (HELO mta2.grp.bf1.yahoo.com) (10.193.84.150)\n  by m11.grp.bf1.yahoo.com with SMTP; 4 May 2013 12:37:31 -0000\r\nReceived: (qmail 24514 invoked from network); 4 May 2013 12:37:31 -0000\r\nReceived: from unknown (HELO ng6-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.38)\n  by mta2.grp.bf1.yahoo.com with SMTP; 4 May 2013 12:37:31 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1367671051; bh=Y7f22GkcuLfoqczqYCRkPE27zyJ8WyccziFDbR4f3xA=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:In-Reply-To:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=cT3cPBSJpGBoNMWp6qKIxAx+cWBPeXo0R4Rw3qS9fYs1DQM4Y8/K89nOWe6KkA2YX+iduqiNbI7+jpp7PoCv+AzpXddDFtBnjyOKeFOZCdWkVo4zJ3UR27mp+zOZJ55RgdxCGbS1TmiZWXyHNkgUAgZJxMdIAEtppWWP7Ov2tQ4=\r\nReceived: from [98.139.164.120] by ng6.bullet.mail.bf1.yahoo.com with NNFMP; 04 May 2013 12:37:31 -0000\r\nReceived: from [10.193.94.44] by tg1.bullet.mail.bf1.yahoo.com with NNFMP; 04 May 2013 12:37:31 -0000\r\nX-Sender: willmcqueen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 74015 invoked from network); 4 May 2013 10:41:36 -0000\r\nX-Received: from unknown (10.193.84.163)\n  by m4.grp.bf1.yahoo.com with QMQP; 4 May 2013 10:41:36 -0000\r\nX-Received: from unknown (HELO ng10-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.78)\n  by mta3.grp.bf1.yahoo.com with SMTP; 4 May 2013 10:41:36 -0000\r\nX-Received: from [98.139.164.125] by ng10.bullet.mail.bf1.yahoo.com with NNFMP; 04 May 2013 10:41:36 -0000\r\nX-Received: from [10.193.94.44] by tg6.bullet.mail.bf1.yahoo.com with NNFMP; 04 May 2013 10:41:36 -0000\r\nDate: Sat, 04 May 2013 10:41:36 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;km2ol0+f3k6@...&gt;\r\nIn-Reply-To: &lt;CALrw-Py+qa2vgWvAeBuA5xB0VkRB8_JhKcA851mSOHe-QW=KNw@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;willmcqueen&quot; &lt;willmcqueen@...&gt;\r\nSubject: Re: JUnit 4.12 issue when using theory + enum type + DataPoint that contains a null\r\nX-Yahoo-Group-Post: member; u=125879749; y=xptnvstP59-J8E3lMSyFYYA-Na3u6T_zgpzwyC9m3-WjWYErb7U\r\nX-Yahoo-Profile: willmcqueen\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 04 May 2013 12:37:31 -0000\r\n\r\nDone:\n     https://github.com/junit-team/junit/issues/673\nThanks, David.\n\nC=\r\nheers,\nWill\n\n--- In junit@yahoogroups.com, David Saff &lt;saff@...&gt; wrote:\n&gt;\n&gt;=\r\n Will,\n&gt; \n&gt; I think this is relevant to recent work on theories by @pimterr=\r\ny.  Can you\n&gt; create a bug on github, and mention @pimterry in the descript=\r\nion?  Thanks,\n&gt; \n&gt;    David\n&gt; \n&gt; \n&gt; On Wed, May 1, 2013 at 5:59 PM, willmcq=\r\nueen &lt;willmcqueen@...&gt; wrote:\n&gt; \n&gt; &gt; **\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hi,\n&gt; &gt;\n&gt; &gt; I have a Th=\r\neory with a parameter list that includes a String, a boolean,\n&gt; &gt; and an en=\r\num. The latter 2 should be automatically assigned and should not\n&gt; &gt; need a=\r\nny explicit @DataPoint declaration (per the release note description\n&gt; &gt; be=\r\nlow. When I run the test, the enum param is assigned the null value\n&gt; &gt; ins=\r\ntead of being assigned each value of the enum, and I&#39;m not sure why this\n&gt; =\r\n&gt; is not working for me. I would appreciate any help you can offer, please.=\r\n\n&gt; &gt;\n&gt; &gt; I cloned master from here:\n&gt; &gt;\n&gt; &gt; https://github.com/junit-team/j=\r\nunit\n&gt; &gt;\n&gt; &gt; ...and looked at the JUnit 4.12 release notes:\n&gt; &gt;\n&gt; &gt; https:/=\r\n/github.com/junit-team/junit/wiki/4.12-release-notes\n&gt; &gt;\n&gt; &gt; ...and scrolle=\r\nd-down to pull request #654 which says:\n&gt; &gt;\n&gt; &gt; &quot;Any theory method paramete=\r\nrs with boolean or enum types that can&#39;t be\n&gt; &gt; supplied with values by any=\r\n other sources will be automatically supplied\n&gt; &gt; with default values: true=\r\n and false, or every value of the given enum. If\n&gt; &gt; other explicitly defin=\r\ned values are available (e.g. from a specified\n&gt; &gt; ParameterSupplier or som=\r\ne DataPoints method in the theory class), only\n&gt; &gt; those explicitly defined=\r\n values will be used.&quot;\n&gt; &gt;\n&gt; &gt; On that same release notes page, I also see =\r\nthe comment under pull request\n&gt; &gt; #549, which says that a @DataPoint-annot=\r\nated array field can contain null\n&gt; &gt; values.\n&gt; &gt;\n&gt; &gt; So here&#39;s my test:\n&gt; =\r\n&gt;\n&gt; &gt; import org.junit.experimental.theories.DataPoints;\n&gt; &gt; import org.jun=\r\nit.experimental.theories.Theories;\n&gt; &gt; import org.junit.experimental.theori=\r\nes.Theory;\n&gt; &gt; import org.junit.runner.RunWith;\n&gt; &gt;\n&gt; &gt; @RunWith(Theories.c=\r\nlass)\n&gt; &gt; public class QuickTest {\n&gt; &gt;\n&gt; &gt; @DataPoints\n&gt; &gt; public static St=\r\nring[] platforms =3D new String[]{&quot;windows&quot;, &quot;linux&quot;, null};\n&gt; &gt;\n&gt; &gt; public=\r\n static enum JDKS {\n&gt; &gt; JDK6,\n&gt; &gt; JDK7,\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; @Theory\n&gt; &gt; public vo=\r\nid testFoo(String platform, boolean truth, JDKS j) throws\n&gt; &gt; Exception {\n&gt;=\r\n &gt; System.out.println(platform + &quot;:&quot; + truth + &quot;:&quot; + j);\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; }\n&gt; =\r\n&gt;\n&gt; &gt; ...and here&#39;s the output:\n&gt; &gt; windows:true:null\n&gt; &gt; windows:false:nul=\r\nl\n&gt; &gt; linux:true:null\n&gt; &gt; linux:false:null\n&gt; &gt; null:true:null\n&gt; &gt; null:fals=\r\ne:null\n&gt; &gt;\n&gt; &gt; ...which is not what I expected... I expected the 3rd value =\r\nto be JDK6 or\n&gt; &gt; JDK7. I run a 2nd test, but this time I remove the null a=\r\nrray element from\n&gt; &gt; the &#39;platforms&#39; field, and the results are expected:\n=\r\n&gt; &gt;\n&gt; &gt; import org.junit.experimental.theories.DataPoints;\n&gt; &gt; import org.j=\r\nunit.experimental.theories.Theories;\n&gt; &gt; import org.junit.experimental.theo=\r\nries.Theory;\n&gt; &gt; import org.junit.runner.RunWith;\n&gt; &gt;\n&gt; &gt; @RunWith(Theories=\r\n.class)\n&gt; &gt; public class QuickTest {\n&gt; &gt;\n&gt; &gt; @DataPoints\n&gt; &gt; public static =\r\nString[] platforms =3D new String[]{&quot;windows&quot;, &quot;linux&quot;};\n&gt; &gt;\n&gt; &gt; public sta=\r\ntic enum JDKS {\n&gt; &gt; JDK6,\n&gt; &gt; JDK7,\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; @Theory\n&gt; &gt; public void t=\r\nestFoo(String platform, boolean truth, JDKS j) throws\n&gt; &gt; Exception {\n&gt; &gt; S=\r\nystem.out.println(platform + &quot;:&quot; + truth + &quot;:&quot; + j);\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; }\n&gt; &gt;\n&gt; =\r\n&gt; ...which results in:\n&gt; &gt; windows:true:JDK6\n&gt; &gt; windows:true:JDK7\n&gt; &gt; wind=\r\nows:false:JDK6\n&gt; &gt; windows:false:JDK7\n&gt; &gt; linux:true:JDK6\n&gt; &gt; linux:true:JD=\r\nK7\n&gt; &gt; linux:false:JDK6\n&gt; &gt; linux:false:JDK7\n&gt; &gt;\n&gt; &gt; Cool. But now just for=\r\n fun, I remove the &#39;platform&#39; param from testFoo and\n&gt; &gt; I restore the null=\r\n array element to &#39;platforms&#39; field. Since there is no\n&gt; &gt; longer any Strin=\r\ng param in the param list (and since String is a final\n&gt; &gt; class so there&#39;s=\r\n no possibility of an assignable subclass), I expect that\n&gt; &gt; the &#39;platform=\r\ns&#39; DataPoint will just be silently ignored and I would get the\n&gt; &gt; expected=\r\n output. But I actually see the unexpected output, as if a null\n&gt; &gt; array e=\r\nlement that exists in a field (that&#39;s not even used in the Theory&#39;s\n&gt; &gt; par=\r\nam list) is affecting the values of a totally different type, the enum\n&gt; &gt; =\r\ntype (causing the enum param to receive only a null value):\n&gt; &gt;\n&gt; &gt; import =\r\norg.junit.experimental.theories.DataPoints;\n&gt; &gt; import org.junit.experiment=\r\nal.theories.Theories;\n&gt; &gt; import org.junit.experimental.theories.Theory;\n&gt; =\r\n&gt; import org.junit.runner.RunWith;\n&gt; &gt;\n&gt; &gt; @RunWith(Theories.class)\n&gt; &gt; pub=\r\nlic class QuickTest {\n&gt; &gt;\n&gt; &gt; @DataPoints\n&gt; &gt; public static String[] platfo=\r\nrms =3D new String[]{&quot;windows&quot;, &quot;linux&quot;, null};\n&gt; &gt;\n&gt; &gt; public static enum =\r\nJDKS {\n&gt; &gt; JDK6,\n&gt; &gt; JDK7,\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; @Theory\n&gt; &gt; public void testFoo(bo=\r\nolean truth, JDKS j) throws Exception {\n&gt; &gt; System.out.println(truth + &quot;:&quot; =\r\n+ j);\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; ...which results in:\n&gt; &gt; true:null\n&gt; &gt; false:=\r\nnull\n&gt; &gt;\n&gt; &gt; Maybe I&#39;m missing something?\n&gt; &gt;\n&gt; &gt; Thank you.\n&gt; &gt;\n&gt; &gt; Cheers=\r\n,\n&gt; &gt; Will\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; [Non-text portions of this message have be=\r\nen removed]\n&gt;\n\n\n", 
    "profile": "willmcqueen", 
    "topicId": 24378, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 125879749, 
    "prevInTime": 24380, 
    "contentTrasformed": false, 
    "postDate": "1367664096", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24380, 
    "headers": {
        "inReplyToHeader": "PENBTHJ3LVB5K3FhMnZnV3ZBZUJ1QTV4QjBWa1JCOF9KaEtjQTg1MW1TT0hlLVFXPUtOd0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGttMm9sMCtmM2s2QGVHcm91cHMuY29tPg=="
    }
}