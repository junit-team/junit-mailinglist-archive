{
    "numMessagesInTopic": 14, 
    "nextInTime": 15654, 
    "senderId": "Qe6lpJXuPmEJnsgnLwhggohL3QGNNPKXPiT6qWGrxDIdFF9wRljzmM4I8OEr3nLM62LQKmH0tRJ_c-8woLP0sgtaz2DgIwq_Mrj4yw75x83H", 
    "systemMessage": false, 
    "subject": "Re: [junit] Clarifying how to use unit tests", 
    "from": "Rakesh Patel &lt;rakesh.mailgroups@...&gt;", 
    "authorName": "Rakesh Patel", 
    "msgSnippet": "Hi Cedric, if i write a test against my interface then i am essentially writing a functional test. Thats not terrible except for the fact that as its so high", 
    "msgId": 15653, 
    "rawEmail": "Return-Path: &lt;rakesh.mailgroups@...&gt;\r\nX-Sender: rakesh.mailgroups@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 63751 invoked from network); 8 Dec 2005 17:51:57 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m31.grp.scd.yahoo.com with QMQP; 8 Dec 2005 17:51:57 -0000\r\nReceived: from unknown (HELO nproxy.gmail.com) (64.233.182.192)\n  by mta4.grp.scd.yahoo.com with SMTP; 8 Dec 2005 17:51:56 -0000\r\nReceived: by nproxy.gmail.com with SMTP id g2so188633nfe\n        for &lt;junit@yahoogroups.com&gt;; Thu, 08 Dec 2005 09:48:51 -0800 (PST)\r\nReceived: by 10.49.35.16 with SMTP id n16mr304251nfj;\n        Thu, 08 Dec 2005 09:48:50 -0800 (PST)\r\nReturn-Path: &lt;rakesh.mailgroups@...&gt;\r\nReceived: from ?172.22.20.56? ( [213.86.137.253])\n        by mx.gmail.com with ESMTP id m16sm665519nfc.2005.12.08.09.48.49;\n        Thu, 08 Dec 2005 09:48:50 -0800 (PST)\r\nMessage-ID: &lt;43987211.1060406@...&gt;\r\nDate: Thu, 08 Dec 2005 17:49:05 +0000\r\nUser-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;4380CEC9.6000704@...&gt;\t &lt;1132583193.4381d919cef10@...&gt;\t &lt;439842C4.8090700@...&gt; &lt;b86b6a9c0512080820v53ec6164gba4e57f72a0079e9@...&gt;\r\nIn-Reply-To: &lt;b86b6a9c0512080820v53ec6164gba4e57f72a0079e9@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Rakesh Patel &lt;rakesh.mailgroups@...&gt;\r\nSubject: Re: [junit] Clarifying how to use unit tests\r\nX-Yahoo-Group-Post: member; u=217486622; y=cz0YBCXy4ksJVRA76GRYLgC08UrMcHvHV9CZcH6q21BXKPw\r\nX-Yahoo-Profile: patelr08\r\n\r\nHi Cedric,\n\nif i write a test against my interface then i am essentially writing a \nfunctional test. Thats not terrible except for the fact that as its so \nhigh up i will probably have to wire up the layers beneath, which you \nmention.\n\nSo for my high level test, I end up doing this:\n\nprotected void setUp() throws Exception {\nsuper.setUp();\nfs = new FetserverSoapBindingImpl();\nls = new LogonServiceImpl(manager, &quot;testCache&quot;);\nps = new PostcodeServiceMockImpl();\n\n((FetserverSoapBindingImpl) fs).setLs(ls);\n((FetserverSoapBindingImpl) fs).setPs(ps);\n}\n\nwhich is wiring up all my classes. Fortunately, i may have dummy \nimplementations instead i can use (PostcodeServiceMockImpl for example).\n\nI don&#39;t have a big issue doing this because i intend to use Spring which \nwill allow wiring up beans like this in a much simpler fashion.\n\nNow, the point about not having a testcase for an interface \nimplementation - if i skip it, what about all those private methods? \nSurely, this is the whole point of UNIT testing, ie calling all the \nmethods???\n\nPersonally, i prefer the high level approach but as an earlier post \npointed out, you don&#39;t get to test all the pathways from the top fully.\n\nAny feedback appreciated.\n\nR\n\nCédric Beust ♔ wrote:\n\n&gt;On 12/8/05, Rakesh Patel &lt;rakesh.mailgroups@...&gt; wrote:\n&gt;  \n&gt;\n&gt;&gt;So here&#39;s my initial design.\n&gt;&gt;\n&gt;&gt;public interface PostcodeService {\n&gt;&gt;    public String getAddressAsXML(String postcode);\n&gt;&gt;}\n&gt;&gt;\n&gt;&gt;now, should I write a test class against the\n&gt;&gt;interface(PostcodeServiceTest) or against the implementation\n&gt;&gt;class(PostcodeServiceImplTest)?\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;\n&gt;Interface:  absolutely.\n&gt;Implementation:  depends.\n&gt;\n&gt;Ideally, the business logic of your test should run against the interface\n&gt;exclusively and which implementation is being used can then be decided at\n&gt;setUp time, via dependency injection or data providers:\n&gt;\n&gt;private PostCodeService m_postCodeService;\n&gt;\n&gt;@Configuration(beforeTestClass = true)\n&gt;public void classSetUp() {\n&gt;  m_postCodeService = new PostCodeServiceImpl();\n&gt;}\n&gt;\n&gt;@Test\n&gt;public void verifyAddressAsXml(String postCode) {\n&gt;  m_postCodeService.foo(postCode);\n&gt;  // assert\n&gt;}\n&gt;\n&gt;In this example, classSetUp() hardcodes the implementation to be used but\n&gt;you could imagine making this more flexible (depending on a parameter, a\n&gt;test group, etc...).  Also, separating your tests from your set up (e.g.\n&gt;base class / child class) will give you even more flexibility to switch\n&gt;implementations at runtime without altering the business logic that tests\n&gt;your interface.\n&gt;\n&gt;\n&gt;\n&gt;  \n&gt;\n&gt;&gt;I am spending way too long thinking about this rather than writing code\n&gt;&gt;which has me a bit worried.\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;\n&gt;Sometimes, spending a lot of time thinking about a problem causes you to\n&gt;write less code in the end.  Hopefully, this is one of these cases :-)\n&gt;\n&gt;--\n&gt;Cédric\n&gt;http://testng.org\n&gt;\n&gt;\n&gt;[Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt; \n&gt;\n&gt;\n&gt;\n&gt;  \n&gt;\n\n", 
    "profile": "patelr08", 
    "topicId": 15467, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 217486622, 
    "prevInTime": 15652, 
    "contentTrasformed": false, 
    "postDate": "1134064145", 
    "canDelete": false, 
    "nextInTopic": 15656, 
    "prevInTopic": 15651, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDUxMjA4MDgyMHY1M2VjNjE2NGdiYTRlNTdmNzJhMDA3OWU5QG1haWwuZ29vZ2xlLmNvbT4=", 
        "messageIdInHeader": "PDQzOTg3MjExLjEwNjA0MDZAZ21haWwuY29tPg==", 
        "referencesHeader": "PDQzODBDRUM5LjYwMDA3MDRAZ21haWwuY29tPgkgPDExMzI1ODMxOTMuNDM4MWQ5MTljZWYxMEBpbWFwLmNzYWlsLm1pdC5lZHU+CSA8NDM5ODQyQzQuODA5MDcwMEBnbWFpbC5jb20+IDxiODZiNmE5YzA1MTIwODA4MjB2NTNlYzYxNjRnYmE0ZTU3ZjcyYTAwNzllOUBtYWlsLmdvb2dsZS5jb20+"
    }
}