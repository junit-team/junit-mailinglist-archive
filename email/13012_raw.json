{
    "numMessagesInTopic": 7, 
    "nextInTime": 13013, 
    "senderId": "x_PKURG8PZwsxMlUTgt4w0P4uXOGL98Fr8xJDJHequ_8GkLAuYZGnv-8LP9CseqaFdtoDEEkWBQlk0YkIPJceyAvGp0W-qHkleA_fYSTyAfLnsUqoQ", 
    "systemMessage": true, 
    "subject": "RE: [junit] Change the system time for the test", 
    "from": "&quot;Crutcher, John&quot; &lt;john.crutcher@...&gt;", 
    "authorName": "Crutcher, John", 
    "msgSnippet": "Although I have never tried this in Java, I accessed the kernel32.dll to read the time. That library has a function SetSystemTime to do what you want. Java has", 
    "msgId": 13012, 
    "rawEmail": "Return-Path: &lt;John.Crutcher@...&gt;\r\nReceived: (qmail 83376 invoked from network); 3 Mar 2005 20:04:26 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m16.grp.scd.yahoo.com with QMQP; 3 Mar 2005 20:04:26 -0000\r\nReceived: from unknown (HELO n16a.bulk.scd.yahoo.com) (66.94.237.45)\n  by mta3.grp.scd.yahoo.com with SMTP; 3 Mar 2005 20:04:25 -0000\r\nDomainKey-Signature: \r\nReceived: from [66.218.69.6] by n16.bulk.scd.yahoo.com with NNFMP; 03 Mar 2005 20:04:01 -0000\r\nReceived: from [66.218.66.73] by mailer6.bulk.scd.yahoo.com with NNFMP; 03 Mar 2005 20:04:01 -0000\r\nX-Sender: John.Crutcher@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 96281 invoked from network); 2 Mar 2005 19:18:05 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m8.grp.scd.yahoo.com with QMQP; 2 Mar 2005 19:18:05 -0000\r\nReceived: from unknown (HELO aocmail1.courts.wa.gov) (206.194.128.72)\n  by mta4.grp.scd.yahoo.com with SMTP; 2 Mar 2005 19:18:05 -0000\r\nX-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0\r\ncontent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Wed, 2 Mar 2005 11:18:04 -0800\r\nMessage-ID: &lt;2FBC367E38C44E4DB3760E190ADB5B2C25A984@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] Change the system time for the test\r\nThread-Index: AcUfVnjuRpm+3DD0RsmjOVK+1bTAXAABQ2uw\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nX-eGroups-Remote-IP: 206.194.128.72\r\nFrom: &quot;Crutcher, John&quot; &lt;john.crutcher@...&gt;\r\nSubject: RE: [junit] Change the system time for the test\r\nX-Yahoo-Group-Post: member; u=188755716\r\nX-Yahoo-Profile: johnc32000\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via web; 03 Mar 2005 20:03:59 -0000\r\nX-eGroups-Remote-IP: 66.94.237.45\r\n\r\n\nAlthough I have never tried this in Java, I accessed the kernel32.dll to\nread the time. That library has a function SetSystemTime to do what you\nwant. \n\n \n\nJava has a class called Runtime that should allow you to use that\nlibrary. \n\n \n\nHere&#39;s a link to MS&#39;s SetSystemTime:\n\nhttp://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo\n/base/setsystemtime.asp\n\n \n\nHere&#39;s how I did it in Basic:\n\n \n\nType SYSTEMTIME\n\n   thisYear As integer\n\n   thisMonth As integer\n\n   thisDayOfWeek As integer\n\n   thisDay As integer\n\n   thisHour As integer\n\n   thisMinute As integer\n\n   thisSecond As integer\n\n   thisMilliseconds As integer\n\nEnd Type \n\n \n\nDeclare Sub GetSystemTime lib &quot;kernel32&quot; Alias &quot;GetSystemTime&quot; (ByRef\nIpSystemTime As SYSTEMTIME)\n\nDeclare Function getMS() as long\n\n \n\n \n\nFunction getMS() as long\n\n    Dim systime As SYSTEMTIME\n\n    call GetSystemTime(systime) &#39;From kernel32.dll\n\n    Dim total as long\n\n    Dim minutes as long\n\n    dim seconds as long \n\n    dim hours as long \n\n    \n\n    hours = systime.thisHour * 3600000\n\n    minutes = systime.thisMinute * 60000\n\n    seconds = systime.thisSecond\n\n    seconds = seconds * 1000\n\n    total = hours + minutes + seconds + systime.thisMilliseconds\n\n    \n\n    getMS = total\n\n    \n\nEnd Function\n\n \n\nJohn Crutcher\n\nAdministrative Office of the Courts\n\n1206 Quince St. SE\n\nPO Box 41170\n\nOlympia, WA 98504-1170\n\n \n\n-----Original Message-----\nFrom: haefeleuser [mailto:haefeleuser@...] \nSent: Wednesday, March 02, 2005 10:33 AM\nTo: junit@yahoogroups.com\nSubject: [junit] Change the system time for the test\n\n \n\n\nFor my JUnit tests I need to modify the system time.\n\nInstead of doing this manually by changing the OS clock I would like\nto change the clock programatically in Java.\n\nOf course I can set the time on the Calendar object in the JUnit test.\nBut it has no effect on the tested class. In the tested class &quot;new\nDate() &quot; returns always the current date and not the one which I set\nin my JUnit test.\n\nI have test data for business logic which I create before the test\nstarts and which contain absolute dates like 2004-12-31. So I need to\nmodify the system date for my tests.\n\nWhat I need to test is calculation of the average sold quantity. But\nonly the last X weeks (from today) need to be considered. My test\nsales data contains dates like 2004-12-31. Its much easier for me to\nwrite and understand data with such &quot;absolute&quot; dates instead of\nrelative dates (by rolling the dates around and not understanding it\nquickly). So it would be good for me to simply set the system date\nbefore the test starts and thus use absolute dates for my tests\ninstead of relative ones.\n\nOf course I could make the dates of the test data relative, but that\nwould be harder to code, understand and to maintain. It better for me\nto change the system time. But it needs to be done programatically in\nthe JUnit test and not manually by changing the OS date by hand.\n\nCan you provide a solution for that please?\n\n\n\n\n\n\n\nYahoo! Groups Sponsor\n\nADVERTISEMENT\nclick here\n&lt;http://us.ard.yahoo.com/SIG=12945os7l/M=298184.6018725.7038619.3001176/\nD=groups/S=1705006905:HM/EXP=1109874852/A=2593423/R=0/SIG=11el9gslf/*htt\np:/www.netflix.com/Default?mqso=60190075&gt; \n\n \n&lt;http://us.adserver.yahoo.com/l?M=298184.6018725.7038619.3001176/D=group\ns/S=:HM/A=2593423/rand=813537480&gt; \n\n \n\n  _____  \n\nYahoo! Groups Links\n\n*         To visit your group on the web, go to:\nhttp://groups.yahoo.com/group/junit/\n  \n\n*         To unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogroups.com\n&lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; \n  \n\n*         Your use of Yahoo! Groups is subject to the Yahoo! Terms of\nService &lt;http://docs.yahoo.com/info/terms/&gt; . \n\n\n\n[Non-text portions of this message have been removed]\n\n\n\n\n\n", 
    "profile": "johnc32000", 
    "topicId": 12997, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 188755716, 
    "prevInTime": 13011, 
    "contentTrasformed": false, 
    "postDate": "1109791084", 
    "canDelete": false, 
    "nextInTopic": 13040, 
    "prevInTopic": 13002, 
    "headers": {
        "messageIdInHeader": "PDJGQkMzNjdFMzhDNDRFNERCMzc2MEUxOTBBREI1QjJDMjVBOTg0QEFPQ0VYQ0gxLmNvdXJ0cy53YS5nb3Y+"
    }
}