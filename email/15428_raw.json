{
    "numMessagesInTopic": 4, 
    "nextInTime": 15429, 
    "senderId": "yzbLt5pkuZlbRAKytFsTXewTX-NOjiby9_mZlHf_Xq-aIhg14Q-kbfpu4m4fqTd_HSDzEh7cF4Z5mFgxG47NzgSoR7nzfidF", 
    "systemMessage": false, 
    "subject": "RE: [junit] testing ant failure", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Thomas, I had to test a custom Ant task and the best strategy I could figure out was the kind of textual pattern matching you describe. Kent Beck Three Rivers", 
    "msgId": 15428, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 39072 invoked from network); 14 Nov 2005 21:51:12 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m30.grp.scd.yahoo.com with QMQP; 14 Nov 2005 21:51:12 -0000\r\nReceived: from unknown (HELO smtpauth08.mail.atl.earthlink.net) (209.86.89.68)\n  by mta4.grp.scd.yahoo.com with SMTP; 14 Nov 2005 21:51:11 -0000\r\nReceived: from [67.131.9.243] (helo=T42)\n\tby smtpauth08.mail.atl.earthlink.net with asmtp (Exim 4.34)\n\tid 1EbmEJ-0001Zx-74\n\tfor junit@yahoogroups.com; Mon, 14 Nov 2005 16:51:11 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Mon, 14 Nov 2005 13:51:07 -0800\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook, Build 11.0.5510\r\nIn-Reply-To: &lt;OFC9075250.37ADA0D7-ON872570B6.00742F90-852570B6.007657A1@...&gt;\r\nThread-Index: AcXnB3JlKhQ6mWchSr2g2c4iBbYBwwAWH2VQ\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180\r\nMessage-ID: &lt;E1EbmEJ-0001Zx-74@...&gt;\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d4781fc177a00eba3cd194b3bc6205f2f42bb7966cc3f969709b350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nFrom: &quot;Kent Beck&quot; &lt;kentb@...&gt;\r\nSubject: RE: [junit] testing ant failure\r\nX-Yahoo-Group-Post: member; u=173198504; y=YygedQAlNrSedQuUfv3E7TLzS1OQRyc8x3C_B-ZOaut4nmrj\r\nX-Yahoo-Profile: kentlbeck\r\n\r\nThomas,\n\nI had to test a custom Ant task and the best strategy I could figure out was\nthe kind of textual pattern matching you describe.\n\nKent Beck\nThree Rivers Institute\n\n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On \n&gt; Behalf Of Thomas L Roche\n&gt; Sent: Friday, November 11, 2005 1:34 PM\n&gt; To: user@...; junit@yahoogroups.com\n&gt; Subject: [junit] testing ant failure\n&gt; \n&gt; &lt;Apologies in advance for cross-posting, but I couldn&#39;t decide which\n&gt; list was more appropriate.&gt;\n&gt; \n&gt; How to test that an ant script fails appropriately? Specifically:\n&gt; \n&gt; I&#39;m working on a build app (a java app for building lots of different\n&gt; things in lots of different places) that basically {creates, shleps,\n&gt; invokes} ant scripts. I have a few JUnit tests on the app (and am\n&gt; writing more). I&#39;m hooking in a scanner that causes a build to fail if\n&gt; a build prerequisite is not found. I know the scanner works because I\n&gt; can manually\n&gt; \n&gt; * move a prereq file so that it&#39;s not where the build expects it\n&gt; \n&gt; * see the BUILD FAILED message corresponds to the message attribute of\n&gt;   the appropriate &lt;fail&gt; task\n&gt; \n&gt; (Unfortunately existing, downstream tests in the current suite (that\n&gt; look for the appropriate build outputs) don&#39;t fail: they greenbar (in\n&gt; eclipse&#39;s runner), presumably because they don&#39;t run.)\n&gt; \n&gt; I&#39;d prefer to automate this, e.g. to create one or more separate\n&gt; suites with\n&gt; \n&gt; * setUp() that sets up the prereqs not-quite-correctly, then invokes\n&gt;   the build\n&gt; \n&gt; * a testBuildFailed() that checks for failure\n&gt; \n&gt; * a testBuildFailedAppropriately() that checks for appropriate failure\n&gt; \n&gt; What&#39;s the &quot;best way&quot; to test for appropriate failure? The only thing\n&gt; that comes to my mind is to parse the logfile, e.g.\n&gt; \n&gt; * check for a &quot;BUILD FAILED&quot; line\n&gt; \n&gt; * check that a line after the &quot;BUILD FAILED&quot; line contains the\n&gt;   appropriate failure message.\n&gt; \n&gt; Is there an easier/better way? Note that I do have access to the app\n&gt; code and scripts, and I am more-than-willing to instrument them for\n&gt; testability.\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 15396, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 15427, 
    "contentTrasformed": false, 
    "postDate": "1132005067", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15411, 
    "headers": {
        "inReplyToHeader": "PE9GQzkwNzUyNTAuMzdBREEwRDctT044NzI1NzBCNi4wMDc0MkY5MC04NTI1NzBCNi4wMDc2NTdBMUB1cy5pYm0uY29tPg==", 
        "messageIdInHeader": "PEUxRWJtRUotMDAwMVp4LTc0QHNtdHBhdXRoMDgubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}