{
    "numMessagesInTopic": 4, 
    "nextInTime": 22624, 
    "senderId": "6MrpK0ViU3mCaSi1dA6KbwAyitUiVpdzxCjataGu7CgDzqcnbRPgaBSSRbgWmTAst6HU0m5rB9jalTBCZ2xbdY5j02m8", 
    "systemMessage": true, 
    "subject": "Fwd: regarding of junit code", 
    "from": "suneetha k &lt;kokarla@...&gt;", 
    "authorName": "suneetha k", 
    "msgSnippet": "hi This is suneetha. iam new to cactus junit. can u please tel how to write cactus junit for this class. my english is not good.but hope u r understanding wht", 
    "msgId": 22623, 
    "topicId": 22623, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 442873175, 
    "messageBody": "<div id=\"ygrps-yiv-1837897846\">hi<br/>\n<br/>\nThis is suneetha. iam new to cactus junit. can u please tel how to write<br/>\ncactus junit for this class.<br/>\nmy english is not good.but hope u r understanding wht iam saying.<br/>\nactually this is deligate class. in this we create a datagram then we return<br/>\nsome string. how to test expected with actual result.<br/>\n<br/>\nplease help me.<br/>\n<br/>\n<br/>\n<br/>\npublic MicrositeDetailsDTO *processBeforeRedirect *(final HttpServletRequest<br/>\nrequest,<br/>\n   final HttpServletResponse response, final MicrositeIntegrationInput<br/>\nmicrositeIntegrationInputObject)<br/>\n  throws ProfileDataFetchException {<br/>\n<br/>\n  final String METHOD_NAME = &quot;processBeforeRedirect&quot;;<br/>\n  logger.logMethodStart(METHOD_NAME);<br/>\n<br/>\n  MicrositeDetailsDTO micrositDetailDTO = new MicrositeDetailsDTO();<br/>\n  String wrpLoginName = micrositeIntegrationInputObject.getWrpLoginName();<br/>\n  String partnerName = micrositeIntegrationInputObject.getPartnerName();<br/>\n  String service = micrositeIntegrationInputObject.getService();<br/>\n  String redirectUrl =<br/>\nmicrositeIntegrationInputObject.getMicrositeRedirectURL();<br/>\n  String data;<br/>\n<br/>\n  if (logger.isDebugLoggingEnabled()) {<br/>\n   logger.log(VodafoneLogger.LOGLEVEL_DEBUG, METHOD_NAME,<br/>\n     &quot;partnerName =&quot; + partnerName + &quot;service =&quot; + service);<br/>\n  }<br/>\n<br/>\n  micrositDetailDTO.setPartnerName(partnerName);<br/>\n  micrositDetailDTO.setService(service);<br/>\n  micrositDetailDTO.setRedirectURL(redirectUrl);<br/>\n<br/>\n  boolean isRedirectAllowed = false;<br/>\n  String integrationStatus =<br/>\nMicrositeDetailsXMLReader.getIntegrationStatus(partnerName);<br/>\n  Boolean isSSOMicrosite = (Boolean)<br/>\nrequest.getSession().getAttribute(LoginServiceConstants.IS_SSO_MICROSITE);<br/>\n<br/>\n  micrositDetailDTO.setRedirectRequired(isRedirectAllowed);<br/>\n<br/>\n  data = createDatagram(request,wrpLoginName,partnerName);<br/>\n<br/>\n  //Set the Datagram in the MicrositeDetailsDTO<br/>\n  micrositDetailDTO.setData(data);<br/>\n<br/>\n  if (logger.isDebugLoggingEnabled()) {<br/>\n   logger.log(VodafoneLogger.LOGLEVEL_DEBUG, METHOD_NAME,<br/>\n     &quot;micrositeDetailsDTO  =&quot; + micrositDetailDTO);<br/>\n  }<br/>\n  logger.logMethodEnd(METHOD_NAME);<br/>\n<br/>\n  return micrositDetailDTO;<br/>\n }<br/>\n<br/>\n    public String *createDatagram*(HttpServletRequest request,String<br/>\nwrpLoginName, String partnerName)<br/>\n   throws ProfileDataFetchException {<br/>\n<br/>\n  final String METHOD_NAME = &quot;createDatagram(HttpServletRequest<br/>\nrequest,String wrpLoginName, String partnerName)&quot;;<br/>\n  String status =<br/>\nrequest.getParameter(MicrositeIntegrationConstants.STATUS_FIELD);<br/>\n  logger.logMethodStart(METHOD_NAME);<br/>\n<br/>\n  if (logger.isDebugLoggingEnabled()) {<br/>\n   logger.log(VodafoneLogger.LOGLEVEL_DEBUG, METHOD_NAME,&quot;partnerName:&quot; +<br/>\npartnerName);<br/>\n  }<br/>\n  //picking value from userDetailsDTO in session<br/>\n  UserDetailsDTO userDetailsDTO = (UserDetailsDTO) (request.getSession().<br/>\n   getAttribute(MicrositeIntegrationConstants.SESSION_KEY_USER_DETAILS));<br/>\n  wrpLoginName =<br/>\n(userDetailsDTO!=null)?userDetailsDTO.getWrpLoginName():wrpLoginName;//from<br/>\nrequest<br/>\n  if(logger.isDebugLoggingEnabled()){<br/>\n<br/>\nlogger.log(VodafoneLogger.LOGLEVEL_DEBUG,METHOD_NAME,&quot;wrpLoginName form<br/>\nsession &quot;+ wrpLoginName);<br/>\n        }<br/>\n<br/>\n  //Map containing all the mandatory profile fields data.<br/>\n  HashMap mandatoryProfileFieldsMap = new HashMap();<br/>\n  //Map containing all the required non-mandatory profile fields data.<br/>\n  HashMap nonMandatoryProfileFields = new HashMap();<br/>\n  //Get the mandatory user profile fields from VodafoneUser property set.<br/>\n  List mandatoryUserProfileList =<br/>\nMicrositeDetailsXMLReader.getMandatoryFields(partnerName,<br/>\n    MicrositeIntegrationConstants.PROFILE_VODAFONE_USER_NODE);<br/>\n  if (null!= mandatoryUserProfileList &&<br/>\n!mandatoryUserProfileList.isEmpty()) {<br/>\n   HashMap fieldsDataMap =<br/>\ngetDataForProfileFields(wrpLoginName,UserProfileConstants.USERPROPERTYSET,<br/>\n     mandatoryUserProfileList);<br/>\n   if (null != fieldsDataMap) {<br/>\n    mandatoryProfileFieldsMap.putAll(fieldsDataMap);<br/>\n   }<br/>\n  }<br/>\n<br/>\n  //Get the mandatory user profile fields from VodafoneUserSubscription<br/>\nproperty set<br/>\n  List mandatoryUserProfileSubscriptionList =<br/>\nMicrositeDetailsXMLReader.getMandatoryFields<br/>\n   (partnerName,MicrositeIntegrationConstants.PROFILE_VODAFONE_USER_SUBSCRIPTION_NODE);<br/>\n  if (null != mandatoryUserProfileSubscriptionList &&<br/>\n!mandatoryUserProfileSubscriptionList.isEmpty()) {<br/>\n   HashMap fieldsDataMap =<br/>\ngetDataForProfileFields(wrpLoginName,UserProfileConstants.SUBSCRIPTIONPROPERTYSET,<br/>\n     mandatoryUserProfileSubscriptionList);<br/>\n   if (null != fieldsDataMap) {<br/>\n    mandatoryProfileFieldsMap.putAll(fieldsDataMap);<br/>\n   }<br/>\n  }<br/>\n<br/>\n  //Get the non-mandatory user profile fields from VodafoneUser property set<br/>\n  List nonMandatoryProfileList =<br/>\nMicrositeDetailsXMLReader.getNonMandatoryFields(partnerName,<br/>\n    MicrositeIntegrationConstants.PROFILE_VODAFONE_USER_NODE);<br/>\n  if (null != nonMandatoryProfileList && !nonMandatoryProfileList.isEmpty())<br/>\n{<br/>\n   HashMap fieldsDataMap =<br/>\ngetDataForProfileFields(wrpLoginName,UserProfileConstants.USERPROPERTYSET,<br/>\n     nonMandatoryProfileList);<br/>\n   if (null != fieldsDataMap) {<br/>\n    nonMandatoryProfileFields.putAll(fieldsDataMap);<br/>\n   }<br/>\n  }<br/>\n<br/>\n  //Get the non-mandatory user profile fields from VodafoneUserSubscription<br/>\nproperty set<br/>\n  List nonMandatoryUserSubscriptionList =<br/>\nMicrositeDetailsXMLReader.getNonMandatoryFields(partnerName,<br/>\n    MicrositeIntegrationConstants.PROFILE_VODAFONE_USER_SUBSCRIPTION_NODE);<br/>\n  if (null != nonMandatoryUserSubscriptionList &&<br/>\n!nonMandatoryUserSubscriptionList.isEmpty()) {<br/>\n   HashMap fieldsDataMap =<br/>\ngetDataForProfileFields(partnerName,MicrositeIntegrationConstants.<br/>\n     PROFILE_VODAFONE_USER_SUBSCRIPTION_NODE,nonMandatoryUserSubscriptionList);<br/>\n   if(null != fieldsDataMap) {<br/>\n    nonMandatoryProfileFields.putAll(fieldsDataMap);<br/>\n   }<br/>\n  }<br/>\n<br/>\n  //Get the session fields.<br/>\n  List sessionFields =<br/>\nMicrositeDetailsXMLReader.getMandatoryFields(partnerName,<br/>\n    MicrositeIntegrationConstants.SESSION);<br/>\n  if (null != sessionFields && !sessionFields.isEmpty()) {<br/>\n   HashMap sessionDataHashMap =<br/>\ngetDataForSessionFields(sessionFields,request);<br/>\n   if (null != sessionDataHashMap) {<br/>\n    mandatoryProfileFieldsMap.putAll(sessionDataHashMap);<br/>\n   }<br/>\n  }<br/>\n<br/>\n  //Get the list of required custom field names.<br/>\n  List customFieldList =<br/>\nMicrositeDetailsXMLReader.getMandatoryFields(partnerName,<br/>\n    MicrositeIntegrationConstants.CUSTOM_FIELDS);<br/>\n  if (null != customFieldList && !customFieldList.isEmpty()) {<br/>\n   HashMap customFields =<br/>\ngetDataForCustomFields(wrpLoginName,customFieldList);<br/>\n   if (null != customFields) {<br/>\n    mandatoryProfileFieldsMap.putAll(customFields);<br/>\n   }<br/>\n  }<br/>\n<br/>\n  //Create the datagram string.<br/>\n  String datagram =<br/>\ncreateDatagramString(mandatoryProfileFieldsMap,nonMandatoryProfileFields);<br/>\n  if(logger.isDebugLoggingEnabled())<br/>\nlogger.log(VodafoneLogger.LOGLEVEL_DEBUG,METHOD_NAME,<br/>\n             &quot;Final datagram created is [&quot;+datagram +&quot;]&quot;);<br/>\n  //Encrypt the datagram String<br/>\n        String encryptedDatagram = encryptDatagram(datagram,partnerName);<br/>\n        if(logger.isDebugLoggingEnabled())<br/>\nlogger.log(VodafoneLogger.LOGLEVEL_DEBUG,METHOD_NAME,<br/>\n                &quot;Final encrypted datagram is [&quot;+encryptedDatagram +&quot;]&quot;);<br/>\n<br/>\n<br/>\nMicrositeDelegate.micrositeDatagramLogging(wrpLoginName,partnerName,encryptedDatagram,request);<br/>\n<br/>\n        logger.logMethodEnd(METHOD_NAME);<br/>\n  return encryptedDatagram;<br/>\n }<br/>\n<br/>\n /**<br/>\n  *<br/>\n  * @return<br/>\n  * @throws ProfileDataFetchException<br/>\n  */<br/>\n private HashMap getDataForCustomFields(String wrpLoginName, List<br/>\ncustomField) throws ProfileDataFetchException {<br/>\n  final String METHOD_NAME = &quot;getDataForCustomFields&quot;;<br/>\n  logger.logMethodStart(METHOD_NAME);<br/>\n  HashMap customFieldMap = new HashMap();<br/>\n  for (Object fieldName : customField) {<br/>\n   //Get the data for &quot;serviceId&quot; custom field.<br/>\n   if(MicrositeIntegrationConstants.SERVICEID_FIELD_CONSTANT.equalsIgnoreCase((String)fieldName))<br/>\n{<br/>\n    List serviceIds = getServiceIds(wrpLoginName);<br/>\n    customFieldMap.put(MicrositeIntegrationConstants.SERVICEID_FIELD_CONSTANT,serviceIds);<br/>\n   } else if<br/>\n(MicrositeIntegrationConstants.DT_FIELD_CONSTANT.equalsIgnoreCase((String)fieldName))<br/>\n{<br/>\n    String dtValue = getCurrentTime();<br/>\n    customFieldMap.put(MicrositeIntegrationConstants.DT_FIELD_CONSTANT,dtValue);<br/>\n   }<br/>\n  }<br/>\n   if(logger.isDebugLoggingEnabled()){<br/>\n    logger.log(VodafoneLogger.LOGLEVEL_DEBUG,METHOD_NAME,<br/>\n      &quot;Custom fields required for OneBill as fetched are<br/>\n[&quot;+customFieldMap+&quot;]&quot;);<br/>\n   }<br/>\n   logger.logMethodEnd(METHOD_NAME);<br/>\n<br/>\n  return customFieldMap;<br/>\n }<br/>\n}<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 22622, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1271844157", 
    "canDelete": false, 
    "nextInTopic": 22624, 
    "prevInTopic": 0, 
    "headers": {
        "inReplyToHeader": "PG0ybzQyMjZkZjFlMTAwNDIxMDIyMXoxY2I3YTUzNXZlOTVjZDVhN2IxYWFiZTgzQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGcyazQyMjZkZjFlMTAwNDIxMDMwMnExZjA1YzNiOGljNjNkMDBjZDNhMDVhNzVAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PG0ybzQyMjZkZjFlMTAwNDIxMDIyMXoxY2I3YTUzNXZlOTVjZDVhN2IxYWFiZTgzQG1haWwuZ21haWwuY29tPg=="
    }
}