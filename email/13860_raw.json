{
    "topicId": 13795, 
    "postDate": "1118151681", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "jason r tibbetts &lt;tibbettj@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "owiEV8_KoAhketwes9eQkJ8jultND55ZhNr7ZXqzXz9Bd0IMWYmyWpein9vqYLDUXEm1SfA1rdlD0fdCIIZmC2jF_hNWtJfmE5nuhGvvBubUYp7QcA", 
    "nextInTime": 13861, 
    "userId": 224061497, 
    "prevInTime": 13859, 
    "prevInTopic": 13858, 
    "headers": {
        "inReplyToHeader": "PDQyOUY3QTk2LjgwMDAwQHJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PDQyQTVBNDAxLjgwNDAzMDVAdmVyZGkuaWlzZC5zcmEuY29tPg==", 
        "referencesHeader": "PDQyOUYxMERFLjgwNjAyMDJAdmVyZGkuaWlzZC5zcmEuY29tPiA8NDI5RjdBOTYuODAwMDBAcm9nZXJzLmNvbT4="
    }, 
    "authorName": "jason r tibbetts", 
    "numMessagesInTopic": 32, 
    "msgSnippet": "Comments below... ... It turns out that this wasn t such a radical idea--the /exact/ same pattern is used in Johannes Link s /Unit Testing in Java/ ", 
    "contentTrasformed": false, 
    "msgId": 13860, 
    "nextInTopic": 13861, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;tibbettj@...&gt;\r\nX-Sender: tibbettj@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 66152 invoked from network); 7 Jun 2005 13:41:23 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m26.grp.scd.yahoo.com with QMQP; 7 Jun 2005 13:41:23 -0000\r\nReceived: from unknown (HELO mailhost2.sra.com) (163.252.31.55)\n  by mta4.grp.scd.yahoo.com with SMTP; 7 Jun 2005 13:41:23 -0000\r\nReceived: from verdi.iisd.sra.com ([163.252.29.9]) by mailhost2.sra.com with Microsoft SMTPSVC(6.0.3790.211);\n\t Tue, 7 Jun 2005 09:41:22 -0400\r\nReceived: from [163.252.3.6] (dakota [163.252.3.6])\n\tby verdi.iisd.sra.com (8.9.3p2/8.9.3) with ESMTP id JAA28483\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 7 Jun 2005 09:41:21 -0400 (EDT)\r\nMessage-ID: &lt;42A5A401.8040305@...&gt;\r\nDate: Tue, 07 Jun 2005 09:41:21 -0400\r\nUser-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.7) Gecko/20040517\r\nX-Accept-Language: en-US, en, ja, ko\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;429F10DE.8060202@...&gt; &lt;429F7A96.80000@...&gt;\r\nIn-Reply-To: &lt;429F7A96.80000@...&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nReturn-Path: tibbettj@...\r\nX-OriginalArrivalTime: 07 Jun 2005 13:41:23.0046 (UTC) FILETIME=[97F94860:01C56B66]\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: jason r tibbetts &lt;tibbettj@...&gt;\r\nReply-To: tibbettj@...\r\nSubject: Re: [junit] Testing multiple interfaces?\r\nX-Yahoo-Group-Post: member; u=224061497\r\n\r\nComments below...\n\nJ. B. Rainsberger wrote:\n&gt; jason r tibbetts wrote:\n&gt; \n&gt;&gt;I want to write something like the following, but I&#39;m looking for better\n&gt;&gt;ideas:\n&gt;&gt;\n&gt;&gt;public class FooBar implements Foo, Bar { ... }\n&gt;&gt;\n&gt;&gt;public class BarTestBase extends TestCase {\n&gt;&gt;   protected Bar bar;\n&gt;&gt;\n&gt;&gt;   public void testSomeMethod() { ... }\n&gt;&gt;}\n&gt;&gt;\n&gt;&gt;// does NOT subclass FooTestBase or BarTestBase\n&gt;&gt;public class FooBarTest extends TestCase {\n&gt;&gt;   static class FooSubclassTest extends FooTestBase {\n&gt;&gt;     protected void setUp() { foo = new FooBar(); }\n&gt;&gt;   }\n&gt;&gt;\n&gt;&gt;   static class BarSubclassTest extends BarTestBase {\n&gt;&gt;     protected void setUp() { foo = new FooBar(); }\n&gt;&gt;   }\n&gt;&gt;\n&gt;&gt;   public static Test suite() {\n&gt;&gt;      TestSuite suite = new TestSuite(FooBarTest.class);\n&gt;&gt;      suite.addTest(new TestSuite(FooSubclassTest.class);  // ?\n&gt;&gt;      suite.addTest(new TestSuite(BarSubclassTest.class);  // ?\n&gt;&gt;      return suite;\n&gt;&gt;   }\n&gt;&gt;}\n&gt; \n&gt; \n&gt; You&#39;ve done here what I would do, except you&#39;ve added a suite() method \n&gt; to collect all the &quot;FooBar&quot; tests together. Since I usually try to run \n&gt; all my tests all the time, I&#39;d get that free.\n&gt; \n&gt; \n&gt;&gt;Considerations:\n&gt;&gt;* Because the static inner test classes&#39; names end with &#39;Test&#39;, they&#39;ll\n&gt;&gt;be picked up automatically by an Ant &lt;junit&gt; task that executes anything\n&gt;&gt;called &#39;*Test.class&#39;, right? If so, then adding them to the FooBarTest&#39;s\n&gt;&gt;suite is redundant.\n&gt; \n&gt; That&#39;s handy.\n&gt; \n&gt;&gt;* If the inner classes&#39; names end in &#39;Test&#39;, they must be declared\n&gt;&gt;static in order to prevent a reflection exception when the JUnit test\n&gt;&gt;loader attempts to invoke them, since they&#39;d have to be instantiated\n&gt;&gt;within an instance of FooBarTest.\n&gt; \n&gt; That makes sense.\n&gt; \n&gt; I think you&#39;re on the right track here. Let us know how it works for \n&gt; you. This is one of those deeper examples that no-one has written about \n&gt; in detail yet. (Even _JUnit Recipes_ only mentions it in passing.) You \n&gt; should write about your experiences with this pattern and share it with \n&gt; the world. :)\n\nIt turns out that this wasn&#39;t such a radical idea--the /exact/ same \npattern is used in Johannes Link&#39;s /Unit Testing in Java/ \n(http://www.amazon.com/exec/obidos/tg/detail/-/1558608680/), pp. \n152-155. Link says,\n\n\t&quot;The technique introduced here for reusing abstract test\n\tclasses by means of internal classes means reaching deeply\n\tinto Java&#39;s bag of tricks, and it is hard to understand.\n\tFor this reason, we will not use this technique mechanically\n\tfor each interface to be implemented. Instead, we will use\n\tit only when there is actually a nontrivial\n\tspecification-based test suite. There are often very few\n\tsemantic requirements to the implementing class, apart\n\tfrom the requirement to make the interface public. In this\n\tcase, the interface tests would be better off in the test\n\tsuite of that class.&quot;\n\nI have since tried both approaches that I outlined in the considerations \nabove:\n\n1) Add the inner classes&#39; suites to the suite() of the primary test class.\n\nPros:\n* The inner class tests get run automatically when the primary test is \nexecuted.\n\nCons:\n* The JUnit output makes no distinction as to which particular /inner/ \nsuite is running. For example, I always have a test_constructor() method \nin each of my TestCases. The output of running the main test therefore \nsimply looks like:\n\n     [junit] Testsuite: FooBarTest\n     [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.09 sec\n\n     [junit] Testcase: test_constructor took 0.038 sec\n     [junit] Testcase: test_constructor took 0 sec\n     [junit] Testcase: test_constructor took 0.002 sec\n\n2) Don&#39;t add their suites to the main suite(), but instead name them \n&#39;*Test&#39; so that my Ant task will pick them up and execute them individually.\n\nPros:\n* JUnit output is much more understandable:\n\n     [junit] Testsuite: FooBarTest\n     [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.038 sec\n\n     [junit] Testcase: test_constructor took 0.038 sec\n\n     [junit] Testsuite: FooBarTest$FooSubclassTest\n     [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0 sec\n\n     [junit] Testcase: test_constructor took 0 sec\n\n     [junit] Testsuite: FooBarTest$BarSubclassTest\n     [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.002 sec\n\n     [junit] Testcase: test_constructor took 0.002 sec\n* Because their names end in &#39;*Test&#39;, they&#39;re picked up automatically by \nthe Ant &lt;junit&gt; task.\n\nCons:\n* The interface tests won&#39;t be run if a user simply selects the main \nclass in a TestRunner. Of course, since the interface tests&#39; names are \nnamed &#39;&lt;main-test&gt;$&lt;interface-test&gt;&#39;, a list of available tests (such as \nprovided by the JUnit GUI TestRunners) will make it pretty clear that \nthese are all related.\n\nAll things considered, I think that I prefer the second version, just \nbecause it&#39;s so much easier to see what&#39;s happening in the JUnit output.\n\n\n\n", 
    "subject": "Re: [junit] Testing multiple interfaces?"
}