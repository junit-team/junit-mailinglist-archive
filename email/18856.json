{
    "numMessagesInTopic": 108, 
    "nextInTime": 18857, 
    "senderId": "3H88yyb4LLN49C5uWEn3hxbLzfVwFNwlLsPY2dSj_eqREeHLA1h4Ypi5XAYif0PR1KNeOqzRzVKInjdEsqTRwRAKo-Xc4HcYfYwqqX-SM8mrAWcsVg", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Testing Private Methods", 
    "from": "&quot;Gabriel Nascimento&quot; &lt;gamnascimento@...&gt;", 
    "authorName": "Gabriel Nascimento", 
    "msgSnippet": "My Domain Model already access objects that carry business rules parameters. I simulate them using EasyMock. It´s working fine. Unit Tests are used as example", 
    "msgId": 18856, 
    "topicId": 1696, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 297905437, 
    "messageBody": "<div id=\"ygrps-yiv-579474904\">My Domain Model already access objects that carry business rules parameters.<br/>\nI simulate them using EasyMock. It´s working fine.<br/>\n<br/>\nUnit Tests are used as example of use of my API and I should call only my<br/>\npublic methods, cause that is what will be invoked by the client. But, I<br/>\nwant to test each method, and each business rule separated.<br/>\n<br/>\nSo, I don´t know if changing my private validation methods to protected,<br/>\nonly for unit test using, is a bad practice...<br/>\n<br/>\nWhat do you think?<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 2/9/07, J. B. Rainsberger &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbrains762@...\">jbrains762@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt;   Gabriel Nascimento wrote:<br/>\n&gt;<br/>\n&gt; &gt; The problem is that my domain model has an abstract class Domain with an<br/>\n&gt; &gt; abstract method validate().<br/>\n&gt; &gt;<br/>\n&gt; &gt; The subclasses of Domain implements validate, calling private methods<br/>\n&gt; inside<br/>\n&gt; &gt; that validate its specific attributes.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I want to test each one of this attributes, but I don´t want to do this<br/>\n&gt; &gt; calling the public method validate. The solution I had was to turn the<br/>\n&gt; &gt; private methods to protected.<br/>\n&gt;<br/>\n&gt; In general, I dislike abstract classes, and what you describe is one of<br/>\n&gt; the reasons I dislike them. If I owned the Domain class, I would do this:<br/>\n&gt;<br/>\n&gt; 1. Move the validate() method onto a new interface, called<br/>\n&gt; ValidationRuleset.<br/>\n&gt;<br/>\n&gt; 2. Change Domain so that it accepts a ValidationRuleset into its<br/>\n&gt; constructor.<br/>\n&gt;<br/>\n&gt; 3. Change Domain so that it invokes ValidationRuleset.validate() instead<br/>\n&gt; of its own validate() method.<br/>\n&gt;<br/>\n&gt; Now it&#39;s easy to test Domain by simulating the ValidationRuleset<br/>\n&gt; interface, and it&#39;s easy to test implementations of ValidationRuleset on<br/>\n&gt; their own.<br/>\n&gt;<br/>\n&gt; One might argue that this design change makes Domain more complex, but I<br/>\n&gt; disagree: it replaces an abstract method with an additional constructor<br/>\n&gt; parameter. That sounds like an even trade to me, getting easier testing<br/>\n&gt; as a bonus in return.<br/>\n&gt;<br/>\n&gt; Take care.<br/>\n&gt;<br/>\n&gt; PS: It sounds to me, based on very little information, that Domain is a<br/>\n&gt; purely abstract base class, and if it looks the way I think it looks,<br/>\n&gt; then it&#39;s a classic misuse of inheritance. Of course, I&#39;m jumping to a<br/>\n&gt; conclusion, so I might be wrong.<br/>\n&gt; --<br/>\n&gt; J. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.ca\">http://www.jbrains.ca</a><br/>\n&gt; Your guide to software craftsmanship<br/>\n&gt; JUnit Recipes: Practical Methods for Programmer Testing<br/>\n&gt; 2005 Gordon Pask Award for contribution Agile Software Practice<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 18855, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1171051688", 
    "canDelete": false, 
    "nextInTopic": 18860, 
    "prevInTopic": 18846, 
    "headers": {
        "inReplyToHeader": "PDQ1Q0NDRERCLjEwNTAzMDVAZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ5MDAzMDhmMDcwMjA5MTIwOG4yZjdmZTFicDZiZTc3NzYwYTMzNzU2MEBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGVxZmR2cCs1cjUwQGVHcm91cHMuY29tPiA8NDVDQjNFOEIuMTA3MDEwNUBtaW5kc3ByaW5nLmNvbT4JIDw0OTAwMzA4ZjA3MDIwODEwMjJpMmJmNWM4MmN4MjBjNmQyYWZmZWJlNGFmOUBtYWlsLmdtYWlsLmNvbT4JIDw0NUNDQ0REQi4xMDUwMzA1QGdtYWlsLmNvbT4="
    }
}