{
    "numMessagesInTopic": 39, 
    "nextInTime": 20534, 
    "senderId": "94AoShBWhxv_e6CgZK-_4XC4MqJz7C70cQleZXtQ18Lab1vVy1ZmgApHtMMPC7Rg7GvErcm5Ll1NFan4UWIZcm5lwWX66bPCweEsN0nHxNfi", 
    "systemMessage": false, 
    "subject": "Re: [junit] A case for adding logging of assertions to junit", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains762@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I am just going to be frank here. Yes, many people have said they want to log assertions in tests because they want the warm fuzzy feedback that their", 
    "msgId": 20533, 
    "profile": "nails762", 
    "topicId": 20531, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 282027414, 
    "messageBody": "<div id=\"ygrps-yiv-253613392\">On 2008-06-09, at 07:23 , Phil Surette wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I&#39;d like to make a case for adding logging of assertions into junit.<br/>\n&gt; I&#39;ve been using junit for many years, and something that I&#39;ve found<br/>\n&gt; both for myself and for people who I&#39;ve mentored in XP practices is<br/>\n&gt; that it is often helpful to get warm fuzzy feedback that your tests<br/>\n&gt; are running and asserting what you think they are asserting.<br/>\n&gt;<br/>\n&gt; I notice that I&#39;m not alone in this; I see there are several threads<br/>\n&gt; where people were looking for this feature<br/>\n&gt; (<a rel=\"nofollow\" target=\"_blank\" href=\"http://tech.groups.yahoo.com/group/junit/message/17845\">http://tech.groups.yahoo.com/group/junit/message/17845</a> &quot;how to log<br/>\n&gt; junit tests&quot;, <a rel=\"nofollow\" target=\"_blank\" href=\"http://tech.groups.yahoo.com/group/junit/message/18762\">http://tech.groups.yahoo.com/group/junit/message/18762</a><br/>\n&gt; &quot;junit 4 & logging&quot;,<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://tech.groups.yahoo.com/group/junit/message/12000\">http://tech.groups.yahoo.com/group/junit/message/12000</a> &quot;Log4J Logging<br/>\n&gt; in JUnit&quot;)<br/>\n&gt;<br/>\n </span></blockquote>I am just going to be frank here. Yes, many people have said they want  <br/>\nto log assertions in tests because they want the warm fuzzy feedback  <br/>\nthat their tests are running and assertion what they think they are  <br/>\nasserting. Logging is just one, and in my opinion a bad, way to do  <br/>\nthis. I believe it is much better to write simpler tests.<br/>\n<blockquote><span title=\"ireply\"> &gt; 1) eliminating redundant logging statements - Many logging statements<br/>\n&gt; in a JUnit test case simply output information that you&#39;ve already<br/>\n&gt; told JUnit about in your assertions. Developers often put these in as<br/>\n&gt; a &#39;sanity check&#39; to verify that the test is doing what they expected.<br/>\n&gt;<br/>\n </span></blockquote>If your tests need such a sanity check, then I believe they should be  <br/>\nsimpler.<br/>\n<blockquote><span title=\"ireply\"> &gt; 2) improving assertion messages - it&#39;s often the case that the<br/>\n&gt;<br/>\n&gt; first time you see the message for an assertion will be when the<br/>\n&gt; assertion fails, which may not happen until you run a regression test<br/>\n&gt; many moons after you coded the test. Unless you see the message<br/>\n&gt; displayed when you are developing the test, you won&#39;t realize that the<br/>\n&gt; message - if you provided one - is not be very helpful. Better<br/>\n&gt; assertion messages also help to communicate to a developer what the<br/>\n&gt; point of the assertion is both when it fails and when reading the  <br/>\n&gt; test.<br/>\n&gt;<br/>\n </span></blockquote>If you aren&#39;t going to think about the failure message when you write  <br/>\nit, then don&#39;t write one.<br/>\n<blockquote><span title=\"ireply\"> &gt; 3) see finer-grain test results. Every assertion is a mini-test on its<br/>\n&gt; own, but JUnit these mini-tests are invisible until they fail.<br/>\n&gt;<br/>\n </span></blockquote>Absolutely not. Assertions are not mini-tests. A test is a test. If  <br/>\nyou have multiple unrelated assertions in a test, then move them into  <br/>\ntheir own tests. This leads to a number of benefits (more accurate  <br/>\ntest count metrics, more information when a test fails, easier to  <br/>\nisolate the cause of a failure).<br/>\n<blockquote><span title=\"ireply\"> &gt; 4) by making logging easy, it can help to avoid the<br/>\n&gt; using-system-outs-instead-of-asserts syndrome, where new junit test<br/>\n&gt; writers will write &quot;test cases&quot; that actually just write a bunch of<br/>\n&gt; stuff to the console that the test writer then eyeballs for expected<br/>\n&gt; results<br/>\n&gt;<br/>\n </span></blockquote>Why would anyone use JUnit to spit things out to the console? If they  <br/>\nwant output on the console, and they&#39;re not just using that as a way  <br/>\nto learn to use JUnit, then they shouldn&#39;t use JUnit.<br/>\n<blockquote><span title=\"ireply\"> &gt; There are some problems with logging assertions that I have  <br/>\n&gt; encountered:<br/>\n&gt;<br/>\n&gt; 1) if iterating over a collection and asserting each element, your log<br/>\n&gt; can be overwhelmed. Maybe it would be useful to have some way of<br/>\n&gt; hinting that a particular assertion should not create notifications;<br/>\n&gt; maybe not.<br/>\n&gt;<br/>\n </span></blockquote>I don&#39;t even want to think about how slowly tests will run, and how  <br/>\nmuch time I would waste deciding which tests should log what and when.  <br/>\nIt&#39;s much easier just to add logging where I want it.<br/>\n<blockquote><span title=\"ireply\"> &gt; Is there any appetite out there for adding assertion logging (or<br/>\n&gt; assertion notification) into the junit 4 framework? I would be<br/>\n&gt; happy to do the work if I thought it would be accepted into the<br/>\n&gt; main junit distribution. Or maybe this capability already exists<br/>\n&gt; in some way in junit 4 that I am not aware of?<br/>\n&gt;<br/>\n </span></blockquote>Yes, there is such an appetite, but I hope there is a bigger appetite  <br/>\nnot to include it.<br/>\n----<br/>\nJ. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.ca\">http://www.jbrains.ca</a><br/>\nYour guide to software craftsmanship<br/>\nJUnit Recipes: Practical Methods for Programmer Testing<br/>\n2005 Gordon Pask Award for contributions to Agile Software Practice</div>", 
    "prevInTime": 20532, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1213050613", 
    "canDelete": false, 
    "nextInTopic": 20534, 
    "prevInTopic": 20531, 
    "headers": {
        "inReplyToHeader": "PGcyajNzYysyOHNtQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwN0ZCQkM4LTFGMjctNEU4NC1BOUQ5LTgyRTNERUU2OTE4MkBnbWFpbC5jb20+", 
        "referencesHeader": "PGcyajNzYysyOHNtQGVHcm91cHMuY29tPg=="
    }
}