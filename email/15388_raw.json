{
    "numMessagesInTopic": 2, 
    "nextInTime": 15389, 
    "senderId": "bxSHrW_qiIJfb_EFBnNvVkyxQ2oZ-ZGuAMqNwcItcIMRGmZj4h13hXab2cXHUyhp37YvgPS9BuOj4KQZ3uexXA", 
    "systemMessage": false, 
    "subject": "Re: [junit] repeat test permutations for variants of the test object", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Have you looked at the Parameterized Test Case pattern from JUnit Recipes, by J. B. Rainsberger?  It may resolve the problem of having lots of subclasses", 
    "msgId": 15388, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 67411 invoked from network); 11 Nov 2005 05:58:58 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m27.grp.scd.yahoo.com with QMQP; 11 Nov 2005 05:58:58 -0000\r\nReceived: from unknown (HELO rozz.csail.mit.edu) (128.30.2.16)\n  by mta6.grp.scd.yahoo.com with SMTP; 11 Nov 2005 05:58:58 -0000\r\nReceived: from [12.170.233.135] (helo=[192.168.248.218])\n\tby rozz.csail.mit.edu with esmtpsa (TLSv1:AES256-SHA:256)\n\t(Exim 4.50)\n\tid 1EaRt6-0003h3-AD\n\tfor junit@yahoogroups.com; Fri, 11 Nov 2005 00:55:48 -0500\r\nMessage-ID: &lt;4374325E.9090907@...&gt;\r\nDate: Thu, 10 Nov 2005 21:55:42 -0800\r\nUser-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;dkpum0+bhm3@...&gt;\r\nIn-Reply-To: &lt;dkpum0+bhm3@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] repeat test permutations for variants of the test object\r\nX-Yahoo-Group-Post: member; u=139771899; y=c-afVlHCyE8VY39Vh8uBfrxI2O_Pf472JlWyNpvrXi8\r\nX-Yahoo-Profile: dsaff\r\n\r\nHave you looked at the Parameterized Test Case pattern from JUnit \nRecipes, by J. B. Rainsberger?  It may resolve the problem of having \nlots of subclasses hanging around, although you won&#39;t be able to easily \nrun just one of the Adapter/Engine combos.  Good luck,\n\n    David Saff\n\nshmuelakahn wrote:\n\n&gt; I hope this question doesn&#39;t sound too confused, I&#39;m pretty new to\n&gt; Java and Junit...\n&gt;\n&gt; I have a single Engine class, that wraps a [JavaSpaces] Storage\n&gt; container for objects, with a standard API of read, write, delete,\n&gt; etc. This Engine comes in four different forms (as set by two\n&gt; constructor boolean parameters), that modify its&#39; low-level behavior.\n&gt; This Engine references two Adapter classes. These Adapters modify the\n&gt; behavior of the Engine, but aren&#39;t directly related to it&#39;s main\n&gt; function, so aren&#39;t part of it&#39;s API. The first Adapter is a Lock\n&gt; object with lock, unlock and isLocked methods, when the Engine is\n&gt; locked is prevents write and delete operations. The other Adapter is a\n&gt; generic Control object for other operations. The Adapter objects have\n&gt; no meaning without reference to an Engine object.\n&gt;\n&gt; ** It is these Adapter classes that I want to test. **\n&gt;\n&gt; Each Adapter Class has its&#39; own AdapterTest TestCase class set of\n&gt; tests. The thing is, that I want to perform each set of test four\n&gt; times, using an Adapter &quot;hitched&quot; to each of the different Engine\n&gt; configurations. Initially I thought to extend the two basic\n&gt; AdapterTest classes, leaving the derived classes to create the Engine\n&gt; instance to run the tests with, and then run those extended classes,\n&gt; but that gives me [at least] ten classes with much duplicate code and\n&gt; seems rather clunky. Is there any way to refactor the Engine creation\n&gt; or whatever, in order to achieve a more elegant solution, or a perhaps\n&gt; completely different solution to this repeat-test issue?\n&gt;\n&gt; The following is a much simplified code listing. The problem is, that\n&gt; this code, only tests one of the four variations on the Engine object,\n&gt; while I need to test all four. In order for the tests to be\n&gt; automatically runnable, I can&#39;t pass in any parameters to the test\n&gt; classes. So I&#39;m looking for another way to do this, other than having\n&gt; to create four derived classes for each Adapter TestCase, with a\n&gt; different implementation of setup().\n&gt;\n&gt; And ideas or pointers, folks?\n&gt;\n&gt; class EngineLock {\n&gt;     protected Engine m_engine;\n&gt;\n&gt;     public EngineLock      (Engine engine) {...}\n&gt;     public boolean lock    () {...}\n&gt;     public boolean unlock  () {...}\n&gt;     public boolean isLocked() {...}\n&gt; }\n&gt;\n&gt; class EngineControl {\n&gt;     protected Engine m_engine;\n&gt;\n&gt;     public EngineControl       (Engine engine) {...}\n&gt;     public boolean doSomething () {...}\n&gt;     public boolean doOtherThing() {...}\n&gt; }\n&gt;\n&gt; class Engine {\n&gt;     protected final boolean m_persistent;\n&gt;     protected final boolean m_redundant;\n&gt;     protected EngineLock    m_lock;\n&gt;     protected EngineControl m_controller;\n&gt;\n&gt;     public Engine (boolean persistent, boolean redundant) {\n&gt;         m_lock       = new EngineLock (this);\n&gt;         m_controller = new EngineControl (this);\n&gt;         //...\n&gt;     }\n&gt;     public boolean read   (Object template) {...}\n&gt;     public boolean write  (Object template) {...}\n&gt;     public boolean delete (Object template) {...}\n&gt;\n&gt;     EngineLock     getLock    () { return m_lock; }\n&gt;     EngineControl  getControl () { return mcontroller; }\n&gt; }\n&gt;\n&gt; And then we have the TestCase classes, which both create Engine\n&gt; instances as part of their setup, and then use the Adapter of that\n&gt; engine in the tests.\n&gt;\n&gt; class TestEngineLock extends TestCase {\n&gt;     protected Engine     m_engine;\n&gt;     protected EngineLock m_lock;\n&gt;\n&gt;     protected void setUp() {\n&gt;         m_engine = new Engine (true, true); // &lt;&lt;== engine for test.\n&gt;         m_lock   = m_engine.getLock();      // &lt;&lt;== test object.\n&gt;     }\n&gt;\n&gt;     public void testEngineLock() {...}\n&gt;     public void testLock      () {...}\n&gt;     public void testUnlock    () {...}\n&gt;     public void testIsLocked  () {...}\n&gt; }\n&gt;\n&gt; class TestEngineControl extends TestCase {\n&gt;     protected Engine        m_engine;\n&gt;     protected EngineControl m_controller;\n&gt;\n&gt;     protected void setUp() {\n&gt;         m_engine = new Engine (true, true); // &lt;&lt;== engine for test.\n&gt;         m_controller = m_engine.getControl(); // &lt;&lt;== test object.\n&gt;     }\n&gt;\n&gt;     public void testEngineControl() {...}\n&gt;     public void testDoSomething  () {...}\n&gt;     public void testDoOtherThing () {...}\n&gt; }\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;junit &lt;http://groups.yahoo.com/group/junit&gt;&quot;\n&gt;       on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        junit-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n", 
    "profile": "dsaff", 
    "topicId": 15375, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "prevInTime": 15387, 
    "contentTrasformed": false, 
    "postDate": "1131688542", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15375, 
    "headers": {
        "inReplyToHeader": "PGRrcHVtMCtiaG0zQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQzNzQzMjVFLjkwOTA5MDdAbWl0LmVkdT4=", 
        "referencesHeader": "PGRrcHVtMCtiaG0zQGVHcm91cHMuY29tPg=="
    }
}