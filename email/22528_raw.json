{
    "numMessagesInTopic": 26, 
    "nextInTime": 22529, 
    "senderId": "Fi2GeaaZ-lq4i0MKkalvLIn5xWmBHRyJSecYCFDj14kzHrL9rcuefrgdflAz5eJSn2gPUvvUsxNoGjzU6z-jR3CC", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Unfortunately, the same class can t be both an annotation and a type. Further suggestions? David", 
    "msgId": 22528, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 90456 invoked from network); 10 Mar 2010 14:21:56 -0000\r\nX-Received: from unknown (66.196.94.107)\n  by m11.grp.re1.yahoo.com with QMQP; 10 Mar 2010 14:21:56 -0000\r\nX-Received: from unknown (HELO mail-pw0-f54.google.com) (209.85.160.54)\n  by mta3.grp.re1.yahoo.com with SMTP; 10 Mar 2010 14:21:56 -0000\r\nX-Received: by pwj1 with SMTP id 1so4855810pwj.13\n        for &lt;junit@yahoogroups.com&gt;; Wed, 10 Mar 2010 06:21:55 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.140.58.18 with SMTP id g18mr854934rva.260.1268230915157; Wed, \n\t10 Mar 2010 06:21:55 -0800 (PST)\r\nIn-Reply-To: &lt;hn75o4+nl71@...&gt;\r\nReferences: &lt;4f7da6b91003091747j6cabdf9bi81ad30e81f7d094@...&gt;\n\t &lt;hn75o4+nl71@...&gt;\r\nDate: Wed, 10 Mar 2010 09:21:55 -0500\r\nX-Google-Sender-Auth: 92aa2c861ebf434e\r\nMessage-ID: &lt;4f7da6b91003100621q327d0011x822bd27aa523639e@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=341876227; y=h8qg6QDVL2x7y2SpY-NwVhIw2p6mHTCiiJ7M_wNAuCE\r\nX-Yahoo-Profile: dsaff\r\n\r\nUnfortunately, the same class can&#39;t be both an annotation and a type.\nFurth=\r\ner suggestions?\n\n   David\n\nOn Tue, Mar 9, 2010 at 11:04 PM, Gary &lt;gary@gary=\r\ngregory.com&gt; wrote:\n&gt; WRT: @RuleOnClass public static ClassRule...\n&gt;\n&gt; @Cla=\r\nssRule public static ClassRule...\n&gt;\n&gt; @ClassRule reads better to me than @R=\r\nuleOnClass\n&gt;\n&gt; and the symmetry with @Before/@BeforeClass is nice.\n&gt;\n&gt; Gary=\r\n\n&gt;\n&gt; --- In junit@yahoogroups.com, David Saff &lt;david@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; On T=\r\nue, Mar 9, 2010 at 8:08 PM, Kent Beck &lt;kentb@...&gt; wrote:\n&gt;&gt; &gt; This is an in=\r\nteresting design tradeoff. I don&#39;t like implicit magic but I also don&#39;t lik=\r\ne creating new elements (like the &quot;beforeClass =3D true&quot;) if I can reuse ex=\r\nisting elements. When I saw the &quot;@Rule static...&quot; I immediately knew what w=\r\nas wrong, so I find it understandable that static variables containing rule=\r\ns are only executed once. (By symmetry, I suppose &quot;@Before static void...&quot; =\r\nshould be a synonym for @BeforeClass.)\n&gt;&gt;\n&gt;&gt; Or, by (almost) symmetry, the =\r\nfollowing?\n&gt;&gt;\n&gt;&gt; @Before public void...\n&gt;&gt; @After public void...\n&gt;&gt; @Rule p=\r\nublic MethodRule...\n&gt;&gt;\n&gt;&gt; @BeforeClass public static void...\n&gt;&gt; @AfterClass=\r\n public static void...\n&gt;&gt; @RuleOnClass public static ClassRule...\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n=\r\n&gt;&gt; In the end, though, my opinion of what is obvious is less important\n&gt;&gt; t=\r\nhan y&#39;all&#39;s. Chime in if you want to be heard.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Kent\n&gt;&gt; &gt;\n&gt;&gt; &gt; On =\r\nMar 9, 2010, at 3:02 PM, yme0987654321 wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt;&gt; I&#39;m all for a Rule=\r\n before the class is run, but I think it is way to gimmicky and obscure to =\r\nhang that on if the variable is declared static.\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; I would instea=\r\nd think that the @Rule should have a method which indicates if it is before=\r\n the class or before the test, and then have it validated if the @Rule is o=\r\nn a static or instance variable, as appropriate.\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Something like=\r\n:\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; @Rule(beforeClass =3D true)\n&gt;&gt; &gt;&gt; public static TemporaryFold=\r\ner testFolder =3D new TemporaryFolder();\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; --- In junit@yahoogrou=\r\nps.com, Kent Beck &lt;kentb@&gt; wrote:\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Hmmm... I don&#39;t think we =\r\never tried @Rule on a static variable before. I&#39;m not even sure what they m=\r\nean. Rules are inserted before an individual test is run. Should static rul=\r\nes be inserted before the class is run or before each individual test? Befo=\r\nre the class is run, I&#39;m thinking. Opinions?\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Kent\n&gt;&gt; &gt;&gt; &gt;\n&gt;=\r\n&gt; &gt;&gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; =\r\n@Rule objects are not initialized before @BeforeClass methods are called. I=\r\ns this by design or a bug?\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; For example:\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt;=\r\n &gt; &gt; package test;\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; import java.io.File;\n&gt;&gt; &gt;&gt; &gt; &gt; impor=\r\nt java.io.IOException;\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; import junit.framework.Assert;\n&gt;=\r\n&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.BeforeClass;\n&gt;&gt; &gt;&gt; &gt; &gt; import org.junit=\r\n.Rule;\n&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.Test;\n&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.rules.Te=\r\nmporaryFolder;\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; public class TemporaryFolderRuleBeforeCl=\r\nass {\n&gt;&gt; &gt;&gt; &gt; &gt; @Rule\n&gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder =\r\n=3D new TemporaryFolder();\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; @BeforeClass\n&gt;&gt; &gt;&gt; &gt; &gt; publi=\r\nc static void testInTempFolder() throws IOException {\n&gt;&gt; &gt;&gt; &gt; &gt; File tempFi=\r\nle =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt;&gt; &gt;&gt; &gt; &gt; File tempFolder =3D testFo=\r\nlder.newFolder(&quot;folder&quot;);\n&gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + te=\r\nstFolder.getRoot());\n&gt;&gt; &gt;&gt; &gt; &gt; // test\n&gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testF=\r\nolder.getRoot());\n&gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; @Test\n&gt;&gt; &gt;&gt; &gt; &gt; public vo=\r\nid test() {\n&gt;&gt; &gt;&gt; &gt; &gt; // noop\n&gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; H=\r\naving the TemporaryFolder Rule declared as static is OK as this example tes=\r\nt shows:\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {\n&gt;=\r\n&gt; &gt;&gt; &gt; &gt; @Rule\n&gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder =3D new T=\r\nemporaryFolder();\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; @Test\n&gt;&gt; &gt;&gt; &gt; &gt; public void testInTem=\r\npFolder() throws IOException {\n&gt;&gt; &gt;&gt; &gt; &gt; File tempFile =3D testFolder.newFi=\r\nle(&quot;file.txt&quot;);\n&gt;&gt; &gt;&gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;folder&quot;=\r\n);\n&gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());\n&gt;&gt;=\r\n &gt;&gt; &gt; &gt; // test\n&gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt;&gt; &gt;&gt;=\r\n &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt; &gt; }\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; How can @Rules be used from @BeforeC=\r\nlass?\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt; Calling TemporaryFolder.create() would work only =\r\nfor TemporaryFolder and not Rules in general but would be against the advic=\r\ne of create method Javadoc.\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; =\r\n&gt;&gt; &gt; [Non-text portions of this message have been removed]\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt;=\r\n &gt;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; [Non-text portions of this message have been remove=\r\nd]\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; ------------------------------------\n&gt;&gt; &gt;\n&gt;&gt; &gt; Yahoo=\r\n! Groups Links\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ---------------------------=\r\n---------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22527, 
    "contentTrasformed": false, 
    "postDate": "1268230915", 
    "canDelete": false, 
    "nextInTopic": 22529, 
    "prevInTopic": 22527, 
    "headers": {
        "inReplyToHeader": "PGhuNzVvNCtubDcxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMzEwMDYyMXEzMjdkMDAxMXg4MjJiZDI3YWE1MjM2MzllQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MTAwMzA5MTc0N2o2Y2FiZGY5Ymk4MWFkMzBlODFmN2QwOTRAbWFpbC5nbWFpbC5jb20+CSA8aG43NW80K25sNzFAZUdyb3Vwcy5jb20+"
    }
}