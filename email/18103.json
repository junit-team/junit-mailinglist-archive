{
    "numMessagesInTopic": 18, 
    "nextInTime": 18104, 
    "senderId": "-ij7XoLgr57zzy4cps5tm1sXjUPGfw9QHvAf1tAx_bneRQ-QZg16O-DyOTNV09SviSIsDJfUkAOg116TJnTAu05MHFouwX0i869JDZMUhA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Comparing Arrays with Assert.assertEquals in Junit 4.1", 
    "from": "Elliotte Harold &lt;elharo@...&gt;", 
    "authorName": "Elliotte Harold", 
    "msgSnippet": "... The problem here is an ugliness in Java. The equals() method does not do what people expect for arrays. The principle of least surprise dictates that when", 
    "msgId": 18103, 
    "topicId": 18028, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 12653864, 
    "messageBody": "<div id=\"ygrps-yiv-1806161928\">Kent Beck wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Second, assertEquals(a, b) was equivalent to assertTrue(a.equals(b))<br/>\n&gt; originally. Then we added the exception for array equality. Perhaps we need<br/>\n&gt; to revert assertEquals() to its original definition and define an<br/>\n&gt; assertPrettyDoggoneSimilar() that does fancy stuff with arrays. I&#39;m in favor<br/>\n&gt; of simple mental models, and the original assertEquals() certainly was<br/>\n&gt; simple and straightforward. I hate to lose that.<br/>\n&gt;  <br/>\n<br/>\n </span></blockquote>The problem here is an ugliness in Java. The equals() method does not do <br/>\nwhat people expect for arrays.<br/>\n<br/>\nThe principle of least surprise dictates that when assertEquals() is <br/>\nhanded two non-null arrays it return true if and only if the following <br/>\nconditions hold:<br/>\n<br/>\n1. The arrays have the same length.<br/>\n2. Each component of the each array is equal to the corresponding <br/>\ncomponent of the other array (as defined by equals() or == for primitive <br/>\ntypes)<br/>\n3. The arrays have the same type.<br/>\n<br/>\nI&#39;m actually not sure about #3, and there&#39;s a potential infinite loop in <br/>\n#2 if you aren&#39;t careful; but I do think this is what people expect to <br/>\nhappen; and I doubt anyone will complain if this is what does happen.<br/>\n<br/>\n-- <br/>\nï»¿Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\nJava I/O 2nd Edition Just Published!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeaulait.org/books/javaio2/\">http://www.cafeaulait.org/books/javaio2/</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/\">http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/</a></div>", 
    "prevInTime": 18102, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1160139403", 
    "canDelete": false, 
    "nextInTopic": 18107, 
    "prevInTopic": 18102, 
    "headers": {
        "inReplyToHeader": "PDAwNTUwMWM2ZThjNyQ3YmUzZjIzMCQ2OTAxYThjMEBUNDI+", 
        "messageIdInHeader": "PDQ1MjY1MjhCLjEwOTA1MDNAbWV0YWxhYi51bmMuZWR1Pg==", 
        "referencesHeader": "PDAwNTUwMWM2ZThjNyQ3YmUzZjIzMCQ2OTAxYThjMEBUNDI+"
    }
}