{
    "numMessagesInTopic": 27, 
    "nextInTime": 17888, 
    "senderId": "vYOFLrkWkXnaDah01PCTE3HI_VprLWRWX1-MOo9AGRfPmLsiY4WmadRTgUPA85jHb7AFnz8Q2OHx5xtxH67_Jn5HzgO59rT6CMO-PxLx5FA", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit Testing Code That Has System.exit(n);", 
    "from": "&quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;", 
    "authorName": "Lasse Koskela", 
    "msgSnippet": "Hi Bob, I m surprised that nobody has suggested this before but perhaps I m just not thinking straight (a 4+ hour flight behind me and another one to go in 5", 
    "msgId": 17887, 
    "rawEmail": "Return-Path: &lt;lasse.koskela@...&gt;\r\nX-Sender: lasse.koskela@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 69323 invoked from network); 11 Sep 2006 00:02:17 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m31.grp.scd.yahoo.com with QMQP; 11 Sep 2006 00:02:17 -0000\r\nReceived: from unknown (HELO nf-out-0910.google.com) (64.233.182.186)\n  by mta2.grp.scd.yahoo.com with SMTP; 11 Sep 2006 00:02:17 -0000\r\nReceived: by nf-out-0910.google.com with SMTP id p77so1095614nfc\n        for &lt;junit@yahoogroups.com&gt;; Sun, 10 Sep 2006 17:02:16 -0700 (PDT)\r\nReceived: by 10.49.91.6 with SMTP id t6mr7353141nfl;\n        Sun, 10 Sep 2006 17:02:15 -0700 (PDT)\r\nReceived: by 10.49.67.17 with HTTP; Sun, 10 Sep 2006 17:02:15 -0700 (PDT)\r\nMessage-ID: &lt;3975e2d10609101702o3aa17583v438f18c6b0a23140@...&gt;\r\nDate: Mon, 11 Sep 2006 03:02:15 +0300\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;edq2s9+odek@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;edq2s9+odek@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;\r\nSubject: Re: [junit] JUnit Testing Code That Has System.exit(n);\r\nX-Yahoo-Group-Post: member; u=190530936; y=17OxvI6GMEpVaQLD5Q7mrAUUSwn4ny8dPLZz-xucD4C7ssz0dGQY\r\nX-Yahoo-Profile: lassekoskela\r\n\r\nHi Bob,\n\nI&#39;m surprised that nobody has suggested this before but perhaps I&#39;m\njust not thinking straight (a 4+ hour flight behind me and another one\nto go in 5 hours...)\n\nHow about using AOP bytecode weaving for replacing the calls to\nSystem.exit() with your fake implementation?\n\nPerhaps something like this:\n\npublic aspect SystemExitTestingAspect {\n\n  pointcut systemExit(int reason) :\n    call(java.lang.System.exit(int)) && args(reason);\n\n  void around(int reason) : systemExit(reason) {\n    fake.java.lang.System.exit(reason);\n  }\n}\n\n\n[disclaimer: I&#39;m no good at AspectJ so the above might be wrong syntax\nin so many ways...]\n-Lasse-\n\nOn 9/8/06, Bob Russell &lt;bob_russell0@...&gt; wrote:\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;  I&#39;m involved on a project as the QA.  To improve my development\n&gt;  skills and my JUnit skills, I am writing some JUnit tests.  Today, I\n&gt;  found that the developer had implemented System.exit(n) throughout\n&gt;  the application whenever there was a trapped exception.\n&gt;\n&gt;  Now, the requirements call for the application to return some exit\n&gt;  code telling any downstream processes whether this application was\n&gt;  100% successful with no warnings (rc=0), 100% successful with\n&gt;  warnings (rc=4), not successful at all (rc=8).  However, the only\n&gt;  java mechanism for reporting return codes is System.exit(n), based on\n&gt;  my use of Google.\n&gt;\n&gt;  My JUnit dilemma then, is that System.exit(n) gives the required\n&gt;  application behavior but doesn&#39;t seem to be good for running JUnit\n&gt;  tests from a test suite since System.exit(n) ends the JVM.\n&gt;\n&gt;  Does anyone have any insights they can share?  Since this is my first\n&gt;  post to this forum, I&#39;m happy to Google some more if you&#39;ll only give\n&gt;  me some keyword hint(s) beyond what I&#39;ve already tried:  &quot;java exit\n&gt;  code&quot;.\n&gt;\n&gt;  Thanks!\n&gt;\n&gt;                    \n\n\n\n-- \nLasse Koskela\nJavaRanch Publisher Contact\nlasse@...\n\n", 
    "profile": "lassekoskela", 
    "topicId": 17851, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190530936, 
    "prevInTime": 17886, 
    "contentTrasformed": false, 
    "postDate": "1157932935", 
    "canDelete": false, 
    "nextInTopic": 17890, 
    "prevInTopic": 17885, 
    "headers": {
        "inReplyToHeader": "PGVkcTJzOStvZGVrQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDM5NzVlMmQxMDYwOTEwMTcwMm8zYWExNzU4M3Y0MzhmMThjNmIwYTIzMTQwQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGVkcTJzOStvZGVrQGVHcm91cHMuY29tPg=="
    }
}