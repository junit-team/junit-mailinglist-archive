{
    "numMessagesInTopic": 5, 
    "nextInTime": 21450, 
    "senderId": "bQk6kHYUdNhM_zicQvrZpOHkbo5udOkHdzc14dRTnHVfgLuPWUl1RNZks4ckZyy7k48FZ3NEuMYPHVplEtudgOutXqU", 
    "systemMessage": true, 
    "subject": "ClasspathSuite, JUnit 3.8 mixed with 4.5, big suites and memory leaks", 
    "from": "&quot;pgbossi&quot; &lt;pgbossi@...&gt;", 
    "authorName": "pgbossi", 
    "msgSnippet": "Hi all, We are in the process of building/modifying some suites on top of a legacy test collections, mostly written with JUnit 3.8. The test code is organized", 
    "msgId": 21449, 
    "rawEmail": "Return-Path: &lt;pgbossi@...&gt;\r\nReceived: (qmail 6909 invoked from network); 26 Mar 2009 20:31:08 -0000\r\nReceived: from unknown (69.147.108.201)\n  by m5.grp.sp2.yahoo.com with QMQP; 26 Mar 2009 20:31:08 -0000\r\nReceived: from unknown (HELO n44a.bullet.mail.sp1.yahoo.com) (66.163.168.138)\n  by mta2.grp.re1.yahoo.com with SMTP; 26 Mar 2009 20:31:07 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1238099467; bh=O5WMl14rhCIqWDbGdqm/SeTJwUYKrQL7JyBG3P8UNf8=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=TsxQVoOeG1k7LJel4Rzbl/HdZDgj5cxZ8/Zz7CIgOqberWq2YTHDYpcCWjnf53BUgGV+E2bqP1MmnBvjrhYenpXcCMAzPchQWY1YqX6Upwh1b1zA7r3k04odE6uqZ3OJ\r\nReceived: from [69.147.65.149] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 26 Mar 2009 20:31:07 -0000\r\nReceived: from [98.137.34.32] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 26 Mar 2009 20:31:07 -0000\r\nX-Sender: pgbossi@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 96390 invoked from network); 26 Mar 2009 16:15:43 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m7.grp.re1.yahoo.com with QMQP; 26 Mar 2009 16:15:43 -0000\r\nX-Received: from unknown (HELO n18c.bullet.sp1.yahoo.com) (69.147.64.129)\n  by mta1.grp.re1.yahoo.com with SMTP; 26 Mar 2009 16:15:42 -0000\r\nX-Received: from [69.147.65.172] by n18.bullet.sp1.yahoo.com with NNFMP; 26 Mar 2009 16:15:37 -0000\r\nX-Received: from [98.137.34.72] by t14.bullet.mail.sp1.yahoo.com with NNFMP; 26 Mar 2009 16:15:37 -0000\r\nDate: Thu, 26 Mar 2009 16:15:35 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gqg9n7+19p7@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;pgbossi&quot; &lt;pgbossi@...&gt;\r\nSubject: ClasspathSuite, JUnit 3.8 mixed with 4.5, big suites and memory leaks\r\nX-Yahoo-Group-Post: member; u=206615490; y=gB8e6dbq-LO5NSIm9haIGEfEn88AcUgd0BL7m7BgYP65sQ\r\nX-Yahoo-Profile: pgbossi\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 26 Mar 2009 20:31:05 -0000\r\n\r\nHi all,\n\nWe are in the process of building/modifying some suites on top of =\r\na legacy test collections, mostly written with JUnit 3.8. The test code is =\r\norganized such that every package has an AllTests suite, including all the =\r\ntests and suites below it.\n\nThis has the obvious disadvantage of requiring =\r\nmanual maintenance every time you add a new test.\n\nI&#39;d say that the ratio b=\r\netween JUnit 3.8 vs 4.5 tests is 5:1\n\nBecause of the mixed environment, we =\r\nhave decided to use excellent ClasspathSuite from Johannes Link: http://www=\r\n.johanneslink.net/projects/cpsuite.html\n\nThe goal is to get rid of AllTests=\r\n suites.\n\nAt the root of the system we have a big bang suite, running 3 sub=\r\n-suites of roughly 500 tests each (so roughly 1500 tests in total, half of =\r\nthem are unit tests and the other half are acceptance tests based on HttpUn=\r\nit). The big suite runs fine with 196 MB of heap.\n\nWe have started the conv=\r\nersion of one of such suites using ClasspathSuite and it worked fine in iso=\r\nlation, but not as part of the big suite: we consistently get an OutOfMemor=\r\ny exception indicating saturation of heap space. That happens even increasi=\r\nng the memory available to JUnit.\n\nWe think that this may be caused by JUni=\r\nt 3.8 runner holding onto every tests until the end. This has been exacerba=\r\nted by using ClasspathSuite. We have tried fixing it by patching it with a =\r\ncustom runner as suggested here: http://forum.springframework.org/archive/i=\r\nndex.php/t-64510.html\n\nThe patch didn&#39;t seem to help even if the fTest refe=\r\nrences are nulled and we hint gc to run in the subsuite tearDown.\n\nHas anyb=\r\nody seen this too?\nAny suggested workaround and/or best practice?\n\nWe are c=\r\nurrently converting all the 3.8 tests to 4.5 hoping to provide a more consi=\r\nstent environment, but I&#39;d like to know your take on this.\n\nThanks,\nGiulian=\r\no\n\n\n", 
    "profile": "pgbossi", 
    "topicId": 21449, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 206615490, 
    "prevInTime": 21448, 
    "contentTrasformed": false, 
    "postDate": "1238084135", 
    "canDelete": false, 
    "nextInTopic": 21452, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGdxZzluNysxOXA3QGVHcm91cHMuY29tPg=="
    }
}