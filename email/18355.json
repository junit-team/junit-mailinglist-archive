{
    "numMessagesInTopic": 9, 
    "nextInTime": 18356, 
    "senderId": "kpPohQjvy846m9HA5MAjM7jjbie560te3anNBJ6umuqvGpksrWZqzwOjwpMCktX3KyjWs3pFUNypK27Uq9rbHkUarFp9jzKXNwYLP9TAlSIYWdyS", 
    "systemMessage": false, 
    "subject": "Re: [junit] Promlem in writing Test case", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "To me it sounds like the first thing you need to do is take control of your environment from your tests. From what you wrote below maybe I would do something", 
    "msgId": 18355, 
    "profile": "j0hlrogge", 
    "topicId": 18349, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "messageBody": "<div id=\"ygrps-yiv-1450126130\">To me it sounds like the first thing you need to do is take control of your<br/>\nenvironment from your tests.<br/>\nFrom what you wrote below maybe I would do something like this:<br/>\n<br/>\npublic TestVersionCalculator extends TestCase {<br/>\n<br/>\npublic testCalculatorVersionIsNewer_ReturnsZero() {<br/>\n    VersionCalculator calculator = new VersionCalculator(&quot;7.1.1&quot;);<br/>\n    AssertEquals(&quot;0&quot;, calculator.calculate(&quot;7.0.1&quot;));<br/>\n}<br/>\n<br/>\npublic testCalculatorVersionOlder_ReturnsNewest() {<br/>\n    VersionCalculator calculator = new VersionCalculator(&quot;6.1.5&quot;);<br/>\n    AssertEquals(&quot;&quot;7.1.0&quot;&quot;, calculator.calculate(&quot;7.1.0&quot;));<br/>\n}<br/>\n}<br/>\n<br/>\nWhen that works I would maybe write a test for something that can read the<br/>\nXML so that if the XML contains a specific version I know that particular<br/>\nversion would be returned:<br/>\n<br/>\npublic void TestXmlVersionReader extends TestCase {<br/>\n    public testReadsVersionFromReader() {<br/>\n       Reader xmlInput = new StringReader(&quot;&lt;?xml version=&#39;1.0&#39;&#39;&gt;&lt;version&gt;<br/>\n7.0.1&lt;/version&gt;&quot;) ;<br/>\n       VersionReader versionReader = new XmlVersionReader(xmlInput);<br/>\n       AssertEquals(&quot;7.0.1&quot;, versionReader.readVersion());<br/>\n    }<br/>\n<br/>\n    public testReadsVersionFromReader() {<br/>\n       Reader xmlInput = new StringReader(&quot;&lt;?xml version=&#39;1.0&#39;&#39;&gt;&lt;version&gt;<br/>\n6.0.5&lt;/version&gt;&quot;) ;<br/>\n       VersionReader versionReader = new XmlVersionReader(xmlInput);<br/>\n       AssertEquals(&quot;6.0.5&quot;, versionReader.readVersion());<br/>\n    }<br/>\n}<br/>\n<br/>\nWhen that works you have something that can read a version from your xml and<br/>\nsomething that can calculate a version.<br/>\nNow I would maybe revisit the first test again:<br/>\n<br/>\npublic TestVersionCalculator extends TestCase {<br/>\n<br/>\npublic testCalculatorVersionIsNewer_ReturnsZero() {<br/>\n    VersionCalculator calculator = new VersionCalculator(&quot;7.1.1&quot;,<br/>\n<br/>\nnew VersionReader() {<br/>\n<br/>\npublic String readVersion() {<br/>\n<br/>\nreturn &quot;7.0.1&quot;;<br/>\n<br/>\n}<br/>\n<br/>\n});<br/>\n    AssertEquals(&quot;0&quot;, calculator.calculate());<br/>\n}<br/>\n<br/>\npublic testCalculatorVersionOlder_ReturnsNewest() {<br/>\n    VersionCalculator calculator = new VersionCalculator(&quot;6.1.5&quot;,<br/>\n<br/>\nnew VersionReader() {<br/>\n<br/>\npublic String readVersion() {<br/>\n<br/>\nreturn &quot;7.1.0&quot;;<br/>\n<br/>\n}<br/>\n<br/>\n});<br/>\n    AssertEquals(&quot;&quot;7.1.0&quot;&quot;, calculator.calculate());<br/>\n}<br/>\n}<br/>\n<br/>\n<br/>\nThat is just a simple example, where you start and the order things are<br/>\nimplemented is unimportant. The important thing is to identify<br/>\nresponsibilities and test them so that you are sure that they work. Some<br/>\nprefer to test larger chunks at the time, attack the problem from a<br/>\ndifferent direction and so on, that is ok too. The bottom line is that you<br/>\nhave to have a /known/ in your test. You have to know what the conditions<br/>\nare and how your system should behave with those conditions. Otherwise the<br/>\ntest will have to run the same code as the code that is tested which, as you<br/>\nsay, provides no value.<br/>\n<br/>\nI think you do know what to expect, there must be some rule, after all you<br/>\nknew how to write the code. I think the problem you are facing is that you<br/>\nmaybe want to run the tests in an environment that you don&#39;t control. Why do<br/>\nyou want to do that? What is the gain?.<br/>\nIf you take control of your environment the testing is simple and consists<br/>\nof figuring out how to force your system into situations in which you can be<br/>\nsure how it should respond and have enough of those situations so you can be<br/>\nsure that your system works. The real gain is when you can write those tests<br/>\nas you develop the code and be able to listen to your tests so that they can<br/>\ncontribute back to your design.<br/>\n<br/>\nDoes that make sense or am I completely missing something about what you are<br/>\ntrying to do?<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 11/14/06, avinash anand &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:avinash_anand@...\">avinash_anand@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt;   Hi Shane<br/>\n&gt; This here is something different. I want to testh this code in a dynamic<br/>\n&gt; enviroment, meaning the system will be feed with different xml files using<br/>\n&gt; diffrent permutation and combination. For instance if the current version<br/>\n&gt; installed is 7.1.1 and the xml file feed has a version 7.0.1 the code will<br/>\n&gt; return 0, if the current version is 6.1.5 and the xml file reads 7.1.0 the<br/>\n&gt; code will return 7.1.0 Hence I will never be sure of the expected result.<br/>\n&gt;<br/>\n&gt; Is there any other way to test the code sent earlier,<br/>\n&gt;<br/>\n&gt; 1. In term of usability<br/>\n&gt; 2. In term of testing exception<br/>\n&gt; 3. In term of results<br/>\n&gt;<br/>\n&gt; Thanks<br/>\n&gt; Aviansh<br/>\n&gt;<br/>\n&gt; ----- Original Message ----<br/>\n&gt; From: Shane Mingins &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:shane.mingins@...\">shane.mingins@...</a> &lt;shane.mingins%40gmail.com&gt;&gt;<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;<br/>\n&gt; Sent: Tuesday, 14 November, 2006 1:50:06 PM<br/>\n&gt; Subject: Re: [junit] Promlem in writing Test case<br/>\n&gt;<br/>\n&gt; On 11/14/06, avinash anand &lt;avinash_anand@ yahoo.co. uk&gt; wrote:<br/>\n&gt; &gt; Hi All<br/>\n&gt; &gt; I am writing a test case in JUnit. The original class GetInfo.java has a<br/>\n&gt; method. String getSystemVersion( String str) which is under test. This<br/>\n&gt; method is supplied with path variable in form of string from where it reads<br/>\n&gt; a xml file to get certain data and return back to the user.<br/>\n&gt; &gt;<br/>\n&gt; &gt; The point of confussion for me is to how to test the method. What should<br/>\n&gt; be the actual and expected result. Meaning for getting the expected result I<br/>\n&gt; will have to use the same logic as it is in the main code, if I use the same<br/>\n&gt; logic to read the xml file then the assert statement would not be meaningful<br/>\n&gt; as then the expected and actual results would be same.<br/>\n&gt;<br/>\n&gt; I am not sure why you have to use the same logic to calculate the<br/>\n&gt; expected result?<br/>\n&gt;<br/>\n&gt; You have an xml file that u will use for the test (I personally might<br/>\n&gt; do something different) in which you know what version you expect back<br/>\n&gt; ... so you code assert_equals( 0,<br/>\n&gt; getinfo.getSystemVe rsion(fileToRetu rnZero)) etc.<br/>\n&gt;<br/>\n&gt; cheers<br/>\n&gt; shane<br/>\n&gt;<br/>\n&gt; Send instant messages to your online friends <a rel=\"nofollow\" target=\"_blank\" href=\"http://uk.messenger.yahoo.com\">http://uk.messenger.yahoo.com</a><br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 18354, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1163507496", 
    "canDelete": false, 
    "nextInTopic": 18359, 
    "prevInTopic": 18354, 
    "headers": {
        "inReplyToHeader": "PDIwMDYxMTE0MDg0MjI0LjIyMDA2LnFtYWlsQHdlYjI2NzA0Lm1haWwudWtsLnlhaG9vLmNvbT4=", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDYxMTE0MDQzMWgxMTgxNWJmYmwzOTZiYjk3YWM4OGNjNTRkQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDIwMDYxMTE0MDg0MjI0LjIyMDA2LnFtYWlsQHdlYjI2NzA0Lm1haWwudWtsLnlhaG9vLmNvbT4="
    }
}