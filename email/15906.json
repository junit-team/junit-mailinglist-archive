{
    "numMessagesInTopic": 3, 
    "nextInTime": 15907, 
    "senderId": "Z-J0acrvwdV-RnJ9cnRJVAfv4f7TNP1ycdIIoP-ubA4DS3wZQ3VBBMPlicw0kw3MjjdDXsnG19_qLT_7FmiWBA", 
    "systemMessage": false, 
    "subject": "Re: [junit] junit 3.8 Test/TestResult interaction - reality check", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Ian, Sounds like an interesting project.  That is correct JUnit code, but Eclipse provides additional services beyond those explicitly made possible by JUnit", 
    "msgId": 15906, 
    "profile": "dsaff", 
    "topicId": 15902, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1766192246\">Ian,<br/>\n<br/>\nSounds like an interesting project.  That is correct JUnit code, but <br/>\nEclipse provides additional services beyond those explicitly made <br/>\npossible by JUnit 3.  Eclipse depends on:<br/>\n<br/>\n1) Different objects to be passed to startTest and endTest to signify <br/>\ndifferent tests<br/>\n2) The toString for a Test subclass returning a string like <br/>\n&quot;methodName(ClassName)&quot;.<br/>\n<br/>\nHave you considered using JUnit 4 instead?  The JUnit 4 compatibility <br/>\nlayer would take care of this for you.<br/>\n<br/>\nGood luck,<br/>\n<br/>\n    David Saff<br/>\n<br/>\nIan Darwin wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; I&#39;m trying to write a test runner for a new &quot;subframework&quot; that will<br/>\n&gt; read an arbitrary<br/>\n&gt; number of tests from a &quot;little language&quot; scripting file, and I&#39;m trying<br/>\n&gt; to write this as a Test class<br/>\n&gt; (my framework will be released as open source when it is working).<br/>\n&gt;<br/>\n&gt; I started with the assumption that if the framework calls a Test&#39;s<br/>\n&gt; countTestCases<br/>\n&gt; it will next call its run() method once and let it run all the tests,<br/>\n&gt; and that it expects the<br/>\n&gt; test to call results.startTest(this) and endTest(this).  So this is a<br/>\n&gt; gloss of my test: is this<br/>\n&gt; at all the right approach?<br/>\n&gt;<br/>\n&gt; // DO NOT JUST COPY THIS CODE, IT DOES NOT WORK YET<br/>\n&gt; public class MyTest implements Test {<br/>\n&gt;<br/>\n&gt;         private String name = &quot;TestRunner&quot;;<br/>\n&gt;         final static int MAX = 10;<br/>\n&gt;<br/>\n&gt;         public int countTestCases() {<br/>\n&gt;                 return MAX;<br/>\n&gt;         }<br/>\n&gt;         public void run(TestResult result) {<br/>\n&gt;                 System.out.printf(&quot;MyTest.run(%s)%n&quot;, this);<br/>\n&gt;                 for (int i = 0; i &lt; MAX; i++) {<br/>\n&gt;                         if (result.shouldStop())<br/>\n&gt;                                 return;<br/>\n&gt;                         // Do Nothing Slowly(tm), to simulate reading a<br/>\n&gt; test from the file<br/>\n&gt;                         // and running it...<br/>\n&gt;                         try {   <br/>\n&gt;                                 Thread.sleep(250);   // so I can see the<br/>\n&gt; gauge moving...<br/>\n&gt;                         } catch (InterruptedException e) {<br/>\n&gt;                         }<br/>\n&gt;                       <br/>\n&gt;                         result.startTest(this);<br/>\n&gt;<br/>\n&gt;                         if (i == 6) {<br/>\n&gt;                                 System.out.println(&quot;ADDING FAILURE&quot;);<br/>\n&gt;                                 result.addFailure(this,<br/>\n&gt;                                     new AssertionFailedError(&quot;boo hoo&quot;));<br/>\n&gt;                         } else {<br/>\n&gt;                                 if (i == 9) {<br/>\n&gt;                                         result.addError(this,<br/>\n&gt;                                     new RuntimeException(&quot;wah&quot;));<br/>\n&gt;                                 }<br/>\n&gt;                         }<br/>\n&gt;                         result.endTest(this);<br/>\n&gt;                 }<br/>\n&gt;         }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; I looked around and couldn&#39;t find commentary describing if I am doing<br/>\n&gt; this correctly, but<br/>\n&gt; textui.TextRunner.doRun would appear to confirm that I am not violating<br/>\n&gt; any assumptions.<br/>\n&gt;<br/>\n&gt; When I run this under e.g., the Eclipse testrunner, the gauge moves, and<br/>\n&gt; turns red at the<br/>\n&gt; expected time, but the Failure is replicated through all remaining<br/>\n&gt; invocations of that Test.<br/>\n&gt; The default testresult implementation adds smth like &quot;new<br/>\n&gt; TestFailure(test, exc)&quot; to a<br/>\n&gt; Vector, so the non-uniqueness problem seems to be rooted deeper down.<br/>\n&gt;<br/>\n&gt; As well, clicking on a failure itself results in a popup about test<br/>\n&gt; class not found in project.<br/>\n&gt;<br/>\n&gt; More detailed code is attached in case anyone has time to look. Or wants<br/>\n&gt; to play.<br/>\n&gt;<br/>\n&gt; Thanks<br/>\n&gt; Ian Darwin<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;   ----------<br/>\n&gt;<br/>\n&gt; package regress;<br/>\n&gt;<br/>\n&gt; import junit.framework.Test;<br/>\n&gt; import junit.framework.TestSuite;<br/>\n&gt;<br/>\n&gt; public class AllTests {<br/>\n&gt;<br/>\n&gt;       public static Test suite() {<br/>\n&gt;             TestSuite suite = new TestSuite(&quot;Test for default package&quot;);<br/>\n&gt;             //$JUnit-BEGIN$<br/>\n&gt;             suite.addTest(new MyTest(&quot;one&quot;));<br/>\n&gt;             suite.addTest(new MyTest(&quot;Two&quot;));<br/>\n&gt;             //$JUnit-END$<br/>\n&gt;             return suite;<br/>\n&gt;       }<br/>\n&gt;<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;   ----------<br/>\n&gt;<br/>\n&gt; package regress;<br/>\n&gt;<br/>\n&gt; import junit.framework.AssertionFailedError;<br/>\n&gt; import junit.framework.Test;<br/>\n&gt; import junit.framework.TestResult;<br/>\n&gt;<br/>\n&gt; /**<br/>\n&gt; * Skeleton for how pageunit will run multiple testcases from<br/>\n&gt; * within one Test class. Thanks for Jonathan Fuerth of sqlpower.ca<br/>\n&gt; * for the idea on how to set this up.<br/>\n&gt; * &lt;br/&gt;<br/>\n&gt; * In this version it sort of works, but:<br/>\n&gt; * &lt;br/&gt;Once a test has failed, subsequent tests report the same failure;<br/>\n&gt; * &lt;br/&gt;Clicking on the failures pops up a dialog about &quot;test class not<br/>\n&gt; * found in project...&quot;<br/>\n&gt; * @author Ian Darwin<br/>\n&gt; */<br/>\n&gt; public class MyTest implements Test {<br/>\n&gt;      <br/>\n&gt;       private String name = &quot;TestRunner&quot;;<br/>\n&gt;       final static int MAX = 10;<br/>\n&gt;       public MyTest(String name) {<br/>\n&gt;             this.name=name;<br/>\n&gt;             System.out.printf(&quot;MyTest.MyTest(%s)%n&quot;, name);<br/>\n&gt;       }<br/>\n&gt;       public MyTest() {<br/>\n&gt;             this(&quot;NoName&quot;);<br/>\n&gt;       }<br/>\n&gt;       public int countTestCases() {<br/>\n&gt;             return MAX;<br/>\n&gt;       }<br/>\n&gt;       int i = 0;<br/>\n&gt;       public void run(TestResult result) {<br/>\n&gt;             System.out.printf(&quot;MyTest.run(%s)%n&quot;, this);<br/>\n&gt;             for (; i &lt; MAX; i++) {<br/>\n&gt;                   if (result.shouldStop())<br/>\n&gt;                         return;<br/>\n&gt;                   System.out.println(&quot;MyTest.run(), i = &quot; + i);<br/>\n&gt;                   try {<br/>\n&gt;                         Thread.sleep(250);<br/>\n&gt;                   } catch (InterruptedException e) {<br/>\n&gt;                         // canthappen<br/>\n&gt;                   }<br/>\n&gt;                   System.out.println(&quot;MyTest.run(): start test&quot;);<br/>\n&gt;                   result.startTest(this);<br/>\n&gt;                  <br/>\n&gt;                   if (i == 6) {<br/>\n&gt;                         System.out.println(&quot;ADDING FAILURE&quot;);<br/>\n&gt;                         result.addFailure(this, new <br/>\n&gt; AssertionFailedError(&quot;boo hoo&quot;));<br/>\n&gt;                   } else {<br/>\n&gt;                         if (i == 9) {<br/>\n&gt;                               result.addError(this, new <br/>\n&gt; RuntimeException(&quot;wah&quot;));<br/>\n&gt;                         }<br/>\n&gt;                   }<br/>\n&gt;                   result.endTest(this);<br/>\n&gt;             }<br/>\n&gt;       }<br/>\n&gt;      <br/>\n&gt;       @Override<br/>\n&gt;       public String toString() {<br/>\n&gt;             return getName();<br/>\n&gt;       }<br/>\n&gt;       public String getName() {<br/>\n&gt;             return name + i;<br/>\n&gt;       }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; SPONSORED LINKS<br/>\n&gt; Basic programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw\">http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw</a>&gt; <br/>\n&gt; \tC programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw\">http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw</a>&gt; <br/>\n&gt; \tComputer programming languages <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ\">http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ</a>&gt; <br/>\n&gt;<br/>\n&gt; The c programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q\">http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q</a>&gt; <br/>\n&gt; \tC programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ\">http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ</a>&gt; <br/>\n&gt; \tList of programming languages <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA\">http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA</a>&gt; <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt;<br/>\n&gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt;       on the web.<br/>\n&gt;        <br/>\n&gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;        <br/>\n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15905, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1138760454", 
    "canDelete": false, 
    "nextInTopic": 15972, 
    "prevInTopic": 15902, 
    "headers": {
        "inReplyToHeader": "PDQzREZBNjdGLjUwODA1MDhAZGFyd2luc3lzLmNvbT4=", 
        "messageIdInHeader": "PDQzRTAxQjA2LjQwMTA4MDZAbWl0LmVkdT4=", 
        "referencesHeader": "PDQzREZBNjdGLjUwODA1MDhAZGFyd2luc3lzLmNvbT4="
    }
}