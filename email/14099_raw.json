{
    "numMessagesInTopic": 8, 
    "nextInTime": 14100, 
    "senderId": "cxj9jlwYji5bZcnrZxfj-tBm-bF64dV0H5dRdYGxkEuU8pRvux2gx43wOwL8u2CJuuUJycUorNA0m6GZZK1ro0a3lIOnrYld1oK270UH1g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing static Properties", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I don t much like the Monostate you have there. Even a true Singleton would be a little better than all those class-level method invocations. Injecting the", 
    "msgId": 14099, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 23900 invoked from network); 8 Jul 2005 20:42:43 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m27.grp.scd.yahoo.com with QMQP; 8 Jul 2005 20:42:43 -0000\r\nReceived: from unknown (HELO smtp100.rog.mail.re2.yahoo.com) (206.190.36.78)\n  by mta6.grp.scd.yahoo.com with SMTP; 8 Jul 2005 20:42:43 -0000\r\nReceived: (qmail 19698 invoked from network); 8 Jul 2005 20:42:42 -0000\r\nReceived: from unknown (HELO ?192.168.1.110?) (srainsberger5790@69.197.252.38 with plain)\n  by smtp100.rog.mail.re2.yahoo.com with SMTP; 8 Jul 2005 20:42:42 -0000\r\nMessage-ID: &lt;42CEE571.4080902@...&gt;\r\nDate: Fri, 08 Jul 2005 16:43:29 -0400\r\nUser-Agent: Mozilla Thunderbird 0.9 (Macintosh/20041103)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;dae59u+u5lv@...&gt;\r\nIn-Reply-To: &lt;dae59u+u5lv@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Testing static Properties\r\nX-Yahoo-Group-Post: member; u=127224993; y=gGSzYApOfAzvex-VtVN79J1pv8GnDDOcd3f08bydxuFEqac\r\nX-Yahoo-Profile: nails762\r\n\r\nMichael wrote:\n&gt; Hi, all. I have a testing scenario I need help with. The application I\n&gt; am working on has a class called AppProperties. This class has a lot\n&gt; of static methods on it for loading properties files and getting\n&gt; properties back out:\n&gt; \n&gt; public void loadProperties() {\n&gt;    //reads properties from classpath\n&gt;    AppProperties.addResource(&quot;app.properties&quot;);\n&gt;    AppProperties.addResource(&quot;MessageResources.properties&quot;);\n&gt; }\n&gt; \n&gt; public void performTest() {\n&gt;    boolean test = AppProperties.getBoolean(&quot;app.perform.test&quot;);\n&gt;    if (test) {\n&gt;       ...\n&gt;    }\n&gt; }\n&gt; \n&gt; This scenario is not very testable. I like the idea of a static class\n&gt; to pull application properties from, but it makes testing more\n&gt; difficult. I could load the AppProperties object in the setUp (that is\n&gt; my solution to get it working until I get better suggestions), but it\n&gt; seems like the app should be designed a little differently. How would\n&gt; something like this be handled in IoC (DI) projects?\n\nI don&#39;t much like the Monostate you have there. Even a true Singleton \nwould be a little better than all those class-level method invocations.\n\nInjecting the dependency is simple: classes than need application \nproperties add a constructor parameter or set() method that takes an \nAppProperties implementation. Now in tests, I can set up the data in \nAppProperties any way I want for the test. (In fact, I wouldn&#39;t do it \nthat way, but that&#39;s another article.) In production code, I might have \nAppProperties be a Singleton and, in one place, invoke \nAppProperties.getInstance(), then inject that instance into all the \nobjects that need it, either in code or through a DI container like Spring.\n\nFor the &quot;advanced&quot; answer, I&#39;ll just have to write the article, but \nhere&#39;s the summary: don&#39;t have classes depend on AppProperties, but \nrather on the data you want from it. Centralize getting the \nAppProperties data in one place.\n-- \nJ. B. (Joe) Rainsberger\nDiaspar Software Services\nhttp://www.diasparsoftware.com\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing\n\n", 
    "profile": "nails762", 
    "topicId": 14082, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 14098, 
    "contentTrasformed": false, 
    "postDate": "1120855409", 
    "canDelete": false, 
    "nextInTopic": 14104, 
    "prevInTopic": 14088, 
    "headers": {
        "inReplyToHeader": "PGRhZTU5dSt1NWx2QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQyQ0VFNTcxLjQwODA5MDJAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGRhZTU5dSt1NWx2QGVHcm91cHMuY29tPg=="
    }
}