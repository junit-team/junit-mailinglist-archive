{
    "numMessagesInTopic": 11, 
    "nextInTime": 18041, 
    "senderId": "CtxdQk8wzp_0QdB3b6FPWdYIcy__DFYmXlaBR6NiEMC9_WjPaZ7Cx4Ilpuu_fpyPESvW-s0ALzaJGt1alYvA-XnzealrZf73-w", 
    "systemMessage": true, 
    "subject": "The Software Inferno - Convincing management of the benefits of unit tests", 
    "from": "&quot;Bob Runstein&quot; &lt;rrunstein@...&gt;", 
    "authorName": "Bob Runstein", 
    "msgSnippet": "Here s an approach I ve tried to convince management of the benefit of object level unit tests.  I don t know if it has worked yet, and I welcome suggestions", 
    "msgId": 18040, 
    "profile": "rrunst", 
    "topicId": 18040, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 100410635, 
    "messageBody": "<div id=\"ygrps-yiv-844140308\">Here&#39;s an approach I&#39;ve tried to convince management of the<br/>\nbenefit of object level unit tests.  I don&#39;t know if it has worked<br/>\nyet, and I welcome suggestions to improve it.<br/>\nThe Software Inferno<br/>\n<br/>\n<br/>\nIt can be difficult to convince people the value of unit tests.  As Paul<br/>\nWheaton says in his article &quot;Evil Unit Tests&quot;<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.javaranch.com/journal/200603/Journal200603.jsp#a1\">http://www.javaranch.com/journal/200603/Journal200603.jsp#a1</a><br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.javaranch.com/journal/200603/Journal200603.jsp#a1\">http://www.javaranch.com/journal/200603/Journal200603.jsp#a1</a>&gt;  people<br/>\nare both proud of the fact that they have them and bothered by the fact<br/>\nthat there is so much work required to create and maintain them.  As<br/>\nPaul states, a Unit Test is &quot;The smallest amount of testable code.<br/>\nOften a single method/function, sans the use of other methods or<br/>\nclasses.&quot;  Methods with multiple paths of execution may require<br/>\nmultiple unit tests.<br/>\nWe don&#39;t need that kind of test<br/>\nOften, opposition to tests at this level is based on the perceived<br/>\nreturn on investment:  the level of effort to create and run them plus<br/>\nongoing maintenance costs vs. what they add to delivering the finished<br/>\napplication.   The argument is often that the application as a whole is<br/>\nbeing delivered so the JUnit tests must test application functionality,<br/>\nnot objects in isolation.  In addition, since the functionality of the<br/>\napplication will be verified by the Functional Tests performed by a test<br/>\nteam and Acceptance Tests witnessed by the Customer, lower level tests<br/>\nare redundant and omitting them allows more value to be delivered in the<br/>\nform of more functionality.<br/>\nAn Analogy<br/>\nIn the 1974 production of Irwin Allen&#39;s The Towering Inferno, Paul<br/>\nNewman played an architect who designed a 138 story glass tower for a<br/>\nbuilder, played by William Holden.  On the afternoon of the opening<br/>\ncelebration the maintenance staff was testing the backup generators and<br/>\na switch in the power room erupted in smoke.  The architect was called<br/>\nand discovered an overload occurred due to the use of the wrong type of<br/>\nwire.  At the same time on an upper floor, an overload in an electrical<br/>\nswitch box started a fire in a utility room.  A security guard, played<br/>\nby O.J. Simpson, read a computer warning from a heat sensor, but the<br/>\nautomatic fire alarm system did not recognize it as a fire and did not<br/>\nnotify the fire department.  When he later saw the smoke on a video<br/>\ncamera, he instructed another guard to call the fire department<br/>\nmanually.<br/>\n<br/>\n<br/>\n<br/>\nWhen the fire department arrived, the fire chief, played by Steve<br/>\nMcQueen, asked why the ventilation system did not automatically reverse<br/>\nto remove the smoke and whether the sprinkler system was working.  The<br/>\narchitect informed him that neither was working on the floor with the<br/>\nfire and he did not know why.<br/>\n<br/>\n<br/>\n<br/>\nThe story revealed that the builder needed to cut $4 million from<br/>\nconstruction costs and had demanded that $2 million come from the cost<br/>\nof the electrical subsystem. In order to accomplish this, the electrical<br/>\nsubcontractor, played by Richard Chamberlain, changed the<br/>\narchitect&#39;s specifications and reduced the robustness of the<br/>\nelectrical system to the minimum that would meet the requirements of the<br/>\nbuilding code.  The other $2 million came from cost reductions in other<br/>\nsubsystems with potentially similar results.<br/>\n<br/>\n<br/>\n<br/>\nThe fire department was unable to successfully fight the fire and the<br/>\narchitect ultimately had to blow up the water tanks on an upper floor to<br/>\nput it out.  Many people lost their lives and the building was<br/>\ndestroyed.<br/>\nNow how does this relate to software?<br/>\nThe glass tower is our application.  Paul Newman is the Software<br/>\nArchitect who designed the system to provide the functionality desired<br/>\nby William Holden, the Customer.  Richard Chamberlain is the Project<br/>\nManager who must deliver his portion of the application within the<br/>\nCustomer&#39;s budget.  O.J. Simpson is the Operations and Maintenance<br/>\nteam.  Steve McQueen is the new developer sent in to fix the problems<br/>\nwith the application, but finds the problems are so pervasive that he<br/>\ncannot save it and the application has to be rebuilt practically from<br/>\nscratch.<br/>\nBut the high level tests passed<br/>\nThe building passed its Integration Tests: Electrical, telephone,<br/>\nelevator, air conditioning, security systems all work.<br/>\n<br/>\nThe building passed its Functional Tests:  Residents are living in the<br/>\nbuilding, business tenants are operating there.<br/>\n<br/>\nThe building passed its Acceptance Tests Â– The city inspectors<br/>\npassed all of the systems as meeting the building code.<br/>\nHow could disaster have been prevented?<br/>\nMany things change once an application is released.  Users perform<br/>\nactions and use values untested prior to release.  Problems with<br/>\nalgorithms and logic due to untested corner cases are revealed.  New<br/>\nfunctionality breaks previously working functionality but no one knows<br/>\nthis because the previous functionality had no low level test to reveal<br/>\nthe breakage.  Many of these problems can be tested for with low level<br/>\nunit tests.  Examples from the analogy:<br/>\n<br/>\n<br/>\n<br/>\nassertEquals(&quot;highAmperageConduitWire&quot;, switchbox.getWireType);<br/>\n<br/>\n<br/>\n<br/>\nfloor.setTemperature(140 degrees);<br/>\n<br/>\nassertTrue(floor.getSprinklerSystem().isWaterFlowing());<br/>\n<br/>\n<br/>\n<br/>\nfloor.setSmokePresent(true);<br/>\n<br/>\nassertEquals(&quot;reverse&quot;, ventilation.getDirection());<br/>\n<br/>\n<br/>\n<br/>\nfireAlarmSystem.setHeatSensorStatus(&quot;alarm&quot;);<br/>\n<br/>\nassertTrue(fireAlarmSystem.fireDepartmentNotified());<br/>\n<br/>\n<br/>\nAnother (shorter) Analogy<br/>\nPharaoh wants a new pyramid built, but the straw harvest was poor so the<br/>\nratio of straw to mud for the bricks is cut in half.  No one tests<br/>\nwhether the new bricks can stand the load.  When the fourth level is<br/>\nreached, the bricks at the base crumble and the pyramid collapses.<br/>\nWhy is software different?<br/>\nDo automobile manufacturers destroy a car in a crash test without first<br/>\ntesting the characteristics of the bumper and other related components<br/>\nin isolation from the car?<br/>\n<br/>\n<br/>\n<br/>\nDoes NASA send up the space shuttle to test the heat properties of the<br/>\nceramic tiles that line its surface or are the tiles tested on Earth<br/>\nfirst?<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nYour thoughts?<br/>\n<br/>\n<br/>\n<br/>\nBob<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 18039, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1159743849", 
    "canDelete": false, 
    "nextInTopic": 18046, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGVmcGhoOStycTc3QGVHcm91cHMuY29tPg=="
    }
}