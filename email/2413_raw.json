{
    "topicId": 2403, 
    "postDate": "998340764", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Eric Vought &lt;evought@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "x6RnyWeqGcFYDLakKMqNlcEbyNSoENQtID5TynbJmlY-78CNbsHedP4c1mmgjaMqpCPHlF0XurGi5CHkrLn-xXNjJJ-S", 
    "nextInTime": 2414, 
    "userId": 0, 
    "prevInTime": 2412, 
    "prevInTopic": 2403, 
    "headers": {
        "inReplyToHeader": "PEYzNm5xRUJRZFdmRk1WcEhnTEgwMDAwMzg3ZUBob3RtYWlsLmNvbT4=", 
        "messageIdInHeader": "PDIwMDEwODIwMjA1MjQ0LjU0OTU2LnFtYWlsQHdlYjE0NzA0Lm1haWwueWFob28uY29tPg=="
    }, 
    "authorName": "Eric Vought", 
    "numMessagesInTopic": 2, 
    "msgSnippet": "For my part: I will only write an actual testcase for a library routine when I have already discovered and reported a specific defect. In that case I will", 
    "contentTrasformed": false, 
    "msgId": 2413, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;eric_vought@...&gt;\r\nX-Sender: eric_vought@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_3_1); 20 Aug 2001 20:54:51 -0000\r\nReceived: (qmail 5983 invoked from network); 20 Aug 2001 20:52:48 -0000\r\nReceived: from unknown (10.1.10.26)\n  by m8.onelist.org with QMQP; 20 Aug 2001 20:52:48 -0000\r\nReceived: from unknown (HELO web14704.mail.yahoo.com) (216.136.224.121)\n  by mta1 with SMTP; 20 Aug 2001 20:52:48 -0000\r\nMessage-ID: &lt;20010820205244.54956.qmail@...&gt;\r\nReceived: from [65.201.137.7] by web14704.mail.yahoo.com; Mon, 20 Aug 2001 13:52:44 PDT\r\nDate: Mon, 20 Aug 2001 13:52:44 -0700 (PDT)\r\nReply-To: evought@...\r\nSubject: Re: [junit] Unit testing/Third-party libraries\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;F36nqEBQdWfFMVpHgLH0000387e@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nX-eGroups-From: Eric Vought &lt;eric_vought@...&gt;\r\nFrom: Eric Vought &lt;evought@...&gt;\r\n\r\nFor my part:\n\nI will only write an actual testcase for a library\nroutine when I have already discovered and reported a\nspecific defect. In that case I will write a quick\ntestcase that will allow me to verify a fix if one is\never delivered. Although I presumably would have a\ntestcase for my own code which fails due to the third\nparty defect, I will typically add a clearly marked\nworkaround to my own code and therefore can&#39;t count on\nhaving it fail in the future. So, in the case you just\ndescribed, I would typically add a branch in my code\nto make sure nextElement() fails appropriately (and\ntherefore passes the test), then add a specific test\ncase for the vendor&#39;s nextElement(), adding a vendor\ndefect number to its comment block.\n\nWith libraries that I am not comfortable with, new\nfeatures, features that may change from platform to\nplatform, or in situations where I am not certain that\nI now the rules, I will usually litter my code and my\ntestcases with extra assertions verifying my code&#39;s\nview of the world. These assertions are typically not\nthe point of the testcase, but the validity of the\ntest depends on them being true. I will often mark\nthem with a short comment &quot;// precondition&quot; to make\nthis clear to someone maintaining the tests later.\n\nSo, I am not writing separate testcases to &quot;test\nsomeone else&#39;s code&quot; per se, but I want to be able to\nquickly isolate failures in that 3rd party code from\nfailures in my code or failures in my understanding of\nhow the thrid party code is supposed to work. Adding\nassertions is cheap and I usually learn a lot when the\n&quot;impossible&quot; happens, just like you did when the\nvendor&#39;s &quot;Enumeration&quot; didn&#39;t work the way it should\nhave.\n\nWhen debugging, I always follow the old rule &quot;strcopy\nisn&#39;t broken...&quot;, but when laying out the testcases, I\ncan be fairly paranoid with my assertions- this allows\nme to be less paranoid when debugging.\n\n\n--- &quot;J. B. Rainsberger&quot; &lt;jbrains762@...&gt;\nwrote:\n&gt; &gt;Presumably if I tested the assumptions correctly in\n&gt; both cases, then I\n&gt; &gt;wouldn&#39;t have to test my code in both of its\n&gt; configurations (since\n&gt; &gt;from its point of view it&#39;s not really doing\n&gt; anything different in the\n&gt; &gt;two different cases).\n&gt; [...]\n&gt; \n&gt; You have to assume that third-party software works\n&gt; when you integrate with \n&gt; it. You have to assume that Java works. You have to\n&gt; assume that anyone you \n&gt; didn&#39;t write yourself works, otherwise you&#39;re\n&gt; testing someone else&#39;s code, \n&gt; and that is testing you shouldn&#39;t have to do.\n&gt; \n&gt; But their stuff has bugs. I posted an example of a\n&gt; bug in IBM&#39;s EJB \n&gt; implementation on Wiki. They have an Enumeration\n&gt; that isn&#39;t really an \n&gt; Enumeration. I only found this out during unit\n&gt; tests. It happens.\n&gt; \n&gt; So what can you do?\n&gt; \n&gt; Fortunately, XP has a solution: quick releases and\n&gt; acceptance tests force \n&gt; you to integrate early and often so that you can\n&gt; expose these bugs in \n&gt; third-party software earlier. The good news is that,\n&gt; through unit testing, \n&gt; you can find these third-party bugs more easily. I\n&gt; would not be the least \n&gt; bit surprised if I were the first person ever to\n&gt; find this bug in IBM&#39;s EJB \n&gt; implementation. After all, who would bother calling\n&gt; &quot;nextElement()&quot; when \n&gt; &quot;hasMoreElements()&quot; returns false? My acceptance\n&gt; test did, because I wanted \n&gt; to avoid subtle bugs, so I looked under every rock.\n&gt; \n&gt; But at least I found the bug early in my integration\n&gt; with the library, \n&gt; reported it, and perhaps they&#39;ll fix it. What\n&gt; acceptance testing did was \n&gt; make the bug show up now, rather than six months\n&gt; from now at an Australian \n&gt; customer&#39;s site. That would be a hefty travel bill.\n&gt; \n&gt; So for unit testing, you have to assume that\n&gt; libraries work, otherwise you \n&gt; can&#39;t truly unit test. But make sure you have the\n&gt; appropriate \n&gt; integration/acceptance tests; otherwise, you&#39;ll not\n&gt; find bugs in those \n&gt; libraries soon enough.\n&gt; \n&gt; JBR.\n&gt; \n&gt;\n_________________________________________________________________\n&gt; Get your FREE download of MSN Explorer at\n&gt; http://explorer.msn.com/intl.asp\n&gt; \n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor\n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to\n&gt; http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n&gt; \n&gt; \n\n__________________________________________________\nDo You Yahoo!?\nMake international calls for as low as $.04/minute with Yahoo! Messenger\nhttp://phonecard.yahoo.com/\n\n", 
    "subject": "Re: [junit] Unit testing/Third-party libraries"
}