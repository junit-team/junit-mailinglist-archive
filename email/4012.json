{
    "numMessagesInTopic": 17, 
    "nextInTime": 4013, 
    "senderId": "MOasLSY48NCn0OzaW9lAnnR-HVzHgKC_VxxpXZCpnzpI4BH3M9evuiXuvVyh-s60DfiwNIBSqzRqGAHPNQPFnux4uOu4rqr49YJDDoUH", 
    "systemMessage": false, 
    "subject": "Re: [junit] Database Select query checks!! newbie", 
    "from": "&quot;Mathieu Gervais&quot; &lt;egoine_@...&gt;", 
    "authorName": "Mathieu Gervais", 
    "msgSnippet": "Hi, ... I never got that one. It s like saying SQL code doesn t need testing as mush as java code. Programmer A: When I do unit testing, I just run my code in", 
    "msgId": 4012, 
    "profile": "egoine", 
    "topicId": 4008, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 35075295, 
    "messageBody": "<div id=\"ygrps-yiv-1872483434\">Hi,<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;There is a line of thought that all you need to do is make sure your SQL<br/>\n&gt;is valid. beyond that you&#39;re testing your database, not your method...<br/>\n<br/>\n </span></blockquote> I never got that one. It&#39;s like saying SQL code doesn&#39;t need testing as<br/>\nmush as java code.<br/>\n<br/>\nProgrammer A:<br/>\nWhen I do unit testing, I just run my code in a couple of conditions and<br/>\nlook if it&#39;s ok.<br/>\n<br/>\nXPer:<br/>\nYou should really program those tests so they are repeatable, fast to run<br/>\nand don&#39;t need any human interaction to verify if they pass. Do automated<br/>\nunit testing! Use  JUnit!<br/>\n<br/>\nWhy doesn&#39;t the same applies to SQL queries? In reality the programmer DOES<br/>\ntest his SQL queries by trying them and looking at results. (&quot;make sure your<br/>\nSQL is valid&quot;) so why not automate it like the rest?<br/>\n<br/>\nI&#39;ve seen queries way more complex than some Java code. I&#39;m pretty sure<br/>\neverybody did. Don&#39;t you want that when somebody will need to modifiy the<br/>\nquery (to add a filtering condition for example) they can press the button<br/>\nand run the tests to ensure the query is still ok?<br/>\n<br/>\nWhat I do is I connect to a special DB (with a replica of the schema of the<br/>\nreal DB) populated with test data. I also dynamically add data (in setup)<br/>\nand delete it (in teardown) for some tests. Or check that my code really<br/>\ninserted a row, etc. Of course, if a query is like selectAll(), you might be<br/>\ninfluenced by other programmers using the same test DB at the same time, so<br/>\nyou will want something like a test db per programmer. And then you start to<br/>\nfind it hard to deal with this increasingly complex solution so you drop all<br/>\nof this and return to &quot;make sure your SQL is valid&quot; testing, no more<br/>\nautomated tests for SQL.<br/>\n<br/>\nI would really like to have a tool that helped me test my SQL code and setup<br/>\ntestcases as easily as the JUnit testcase for Java. I can&#39;t use a sql only<br/>\ntest tool: I don&#39;t want to test the SQL outside the java code and then have<br/>\nthe java code use those statements. Why? Because often what I want to test<br/>\nis if the transaction is correctly rolledback in a special case, stuff like<br/>\nthat that needs java code and SQL. But really 10 lines of code and 3 lines<br/>\nof sql, so it is a &quot;unit&quot; difficult to break down further without loosing a<br/>\nlot of test cases. And what about testing failure of a DB connection at a<br/>\ncritical point? Mock objects seem to be usefull for this. Really, there is a<br/>\nneed for somebody to build a tool or documentatin explaining the best way to<br/>\ndo all of this.<br/>\n<br/>\nI&#39;ve already tought about solutions for DB-interacting code testing  (see<br/>\nposts in archive) but all my ideas are going into direction where the<br/>\ninfrastructure needed is heavy and difficult to maintain. Any brillant tool<br/>\nor ideas out there for all of this?<br/>\n<br/>\nmathieu<br/>\n<br/>\n<br/>\nPS: The original poster should also look at MockObjects to mock the results<br/>\nof the DB. They might help depending on what you want to do. But then you<br/>\naren&#39;t testing the SQL since you are mocking the execution engine.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> ----- Original Message -----<br/>\nFrom: Nilesh Thali<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSent: Monday, February 11, 2002 5:01 PM<br/>\nSubject: Re: [junit] Database Select query checks!! newbie<br/>\n<br/>\n<br/>\n&gt; (2) Your tests are simple: populate the database with data, write News<br/>\nbeans<br/>\n&gt; that represent that data, assert that getAllNews() answers the same Set<br/>\n(or<br/>\n&gt; List, if you care about order within the collection) of News beans. Do<br/>\nthis<br/>\n&gt; with as many different datasets as you need to be confident that your<br/>\nmethod<br/>\n&gt; works.<br/>\n<br/>\n    only problem with testing queries like this is that your test will be<br/>\ntime and<br/>\n    database dependent, because data (in this case the number of news beans)<br/>\n    may change over time, and you will see the red bar even though your<br/>\nmethod<br/>\n    works fine.<br/>\n    There is a line of thought that all you need to do is make sure your SQL<br/>\n    is valid. beyond that you&#39;re testing your database, not your method...<br/>\n<br/>\nregards,<br/>\nNilesh<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\nADVERTISEMENT<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. </span></blockquote></div>", 
    "prevInTime": 4011, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1013467469", 
    "canDelete": false, 
    "nextInTopic": 4014, 
    "prevInTopic": 4011, 
    "headers": {
        "messageIdInHeader": "PE9FNjJjcndQQmhmZ000ZkdJQzcwMDAwMzVmY0Bob3RtYWlsLmNvbT4=", 
        "referencesHeader": "PDIwMDIwMjEwMTAwMDM3LjgxMDgzLnFtYWlsQHdlYjIwNjAxLm1haWwueWFob28uY29tPiA8MTAxMzQ2MzMxMi4zYzY4MzkxMDNlMmI1QHdlYm1haWwuYmxhY2tzdW4uY2E+IDwzQzY4M0YxQy41REFGODZFNkBzYWJyZS5jb20+"
    }
}