{
    "numMessagesInTopic": 18, 
    "nextInTime": 24578, 
    "senderId": "Xv8Nexkpd800yIcLnphJpDSJsLbIwytBUiX7rb3lzwLtrByeNj7MN_q5S7WB7j0NxIcltjXyXzmAiQ9NUB-oTjmVaUqxVusE", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: JUnit 4.12-beta-1 is released", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "Hello, Henrik. Thanks for your feedback. My responses are inlined below On Mon, Aug 4, 2014 at 3:40 AM, hkaipe@ymail.com [junit] ", 
    "msgId": 24577, 
    "rawEmail": "Return-Path: &lt;kcooney@...&gt;\r\nReceived: (qmail 94731 invoked by uid 7800); 6 Aug 2014 12:51:32 -0000\r\nX-Sender: kcooney@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 91390 invoked by uid 102); 6 Aug 2014 06:48:32 -0000\r\nX-Received: from unknown (HELO mtaq4.grp.bf1.yahoo.com) (10.193.84.143)\n  by m15.grp.bf1.yahoo.com with SMTP; 6 Aug 2014 06:48:32 -0000\r\nX-Received: (qmail 21638 invoked from network); 6 Aug 2014 06:48:32 -0000\r\nX-Received: from unknown (HELO mail-ie0-f169.google.com) (98.138.215.83)\n  by mtaq4.grp.bf1.yahoo.com with SMTP; 6 Aug 2014 06:48:32 -0000\r\nX-Received: by mail-ie0-f169.google.com with SMTP id rd18so2353702iec.14\n        for &lt;junit@yahoogroups.com&gt;; Tue, 05 Aug 2014 23:48:30 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=1e100.net; s=20130820;\n        h=x-gm-message-state:mime-version:in-reply-to:references:from:date\n         :message-id:subject:to:content-type;\n        bh=1NNNJUmj+DBbe82NYxNFgxuvTj1Mx3o8HRjYpbFRB7c=;\n        b=dTwYwGGk8QEcfCzGerGPF7rd23FF49YEDzOM8ypmnMp/hglXW9KQQwqlfmHGmiLuvo\n         VMXOmwX0+40T0Kr2MNsDlNn6PHi83TNFBlq/omjFAXqXXOnZvxQCJPjiVj7XvB6gFMiO\n         PYKNcckvxAHXnXMPCvU/KnDeIyRdEvjjN7J420FFRLQ7O5eEEM+yMUUuMGckK/1zqDAE\n         2uayueYor2O1sqC2WPBr/de1bwOmwnhsv0Zhwf3jaMJtJL8k9JbFcfD+6TqpcTbkm02s\n         dWewsEu5yGAgT+G0VHQBr8xJ7oLJyt8qNgFiMm9m11lIDQo7IFUzvB31I/A9l7EDRXJ0\n         dH5A==\r\nX-Gm-Message-State: ALoCoQkNj9JfVQCWhfxhnUtXWgmVJSsesipEA1eu+CZnBEf/vhKpV0kLlQLhHKAMP4ptRuJQ5X0W\r\nX-Received: by 10.43.154.145 with SMTP id le17mr12651083icc.20.1407307710874;\n Tue, 05 Aug 2014 23:48:30 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.64.70.37 with HTTP; Tue, 5 Aug 2014 23:48:00 -0700 (PDT)\r\nIn-Reply-To: &lt;lrnnu4+1g9rubr@...&gt;\r\nReferences: &lt;CAHhYVJ6ZTpTaF50FXP6wKJ4W96kcr=+uWQuiKB1=75aV7ENNHA@...&gt;\n &lt;CAKi4273Uxf9Pn002Xr17wkQ5c7reww9cFBw7fLQEm8f_JWbe9A@...&gt;\n &lt;lre4db+96ap4o@...&gt; &lt;lrnnu4+1g9rubr@...&gt;\r\nDate: Tue, 5 Aug 2014 23:48:00 -0700\r\nMessage-ID: &lt;CAA3E+eXMg5E-P7D25EmH3DaLPY-Erwgx2eXGrh4bP_0=UjNbWQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=001a11c30c6e32615004fff05cb6\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: Re: [junit] Re: JUnit 4.12-beta-1 is released\r\nX-Yahoo-Group-Post: member; u=475263748; y=uompNbTbwAhxCfOjw6DkRs9o2wXvi7feDgb9gqm6GqFqR4sk4XIj3ftugZecTH5XnZGFu5iElA-MkEk\r\nX-Yahoo-Profile: kevincooney2000\r\nX-Original-From: Kevin Cooney &lt;kcooney@...&gt;\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 6 Aug 2014 12:51:32 -0000\r\nFrom: Kevin Cooney &lt;kcooney@...&gt;\r\n\r\n\r\n--001a11c30c6e32615004fff05cb6\r\nContent-Type: text/plain; charset=UTF-8\r\n\r\nHello, Henrik. Thanks for your feedback. My responses are inlined below\n\nOn Mon, Aug 4, 2014 at 3:40 AM, hkaipe@... [junit] &lt;\njunit@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hello\n&gt;\n&gt; I am sorry for trashing the party but I have a couple of concerns that are\n&gt; very likely to slow down the adoption of JUnit-4.12 among the providers of\n&gt; 3rd-party tools ...\n&gt;\n&gt;  --- 1) Don&#39;t remove JUnit4ClassRunner! (in package\n&gt; org.junit.internal.runners)\n&gt;\nThis was a hard choice. JUnit4ClassRunner was starting to become a\nmaintenance burden. When evaluating our options, we realized that\nJUnit4ClassRunner has been deprecated for six years, and debated whether we\nshould delete it.\n\nThings to note\n\n- JUnit4ClassRunner was deprecated six years ago with a comment that we\nwould delete it in the next JUnit version\n- We are now releasing 4.12, which is seven versions after we said we would\ndelete the class\n- BlockJUnit4ClassRunner the replacement for JUnit4ClassRunner) has been\navailable since 4.5\n- JUnit4ClassRunner isn&#39;t designed to be extended\n- JUnit4ClassRunner doesn&#39;t support many features that are core parts of\nJUnit (particularly Rules)\n\nGiven all these issues, we decided to delete these classes. Third party\nrunners that still use JUnit4ClassRunner should migrate to\nBlockJUnit4ClassRunner and target 4.5.\n\nYes, some teams might have to wait for 3rd-party runners to upgrade to 4.5\nAPIs, and that might slow adoption for some projects. But the end result\nwill be more third-party runners that will support Rules (and will\nhopefully automatically get other new features we might add).\n\nThere may be a very small percentage of projects that want to upgrade their\n3rd-party runner to get bug fixes but the next version of that runner\nrequires 4.5 and the project hasn&#39;t upgraded JUnit since before 4.5 was\nreleased. Hopefully that is a small number of projects.\n\nIn any case, the deleted classes are self-contained. Since JUnit is open\nsource, 3rd-party runners are welcome to copy the deleted classes into\ntheir own package tree as long as they do it in a way that&#39;s compatible\nwith our license.\n\n&gt;\n&gt; I have developed a number of 3rd-party runnners myself and I want the\n&gt; JUnit community to know that as a 3rd-party runner developer you want the\n&gt; latest version of your runner to work with any version of JUnit! -\n&gt; Otherwise the end-users (test-developers) will be less likely to start\n&gt; using your runner because they probably don&#39;t want to deal with the\n&gt; version-conflict hell that might raise between JUnit and your 3rd-party\n&gt; runner.\n&gt;\n&gt; A couple of good examples are the 3rd-party runners MockitoJUnitRunner\n&gt; (from Mockito - http://mockito.org) and CallbackParamsRunner (from\n&gt; CallbackParams - http://callbackparams.org)\n&gt;\nMockitoJUnitRunner extends BlockJUnit4ClassRunner, and appears to be\nequivalent to MockitoJUnitRunner (which extends the now-deleted runner)\n\nCallbackParams appears unaffected. CallbackParamsRunner extends Runner and\nEnumRunner extends ParentRunner.\n\n&gt; Now I do think that both of these runners will run just fine with\n&gt; JUnit-4.12-beta-1 but their builds would fail the day they decide to\n&gt; upgrade their JUnit dependency\n&gt;\n\nYes, at some point the developers of these runners will have to choose\nbetween using new APIs that were released in 4.12 and later vs having their\nrunners support JUnit 4.4 and earlier.\n\n&gt;\n&gt;  --- 2) Please remove pull-request #625 from the release! (The annotation\n&gt; @...)\n&gt;\n&gt; I think this pull-request represents a very poor design choice that - at\n&gt; best - might help performance only for JUnit runners that executes their\n&gt; tests with concurrent threads. I would like to point out that most smaller\n&gt; unit-tests do not!! - but they still suffer from the same RunListener\n&gt; slowness that this issue is supposed to address ...\n&gt;\nI think you might be misunderstanding the issues that this series of\ncommits was addressing.\n\nPrior to 4.12, a good portion of the JUnit code was not thread safe, so the\nresult of running tests in parallel was completely undefined by the JVM.\n\nA few developers went trough a lot of effort to find and fix the\nthread-safety issues. Unfortunately, the RunListener API did not specify\nthat implementations need to be thread-safe, and even some implementations\nof RunListener in JUnit were not thread safe.\n\nWhat we decided to do was to treat existing RunListener implementations as\nnot thread safe, which means we had to do synchronization. RunListener\nimplementations that can depend on JUnit 4.12 APIs can use\nthe @... annotation to indicate that their listener is\nthread-safe, so doesn&#39;t need synchronization.\n\nThe alternative would be to assume that all listeners are thread safe. If\nthat assumption was\nwrong, then JUnit could report incorrect results from test runs. This\ndidn&#39;t seem like a good option, so we decided that it is better to\nsacrifice some speed for better correctness guarantees.\n\nNote that for modern JVMs, the cost of an uncontested lock is extremely\nlow, so I don&#39;t believe this should have a noticeable impact on tests that\nare not run in parallel. Please let us know if you observe performance\nproblems from these changes.\n\n-- Kevin\n\r\n--001a11c30c6e32615004fff05cb6\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;div&gt;&lt;div&gt;Hello, Henrik. Thanks=\r\n for your feedback. My responses are inlined below&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div clas=\r\ns=3D&quot;gmail_quote&quot;&gt;On Mon, Aug 4, 2014 at 3:40 AM, &lt;a href=3D&quot;mailto:hkaipe@=\r\nymail.com&quot;&gt;hkaipe@...&lt;/a&gt; [junit] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;ma=\r\nilto:junit@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt;=\r\n&lt;/span&gt; wrote:&lt;br&gt;\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0px 0=\r\npx 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);borde=\r\nr-left-style:solid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;ba=\r\nckground-color:rgb(255,255,255)&quot;&gt;\n&lt;span&gt;=C2=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n   =\r\n &lt;div&gt;\n      \n      \n      &lt;p&gt;Hello&lt;br&gt;&lt;br&gt;I am sorry for trashing the part=\r\ny but I have a couple of concerns that are very likely to slow down the ado=\r\nption of JUnit-4.12 among the providers of 3rd-party tools ...&lt;br&gt;&lt;br&gt;=C2=\r\n=A0--- 1) Don&#39;t remove JUnit4ClassRunner! (in package org.junit.interna=\r\nl.runners)&lt;br&gt;\n\n&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;This was a ha=\r\nrd choice. JUnit4ClassRunner was starting to become a maintenance burden. W=\r\nhen evaluating our options, we realized that JUnit4ClassRunner has been dep=\r\nrecated for six years, and debated whether we should delete it.&lt;/div&gt;\n\n&lt;div=\r\n&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Things to note&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;- JUnit4ClassRunner=\r\n was deprecated six years ago with a comment that we would delete it in the=\r\n next JUnit version&lt;/div&gt;&lt;div&gt;- We are now releasing 4.12, which is seven v=\r\nersions after we said we would delete the class&lt;/div&gt;\n\n&lt;div&gt;- BlockJUnit4Cl=\r\nassRunner the replacement for JUnit4ClassRunner) has been available since 4=\r\n.5&lt;/div&gt;&lt;div&gt;- JUnit4ClassRunner isn&#39;t designed to be extended&lt;/div&gt;&lt;di=\r\nv&gt;- JUnit4ClassRunner=C2=A0doesn&#39;t support many features that are core =\r\nparts of JUnit (particularly Rules)&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Given all th=\r\nese issues, we decided to delete these classes. Third party runners that st=\r\nill use JUnit4ClassRunner should migrate to BlockJUnit4ClassRunner and targ=\r\net 4.5.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes, some teams might have to wait for 3rd=\r\n-party runners to upgrade to 4.5 APIs, and that might slow adoption for som=\r\ne projects. But the end result will be more third-party runners that will s=\r\nupport Rules (and will hopefully automatically get other new features we mi=\r\nght add).&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There may be a very small percentage o=\r\nf projects that want to upgrade their 3rd-party runner to get bug fixes but=\r\n the next version of that runner requires 4.5 and the project hasn&#39;t up=\r\ngraded JUnit since before 4.5 was released. Hopefully that is a small numbe=\r\nr of projects.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In any case, the deleted classes =\r\nare self-contained. Since JUnit is open source, 3rd-party runners are welco=\r\nme to copy the deleted classes into their own package tree as long as they =\r\ndo it in a way that&#39;s compatible with our license.=C2=A0&lt;/div&gt;\n\n&lt;blockq=\r\nuote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0px 0px 0px 0.8ex;border-left-wi=\r\ndth:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-=\r\nleft:1ex&quot;&gt;&lt;div style=3D&quot;background-color:rgb(255,255,255)&quot;&gt;&lt;div&gt;&lt;div&gt;\n&lt;div&gt;=\r\n\n&lt;p&gt;&lt;br&gt;I have developed a number of 3rd-party runnners myself and I want t=\r\nhe JUnit community to know that as a 3rd-party runner developer you want th=\r\ne latest version of your runner to work with any version of JUnit! - Otherw=\r\nise the end-users (test-developers) will be less likely to start using your=\r\n runner because they probably don&#39;t want to deal with the version-confl=\r\nict hell that might raise between JUnit and your 3rd-party runner.&lt;br&gt;\n\n&lt;br=\r\n&gt;A couple of good examples are the 3rd-party runners MockitoJUnitRunner (fr=\r\nom Mockito - &lt;a href=3D&quot;http://mockito.org&quot; target=3D&quot;_blank&quot;&gt;http://mockit=\r\no.org&lt;/a&gt;) and CallbackParamsRunner (from CallbackParams - &lt;a href=3D&quot;http:=\r\n//callbackparams.org&quot; target=3D&quot;_blank&quot;&gt;http://callbackparams.org&lt;/a&gt;)&lt;/p&gt;\n=\r\n\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;MockitoJUnitRunner extends Block=\r\nJUnit4ClassRunner, and appears to be equivalent to=C2=A0MockitoJUnitRunner =\r\n(which extends the now-deleted runner)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;CallbackPar=\r\nams appears unaffected. CallbackParamsRunner extends Runner and EnumRunner =\r\nextends ParentRunner.&lt;/div&gt;\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;mar=\r\ngin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,2=\r\n04);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div style=3D&quot;background-colo=\r\nr:rgb(255,255,255)&quot;&gt;&lt;div&gt;&lt;div&gt;\n&lt;div&gt;\n&lt;p&gt;Now I do think that both of these r=\r\nunners will run just fine with JUnit-4.12-beta-1 but their builds would fai=\r\nl the day they decide to upgrade their JUnit dependency&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/di=\r\nv&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;\n\n&lt;div&gt;Yes, at some point the developer=\r\ns of these runners will have to choose between using new APIs that were rel=\r\neased in 4.12 and later vs having their runners support JUnit 4.4 and earli=\r\ner.&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0px 0px 0px 0.8e=\r\nx;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-styl=\r\ne:solid;padding-left:1ex&quot;&gt;\n\n&lt;div style=3D&quot;background-color:rgb(255,255,255)=\r\n&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p&gt;&lt;br&gt;=C2=A0--- 2) Please remove pull-request #625 from t=\r\nhe release! (The annotation @...)&lt;br&gt;&lt;br&gt;I think this pu=\r\nll-request represents a very poor design choice that - at best - might help=\r\n performance only for JUnit runners that executes their tests with concurre=\r\nnt threads. I would like to point out that most smaller unit-tests do not!!=\r\n - but they still suffer from the same RunListener slowness that this issue=\r\n is supposed to address ...&lt;br&gt;\n\n&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;=\r\ndiv&gt;I think you might be misunderstanding the issues that this series of co=\r\nmmits was addressing.=C2=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Prior to 4.12, a good =\r\nportion of the JUnit code was not thread safe, so the result of running tes=\r\nts in parallel was completely undefined by the JVM.&lt;br&gt;\n\n&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/d=\r\niv&gt;&lt;div&gt;A few developers went trough a lot of effort to find and fix the th=\r\nread-safety issues. Unfortunately, the RunListener API did not specify that=\r\n implementations need to be thread-safe, and even some implementations of R=\r\nunListener in JUnit were not thread safe.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What w=\r\ne decided to do was to treat existing RunListener implementations as not th=\r\nread safe, which means we had to do synchronization. RunListener implementa=\r\ntions that can depend on JUnit 4.12 APIs can use the=C2=A0@...=\r\nadSafe annotation to indicate that their listener is thread-safe, so doesn&=\r\n#39;t need synchronization.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The alternative woul=\r\nd be to assume that all listeners are thread safe. If that assumption was=\r\n=C2=A0&lt;/div&gt;&lt;div&gt;wrong, then JUnit could report incorrect results from test=\r\n runs. This didn&#39;t seem like a good option, so we decided that it is be=\r\ntter to sacrifice some speed for better correctness guarantees.&lt;/div&gt;\n\n&lt;div=\r\n&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note that for modern JVMs, the cost of an uncontested lock =\r\nis extremely low, so I don&#39;t believe this should have a noticeable impa=\r\nct on tests that are not run in parallel. Please let us know if you observe=\r\n performance problems from these changes.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-- Kev=\r\nin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n\r\n--001a11c30c6e32615004fff05cb6--\r\n\n", 
    "profile": "kevincooney2000", 
    "topicId": 24572, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "prevInTime": 24576, 
    "contentTrasformed": false, 
    "postDate": "1407307680", 
    "canDelete": false, 
    "nextInTopic": 24578, 
    "prevInTopic": 24576, 
    "headers": {
        "inReplyToHeader": "PGxybm51NCsxZzlydWJyQFlhaG9vR3JvdXBzLmNvbT4=", 
        "messageIdInHeader": "PENBQTNFK2VYTWc1RS1QN0QyNUVtSDNEYUxQWS1FcndneDJlWEdyaDRiUF8wPVVqTmJXUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBSGhZVko2WlRwVGFGNTBGWFA2d0tKNFc5Nmtjcj0rdVdRdWlLQjE9NzVhVjdFTk5IQUBtYWlsLmdtYWlsLmNvbT4gPENBS2k0MjczVXhmOVBuMDAyWHIxN3drUTVjN3Jld3c5Y0ZCdzdmTFFFbThmX0pXYmU5QUBtYWlsLmdtYWlsLmNvbT4gPGxyZTRkYis5NmFwNG9AWWFob29Hcm91cHMuY29tPiA8bHJubnU0KzFnOXJ1YnJAWWFob29Hcm91cHMuY29tPg=="
    }
}