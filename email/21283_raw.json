{
    "numMessagesInTopic": 22, 
    "nextInTime": 21284, 
    "senderId": "LCPG1qxkCcoUAgLyrntx7F9K6KJ4QZVzoJgIBXY7eD2kJehSXYXeSakvnywSTrbtnhezEhg_zy8bR6xCgvtLJgNPgG4asUIZYjOsrty2AgE", 
    "systemMessage": false, 
    "subject": "Re: Runner for non static inner class in JUnit 4.x", 
    "from": "&quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;", 
    "authorName": "Lasse Koskela", 
    "msgSnippet": "Hi David, Tuomas, I m not exactly unbiased either, having submitted a couple of patches for JDave back in the day and just having joined a project that has ", 
    "msgId": 21283, 
    "rawEmail": "Return-Path: &lt;lasse.koskela@...&gt;\r\nX-Sender: lasse.koskela@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 41665 invoked from network); 14 Jan 2009 08:42:15 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m36.grp.scd.yahoo.com with QMQP; 14 Jan 2009 08:42:15 -0000\r\nX-Received: from unknown (HELO n15c.bullet.sp1.yahoo.com) (69.147.64.120)\n  by mta17.grp.scd.yahoo.com with SMTP; 14 Jan 2009 08:42:15 -0000\r\nX-Received: from [69.147.65.149] by n15.bullet.sp1.yahoo.com with NNFMP; 14 Jan 2009 08:42:15 -0000\r\nX-Received: from [66.218.67.35] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 14 Jan 2009 08:42:15 -0000\r\nDate: Wed, 14 Jan 2009 08:42:13 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gkk8h5+6bkg@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90901051333x6e58d5f3sbcf01ef3a716b4d2@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;\r\nSubject: Re: Runner for non static inner class in JUnit 4.x\r\nX-Yahoo-Group-Post: member; u=190530936; y=1YsbLNnt4ixD5pPn1T0VY1E2jw2-ink7EU-iv7cv_8eOVV3GhFOh\r\nX-Yahoo-Profile: lassekoskela\r\n\r\nHi David, Tuomas,\n\nI&#39;m not exactly unbiased either, having submitted a coup=\r\nle of patches\nfor JDave back in the day and just having joined a project th=\r\nat has\n5000+ JDave tests.\n\nWith that said, I don&#39;t think the increase in co=\r\nmplexity that we&#39;re\ntalking about here is all that big. If you don&#39;t specif=\r\ny a runner\n(non-static inner class), one is inherited from one level up\n(de=\r\nclaring class).\n\nAgain, I might be biased but I sure would like to be able =\r\nto run just\none of the tests.\n\n\nLasse\n\n--- In junit@yahoogroups.com, &quot;David=\r\n Saff&quot; &lt;david@...&gt; wrote:\n&gt; Do you think the overall ease of use to people =\r\nwho need this feature\nwill be\n&gt; worth a 20% increase in complexity for ever=\r\nyone who needs to\nunderstand the\n&gt; default running rules?\n&gt; \n&gt;    David Saf=\r\nf\n&gt; \n&gt; On Wed, Dec 31, 2008 at 3:08 AM, tuomaskarkkainenri &lt;\n&gt; tuomaskarkka=\r\ninenri@...&gt; wrote:\n&gt; \n&gt; &gt; hey David,\n&gt; &gt;\n&gt; &gt; i uploaded the patch as a file=\r\n,\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\nhttp://f1.grp.yahoofs.com/v1/cBhbSQYycXqWtmfu6mA5iis6I67Qo0It=\r\nb3lfEH-tMTD2PqfQBWFNQwiqbje7jxu7yGSHFHijEoZPnMvQpZtq0gohmbE9pzSYXRseJ5ewyt0=\r\n/nonstaticinnerclasses.patch\n&gt; &gt;\n&gt; &gt; or if that link is relative to my sess=\r\nion it&#39;s\n&gt; &gt; nonstaticinnerclasses.patch under files here in Yahoo Groups.\n=\r\n&gt; &gt;\n&gt; &gt; in JUnit4 speak:\n&gt; &gt;\n&gt; &gt; public class RegularJunit4 {\n&gt; &gt;  public c=\r\nlass NonStaticInnerClass {\n&gt; &gt;    @Test\n&gt; &gt;    public void testMethod() {\n&gt;=\r\n &gt;    }\n&gt; &gt;  }\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; running testMethod() is not possible since Non=\r\nStaticInnerClass cannot\n&gt; &gt; be instantiated from the outside.\n&gt; &gt;\n&gt; &gt; in JD=\r\nave:\n&gt; &gt;\n&gt; &gt;  @RunWith(JDaveRunner.class)\n&gt; &gt;  public static class ASpec ex=\r\ntends Specification&lt;Void&gt; {\n&gt; &gt;    public class AContext {\n&gt; &gt;      public =\r\nvoid aBehavior() {}\n&gt; &gt;    }\n&gt; &gt;  }\n&gt; &gt;\n&gt; &gt; AContext is instantiated by Spe=\r\ncRunner which JDaveRunner delegates to.\n&gt; &gt;\n&gt; &gt; When I run this with curren=\r\nt JUnit,\n&gt; &gt; AllDefaultPossibilitiesBuilder#runnerForClass(final Class&lt;?&gt;\n&gt;=\r\n &gt; testClass) picks out the @RunWith annotation and uses that to run my\n&gt; &gt;=\r\n spec(test class).\n&gt; &gt;\n&gt; &gt; However if I want to run just a single behavior =\r\n(test method) from\n&gt; &gt; this spec for example from Eclipse.  Eclipse tells J=\r\nUnit to run class\n&gt; &gt; ASpec.AContext and method aBehavior JUnit then sees w=\r\nhat builder it\n&gt; &gt; should use for AContext, and doesn&#39;t find the annotation=\r\n there and\n&gt; &gt; tries to use the regular JUnit4 builder and since it&#39;s a JDa=\r\nve spec it\n&gt; &gt; fails to run.\n&gt; &gt;\n&gt; &gt; What I want to do is: in case AllDefau=\r\nltPossibilitiesBuilder notices\n&gt; &gt; that the TestClass is a non-static membe=\r\nr class, which it has no\n&gt; &gt; chance of being able run anyway, it checks whe=\r\nther the declaring class\n&gt; &gt; of the testclass would be able to run it inste=\r\nad.\n&gt; &gt;\n&gt; &gt; In the case of JDave, the declaring class would have the @RunWi=\r\nth\n&gt; &gt; annotation, and with the Filter created by FilterRequest, JDave can\n=\r\n&gt; &gt; then choose which Context and Spec it should actually allow to run.\n&gt; &gt;=\r\n\n&gt; &gt; br,\n&gt; &gt; Tuomas\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups.com, &quot;David Saff&quot; &lt;dav=\r\nid@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; JDave is cool.  I&#39;m not 100% clear what you want to=\r\n do, and I don&#39;t\n&gt; &gt; see the\n&gt; &gt; &gt; patch.  Could you perhaps include a smal=\r\nl test case as inline text?\n&gt; &gt; &gt;\n&gt; &gt; &gt;    David Saff\n&gt; &gt; &gt;\n&gt; &gt; &gt; On Tue, D=\r\nec 30, 2008 at 10:27 AM, tuomaskarkkainenri &lt;\n&gt; &gt; &gt; tuomaskarkkainenri@&gt; wr=\r\note:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   I participate in JDave (http://jdave.org). A BDD frame=\r\nwork\nfor Java\n&gt; &gt; &gt; &gt; that takes advantage of JUnit for example for Eclipse=\r\n integration.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; We have tests in non-static inner classes of =\r\nour test classes.\nThese\n&gt; &gt; &gt; &gt; run wonderfully using the @RunWith annotati=\r\non and our own runner.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; however, for individual tests, this =\r\ndoesn&#39;t work. What I would\nlike\n&gt; &gt; &gt; &gt; to do is that AllDefaultPossibiliti=\r\nesBuilder would check\nwhether or\n&gt; &gt; &gt; &gt; not the test class is a non static=\r\n member class. if it is, then I\n&gt; &gt; &gt; &gt; would grab the runner of the declar=\r\ning class instead.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I made a patch implementing this. I will=\r\n try to attach it.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text port=\r\nions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; -------------=\r\n-----------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; \n&gt; \n&gt;=\r\n [Non-text portions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "lassekoskela", 
    "topicId": 21238, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190530936, 
    "prevInTime": 21282, 
    "contentTrasformed": false, 
    "postDate": "1231922533", 
    "canDelete": false, 
    "nextInTopic": 21284, 
    "prevInTopic": 21274, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwMTA1MTMzM3g2ZTU4ZDVmM3NiY2YwMWVmM2E3MTZiNGQyQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGdrazhoNSs2YmtnQGVHcm91cHMuY29tPg=="
    }
}