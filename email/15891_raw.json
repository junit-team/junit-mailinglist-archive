{
    "numMessagesInTopic": 74, 
    "nextInTime": 15892, 
    "senderId": "z8Aomv61K_2dRmzYh4EPRVvA49Xh8fnaWa2clzP3Kx0AsL6XW9mjSAa0i9CNSubbdCx-2TxoDCFeKciLBfaFzSoWzqt5Mysxp2o", 
    "systemMessage": true, 
    "subject": "Observations from a production use of JUnit4", 
    "from": "Ben Maurer &lt;bmaurer@...&gt;", 
    "authorName": "Ben Maurer", 
    "msgSnippet": "Hey guys, For this semester, I ve been playing around with using JUnit4 as the automated test system for the 15-211 (Data Structures) class at CMU. We use an", 
    "msgId": 15891, 
    "rawEmail": "Return-Path: &lt;bmaurer@...&gt;\r\nReceived: (qmail 89903 invoked from network); 30 Jan 2006 13:13:45 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m27.grp.scd.yahoo.com with QMQP; 30 Jan 2006 13:13:45 -0000\r\nReceived: from unknown (HELO n6a.bullet.scd.yahoo.com) (66.94.237.40)\n  by mta1.grp.scd.yahoo.com with SMTP; 30 Jan 2006 13:13:44 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.2] by n6.bullet.scd.yahoo.com with NNFMP; 30 Jan 2006 13:10:52 -0000\r\nReceived: from [66.218.66.85] by t2.bullet.scd.yahoo.com with NNFMP; 30 Jan 2006 13:10:52 -0000\r\nX-Sender: bmaurer@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 33604 invoked from network); 29 Jan 2006 18:50:51 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m11.grp.scd.yahoo.com with QMQP; 29 Jan 2006 18:50:51 -0000\r\nReceived: from unknown (HELO smtp.andrew.cmu.edu) (128.2.10.82)\n  by mta2.grp.scd.yahoo.com with SMTP; 29 Jan 2006 18:50:51 -0000\r\nReceived: from OMEGA.RES.cmu.edu (OMEGA.RES.cmu.edu [128.2.151.199])\n\tby smtp.andrew.cmu.edu (8.13.4/8.13.4) with ESMTP id k0TIlV6w032350\n\t(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)\n\tfor &lt;junit@yahoogroups.com&gt;; Sun, 29 Jan 2006 13:47:31 -0500\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain\r\nDate: Sun, 29 Jan 2006 13:47:30 -0500\r\nMessage-Id: &lt;1138560450.24637.51.camel@...&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.4.2.1 (2.4.2.1-1.1.fc4.nr) \r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Ben Maurer &lt;bmaurer@...&gt;\r\nSubject: Observations from a production use of JUnit4\r\nX-Yahoo-Group-Post: member; u=256083789; y=KagxC9IUSA_sQ__VV9Z3w071BMRYhin0Lugi1rLgc2BmorvYKasUpp1lfh8_1g\r\nX-Yahoo-Profile: benjamindavidmaurer\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 30 Jan 2006 13:10:51 -0000\r\n\r\nHey guys,\n\nFor this semester, I&#39;ve been playing around with using JUnit4 as the\nautomated test system for the 15-211 (Data Structures) class at CMU. We\nuse an automated submission system called FrontDesk to grade student\nprogramming work. The system runs a series of JUnit tests on the student\ncode. The submission system is web based, and a daemon polls the system\nfor test cases to execute. This daemon then launches Ant, which\nevaluates the test cases, and sends back xml results to the testing\nservice.\n\nThere were a few motivations for me to use JUnit4 over a production\nversion:\n\n      * Built in support for timeouts. This is probably the most\n        critical component. Because students will make draft submissions\n        to FrontDesk, we see all sorts of problems. If the testing\n        daemon gets stuck on a submission, this can cause massive\n        problems -- especially if it is 9pm on the day of the 11:59pm\n        deadline and 200 students are attempting to commit. Built in\n        timeout support helps avert disaster.\n      * Expected exceptions. This helps us make clean test cases.\n\nI thought I might list some observations, in the hope that these could\nbe fixed in the near future.\n\nAnt XML output\n--------------\n\nI&#39;d say the main hack involved in using junit4 is the Ant integration.\nBecause we need XML output, using the driver program (like the build.xml\nin junit4 does) wouldn&#39;t work. I guess I could write my own harness, but\nwhy should this be required? Having a full fledged ant task before the\nrelease date seems like a critical factor.\n\nRight now, I just use the junit3 compat layer to execute via Ant. This\nhas one problem: the test case names in XML get messed up. In rc1 (the\nversion I am using), it&#39;s ok. The xml file looks like:\n\n&lt;testcase classname=&quot;junit.framework.JUnit4TestCaseAdapter&quot; name=&quot;QueueTest(createQueueTest)&quot; time=&quot;0.033&quot;&gt;&lt;/testcase&gt;\n\nWhile not ideal, I&#39;m able to have my tool deal with this.\n\nHowever, in rc2, it looks like:\n\n&lt;testcase classname=&quot;junit.framework.JUnit4TestAdapterCache$2$1&quot; name=&quot;unknown&quot; time=&quot;0.018&quot;&gt;&lt;/testcase&gt;\n\nObviously, this is useless to me, and blocks me from updating.\n\nStack Trace Filtering\n---------------------\n\nThe stack trace from junit messages have always been filed with junit.*\ntraces. Ant filters these out. However, now there are org.junit things\nslipping through. Also, tests with a timeout, have many\njava.util.concurrent frames in them. Why leave this kind of filtering up\nto each tool? JUnit should filter out the frames it knows are from it.\nThis would make command line output look nicer. I think NUnit does this.\n\n@Test(expected=) traces\n-----------------------\n\nWhen you have an expected exception, and another one gets thrown, the\nerror trace doesn&#39;t contain the bad exception. You only get:\n\njava.lang.AssertionError: Unexpected exception, expected&lt;java.util.NoSuchElementException&gt; but was&lt;java.lang.NullPointerException&gt;\n\nHaving the trace of the bad exception would help TAs debug student code.\nAgain, I think NUnit will display these.\n\n-- Ben\n\n\n\n\n", 
    "profile": "benjamindavidmaurer", 
    "topicId": 15891, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 256083789, 
    "prevInTime": 15890, 
    "contentTrasformed": false, 
    "postDate": "1138560450", 
    "canDelete": false, 
    "nextInTopic": 15895, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDExMzg1NjA0NTAuMjQ2MzcuNTEuY2FtZWxAb21lZ2EucmVzLmNtdS5lZHU+"
    }
}