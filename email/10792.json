{
    "numMessagesInTopic": 15, 
    "nextInTime": 10793, 
    "senderId": "1WXj3AEY5u7dDbGOofyrIzzEn8qcQNPUTpQt_qHcdZ_J7fD1wsDGFCxreR7Nqxsj5mFw07FslN2IDpZHExxJ6zDIFtGkT8AJDi1tiHfl", 
    "systemMessage": false, 
    "subject": "Re: [junit] Where am I going wrong?", 
    "from": "Jason Rogers &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "... Alas, you are correct.  In the future I will refrain from responding on so little sleep.  I can t confirm it, though I believe what was in my mind was GC", 
    "msgId": 10792, 
    "profile": "jacaetev", 
    "topicId": 10745, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "messageBody": "<div id=\"ygrps-yiv-487097005\">On Tue, 2004-04-06 at 09:23, Chris Dollin wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; On Monday 05 April 2004 17:55, Jason Rogers wrote:<br/>\n&gt; &gt; While that is true, it is irrelevant to his example test (unless I<br/>\n&gt; &gt; missed something about my &quot;simple&quot; explanation and your correction)<br/>\n&gt; &gt; because he wasn&#39;t reassigning the original variable.  But alas, I<br/>\n&gt; &gt; believe we are off-topic now.  You are correct in the sense that it<br/>\n&gt; &gt; reduces memory usage, but as a habit (personally) I feel it should be<br/>\n&gt; &gt; avoided.  If I must optimize, this is surely a good optimization place.<br/>\n&gt; &gt; For example:<br/>\n&gt; &gt;<br/>\n&gt; &gt;   BufferedReader reader = new BufferedReader(new FileReader(file));<br/>\n&gt; &gt;   String line = null;<br/>\n&gt; &gt;   while ( (line = reader.readLine()) != null ) {<br/>\n&gt; &gt;     doSomethingWith(line);<br/>\n&gt; &gt;   }<br/>\n&gt; &gt;<br/>\n&gt; &gt; is _MUCH_ cheaper (in terms of allocation) than:<br/>\n&gt; &gt;<br/>\n&gt; &gt;   BufferedReader reader = new BufferedReader(new FileReader(file));<br/>\n&gt; &gt;   while ( reader.ready() ) {<br/>\n&gt; &gt;     String line = reader.readLine();<br/>\n&gt; &gt;     doSomethingWith(line);<br/>\n&gt; &gt;   }<br/>\n&gt; <br/>\n&gt; I don&#39;t see why you think this: in both cases all the interesting allocation<br/>\n&gt; happens inside readLine. Where the local variable is declared is going<br/>\n&gt; to make essentially no difference. [Internally, &quot;line&quot; is a reference value<br/>\n&gt; of fixed size, allocated in the method&#39;s stack-frame; it&#39;s not an object<br/>\n&gt; allocated in the heap [1], so going round the loop redeclaring it doesn&#39;t<br/>\n&gt; burn store. It would be different if we were in a language with full lexical<br/>\n&gt; scoping like Scheme or Pop11, and the variable was captured by a closure,<br/>\n&gt; but we aren&#39;t and we cant.]<br/>\n&gt; <br/>\n&gt; [1] I can imagine an implementation that allocated stack-frames on the<br/>\n&gt; heap, as NJSML does, but even that doesn&#39;t allocate individual variables<br/>\n&gt; on the heap in cases like this.<br/>\n<br/>\n </span></blockquote>Alas, you are correct.  In the future I will refrain from responding on<br/>\nso little sleep.  I can&#39;t confirm it, though I believe what was in my<br/>\nmind was GC optimization (having to keep track of many stale<br/>\nreferences), but even that is of no consequence in this case given that<br/>\nthe code in question would probably be optimized by the compiler<br/>\nanyway.  You are correct that the real allocation is in the readLine()<br/>\nmethod call to the reader.  Can I use this as one (or more) of my<br/>\nblunders for the year?<br/>\n<br/>\n-- <br/>\nJason Rogers<br/>\n<br/>\n&quot;Where there is no vision, the people perish...&quot;<br/>\nBible, Proverbs 29:18</div>", 
    "prevInTime": 10791, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1081261223", 
    "canDelete": false, 
    "nextInTopic": 10805, 
    "prevInTopic": 10781, 
    "headers": {
        "inReplyToHeader": "PDIwMDQwNDA2MTAyMy4zMTIxMC5jaHJpcy5kb2xsaW5AaHAuY29tPg==", 
        "messageIdInHeader": "PDEwODEyNjEyMjMuNjU0Mi4xMjUuY2FtZWxAZWFudXMucmlza21ldHJpY3MtYWEucmlza21ldHJpY3MuY29tPg==", 
        "referencesHeader": "PDUuMi4xLjEuMC4yMDA0MDQwNTExNDQ0Ni4wMGE0MWRjMEBwb2JveC5jb20+CSA8MTA4MTE4NDEzNS42NTQzLjEwNS5jYW1lbEBlYW51cy5yaXNrbWV0cmljcy1hYS5yaXNrbWV0cmljcy5jb20+CSA8MjAwNDA0MDYxMDIzLjMxMjEwLmNocmlzLmRvbGxpbkBocC5jb20+"
    }
}