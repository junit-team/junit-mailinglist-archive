{
    "topicId": 870, 
    "postDate": "986281165", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Robert Watkins &lt;robertw@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "QDdPXeK3zGP72yqvUdFnd7MRnae0-cDWK7Hm_Czp_Slnu6iBK97lDL4MLHQ2_deaSoAvxts2Iausf_1z7PGeT3zQb-SMsAFaK8YfvT1S1Q", 
    "nextInTime": 882, 
    "userId": 0, 
    "prevInTime": 880, 
    "prevInTopic": 880, 
    "headers": {
        "messageIdInHeader": "PDMzQTVFNjk5REFDNEQ0MTE5N0MyMDA1MDhCQUY1MjE3MkE1N0JFQGF1Ym5tc3gwMS5xc2kuY29tLmF1Pg=="
    }, 
    "authorName": "Robert Watkins", 
    "numMessagesInTopic": 11, 
    "msgSnippet": "... This is a nice aim, but it s not always possible. That said, it s still worth striving for. The main problem area is when you want your EJB to leverage the", 
    "contentTrasformed": false, 
    "msgId": 881, 
    "nextInTopic": 903, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;robert.watkins@...&gt;\r\nX-Sender: robert.watkins@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_1_1); 3 Apr 2001 06:56:36 -0000\r\nReceived: (qmail 62823 invoked from network); 3 Apr 2001 06:56:35 -0000\r\nReceived: from unknown (10.1.10.142) by m8.onelist.org with QMQP; 3 Apr 2001 06:56:35 -0000\r\nReceived: from unknown (HELO qsi.com.au) (203.202.39.12) by mta3 with SMTP; 3 Apr 2001 07:57:39 -0000\r\nReceived: from aubnmsx01.qsi.com.au (aubnmsx01.qsi.com.au [192.168.21.22]) by qsi.com.au (8.9.3/8.9.3) with ESMTP id QAA27577 for &lt;junit@yahoogroups.com&gt;; Tue, 3 Apr 2001 16:47:38 +1000\r\nReceived: by aubnmsx01.qsi.com.au with Internet Mail Service (5.5.2653.19) id &lt;H9B2A98Y&gt;; Tue, 3 Apr 2001 16:59:26 +1000\r\nMessage-ID: &lt;33A5E699DAC4D41197C200508BAF52172A57BE@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Best practice with EJB\r\nDate: Tue, 3 Apr 2001 16:59:25 +1000 \r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nContent-Type: multipart/alternative; boundary=&quot;----_=_NextPart_001_01C0BC0B.9E6623D0&quot;\r\nX-eGroups-From: Robert Watkins &lt;robert.watkins@...&gt;\r\nFrom: Robert Watkins &lt;robertw@...&gt;\r\n\r\n\r\n------_=_NextPart_001_01C0BC0B.9E6623D0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\n\r\nVera Peeters writes:\n&gt; Implement the important things in normal java classes. You \n&gt; can test those easily with JUnit.\n&gt; The EJB should be only a very THIN facade into this java \n&gt; package. The EJB doesn&#39;t do anything by itself, it only \n&gt; redirects the client requests. \n&gt; This way, it&#39;s still important that you test the EJBs, \n&gt; preferebly in such a way as Robert describes, but you can do\n&gt; most of the work by simply running simple JUnit tests on \n&gt; normal classes, without having to deploy anything.  \n\nThis is a nice aim, but it&#39;s not always possible. That said, it&#39;s still\nworth striving for.\n\nThe main problem area is when you want your EJB to leverage the container in\nsome way. For example, you might want to lookup another EJB.\n\nA proto-pattern I&#39;m using for this is to implement a hierarchy like this:\n     --- BaseRemote\n    /\nBase &lt;-- BaseImpl &lt;-- BaseEJB\n\nBaseHome\n\n\nThe BaseImpl has all the business logic in it, and stub methods to handle\nEJB services. It&#39;s instantiable and can be used in the test cases (which\nlook at instances of Base, not BaseRemote or BaseImpl). The stub methods\ndon&#39;t do much.\n\nBaseEJB extends BaseImpl, and overrides the methods where the service\nhook-ins are needed.\n\nPlease note that it is _very_ important to run your unit tests in the &#39;live&#39;\nEJB mode as well as the local mode. The behaviour changes can get you in\nreally subtle ways otherwise. Your acceptance tests should probably only run\nin &#39;live&#39; mode. The aim here is not to abandon testing in the live mode;\nit&#39;s merely to get enough confidence, for a while, that your code works to\nlet you get along. I personally find it&#39;s okay to have about 80% confidence\nfor a few hours, periodically resetting back to the 99% confidence that the\nfull live tests give me. The increased confidence that running in a live\nmode all the time is offset by the sheer pain and inconvenience of it. YMMV.\n\nRobert.\n\n\n\r\n------_=_NextPart_001_01C0BC0B.9E6623D0\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;META HTTP-=\r\nEQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; charset=3Diso-8859-1&quot;&gt;\n&lt;META N=\r\nAME=3D&quot;Generator&quot; CONTENT=3D&quot;MS Exchange Server version 5.5.2653.12&quot;&gt;\n&lt;TITL=\r\nE&gt;RE: [junit] Best practice with EJB&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n\n&lt;P&gt;&lt;FONT SIZE=\r\n=3D2&gt;Vera Peeters writes:&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&gt; Implement the impo=\r\nrtant things in normal java classes. You &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&gt; ca=\r\nn test those easily with JUnit.&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&gt; The EJB shou=\r\nld be only a very THIN facade into this java &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&gt=\r\n; package. The EJB doesn&#39;t do anything by itself, it only &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT=\r\n SIZE=3D2&gt;&gt; redirects the client requests. &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&g=\r\nt; This way, it&#39;s still important that you test the EJBs, &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT=\r\n SIZE=3D2&gt;&gt; preferebly in such a way as Robert describes, but you can do=\r\n&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&gt; most of the work by simply running simple J=\r\nUnit tests on &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&gt; normal classes, without havin=\r\ng to deploy anything.&nbsp; &lt;/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2&gt;This is a nice =\r\naim, but it&#39;s not always possible. That said, it&#39;s still worth striving for=\r\n.&lt;/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2&gt;The main problem area is when you want you=\r\nr EJB to leverage the container in some way. For example, you might want to=\r\n lookup another EJB.&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2&gt;A proto-pattern I&#39;m usin=\r\ng for this is to implement a hierarchy like this:&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2=\r\n&gt;&nbsp;&nbsp;&nbsp;&nbsp; --- BaseRemote&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;&nbsp;&n=\r\nbsp;&nbsp; /&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2&gt;Base &lt;-- BaseImpl &lt;-- BaseEJB&lt;=\r\n/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2&gt;BaseHome&lt;/FONT&gt;\n&lt;/P&gt;\n&lt;BR&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2=\r\n&gt;The BaseImpl has all the business logic in it, and stub methods to handle =\r\nEJB services. It&#39;s instantiable and can be used in the test cases (which lo=\r\nok at instances of Base, not BaseRemote or BaseImpl). The stub methods don&#39;=\r\nt do much.&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2&gt;BaseEJB extends BaseImpl, and over=\r\nrides the methods where the service hook-ins are needed.&lt;/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;F=\r\nONT SIZE=3D2&gt;Please note that it is _very_ important to run your unit tests=\r\n in the &#39;live&#39; EJB mode as well as the local mode. The behaviour changes ca=\r\nn get you in really subtle ways otherwise. Your acceptance tests should pro=\r\nbably only run in &#39;live&#39; mode. The aim here is not to abandon testing in th=\r\ne live mode; it&#39;s merely to get enough confidence, for a while, that your c=\r\node works to let you get along. I personally find it&#39;s okay to have about 8=\r\n0% confidence for a few hours, periodically resetting back to the 99% confi=\r\ndence that the full live tests give me. The increased confidence that runni=\r\nng in a live mode all the time is offset by the sheer pain and inconvenienc=\r\ne of it. YMMV.&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2&gt;Robert.&lt;/FONT&gt;\n&lt;/P&gt;\n&lt;BR&gt;\n\n&lt;/BO=\r\nDY&gt;\n&lt;/HTML&gt;\r\n------_=_NextPart_001_01C0BC0B.9E6623D0--\r\n\n", 
    "subject": "RE: [junit] Best practice with EJB"
}