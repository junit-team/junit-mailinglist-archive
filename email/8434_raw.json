{
    "numMessagesInTopic": 5, 
    "nextInTime": 8435, 
    "senderId": "cTAYTLn8WWkOZ6x-21-T2pidSIiW3BPVLNKKPTN6sgjC-7ShZ9VDuCJZxdSTtfpO4gjhmSuZp8AQ2hpLuudft7-tE86RpgDGUwu0F8yv", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing complex interations", 
    "from": "Jason Rogers &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "... this ... (used ... with a ... would ... one ... want is ... I had the same situation at a previous gig.  There was a home-grown, XML-based templating", 
    "msgId": 8434, 
    "rawEmail": "Return-Path: &lt;jacaetevha@...&gt;\r\nX-Sender: jacaetevha@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 77435 invoked from network); 21 Jun 2003 00:31:56 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m10.grp.scd.yahoo.com with QMQP; 21 Jun 2003 00:31:56 -0000\r\nReceived: from unknown (HELO smtp.us2.messagingengine.com) (66.111.4.3)\n  by mta3.grp.scd.yahoo.com with SMTP; 21 Jun 2003 00:31:56 -0000\r\nReceived: from www.fastmail.fm (server1.internal [10.202.2.132])\n\tby server2.messagingengine.com (Postfix) with ESMTP id DD4B86D11C\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 20 Jun 2003 20:31:52 -0400 (EDT)\r\nReceived: from 127.0.0.1 ([127.0.0.1] helo=www.fastmail.fm) by messagingengine.com\n  with SMTP; Fri, 20 Jun 2003 20:31:52 -0400\r\nX-Epoch: 1056155512\r\nX-Sasl-enc: 6q9UQAGEOzNOQAdOzYyGpw\r\nReceived: from [192.168.2.26] (pcp04150727pcs.sanarb01.mi.comcast.net [68.40.247.241])\n\tby www.fastmail.fm (Postfix) with ESMTP id 3226E12BA5\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 20 Jun 2003 20:31:52 -0400 (EDT)\r\nSubject: Re: [junit] Testing complex interations\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain\r\nOrganization: Minus-5 Software\r\nMessage-Id: &lt;1056069262.2032.10.camel@localhost&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Ximian Evolution 1.2.4- \r\nDate: 20 Jun 2003 00:34:22 +0000\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Jason Rogers &lt;jacaetevha@...&gt;\r\nX-Yahoo-Group-Post: member; u=109352929\r\nX-Yahoo-Profile: jacaetev\r\n\r\nOn Fri, 2003-06-20 Jonathan Oddy &lt;j.oddy@...&gt; wrote:\n&gt; Dear All,\n&gt; \n&gt; I am writing a struts-based web application (not really relevent for\nthis\n&gt; discussion however...).  I have a number of implementations of Action\n(used\n&gt; to service incoming Http requests).  My action classes collaborate\nwith a\n&gt; number of other classes (data access, business and so forth) and I\nwould\n&gt; like to unit test my Action classes.  However they really only have\none\n&gt; public method of interest - the Action.execute, and this is I believe,\n&gt; currently, far to complex for sensible unit testing, what I really\nwant is\n&gt; to test some of the collaborations (parts of the whole).  \n&gt; \n\nI had the same situation at a previous gig.  There was a home-grown,\nXML-based templating system that interacted with a servlet that\nforwarded to Request objects.  These Request objects (sounds like your\nActions) were all subclasses of an abstract Request whose only\nparameters were HTTPServlet* classes.  Instead of using mocks to test\nthe response mechanism, we turned the Requests into pure Delegators and\ntested the objects to which they delegated.  Pretty simple.\n\n&gt; Obviously I can (and have) refactored Action.execute and this has\nresulted\n&gt; in a number of protected and private methods.\n\nIn a case like this, I have sometimes tested the protected methods by\nhaving the TestCase be in the same package.  They don&#39;t have to live in\nthe same directory on the file-system, of course.  My tests generally\ndon&#39;t.\n\n&gt;   But unit testing seems be\n&gt; aimed at public interface testing, which my newly refactored methods\ndo not\n&gt; come under this description.  \n\nPublic can be defined by more than just the keyword.  If you have\nclasses whose only use are package wide then the default access (no\nmodifier) and protected keyword make up the &quot;public&quot; interface.  So,\ntest them.  They are public in the package sense.\n\n&gt; I am not keen to promote these methods to\n&gt; public visibility because they are not part of the behavioural\ninterface.\n&gt; My current thought (but I am not happy with this) is to do the\nfollowing:\n&gt; subclass my target testing class and provide a number of public\nmethods that\n&gt; simply forward to the appropriate underlying protected method(s) and\n&gt; recording their results (to be tested by Junit asserts).  This works\nbut\n&gt; leaves me with the overhead of having to &quot;maintain&quot; my target subclass\nalong\n&gt; with the rest of my application.  \n\nThat is a possibilty, but I think you hit on one of the big drawbacks.\n\n&gt; Things are compounded somewhat by the fact\n&gt; that I am also having to mock a fair number of objects in order to\nmake my\n&gt; action class as independent as possible.\n\nRefer to comments above... factor the logic OUT of the Action class.\n\n-- \n=jason\n\n\n\n", 
    "profile": "jacaetev", 
    "topicId": 8413, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "prevInTime": 8433, 
    "contentTrasformed": false, 
    "postDate": "1056069262", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 8427, 
    "headers": {
        "messageIdInHeader": "PDEwNTYwNjkyNjIuMjAzMi4xMC5jYW1lbEBsb2NhbGhvc3Q+"
    }
}