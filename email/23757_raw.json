{
    "numMessagesInTopic": 10, 
    "nextInTime": 23758, 
    "senderId": "I5aYY4fFMVSFOl6aBDBoY_rAGkmQ7EIzRbatBH2OwcWOzjrbrt9kdAs7WGiDNvwjDu9ljZE1GiwEIaS1DAg4NslepcTEbvjH", 
    "systemMessage": false, 
    "subject": "Re: [junit] Open up Description class to allow arbitrary test hierarchies?", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "I think that the reason why Description is final is because it is a value class, and there is code (especially in filters) that expects Description.equals() to", 
    "msgId": 23757, 
    "rawEmail": "Return-Path: &lt;kcooney@...&gt;\r\nReceived: (qmail 95359 invoked by uid 7800); 7 Nov 2011 20:41:41 -0000\r\nX-Sender: kcooney@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 29914 invoked from network); 7 Nov 2011 20:23:05 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m6.grp.sp2.yahoo.com with QMQP; 7 Nov 2011 20:23:05 -0000\r\nX-Received: from unknown (HELO mail-qy0-f174.google.com) (209.85.216.174)\n  by mta2.grp.sp2.yahoo.com with SMTP; 7 Nov 2011 20:23:05 -0000\r\nX-Received: by mail-qy0-f174.google.com with SMTP id 27so3384382qyk.5\n        for &lt;junit@yahoogroups.com&gt;; Mon, 07 Nov 2011 12:23:04 -0800 (PST)\r\nX-Received: by 10.50.12.131 with SMTP id y3mr47046570igb.39.1320697384742;\n        Mon, 07 Nov 2011 12:23:04 -0800 (PST)\r\nX-Received: by 10.50.12.131 with SMTP id y3mr47046517igb.39.1320697383202; Mon,\n 07 Nov 2011 12:23:03 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.34.8 with HTTP; Mon, 7 Nov 2011 12:22:41 -0800 (PST)\r\nIn-Reply-To: &lt;CAOBkoFV-9gXe5ehey__tn0UqWSoeRL2YiHVPKZBQmJzarzr0TQ@...&gt;\r\nReferences: &lt;CAOBkoFXxbY1zAWSqO+qvz1kUWUXYWzu5bz+tivMO3O7BTRHE9g@...&gt;\n &lt;9100E4AC-262D-4E06-8F6F-FAF6BEA75E75@...&gt; &lt;CAOBkoFV-9gXe5ehey__tn0UqWSoeRL2YiHVPKZBQmJzarzr0TQ@...&gt;\r\nDate: Mon, 7 Nov 2011 12:22:41 -0800\r\nMessage-ID: &lt;CAA3E+eUHQe8qc8hjE6e93+-P52BirV4MYgAp9TSEZhp0vL+e6w@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-System-Of-Record: true\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kevin Cooney &lt;kcooney@...&gt;\r\nSubject: Re: [junit] Open up Description class to allow arbitrary test hierarchies?\r\nX-Yahoo-Group-Post: member; u=475263748; y=buL0gJNiZgDfQB2PiYgtrhxfGuqBtBjUqyP0Q7qar2y-nxtwfYXREgF4heB9nk0Wh6iOTyy-bLc8hUY\r\nX-Yahoo-Profile: kevincooney2000\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via email; 7 Nov 2011 20:41:41 -0000\r\n\r\nI think that the reason why Description is final is because it is a value\nc=\r\nlass, and there is code (especially in filters) that expects\nDescription.eq=\r\nuals() to obey the general contract of Object.equals().\nUnfortunately, ther=\r\ne is &quot;no way to extend an instantiable class and add a\nvalue component whil=\r\ne preserving the equals contract&quot; (quoted from\nEffective Java, second editi=\r\non, page 38).\n\nIt&#39;s perfectly fine to add optional properties to the existi=\r\nng Description\nclass, as long as Description.equals() and Description.hashC=\r\node() are\nupdated, and all of the properties that are added have equals() m=\r\nethods\nthat obey the general contract of Object.equals().\n\n-- Kevin\n\nOn Fri=\r\n, Nov 4, 2011 at 11:43 PM, Matthew Farwell &lt;matthew@...&gt;wrote:\n\n&gt;=\r\n Hi Bill,\n&gt;\n&gt; I did the JUnit integration for Scala-IDE, so yes I would lik=\r\ne to be\n&gt; involved.\n&gt;\n&gt; Currently Scala-IDE uses the Junit plugin for runni=\r\nng and displaying the\n&gt; test results, and it would obviously be better if w=\r\ne could avoid forking\n&gt; that. But for instance the jump to method doesn&#39;t w=\r\nork for FlatSpec stuff,\n&gt; and will never work because it&#39;s trying to find a=\r\n method called xxx where\n&gt; xxx is the first word in the description of the =\r\ntest. Which obviously will\n&gt; never work. For Scala-IDE we can work around t=\r\nhis using aspects, but it\n&gt; would be nice it this worked nicely. Hence my i=\r\nnterest in changing\n&gt; Description.\n&gt;\n&gt; Matthew.\n&gt;\n&gt; Le 4 novembre 2011 23:0=\r\n1, Bill Venners &lt;bill@...&gt; a =E9crit :\n&gt;\n&gt; &gt; **\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hi Matth=\r\new,\n&gt; &gt;\n&gt; &gt; Actually we are planning to &quot;fix Eclipse&quot; very soon. The next r=\r\nelease of\n&gt; &gt; ScalaTest, version 2.0, will include enhancements to support =\r\nIDE\n&gt; &gt; integration, and before releasing 2.0 we&#39;re going to help do the ac=\r\ntual\n&gt; &gt; integration work for Eclipse, IDEA, and NetBeans. That way we can =\r\nbe sure\n&gt; &gt; we have it right before releasing the ScalaTest enhancements. I=\r\n would\n&gt; like\n&gt; &gt; your feedback on it. I&#39;ll post announcements of preview s=\r\nnapshots on the\n&gt; &gt; scalatest-users mailing list, so please join that if yo=\r\nu&#39;d like to give\n&gt; &gt; input.\n&gt; &gt;\n&gt; &gt; Thanks.\n&gt; &gt;\n&gt; &gt; Bill\n&gt; &gt; ----\n&gt; &gt; Bill =\r\nVenners\n&gt; &gt; Artima, Inc.\n&gt; &gt; http://www.artima.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; On Nov 3, 20=\r\n11, at 5:50 AM, Matthew Farwell &lt;matthew@...&gt;\n&gt; wrote:\n&gt; &gt;\n&gt; &gt; &gt; =\r\nHi,\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;m interested in this, though for slightly different reaso=\r\nns, maybe we\n&gt; &gt; &gt; could exchange ideas on this. I haven&#39;t exactly thought =\r\nthis through in\n&gt; &gt; &gt; detail, but I think my requirements come down to bein=\r\ng able to store\n&gt; &gt; &gt; arbitrary information in a Description, a key.\n&gt; &gt; &gt;\n=\r\n&gt; &gt; &gt; I&#39;m interesting in testing with Scala, and there are (at least) two\n&gt;=\r\n &gt; generic\n&gt; &gt; &gt; problems:\n&gt; &gt; &gt;\n&gt; &gt; &gt; 1) Tests which are not linked to a s=\r\npecific method, but are run as\n&gt; &gt; separate\n&gt; &gt; &gt; tests. Scalatest for exam=\r\nple allows the following\n&gt; &gt; &gt;\n&gt; &gt; &gt; @RunWith(classOf[JUnitRunner])\n&gt; &gt; &gt; c=\r\nlass FileSpec extends FlatSpec with ShouldMatchers {\n&gt; &gt; &gt;\n&gt; &gt; &gt; &quot;A Stack&quot; =\r\nshould &quot;pop values in last-in-first-out order&quot; in {\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; it =\r\nshould &quot;throw NoSuchElementException if an empty stack is popped&quot;\n&gt; in {\n&gt; =\r\n&gt; &gt; }\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; This creates a single method with the two tests w=\r\nithin. However, the\n&gt; &gt; &gt; JUnitRunner runs the single method but records th=\r\ne two tests\n&gt; separately.\n&gt; &gt; &gt; This can be seen in Eclipse, see attached s=\r\ncalatest1.png. Now if I\n&gt; double\n&gt; &gt; &gt; click on the test name in the junit =\r\nview, it tries to find a method of\n&gt; &gt; that\n&gt; &gt; &gt; name, and fails. Obviousl=\r\ny, to correct this would require a fix to\n&gt; &gt; Eclipse,\n&gt; &gt; &gt; but if I could=\r\n store the file & line number instead of the method\n&gt; name, I\n&gt; &gt; &gt; could j=\r\nump to the appropriate line.\n&gt; &gt; &gt;\n&gt; &gt; &gt; 2) Scala allows spaces and other c=\r\nharacters in method names, but these\n&gt; &gt; &gt; names are munged on compilation.=\r\n For instance, space gets translated to\n&gt; &gt; &gt; $0020.\n&gt; &gt; &gt;\n&gt; &gt; &gt; class File=\r\nTest extends AssertionsForJUnit {\n&gt; &gt; &gt; @Test def `foo bar`() =3D {\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; }\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; Here the jump to in Eclipse works correctly, but=\r\n the displayed\n&gt; &gt; description\n&gt; &gt; &gt; in Eclipse isn&#39;t nice, see scalatest2.=\r\npng.\n&gt; &gt; &gt;\n&gt; &gt; &gt; So in both cases, the string I would like to display (in E=\r\nclipse,\n&gt; &gt; surefire\n&gt; &gt; &gt; whatever) doesn&#39;t match the method name, either =\r\nbecause there is no\n&gt; &gt; method\n&gt; &gt; &gt; name or because It&#39;s not the same thin=\r\ng. I think that I could work\n&gt; around\n&gt; &gt; &gt; most issues is Eclipse etc if t=\r\nhe test runner could add some arbitrary\n&gt; &gt; &gt; information to the descriptio=\r\nn, which it could subsequently use. A\n&gt; string\n&gt; &gt; &gt; would be fine, because=\r\n I could define the contents of that String, but\n&gt; &gt; &gt; arbitrary data would=\r\n be even better. String would be simpler for\n&gt; &gt; everyone I\n&gt; &gt; &gt; think.\n&gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; Please note that I&#39;m just thinking aloud at the minute, and I hav=\r\nen&#39;t\n&gt; &gt; &gt; actually done any proof of concepts as yet, but if you have any =\r\nideas,\n&gt; &gt; &gt; please feel free to take this to email.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Matthew Fa=\r\nrwell.\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; =\r\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt;=\r\n\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n=\r\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n[N=\r\non-text portions of this message have been removed]\n\n\n", 
    "profile": "kevincooney2000", 
    "topicId": 23742, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "prevInTime": 23756, 
    "contentTrasformed": false, 
    "postDate": "1320697361", 
    "canDelete": false, 
    "nextInTopic": 23761, 
    "prevInTopic": 23756, 
    "headers": {
        "inReplyToHeader": "PENBT0Jrb0ZWLTlnWGU1ZWhleV9fdG4wVXFXU29lUkwyWWlIVlBLWkJRbUp6YXJ6cjBUUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQTNFK2VVSFFlOHFjOGhqRTZlOTMrLVA1MkJpclY0TVlnQXA5VFNFWmhwMHZMK2U2d0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBT0Jrb0ZYeGJZMXpBV1NxTytxdnoxa1VXVVhZV3p1NWJ6K3Rpdk1PM083QlRSSEU5Z0BtYWlsLmdtYWlsLmNvbT4gPDkxMDBFNEFDLTI2MkQtNEUwNi04RjZGLUZBRjZCRUE3NUU3NUBhcnRpbWEuY29tPiA8Q0FPQmtvRlYtOWdYZTVlaGV5X190bjBVcVdTb2VSTDJZaUhWUEtaQlFtSnphcnpyMFRRQG1haWwuZ21haWwuY29tPg=="
    }
}