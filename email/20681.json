{
    "numMessagesInTopic": 4, 
    "nextInTime": 20682, 
    "senderId": "SgxtNx_2CIJidPYyUBznv1ck02w_mB4g4UNqlk7zPcTagITuCITyvkIVXXllucVSRYrODZntZY4k-1s-o6CMYyPcRh9iioCnl4U", 
    "systemMessage": true, 
    "subject": "Re: [junit] which is the best way to obtain test method execution time", 
    "from": "Shubha B S &lt;mailtoshubha@...&gt;", 
    "authorName": "Shubha B S", 
    "msgSnippet": "Hello Kent, Do we have a way to achieve this with Junit 4.4? Thanks Shubha ... From: Kent Beck  To: junit@yahoogroups.com Sent: Friday, 11", 
    "msgId": 20681, 
    "profile": "mailtoshubha", 
    "topicId": 20672, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 154704993, 
    "messageBody": "<div id=\"ygrps-yiv-1359765700\">Hello Kent,<br/>\n<br/>\nDo we have a way to achieve this with Junit 4.4?<br/>\n<br/>\n<br/>\nThanks<br/>\nShubha<br/>\n<br/>\n----- Original Message ----<br/>\nFrom: Kent Beck &lt;kentb@...&gt;<br/>\nTo: junit@yahoogroups.com<br/>\nSent: Friday, 11 July, 2008 1:53:41 AM<br/>\nSubject: RE: [junit] which is the best way to obtain test method execution time<br/>\n<br/>\n<br/>\nDear Shubha,<br/>\n<br/>\nHere is one way to solve your problem in JUnit 4.5. The key is understanding<br/>\nthat in 4.5 every test is run by a &quot;block&quot; of &quot;statements&quot; (see<br/>\nhttp://threeriversi nstitute. org/TwoMoreImple mentationPattern s.htm for more<br/>\ndetails). Befores and afters are run by statements high up in the block. The<br/>\nlast statement in the block just invokes the test method. You can modify<br/>\nthis behavior by wrapping this statement in a statement that measures time.<br/>\nHere&#39;s an overview of the sample code below:<br/>\n* NanoTimer is a little utility to measure time (at the end we&#39;ll make<br/>\nsure that timing just the test takes less than half the time of timing the<br/>\ntest including @Before and @After)<br/>\n* MeasuringInvoker wraps a Statement and times it. You will probably want<br/>\nto save your timing measurements somewhere for later reporting.<br/>\n* The MeasuringRunner extends the default BlockJUnit4ClassRun ner by<br/>\nwrapping the superclass&#39; default invoker with our MeasuringInvoker.<br/>\n<br/>\nThat&#39;s the body of the extension.. What follows is a self-test of the code.<br/>\nThe sample class has a @Before and @After to start and end measuring the<br/>\noverall time. The test ensures that the time required for just the test<br/>\nmethod is less than half of the time required for the whole test including<br/>\nbefores and afters.<br/>\n<br/>\nI hope this helps.<br/>\n<br/>\nRegards,<br/>\n<br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\npublic class MeasureTestOnlyTime Test {<br/>\n<br/>\nstatic class NanoTimer {<br/>\nprivate long start;<br/>\nprivate long end;<br/>\npublic void start() { start= System.nanoTime( ); }<br/>\npublic void end() { end= System.nanoTime( ); }<br/>\npublic long duration() { return end - start; }<br/>\n}<br/>\n<br/>\nstatic NanoTimer all= new NanoTimer();<br/>\nstatic NanoTimer justTest= new NanoTimer();<br/>\n<br/>\nstatic class MeasuringInvoker extends Statement {<br/>\nprivate final Statement invoker;<br/>\n<br/>\npublic MeasuringInvoker( Statement invoker) {<br/>\nthis.invoker= invoker;<br/>\n}<br/>\n<br/>\n@Override<br/>\npublic void evaluate() throws Throwable {<br/>\njustTest.start( );<br/>\ninvoker.evaluate( );<br/>\njustTest.end( );<br/>\n}<br/>\n}<br/>\n<br/>\npublic static class MeasuringRunner extends BlockJUnit4ClassRun ner {<br/>\npublic MeasuringRunner( Class&lt; ? &gt; klass) throws InitializationError {<br/>\nsuper(klass) ;<br/>\n}<br/>\n<br/>\n@Override<br/>\nprotected Statement invoke(FrameworkMet hod method, Object test) {<br/>\nreturn new MeasuringInvoker( super.invoke( method, test));<br/>\n}<br/>\n}<br/>\n<br/>\n@RunWith(MeasuringR unner.class)<br/>\npublic static class LongBeforeAndAfter {<br/>\n@Before public void before() {<br/>\nall.start();<br/>\n}<br/>\n@After public void after() {<br/>\nall.end();<br/>\n}<br/>\n@Test public void test() {<br/>\n}<br/>\n}<br/>\n<br/>\n@Test public void dontMeasureBeforeAn dAfter() {<br/>\nJUnitCore.runClasse s(LongBeforeAndA fter.class) ;<br/>\nassertTrue(all. duration( ) &gt; justTest.duration( ) * 2);<br/>\n}<br/>\n}<br/>\n<br/>\n[Non-text portions of this message have been removed]<br/>\n<br/>\n    <br/>\n<br/>\n<br/>\n      Download prohibited? No problem. CHAT from any browser, without download. Go to http://in.messenger.yahoo.com/webmessengerpromo.php/<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 20680, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1216000068", 
    "canDelete": false, 
    "nextInTopic": 20687, 
    "prevInTopic": 20679, 
    "headers": {
        "messageIdInHeader": "PDgzNTEwMy41MzkzOC5xbUB3ZWI5NDgwMy5tYWlsLmluMi55YWhvby5jb20+"
    }
}