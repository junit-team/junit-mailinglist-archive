{
    "numMessagesInTopic": 11, 
    "nextInTime": 23689, 
    "senderId": "QsoMJwQvLiei1rWEvamUorl5nidQxOl6BGjWcYAbv3HVyD2Y30MDmx5ApV_-G8MsG164iYynZmg_nX6KLjcGGs3w", 
    "systemMessage": false, 
    "subject": "Re: [junit] Alphabetizing test method run order?", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "I like hashCode, then String compare.  That seems to have almost all of the benefits, but avoids the major drawback. David", 
    "msgId": 23688, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 51284 invoked from network); 21 Sep 2011 20:54:27 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m4.grp.sp2.yahoo.com with QMQP; 21 Sep 2011 20:54:27 -0000\r\nX-Received: from unknown (HELO mail-pz0-f42.google.com) (209.85.210.42)\n  by mta1.grp.sp2.yahoo.com with SMTP; 21 Sep 2011 20:54:27 -0000\r\nX-Received: by pzk1 with SMTP id 1so2984253pzk.1\n        for &lt;junit@yahoogroups.com&gt;; Wed, 21 Sep 2011 13:54:27 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.68.32.228 with SMTP id m4mr1904762pbi.66.1316638467664; Wed,\n 21 Sep 2011 13:54:27 -0700 (PDT)\r\nX-Received: by 10.68.65.133 with HTTP; Wed, 21 Sep 2011 13:54:27 -0700 (PDT)\r\nIn-Reply-To: &lt;CAA3E+eW8k1HBAaj--t57ZQ4Hy-HZbJx49yE83MFDyxEg_TmAwQ@...&gt;\r\nReferences: &lt;CACj8BuMu+VDrSxmF5ArRf+Ct+Jg9BjBH4vMALk1hxEvW1r8fGw@...&gt;\n\t&lt;CALgAf82b6=za=YUpXCy02Sf6pZ1dibAL_JNiL59162m8gZuSGw@...&gt;\n\t&lt;CALS12-NdXKmo7b6z7KGu9+za67hjKj0Zb4BaNW+zoPoPL9u-6Q@...&gt;\n\t&lt;CA+nPnMxpMTQzdWYSp=+rMT4ehdLDZKhcTnh5T0js+whN67C5=w@...&gt;\n\t&lt;CABHM76Wkypn2HA4rKYsFRRMV-aH-QVDysU24H9Uy6rP26A_TEQ@...&gt;\n\t&lt;CAA3E+eW8k1HBAaj--t57ZQ4Hy-HZbJx49yE83MFDyxEg_TmAwQ@...&gt;\r\nDate: Wed, 21 Sep 2011 16:54:27 -0400\r\nX-Google-Sender-Auth: _M1d4bxERIseSb5kL44_H_RTS2Q\r\nMessage-ID: &lt;CACj8BuPLEC48yxOf9Tp_22-Z7nzC3ep8Zn3P4NRKpUXzNJhOfA@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Alphabetizing test method run order?\r\nX-Yahoo-Group-Post: member; u=341876227; y=rtGeNbMGCupoQeFn8eQeRXR54DdjxLEwVdbwhrbBuAg\r\nX-Yahoo-Profile: dsaff\r\n\r\nI like hashCode, then String compare.  That seems to have almost all\nof the=\r\n benefits, but avoids the major drawback.\n\n   David\n\nOn Tue, Sep 20, 2011 a=\r\nt 1:09 PM, Kevin Cooney &lt;kcooney@...&gt; wrote:\n&gt; On Tue, Sep 20, 2011 =\r\nat 3:07 AM, Dominik Dorn &lt;dorn@...&gt; wrote:\n&gt;\n&gt;&gt; **\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Hmm... I=\r\n think it would be even better to _ensure_ that the test cases are\n&gt;&gt; run\n&gt;=\r\n&gt; in a random order but provide a summary at the end of the testrun where t=\r\nhe\n&gt;&gt; order gets printed.\n&gt;&gt;\n&gt;\n&gt; -10\n&gt;\n&gt; A number of projects I worked on u=\r\nsed to do this. While this may initially\n&gt; seem like a good idea, it was pr=\r\noblematic for us for a number of reasons.\n&gt;\n&gt; If the tests are run in a ran=\r\ndom order, then a small change to a test or a\n&gt; class under test could caus=\r\ne a completely unrelated test to fail. Many\n&gt; developers will assume that i=\r\nt is their change that caused the problem,\n&gt; leading them in a wild goose c=\r\nhase trying to see which of their changes\n&gt; caused the problems and why, an=\r\nd when they realize it is due to the test\n&gt; ordering, they need to do a big=\r\n context switch back to their original\n&gt; task. This would be made worse by =\r\nthe fact that simply rerunning the tests\n&gt; would cause them to pass again (=\r\nor worse, cause a different test to fail).\n&gt;\n&gt; Note that I don&#39;t think deve=\r\nlopers should be writing tests where the outcome\n&gt; depends on the ordering =\r\nthat the test methods were run. I just don&#39;t think\n&gt; we should assume that =\r\nfixing the tests with this problem is necessarily as\n&gt; important as what th=\r\ne developer is trying to do.\n&gt;\n&gt; Making the test order random by default al=\r\nso does not necessarily make it\n&gt; easier to track down problems with orderi=\r\nng of tests, since if you ran the\n&gt; failing test suite again, you would get=\r\n a different run order. JUnit could\n&gt; print out the random seed used for th=\r\nat particular run, but then developers\n&gt; would have to figure out how to pa=\r\nss the previous random seed back to the\n&gt; test (how to do this would depend=\r\n on which IDE or build system they used).\n&gt;\n&gt; If developers want the orderi=\r\nng to be shuffled, they should use a custom\n&gt; runner that shuffles the test=\r\ns. We used to do this in our JUnit3 tests with\n&gt; a custom subclass of TestS=\r\nuite. It used a random seed based on the\n&gt; System.currentTimeMillis() at mi=\r\ndnight, so if a particular ordering caused\n&gt; the tests to fail, it was repr=\r\noducible for the rest of the day.\n&gt; Unfortunately, developers often assumed=\r\n that the breakage was caused by one\n&gt; of the changes submitted since the m=\r\nost recent green run of\n&gt; the continuous build.\n&gt;\n&gt;\n&gt; Personally, I don&#39;t n=\r\need the test ordering to be defined, but I need it to\n&gt; be deterministic. I=\r\nf I build the same code with the same JDK and run it in\n&gt; the same JRE on t=\r\nhe same kernel on a different day, the tests should run in\n&gt; the same order=\r\n. We often re-run tests that failed earlier in the day, using\n&gt; the same so=\r\nurce code, to try to determine which failures were due to flaky\n&gt; tests. Ha=\r\nving the tests run in a different order would make it much more\n&gt; difficult=\r\n to do this analysis.\n&gt;\n&gt;\n&gt; I suggest that JUnit4 order the tests by the ha=\r\nsh code of the test method\n&gt; name. If there is a tie, JUnit could compare t=\r\nhe test names using the\n&gt; natural ordering defined by String.compareTo(Stri=\r\nng) (possibly in reverse\n&gt; :-)\n&gt;\n&gt; -- Kevin\n&gt;\n&gt; In that way, people would b=\r\ne urged to create independent tests and if it\n&gt;&gt; happens\n&gt;&gt; that the tests =\r\nare not independent (and this is discovered through a\n&gt;&gt; different ordering=\r\n)\n&gt;&gt; they can diagnose the problem and fix their tests.\n&gt;&gt;\n&gt;&gt; On Tue, Sep 2=\r\n0, 2011 at 10:10 AM, Stephen Connolly &lt;\n&gt;&gt; stephen.alan.connolly@...&gt;=\r\n wrote:\n&gt;&gt;\n&gt;&gt; &gt; **\n&gt;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; At present if you create a Request, th=\r\ne tests will be unsorted, but you\n&gt;&gt; can\n&gt;&gt; &gt; call\n&gt;&gt; &gt;\n&gt;&gt; &gt; Request r;\n&gt;&gt; =\r\n&gt; r.sort( new Comparator() { ... } );\n&gt;&gt; &gt;\n&gt;&gt; &gt; to have the tests sorted.\n&gt;=\r\n&gt; &gt;\n&gt;&gt; &gt; Additionally, a Runner has the ability to sort its tests initially=\r\n,\n&gt;&gt; &gt; though IMHO there is a tad missing in terms of sorting if your Runne=\r\nr\n&gt;&gt; &gt; extends from ParentRunner as the entire list of tests is hidden from=\r\n\n&gt;&gt; &gt; the Sortable interface and child classes of ParentRunner... thus you\n=\r\n&gt;&gt; &gt; are relying on Collections.sort to establish your sorting with the\n&gt;&gt; =\r\n&gt; comparator.\n&gt;&gt; &gt;\n&gt;&gt; &gt; i.e. Some sorting requirements may need as many as =\r\nN*N/2 comparisons\n&gt;&gt; &gt; to establish the correct sorting, while Collections.=\r\nsort will\n&gt;&gt; &gt; typically only perform N*log(N) comparisons.\n&gt;&gt; &gt;\n&gt;&gt; &gt; See h=\r\nttps://github.com/KentBeck/junit/pull/316\n&gt;&gt; &gt;\n&gt;&gt; &gt; Something similar to ht=\r\ntps://github.com/KentBeck/junit/pull/316 will\n&gt;&gt; &gt; probably be needed if/as=\r\n more people use the Request#sort(Comparator)\n&gt;&gt; &gt; method.\n&gt;&gt; &gt;\n&gt;&gt; &gt; On 20 =\r\nSeptember 2011 08:44, Malte Finsterwalder\n&gt;&gt; &gt;\n&gt;&gt; &gt; &lt;malte@...=\r\nme&gt; wrote:\n&gt;&gt; &gt; &gt; +1\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; keep ordering undefined.\n&gt;&gt; &gt; &gt; Allow or=\r\ndering though a custom Annotation, a Runner or a Rule (or a\n&gt;&gt; &gt; &gt; combinat=\r\nion thereof, whatever makes sense).\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; ------------------=\r\n------------------\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Yahoo! Groups Links\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;=\r\n&gt; &gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt; [Non-text portions of this message have been rem=\r\noved]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n=\r\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n=\r\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 23671, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 23687, 
    "contentTrasformed": false, 
    "postDate": "1316638467", 
    "canDelete": false, 
    "nextInTopic": 23691, 
    "prevInTopic": 23685, 
    "headers": {
        "inReplyToHeader": "PENBQTNFK2VXOGsxSEJBYWotLXQ1N1pRNEh5LUhaYkp4NDl5RTgzTUZEeXhFZ19UbUF3UUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQ2o4QnVQTEVDNDh5eE9mOVRwXzIyLVo3bnpDM2VwOFpuM1A0TlJLcFVYek5KaE9mQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ2o4QnVNdStWRHJTeG1GNUFyUmYrQ3QrSmc5QmpCSDR2TUFMazFoeEV2VzFyOGZHd0BtYWlsLmdtYWlsLmNvbT4JPENBTGdBZjgyYjY9emE9WVVwWEN5MDJTZjZwWjFkaWJBTF9KTmlMNTkxNjJtOGdadVNHd0BtYWlsLmdtYWlsLmNvbT4JPENBTFMxMi1OZFhLbW83YjZ6N0tHdTkremE2N2hqS2owWmI0QmFOVyt6b1BvUEw5dS02UUBtYWlsLmdtYWlsLmNvbT4JPENBK25Qbk14cE1UUXpkV1lTcD0rck1UNGVoZExEWktoY1RuaDVUMGpzK3doTjY3QzU9d0BtYWlsLmdtYWlsLmNvbT4JPENBQkhNNzZXa3lwbjJIQTRyS1lzRlJSTVYtYUgtUVZEeXNVMjRIOVV5NnJQMjZBX1RFUUBtYWlsLmdtYWlsLmNvbT4JPENBQTNFK2VXOGsxSEJBYWotLXQ1N1pRNEh5LUhaYkp4NDl5RTgzTUZEeXhFZ19UbUF3UUBtYWlsLmdtYWlsLmNvbT4="
    }
}