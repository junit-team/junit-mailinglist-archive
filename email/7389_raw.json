{
    "numMessagesInTopic": 14, 
    "nextInTime": 7390, 
    "senderId": "jKEjxm13kKDBP9IFBv64GFiFR4ar_yO1CjRzG7EkQE8_owzxpPBM8Xm6WvRoLxvVZH8ZBeXltpK013_DY6Vb3i3TOUr0W69h9MGxTXCDt0Z5", 
    "systemMessage": false, 
    "subject": "Re: How do I make Unit Testing practical?", 
    "from": "&quot;Richard Jensen&quot; &lt;rjensen@...&gt;", 
    "authorName": "Richard Jensen", 
    "msgSnippet": "... or ... testing. ... downloaded ... impossible. ... Sometime when we want to start unit testing, all we have is a big ball of mud . But think of your test", 
    "msgId": 7389, 
    "rawEmail": "Return-Path: &lt;rjensen@...&gt;\r\nX-Sender: rjensen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 2 Apr 2003 01:25:31 -0000\r\nReceived: (qmail 60192 invoked from network); 2 Apr 2003 01:25:31 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m4.grp.scd.yahoo.com with QMQP; 2 Apr 2003 01:25:31 -0000\r\nReceived: from unknown (HELO n15.grp.scd.yahoo.com) (66.218.66.70)\n  by mta3.grp.scd.yahoo.com with SMTP; 2 Apr 2003 01:25:31 -0000\r\nReceived: from [66.218.67.150] by n15.grp.scd.yahoo.com with NNFMP; 02 Apr 2003 01:25:17 -0000\r\nDate: Wed, 02 Apr 2003 01:25:16 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: How do I make Unit Testing practical?\r\nMessage-ID: &lt;b6de5s+ph2l@...&gt;\r\nIn-Reply-To: &lt;b6cri0+9hie@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 6855\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;Richard Jensen&quot; &lt;rjensen@...&gt;\r\nX-Yahoo-Group-Post: member; u=118405\r\nX-Yahoo-Profile: richardhjensen\r\n\r\n--- In junit@yahoogroups.com, &quot;swpalmer2001&quot; &lt;scott.palmer@2...&gt; \nwrote:\n&gt; First off I better say up front that this is not meant as a troll, \nor\n&gt; to start some sort of flame war about unit testing....  I&#39;m really\n&gt; looking for simple insight from people who have been where I am now,\n&gt; links to articles on the web and so forth....\n&gt; \n&gt; I like, the rest off you, have heard great things about unit \ntesting.\n&gt;  I believe a lot of it.  I want to start writing unit tests for my\n&gt; code and in general improve my development practices.   So I \ndownloaded\n&gt; JUnit, and read through some articles and examples.\n&gt; \n&gt; They are all too trivial.\n&gt; \n&gt; I am struggling as to how I can write unit tests for &quot;real code&quot;.   \n&gt; Most of the examples I see are testing objects that are VERY general\n&gt; (lists, or other simple container classes, a calculator, etc..).   \n&gt; But my &quot;real classes&quot; are written for my &quot;real application&quot; and as\n&gt; such there is an entire environment that is created as they work\n&gt; together.  Testing the classes in isolation seems next to \nimpossible.\n&gt; \nSometime when we want to start unit testing, all we have is a\n&#39;big ball of mud&#39;. But think of your test cases as applications\nusing the user-accessible API as a starting point.\n\nThe following is a C++ example I recently worked on BECAUSE I\ndon&#39;t have visibility of unit tests down in the core of the\nproduct. (Sorry it&#39;s not a JUnit example, but I&#39;ve been doing\nmostly C++ for the last few months.)\n\nstatic DefineTestCase(RelationshipSupervises, QueryTests)\n{\n    // Want to test queries in database, not cache\n    clearCache();\n    pass_if(areEqual(0, pCacheMgr-&gt;numInstances()));\n    Manager_Cltn_var mngrs;\n    mngrs = managerFact-&gt;allInstances();\n    pass_if(areEqual(2, mngrs-&gt;length()));\n    Manager_var currMgr;\n    bool unexpectedMgr = kps_false;\n    for (int mgrIndx=0; mgrIndx &lt; mngrs-&gt;length(); ++mgrIndx)\n    {\n        currMgr = (*mngrs)[mgrIndx];\n        FullName_var mgrName = currMgr-&gt;name();\n        Employee_Cltn_var supervises = currMgr-&gt;supervises();\n#if defined(SHOW_RESULTS)\n        std::cout &lt;&lt; *currMgr-&gt;name() &lt;&lt; &quot; supervises &quot; &lt;&lt; supervises-\n&gt;length()\n            &lt;&lt; &quot; employees &quot; &lt;&lt; std::endl;\n#endif\n        Employee_var currEmp;\n        bool unexpectedEmp = kps_false;\n        if (strcmp(mgrName-&gt;last, &quot;Jekel&quot;) == 0)\n        {\n            pass_if(areEqual(3, supervises-&gt;length()));\n            for (int empIndx=0; empIndx &lt; supervises-&gt;length(); \n++empIndx)\n            {\n                currEmp = (*supervises)[empIndx];\n#if defined(SHOW_RESULTS)\n                std::cout &lt;&lt; &quot;&#92;t&quot; &lt;&lt; *currEmp-&gt;name() &lt;&lt; std::endl;\n#endif\n                FullName_var empName = currEmp-&gt;name();\n                if (strcmp(empName-&gt;last, &quot;Simpson&quot;) == 0)\n                {\n                } else if (strcmp(empName-&gt;last, &quot;Jackson&quot;) == 0)\n                {\n                } else if (strcmp(empName-&gt;last, &quot;Abrams&quot;) == 0)\n                {\n                }\n                else\n                {\n                    unexpectedEmp = kps_true;\n                }\n            }\n        }\n        else if (strcmp(mgrName-&gt;last, &quot;Nash&quot;) == 0)\n        {\n            pass_if(areEqual(4, supervises-&gt;length()));\n            for (int empIndx=0; empIndx &lt; supervises-&gt;length(); \n++empIndx)\n            {\n                currEmp = (*supervises)[empIndx];\n#if defined(SHOW_RESULTS)\n                std::cout &lt;&lt; &quot;&#92;t&quot; &lt;&lt; *currEmp-&gt;name() &lt;&lt; std::endl;\n#endif\n                FullName_var empName = currEmp-&gt;name();\n                if (strcmp(empName-&gt;last, &quot;Swanson&quot;) == 0)\n                {\n                } else if (strcmp(empName-&gt;last, &quot;Mawbry&quot;) == 0)\n                {\n                } else if (strcmp(empName-&gt;last, &quot;Jekel&quot;) == 0)\n                {\n                } else if (strcmp(empName-&gt;last, &quot;Colson&quot;) == 0)\n                {\n                }\n                else\n                {\n                    unexpectedEmp = kps_true;\n                }\n            }\n        }\n        else\n        {\n            unexpectedMgr = kps_true;\n        }\n        fail_if(unexpectedEmp);\n    }\n    fail_if(unexpectedMgr);\n    for (int clrIndx=0; clrIndx &lt; mngrs-&gt;length(); ++clrIndx)\n    {\n        (*mngrs)[clrIndx].tryClear(kps_true);\n    }\n}\n\nI&#39;m testing the public API against a known data set.\nBut, having the tests allows me to make sure that the\nunderlying table structure does not affect how the queries\nthemselves work.\n\n&gt; Some people will be quick to jump in and say that this must be a\n&gt; fundamental problem with my design.. my classes shouldn&#39;t be so\n&gt; dependent on each other, or something similar.    In some (trivial)\n&gt; cases it is possible to write stand alone classes, and they are\n&gt; fairly easy to test in isolation.  But a complex application needs\n&gt; all sorts of classes that bind trivial bits together... and these\n&gt; classes must rely on the very classes that they are causing to work\n&gt; together.\n&gt; \n&gt; I find that it is these classes that are difficult to\n&gt; compartmentalize where most of my bugs tend to show up anyway, but \nof\n&gt; course not always.   How do you unit test such beasts?\n&gt; \nStart outside and work your way in. Once you have good\nfunctional coverage outside a certain layer, you can refactor\nthe internals to BE more test-friendly (and know if you broke\nsomething). At least, that&#39;s what *I&#39;m* hoping to do. :-)\n\n\n&gt; So far in all my attempts to get started at this I find that the \ntest\n&gt; code itself becomes very complex - not as complex as my application,\n&gt; but enough that the time I would end up writing and debugging the\n&gt; test seems completely unreasonable.   I would love to have the\n&gt; finished tests, but I simply can&#39;t see how I could justify writing\n&gt; them, as it would more than double my design and coding development\n&gt; time.\n&gt; \nI just wrote as if I were a user of the product, and did very\nsimple asserts.\n\n&gt; In the end I would almost end up with an &quot;automated user&quot;, and of\n&gt; course that is a tad extreme and prone to it&#39;s own sorts of errors\n&gt; and assumptions.\n&gt; \n&gt; I&#39;ve told co-workers about what I have read about unit testing,\n&gt; testing frameworks etc.  None of my co-workers do unit tests, and ll\n&gt; of them have the same attitude.  Unit testing is too\n&gt; complex/difficult to use when making real complete programs.\n&gt; \nIt is unbelievable how FREEING having unit tests in place can be.\nUntil you&#39;ve had the experience of the test you wrote last week\ncaught something you changed today, you might not appreciate that,\nbut (I feel) you can go faster with good tests in place.\n\n&gt; So I&#39;m asking... Who else has been down this path?  How do I get \npast\n&gt; this point?   Am I making sense or have I just gotten something\n&gt; completely wrong? Or is this unit testing just a passing fad that is\n&gt; really nothing more than a bunch of hype?\n\nI&#39;m overcoming my fear. :-)\nI&#39;m proceeding down the path, but I&#39;m not much further along\nthan you.\n\nRichard.\n\n\n", 
    "profile": "richardhjensen", 
    "topicId": 7360, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 118405, 
    "prevInTime": 7388, 
    "contentTrasformed": false, 
    "postDate": "1049246716", 
    "canDelete": false, 
    "nextInTopic": 7390, 
    "prevInTopic": 7360, 
    "headers": {
        "inReplyToHeader": "PGI2Y3JpMCs5aGllQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGI2ZGU1cytwaDJsQGVHcm91cHMuY29tPg=="
    }
}