{
    "numMessagesInTopic": 6, 
    "nextInTime": 8750, 
    "senderId": "ixnKmauZgPhVAxvWinZ04K9GcV7aNvNGZqw8r9RTwiCP37p7g_3QzMfJ_VJ4O2BLael2Sbtd9WnUg7yc95VJLPsrJKJUsJ22BSNYir9qsjUNuw", 
    "systemMessage": false, 
    "subject": "Re: unit testing philosophy", 
    "from": "&quot;ranjan_chakrab&quot; &lt;ranjan_chakrab@...&gt;", 
    "authorName": "ranjan_chakrab", 
    "msgSnippet": "Hello, Also, I am trying to use JUnit to perform unit testing of ATG Dynamo Droplets and Form Handlers. Please let me know if there are any documents/ papers", 
    "msgId": 8749, 
    "profile": "ranjan_chakrab", 
    "topicId": 4923, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 132883670, 
    "messageBody": "<div id=\"ygrps-yiv-634393789\">Hello,<br/>\n<br/>\n  Also, I am trying to use JUnit to perform unit testing of ATG Dynamo<br/>\nDroplets and Form Handlers.<br/>\n<br/>\nPlease let me know if there are any documents/ papers that discuss <br/>\nthis subject.<br/>\n<br/>\nThank you.<br/>\n<br/>\nRanjan Chakrabarty<br/>\ne-mail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:ranjan_chakrab@...\">ranjan_chakrab@...</a><br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;tcfolsom&quot; &lt;Todd.Folsom@s...&gt; wrote:<br/>\n&gt; Go to www.mockmaker.org and download the mockmaker tool. Then apply <br/>\n&gt; it to interfaces or classes for which you need mocks. These new <br/>\nmocks <br/>\n&gt; will have methods for setting their state, and all support the <br/>\nverify<br/>\n&gt; () method. YOur mockRepository can be configured to return a <br/>\n&gt; mockRepositoryView and to verify that a call was made to that <br/>\nmethod. <br/>\n&gt; For instance if your code should call getRepositoryView(), you set <br/>\nup <br/>\n&gt; MockRepository with setExpectedGetRepositoryViewCalls(1). This <br/>\nmethod <br/>\n&gt; is built in the mock for you by the mockmaker tool. Verify() will <br/>\n&gt; check that a single call of getRepositoryView was made on the mock. <br/>\n&gt;   This is very useful stuff. However you may have to refactor your <br/>\n&gt; code to make it possible to supply a mock object instead of the <br/>\nreal <br/>\n&gt; object. If you work from interfaces, it is easier to handle mocks. <br/>\n&gt; For example if getRepostoryView returns a RepositoryViewInterface <br/>\n&gt; rather than a RepositoryView, it is easy to return a <br/>\n&gt; MockRepositoryView which implemented RepositoryViewInterface.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; --- In junit@y..., &quot;cilqproj&quot; &lt;cilqproj@y...&gt; wrote:<br/>\n&gt; &gt; The problem is that I&#39;m struggling to test a pretty complex piece <br/>\nof<br/>\n&gt; &gt; code and I&#39;m trying to get some advice ( hints, help, etc .. ) to <br/>\n&gt; help<br/>\n&gt; &gt; me tackle it.  <br/>\n&gt; &gt; <br/>\n&gt; &gt; In the real world, I use ATG Dynamo.  If you&#39;ve heard of it or <br/>\nused<br/>\n&gt; &gt; it, it&#39;s an App Server / EJB Container.   Dynamo&#39;s entire <br/>\nframework <br/>\n&gt; is<br/>\n&gt; &gt; based off this component known as Nucleus, which does a lot of <br/>\nwork <br/>\n&gt; in<br/>\n&gt; &gt; terms of instantiating classes, setting properties, etc..  It&#39;s <br/>\nalso<br/>\n&gt; &gt; very slow and to test - build - test takes forever if I have to <br/>\n&gt; start<br/>\n&gt; &gt; and stop the app-server for every change in the code. <br/>\n&gt; &gt; <br/>\n&gt; &gt; That&#39;s where MockObjects come in.  Dynamo is a very Java Beans <br/>\nheavy<br/>\n&gt; &gt; framework, that relies a lot on setters and getters.  ( In fact, <br/>\nthe<br/>\n&gt; &gt; MockObjects guys at SF have started putting together some Dynamo<br/>\n&gt; &gt; MockObjects. ) I was looking into MockObjects as a way to lessen <br/>\nmy<br/>\n&gt; &gt; reliance on the Nucleus namespace so that I could code quickly and<br/>\n&gt; &gt; only integrate with the Nucleus namespace at the latest possible <br/>\n&gt; time.<br/>\n&gt; &gt; <br/>\n&gt; &gt; However, I can&#39;t get my head around the fact that in certain <br/>\ncases <br/>\n&gt; my<br/>\n&gt; &gt; mock code will need to generate other mock code <br/>\n&gt; &gt; <br/>\n&gt; &gt; Here&#39;s a method from a piece of old code that I wrote before I <br/>\n&gt; decided<br/>\n&gt; &gt; to start using JUnit:<br/>\n&gt; &gt; <br/>\n&gt; &gt;     public  Map generateEmptyPreferencesMap( Map m ) throws<br/>\n&gt; &gt; RepositoryException {<br/>\n&gt; &gt; <br/>\n&gt; &gt; \t// get the list of possible preferences<br/>\n&gt; &gt; \tRepositoryView contactMethodView = getPreferencesRepository<br/>\n&gt; ().getView(<br/>\n&gt; &gt; CONTACT_METHOD_REPOSITORY_ITEM );<br/>\n&gt; &gt; \tRepositoryItem[] contactMethods = <br/>\n&gt; contactMethodView.executeQuery(<br/>\n&gt; &gt; contactMethodView.getQueryBuilder().createUnconstrainedQuery() );<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tif ( ( contactMethods != null ) && ( contactMethods.length &gt; <br/>\n&gt; 0 ) )  {<br/>\n&gt; &gt; \t    // add each one to the map<br/>\n&gt; &gt; \t    for ( int i = 0 ; i &lt; contactMethods.length ; i++ ) {<br/>\n&gt; &gt; \t\tm.put( contactMethods[i].getPropertyValue(<br/>\n&gt; &gt; CONTACT_METHOD_CODE_PROPERTY_NAME ), new BooleanPlaceHolder() );<br/>\n&gt; &gt; \t    }<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt;      return m;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;      <br/>\n&gt; &gt; <br/>\n&gt; &gt; The Repository API is Dynamo&#39;s object-oriented data abstraction <br/>\n&gt; api. <br/>\n&gt; &gt; In this case, I assume I would setPreferencesRepository( new<br/>\n&gt; &gt; MyMockRepository()  )<br/>\n&gt; &gt; <br/>\n&gt; &gt; but that MockRepository needs to return a MockRepositoryView <br/>\nwhich <br/>\n&gt; in<br/>\n&gt; &gt; turn needs to return a MockQueryBuilder, or so I seem to believe.<br/>\n&gt; &gt; <br/>\n&gt; &gt; In a sentence:  how would one test this?  <br/>\n&gt; &gt; <br/>\n&gt; &gt; As before,<br/>\n&gt; &gt; Any and all help is greatly appreciated.<br/>\n&gt; &gt; <br/>\n&gt; &gt; I apologize for any unnecessary lengthiness.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Thanks,<br/>\n&gt; &gt; <br/>\n&gt; &gt; Aadi<br/>\n&gt; &gt; <br/>\n&gt; &gt; --- In junit@y..., Bob Koss &lt;koss@o...&gt; wrote:<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; It would help if you&#39;d tell us what the problem is instead of <br/>\n&gt; presenting<br/>\n&gt; &gt; &gt; your solution of the problem as the problem.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; I&#39;ve never needed mocks inside of mocks - it doesn&#39;t even make <br/>\n&gt; sense.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; </span></blockquote></div>", 
    "prevInTime": 8748, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1058921904", 
    "canDelete": false, 
    "nextInTopic": 8760, 
    "prevInTopic": 4938, 
    "headers": {
        "inReplyToHeader": "PGFiaDlobitoZnY4QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGJma21qZytrNHZjQGVHcm91cHMuY29tPg=="
    }
}