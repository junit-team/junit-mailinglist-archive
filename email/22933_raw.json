{
    "numMessagesInTopic": 8, 
    "nextInTime": 22934, 
    "senderId": "ExYOY9BWFy3RNfUCkC7tLUI5-xTKWmnNXRYBdO6dw5qJXSUVnuJ2FQTMKKhEMhDl1nnKa6IjaDPbp5fHtgWrbW0H4Opjqh9GhJNCt_vc", 
    "systemMessage": false, 
    "subject": "Common Test Runner for JVM", 
    "from": "Esko Luontola &lt;esko.luontola@...&gt;", 
    "authorName": "Esko Luontola", 
    "msgSnippet": "I ll soon start writing a new test runner - a common test runner for the JVM, codename CTR4J. It will provide a superset of JUnit s test runner s features,", 
    "msgId": 22933, 
    "rawEmail": "Return-Path: &lt;esko.luontola@...&gt;\r\nX-Sender: esko.luontola@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 9736 invoked from network); 11 Sep 2010 22:08:43 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m2.grp.sp2.yahoo.com with QMQP; 11 Sep 2010 22:08:43 -0000\r\nX-Received: from unknown (HELO mail-ey0-f169.google.com) (209.85.215.169)\n  by mta1.grp.sp2.yahoo.com with SMTP; 11 Sep 2010 22:08:42 -0000\r\nX-Received: by eyh5 with SMTP id 5so2626330eyh.28\n        for &lt;junit@yahoogroups.com&gt;; Sat, 11 Sep 2010 15:08:42 -0700 (PDT)\r\nX-Received: by 10.213.113.209 with SMTP id b17mr607181ebq.39.1284242921901;\n        Sat, 11 Sep 2010 15:08:41 -0700 (PDT)\r\nReturn-Path: &lt;esko.luontola@...&gt;\r\nX-Received: from [127.0.0.1] (dsl-hkibrasgw2-ff75c300-100.dhcp.inet.fi [88.195.117.100])\n        by mx.google.com with ESMTPS id z55sm6367168eeh.3.2010.09.11.15.08.40\n        (version=SSLv3 cipher=RC4-MD5);\n        Sat, 11 Sep 2010 15:08:40 -0700 (PDT)\r\nMessage-ID: &lt;4C8BFDE7.3010603@...&gt;\r\nDate: Sun, 12 Sep 2010 01:08:39 +0300\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.9) Gecko/20100825 Thunderbird/3.1.3\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Esko Luontola &lt;esko.luontola@...&gt;\r\nSubject: Common Test Runner for JVM\r\nX-Yahoo-Group-Post: member; u=395435659; y=4qAXk7BQqWav-B6IGLHoQkL3lWfQga_R11PjN7o6ZU1Exdvhg7A\r\nX-Yahoo-Profile: egeluontola\r\n\r\nI&#39;ll soon start writing a new test runner - a common test runner for the \nJVM, codename CTR4J. It will provide a superset of JUnit&#39;s test runner&#39;s \nfeatures, while at the same time overcoming some of JUnit&#39;s limitations \nand helping integration with development tools. I would like to hear \nyour opinions on this project.\n\n\n\tMOTIVATION\n\nJUnit&#39;s test runner - especially the org.junit.runner.RunWith annotation \n- has been very successful in providing a common interface for running \ntests from multiple testing frameworks. If a testing framework provides \na org.junit.runner.Runner implementation, every Java build tool and IDE \nwill automatically support the framework.\n\nHowever with the rise of Scala testing frameworks (Specs, ScalaTest, \nSpecsy - the last one being written by me), some limitations of JUnit&#39;s \ntest runner are coming to the fore:\n\n- JUnit makes an implicit assumption that all tests are known before any \ntest code is executed. For example IntelliJ IDEA calls \nRunner.getDescription() before calling Runner.run() and has problems if \nthe descriptions change during test execution. But in the Scala testing \nframeworks, in order to achieve a concise syntax, test declarations are \nimplemented as method calls in the class constructor, which means that \nat least some of the test code must be executed before it is known that \nwhat tests there are.\n\n- JUnit doesn&#39;t know the concept of nested tests. It knows the concept \nof suites containing suites, but not &quot;test methods&quot; which contain other \n&quot;test methods&quot;. But at least Specs and Specsy allow organizing tests \ninto unlimitedly nested closures. For them this limitation means that \nIDEs are not able to show the right mental model of what is really \nhappening during test execution, which makes understanding test output \nharder.\n\n- There is an implicit assumption that test names are the same as method \nnames, and that the tests are implemented as methods. For example in \nIntelliJ IDEA it&#39;s possible to navigate from the test results into test \nmethods. But with the Scala frameworks this is not possible, because the \ntest names to not correspond any method declaration (and a string search \nis not 100% reliable because the test name could be generated \ndynamically or there could be multiple tests with the same name; at \nleast Specsy allows duplicate names).\n\nThere are also some other limitations which affect all Java testing \nframeworks:\n\n- When a test prints something, IntelliJ IDEA collects what is printed \nto stdout and stderr, so that when you select a test in the test \nresults, it will show only what that test printed. This is very useful \nfor debugging with println-statements. But because there is no \nsynchronization between the test runner and the IDE which reads the \nstdout/err, IDEA doesn&#39;t always associate what a test printed with the \ncorrect test, especially when the tests are very fast.\n\n- No built-in support for executing the tests in parallel. Third-party \ntools are needed for it.\n\nPossibly because of being faced with the above limitations, at least \nSpecs, ScalaTest and TestNG have implemented their own test runners. \nThis in turn means that the IDEs need to support each test runner \nindividually, which results in varying levels of quality and features \nbetween the integration with different test runners. For example, at \nleast some time ago, IDEA&#39;s Scala plugin did not support automatically \nfinding all Specs tests in the project and executing them.\n\nThere is also code duplication inside and between all IDEs, build tools \nand CI servers because they have had to write code to keep track of the \ntest execution state, and that needs to be repeated for each test runner.\n\n\n\tTHE PROJECT\n\nI&#39;ll soon start writing a test runner to solve the above mentioned \nlimitations and to ease the integration with build tools, IDEs, CI \nservers etc. The license will be Apache License 2.0. I&#39;m also thinking \nof making this not only open source, but also &quot;open development&quot;, by \nscreencasting similar to http://jamesshore.com/Blog/Lets-Play/\n\nWhat the test runner will provide to testing frameworks, is a superset \nof the features provided by these JUnit classes: RunWith, Runner, \nDescription, RunNotifier. The API will be a bit more generic and with \nnew abstractions, in order to support for example nested tests.\n\nWhat the test runner will provide to IDEs, build tools and CI servers, \nis a library for launching the tests in a new VM instance, monitoring \nthe test execution status, collecting the test results and what was \nprinted to stdout/err etc. The tools just need to configure the \nclasspath and choose which tests to run (e.g. using file name patters). \nI will also provide a reference implementation of an UI for running the \ntests, because running tests as part of the TDD cycle is too important a \nfeature for its usability to be left in the hands of programmers without \ninteraction design skills.\n\nWhat the test runner will provide to users, is running tests from all \ntesting frameworks (which support this runner or JUnit&#39;s test runner) in \none suite, running them in parallel on multiple CPU cores (I&#39;ll tackle \nparallelization over multiple machines as a separate project, probably \nas a commercial tool), integration with every development tool on the \nJVM (I intend to contact all tool vendors and gather requirements from \nthem to ease the integration) and reliability (backwards compatiblity is \nvery important to me, and I plan on making it possible for each tool \nvendor to write integration tests, which will be run as part of the test \nrunner&#39;s development builds, to detect any breaking changes).\n\nSo, I would like to ask for your opinion on this project. Here are some \nquestions:\n\n- Do you find this useful?\n\n- If you had the possibility to rewrite JUnit&#39;s test runner, without \nhaving to think about backwards compatibility, what would you do \ndifferently? @RunWith&#39;s javadoc says: &quot;We added this feature late in \ndevelopment. While it seems powerful we expect the runner API to change \nas we learn how people really use it. Some of the classes that are \ncurrently internal will likely be refined and become public.&quot;\n\n- What do you think would be a good name for the project? One suggestion \nis CTR4J (actually named similar to SLF4J) which is googleable, but \nperhaps not very pronounceable or memorable.\n\n- What would be a good name for the annotation which corresponds \n@RunWith? Its name needs to be different to be googleable and to make it \neasy to annotate a class with both JUnit&#39;s and this test runner&#39;s \nannotation.\n\n- Any other thoughts?\n\n-- \nEsko Luontola\nwww.orfjackal.net\n\n", 
    "profile": "egeluontola", 
    "topicId": 22933, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 395435659, 
    "prevInTime": 22932, 
    "contentTrasformed": false, 
    "postDate": "1284242919", 
    "canDelete": false, 
    "nextInTopic": 22934, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDRDOEJGREU3LjMwMTA2MDNAZ21haWwuY29tPg=="
    }
}