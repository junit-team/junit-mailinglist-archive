{
    "numMessagesInTopic": 13, 
    "nextInTime": 19321, 
    "senderId": "-e0C3x_qCYFXDF38RG7scMMkMG03w_tQ8h4gqmxffSpSlVNi0qcKB7bRsWKLDAEai7Nwjh4JdmyAlKZZse733H4p-m4ACNNaBZAlkbxit5QkzqL0ufKxYw", 
    "systemMessage": true, 
    "subject": "Re: How to add functionality for execution flexibilty?", 
    "from": "&quot;Michael Schechter&quot; &lt;mlschechter@...&gt;", 
    "authorName": "Michael Schechter", 
    "msgSnippet": "Kent/David et. al., I have been successfully using a filter implementation that I provided with one or more method names. These methods were the only ones ", 
    "msgId": 19320, 
    "profile": "mlschechter", 
    "topicId": 17338, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 278382403, 
    "messageBody": "<div id=\"ygrps-yiv-1907245806\">Kent/David et. al.,<br/>\n<br/>\nI have been successfully using a filter implementation that I provided<br/>\nwith one or more method names. These methods were the only ones<br/>\nexecuted in the test class. Worked seamlessly with 4.1<br/>\n<br/>\nI just recently updated to JUnit 4.3.1, and the filter implementation<br/>\nno longer seems to be applied. There is nothing I can find in the<br/>\nrelease notes that implies that this would have changed. The<br/>\nfrustrating thing is that setting breakpoints in my filter has no<br/>\neffect - it is as if it is never being called.<br/>\n<br/>\nI am including the filter implementation class and the invocation<br/>\nlogic. Please let me know if there is something I missed here.<br/>\n<br/>\nThanks in advance!<br/>\n<br/>\n------------------------------------------------<br/>\nimport java.util.ArrayList;<br/>\nimport java.util.List;<br/>\n<br/>\nimport org.junit.runner.Description;<br/>\nimport org.junit.runner.manipulation.Filter;<br/>\n<br/>\n/**<br/>\n * This class provides a mechanism to filter tests by name, allowing a<br/>\nsubset of the tests in a test<br/>\n * class to be defined by a developer.<br/>\n * <br/>\n * @since 2.0<br/>\n */<br/>\npublic class MatchingFilter extends Filter {<br/>\n<br/>\n  /**<br/>\n   * The references to the tests that should be executed.<br/>\n   */<br/>\n  private List&lt;Description&gt; tests = new ArrayList&lt;Description&gt;();<br/>\n<br/>\n  /**<br/>\n   * Initializes an instance of &lt;code&gt;MatchingFilter&lt;/code&gt; with the<br/>\ndata provided.<br/>\n   * <br/>\n   * @param aTestClass<br/>\n   *          the class for which tests will be executed<br/>\n   * @param someTestNames<br/>\n   *          the method names<br/>\n   */<br/>\n  public MatchingFilter(Class aTestClass, String[] someTestNames) {<br/>\n    for (String testName : someTestNames) {<br/>\n      this.tests.add(Description.createTestDescription(aTestClass,<br/>\ntestName));<br/>\n    }<br/>\n  }<br/>\n<br/>\n  /**<br/>\n   * Implemented abstract method to provide detail filtering<br/>\nmechanism. Only test methods that match<br/>\n   * the provided names will be executed.<br/>\n   * <br/>\n   * @see<br/>\norg.junit.runner.manipulation.Filter#shouldRun(org.junit.runner.Description)<br/>\n   */<br/>\n  @Override<br/>\n  public boolean shouldRun(Description aDescription) {<br/>\n    return this.tests.contains(aDescription);<br/>\n  }<br/>\n<br/>\n  /**<br/>\n   * Implemented abstract method.<br/>\n   * <br/>\n   * @see org.junit.runner.manipulation.Filter#describe()<br/>\n   */<br/>\n  @Override<br/>\n  public String describe() {<br/>\n    return &quot;This filter excludes any test methods that do not exactly<br/>\nmatch the provided names&quot;;<br/>\n  }<br/>\n<br/>\n}<br/>\n<br/>\n------------------------------------------------<br/>\n    JUnitCore core = new JUnitCore();<br/>\n    Request testRequest = Request.aClass(aTestClass);<br/>\n    if (0 &lt; someArguments.length) {<br/>\n      Filter matchFilter = new MatchingFilter(aTestClass, someArguments);<br/>\n      testRequest = testRequest.filterWith(matchFilter);<br/>\n    }<br/>\n    core.run(testRequest);<br/>\n<br/>\n------------------------------------------------<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Michael Schechter&quot; &lt;bard@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Kent,<br/>\n&gt; <br/>\n&gt; First and foremost, thanks! That example did the trick. I was able to<br/>\n&gt; modify it, and our team can now specify any subset of the test methods<br/>\n&gt; in a given class dynamically as part of their development process.<br/>\n&gt; <br/>\n&gt; I would strongly recommend that this trick (and any others that<br/>\n&gt; require extension/implementation from JUnit core classes) be added to<br/>\n&gt; whatever &quot;recipes&quot; get documented.<br/>\n&gt; <br/>\n&gt; I feel very strongly about the utility of JUnit (or any similar tool)<br/>\n&gt; in a testing-dependent development environment. The only drawback I<br/>\n&gt; can see to using volunteer labor for documentation purposes is that<br/>\n&gt; these volunteers would need access to the brains behind the code to<br/>\n&gt; write complete Javadoc. For example, in following your example, I got<br/>\n&gt; tripped up by the Request filterWith() method. So many frameworks<br/>\n&gt; today return a modified instance of the class on which you are<br/>\n&gt; operating that I was somewhat surprised that the instance on which I<br/>\n&gt; called filterWith() was not modified.<br/>\n&gt; <br/>\n&gt; Upon reflection, your contract and implementation are perfectly<br/>\n&gt; reasonable OO - the filtered instance is what is returned, not what is<br/>\n&gt; invoked. This is the kind of fine point that would be easy to miss in<br/>\n&gt; documenting this code as a volunteer. I point this out not as an<br/>\n&gt; argument against. Instead, those who volunteer must be cognizant of<br/>\n&gt; the fairly subtle complexities of this framework, and be willing to<br/>\n&gt; ask questions when contributing.<br/>\n&gt; <br/>\n&gt; Once again, thanks for the timely assist!<br/>\n&gt; <br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Kent Beck&quot; &lt;kentb@&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Michael,<br/>\n&gt; &gt;  <br/>\n&gt; &gt; You&#39;re right that the JUnit documentation needs to be improved. As a<br/>\n&gt; &gt; volunteer project, we&#39;re open to contributions.<br/>\n&gt; &gt;  <br/>\n&gt; &gt; The following example may serve to address the situation you raise:<br/>\n&gt; &gt;  <br/>\n&gt; &gt; public class FilterExample {<br/>\n&gt; &gt; \t@Test public void runTestsInAList() {<br/>\n&gt; &gt; \t\tfinal String[] tests= new String[] {&quot;a&quot;, &quot;b&quot;};<br/>\n&gt; &gt; \t\tFilter namedTests= new Filter() {<br/>\n&gt; &gt; \t\t\t@Override<br/>\n&gt; &gt; \t\t\tpublic String describe() {<br/>\n&gt; &gt; \t\t\t\treturn &quot;only tests starting with &#39;a&#39;&quot;;<br/>\n&gt; &gt; \t\t\t}<br/>\n&gt; &gt; \t\t\t@Override<br/>\n&gt; &gt; \t\t\tpublic boolean shouldRun(Description description) {<br/>\n&gt; &gt; \t\t\t\tfor (String each : tests)<br/>\n&gt; &gt; \t\t\t\t\tif<br/>\n&gt; &gt; (description.getDisplayName().startsWith(each))<br/>\n&gt; &gt; \t\t\t\t\t\treturn true;<br/>\n&gt; &gt; \t\t\t\treturn false;<br/>\n&gt; &gt; \t\t\t}<br/>\n&gt; &gt; \t\t};<br/>\n&gt; &gt; \t\tRequest request=<br/>\n&gt; &gt; Request.aClass(Tests.class).filterWith(namedTests);<br/>\n&gt; &gt; \t\tResult result= new JUnitCore().run(request);<br/>\n&gt; &gt; \t\tassertEquals(2, result.getRunCount());<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; \tpublic static class Tests {<br/>\n&gt; &gt; \t\t@Test public void a() {}<br/>\n&gt; &gt; \t\t@Test public void b() {}<br/>\n&gt; &gt; \t\t@Test public void c() {}<br/>\n&gt; &gt; \t}<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; Sincerely yours,<br/>\n&gt; &gt; <br/>\n&gt; &gt; Kent Beck<br/>\n&gt; &gt; Three Rivers Institute<br/>\n&gt; &gt; <br/>\n&gt; &gt; ________________________________<br/>\n&gt; &gt; <br/>\n&gt; &gt; \tFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf<br/>\n&gt; &gt; Of Michael Schechter<br/>\n&gt; &gt; \tSent: Monday, August 07, 2006 8:11 AM<br/>\n&gt; &gt; \tTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; \tSubject: [junit] How to add functionality for execution flexibilty?<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; <br/>\n&gt; &gt; \tI am looking to add the following functionality to my tests:<br/>\n&gt; &gt; \t- When provided a list of method names on the command line, only<br/>\n&gt; &gt; those<br/>\n&gt; &gt; \tmethods in the invoked class will be executed.<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tI need this implementation at the test class level. This was pretty<br/>\n&gt; &gt; \tstraightforward with JUnit 3.8.1 - just create new instances of the<br/>\n&gt; &gt; \tderived TestCase with the method name as the argument, and add them<br/>\n&gt; &gt; to<br/>\n&gt; &gt; \tthe suite.<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tI am having a lot of difficulty trying to replicate this<br/>\n&gt; &gt; \tfunctionality. The filter logic appears to be a one-shot exclusion<br/>\n&gt; &gt; \tfilter (everything not matching is dropped), and I can&#39;t seem to<br/>\n&gt; &gt; find<br/>\n&gt; &gt; \tany documentation that would address this.<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tAs Mr. Rainsberger and others have suggested, I have searched the<br/>\n&gt; &gt; web<br/>\n&gt; &gt; \tfor an appropriate tutorial. I have found a number of good basic<br/>\n&gt; &gt; \ttutorials (including some references in this group), and a couple<br/>\n&gt; &gt; with<br/>\n&gt; &gt; \tsome advanced content. I cannot seem to find one with the detail to<br/>\n&gt; &gt; \tunlock the tools and capabilities that I am positive are available<br/>\n&gt; &gt; \twithin the new JUnit framework. <br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tI am also convinced that no one is as capable as the authors in<br/>\n&gt; &gt; \tdocumenting the features of the framework, and I am having trouble<br/>\n&gt; &gt; \tfind Javadoc for some of the classes and APIs in the JUnit 4.1 tree.<br/>\n&gt; &gt; \tThere is a fairly good chance that I am looking in the wrong place.<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tIf anyone has any suggestions or guidance on these issues, it would<br/>\n&gt; &gt; be<br/>\n&gt; &gt; \tgreatly appreciated.<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tThanks in advance!<br/>\n&gt; &gt; \t<br/>\n&gt; &gt; \tMichael Schechter<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19319, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1178222007", 
    "canDelete": false, 
    "nextInTopic": 19440, 
    "prevInTopic": 17359, 
    "headers": {
        "inReplyToHeader": "PGViZmMxYitrZG05QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGYxZGVqbisyYjRzQGVHcm91cHMuY29tPg=="
    }
}