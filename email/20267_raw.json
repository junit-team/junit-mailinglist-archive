{
    "numMessagesInTopic": 8, 
    "nextInTime": 20268, 
    "senderId": "rAM2NYDkh_4Rvq-7KF4u0Q6HoziHJ-3Qu_mnGx1uNZD7OAqREoh1PjsclwTxCsndf_BFsfHBWyKRxRQcUq7S6ifv7ptGhd8VazX8", 
    "systemMessage": true, 
    "subject": "Re: [junit] How do you test your Java EE 5 applications?", 
    "from": "&quot;Kent Larsson&quot; &lt;kent.larsson@...&gt;", 
    "authorName": "Kent Larsson", 
    "msgSnippet": "... most ... new ... EJB ... EJB ... I m ... not ... makes ... broken ... to ... This sounds very interesting! And it s the recommended way in the book ", 
    "msgId": 20267, 
    "rawEmail": "Return-Path: &lt;Kent.Larsson@...&gt;\r\nReceived: (qmail 80240 invoked from network); 30 Jan 2008 09:37:41 -0000\r\nReceived: from unknown (69.147.108.202)\n  by m47.grp.scd.yahoo.com with QMQP; 30 Jan 2008 09:37:41 -0000\r\nReceived: from unknown (HELO n33b.bullet.sp1.yahoo.com) (209.131.38.215)\n  by mta3.grp.re1.yahoo.com with SMTP; 30 Jan 2008 09:37:41 -0000\r\nReceived: from [216.252.122.219] by n33.bullet.sp1.yahoo.com with NNFMP; 30 Jan 2008 09:37:40 -0000\r\nReceived: from [66.218.69.3] by t4.bullet.sp1.yahoo.com with NNFMP; 30 Jan 2008 09:37:40 -0000\r\nReceived: from [66.218.66.83] by t3.bullet.scd.yahoo.com with NNFMP; 30 Jan 2008 09:37:40 -0000\r\nX-Sender: Kent.Larsson@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 4966 invoked from network); 30 Jan 2008 09:24:46 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m49.grp.scd.yahoo.com with QMQP; 30 Jan 2008 09:24:46 -0000\r\nX-Received: from unknown (HELO smtpgw.tpb.se) (193.11.19.14)\n  by mta3.grp.re1.yahoo.com with SMTP; 30 Jan 2008 09:24:45 -0000\r\nX-Received: from GWTPB-MTA by smtpgw.tpb.se\n\twith Novell_GroupWise; Wed, 30 Jan 2008 10:24:44 +0100\r\nMessage-Id: &lt;s7a0506c.063@...&gt;\r\nX-Mailer: Novell GroupWise Internet Agent 6.5.7 \r\nDate: Wed, 30 Jan 2008 10:24:34 +0100\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Kent Larsson&quot; &lt;kent.larsson@...&gt;\r\nSubject: Re: [junit] How do you test your Java EE 5 applications?\r\nX-Yahoo-Group-Post: member; u=334658005; y=_0pixvjs1Um0h-y6M_7o96cuWEDixQU1QdnIb37c3VsXSw\r\nX-Yahoo-Profile: tpbtnek\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 30 Jan 2008 09:37:40 -0000\r\n\r\n&gt; On 23/01/2008, Joakim Ohlrogge &lt;joakim.ohlrogge@...&gt; wrote:\n&gt; &gt;  I&#39;m currently doing some basic EJB 3.0 testing and I found that\nmost\n&gt; &gt;  of the issues I had with the previous specification are gone. The\nnew\n&gt; &gt;  session beans are just pojos with dependency injection and the\nEJB\n&gt; &gt;  stuff is merely visible as anotations.\n&gt; ...\n&gt; &gt;  I&#39;m also interested in any issues people may have had with testing\nEJB\n&gt; &gt;  3.0 stuff, it would be nice to know what to watch out for before\nI&#39;m\n&gt; &gt;  in the middle of it :)\n&gt; \n&gt; The issue we&#39;ve had with EJB3 is that the API designers completely\n&gt; misunderstood dependency injection.  The container really does\n&gt; *inject* dependencies, bypassing encapsulation, the constructor and\n&gt; all the other language features that exist to help you manage\n&gt; dependencies.\n&gt; \n&gt; The result of this is that to unit test an session or message-driven\n&gt; bean you have to duplicate the container&#39;s reflectopornographic\n&gt; injection mechanism.  This is quite a bit of work.\n&gt; \n&gt; Another downside is that you don&#39;t get any indication that you&#39;ve\nnot\n&gt; provided all the dependencies to an object in a unit-test.  This\nmakes\n&gt; tests brittle.  Simple changes to an object cause a cascade of\nbroken\n&gt; tests. You can&#39;t add dependencies by using the IDEs refactoring\n&gt; features to introduce new constructor parameters.  Instead you have\nto\n&gt; annotate a field or setter method, and then manually go through\n&gt; everywhere the object is used to check whether all the dependencies\n&gt; have been set up correctly.\n&gt; \n&gt; So, I still find it useful to completely decouple the business logic\n&gt; from the J2EE layer.\n&gt; \n&gt; --Nat\n\nThis sounds very interesting! And it&#39;s the recommended way in the book\n&quot;Mastering Enterprise JavaBeans 3.0&quot; as well if I interpret it\ncorrectly.\n\nI haven&#39;t found a lot of (not a single one in fact) tutorials\nexplaining how to do this kind of out of container testing of EJB 3.0\nstuff (and the book only mentioned it briefly). Perhaps it&#39;s self\nexplainatory to everyone except me, but I am more leaning on it still\nbeing a fairly new technology. In either case I do need to discuss this\na bit more before I&#39;m able to use the method.\n\nThis is how I understand it so far. I broke it up into many smaller\nparagraphs so that it would be easier to comment. If I have understood\nsomething/most wrong I would appreciate if someone could correct me:\n\n//--- How I think it works - Start\n\nYou separate your logic from your session bean so that your session\nbean will become a mere forwarder of requests and replies as well as a\nhandler of EJB 3.0 components creation.\n\nYour logic POJO class will implement the same interface(s) as its\nsession bean.\n\nYour logic POJO class may require other session beans, or more\naccurately put, it may require other classes which implements the same\ninterface(s) as said session beans.\n\nDuring normal operation the needed real session beans will be injected\ninto the session bean which requires them. The session beans will then\nbe passed to the logic POJO class through its constructor.\n\nDuring unit testing you&#39;re unable to create the needed real session\nbeans. Instead you will create the logic POJO class versions of the\nneeded session beans. These will then be passed to the logic POJO class\nthrough its constructor.\n\n//--- How I think it works - End\n\nAnd I also have some questions:\n\n1. What should I do with the EntityManager? Should one out-of-container\nEntityManager be created before each of my unit tests (and destroyed\nwhen it&#39;s done)? Have you got any tips on how one is created which\nideally works as the in container one? What about transactions, what\nshould be one?\n\n2. We have cases where the communication is &quot; servlet &lt;-&gt;\nbusinessSessionBean &lt;-&gt; pojoIntegration &quot; where the pojoIntegration\nhandles entity beans and database queries and the businessSessionBean\nmerely acts as a forwarder of requests and responses. In these cases.\nShould we test the methods of businessSessionBean?\n\n3. Do you know any good material which discusess testnig Java EE 5\napplications this way?\n\nThanks for your time reading this post! I hope and would appreciate if\nyou have something to contribue. \n\nBest regards,\nKent\n\n\n", 
    "profile": "tpbtnek", 
    "topicId": 20253, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 334658005, 
    "prevInTime": 20266, 
    "contentTrasformed": false, 
    "postDate": "1201685074", 
    "canDelete": false, 
    "nextInTopic": 20268, 
    "prevInTopic": 20258, 
    "headers": {
        "messageIdInHeader": "PHM3YTA1MDZjLjA2M0BzbXRwZ3cudHBiLnNlPg=="
    }
}