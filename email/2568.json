{
    "numMessagesInTopic": 1, 
    "nextInTime": 2569, 
    "senderId": "AoqJJQ0DRTwU7X79FbZCxKCrSOAge9A_TVgzRN6iL8rcSp6xheUJdqjmL89wJm2DoazuSoeHNL5FcewQ4imD9V7ybCgHjSF4", 
    "systemMessage": false, 
    "subject": "sub == nested, a matter of semantics", 
    "from": "Steven Morgan &lt;xerafin@...&gt;", 
    "authorName": "Steven Morgan", 
    "msgSnippet": "... JTS ... required . ... database ... Actually, in the terminology of transaction services, nested transactions *are* subtransactions.  What was being", 
    "msgId": 2568, 
    "topicId": 2568, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1327196151\"><blockquote><span title=\"ireply\">&gt; &gt; OTS subtransactions are very different from top-level transactions.<br/>\n<br/>\n&gt; As i&#39;ve dived into several specification documents<br/>\n&gt; (not comments about them), i&#39;ve discovered that OTS doesn&#39;t support <br/>\n&gt; directly nested transaction but only subtransaction (as you said). And<br/>\n </span></blockquote>JTS <br/>\n<blockquote><span title=\"ireply\"> &gt; is based upon OTS. So it explains the &quot;nested transactions not<br/>\n </span></blockquote>required&quot;.<br/>\n<blockquote><span title=\"ireply\"> &gt; About EJB 2.0 spec, it is written : &quot;no nested transactions supported&quot;. <br/>\n&gt; Authors explain that they want EJB spec to be implemented on any<br/>\n </span></blockquote>database<br/>\n<blockquote><span title=\"ireply\"> &gt; system. They add that EJB spec could support nested transactions if <br/>\n&gt; databases support them...<br/>\n<br/>\n </span></blockquote>Actually, in the terminology of transaction services, nested transactions<br/>\n*are* subtransactions.  What was being discussed earlier was a way to have<br/>\nresources commit (that is, visible) for testing purposes but still have<br/>\nthem uncommit in the end.  This is really an issue of transaction<br/>\nisolation, which determines who is allowed to see changes at different<br/>\nstages in the lifetime of a transaction.  Isolation is an<br/>\nimplementation-specific characteristic.  Perhaps if you check your<br/>\ndatabase docs, you can find an isolation level that will allow you to test<br/>\nthe way you were hoping.  It won&#39;t be portable, but it could work.<br/>\n<br/>\nThe reason OTS does not require nested/sub- transactions is because it was<br/>\ndesigned by a committee of transaction manager (database) vendors and most<br/>\ndatabases do not support nested/sub- transactions.  Committee specs tend<br/>\nto be all-inclusive because they have to have broad support to be adopted<br/>\n(which, for example, is why the conference in Durban is having problems,<br/>\nbut that is definitely way off-topic).<br/>\n<br/>\nIf you really want to see a hole in the EJB spec, check out the optional<br/>\ninterposit coordinator implementation suggested by OTS.  I developed a<br/>\ntransaction manager that used interposits which was later used by our EJB<br/>\ncontainer.  The practical result is this:  do not make transactional<br/>\nremote calls during the beforeCompletion() call in a Synchronization.  The<br/>\nstate of a transaction is local, not global, and resources registered at<br/>\none node can be polled before synchronizations&#39; beforeCompletion() are<br/>\ncalled in another node.<br/>\n<br/>\nThe EJB spec, of course, makes no mention of this situation.  On the plus<br/>\nside, I have not seen another implementation that uses the suggested<br/>\ninterposit implementation, so my warning can be largely ignored.<br/>\n<br/>\n-Steve  :)<br/>\n<br/>\n=====<br/>\nSteve Morgan       <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:xerafin@...\">xerafin@...</a>   <a rel=\"nofollow\" target=\"_blank\" href=\"http://profiles.yahoo.com/xerafin\">http://profiles.yahoo.com/xerafin</a><br/>\n<br/>\n__________________________________________________<br/>\nDo You Yahoo!?<br/>\nGet email alerts & NEW webcam video instant messaging with Yahoo! Messenger<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://im.yahoo.com\">http://im.yahoo.com</a></div>", 
    "prevInTime": 2567, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "999692144", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "inReplyToHeader": "PDk5OTY4NTU2MS4zMDguNDAwOS5sMTBAeWFob29ncm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDEwOTA1MTIxNTQ0LjE1NzA3LnFtYWlsQHdlYjExNTAzLm1haWwueWFob28uY29tPg=="
    }
}