{
    "numMessagesInTopic": 41, 
    "nextInTime": 6915, 
    "senderId": "kj5hucHUsDuGWLHA3CAHklARsxYGBfT_9en9Iaogcz478Oe_vtNlph1x4888mcT9fgEwtBow9aKzeqX5suqOSmBcjKgBz9TEDvVBq9goVbU58q9l", 
    "systemMessage": false, 
    "subject": "Re: [junit] Programmer Tests and the Database", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "So said  Curt Sampson  on  2/7/2003 -------------------- ... other ... to ... a ... SELECT? ... More work, yes, but with serious ROI. If I test your", 
    "msgId": 6914, 
    "profile": "nails762", 
    "topicId": 6711, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "messageBody": "<div id=\"ygrps-yiv-1076190506\">So said  Curt Sampson  on  2/7/2003 --------------------<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;On Thu, 6 Feb 2003, J. B. Rainsberger wrote:<br/>\n&gt;<br/>\n&gt;&gt; Pushing every SQL statement you use out to a ResourceBundle (or<br/>\n </span></blockquote>other<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; metadata file) is a good idea.<br/>\n&gt;<br/>\n&gt;Eww! I know this tends to be a bit of a personal preference, but I far<br/>\n&gt;prefer to keep my code together when I can. If a statement is used in<br/>\n&gt;only one place, keeping it where it&#39;s used makes the code much easier<br/>\n </span></blockquote>to<br/>\n<blockquote><span title=\"ireply\"> &gt;read, because you don&#39;t have to go chasing off into some other file to<br/>\n&gt;find out what SQL statement is being executed.<br/>\n&gt;<br/>\n&gt;&gt; It&#39;s very easy to write a single test<br/>\n&gt;&gt; that runs through all the SQL statements in the metadata file and do<br/>\n </span></blockquote>a<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; sanity check on them: can I read the columns from the tables I<br/>\n </span></blockquote>SELECT?<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; and so on.<br/>\n&gt;<br/>\n&gt;Well, for the simple stuff, why bother? If I have a method like:<br/>\n&gt;<br/>\n&gt;    public void setCount(int count) {<br/>\n&gt;\tif (count == _count)<br/>\n&gt;\t    return;<br/>\n&gt;\tDB.update(&quot;UPDATE mytable SET count = ? WHERE id = ?&quot;,<br/>\n&gt;\t    new Object() { new Integer(_id), new Integer(_count), });<br/>\n&gt;\t_count = count;<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;Doesn&#39;t it seem like a lot more work to move that statement out to a<br/>\n&gt;separate file than just to test the whole method with a single test?<br/>\n<br/>\n </span></blockquote>More work, yes, but with serious ROI. <br/>\n<br/>\nIf I test your implementation rather than just checking the SQL string,<br/>\nthen I have to run that  at a cost of say, 1 second per run. Now let<br/>\nthere be 150 such statements -- not unusual for an application of any<br/>\ndecent size -- and the difference is at least 2-1/2 minutes per test<br/>\nrun OR I simply don&#39;t run those tests. (If I knew ahead of time what<br/>\nwould break, then I wouldn&#39;t want to run all the tests all the time,<br/>\nbut I don&#39;t, so I do.) Now I run my tests at least three times per<br/>\nhour, so that&#39;s 7-1/2 minutes per hour or about 10% overhead. Assuming<br/>\na linear average over the lifetime of the project, then the we really<br/>\nhave 5% overhead. On a six-month project with six developers pairing,<br/>\nthat means upwards of 120 days x 7.5 hours per day x 3 pairs x 5% = 135<br/>\nhours of overhead just to run the tests. That&#39;s 18 days spent just to<br/>\nrun those tests. Nevermind the context switching that comes from<br/>\nchatting while the tests run or skipping over to my web browser to<br/>\navoid staring at the test run for 3 minutes.<br/>\n<br/>\nDo you think that the time needed to push all that SQL out to a<br/>\nproperties file PLUS the time needed to consult that properties file<br/>\nPLUS the time spent arguing about whether to do it is as much as HALF<br/>\nof that over the length of a six-month, six-person project?<br/>\n<br/>\nRemember: it&#39;s not just about execution time, and it&#39;s not just about<br/>\ndevelopment time. Gotta compute &#39;em both.<br/>\n<br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603<br/>\nAll correspondence (c) 2002 Diaspar Software Services.<br/>\nIf you want to use it, just ask; don&#39;t steal.</div>", 
    "prevInTime": 6913, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1044736639", 
    "canDelete": false, 
    "nextInTopic": 6915, 
    "prevInTopic": 6907, 
    "headers": {
        "inReplyToHeader": "PFBpbmUuTkVCLjQuNTEuMDMwMjA3MTQyNzM0MC4zNjlAYW5nZWxpYy5jeW5pYy5uZXQ+", 
        "messageIdInHeader": "PDIwMDMwMjA4MTUzNzE5MDM1NC4wNDhDQTg1QUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PEtJRUhJQklPQkFFTEpBSElQTkhEQ0VNTENPQUEuc2NvdHRzdGlybGluZ0ByY24uY29tPiA8UGluZS5ORUIuNC41MS4wMzAyMDYxNTQwMzUwLjczNTZAYW5nZWxpYy5jeW5pYy5uZXQ+IDwyMDAzMDIwNjA5MzA1MTA3NjkuMDA0NzM0MEJAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDxQaW5lLk5FQi40LjUxLjAzMDIwNzE0MjczNDAuMzY5QGFuZ2VsaWMuY3luaWMubmV0Pg=="
    }
}