{
    "topicId": 6005, 
    "postDate": "1035313885", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Shane Celis &lt;shane@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "YFuLKoqOgdp9F0jwo3cAnCDf8_k3zeFrEEAw5jafKUwNd5VZQ9GxzPyz4p9uTiR2NXPkiMO9iuKaIKqpKkjqG9NSQ_vBQ5H_PxU", 
    "nextInTime": 6025, 
    "userId": 76541257, 
    "prevInTime": 6023, 
    "prevInTopic": 6023, 
    "headers": {
        "inReplyToHeader": "PGFwM2Zjcys0OTgyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDBGNDFDMDExLUU1RjItMTFENi04ODMxLTAwMzA2NUY5QTgwRUB0ZXJyYXNwcmluZy5jb20+"
    }, 
    "authorName": "Shane Celis", 
    "numMessagesInTopic": 9, 
    "msgSnippet": "... If you want to keep the existing interface and continue to have the class instantiate the reader, maybe you ought to use a factory.  That way you could", 
    "contentTrasformed": false, 
    "msgId": 6024, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;Shane@...&gt;\r\nX-Sender: Shane@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_2_1); 22 Oct 2002 19:11:37 -0000\r\nReceived: (qmail 24164 invoked from network); 22 Oct 2002 19:11:23 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m4.grp.scd.yahoo.com with QMQP; 22 Oct 2002 19:11:23 -0000\r\nReceived: from unknown (HELO MAIL.fremont.corp.terraspring.com) (64.124.70.190)\n  by mta2.grp.scd.yahoo.com with SMTP; 22 Oct 2002 19:11:23 -0000\r\nReceived: from terraspring.com ([10.0.0.122]) by MAIL.fremont.corp.terraspring.com with Microsoft SMTPSVC(5.0.2195.2966);\n\t Tue, 22 Oct 2002 12:11:24 -0700\r\nDate: Tue, 22 Oct 2002 12:11:25 -0700\r\nSubject: Re: [junit] Re: Tradeoff btw. right design and performance\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMime-Version: 1.0 (Apple Message framework v546)\r\nTo: junit@yahoogroups.com\r\nContent-Transfer-Encoding: 7bit\r\nIn-Reply-To: &lt;ap3fcs+4982@...&gt;\r\nMessage-Id: &lt;0F41C011-E5F2-11D6-8831-003065F9A80E@...&gt;\r\nX-Mailer: Apple Mail (2.546)\r\nReturn-Path: shane@...\r\nX-OriginalArrivalTime: 22 Oct 2002 19:11:24.0898 (UTC) FILETIME=[D0A5DC20:01C279FE]\r\nFrom: Shane Celis &lt;shane@...&gt;\r\nX-Yahoo-Group-Post: member; u=76541257\r\n\r\n\nOn Tuesday, October 22, 2002, at 05:13 AM, Rytrom wrote:\n\n&gt; --- In junit@y..., &quot;J. B. Rainsberger&quot; &lt;jbr@d...&gt; wrote:\n&gt;&gt;&gt; Should I test the one big public function\n&gt;&gt;&gt; (that actually inside merely calls several small functions)?\n&gt;&gt;&gt;\n&gt;&gt;&gt; Let me make up an example:\n&gt;&gt;&gt;\n&gt;&gt;&gt; public void buildReport(ReportSpec spec, OutputStream out) {\n&gt;&gt;&gt;  init(spec);\n&gt;&gt;&gt;  ResultSet rec = reader.execute(spec);\n&gt;&gt;&gt;  composeData(rec, spec, out);\n&gt;&gt;&gt;  reader.close();\n&gt;&gt;&gt; }\n&gt;&gt;&gt;\n&gt;&gt;&gt; look at this snippet as at an logical example. I wrote an own test\n&gt;&gt;&gt; for  each of internal functions by using MockObjects (if needed)\n&gt; but\n&gt;&gt;&gt; should I test buildReport function? It seems to me I&#39;m just not\n&gt; able\n&gt;&gt;&gt; to.\n&gt;&gt;\n&gt;&gt; Certainly, test it. One question: where does &#39;reader&#39; come from? Is\n&gt; it\n&gt;&gt; a parameter to the constructor? If so, then you can easily mock all\n&gt;&gt; those objects.\n&gt;\n&gt; That&#39;s the core of my question. A reader is being initialized from\n&gt; inside the function. I think that whichever decoupling of\n&gt; component/classes/functions I do still at a some point one of\n&gt; functions has to call the decoupled parts. In the production code I\n&gt; can&#39;t use mocks that deduces that there are functions which can&#39;t be\n&gt; tested (at least on UnitTest level).\n&gt; In my example buildReport knows how to create and init the reader and\n&gt; it only has connecting logic (how, when and which functions to call).\n&gt; I&#39;ve tested each of them already.\n\nIf you want to keep the existing interface and continue to have the \nclass instantiate the reader, maybe you ought to use a factory.  That \nway you could interpose your mock reader class in the factory, thereby \npreserving your current interface but making it testable.\n\n-shane\n\n\n", 
    "subject": "Re: [junit] Re: Tradeoff btw. right design and performance"
}