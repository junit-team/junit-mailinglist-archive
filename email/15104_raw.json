{
    "topicId": 15104, 
    "postDate": "1128698366", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "David Brady &lt;junit_list@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "bAYswndsE1tiaHESjkvbZEEwcO1emcWoEH3wM8osPN3P_Zfn11XgBlrGkjOLitg-K-_45A_qohiuEQfCVwXRupLLEJoJNnqJFkE0-A", 
    "nextInTime": 15105, 
    "userId": 240009991, 
    "prevInTime": 15103, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDQzNDY5MUZFLjgwMzA0QHNoaW55Yml0LmNvbT4="
    }, 
    "authorName": "David Brady", 
    "numMessagesInTopic": 6, 
    "msgSnippet": "Hi All, I ve just been plopped into a ball of mud project: it s poorly isolated, has little or no class hierarchy/organization, everything depends on", 
    "contentTrasformed": false, 
    "msgId": 15104, 
    "nextInTopic": 15106, 
    "systemMessage": true, 
    "rawEmail": "Return-Path: &lt;junit_list@...&gt;\r\nReceived: (qmail 65244 invoked from network); 7 Oct 2005 20:05:49 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m28.grp.scd.yahoo.com with QMQP; 7 Oct 2005 20:05:49 -0000\r\nReceived: from unknown (HELO n7a.bulk.scd.yahoo.com) (66.94.237.41)\n  by mta2.grp.scd.yahoo.com with SMTP; 7 Oct 2005 20:05:49 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.3] by n7.bulk.scd.yahoo.com with NNFMP; 07 Oct 2005 20:04:31 -0000\r\nReceived: from [66.218.66.76] by mailer3.bulk.scd.yahoo.com with NNFMP; 07 Oct 2005 20:04:31 -0000\r\nX-Sender: junit_list@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 8796 invoked from network); 7 Oct 2005 15:19:33 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m2.grp.scd.yahoo.com with QMQP; 7 Oct 2005 15:19:33 -0000\r\nReceived: from unknown (HELO thing.shinybit.com) (207.44.132.75)\n  by mta4.grp.scd.yahoo.com with SMTP; 7 Oct 2005 15:19:33 -0000\r\nReceived: (qmail 15215 invoked by uid 512); 7 Oct 2005 10:22:17 -0500\r\nReceived: from 208.186.180.204 by thing.shinybit.com (envelope-from &lt;junit_list@...&gt;, uid 510) with qmail-scanner-1.25-st-qms \n (clamdscan: 0.86rc1/936. spamassassin: 3.0.4. perlscan: 1.25-st-qms.  \n Clear:RC:0(208.186.180.204):SA:0(-2.6/5.0):. \n Processed in 2.519569 secs); 07 Oct 2005 15:22:17 -0000\r\nX-Spam-Status: No, hits=-2.6 required=5.0\r\nX-Antivirus-BKWM-Mail-From: junit_list@... via thing.shinybit.com\r\nX-Antivirus-BKWM: 1.25-st-qms (Clear:RC:0(208.186.180.204):SA:0(-2.6/5.0):. Processed in 2.519569 secs Process 15201)\r\nReceived: from agilestudios.com (HELO ?192.168.0.171?) (dbrady@...@208.186.180.204)\n  by thing.shinybit.com with AES256-SHA encrypted SMTP; 7 Oct 2005 10:22:14 -0500\r\nMessage-ID: &lt;434691FE.80304@...&gt;\r\nDate: Fri, 07 Oct 2005 09:19:26 -0600\r\nUser-Agent: Mozilla Thunderbird 1.0.6 (X11/20050727)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:12:4:0\r\nFrom: David Brady &lt;junit_list@...&gt;\r\nSubject: Boxes Full of Mud (Untested Monolith, Eclipse, SWT, and Database\n questions)\r\nX-Yahoo-Group-Post: member; u=240009991\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via web; 07 Oct 2005 20:04:30 -0000\r\n\r\nHi All,\n\nI&#39;ve just been plopped into a &quot;ball of mud&quot; project: it&#39;s poorly \nisolated, has little or no class hierarchy/organization, everything \ndepends on everything else, and it has no tests.  It&#39;s a Java SWT \napplication, developed with heavy dependence on Eclipse.  (I&#39;m not even \nsure anyone inhouse knows how to build the project outside of Eclipse.)  \nI am a long-time lover of unit testing, having used phpUnit and Ruby&#39;s \nTest::Unit, though I am hardly an expert.  I am new to Eclipse, Java, \nSWT and JUnit.\n\nThanks to the lovely wizards in Eclipse, I have been able to establish a \nset of beachhead tests that run and report good data on a small handful \nof classes.  I&#39;m not trying to refactor everything at once, so a lot of \nwhat I&#39;ve done is &quot;take a ball of mud, slice it in two and put the \nhalves in clean boxes.&quot;  End result is I am getting more and more boxes \nfull of mud.  :-)  One or two boxes, however, are small, and those are \nthe ones under test, so they&#39;re pretty clean.  I hope to work my way \nthrough the rest of the application this way.  Two months from now it \nwill all be under test, neatly divided, building and running integration \ntests nightly.  (Or else it won&#39;t.  But I&#39;m moderately confident as the \nproject is only 10k LOC, and the team has so far been open to my unit \ntesting sermons.)\n\nBecause our application was written monolithically, one box of mud is \nthe startup code.  Everything depends on everything else.  To get JUnit \nworking, for the nonce I made the decision to just wad all the startup \ncode into setUp().  Pushed that up into a new superclass, and all of our \nTestCases now inherit from it.  Seems to work fine.\n\nEnter a new wrinkle: the ball of mud in setUp includes some code from \nApplicationStartup.main().  That method has a CommandLineParser that \nreads the option to change databases, e.g. &quot;-d localhost&quot; or &quot;-d \n&lt;remote_server_name&gt;&quot;.  Our setUp() method just picks one as a hardcode \nand uses that.  It&#39;s now come time where I am actually bringing the \ndatabase classes under test, and I need to be able to tell the unit test \nframework to switch databases.\n\nI mentioned my general newness to JUnit, and that this is a &quot;divide the \nball of mud&quot; approach.  I have only ever written TestCases, I haven&#39;t \neven written a TestSuite or any kind of TestRunner.  Apologies if these \nare stupid questions:\n\n1. Is there a good way to catch command-line args when running JUnit?\n\n1.1. If I write a TestSuite and/or TestRunner, will this become apparent?\n\n1.2. Is this a bad question entirely?  I.e. Am I in a state of sin for \nwanting to switch around my unit tests from a command line?\n\n1.3. I am doing this to cut the database object code free of the ball of \nmud, so I can test those objects.  Should I just be mocking the Db stuff \noutright?\n\n1.4. One of our remote servers is VERY remote, such that accessing it is \nvery slow.  We need to be able to switch over to that server to test \nperformance over slow networks.  So I do think I need to be able to \nswitch the db server somehow.\n\n1.4.1. I overheard something about a performance testing tool for \nJUnit.  I confess I haven&#39;t Googled hard for it, though.  Anyone know of \na good tool for this that integrates cleanly with JUnit?\n\n2. Is there a good way to test SWT?\n\nGoogle so far says &#39;not really&#39;.  I&#39;ve made some painful conclusions and \ndesign decisions from this.  Chief among them has been, &quot;if you need to \ntest the UI, you&#39;ve probably got model code in your view classes.  Fix \nthat first.&quot;  This approach so far has worked, but it&#39;s difficult \nbecause I have to refactor the code BEFORE I can test.  Ideally I would \nlike to be able to grab the UI, fill in some boxes and click some \nbuttons, then test the UI changes.  This would allow the model/view \nrefactorings to proceed under test.\n\nThank you in advance for any advice or input you might provide.  I am \nopen to a discussion of why my entire approach may be wrong.\n\nCheers,\n\n-dB\n--\nDavid Brady\njunit_list@...\nSometimes you gotta break a few eggs to make the chickens pay the \nprotection money.\n\n\n\n\n", 
    "subject": "Boxes Full of Mud (Untested Monolith, Eclipse, SWT, and Database questions)"
}