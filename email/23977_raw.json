{
    "topicId": 23967, 
    "postDate": "1346840368", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "Brett Delle Grazie &lt;bdellegrazie@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "ZrMboQTXjuJWa27sg_JShjgZ21ta8kucIxo4uPob57wUXhx5RXf3wwaxMjNECEzSWWsyISuUPWl87mAkWUiknekistS4bBkBKqEtXqSgzYk", 
    "nextInTime": 23978, 
    "userId": 79191679, 
    "prevInTime": 23976, 
    "prevInTopic": 23976, 
    "headers": {
        "inReplyToHeader": "PENBTHJ3LVB3d0FHczZfX053WEdma2lHXy1McD1RRFlwZXlDaS1iPXJLcTlYLXQzZFZxUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQ0xEMD02N1lUMTFxOTUxdmlhWHNtQkorTExzcm89M01TMXUyZGI3cW9ya3hIK1JNUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4JPENBTHJ3LVB3d0FHczZfX053WEdma2lHXy1McD1RRFlwZXlDaS1iPXJLcTlYLXQzZFZxUUBtYWlsLmdtYWlsLmNvbT4="
    }, 
    "authorName": "Brett Delle Grazie", 
    "numMessagesInTopic": 12, 
    "msgSnippet": "Hi David, ... Thanks David, I ll look into doing that. ... -- Best Regards, Brett Delle Grazie", 
    "contentTrasformed": false, 
    "msgId": 23977, 
    "nextInTopic": 23978, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;brett.dellegrazie@...&gt;\r\nReceived: (qmail 50315 invoked by uid 7800); 5 Sep 2012 11:26:54 -0000\r\nX-Sender: brett.dellegrazie@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 66294 invoked from network); 5 Sep 2012 10:19:29 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m10.grp.sp2.yahoo.com with QMQP; 5 Sep 2012 10:19:29 -0000\r\nX-Received: from unknown (HELO mail-iy0-f171.google.com) (209.85.210.171)\n  by mta5.grp.sp2.yahoo.com with SMTP; 5 Sep 2012 10:19:29 -0000\r\nX-Received: by iabz25 with SMTP id z25so1072534iab.16\n        for &lt;junit@yahoogroups.com&gt;; Wed, 05 Sep 2012 03:19:28 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.0.13 with SMTP id 13mr16621984oba.55.1346840368603; Wed,\n 05 Sep 2012 03:19:28 -0700 (PDT)\r\nX-Received: by 10.76.69.168 with HTTP; Wed, 5 Sep 2012 03:19:28 -0700 (PDT)\r\nIn-Reply-To: &lt;CALrw-PwwAGs6__NwXGfkiG_-Lp=QDYpeyCi-b=rKq9X-t3dVqQ@...&gt;\r\nReferences: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\n\t&lt;CALrw-PwwAGs6__NwXGfkiG_-Lp=QDYpeyCi-b=rKq9X-t3dVqQ@...&gt;\r\nDate: Wed, 5 Sep 2012 11:19:28 +0100\r\nMessage-ID: &lt;CACLD0=67YT11q951viaXsmBJ+LLsro=3MS1u2db7qorkxH+RMQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nX-eGroups-From: Brett Delle Grazie &lt;brett.dellegrazie@...&gt;\r\nFrom: Brett Delle Grazie &lt;bdellegrazie@...&gt;\r\nReply-To: bdellegrazie@...\r\nSubject: Re: [junit] Tests starting before Logback initialisation complete\n when run in parallel\r\nX-Yahoo-Group-Post: member; u=79191679\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 5 Sep 2012 11:26:54 -0000\r\n\r\nHi David,\n\nOn 4 September 2012 19:24, David Saff &lt;saff@...&gt; wrote:\n&gt; Brett,\n&gt;\n&gt; There&#39;s currently not a good single way to do what you want.  There&#39;s\n&gt; current conversation on the github repo about how to do it in a future\n&gt; version, but there&#39;s no great first-step answer.\n&gt;\n&gt; One possibility is to add a @BeforeClass or @ClassRule to each of your\n&gt; tests that would, in a thread-safe way, check if your initialization has\n&gt; already been performed, and if not, do it.  I know that&#39;s not a great\n&gt; solution.\n\nThanks David, I&#39;ll look into doing that.\n\n&gt;\n&gt;    David Saff\n&gt;\n&gt;\n&gt; On Mon, Sep 3, 2012 at 3:51 PM, Brett Delle Grazie &lt;bdellegrazie@...&gt;wrote:\n&gt;\n&gt;&gt; **\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Hi,\n&gt;&gt;\n&gt;&gt; I&#39;m using JUnit 4.10 with Maven 3.0.4, Surefire 2.12.3, JDK 1.6.0_35\n&gt;&gt; on Windows 7\n&gt;&gt; Surefire is configured with parallel=methods and threadCount=10\n&gt;&gt; For logging, I&#39;m using SLF4J to Logback, initialised by default method\n&gt;&gt; (i.e. configuration file logback-test.xml is on the test classpath)\n&gt;&gt;\n&gt;&gt; I have an order of initialisation problem in that:\n&gt;&gt; (1) Some unit tests test classes that use commons-logging (and logback\n&gt;&gt; via jcl-slf4j) but are ending up with\n&gt;&gt; Null loggers.\n&gt;&gt; (2) jcl-slf4j is not initialised _until_ those classes are called.\n&gt;&gt;\n&gt;&gt; If I disable parallelism the code works correctly, implying an order\n&gt;&gt; of initialisation issue.\n&gt;&gt;\n&gt;&gt; According to the most recent FAQ on Junit.org (Section 5, #3) I could\n&gt;&gt; use @BeforeClass and @AfterClass at the class\n&gt;&gt; level but I&#39;m talking about at the global level, something that needs\n&gt;&gt; to be executed even if only a single test is run.\n&gt;&gt;\n&gt;&gt; What is the correct method to add global, one-time, setup / tear-down\n&gt;&gt; hooks? In this case they would need to execute and\n&gt;&gt; complete (i.e. blocking) before any parallel tests are run.\n&gt;&gt; Is it simplest to override the Runner and initialise the logging in code\n&gt;&gt; there?\n&gt;&gt;\n&gt;&gt; Thanks,\n&gt;&gt;\n&gt;&gt; Best Regards,\n&gt;&gt;\n&gt;&gt; Brett\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n\n\n-- \nBest Regards,\n\nBrett Delle Grazie\n\n", 
    "subject": "Re: [junit] Tests starting before Logback initialisation complete when run in parallel"
}