{
    "numMessagesInTopic": 125, 
    "nextInTime": 14615, 
    "senderId": "78UpidrqgKoGailZdR2SUYto1e28w5akIvu44xz1oFsea4wTqILE5virtcHxw87m7U9YT9FlLXu2yQNWqGdrObsoHT8CZIfLM8UqQa1rlVZf-N4", 
    "systemMessage": true, 
    "subject": "Re: How to test private methods in a class.", 
    "from": "&quot;Jim Cakalic&quot; &lt;james.p.cakalic@...&gt;", 
    "authorName": "Jim Cakalic", 
    "msgSnippet": "... Hmm. I assumed -- perhaps with the well-known and predictable result -- that the original question arose from a testing philosophy that was ", 
    "msgId": 14614, 
    "rawEmail": "Return-Path: &lt;james.p.cakalic@...&gt;\r\nReceived: (qmail 67903 invoked from network); 2 Sep 2005 14:44:34 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m24.grp.scd.yahoo.com with QMQP; 2 Sep 2005 14:44:34 -0000\r\nReceived: from unknown (HELO n3.bulk.dcn.yahoo.com) (216.155.201.68)\n  by mta1.grp.scd.yahoo.com with SMTP; 2 Sep 2005 14:44:33 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [216.155.201.65] by n3.bulk.dcn.yahoo.com with NNFMP; 02 Sep 2005 14:44:32 -0000\r\nReceived: from [66.218.69.1] by mailer2.bulk.dcn.yahoo.com with NNFMP; 02 Sep 2005 14:44:32 -0000\r\nReceived: from [66.218.66.81] by mailer1.bulk.scd.yahoo.com with NNFMP; 02 Sep 2005 14:44:32 -0000\r\nX-Sender: james.p.cakalic@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 79588 invoked from network); 2 Sep 2005 13:58:38 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m26.grp.scd.yahoo.com with QMQP; 2 Sep 2005 13:58:38 -0000\r\nReceived: from unknown (HELO n7a.bulk.scd.yahoo.com) (66.94.237.41)\n  by mta2.grp.scd.yahoo.com with SMTP; 2 Sep 2005 13:58:38 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.4] by n7.bulk.scd.yahoo.com with NNFMP; 02 Sep 2005 13:58:22 -0000\r\nReceived: from [66.218.66.92] by mailer4.bulk.scd.yahoo.com with NNFMP; 02 Sep 2005 13:58:22 -0000\r\nDate: Fri, 02 Sep 2005 13:58:22 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;df9lpu+6doh@...&gt;\r\nIn-Reply-To: &lt;002301c5af8b$7f25dd30$7064a8c0@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 2786\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Jim Cakalic&quot; &lt;james.p.cakalic@...&gt;\r\nSubject: Re: How to test private methods in a class.\r\nX-Yahoo-Group-Post: member; u=226509834; y=b7d_qioO9-yWbR9zrsXUorApbIRa-NpOSQv5Jh7itunnkE_rmKQ\r\nX-Yahoo-Profile: jim_cakalic\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via web; 02 Sep 2005 14:44:30 -0000\r\n\r\nIlja Preuss wrote:\n&gt; &gt; I also agree that it would be wrong to haphazardly\n&gt; &gt; create a new class and move a method there /just/ \n&gt; &gt; so that the method could be public for testing.\n&gt; \n&gt; It&#39;s hard to disagree with that. As far as I know, noone \n&gt; proposed to do anything &quot;haphazardly&quot;.\n&gt; \n&gt; Again, what I would propose is to meditate deeply about \n&gt; the design, in the hope to find a better one where the method\n&gt; is public.\n&gt; \n&gt; A private method that is complex enough to need explicite\n&gt; testing *is* a hint that the design can be improved.\n&gt; \n\nHmm. I &quot;assumed&quot; -- perhaps with the well-known and predictable result\n-- that the original question arose from a testing philosophy that was\nmethod-oriented as opposed to design-intention-oriented. In other\nwords, the question arises because one&#39;s mental orientation is towards\nwriting tests for methods. Upon comparing the list of all methods on a\nclass and the test methods for the class, we find that there are\nnon-public methods that do not have a corresponding test. (It usually\neasiy to make this comparison with method-oriented tests because my\ntest method names are typically a concatenation of &quot;test&quot; and the\nclass&#39;s method name.) So, to write a test for the method, I make it\npublic. Voila! Testable! I&#39;d tend to call that haphazard because IMO\nit is not done with any particular concern about the design\nramifications of that decision. \n\nYes, yes, I know, legacy code. Different concern. Not what I thought\nthe question was about. Please don&#39;t blast me even though I probably\ndeserve it.\n\nAs for a private method being complex enough to need explicit testing,\nI&#39;ll return to my original platform -- private methods should only\nexist when they occur as part of the normal red/green/refactor cycle.\nI wouldn&#39;t normally write private methods in the red or green phases.\nI&#39;d likely create them as part of refactoring to eliminate code smells\nlike duplicated code, long method, and switch statements. I would\nextract methods to give short bits of code intention-revealing names.\nThe point of all this refactoring and private-method-begetting is to\nchange the class &quot;in such a way that it does not alter the external\nbehavior of the code yet improves its internal structure.&quot; -- Fowler,\n/Refactoring/. Since my tests ought to be written to verify the\nexternally visible behavior, and all I&#39;ve done is change the structure\nin a way that does not alter that behavior, then it shouldn&#39;t matter\n/how/ complex the private method is. It is already tested. At least as\nlong as I haven&#39;t betrayed myself and implemented new functionality at\nthe same time :-o\n\nI agree with &quot;meditate deeply about the design.&quot; I can&#39;t agree at this\npoint that what I should be meditating on is how to find a better way\nto make the method public.\n\nRegards,\nJim\n\n\n\n\n\n\n", 
    "profile": "jim_cakalic", 
    "topicId": 14490, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 226509834, 
    "prevInTime": 14613, 
    "contentTrasformed": false, 
    "postDate": "1125669502", 
    "canDelete": false, 
    "nextInTopic": 14615, 
    "prevInTopic": 14612, 
    "headers": {
        "inReplyToHeader": "PDAwMjMwMWM1YWY4YiQ3ZjI1ZGQzMCQ3MDY0YThjMEBkaXN5Lm5ldD4=", 
        "messageIdInHeader": "PGRmOWxwdSs2ZG9oQGVHcm91cHMuY29tPg=="
    }
}