{
    "numMessagesInTopic": 7, 
    "nextInTime": 22446, 
    "senderId": "j2_KjPreppbteQtC34cCXhtjizFT4t2xR0zv2so1MNtKFzAdsJARionoAbm_W9UzePosoRnjFSq0BXf8ZMS6-zEQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Cannot use @Rule in Scala", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Sorry, just back from vacation. I assume then that some public accessor method gets generated for the field?  Is there any way to have the annotation attach to", 
    "msgId": 22445, 
    "profile": "dsaff", 
    "topicId": 22392, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-328904955\">Sorry, just back from vacation.<br/>\n<br/>\nI assume then that some public accessor method gets generated for the<br/>\nfield?  Is there any way to have the annotation attach to the Java<br/>\nmethod rather than the field?<br/>\n<br/>\nJust brainstorming how to make this work.  Thanks.<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Thu, Feb 11, 2010 at 1:57 PM, Barry Kaplan &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:groups1@...\">groups1@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; Running the following test<br/>\n&gt;<br/>\n&gt;    class MongoUserDetailsManagerTest {<br/>\n&gt;      @Rule val mongo = new MongoResource(&quot;test_insight&quot;)<br/>\n&gt;      ...<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt; Results in<br/>\n&gt;<br/>\n&gt;    java.lang.Exception: Field mongo must be public<br/>\n&gt;        at<br/>\n&gt; org.junit.runners.BlockJUnit4ClassRunner.validateRuleField(BlockJUnit4ClassRunner.java:184)<br/>\n&gt;<br/>\n&gt; This is because the bytecode for scala public vars (public is the default<br/>\n&gt; scope scala) are not public.<br/>\n&gt;<br/>\n&gt; To be able to use @Rule in scala I had to hack BlockJUnit4ClassRunner with:<br/>\n&gt;<br/>\n&gt;    private void validateRuleField(Field field, List&lt;Throwable&gt; errors) {<br/>\n&gt;        if (!MethodRule.class.isAssignableFrom(field.getType()))<br/>\n&gt;            errors.add(new Exception(&quot;Field &quot; + field.getName()<br/>\n&gt;                      + &quot; must implement MethodRule&quot;));<br/>\n&gt;        //TP_HACK To allow for scala val&#39;s<br/>\n&gt;        field.setAccessible(true);<br/>\n&gt;        // if (!Modifier.isPublic(field.getModifiers()))<br/>\n&gt;        // errors.add(new Exception(&quot;Field &quot; + field.getName()<br/>\n&gt;        //           + &quot; must be public&quot;));<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt; Might it be considered to allow for non-public fields as some kind of JUnit<br/>\n&gt; option?<br/>\n&gt;<br/>\n&gt; -barry<br/>\n&gt; --<br/>\n&gt; View this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://old.nabble.com/Cannot-use-%40Rule-in-Scala-tp27552231p27552231.html\">http://old.nabble.com/Cannot-use-%40Rule-in-Scala-tp27552231p27552231.html</a><br/>\n&gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22444, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1266511096", 
    "canDelete": false, 
    "nextInTopic": 22450, 
    "prevInTopic": 22392, 
    "headers": {
        "inReplyToHeader": "PDI3NTUyMjMxLnBvc3RAdGFsay5uYWJibGUuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMjE4MDgzOGcxN2Y0ZDFjNm41ZDVkZTA0MjhiNzljOGZAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDI3NTUyMjMxLnBvc3RAdGFsay5uYWJibGUuY29tPg=="
    }
}