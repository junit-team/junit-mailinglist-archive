{
    "numMessagesInTopic": 5, 
    "nextInTime": 19769, 
    "senderId": "g1cIeYN4wy6Gq5Y0Gy7t1XoT4y2ynq5sz1at5XH7OTIuXxr3HXhrBMgqAwVHaohB7IPVpyDnwoLLDNfUcW0c3XFyWKqfsSi7wIoZXikCOksDV6pdoyU", 
    "systemMessage": true, 
    "subject": "Re: Junit4 new features ?", 
    "from": "&quot;Roger Chen @ RevZoom&quot; &lt;coderobochen@...&gt;", 
    "authorName": "Roger Chen @ RevZoom", 
    "msgSnippet": "Hi David - I would really appreciate any comments from the Junit dev team to my response below. Thanks ... them. ... through a", 
    "msgId": 19768, 
    "rawEmail": "Return-Path: &lt;coderobochen@...&gt;\r\nReceived: (qmail 25797 invoked from network); 21 Aug 2007 06:43:22 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m52.grp.scd.yahoo.com with QMQP; 21 Aug 2007 06:43:22 -0000\r\nReceived: from unknown (HELO n33b.bullet.sp1.yahoo.com) (209.131.38.215)\n  by mta8.grp.scd.yahoo.com with SMTP; 21 Aug 2007 06:43:22 -0000\r\nReceived: from [216.252.122.218] by n33.bullet.sp1.yahoo.com with NNFMP; 21 Aug 2007 06:39:30 -0000\r\nReceived: from [66.218.69.3] by t3.bullet.sp1.yahoo.com with NNFMP; 21 Aug 2007 06:39:30 -0000\r\nReceived: from [66.218.66.76] by t3.bullet.scd.yahoo.com with NNFMP; 21 Aug 2007 06:39:30 -0000\r\nX-Sender: coderobochen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 42411 invoked from network); 20 Aug 2007 17:12:00 -0000\r\nReceived: from unknown (66.218.66.71)\n  by m47.grp.scd.yahoo.com with QMQP; 20 Aug 2007 17:12:00 -0000\r\nReceived: from unknown (HELO n24a.bullet.sp1.yahoo.com) (209.131.38.234)\n  by mta13.grp.scd.yahoo.com with SMTP; 20 Aug 2007 17:12:00 -0000\r\nReceived: from [216.252.122.218] by n24.bullet.sp1.yahoo.com with NNFMP; 20 Aug 2007 17:08:31 -0000\r\nReceived: from [66.218.69.3] by t3.bullet.sp1.yahoo.com with NNFMP; 20 Aug 2007 17:08:31 -0000\r\nReceived: from [66.218.66.89] by t3.bullet.scd.yahoo.com with NNFMP; 20 Aug 2007 17:08:31 -0000\r\nDate: Mon, 20 Aug 2007 17:08:29 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fachqe+eb2i@...&gt;\r\nIn-Reply-To: &lt;fa55ct+dpkr@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;Roger Chen @ RevZoom&quot; &lt;coderobochen@...&gt;\r\nSubject: Re: Junit4 new features ?\r\nX-Yahoo-Group-Post: member; u=320628451; y=RlPupPPd8Iup4nAUMXcRPXGDvFFt_XnzrCiI5u2ATEKyWNIL155F\r\nX-Yahoo-Profile: coderobochen\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 21 Aug 2007 06:39:28 -0000\r\n\r\nHi David -\n\nI would really appreciate any comments from the Junit dev team\n=\r\nto my response below.\n\nThanks\n\n--- In junit@yahoogroups.com, &quot;Roger Chen @ =\r\nRevZoom&quot;\n&lt;coderobochen@...&gt; wrote:\n&gt;\n&gt; --- In junit@yahoogroups.com, &quot;David=\r\n Saff&quot; &lt;saff@&gt; wrote:\n&gt; &gt;\n&gt; &gt; Roger,\n&gt; &gt; \n&gt; &gt; Good questions.\n&gt; &gt; \n&gt; &gt; 1) I=\r\n would be interested in seeing the patch.  It strikes me as\n&gt; &gt; something t=\r\nhat could be done with a custom runner, without patching\n&gt; &gt; JUnit: have yo=\r\nu found that to be true?\n&gt; \n&gt; Me and another colleague at work looked at th=\r\ne Junit sources and felt\n&gt; we should do the failure recording in\n&gt; org.juni=\r\nt.runner.notification.RunNotifier#fireTestFailure() method.\n&gt; That would al=\r\nlow any runner to be able to get a list of failed\n&gt; testcases in an XML or =\r\na plain text file.\n&gt; \n&gt; To re-run the failed tests, we were envisioning a c=\r\nustom test runner\n&gt; and/or modification to the Ant Junit task (since we use=\r\n Ant heavily)\n&gt; that would take a flag to pick up the failed test XML/text =\r\nfile from \n&gt; a known location ($HOME/.junit/failed-tests.xml for e.g.) and =\r\nre-run\nthem.\n&gt; \n&gt;  \n&gt; &gt; \n&gt; &gt; 2) I&#39;ve heard of wanting to only instantiate a=\r\n test class once (you\n&gt; &gt; can do that in JUnit, see\n&gt; &gt; http://tech.groups.=\r\nyahoo.com/group/junit/message/19159).  Is that what\n&gt; &gt; you&#39;re looking for,=\r\n or is there another advantage in having non-static\n&gt; &gt; @BeforeClass, etc?\n=\r\n&gt; &gt; \n&gt; \n&gt; Yes, consider the following usage pattern we see in our testing:\n=\r\n&gt; \n&gt;   @BeforeClass(\n&gt;   public void setup() throws IOException {\n&gt; \n&gt;     =\r\nString cname =3D getClass().getPackage().getName();\n&gt;     String rd =3D cna=\r\nme.replace(&#39;.&#39;, &#39;/&#39;);\n&gt;     File f =3D MyEnv.getRootDir();\n&gt; \n&gt;     \n&gt;     =\r\nFile newRd =3D new File(f, &quot;/tests/unit/src/java/&quot;+rd);\n&gt;     MyEnv.setRoot=\r\nDir(newRd.getCanonicalPath());\n&gt;     MyEnv.setLogPropsFile(newRd.getCanonic=\r\nalPath()+&quot;/log.properties&quot;);\n&gt;     setupModules();\n&gt;   }\n&gt; \n&gt; This works ni=\r\ncely with TestNG as the beforeClass non-static method can\n&gt; be used to dete=\r\nrmine the current testclass name. In the above snippet\n&gt; the class name is =\r\nuse to construct the path to the log.properties\n&gt; (every test class has its=\r\n own properties file)\n&gt; \n&gt; With Juni4 we are forced to use @Before to get t=\r\nhe non-static behavior.\n&gt; \n&gt; &gt; 3) As I understand it, dependsOnMethods allo=\r\nws one test method to be\n&gt; &gt; skipped if another one fails.  I had a version=\r\n of this in my own JUnit\n&gt; &gt; sandbox for a while, and found it not as usefu=\r\nl as I&#39;d liked.  If used\n&gt; &gt; to truly say &quot;this test, valid on its own, wil=\r\nl fail if this other\n&gt; &gt; test, valid on its own, fails&quot;, I found that the d=\r\nependencies became\n&gt; &gt; stale, and tests ended up skipped that I wanted to r=\r\nun.  However,\n&gt; &gt; there were two situations in which it was useful:\n&gt; &gt; \n&gt; =\r\n&gt; a) In some other cases, I found I was using the method dependency as a\n&gt; =\r\n&gt; way of specifying preconditions for a test case.  This meant that I\n&gt; &gt; n=\r\needed a test that stated, for example, whether the test database was\n&gt; &gt; up=\r\n, or whether I was connected to the Internet, or whether I felt like\n&gt; &gt; cl=\r\nicking on some buttons to help test the UI.  In JUnit 4.4, these\n&gt; &gt; kinds =\r\nof dependencies are now marked by assumptions:\n&gt; &gt; \n&gt; &gt; @Test public void p=\r\narseGoogleCorrectly() {\n&gt; &gt;    assumeTrue(internetConnected());\n&gt; &gt;   //...=\r\n\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; I might decide that if the internet is not connected, my te=\r\nsts should\n&gt; &gt; fail, in which case I can test the condition directly:\n&gt; &gt; \n=\r\n&gt; &gt; @Test public void internetShouldBeConnected() {\n&gt; &gt;   assertTrue(intern=\r\netConnected());\n&gt; &gt; }\n&gt; \n&gt; \n&gt; Certainly the pre-conditions will help. \n&gt; \n&gt;=\r\n &gt; \n&gt; &gt; b) Dependencies between tests can be useful in initial TDD\n&gt; &gt; deve=\r\nlopment: I write a test A, and find out that I&#39;ve bitten off more\n&gt; &gt; than =\r\nI can chew.  I write a test B for a smaller chunk of\n&gt; &gt; functionality, and=\r\n make A dependent on B, so that I can ignore A until\n&gt; &gt; B passes.  However=\r\n, I found that these dependencies cluttered the\n&gt; &gt; code, and weren&#39;t much =\r\nhelp once initial development was done.  I\n&gt; &gt; actually made the dependency=\r\n method deprecated, so that I remembered\n&gt; &gt; to remove the dependencies onc=\r\ne everything was working.\n&gt; &gt; \n&gt; &gt; My guess is that using assumptions will =\r\nhandle most reasons that\n&gt; &gt; people use dependsOnMethod.  If you do find th=\r\ne temporary dependency\n&gt; &gt; scaffolding from 3b interesting, let&#39;s talk more=\r\n about it.\n&gt; &gt; \n&gt; \n&gt; The reason I like the dependency model is basically so=\r\nftware layering.\n&gt;   If a module or subsystem is failing unit tests I want =\r\nto exclude\n&gt; subsystems or modules that are consumer of the &#39;bad&#39; modules. =\r\nPrior to\n&gt;  Junit4 assumptions we were using the pattern of invoking test m=\r\nethod\n&gt; B (if it was a prerequisite for A) again in the test method A:\n&gt; \n&gt;=\r\n  void testMethodA() { ..}\n&gt;  void testMethod B() {\n&gt;    testMethodA();\n&gt;  =\r\n  .. now the code for N..\n&gt;   }\n&gt; \n&gt; For some of the methods that have a no=\r\nn-trivial execution time it\n&gt; would be great to:\n&gt; \n&gt; 1) Avoid re-running t=\r\nhem as part of assumptions check again and again\n&gt; 2) Skip the methods that=\r\n would fail for sure because of dependent\n&gt; methods failing\n&gt; \n&gt; \n&gt; An exam=\r\nple from our project - we have a TCP networking module that\n&gt; deals with me=\r\nssage transfer and RPC. It depends on [un]marshaling\n&gt; module that does the=\r\n encoding/decoding of various message types. if\n&gt; the marshalling logic is =\r\nnot working, I would want to avoid running\n&gt; the TCP networking tests and s=\r\nave time and effort debugging the ones\n&gt; that truly failed. \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; =\r\n\n&gt; &gt; Thanks,\n&gt; &gt; \n&gt; &gt;    David Saff\n&gt; &gt; \n&gt; &gt; On 8/16/07, Roger Chen @ RevZo=\r\nom &lt;coderobochen@&gt; wrote:\n&gt; &gt; &gt; Hi -\n&gt; &gt; &gt;\n&gt; &gt; &gt; Is there any plan in the n=\r\near future to support some TestNG\n&gt; features like:\n&gt; &gt; &gt;\n&gt; &gt; &gt; 1) Ability t=\r\no re-run only the failed tests by storing the list of\n&gt; &gt; &gt; failed tests pe=\r\nrsistently in an XML file etc. I have thought\nthrough a\n&gt; &gt; &gt; patch to Juni=\r\nt to address this. Would there be any interest in using\n&gt; &gt; &gt; this patch?\n&gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; 2) Allow non-static Before|After Class methods?\n&gt; &gt; &gt;\n&gt; &gt; &gt; 3) S=\r\nupport dependsOnMethods annotation like TestNG ?\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; =\r\n&gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "coderobochen", 
    "topicId": 19748, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 320628451, 
    "prevInTime": 19767, 
    "contentTrasformed": false, 
    "postDate": "1187629709", 
    "canDelete": false, 
    "nextInTopic": 19774, 
    "prevInTopic": 19753, 
    "headers": {
        "inReplyToHeader": "PGZhNTVjdCtkcGtyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGZhY2hxZStlYjJpQGVHcm91cHMuY29tPg=="
    }
}