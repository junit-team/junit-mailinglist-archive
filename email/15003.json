{
    "numMessagesInTopic": 9, 
    "nextInTime": 15004, 
    "senderId": "Gme8JFehyf4HknsXSN0PyNDBNW7IQWbEzQ_GbEUN_NTkXFRJxF9W3xL3CEWOtA8ApsEWoqjP6N1Ho2rwyR-6o8YJsLAVaik5", 
    "systemMessage": false, 
    "subject": "RE: [junit] junit4: Exceptions in TestListener", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "David, I think that the framework should continue to work in as many situations as possible. If a listener throws an exception, the framework should deal with ", 
    "msgId": 15003, 
    "profile": "kentlbeck", 
    "topicId": 14967, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-1312054255\">David,<br/>\n<br/>\nI think that the framework should continue to work in as many situations as<br/>\npossible. If a listener throws an exception, the framework should deal with<br/>\nit. Contributing to Eclipse calls this the Safe Platform Rule: &quot;As the<br/>\nprovider of an extension point, you must protect yourself against<br/>\nmisbehavior on the part of extenders.&quot; Here is the test I came up with that<br/>\nI think should pass (and doesn&#39;t currently):<br/>\n<br/>\n\tint count;<br/>\n\t<br/>\n\tclass FailingListener implements TestListener {<br/>\n\t\tpublic void testRunStarted(int testCount) {<br/>\n\t\t\tcount++;<br/>\n\t\t\tthrow new Error();<br/>\n\t\t}<br/>\n<br/>\n\t\tpublic void testRunFinished(Runner runner) {<br/>\n\t\t}<br/>\n<br/>\n\t\tpublic void testStarted(Object test, String name) {<br/>\n\t\t}<br/>\n<br/>\n\t\tpublic void testFinished(Object test, String name) {<br/>\n\t\t}<br/>\n<br/>\n\t\tpublic void testFailure(Failure failure) {<br/>\n\t\t}<br/>\n<br/>\n\t\tpublic void testIgnored(Method method) {<br/>\n\t\t}<br/>\n\t}<br/>\n\t<br/>\n\tpublic static class OneTest {<br/>\n\t\t@Test public void nothing() {}<br/>\n\t}<br/>\n\t<br/>\n\t@Test public void failingListener() {<br/>\n\t\tcount= 0;<br/>\n\t\tRunner runner= new Runner();<br/>\n\t\trunner.addListener(new FailingListener());<br/>\n\t\trunner.addListener(new FailingListener());<br/>\n\t\trunner.run(OneTest.class);<br/>\n\t\tassertEquals(2, count);<br/>\n\t}<br/>\n\t<br/>\n\t<br/>\n\tpublic static junit.framework.Test suite() {<br/>\n\t\treturn new JUnit4TestAdapter(TestListenerTest.class);<br/>\n\t}<br/>\n<br/>\nI am working on an implementation. Alternatively, should the count be 1?<br/>\n<br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; -----Original Message-----<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On <br/>\n&gt; Behalf Of David Saff<br/>\n&gt; Sent: Tuesday, September 27, 2005 12:48 PM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] junit4: Exceptions in TestListener<br/>\n&gt; <br/>\n&gt; Elliotte,<br/>\n&gt; <br/>\n&gt; What would you expect the test runner to do if it caught one of these <br/>\n&gt; exceptions?  In general, I would expect that listeners should not <br/>\n&gt; interrupt the test execution: if they find themselves unable <br/>\n&gt; to do what <br/>\n&gt; they want, they should quietly deal with it on their own.<br/>\n&gt; <br/>\n&gt;     David Saff<br/>\n&gt; <br/>\n&gt; Elliotte Rusty Harold wrote:<br/>\n&gt; <br/>\n&gt; &gt; I&#39;m trying to implement a custom TestListener in JUnit 4. <br/>\n&gt; These methods<br/>\n&gt; &gt; do I/O. They tend to look like this:<br/>\n&gt; &gt;<br/>\n&gt; &gt;      public void testRunStarted(int testCount) {<br/>\n&gt; &gt;          try {<br/>\n&gt; &gt;              out.write(&quot;&lt;?xml version=&#39;1.0&#39; <br/>\n&gt; encoding=&#39;UTF-8&#39;?&gt;&#92;r&#92;n&quot;);<br/>\n&gt; &gt;          }<br/>\n&gt; &gt;          catch (IOException ex) {<br/>\n&gt; &gt;              throw new RuntimeException(ex);<br/>\n&gt; &gt;          }<br/>\n&gt; &gt;      }<br/>\n&gt; &gt;<br/>\n&gt; &gt; Should the TestListener interfaces be declared to throw Exception or<br/>\n&gt; &gt; some kind of JUnitException so one doesn&#39;t have to wrap <br/>\n&gt; everything in a<br/>\n&gt; &gt; RuntimeException?<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; -- <br/>\n&gt; &gt; Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\n&gt; &gt; XML in a Nutshell 3rd Edition Just Published!<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n&gt; &gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/</a><br/>\n </span></blockquote>ref=nosim<br/>\n<blockquote><span title=\"qreply\"> &gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; --------------------------------------------------------------<br/>\n&gt; ----------<br/>\n&gt; &gt; YAHOO! GROUPS LINKS<br/>\n&gt; &gt;<br/>\n&gt; &gt;     *  Visit your group &quot;junit <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt; &gt;       on the web.<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt; &gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt; &gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; --------------------------------------------------------------<br/>\n&gt; ----------<br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ------------------------ Yahoo! Groups Sponsor <br/>\n&gt; --------------------~--&gt; <br/>\n&gt; Fair play? Video games influencing politics. Click and talk back!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/T8sf5C/tzNLAA/TtwFAA/5cFolB/TM\">http://us.click.yahoo.com/T8sf5C/tzNLAA/TtwFAA/5cFolB/TM</a><br/>\n&gt; --------------------------------------------------------------<br/>\n&gt; ------~-&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15002, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1127963257", 
    "canDelete": false, 
    "nextInTopic": 15010, 
    "prevInTopic": 14994, 
    "headers": {
        "inReplyToHeader": "PDQzMzlBMjAxLjcwMDA0MDhAbWl0LmVkdT4=", 
        "messageIdInHeader": "PEUxRUtvbHAtMDAwNnZjLTY3QHNtdHBhdXRoMDgubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}