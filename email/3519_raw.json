{
    "numMessagesInTopic": 14, 
    "nextInTime": 3520, 
    "senderId": "BXN84KYYbEMDf2vm7FYPHiWl3ov_FSH7-E1-dkS9OkBvns6Ymt--7dBku5irb5s7a9DGcSNs4ZCW0uaZZ_v9Gfx76Dy_gXne4g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Static class behavior", 
    "from": "&quot;Thomas SMETS&quot; &lt;tsmets@...&gt;", 
    "authorName": "Thomas SMETS", 
    "msgSnippet": "Nope Bwana I m not gonna make a fool of myself in public that way... ... I ve taken the day to rewrite my code & made the constructor definitively public. the", 
    "msgId": 3519, 
    "rawEmail": "Return-Path: &lt;tsmets@...&gt;\r\nX-Sender: tsmets@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_2); 11 Dec 2001 00:55:11 -0000\r\nReceived: (qmail 6231 invoked from network); 11 Dec 2001 00:55:10 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m11.grp.snv.yahoo.com with QMQP; 11 Dec 2001 00:55:10 -0000\r\nReceived: from unknown (HELO mirapoint2.brutele.be) (212.68.193.7)\n  by mta2.grp.snv.yahoo.com with SMTP; 11 Dec 2001 00:55:09 -0000\r\nReceived: from plop (212.68.238.147.brutele.be [212.68.238.147])\n\tby mirapoint2.brutele.be (Mirapoint)\n\twith SMTP id APH16163;\n\tTue, 11 Dec 2001 01:55:06 +0100 (CET)\r\nMessage-ID: &lt;00c901c181de$8d0bd410$93ee44d4@plop&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;003b01c18101$84711b40$93ee44d4@plop&gt; &lt;3C13E8D0.67A2860@...&gt; &lt;00ee01c1816c$69074620$93ee44d4@plop&gt; &lt;3C15460A.5030409@...&gt;\r\nSubject: Re: [junit] Testing Static class behavior\r\nDate: Tue, 11 Dec 2001 01:34:14 +0100\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_00A0_01C181E3.F0E9AD90&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.00.2919.6700\r\nDisposition-Notification-To: &quot;Thomas SMETS&quot; &lt;tsmets@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700\r\nFrom: &quot;Thomas SMETS&quot; &lt;tsmets@...&gt;\r\nX-Yahoo-Group-Post: member; u=20361908\r\nX-Yahoo-Profile: smetsthomas\r\n\r\n\r\n------=_NextPart_000_00A0_01C181E3.F0E9AD90\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nNope Bwana\nI&#39;m not gonna make a fool of myself in public that way...\n:-))\nI=\r\n&#39;ve taken the day to rewrite my code \n& made the constructor definitively p=\r\nublic.\nthe plight in all these is the time I&#39;ve taken to \nwrite nice code b=\r\nut not nice enough...\n\nTx for the profitable day,\n\nThomas,\n\n\np.s. :\nI&#39;m sti=\r\nll wandering how to make the docs appropriate to have the people knowing th=\r\ney should try to talk to the factory rather that the class to have the comp=\r\nlete Thread safe behavior. Will start with @see ...\n\n\n  ----- Original Mess=\r\nage ----- \n  From: J. B. Rainsberger \n  To: junit@yahoogroups.com \n  Sent: =\r\nTuesday, December 11, 2001 12:32 AM\n  Subject: Re: [junit] Testing Static c=\r\nlass behavior\n\n\n  Thomas:\n\n  A simple solution: don&#39;t make this a singleton=\r\n. Open up the constructor \n  (make it public); it should probably just have=\r\n some dummy data. Maybe \n  even make a constructor that takes a Map of pre-=\r\npopulated database \n  objects, just for testing.\n\n  If your application nee=\r\nds only one DataServer, then let the application \n  create an instance and =\r\nhang onto it in a toolbox. Nobody else cares how \n  many instances of the D=\r\nataServer there are, because your application \n  will simply talk to the on=\r\ne in its toolbox.\n\n  If you have components that shouldn&#39;t be talking to th=\r\ne application \n  toolbox to get a Data object, then see if you can change t=\r\nhe design so \n  that the application hands Data objects to the components i=\r\nnstead. \n  Simply sit on the other side of the table and get a new view. Yo=\r\nu might \n  prefer the view from that side. :)\n\n  JBR.\n\n  PS: If you still t=\r\nhink this object should be a singleton, I want you to \n  prove to me in thi=\r\ns group that your singleton passes my criteria for \n  &quot;when it really is a =\r\nsingleton&quot;. :)\n\n  Thomas SMETS wrote:\n\n  &gt; hi Mike,\n  &gt;\n  &gt; Like often I ca=\r\nn only thank you.\n  &gt;\n  &gt; I dived into the article.\n  &gt;\n  &gt; Just a word on =\r\nthe usage I make of the Singelton Pattern.\n  &gt;\n  &gt; The Developper assigneme=\r\nnt I received is the one of the airlain \n  &gt; reservation ticket. The DataBa=\r\nse should serve multiple-clients.\n  &gt;\n  &gt; Without altering the source code =\r\nof the constructor provided, I added \n  &gt; the following factory :\n  &gt;\n  &gt;  =\r\n\n  &gt;\n  &gt; &lt;code&gt;\n  &gt;\n  &gt;   public static Data getDatabase(String aDBName)\n  =\r\n&gt;     throws IOException,\n  &gt;             DatabaseException\n  &gt;   {\n  &gt;    =\r\n // First find the absolute path of the file.\n  &gt;     File f =3D new File(a=\r\nDBName);\n  &gt;     aDBName =3D f.getAbsolutePath ();\n  &gt;     Data db =3D null=\r\n;\n  &gt;    \n  &gt;     // Check if we still have a reference to\n  &gt;     // the D=\r\nB in the HashpMap\n  &gt;     synchronized(DataBaseReferenced)\n  &gt;     {\n  &gt;   =\r\n    if (DataBaseReferenced.containsKey (aDBName))\n  &gt;       {\n  &gt;         d=\r\nb =3D (Data)DataBaseReferenced.get (aDBName);\n  &gt;         if (db !=3D null)=\r\n\n  &gt;           return db;\n  &gt;       }\n  &gt;      \n  &gt;       db =3D new Data(a=\r\nDBName);\n  &gt;       DataBaseReferenced.put (aDBName, db);     \n  &gt;     } // =\r\nEnd of synchronized element\n  &gt;    \n  &gt;     return db;\n  &gt;   }\n  &gt;\n  &gt; &lt;/co=\r\nde&gt;\n  &gt;\n  &gt;  \n  &gt;\n  &gt; where the Key (should be a primary key) is the file n=\r\name (absolute \n  &gt; path). The DataBaseReferenced is in fact a WeakHashMap w=\r\nith the Data \n  &gt; Object being stored as the value - Object.\n  &gt;\n  &gt;  \n  &gt;\n=\r\n  &gt; Any comment on the Pattern used, is most appreciated.\n  &gt;\n  &gt;  \n  &gt;\n  &gt;=\r\n Thomas,\n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  =\r\n&gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n =\r\n &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;  \n  &gt;\n  &gt;     ----- Original Message -----\n  &gt;\n =\r\n &gt;     From:Mike Clark &lt;mailto:mike@...&gt;\n  &gt;\n  &gt;     To: junit@ya=\r\nhoogroups.com &lt;mailto:junit@yahoogroups.com&gt;\n  &gt;\n  &gt;     Sent: Sunday, Dece=\r\nmber 09, 2001 11:42 PM\n  &gt;\n  &gt;     Subject: Re: [junit] Testing Static clas=\r\ns behavior\n  &gt;\n  &gt;\n  &gt;     Thomas SMETS wrote:\n  &gt;\n  &gt;     &gt; Hi,\n  &gt;     &gt; =\r\nI&#39;m currently testing a Class behavior onto which the\n  &gt;     &gt; Factory (ge=\r\ntInstance(param1, param2, ...)) is playing a crucial\n  &gt;     role.\n  &gt;     =\r\n&gt; That is the class has some sort of a Singelton pattern where\n  &gt;     exis=\r\nting\n  &gt;     &gt; reference for the singelton factory are used to determine if=\r\n a\n  &gt;     reference to\n  &gt;     &gt; a particula instance already exists.\n  &gt; =\r\n    &gt;\n  &gt;     &gt; I therefore would need to regerister the class to have the =\r\nstatic\n  &gt;     &gt; variablebeing re-initialized. I there something in Java ?\n=\r\n  &gt;     &gt;\n  &gt;\n  &gt;     Hi Thomas,\n  &gt;\n  &gt;     Depending on the implementatio=\r\nn of the singleton you&#39;re attempting\n  &gt;     to test, it\n  &gt;     may be pos=\r\nsible to obtain a reference to its sole instance (or\n  &gt;     instances) and=\r\n\n  &gt;     assign it a null value.  If the implementation uses lazy\n  &gt;     i=\r\nnitialization, this\n  &gt;     may trigger reinitialization on the next invoca=\r\ntion of getInstance().\n  &gt;\n  &gt;     If you haven&#39;t already read J.B. Rainsbe=\r\nrger&#39;s article on the use and\n  &gt;     testability of singletons, I highly r=\r\necommend it:\n  &gt;\n  &gt;        \n  &gt;     http://www-106.ibm.com/developerworks/=\r\nwebservices/library/co-single.html\n  &gt;\n  &gt;\n  &gt;     In general, singletons a=\r\nre often overused and can be difficult to\n  &gt;     test, and\n  &gt;     J.B.&#39;s =\r\narticle offers some practical alternatives.\n  &gt;\n  &gt;     Regards,\n  &gt;\n  &gt;   =\r\n  Mike\n  &gt;\n  &gt;     --\n  &gt;     Mike Clark\n  &gt;     Clarkware Consulting, Inc.=\r\n\n  &gt;     http://www.clarkware.com\n  &gt;     720.851.2014\n  &gt;\n  &gt;\n  &gt;\n  &gt;\n  &gt; =\r\n    To unsubscribe from this group, send an email to:\n  &gt;     junit-unsubsc=\r\nribe@yahoogroups.com\n  &gt;\n  &gt;\n  &gt;     Your use of Yahoo! Groups is subject t=\r\no the Yahoo! Terms of\n  &gt;     Service &lt;http://docs.yahoo.com/info/terms/&gt; .=\r\n\n  &gt;\n  &gt;\n  &gt; Yahoo! Groups Sponsor\n  &gt; ADVERTISEMENT\n  &gt; &lt;http://rd.yahoo.c=\r\nom/M=3D178320.1681224.3270152.1261774/D=3Degroupweb/S=3D1705007181:HM/A=3D8=\r\n79171/R=3D0/*http://www.fastweb.com/ib/yahoo-57f&gt; \n  &gt;\n  &gt;\n  &gt;\n  &gt; To unsub=\r\nscribe from this group, send an email to:\n  &gt; junit-unsubscribe@yahoogroups=\r\n.com\n  &gt;\n  &gt;\n  &gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms o=\r\nf Service \n  &gt; &lt;http://docs.yahoo.com/info/terms/&gt; .\n\n\n\n        Yahoo! Grou=\r\nps Sponsor \n              ADVERTISEMENT\n             \n       \n       \n\n  To=\r\n unsubscribe from this group, send an email to:\n  junit-unsubscribe@yahoogr=\r\noups.com\n\n\n  Your use of Yahoo! Groups is subject to the Yahoo! Terms of Se=\r\nrvice. \n\n\r\n------=_NextPart_000_00A0_01C181E3.F0E9AD90\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META content=3D&quot;text/html; charset=3Diso-8859-1&quot; http-equiv=3DContent-Typ=\r\ne&gt;\n&lt;META content=3D&quot;MSHTML 5.00.2920.0&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE&gt;\n&lt;=\r\n/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier =\r\nNew&quot; size=3D2&gt;Nope Bwana&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Co=\r\nurier New&quot; size=3D2&gt;I&#39;m not gonna make a fool of \nmyself in public that way=\r\n...&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;:=\r\n-))&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;I=\r\n&#39;ve taken the day to rewrite \nmy code &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008=\r\n080 face=3D&quot;Courier New&quot; size=3D2&gt;&amp; made the constructor \ndefinitively =\r\npublic.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=\r\n=3D2&gt;the plight in all these is \nthe time I&#39;ve taken to &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;=\r\n&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;write nice code but not=\r\n nice \nenough...&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 =\r\nface=3D&quot;Courier New&quot; size=3D2&gt;Tx for the profitable \nday,&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV=\r\n&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;Thom=\r\nas,&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#00=\r\n8080 face=3D&quot;Courier New&quot; size=3D2&gt;p.s. :&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#=\r\n008080 face=3D&quot;Courier New&quot; size=3D2&gt;I&#39;m still wandering how to \nmake the d=\r\nocs appropriate to have the people knowing they should try to talk to \nthe =\r\nfactory rather that the class to have the complete Thread safe behavior. \nW=\r\nill start with @see ...&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;B=\r\nLOCKQUOTE \nstyle=3D&quot;BORDER-LEFT: #008080 2px solid; MARGIN-LEFT: 5px; MARGI=\r\nN-RIGHT: 0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px&quot;&gt;\n  &lt;DIV style=3D&quot;FONT:=\r\n 10pt arial&quot;&gt;----- Original Message ----- &lt;/DIV&gt;\n  &lt;DIV \n  style=3D&quot;BACKGRO=\r\nUND: #e4e4e4; FONT: 10pt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n  &lt;A href=\r\n=3D&quot;mailto:jbr@...&quot; title=3Djbr@...&gt;J. B. \n=\r\n  Rainsberger&lt;/A&gt; &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A \n =\r\n href=3D&quot;mailto:junit@yahoogroups.com&quot; \n  title=3Djunit@yahoogroups.com&gt;jun=\r\nit@yahoogroups.com&lt;/A&gt; &lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B=\r\n&gt; Tuesday, December 11, 2001 12:32 \n  AM&lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt a=\r\nrial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [junit] Testing Static class \n  behavior&lt;/DIV&gt;\n  =\r\n&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;TT&gt;Thomas:&lt;BR&gt;&lt;BR&gt;A simple solution: don&#39;t make this a \n  s=\r\ningleton. Open up the constructor &lt;BR&gt;(make it public); it should probably =\r\n\n  just have some dummy data. Maybe &lt;BR&gt;even make a constructor that takes =\r\na Map \n  of pre-populated database &lt;BR&gt;objects, just for testing.&lt;BR&gt;&lt;BR&gt;If=\r\n your \n  application needs only one DataServer, then let the application &lt;B=\r\nR&gt;create an \n  instance and hang onto it in a toolbox. Nobody else cares ho=\r\nw &lt;BR&gt;many \n  instances of the DataServer there are, because your applicati=\r\non &lt;BR&gt;will \n  simply talk to the one in its toolbox.&lt;BR&gt;&lt;BR&gt;If you have co=\r\nmponents that \n  shouldn&#39;t be talking to the application &lt;BR&gt;toolbox to get=\r\n a Data object, then \n  see if you can change the design so &lt;BR&gt;that the ap=\r\nplication hands Data \n  objects to the components instead. &lt;BR&gt;Simply sit o=\r\nn the other side of the \n  table and get a new view. You might &lt;BR&gt;prefer t=\r\nhe view from that side. \n  :)&lt;BR&gt;&lt;BR&gt;JBR.&lt;BR&gt;&lt;BR&gt;PS: If you still think thi=\r\ns object should be a \n  singleton, I want you to &lt;BR&gt;prove to me in this gr=\r\noup that your singleton \n  passes my criteria for &lt;BR&gt;&quot;when it really is a =\r\nsingleton&quot;. :)&lt;BR&gt;&lt;BR&gt;Thomas \n  SMETS wrote:&lt;BR&gt;&lt;BR&gt;&gt; hi Mike,&lt;BR&gt;&gt;&lt;B=\r\nR&gt;&gt; Like often I can only thank \n  you.&lt;BR&gt;&gt;&lt;BR&gt;&gt; I dived into the=\r\n article.&lt;BR&gt;&gt;&lt;BR&gt;&gt; Just a word on \n  the usage I make of the Singelt=\r\non Pattern.&lt;BR&gt;&gt;&lt;BR&gt;&gt; The Developper \n  assignement I received is the=\r\n one of the airlain &lt;BR&gt;&gt; reservation ticket. \n  The DataBase should ser=\r\nve multiple-clients.&lt;BR&gt;&gt;&lt;BR&gt;&gt; Without altering \n  the source code of=\r\n the constructor provided, I added &lt;BR&gt;&gt; the following \n  factory :&lt;BR&gt;&=\r\ngt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt; \n  &lt;code&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nb=\r\nsp; public static Data getDatabase(String \n  aDBName)&lt;BR&gt;&gt;&nbsp;&nbsp;&n=\r\nbsp;&nbsp; throws \n  IOException,&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=\r\np;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  DatabaseException&lt;BR&gt;&gt;&nbsp;&n=\r\nbsp; {&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; // \n  First find the absolute path o=\r\nf the file.&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; File \n  f =3D new File(aDBName)=\r\n;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; aDBName =3D \n  f.getAbsolutePath ();&lt;BR&gt;&=\r\ngt;&nbsp;&nbsp;&nbsp;&nbsp; Data db =3D \n  null;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp; =\r\n&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; // Check if \n  we still have a reference t=\r\no&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; // the DB in the \n  HashpMap&lt;BR&gt;&gt;&nbsp=\r\n;&nbsp;&nbsp;&nbsp; \n  synchronized(DataBaseReferenced)&lt;BR&gt;&gt;&nbsp;&nbsp;=\r\n&nbsp;&nbsp; \n  {&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if \n  (DataBa=\r\nseReferenced.containsKey \n  (aDBName))&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=\r\n;&nbsp; \n  {&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db =3D=\r\n \n  (Data)DataBaseReferenced.get \n  (aDBName);&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nb=\r\nsp;&nbsp;&nbsp;&nbsp;&nbsp; if (db !=3D \n  null)&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&=\r\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  return db;&lt;BR&gt;&gt;&nbsp;&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp; \n  }&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  &lt;BR&gt;=\r\n&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db =3D new \n  Data(aDBName);&lt;BR&gt;&g=\r\nt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n  DataBaseReferenced.put (aDBName, =\r\ndb);&nbsp;&nbsp;&nbsp;&nbsp; \n  &lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; } // End o=\r\nf synchronized \n  element&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp; &lt;BR&gt;&gt;&nbsp;&nbsp;&nb=\r\nsp;&nbsp; return \n  db;&lt;BR&gt;&gt;&nbsp;&nbsp; }&lt;BR&gt;&gt;&lt;BR&gt;&gt; &lt;/code&gt;=\r\n&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt; where the Key (should be a prima=\r\nry key) is the file name \n  (absolute &lt;BR&gt;&gt; path). The DataBaseReference=\r\nd is in fact a WeakHashMap with \n  the Data &lt;BR&gt;&gt; Object being stored as=\r\n the value - \n  Object.&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt; Any comment =\r\non the Pattern \n  used, is most appreciated.&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;=\r\n&lt;BR&gt;&gt; \n  Thomas,&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;B=\r\nR&gt;&gt;&nbsp; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&=\r\ngt;&nbsp; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;=\r\n&nbsp; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nb=\r\nsp; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;=\r\n \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;=\r\n&nbsp;&nbsp;&nbsp; ----- Original Message \n  -----&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nb=\r\nsp;&nbsp;&nbsp; From:Mike Clark \n  &lt;mailto:mike@...&gt;&lt;BR&gt;&gt=\r\n;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; To: \n  junit@yahoogroups.com \n  &lt;mailt=\r\no:junit@yahoogroups.com&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n  Sent=\r\n: Sunday, December 09, 2001 11:42 \n  PM&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&n=\r\nbsp; Subject: Re: [junit] Testing Static \n  class behavior&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;=\r\nBR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; Thomas SMETS \n  wrote:&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp=\r\n;&nbsp;&nbsp;&nbsp; &gt; \n  Hi,&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; &gt; I&#39;m cu=\r\nrrently testing a Class \n  behavior onto which the&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp=\r\n;&nbsp; &gt; Factory \n  (getInstance(param1, param2, ...)) is playing a \n  =\r\ncrucial&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; role.&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbs=\r\np; \n  &gt; That is the class has some sort of a Singelton pattern \n  where&lt;=\r\nBR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; existing&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n =\r\n &gt; reference for the singelton factory are used to determine if \n  a&lt;BR&gt;=\r\n&gt;&nbsp;&nbsp;&nbsp;&nbsp; reference to&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n=\r\n  &gt; a particula instance already exists.&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n \n  &gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; &gt; I therefore would need to reg=\r\nerister \n  the class to have the static&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; &gt=\r\n; \n  variablebeing re-initialized. I there something in Java \n  ?&lt;BR&gt;&gt;&n=\r\nbsp;&nbsp;&nbsp;&nbsp; &gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n  Hi T=\r\nhomas,&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; Depending on the \n  implemen=\r\ntation of the singleton you&#39;re \n  attempting&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp=\r\n; to test, \n  it&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; may be possible to obtain =\r\na reference to \n  its sole instance (or&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; ins=\r\ntances) \n  and&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; assign it a null value.&nbsp=\r\n; If the \n  implementation uses lazy&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; initia=\r\nlization, \n  this&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; may trigger reinitializat=\r\nion on the next \n  invocation of getInstance().&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;=\r\n&nbsp;&nbsp; If you \n  haven&#39;t already read J.B. Rainsberger&#39;s article on t=\r\nhe use \n  and&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; testability of singletons, I =\r\nhighly \n  recommend it:&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=\r\n&nbsp; \n  &lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;A \n  href=3D&quot;http://www-106.ibm=\r\n.com/developerworks/webservices/library/co-single.html&quot;&gt;http://www-106.ibm.=\r\ncom/developerworks/webservices/library/co-single.html&lt;/A&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;B=\r\nR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n  In general, singletons are often overused=\r\n and can be difficult \n  to&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; test, and&lt;BR&gt;&g=\r\nt;&nbsp;&nbsp;&nbsp;&nbsp; \n  J.B.&#39;s article offers some practical \n  alter=\r\nnatives.&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n  Regards,&lt;BR&gt;&gt;&lt;BR&gt;&gt=\r\n;&nbsp;&nbsp;&nbsp;&nbsp; \n  Mike&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n=\r\n  --&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; Mike Clark&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&n=\r\nbsp; \n  Clarkware Consulting, Inc.&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;A \n  hr=\r\nef=3D&quot;http://www.clarkware.com&quot;&gt;http://www.clarkware.com&lt;/A&gt;&lt;BR&gt;&gt;&nbsp;&=\r\nnbsp;&nbsp;&nbsp; \n  720.851.2014&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&n=\r\nbsp;&nbsp;&nbsp;&nbsp; \n  To unsubscribe from this group, send an email \n  =\r\nto:&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n  junit-unsubscribe@yahoogroups.com&lt;BR=\r\n&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; \n  Your use of Yahoo! Groups =\r\nis subject to the Yahoo! Terms \n  of&lt;BR&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; Servic=\r\ne &lt;&lt;A \n  href=3D&quot;http://docs.yahoo.com/info/terms/&quot;&gt;http://docs.yahoo.co=\r\nm/info/terms/&lt;/A&gt;&gt; \n  .&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt; Yahoo! Groups Sponsor&lt;BR=\r\n&gt;&gt; ADVERTISEMENT&lt;BR&gt;&gt; \n  &lt;&lt;A \n  href=3D&quot;http://rd.yahoo.com/M=3D17=\r\n8320.1681224.3270152.1261774/D=3Degroupweb/S=3D1705007181:HM/A=3D879171/R=\r\n=3D0/*http://www.fastweb.com/ib/yahoo-57f&quot;&gt;http://rd.yahoo.com/M=3D178320.1=\r\n681224.3270152.1261774/D=3Degroupweb/S=3D1705007181:HM/A=3D879171/R=3D0/*ht=\r\ntp://www.fastweb.com/ib/yahoo-57f&lt;/A&gt;&gt; \n  &lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&g=\r\nt; To unsubscribe from this group, send an email \n  to:&lt;BR&gt;&gt; junit-unsub=\r\nscribe@yahoogroups.com&lt;BR&gt;&gt;&lt;BR&gt;&gt;&lt;BR&gt;&gt; Your use \n  of Yahoo! Groups=\r\n is subject to the Yahoo! Terms of Service &lt;BR&gt;&gt; &lt;&lt;A \n  href=3D&quot;http:=\r\n//docs.yahoo.com/info/terms/&quot;&gt;http://docs.yahoo.com/info/terms/&lt;/A&gt;&gt; \n  =\r\n.&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;To \n  unsubscribe from this group, send an em=\r\nail \n  to:&lt;BR&gt;junit-unsubscribe@yahoogroups.com&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Your us=\r\ne of \n  Yahoo! Groups is subject to the &lt;A \n  href=3D&quot;http://docs.yahoo.com=\r\n/info/terms/&quot;&gt;Yahoo! Terms of Service&lt;/A&gt;.&lt;/TT&gt; \n&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/=\r\nHTML&gt;\n\r\n------=_NextPart_000_00A0_01C181E3.F0E9AD90--\r\n\n", 
    "profile": "smetsthomas", 
    "topicId": 3503, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 20361908, 
    "prevInTime": 3518, 
    "contentTrasformed": false, 
    "postDate": "1008030854", 
    "canDelete": false, 
    "nextInTopic": 3520, 
    "prevInTopic": 3518, 
    "headers": {
        "messageIdInHeader": "PDAwYzkwMWMxODFkZSQ4ZDBiZDQxMCQ5M2VlNDRkNEBwbG9wPg==", 
        "referencesHeader": "PDAwM2IwMWMxODEwMSQ4NDcxMWI0MCQ5M2VlNDRkNEBwbG9wPiA8M0MxM0U4RDAuNjdBMjg2MEBjbGFya3dhcmUuY29tPiA8MDBlZTAxYzE4MTZjJDY5MDc0NjIwJDkzZWU0NGQ0QHBsb3A+IDwzQzE1NDYwQS41MDMwNDA5QGRpYXNwYXJzb2Z0d2FyZS5jb20+"
    }
}