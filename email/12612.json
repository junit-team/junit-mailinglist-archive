{
    "numMessagesInTopic": 3, 
    "nextInTime": 12613, 
    "senderId": "WAjVCNSyN-hn_mau25EwYvQ1g2wEgPoZ_MWy5dZhoq4wRYMBx8tAtZWBK5Kh69s9oJ78TR7EQtUGiIQyFH-IWQUmEq0z2-6HMbHHO5kA0Q", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Native calls", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... If you know how the native code is supposed to behave, then place that behavior behind an interface. Now you want to test the clients of that interface. In", 
    "msgId": 12612, 
    "profile": "nails762", 
    "topicId": 12594, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-1876997094\">y_shenhar wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; <br/>\n&gt; Hello,<br/>\n&gt; <br/>\n&gt; I am writing a java library that needs to make native calls.<br/>\n&gt; I would appreciate ideas on how to unit test the Java code (assuming<br/>\n&gt; that the native code works).<br/>\n<br/>\n </span></blockquote>If you know how the native code is supposed to behave, then place that <br/>\nbehavior behind an interface. Now you want to test the clients of that <br/>\ninterface.<br/>\n<br/>\nIn production code, give your clients the real implementation of that <br/>\ninterface, that actually talks to the native code.<br/>\n<br/>\nIn tests, give your clients a &quot;fake&quot; implementation that simulates the <br/>\nnative code. Write a test for each different kind of response the <br/>\ninterface can give your clients to see how your clients respond.<br/>\n<br/>\nAlso in tests, give your clients a &quot;mock&quot; implementation that verifies <br/>\nhow clients use the native code: do they invoke the right methods with <br/>\nthe right parameters, and so on.<br/>\n<br/>\nFor more information on &quot;mock&quot; and &quot;fake&quot; (fakes are also called stubs), <br/>\nsearch the web and read _JUnit Recipes_, _Test Driven Development: A <br/>\nPractical Guide_, _JUnit in Action_ and other fine books and articles.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing</div>", 
    "prevInTime": 12611, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1104953815", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 12599, 
    "headers": {
        "inReplyToHeader": "PGNyZjNlZiticDM5QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQxREM0MUQ3LjMwNTA1MDlAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGNyZjNlZiticDM5QGVHcm91cHMuY29tPg=="
    }
}