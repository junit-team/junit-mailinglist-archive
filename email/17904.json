{
    "numMessagesInTopic": 287, 
    "nextInTime": 17905, 
    "senderId": "JcWQvZln9Nc5jRVMjcvF1NBK56Ai4ZYeulaPVP_1iOhxAvrkwsiriRHNfKPKOnxK-PbAQDnsf6fQtex5InrANek6IQWIBoF7", 
    "systemMessage": false, 
    "subject": "RE: [junit] Test-friendly, but not caller-friendly?", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "All, I just wrote the section on interfaces vs. superclasses in Implementation Patterns, so I have some opinions. My analysis boils down to: interfaces hide", 
    "msgId": 17904, 
    "profile": "kentlbeck", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-127756334\">All,<br/>\n <br/>\nI just wrote the section on interfaces vs. superclasses in Implementation<br/>\nPatterns, so I have some opinions. My analysis boils down to: interfaces<br/>\nhide more details (potentially) but you can&#39;t add a method to an interface<br/>\nwithout breaking client code the way you can with a superclass. In general I<br/>\nprefer disciplined use of superclasses (no non-private members, judicious<br/>\nuse of protected methods) but interfaces are more common.<br/>\n <br/>\nCheers,<br/>\n <br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\nAuthor of Implementation Patterns, due out in the fourth quarter of 2006<br/>\n<br/>\n<br/>\n  _____  <br/>\n<br/>\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of<br/>\nCédric Beust ? <br/>\nSent: Friday, September 01, 2006 9:06 AM<br/>\nTo: junit@yahoogroups.com<br/>\nSubject: Re: [junit] Test-friendly, but not caller-friendly?<br/>\n<br/>\n<br/>\n<br/>\nHi Elliotte,<br/>\n<br/>\nOn 9/1/06, Elliotte Harold &lt;elharo@metalab.<br/>\n&lt;mailto:elharo%40metalab.unc.edu&gt; unc.edu&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; Michael Feathers wrote:<br/>\n&gt;<br/>\n&gt; &gt; Elliotte, what are the downsides of interfaces, in your opinion? I know<br/>\n&gt; &gt; you don&#39;t like to use them as much as many other people do, but I don&#39;t<br/>\n&gt; &gt; know why.<br/>\n&gt;<br/>\n&gt; 1. Excess complexity<br/>\n&gt;<br/>\n&gt; 2. No precondition, postcondition, or class invariant validation<br/>\n&gt;<br/>\n&gt; 3. Cannot add new methods to an existing interface in a later version<br/>\n&gt; without breaking all existing code<br/>\n<br/>\n </span></blockquote>Fair points.<br/>\n<br/>\nInterfaces do add some complexity, but they also buy you flexibility and<br/>\nextensibility, so I&#39;d be sure to always weigh these different aspects before<br/>\nchoosing (or not) to introduce an interface.<br/>\n<br/>\nI would argue that concrete classes suffer from 2) as well, and the only way<br/>\nyou can guarantee that the orchestration of your classes/interfaces is<br/>\nrespected is... with tests.<br/>\n<br/>\nIndeed, interfaces should become immutable once they are published, but<br/>\nthere are ways to support interfaces with added methods without breaking<br/>\nbackward compatibility. Here is how.<br/>\n<br/>\nSuppose you publish an interface:<br/>\n<br/>\npublic interface IAccount {<br/>\npublic void processCash();<br/>\n}<br/>\n<br/>\nIn v2, you decide your account needs to support credit cards as well, so you<br/>\ncreate the following interface:<br/>\n<br/>\npublic interface IAccount2 extends IAccount {<br/>\npublic void processCreditCard();<br/>\n}<br/>\n<br/>\nNow, your business code needs to use the following trick:<br/>\n<br/>\nIAccount a = ...;<br/>\n<br/>\nif (a instanceof IAccount2) {<br/>\nIAccount2 a2 = (IAccount2) a;<br/>\na2.processCreditCard();<br/>\n}<br/>\n<br/>\nThis code is guaranteed to be fully backward compatible and yet allow for<br/>\nyour interfaces to grow with your needs. This trick is used extensively in<br/>\nCOM and Eclipse, so while the instanceof is still a bit annoying, it&#39;s still<br/>\nimportant to be aware of such a possibility.<br/>\n<br/>\n-- <br/>\nCédric<br/>\nhttp://testng. &lt;http://testng.org&gt; org<br/>\n<br/>\n[Non-text portions of this message have been removed]<br/>\n<br/>\n<br/>\n<br/>\n <br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 17903, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1158079557", 
    "canDelete": false, 
    "nextInTopic": 17916, 
    "prevInTopic": 17889, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDYwOTAxMDkwNWczY2FjZDg5OHVjZjY5NGE5NTMxMGIzN2IyQG1haWwuZ29vZ2xlLmNvbT4=", 
        "messageIdInHeader": "PDAxNDIwMWM2ZDY4YSRlYzllZDE2MCQ2NTAxYThjMEBUNDI+"
    }
}