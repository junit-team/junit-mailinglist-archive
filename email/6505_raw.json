{
    "numMessagesInTopic": 108, 
    "nextInTime": 6506, 
    "senderId": "OXIZ_WN48DNpB3qAWc8OSEDK130KkNusaQBP8Cur1y14AU0a9Thi_qbwDx4LKKb1ulwwjKMRGWxYpyz5NK-zMsIwLO-sgFR84HPQZDMu0M90TNZP", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Testing Private Methods", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "So said  Steven Taschuk  on  2002-12-19 -------------------- ... to ... now the problem arises. Your class now does two things: it represents a date on the", 
    "msgId": 6505, 
    "rawEmail": "Return-Path: &lt;jbr@...&gt;\r\nX-Sender: jbr@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 19 Dec 2002 16:43:57 -0000\r\nReceived: (qmail 2962 invoked from network); 19 Dec 2002 16:43:57 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m3.grp.scd.yahoo.com with QMQP; 19 Dec 2002 16:43:57 -0000\r\nReceived: from unknown (HELO fep03-mail.bloor.is.net.cable.rogers.com) (66.185.86.73)\n  by mta3.grp.scd.yahoo.com with SMTP; 19 Dec 2002 16:43:57 -0000\r\nReceived: from quincy ([24.103.233.219])\n          by fep03-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.06 201-253-122-126-106-20020509) with ESMTP\n          id &lt;20021219164340.LVLR148587.fep03-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Thu, 19 Dec 2002 11:43:40 -0500\r\nMessage-ID: &lt;200212191143530179.00383D93@...&gt;\r\nIn-Reply-To: &lt;20021219004049.A2091@...&gt;\r\nReferences: &lt;66C53B0C88D3D4118F4A009027DCE064020363BB@...&gt;\n &lt;atctk3+u1o8@...&gt;\n &lt;20021219004049.A2091@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Thu, 19 Dec 2002 11:43:53 -0500\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Re: Testing Private Methods\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep03-mail.bloor.is.net.cable.rogers.com from [24.103.233.219] using ID &lt;srainsberger5790@...&gt; at Thu, 19 Dec 2002 11:43:39 -0500\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=89240252\r\nX-Yahoo-Profile: nails762\r\n\r\nSo said  Steven Taschuk  on  2002-12-19 --------------------\n\n&gt;Quoth Dave Astels &lt;dave@...&gt;:\n&gt;  [...last Friday...]\n&gt;&gt; With TDD you define what you need in terms of external behavior, \n&gt;&gt; write a test for it, them implement it.  Finally you clean up by \n&gt;&gt; refactoring.  So as far as your tests are concerned everything that \n&gt;&gt; the class has to do IS public.  When I add a new method in reponse\nto \n&gt;&gt; a test, it&#39;s public.  When I refactor and extract methods, I make \n&gt;&gt; them private.  That&#39;s the only way I make methods private.\n&gt;\n&gt;I happened to run into something today which made me think about\n&gt;this a bit more.  I&#39;d be interested in comments, especially on\n&gt;these two questions: (1) Is this situation typical of those in\n&gt;which people want to test private methods?  (2) Is there a better\n&gt;solution in this case than the one I give below?\n&gt;\n&gt;Here&#39;s the situation: A class GregorianDate represents a specific\n&gt;day in the proleptic Gregorian calendar, expressed (from the\n&gt;user&#39;s point of view at least) as an ordered triple of ints:\n&gt;(year,month,date).  Certain constraints apply to this triple: year\n&gt;zero is forbidden, months must be in [1..12], the valid range of\n&gt;dates depends in familiar ways on the year and month.\n&gt;\n&gt;So, I decide I want a partwise constructor\n&gt;\tpublic GregorianDate( int year, int month, int date )\n&gt;which will throw IllegalArgumentException if any of these\n&gt;constraints are violated.  I write some tests to express the\n&gt;expectation of such exceptions, watch them fail, write the\n&gt;constructor, watch them pass, go for a beer.\n&gt;\n&gt;Now I want a parsing constructor\n&gt;\tpublic GregorianDate( String s ) throws DateParseException\n&gt;which will parse strings in ISO 8601 format (such as\n&gt;&quot;2002-12-18&quot;), throwing a DateParseException if the string is\n&gt;malformed or if the constraints on valid dates are violated.  I\n&gt;factor the constraint checking out of the partwise constructor and\n&gt;into private methods so it can be reused by this new constructor,&gt;and\nnow the problem arises.\n\nYour class now does two things: it represents a date on the Gregorian\nCalendar and it parses a string into a date on the Gregorian Calendar.\nReally, you have two classes here. The fact that you provide a\nconvenience constructor GregorianDate(String) is a design choice based\non usability, and I think it&#39;s a good choice. I think, however, that\nthis constructor should be using DateParser to get from a String to\nthree ints. The parsing is therefore separated into another class and\nyou&#39;ll find that you need to answer a question:\n\n* Should the parser be concerned with validating the SEMANTICS of what\nit parses?\n\nThink of a compiled programming language. The compiler verifies syntax,\nwhile the program&#39;s tests verify semantics. This is a clean separation\nthat makes sense. The parser doesn&#39;t know that the program is logically\nincorrect; only that its instructions are well-formed. Should the\nparser try to verify semantic correctness? Perhaps not, since the\nprogram&#39;s tests already perform that function.\n\nSo it should be with your DateParser. Let the DateParser worry about\nthe dateAsString being well-formed, parse it into erstwhile year, month\nand day and leverage GregorianDate to check the semantics of the\n&quot;date&quot;? in question. Since it already performs that function, your\nconvenience constructor becomes very simple -- it may throw a\nDateParseException because the parser may find that the string is\nill-formed, and it may throw an InvalidDateException because the three\nvalues do not form a semantically-correct date.\n\nLet&#39;s not talk about &quot;good&quot; and &quot;bad&quot;, but notice that your solution is\nmore coupled than the one I have described here. In your case, the\nparsing and validating is interrelated. In my case, parsing from a\nstring is an extra feature tacked on to GregorianDate. In fact, if it\nweren&#39;t for the convenience constructor, GregorianDate wouldn&#39;t know\nabout the parsing feature. Perhaps a factory would be better. :)\n\nOpen/Closed principle, free of charge. Woo-hoo!\n\n\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s write software that people understand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416 791-8603\nAll correspondence (c) 2002 Diaspar Software Services.\nIf you want to use it, just ask; don&#39;t steal.\n\n\n\n", 
    "profile": "nails762", 
    "topicId": 1696, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "prevInTime": 6504, 
    "contentTrasformed": false, 
    "postDate": "1040316233", 
    "canDelete": false, 
    "nextInTopic": 6523, 
    "prevInTopic": 6504, 
    "headers": {
        "inReplyToHeader": "PDIwMDIxMjE5MDA0MDQ5LkEyMDkxQHRpYmlhLmFtb3RscGFhLmJvZ3VzPg==", 
        "messageIdInHeader": "PDIwMDIxMjE5MTE0MzUzMDE3OS4wMDM4M0Q5M0BzbXRwLnltLnBodWIubmV0LmNhYmxlLnJvZ2Vycy5jb20+", 
        "referencesHeader": "PDY2QzUzQjBDODhEM0Q0MTE4RjRBMDA5MDI3RENFMDY0MDIwMzYzQkJAeWxhY3lidGV4YzAxLnlvdWJldC5jb20+IDxhdGN0azMrdTFvOEBlR3JvdXBzLmNvbT4gPDIwMDIxMjE5MDA0MDQ5LkEyMDkxQHRpYmlhLmFtb3RscGFhLmJvZ3VzPg=="
    }
}