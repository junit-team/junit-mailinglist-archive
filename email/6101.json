{
    "numMessagesInTopic": 4, 
    "nextInTime": 6102, 
    "senderId": "0qN-fhwJgtzQ5xBnynjt2VRVdCnvq_36hCbqI4gl-PWdeY7xcoJbVO_Df1TEs1MAgqGLCTi42UMaQ6pBW5MXTE4cyWoasLzW01OwhOuzvg", 
    "systemMessage": false, 
    "subject": "RE: [junit] loader constraints violated", 
    "from": "&quot;Scott Stirling&quot; &lt;scottstirling@...&gt;", 
    "authorName": "Scott Stirling", 
    "msgSnippet": "This is indeed the solution.  I ve yet to see any other working solution for a dynamically reloading classloader.  Every J2EE app server and Servlet container", 
    "msgId": 6101, 
    "profile": "jrun5", 
    "topicId": 6097, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 112036634, 
    "messageBody": "<div id=\"ygrps-yiv-1609133550\">This is indeed the solution.  I&#39;ve yet to see any other working solution<br/>\nfor a dynamically reloading classloader.  Every J2EE app server and<br/>\nServlet container has had to deal with this same problem to make rapid<br/>\ndev/deploy cycles possible (ditto for Ant).<br/>\n<br/>\nI think Erich Gamma took a stab at fixing this, but I&#39;m not sure why he<br/>\nnever followed through on it.  Busy, probably.<br/>\n<br/>\nHow can it be made as easy as possible for people to set up their<br/>\n&quot;test-case classpath?&quot;  Some thought should go into how to implement<br/>\nthis.  Most app server have deploy dirs or component packaging contracts<br/>\nthat ensure things get loaded by the appropriate custom classloader(s).<br/>\nWhat should JUnit do?<br/>\n<br/>\nScott Stirling<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; -----Original Message-----<br/>\n&gt; From: Timothy Wall [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:twall@...\">twall@...</a>] <br/>\n&gt; Sent: Tuesday, November 05, 2002 7:43 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] loader constraints violated<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I think the real solution to the (broken) class loader is to <br/>\n&gt; fix it so  <br/>\n&gt; that it only searches a more narrowly specified classpath <br/>\n&gt; when loading  <br/>\n&gt; test classes, delegating loading of all other classes to the <br/>\n&gt; app class  <br/>\n&gt; loader (or some other suitably defined parent).<br/>\n&gt; <br/>\n&gt; The custom class loader doesn&#39;t even have to &quot;preload&quot; the test  <br/>\n&gt; classes, since its parent will not find the test classes in <br/>\n&gt; question.   <br/>\n&gt; As long as a new instance is used for each test case, you <br/>\n&gt; will have a  <br/>\n&gt; fresh load of the class under test on each run.<br/>\n&gt; <br/>\n&gt; A URLClassLoader might even be sufficient for this purpose.<br/>\n&gt; <br/>\n&gt; If I get some time I&#39;ll submit a patch, since I&#39;m using a similar  <br/>\n&gt; solution for the abbot junit extension...<br/>\n&gt; <br/>\n&gt; On Monday, November 4, 2002, at 01:57 AM, Chris wrote:<br/>\n&gt; <br/>\n&gt; &gt; Here&#39;s a weird error and the solution, so that the next poor shmuck <br/>\n&gt; &gt; can find it:<br/>\n&gt; &gt;<br/>\n&gt; &gt; When running a junit test suite via Ant, I got this error: [junit] <br/>\n&gt; &gt; loader constraints violated when linking <br/>\n&gt; org/xml/sax/InputSource class<br/>\n&gt; &gt;<br/>\n&gt; &gt; This appeas to be the same problem with junit&#39;s custom class loader <br/>\n&gt; &gt; that is widely documented, and solved by adding<br/>\n&gt; &gt; excluded.6=org.w3c.dom.* and excluded.7=org.xml.sax.* to the file <br/>\n&gt; &gt; excluded.properties. Only problem is, I already have those lines.<br/>\n&gt; &gt;<br/>\n&gt; &gt; The root of the problem for me was that I had jrun.jar in my <br/>\n&gt; &gt; classpath. jrun.jar is an 8 meg monster that comes with JRun4 and <br/>\n&gt; &gt; includes its own copy of the sax classes. Taking jrun.jar out of my <br/>\n&gt; &gt; classpath solved the problem and the tests ran fine.<br/>\n&gt; &gt;<br/>\n&gt; &gt; If anyone happens to know why, I&#39;d like to hear it. </span></blockquote></div>", 
    "prevInTime": 6100, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1036544415", 
    "canDelete": false, 
    "nextInTopic": 6107, 
    "prevInTopic": 6100, 
    "headers": {
        "inReplyToHeader": "PDI4ODUyN0JBLUYwQkMtMTFENi1CRENDLTAwMzA2NUJGODNEQUBvY3VsdXN0ZWNoLmNvbT4=", 
        "messageIdInHeader": "PDAwMDAwMWMyODUyZiRlMTJhMmQzMCQwNTAxYThjMEBqYXZhbGFwdG9wPg=="
    }
}