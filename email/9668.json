{
    "numMessagesInTopic": 1, 
    "nextInTime": 9669, 
    "senderId": "ul-2auzmZxYppY3_zagjNiJpbb64JTEg0U_6vJeox5fBfmAuSdKXbqCs9XmBQB74Zzoh8KyHXZlE0aoDdortxHprVw", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: How to write a Mock Class for a 3rd party class w\there the contructor are private", 
    "from": "richard.denadel@...", 
    "authorName": "richard.denadel@vodafone.com", 
    "msgSnippet": "I am currently trying to use aspects to mock these kinds of classes (works even for static). My first try already works. I also need to learn aspects, so I am", 
    "msgId": 9668, 
    "profile": "drahcir1970", 
    "topicId": 9668, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 130768890, 
    "messageBody": "<div id=\"ygrps-yiv-118612868\">I am currently trying to use aspects to mock these kinds of classes (works<br/>\neven for static). My first try already works.<br/>\n<br/>\nI also need to learn aspects, so I am taking really small steps.<br/>\n<br/>\n <br/>\n<br/>\nJust tell me if you&#39;re interested, so I can share my work.<br/>\n<br/>\n <br/>\n<br/>\nRichard.<br/>\n<br/>\n <br/>\n<br/>\n-----Original Message-----<br/>\nFrom: Jeff Grigg [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jeffgrigg@...\">jeffgrigg@...</a>] <br/>\nSent: donderdag 9 oktober 2003 15:27<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: [junit] Re: How to write a Mock Class for a 3rd party class where<br/>\nthe contructor are private<br/>\n<br/>\n <br/>\n<br/>\n--- &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Question: do you instantiate the class directly (using a<br/>\n&gt; creation method) or does some framework do it for you?<br/>\n&gt; <br/>\n&gt; However the class is created, hide that behind an interface,<br/>\n&gt; which you can then mock.<br/>\n<br/>\n </span></blockquote>[JBR makes some good points and asks the right question.]<br/>\n<br/>\nYou can build a Facade in front of the object you want to mock -- so <br/>\nthat you can mock out the Facade object, which will often be simpler <br/>\nthan the real object.<br/>\n<br/>\nBut the weakness to this approach is that if you&#39;re using a framework <br/>\n(a library that your classes extend, or which takes pointers to <br/>\nclasses you want to mock), then to build a Facade for the framework, <br/>\nyou&#39;ll discover that your Facade must be another complete framework, <br/>\nif it can be done at all.  Frameworks can be a real barrier to <br/>\ntesting.<br/>\n<br/>\n<br/>\nAnother option:<br/>\nCan you subclass the class in question?<br/>\n<br/>\n<br/>\nAnother option:<br/>\nDigging *DEEP* into the bag of tricks, here&#39;s something to use when <br/>\nnothing else will work:  See Neil Swingler&#39;s javassist class loader <br/>\nin the Files section of this group:  <br/>\nName &quot;name.swingler.neil.classreloader.zip&quot;, description &quot;reloading <br/>\nclassloader that can introduce imposter mock classes&quot;.  It will <br/>\nenable you to swap out the offending 3rd party class with one of your <br/>\nown making.<br/>\n<br/>\nIn a similar situation, I used jAdvise (which is built on top of <br/>\njavassist) to intercept and modify the internal behavior of the 3rd <br/>\nparty class factory so that I could create instances of the class I <br/>\nwanted to test, intercept all method calls to it, and disable <br/>\neverything it did that had undesirable side effects, replacing method <br/>\nbody functionality with my mock implementation.<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\n<br/>\n<br/>\n<br/>\nADVERTISEMENT<br/>\n <br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://rd.yahoo.com/M=194081.3897168.5135684.1261774/D=egroupweb/S=17050069\">http://rd.yahoo.com/M=194081.3897168.5135684.1261774/D=egroupweb/S=17050069</a><br/>\n05:HM/A=1732163/R=0/SIG=11n0nglqg/*http:/www.ediets.com/start.cfm?code=30510<br/>\n&media=zone&gt; click here<br/>\n<br/>\n<br/>\n <br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.adserver.yahoo.com/l?M=194081.3897168.5135684.1261774/D=egroupmai\">http://us.adserver.yahoo.com/l?M=194081.3897168.5135684.1261774/D=egroupmai</a><br/>\nl/S=:HM/A=1732163/rand=539195452&gt; <br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to the Yahoo!<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;  Terms of Service. <br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 9667, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1066034400", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDBBNkQ0NzlBNzYzRkQ3MTFBNEZFMDAzMDZFMDI0OEE0MDUwODBDNzBAU01UUi1FWEg4LkxJQkVSVEVMPg=="
    }
}