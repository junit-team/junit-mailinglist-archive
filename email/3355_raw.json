{
    "topicId": 3350, 
    "postDate": "1006889650", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Michael Silverstein&quot; &lt;msilverstein@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "CCPeYuJtpaHl3yuS3fUMoIQyi1ivHgQle7EGM9iS-XjKmp1taQU32DNC7cpYztMVuVmPiRxBZOJHXhG-lWTWWDhlULWiwfPWEh410vqvVsDI7hMiDV4wf6u-", 
    "nextInTime": 3356, 
    "userId": 0, 
    "prevInTime": 3354, 
    "prevInTopic": 3354, 
    "headers": {
        "inReplyToHeader": "PE5EQkJKRUZLTURHRklCRUtLRUxFQ0VCT0RKQUEubXNpbHZlcnN0ZWluQHNpbHZlcm1hcmsuY29tPg==", 
        "messageIdInHeader": "PE5EQkJKRUZLTURHRklCRUtLRUxFRUVDQURKQUEubXNpbHZlcnN0ZWluQHNpbHZlcm1hcmsuY29tPg=="
    }, 
    "authorName": "Michael Silverstein", 
    "numMessagesInTopic": 19, 
    "msgSnippet": "", 
    "contentTrasformed": false, 
    "msgId": 3355, 
    "nextInTopic": 3356, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;msilverstein@...&gt;\r\nX-Sender: msilverstein@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_0_1); 27 Nov 2001 19:41:54 -0000\r\nReceived: (qmail 77099 invoked from network); 27 Nov 2001 19:41:53 -0000\r\nReceived: from unknown (216.115.97.172)\n  by m2.grp.snv.yahoo.com with QMQP; 27 Nov 2001 19:41:53 -0000\r\nReceived: from unknown (HELO mail7.nc.rr.com) (24.93.67.54)\n  by mta2.grp.snv.yahoo.com with SMTP; 27 Nov 2001 19:41:53 -0000\r\nReceived: from kenetiks.net ([24.163.47.10]) by mail7.nc.rr.com  with Microsoft SMTPSVC(5.5.1877.687.68);\n\t Tue, 27 Nov 2001 14:41:44 -0500\r\nReceived: from 63.86.212.130 ([63.86.212.130]) by kenetiks.net (WinRoute Pro 4.1) with SMTP; Tue, 27 Nov 2001 14:43:37 -0500\r\nReply-To: &lt;msilverstein@...&gt;\r\nTo: &lt;junit-devel@...&gt;,\n\t&quot;Junit@Yahoogroups. Com&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [Junit-devel] Making JUnit more pluggable for add-ons\r\nDate: Tue, 27 Nov 2001 14:34:10 -0500\r\nMessage-ID: &lt;NDBBJEFKMDGFIBEKKELEEECADJAA.msilverstein@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)\r\nImportance: Normal\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.3018.1300\r\nIn-Reply-To: &lt;NDBBJEFKMDGFIBEKKELECEBODJAA.msilverstein@...&gt;\r\nReturn-Path: msilverstein@...\r\nFrom: &quot;Michael Silverstein&quot; &lt;msilverstein@...&gt;\r\n\r\n&lt; at the request of several people, I&#39;m continuing to cross-post. Anyway,\njunit-devel@... seems to have a lot of noise from build\nupdates that are probably not interesting to most people and would\ndiscourage them from subscribing &gt;\n\n....\n\nIn http://www.geocrawler.com/archives/3/8174/2001/7/0/6256758/ there is a\ndescription of a TestRunListener interface that would accomplish what I need\nfor being notified when a test starts and ends. The thing I didn&#39;t mention\nis that for the purpose of profiling I will be launching the test in an\ninstrumented VM, so I need to completely override the present test execution\nscheme.\n\nAt first blush, one might approach this by implementing a new TestRunner\nthat launches an instrumented VM, but I would have to do this several times\nto support each TestRunner presentation, which is not practical.  That&#39;s why\nI proposed a simple decorator, because it requires the least rework of the\nexisting architecture (simplest thing that could possibly work). Perhaps\nonce the model and view have been sufficiently separated, the TestRunner\napproach will become more practical.\n\n^^^^^^^^^^^^^^^^^^^^^^^^^\nMike Silverstein\nSilverMark, Inc.\nThe object testing company\nhttp://www.silvermark.com\n\n&gt; -----Original Message-----\n&gt;\n&gt; Problem statement\n&gt; -----------------\n&gt; I am adding some additional profiling and metrics to JUnit test execution.\n&gt; In order to do this I need to plug in to JUnit in such a way as to perform\n&gt; some operations before and after test execution, and to extend the test\n&gt; results to contain the new metrics. Presently the framework does not allow\n&gt; me to do this without altering it.\n&gt;\n&gt; Process\n&gt; -------\n&gt; I can either graft a new branch on to the JUnit source tree that contains\n&gt; various extensions built in and give it a new name (like JUnit XYZ or\n&gt; whatever) or provide some tweaks to the present framework that satisfy my\n&gt; needs in the hope they are accepted as part of the next version.\n&gt; The purpose\n&gt; of this email is to start a discussion about this so that whatever changes\n&gt; are necessary fit in with the architectural spirit of JUnit and\n&gt; are suitable\n&gt; for inclusion in a base release. If possible, I&#39;d like to wrap this up and\n&gt; make it publicly available by the end of the year.\n&gt;\n&gt; Note: I realize test cases are the recognized currency for\n&gt; articulating new\n&gt; functionality, so once there is agreement in principle to an\n&gt; approach, I can\n&gt; provide test cases to provide more detail.\n&gt;\n&gt; Wrapping test execution\n&gt; -----------------------\n&gt; I need to be able to start profiling immediately before a user test starts\n&gt; and end profiling immediately afterward. One approach is to wrap the user\n&gt; test class that is presently instantiated in\n&gt; junit.runner.BaseTestRunner.getTest(String) with a TestDecorator subclass\n&gt; instance that manages profiling during test execution. Creating the\n&gt; decorator sounds like a job for factory method [Gamma95].\n&gt;\n&gt; Extending the results\n&gt; ---------------------\n&gt; This is presently not easy because all the various test runners\n&gt; (subclasses\n&gt; of BaseTestRunner) implement their own createTestResult() method,\n&gt; where the\n&gt; reference to the TestResult class is hard coded. I&#39;d like to be able to\n&gt; specify that dynamically as well. This also sounds like a job for factory\n&gt; method [Gamma95].\n&gt;\n&gt; Toward a unified pluggable configuration approach\n&gt; -------------------------------------------------\n&gt; A possible approach is to employ the abstract factory pattern [Gamma95]\n&gt; where the concrete factory class contains factory methods for the above\n&gt; classes and others, is specified in the preferences file or\n&gt; elsewhere. This\n&gt; sort of architectural change would substantially enable the sort of\n&gt; pluggability that I&#39;m after.\n&gt;\n&gt; Some questions and observations about the framework\n&gt; ---------------------------------------------------\n&gt; Having spent some time digging into JUnit I have the following\n&gt; questions and\n&gt; comments:\n&gt;\n&gt; - The preferences file is read in more than one place:\n&gt;   - junit.runner.BaseTestRunner.readPreferences()\n&gt;   - junit.runner.TestCaseClassLoader.readExcludedPackages()\n&gt;   I could be wrong but it seems like this is redundant execution,\n&gt; especially\n&gt; since the preferences is kept in a static variable.\n&gt;\n&gt; - The preferences (junit.runner.BaseTestRunner.fPreferences) is static. It\n&gt; strikes me that this hampers testability of the framework because it makes\n&gt; it difficult to isolate the framework preferences from the preferences for\n&gt; instances of framework classes under test.\n&gt;\n&gt; - The TestResult class provides semantics for running and stopping tests.\n&gt; This seems like a stretch for a results class, which I would imagine is\n&gt; primarily a container for execution metrics and other downstream\n&gt; information.\n&gt;\n&gt; - The TestRunner variants are very tied to presentation layer. I see this\n&gt; has been discussed at length in the past so I won&#39;t belabor it.\n&gt;\n&gt; - It seems that since all the methods in junit.framework.Assert are static\n&gt; and it does not hold any state, there is really no need to make this class\n&gt; the root of all tests, except for the convenience of not\n&gt; prefixing assertion\n&gt; methods with &#39;junit.framework.Assert&#39;. I&#39;m sure I&#39;m missing\n&gt; something here.\n&gt;\n&gt; References\n&gt; ----------\n&gt; [Gamma95] Erich Gamma et al. &quot;Design Patterns - Elements of Rusable\n&gt; Object-Oriented Software&quot;, Addison-Wesley, Reading, MA, 1995.\n&gt;\n&gt; ^^^^^^^^^^^^^^^^^^^^^^^^^\n&gt; Mike Silverstein\n&gt; SilverMark, Inc.\n&gt; The object testing company\n&gt; http://www.silvermark.com\n&gt;\n&gt;\n&gt;\n&gt; _______________________________________________\n&gt; Junit-devel mailing list\n&gt; Junit-devel@...\n&gt; https://lists.sourceforge.net/lists/listinfo/junit-devel\n\n\n\n", 
    "subject": "RE: [Junit-devel] Making JUnit more pluggable for add-ons"
}