{
    "numMessagesInTopic": 17, 
    "nextInTime": 21913, 
    "senderId": "h9FAvtjRjgiyZIUTop2c0r28eQmpO5-4suMy0ehG_E1Egfxo8cdgt3dGBuESii-7DO3NktsYM0HURskJXO-kOrC5nlo", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Rule annotation", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "I m a bit confused. @Before and @After are inherited. Superclass @Before s are executed before subclass @Before s and subclass @After s are executed before", 
    "msgId": 21912, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 53774 invoked from network); 26 Aug 2009 16:14:04 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m5.grp.sp2.yahoo.com with QMQP; 26 Aug 2009 16:14:04 -0000\r\nX-Received: from unknown (HELO elasmtp-banded.atl.sa.earthlink.net) (209.86.89.70)\n  by mta1.grp.re1.yahoo.com with SMTP; 26 Aug 2009 16:14:04 -0000\r\nX-Received: from [71.34.235.100] (helo=kentspavilion)\n\tby elasmtp-banded.atl.sa.earthlink.net with esmtpa (Exim 4.67)\n\t(envelope-from &lt;kentb@...&gt;)\n\tid 1MgL8J-0004HB-L2\n\tfor junit@yahoogroups.com; Wed, 26 Aug 2009 12:14:01 -0400\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;4f7da6b90908210822g698e1db1ja000ed8878122a7d@...&gt; &lt;h729jm+hlll@...&gt;\r\nDate: Wed, 26 Aug 2009 09:13:54 -0700\r\nMessage-ID: &lt;91C02E5F57BE4E78BA92592DD08C4AB4@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nX-Mailer: Microsoft Office Outlook 11\r\nIn-Reply-To: &lt;h729jm+hlll@...&gt;\r\nThread-Index: Acol/AzJbNFOH+L6SJGH5y+iTOjF5QAa0e6A\r\nx-mimeole: Produced By Microsoft MimeOLE V6.00.2900.5579\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d478becee1f735abe7bdfcebf3787a2aec22191aa1a5f1ac2bfc350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;kentb&quot; &lt;kentb@...&gt;\r\nReply-To: &lt;kentb@...&gt;\r\nSubject: RE: [junit] Re: Rule annotation\r\nX-Yahoo-Group-Post: member; u=173198504; y=w1YSLzQEpvxZIZEfxXJsnp0DIrQVtflqbPDB4Eo5YjJpglF1\r\nX-Yahoo-Profile: kentlbeck\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nI&#39;m a bit confused. @Before and @After are inherited. Superclass @Before&#39;s\nare executed before subclass @Before&#39;s and subclass @After&#39;s are executed\nbefore superclass @After&#39;s. If you have a scenario where inheritance doesn&#39;t\nwork as you expected, I&#39;d appreciate a failing test case that will pass when\nJUnit does what you expect.\n \nIn any case, I&#39;m glad you got your tests running as expected. As you noted,\n@Rule&#39;s aren&#39;t executed in any particular order. This is by design. If you\nneed to express temporal dependency, the best way I know of is to have\nsequential lines of code.\n \nRegards,\n \nKent\n\n  _____  \n\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\nyme0987654321\nSent: Tuesday, August 25, 2009 8:19 PM\nTo: junit@yahoogroups.com\nSubject: [junit] Re: Rule annotation\n\n\n  \n\nIt doesn&#39;t fit my scenario because I would essentially not want to engage\nthe external resources, so I guess I could combine them the other way around\nand fail with an assumeThat (would that work? Or would it report a crash?).\n\nBut anyway, after playing with this for a while, I just did an assumeThat in\nthe @BeforeClass method, and that worked out fine. IDEA doesn&#39;t report the\nignored tests as nicely, but that&#39;s life. I got to eliminate a lot of\nbrittle complicated code around the runner, so it was worthwhile.\n\nI used the @Rule for the external resource, which really saved the @Before\nand @After inheritence issue (the fact that it doesn&#39;t inherit), so\nultimately 4.7 really improved my testing code infrastructure.\n\nSo good job.\n\nThe thing that got my brain tied in knots is the expectation that rules\ninteract, or have some kind of series to them. But that is just an\nassociation with the word &quot;rule&quot; and has nothing to do with how JUnit is\ndoing the @Rule annotation, which is fine once you get it.\n\n--- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, David Saff\n&lt;david@...&gt; wrote:\n&gt;\n&gt; I&#39;m trying to think this one through. I&#39;m thinking I have:\n&gt; \n&gt; public ExternalResource myResource = new ExternalResource() {\n&gt; // ...\n&gt; }\n&gt; \n&gt; public MethodRule myConditionalIgnore = new MethodRule() {\n&gt; // ...\n&gt; }\n&gt; \n&gt; public class CombinedRule implements MethodRule {\n&gt; public final Statement apply(final Statement base,\n&gt; FrameworkMethod method, Object target) {\n&gt; return myConditionalIgnore.apply(myResource.apply(base,\n&gt; method, target), method, target);\n&gt; }\n&gt; }\n&gt; \n&gt; Does that work?\n&gt; \n&gt; David Saff\n&gt; \n&gt; On Thu, Aug 20, 2009 at 1:38 PM, yme0987654321&lt;yme0987654321@...&gt; wrote:\n&gt; &gt; For the big class hierarchy that I had, this worked out. I had to make\none rule which composed and delegated to an ExternalResource rule and had\nits own before and after methods because ExternalResource does not allow the\noverriding of its apply method. I certainly understand the inclination to\nmake it final, but I would suggest that it be reconsidered.\n&gt; &gt;\n&gt; &gt; Regardless, going further replacing my custom runner, I did hit another\nwall, with @BeforeClass and @AfterClass. I assume there is nothing to do\nabout those (other than an assumeThat in @BeforeClass)?\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, David\nSaff &lt;david@&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; That&#39;s right: Rules can affect the processing after @Before and before\n&gt; &gt;&gt; @After.  Could you replace your setup/teardown with an\n&gt; &gt;&gt; ExternalResource rule?\n&gt; &gt;&gt;\n&gt; &gt;&gt;    David Saff\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Thu, Aug 20, 2009 at 11:11 AM, yme0987654321&lt;yme0987654321@&gt; wrote:\n&gt; &gt;&gt; &gt; OK, I figured out the problem. What happens is that I have a custom\nrunner that suppresses the test (these are slow tests, so they are only run\nat check-in, not by the developer while developing).\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; However, when I replace that with a Rule, the setup method is still\nrun (looks slow). So I guess the conclusion is that @Rule can&#39;t interrupt or\noverride the setup and teardown process, so if you need to do that you are\nback to a Runner? (Or making your own setups rule-aware I guess).\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, David\nSaff &lt;david@&gt; wrote:\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; Yishai,\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; I just ran a test, and the Rules in the superclass were picked up.\n&gt; &gt;&gt; &gt;&gt; Can you post a small example?  Thanks,\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt;    David Saff\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; On Thu, Aug 20, 2009 at 10:21 AM, David Saff&lt;david@&gt; wrote:\n&gt; &gt;&gt; &gt;&gt; &gt; Yishai,\n&gt; &gt;&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;&gt; &gt; Sounds like a bug.  Can you file it at github?  Sorry for the\noversight,\n&gt; &gt;&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;&gt; &gt;   David Saff\n&gt; &gt;&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;&gt; &gt; On Wed, Aug 19, 2009 at 8:26 PM, yme0987654321&lt;yme0987654321@&gt;\nwrote:\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; I&#39;m looking at the new Rule annotation in JUnit4. It&#39;s pretty\nnice, but it doesn&#39;t seem to inherit.\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; That is if I have a super class that has the @Rule, sub class\ntests don&#39;t run the rule on its tests.\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Combined with the requirement that the rules field be public,\nthis is surprising.\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; The practical effect for me is that it can&#39;t really replace my\ncustom runner, as the @RunWith annotation is inherited by subclasses.\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Am I missing something?\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Yishai.\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; ------------------------------------\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; ------------------------------------\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Yahoo! Groups Links\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 21887, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 21911, 
    "contentTrasformed": false, 
    "postDate": "1251303234", 
    "canDelete": false, 
    "nextInTopic": 21914, 
    "prevInTopic": 21909, 
    "headers": {
        "inReplyToHeader": "PGg3MjlqbStobGxsQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDkxQzAyRTVGNTdCRTRFNzhCQTkyNTkyREQwOEM0QUI0QGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PDRmN2RhNmI5MDkwODIxMDgyMmc2OThlMWRiMWphMDAwZWQ4ODc4MTIyYTdkQG1haWwuZ21haWwuY29tPiA8aDcyOWptK2hsbGxAZUdyb3Vwcy5jb20+"
    }
}