{
    "numMessagesInTopic": 9, 
    "nextInTime": 16418, 
    "senderId": "vN9CNcNesS-1AaJKATDEXOvP3M_cEVFNR96gfCiO3k9iiyuKHmgxn7rDPQjgOwicu27op0fZWjW6xTZWJingcH2ocxSYv1zOYLXHCmFPlOVpr1GP", 
    "systemMessage": true, 
    "subject": "Re: [junit] How to test a recursive method", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "I agree with Joe and Cedric here, don t really see why you want to test it but some important infomration might me missing. Whaat I do see is an oportunity to", 
    "msgId": 16417, 
    "rawEmail": "Return-Path: &lt;joakim.ohlrogge@...&gt;\r\nReceived: (qmail 96747 invoked from network); 29 Mar 2006 12:30:11 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m26.grp.scd.yahoo.com with QMQP; 29 Mar 2006 12:30:11 -0000\r\nReceived: from unknown (HELO n29a.bullet.scd.yahoo.com) (209.73.160.86)\n  by mta6.grp.scd.yahoo.com with SMTP; 29 Mar 2006 12:30:11 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.1] by n29.bullet.scd.yahoo.com with NNFMP; 29 Mar 2006 12:28:31 -0000\r\nReceived: from [66.218.66.76] by t1.bullet.scd.yahoo.com with NNFMP; 29 Mar 2006 12:28:30 -0000\r\nX-Sender: joakim.ohlrogge@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 94867 invoked from network); 27 Mar 2006 09:13:45 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m33.grp.scd.yahoo.com with QMQP; 27 Mar 2006 09:13:45 -0000\r\nReceived: from unknown (HELO nproxy.gmail.com) (64.233.182.185)\n  by mta9.grp.scd.yahoo.com with SMTP; 27 Mar 2006 09:13:45 -0000\r\nReceived: by nproxy.gmail.com with SMTP id x37so1016686nfc\n        for &lt;junit@yahoogroups.com&gt;; Mon, 27 Mar 2006 01:13:45 -0800 (PST)\r\nReceived: by 10.48.230.19 with SMTP id c19mr1623499nfh;\n        Mon, 27 Mar 2006 01:13:44 -0800 (PST)\r\nReceived: by 10.48.42.11 with HTTP; Mon, 27 Mar 2006 01:13:44 -0800 (PST)\r\nMessage-ID: &lt;b9ee5e410603270113m7b74158cx9c5247de69e02c25@...&gt;\r\nDate: Mon, 27 Mar 2006 11:13:44 +0200\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;44273B46.10808@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;a03a20930603240948l792312a2tad48cb413dbc8a6b@...&gt;\n\t &lt;44273B46.10808@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nSubject: Re: [junit] How to test a recursive method\r\nX-Yahoo-Group-Post: member; u=261856052; y=-6I3ubf-BwbEeMgXFhfg3-9B_uKAdfXNVoHn_wcBMPMCSzZ8\r\nX-Yahoo-Profile: j0hlrogge\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 29 Mar 2006 12:28:30 -0000\r\n\r\nI agree with Joe and Cedric here, don&#39;t really see why you want to\ntest it =\r\nbut some important infomration might me missing.\n\nWhaat I do see is an opor=\r\ntunity to talk about intercept in rMock that\ncan be used to test this kind =\r\nof thing (but just because you can\ndoesn&#39;t mean you should, hmm maybe that =\r\nincludes talking about\nfeatures aswell in the wrong context aswell...).\n\n\np=\r\nublic class MyClassUnderTest {\n     public void myRecursiveMethod(int times=\r\n) {\n          if ( times &gt; 0) {\n              myRecursiveMethod(--times);\n =\r\n         }\n     }\n}\n\n\n\n\npublic class RecursicveTest extends RMockTestCase {=\r\n\n     private MyClassUnderTest cut;\n     public void setUp() {\n         cut=\r\n =3D (MyClassUnderTest)intercept(MyClassUnderTest.class,\n&quot;classUnderTest&quot;);=\r\n\n     }\n\n    public void testRecurse() {\n         cut.myRecursiveMethod(4);=\r\n\n         modify().multiplicity(expect.exactly(4)).args(is.gt(-1)).forward(=\r\n);\n         // The modification ensures that the method is called no more\nt=\r\nhan and no less than\n         // 4 times. As long as times is greater than =\r\n-1 it is ok and\nwhen a method call with these  parameters is intercepted th=\r\ne call is\nforwarded to the underlying implementation of the method.\n\n      =\r\n   startVerification();\n         // lets start verifying what we setUp\n\n   =\r\n      cut.myRecursiveMethod(4);\n    }\n\n}\n\nI have never written a test like =\r\nthis and I don&#39;t think I will in the\nfuture either, this is purely for fun.=\r\n\n\nWhat I have done though is to use itercept to extend AbstractClasses\nto v=\r\nerify the abstract classes contracts. What I have used it even\nmore for is =\r\nto verify that streams, readers, writers that I pass to\nclasses I test are =\r\nclosed (or not closed) as expected (or similar\nsituations).\n\nHope it was at=\r\n least almost as fun reading the example as it was for\nme writing it. I hav=\r\ne not run the test though so I don&#39;t know if it\nfails, would be pretty emba=\r\nrassing if it looped more/fewer times than\nI expected :P\n\nRegards\nJoakim Oh=\r\nlrogge\n\n\n\n\n\n\namine achergui wrote:\n\n&gt; Is there any test pattern to test a r=\r\necursive method ( in my case,\n&gt; the method&#39;s body calls  collaborators thus=\r\n in the test method i use mocks).\n&gt; Is there any pattern or recipe to solve=\r\n this?\n\nSo you have a method that wants to invoke itself, and you&#39;d like to=\r\n mock\n  the call to itself.\n\nIn this case, ignore the method being repetiti=\r\nvely recursive, because by\nputting a mock in there, you&#39;re ensuring that th=\r\ne method will only call\nitself one. (The mock won&#39;t invoke itself any more =\r\nthan that.)\n\nAs for a method invoking itself, there&#39;s no direct way to mock=\r\n the\ninvocation. Some basic reasoning should make that clear: if the method=\r\n\nis mocked, then it wouldn&#39;t invoke itself. :)\n\nI have thought about this i=\r\nn the abstract before, and don&#39;t have an\nanswer, except to point out that I=\r\n&#39;ve never wanted to do this. There\nmust be a reason for that, and I hope it=\r\n&#39;s a good one. :)\n\nCan you tell us what this method does? Perhaps that will=\r\n shed some light\non what to do.\n--\nJ. B. (Joe) Rainsberger :: http://www.jb=\r\nrains.info\nYour guide to software craftsmanship\nJUnit Recipes: Practical Me=\r\nthods for Programmer Testing\n2005 Gordon Pask Award for contribution Agile =\r\nSoftware Practice\n\n\n\n", 
    "profile": "j0hlrogge", 
    "topicId": 16390, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "prevInTime": 16416, 
    "contentTrasformed": false, 
    "postDate": "1143450824", 
    "canDelete": false, 
    "nextInTopic": 16426, 
    "prevInTopic": 16412, 
    "headers": {
        "inReplyToHeader": "PDQ0MjczQjQ2LjEwODA4QHJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDYwMzI3MDExM203Yjc0MTU4Y3g5YzUyNDdkZTY5ZTAyYzI1QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGEwM2EyMDkzMDYwMzI0MDk0OGw3OTIzMTJhMnRhZDQ4Y2I0MTNkYmM4YTZiQG1haWwuZ21haWwuY29tPgkgPDQ0MjczQjQ2LjEwODA4QHJvZ2Vycy5jb20+"
    }
}