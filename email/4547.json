{
    "numMessagesInTopic": 52, 
    "nextInTime": 4548, 
    "senderId": "GMLqscHGq_Xkx8cto95MClF29DyMeoWTxdRSgkioMIhVtfQwNy5Xi7zskqJUbxAk7u-HAXuOV8VVlPZkmKJu6MmITk-6ex_E", 
    "systemMessage": false, 
    "subject": "Re: [junit] testing private methods", 
    "from": "David Stagner &lt;dstagner@...&gt;", 
    "authorName": "David Stagner", 
    "msgSnippet": "... Thanks!  You said what i was trying to say much better than i did! While in theory i may argue in favor of inner classes to test private methods, in", 
    "msgId": 4547, 
    "profile": "d_stagner", 
    "topicId": 3179, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 75470680, 
    "messageBody": "<div id=\"ygrps-yiv-505380868\">John Goodsen wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;On Fri, Mar 29, 2002 at 01:37:41PM -0600, David Stagner wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt;&gt;If you want to test private methods directly, you must run your<br/>\n&gt;&gt;&gt;tests as inner classes.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;Not entirely true.<br/>\n&gt;&gt;<br/>\n&gt;&gt;Since JDK1.2, reflection can be used to circumvent the<br/>\n&gt;&gt;protected/private/package private access control mechanism; provided<br/>\n&gt;&gt;that the client wishing to do so has a<br/>\n&gt;&gt;ReflectPermission(&quot;suppressAccessChecks&quot;) permission.<br/>\n&gt;&gt;<br/>\n&gt;&gt;See java.lang.class.getDeclaredMethods(),<br/>\n&gt;&gt;    java.lang.reflect.Method and<br/>\n&gt;&gt;    java.lang.reflect.AccessibleObject.<br/>\n&gt;&gt;<br/>\n&gt; <br/>\n&gt; I used to test private methods.  Now I ask myself, why I am<br/>\n&gt; trying to get into the guts of the implementation and not<br/>\n&gt; just testing from the public interface.  Using Design<br/>\n&gt; By Contract to spec out the public interface and guide<br/>\n&gt; what tests need to be written helps me do just that.<br/>\n&gt; Whenever I find myself wanting to access private parts<br/>\n&gt; in a test case, I step back and rethink why I want to<br/>\n&gt; do it... Usually it is because I am not writing my<br/>\n&gt; test first, I am writing after the fact, with knowledge<br/>\n&gt; of the implementation ...  I slap myself and get back<br/>\n&gt; into writing the tests first and all is better.<br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n </span></blockquote>Thanks!  You said what i was trying to say much better than i did! While <br/>\nin theory i may argue in favor of inner classes to test private methods, <br/>\nin practice i don&#39;t test them directly. In practice, i don&#39;t even design <br/>\nprivate methods directly. I start by writing up a public interface *on <br/>\npaper* using DBC (it helps to be away from the computer). Then i work <br/>\nout any method dependencies, and start coding test-first. Private <br/>\nmethods arise in my code as refactorings - the third time i find myself <br/>\nwriting the same bit of code, i refactor it into a private method. If <br/>\ni&#39;m doing things right, the refactoring does not add or alter my unit <br/>\ntests in any way. I make sure the unit tests pass, and go on with more <br/>\nnew functionality.<br/>\n<br/>\nHmm... is there a Pattern there? Or at least a good rule of thumb? <br/>\n&quot;Private methods should generally result only from refactoring&quot;. Yeah... <br/>\nthis explains why i think of needing to test private methods directly as <br/>\na smell.<br/>\n<br/>\n-- <br/>\n<br/>\nDavid Stagner<br/>\n<br/>\nNational Marrow Donor Program<br/>\n3001 Broadway Street NE<br/>\nBroadway Ridge Suite 500<br/>\nMinneapolis, MN  55413<br/>\n<br/>\nEmail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dstagner@...\">dstagner@...</a></div>", 
    "prevInTime": 4546, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1017763726", 
    "canDelete": false, 
    "nextInTopic": 4549, 
    "prevInTopic": 4545, 
    "headers": {
        "messageIdInHeader": "PDNDQTlENzhFLjgwNzAxMDlAbm1kcC5vcmc+", 
        "referencesHeader": "PDNDQTRCRERGLkYxMEY4RTJFQHNhYnJlLmNvbT4gPDNDQTRDMjg1LjcwNjA2MDJAbm1kcC5vcmc+IDwyMDAyMDQwMjA5NTUyMi5EOTI5OEBzbmFrZXJvb3Quc29ueXRlbC5iZT4gPDIwMDIwNDAyMDgwMS5DQUEwODI0OEBmdHAtZG16Lm1hcnJvdy1kb25vci5vcmc+"
    }
}