{
    "numMessagesInTopic": 26, 
    "nextInTime": 22557, 
    "senderId": "gSGV1y28Jrq9zZtYGgTMUpdt0evB8TQLFerkC6rU-27yI-F3a-IAh9iyl2QsKw-vZSX1rCKKajNCK1VvuXtycONwKoU", 
    "systemMessage": false, 
    "subject": "Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "&quot;Gary&quot; &lt;gary@...&gt;", 
    "authorName": "Gary", 
    "msgSnippet": "Are any of these solutions acceptable? If no one in JUnit-land has time for this, please let me know. If one of these solutions is acceptable, I could take the", 
    "msgId": 22556, 
    "rawEmail": "Return-Path: &lt;gary@...&gt;\r\nReceived: (qmail 52855 invoked by uid 7800); 16 Mar 2010 15:59:41 -0000\r\nX-Sender: gary@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 13558 invoked from network); 16 Mar 2010 15:23:08 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m11.grp.re1.yahoo.com with QMQP; 16 Mar 2010 15:23:08 -0000\r\nX-Received: from unknown (HELO n40b.bullet.mail.sp1.yahoo.com) (66.163.168.154)\n  by mta3.grp.sp2.yahoo.com with SMTP; 16 Mar 2010 15:23:08 -0000\r\nX-Received: from [69.147.65.151] by n40.bullet.mail.sp1.yahoo.com with NNFMP; 16 Mar 2010 15:17:29 -0000\r\nX-Received: from [98.137.34.33] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 16 Mar 2010 15:17:29 -0000\r\nDate: Tue, 16 Mar 2010 15:17:29 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hno7e9+3ijo@...&gt;\r\nIn-Reply-To: &lt;hnbhs3+fg0d@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Gary&quot; &lt;gary@...&gt;\r\nSubject: Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=406321433; y=bRFLSZDp43NaJcGr1jcDY_dRmyCramHFImdhmgUCaHN6axcOTPsO794\r\nX-Yahoo-Profile: gary_d_gregory\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 16 Mar 2010 15:59:41 -0000\r\n\r\nAre any of these solutions acceptable? If no one in JUnit-land has time for=\r\n this, please let me know. If one of these solutions is acceptable, I could=\r\n take the time to provide a patch but I will not spin my wheels for naught =\r\n;) Kent? Anyone? Bueller?\n\nPlease advise, thank you,\nGary\n\n--- In junit@yah=\r\noogroups.com, &quot;Gary&quot; &lt;gary@...&gt; wrote:\n&gt;\n&gt; So, summarizing the proposed sol=\r\nutions:\n&gt; \n&gt; - Add an element to @Rule, for example @Rule(beforeClass=3Dtru=\r\ne)\n&gt; \n&gt; - Add a new rule that is initialized before @BeforeClass, for examp=\r\nle @ClassRule\n&gt; \n&gt; - Reuse an existing annotation or element and use it wit=\r\nh @Rule, for example:\n&gt;    @Rule @BeforeClass public static TemporaryFolder=\r\n testFolder =3D new TemporaryFolder();\n&gt; \n&gt; - Other?\n&gt; \n&gt; Please chime in.\n=\r\n&gt; \n&gt; Gary\n&gt; --- In junit@yahoogroups.com, Kent Beck &lt;kentb@&gt; wrote:\n&gt; &gt;\n&gt; &gt;=\r\n This is an interesting design tradeoff. I don&#39;t like implicit magic but I =\r\nalso don&#39;t like creating new elements (like the &quot;beforeClass =3D true&quot;) if =\r\nI can reuse existing elements. When I saw the &quot;@Rule static...&quot; I immediate=\r\nly knew what was wrong, so I find it understandable that static variables c=\r\nontaining rules are only executed once. (By symmetry, I suppose &quot;@Before st=\r\natic void...&quot; should be a synonym for @BeforeClass.) In the end, though, my=\r\n opinion of what is obvious is less important than y&#39;all&#39;s. Chime in if you=\r\n want to be heard.\n&gt; &gt; \n&gt; &gt; Kent\n&gt; &gt; \n&gt; &gt; On Mar 9, 2010, at 3:02 PM, yme09=\r\n87654321 wrote:\n&gt; &gt; \n&gt; &gt; &gt; I&#39;m all for a Rule before the class is run, but =\r\nI think it is way to gimmicky and obscure to hang that on if the variable i=\r\ns declared static.\n&gt; &gt; &gt; \n&gt; &gt; &gt; I would instead think that the @Rule should=\r\n have a method which indicates if it is before the class or before the test=\r\n, and then have it validated if the @Rule is on a static or instance variab=\r\nle, as appropriate.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Something like:\n&gt; &gt; &gt; \n&gt; &gt; &gt; @Rule(beforeC=\r\nlass =3D true)\n&gt; &gt; &gt; public static TemporaryFolder testFolder =3D new Tempo=\r\nraryFolder();\n&gt; &gt; &gt; \n&gt; &gt; &gt; --- In junit@yahoogroups.com, Kent Beck &lt;kentb@&gt;=\r\n wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a stat=\r\nic variable before. I&#39;m not even sure what they mean. Rules are inserted be=\r\nfore an individual test is run. Should static rules be inserted before the =\r\nclass is run or before each individual test? Before the class is run, I&#39;m t=\r\nhinking. Opinions?\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Kent\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; On Mar 9, 2010, a=\r\nt 9:43 AM, gary_d_gregory wrote:\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; @Rule objects are not i=\r\nnitialized before @BeforeClass methods are called. Is this by design or a b=\r\nug? \n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; For example:\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; package test;\n&gt;=\r\n &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; import java.io.File;\n&gt; &gt; &gt; &gt; &gt; import java.io.IOExcepti=\r\non;\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; import junit.framework.Assert;\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; =\r\n&gt; import org.junit.BeforeClass;\n&gt; &gt; &gt; &gt; &gt; import org.junit.Rule;\n&gt; &gt; &gt; &gt; &gt; =\r\nimport org.junit.Test;\n&gt; &gt; &gt; &gt; &gt; import org.junit.rules.TemporaryFolder;\n&gt; =\r\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {\n&gt; &gt; &gt; &gt; &gt; =\r\n@Rule\n&gt; &gt; &gt; &gt; &gt; public static TemporaryFolder testFolder =3D new TemporaryF=\r\nolder();\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; @BeforeClass\n&gt; &gt; &gt; &gt; &gt; public static void tes=\r\ntInTempFolder() throws IOException {\n&gt; &gt; &gt; &gt; &gt; File tempFile =3D testFolder=\r\n.newFile(&quot;file.txt&quot;);\n&gt; &gt; &gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;f=\r\nolder&quot;);\n&gt; &gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot(=\r\n));\n&gt; &gt; &gt; &gt; &gt; // test\n&gt; &gt; &gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());=\r\n\n&gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; &gt; public void test() {\n&gt; &gt; =\r\n&gt; &gt; &gt; // noop\n&gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; Having the Tempo=\r\nraryFolder Rule declared as static is OK as this example test shows:\n&gt; &gt; &gt; =\r\n&gt; &gt; \n&gt; &gt; &gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {\n&gt; &gt; &gt; &gt; &gt; @Rule=\r\n\n&gt; &gt; &gt; &gt; &gt; public static TemporaryFolder testFolder =3D new TemporaryFolder=\r\n();\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; &gt; public void testInTempFolder() thr=\r\nows IOException {\n&gt; &gt; &gt; &gt; &gt; File tempFile =3D testFolder.newFile(&quot;file.txt&quot;=\r\n);\n&gt; &gt; &gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;folder&quot;);\n&gt; &gt; &gt; &gt; &gt; =\r\nSystem.out.println(&quot;Test folder: &quot; + testFolder.getRoot());\n&gt; &gt; &gt; &gt; &gt; // te=\r\nst\n&gt; &gt; &gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt; &gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; =\r\n&gt; &gt; }\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; How can @Rules be used from @BeforeClass? \n&gt; &gt; &gt;=\r\n &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; Calling TemporaryFolder.create() would work only for Tempor=\r\naryFolder and not Rules in general but would be against the advice of creat=\r\ne method Javadoc.\n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; =\r\n[Non-text portions of this message have been removed]\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; \n&gt; &gt; &gt; =\r\n\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-text portions of this message have been removed]\n&gt;=\r\n &gt;\n&gt;\n\n\n\n", 
    "profile": "gary_d_gregory", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 406321433, 
    "prevInTime": 22555, 
    "contentTrasformed": false, 
    "postDate": "1268752649", 
    "canDelete": false, 
    "nextInTopic": 22557, 
    "prevInTopic": 22537, 
    "headers": {
        "inReplyToHeader": "PGhuYmhzMytmZzBkQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGhubzdlOSszaWpvQGVHcm91cHMuY29tPg=="
    }
}