{
    "numMessagesInTopic": 8, 
    "nextInTime": 14068, 
    "senderId": "VIRBzFds4tY2HhUXIKVlihoYpl1VNY-ptbrh49gGZaTWgl3g_f4Lrimb_KRnPHE1GurNtprrFNorbaSu08s8TXQcPXKf0Skj4zFZ", 
    "systemMessage": false, 
    "subject": "&quot;Bug in JUnit MoneyBag.java example?&quot; found by Jamie Andrews", 
    "from": "&quot;Jeff Grigg&quot; &lt;jeffgrigg@...&gt;", 
    "authorName": "Jeff Grigg", 
    "msgSnippet": "In news:comp.software.extreme-programming, Jamie Andrews reports finding a possible bug in the MoneyBag example that comes with JUnit.  See messages with", 
    "msgId": 14067, 
    "rawEmail": "Return-Path: &lt;jeffgrigg@...&gt;\r\nX-Sender: jeffgrigg@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 93878 invoked from network); 30 Jun 2005 13:54:51 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m23.grp.scd.yahoo.com with QMQP; 30 Jun 2005 13:54:51 -0000\r\nReceived: from unknown (HELO n16a.bulk.scd.yahoo.com) (66.94.237.45)\n  by mta1.grp.scd.yahoo.com with SMTP; 30 Jun 2005 13:54:51 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.4] by n16.bulk.scd.yahoo.com with NNFMP; 30 Jun 2005 13:51:57 -0000\r\nReceived: from [66.218.66.74] by mailer4.bulk.scd.yahoo.com with NNFMP; 30 Jun 2005 13:51:57 -0000\r\nDate: Thu, 30 Jun 2005 13:51:56 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;da0tds+qfti@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 2360\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Jeff Grigg&quot; &lt;jeffgrigg@...&gt;\r\nSubject: &quot;Bug in JUnit MoneyBag.java example?&quot; found by Jamie Andrews\r\nX-Yahoo-Group-Post: member; u=139880894; y=NWsvaziZLcoS81QtNkW56tSbhUigVeoeBdaLTeGV18dJPYml_Q8elYA\r\nX-Yahoo-Profile: jeffgrigg63132\r\n\r\nIn news:comp.software.extreme-programming, Jamie Andrews reports \nfinding a possible bug in the MoneyBag example that comes with \nJUnit.  See messages with subject &quot;Bug in JUnit MoneyBag.java \nexample?&quot;.  She found it with the aid of a tool, &quot;RUTE-J&quot; \n(Randomized Unit Testing Engine for Java), programmed by her \nresearch group.\n\nIn essence, the &#39;appendTo()&#39; method, in the IMoney interface, as \nimplemented in the MoneyBag class does not (and cannot) return a new \nMoney instance if doing appendTo results in a MoneyBag with only one \ncurrency in it.  And in the &#39;equals()&#39; methods of both classes, \nMoney and MoneyBag objects are considered equal only if both are \nzero.  The possiblity of a MoneyBag with only one currency in it is \nnot considered -- possibly because calling &#39;appendTo()&#39; to put the \nobject in that state is not considered valid usage.\n\nI think that &#39;appendTo()&#39; is intended to be an implementation \ndetail, not a method in a general purpose public interface, but it \nis implemented as a public method in the IMoney interface.\n\nTests:\n\n    public void testMoneyBagToMoneyComparison() {\n        MoneyBag moneyBagTarget = (MoneyBag)\n          MoneyBag.create(new Money(5, &quot;CHF&quot;),  new Money\n(5, &quot;USD&quot;)); \n        Money minusFiveFrancs = new Money(-5, &quot;CHF&quot;); \n        Money fiveBucks = new Money(5, &quot;USD&quot;); \n        minusFiveFrancs.appendTo(moneyBagTarget); \n\n        assertEquals(fiveBucks, moneyBagTarget);  // This fails.\n    }\n    public void testMoneyBagToMoneyComparison2() {\n        MoneyBag moneyBagTarget = (MoneyBag)\n          MoneyBag.create(new Money(5, &quot;CHF&quot;),  new Money\n(5, &quot;USD&quot;)); \n        Money minusFiveFrancs = new Money(-5, &quot;CHF&quot;); \n        Money fiveBucks = new Money(5, &quot;USD&quot;); \n        minusFiveFrancs.appendTo(moneyBagTarget); \n\n        assertEquals(moneyBagTarget, fiveBucks);  // This fails.\n    }\n    public void testMoneyBagToMoneyComparison_add() {\n        MoneyBag moneyBagTarget = (MoneyBag)\n          MoneyBag.create(new Money(5, &quot;CHF&quot;),  new Money\n(5, &quot;USD&quot;)); \n        Money minusFiveFrancs = new Money(-5, &quot;CHF&quot;); \n        Money fiveBucks = new Money(5, &quot;USD&quot;); \n\n        IMoney fiveUSD = moneyBagTarget.add(minusFiveFrancs);\n        assertEquals(fiveBucks, fiveUSD);\n    }\n\n\nA possible &quot;fix:&quot;    ;-&gt;\nAdd to the FAQ:\n &quot;Q: Is there a bug in the Money sample code?&quot;\n &quot;A: Yes.  See if you can find it.  ;-&gt;&quot;\n\n\n\n", 
    "profile": "jeffgrigg63132", 
    "topicId": 14067, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139880894, 
    "prevInTime": 14066, 
    "contentTrasformed": false, 
    "postDate": "1120139516", 
    "canDelete": false, 
    "nextInTopic": 14069, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGRhMHRkcytxZnRpQGVHcm91cHMuY29tPg=="
    }
}