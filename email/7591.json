{
    "numMessagesInTopic": 10, 
    "nextInTime": 7592, 
    "senderId": "WvpVn9YC7hlgrxHr3wqmKPZwu9ozoITZaYsGyaE0CLeSjxRck9pXWLsiPXq0cr-m4HGCaffo-vljZRBAup7WhSG_s7dV0XPLg8MjL1yRBBVKK9YiGnxeML2P", 
    "systemMessage": false, 
    "subject": "Re: [junit] expensive setup which is definitely only required    once", 
    "from": "=?ISO-8859-1?Q?Bill_de_h=D3ra?= &lt;dehora@...&gt;", 
    "authorName": "Bill de hÓra", 
    "msgSnippet": "... At *least* as accepted as JUnit. Point being you ll usually be running tests in the context of a project structure - ant/make/whatever, there s a relative", 
    "msgId": 7591, 
    "profile": "bdehora", 
    "topicId": 7573, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 94742758, 
    "messageBody": "<div id=\"ygrps-yiv-1546166932\">J. B. Rainsberger wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;&gt;2. Using data in a file means worrying about where the files are on the<br/>\n&gt;&gt;<br/>\n&gt;&gt;file system when executing the tests.<br/>\n&gt;&gt;<br/>\n&gt;&gt;Use a relative offset from your project.home<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; &quot;project.home&quot;? You&#39;re assuming Ant, I guess. Ant is widely-accepted, but not universal... yet.<br/>\n<br/>\n </span></blockquote>At *least* as accepted as JUnit. Point being you&#39;ll usually be <br/>\nrunning tests in the context of a project structure - <br/>\nant/make/whatever, there&#39;s a relative path structure to be exploited <br/>\nin that case.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;&gt;3. What if I need to execute the tests on a file system that doesn&#39;t<br/>\n&gt;&gt;<br/>\n&gt;&gt;understand &quot;g:/myCsvFiles&quot;? (Yes, there are solutions, but none as easy as<br/>\n&gt;&gt;not having to worry about it.)<br/>\n&gt;&gt;<br/>\n&gt;&gt;What if I need to compile the java on a file system that doesn&#39;t <br/>\n&gt;&gt;understand &quot;g:/myCsvFiles&quot;?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I don&#39;t understand your implied point here.<br/>\n<br/>\n </span></blockquote>A project can be setup in such a ways as to not have to worry about <br/>\nfile systems, just relative paths. So this is somewhat incidental to <br/>\nwhether to keep files in or out of java. If my test run breaks on <br/>\ng:/myCsvFiles for a test input file, is it any less likely to break <br/>\non g:/project where the test java itself is located?<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;&gt;4. Tests that require the file system are slower.<br/>\n&gt;&gt;<br/>\n&gt;&gt;Not much. And not at all if you&#39;re testing through changing/adding <br/>\n&gt;&gt;files and not by changing the code.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I agree &quot;not much&quot;, except when there are 1000 tests.<br/>\n<br/>\n </span></blockquote>Sure, but not at all of which need files surely. At 1000 tests, file <br/>\ninput is becoming amortized, by the number of source code files.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I don&#39;t understand the logic of the second sentence.<br/>\n<br/>\n </span></blockquote>Testing code by making changes to a file and re-running the tests.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;&gt;5. Cleaning up the file system is asynchronous (from what I can tell)<br/>\n&gt;&gt;<br/>\n&gt;&gt;and unreliable to do in tests that execute at a rate of dozens per second.<br/>\n&gt;&gt;<br/>\n&gt;&gt;If you have to clean up the file system, clean up at the end the <br/>\n&gt;&gt;run; use Ant to rmdir.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; When was the last time you tried this? When I did, tearDown() finished before the files were removed, then the next test&#39;s setUp() complained that files already existed. That&#39;s why I don&#39;t like to do it. If the Java File calls were synchronized with the underlying file system, then this wouldn&#39;t be a problem.<br/>\n<br/>\n </span></blockquote>Perhaps we&#39;re talking about different things. I don&#39;t normally use <br/>\nteardown/setup for file based tests and I&#39;m not suggesting using the <br/>\nfile system as a shared memeory is a good idea, just that it&#39;s a <br/>\ngood place to keep files for *input* to a test. The test files are <br/>\n(should be) in version control, they only have to be read/loaded, <br/>\nand the majority of what&#39;ll be tested doesn&#39;t need to be written to <br/>\nanother file; it can be held in memory and inspected from there <br/>\nbefore being gc&#39;d.<br/>\n<br/>\nFor the odd time we are writing to disk, this works for the most part<br/>\n<br/>\n  $ ant test tidy<br/>\n<br/>\nBill de hÓra<br/>\n<br/>\n-- <br/>\nSorry, I don&#39;t know the word &quot;sorry&quot;.- SHRDLU</div>", 
    "prevInTime": 7590, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1049756780", 
    "canDelete": false, 
    "nextInTopic": 7615, 
    "prevInTopic": 7585, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwNDA3MTYzMzA1MDc0OS4wNkI2MDJFRUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PDNFOTIwNDZDLjcwMDA5MDRAZWlyY29tLm5ldD4=", 
        "referencesHeader": "PDIwMDMwNDA3MTgyMzIzLjEwMDYucW1haWxAd2ViODA0MDMubWFpbC55YWhvby5jb20+IDwyMDAzMDQwNzEzNDEzNjA0NjQuMDYxOTAyNjhAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDwzRTkxRTRFNi44MDMwNzAwQGVpcmNvbS5uZXQ+IDwyMDAzMDQwNzE2MzMwNTA3NDkuMDZCNjAyRUVAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+"
    }
}