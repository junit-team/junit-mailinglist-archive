{
    "numMessagesInTopic": 2, 
    "nextInTime": 23939, 
    "senderId": "Xf7dNu1I6g7v-dcnBBQ11oBhYp6r6dq9ZAM8kQoB5P1nLnTdwI0K099CK9FqY0VSF3h-mCNLVvRZMYBsdZPA8dDBm10HuTQoBWjJQ-Im", 
    "systemMessage": false, 
    "subject": "Re: [junit] Adapting JUnit for the BlackBerry Java Developers Environment.", 
    "from": "Esko Luontola &lt;esko.luontola@...&gt;", 
    "authorName": "Esko Luontola", 
    "msgSnippet": "... Even though your production code can t use reflection, it should be possible to use it in tests if you can run the tests on your desktop using the standard", 
    "msgId": 23938, 
    "profile": "egeluontola", 
    "topicId": 23937, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 395435659, 
    "messageBody": "<div id=\"ygrps-yiv-1471878055\">bakgat73 wrote on 27.7.2012 17:04:<br/>\n<blockquote><span title=\"ireply\"> &gt;  From my initial investigation, removing the AWT and Swing packages are<br/>\n&gt; not a problem, however reflection seems to be core to how JUnit function.<br/>\n<br/>\n </span></blockquote>Even though your production code can&#39;t use reflection, it should be <br/>\npossible to use it in tests if you can run the tests on your desktop <br/>\nusing the standard JRE. With most build tools this means keeping the <br/>\nproduction and the test code in different modules, so that you can <br/>\nconfigure them different JDKs.<br/>\n<br/>\nIf that is not possible, then here are some ideas:<br/>\n<br/>\nMaking JUnit uses reflection for finding out all test methods from a <br/>\nclass, and without reflection it would require lots of boilerplate to <br/>\nexplicitly call all those methods. An option would be to create your own <br/>\nframework (maybe reusing JUnit&#39;s assertions) or start based on a <br/>\nframework which uses reflection very little.<br/>\n<br/>\nFor example my Specsy testing framework (<a rel=\"nofollow\" target=\"_blank\" href=\"http://specsy.org/)\">http://specsy.org/)</a> uses <br/>\nreflection only when instantiating the test class [1], because the tests <br/>\nare declared using closures (in the Java version they will be anonymous <br/>\ninner classes, see this draft [2] on the syntax). Hard-coding that <br/>\ninstatiation would require only a single-method factory class for each <br/>\ntest class.<br/>\n<br/>\nIn the near future I&#39;ll rewrite Specsy in Java (it will be called Specsy <br/>\n2), and create thin frontends at least for Java, Scala and Groovy. After <br/>\nthat it might be possible to fork it and create a reflection-free Java <br/>\n1.3 compatible version. Specsy 2 and the Jumi test runner <br/>\n(<a rel=\"nofollow\" target=\"_blank\" href=\"http://jumi.fi/)\">http://jumi.fi/)</a>, which it will use, will require Java 7, but also Jumi <br/>\nuses very little reflection so it might be possible to fork and extract <br/>\na limited Java 1.3 compatible version of it.<br/>\n<br/>\nCreating your own testing framework is actually quite easy, if you just <br/>\nkeep the scope small. Without support for running tests in parallel, it <br/>\nis possible to implement the same programming model as in Specsy, plus a <br/>\nsmall test runner for it, in 10-50 hours. I wrote NanoSpec.go [3] in 6 <br/>\nhours (about 300 LOC production code) and it uses Go&#39;s minimal test <br/>\nrunner [4] (about 400 LOC), which would not take much longer to <br/>\nimplement either.<br/>\n<br/>\n[1] <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/orfjackal/specsy/blob/b9fa91cb70d9a09e74c2e71984b2da95c5c82481/src/main/scala/net/orfjackal/specsy/core/SpecClassRunner.scala#L18\">https://github.com/orfjackal/specsy/blob/b9fa91cb70d9a09e74c2e71984b2da95c5c82481/src/main/scala/net/orfjackal/specsy/core/SpecClassRunner.scala#L18</a><br/>\n[2] <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/orfjackal/specsy/blob/46ad34f93c8d1b343db601bf5200c9a1ef085706/specsy-core/src/test/java/org/specsy/examples/JavaStackSpecDraft4.java\">https://github.com/orfjackal/specsy/blob/46ad34f93c8d1b343db601bf5200c9a1ef085706/specsy-core/src/test/java/org/specsy/examples/JavaStackSpecDraft4.java</a><br/>\n[3] <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/orfjackal/nanospec.go\">https://github.com/orfjackal/nanospec.go</a><br/>\n[4] <a rel=\"nofollow\" target=\"_blank\" href=\"http://golang.org/pkg/testing/\">http://golang.org/pkg/testing/</a><br/>\n<br/>\n-- <br/>\nEsko Luontola<br/>\nwww.orfjackal.net</div>", 
    "prevInTime": 23937, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1343429838", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23937, 
    "headers": {
        "inReplyToHeader": "PGp1dTc0bStzcWQwQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDUwMTMxQ0NFLjEwMjA3MDFAZ21haWwuY29tPg==", 
        "referencesHeader": "PGp1dTc0bStzcWQwQGVHcm91cHMuY29tPg=="
    }
}