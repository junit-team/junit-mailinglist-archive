{
    "numMessagesInTopic": 4, 
    "nextInTime": 20876, 
    "senderId": "1OArv0wZnntKV9QDUbOsvMs8qWnSUqvzMwhdgz1zEi9fOz63XMRC6ocmy8v-Wxf77yrKsvMrKrw2Th9f0_1tkmCnppI02rbDSdy4", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Mock objects in JUnit 4.5 vs. 4.4", 
    "from": "Steve Freeman &lt;smgfreeman@...&gt;", 
    "authorName": "Steve Freeman", 
    "msgSnippet": "I m struggling a bit with this example, especially given that everything is static. And it looks like the test is exercising the Mock, not the real thing. My", 
    "msgId": 20875, 
    "rawEmail": "Return-Path: &lt;steve.freeman@...&gt;\r\nX-Sender: steve.freeman@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 8929 invoked from network); 13 Sep 2008 14:29:42 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m47.grp.scd.yahoo.com with QMQP; 13 Sep 2008 14:29:42 -0000\r\nX-Received: from unknown (HELO rs49.luxsci.com) (65.61.166.75)\n  by mta15.grp.scd.yahoo.com with SMTP; 13 Sep 2008 14:29:42 -0000\r\nX-Received: from rs49.luxsci.com (localhost [127.0.0.1])\n\tby rs49.luxsci.com (8.13.1/8.13.7) with ESMTP id m8DETfWJ017127\n\tfor &lt;junit@yahoogroups.com&gt;; Sat, 13 Sep 2008 09:29:41 -0500\r\nX-Received: (from root@localhost)\n\tby rs49.luxsci.com (8.13.1/8.13.7/Submit) id m8DET2Ul015809\n\tfor junit@yahoogroups.com; Sat, 13 Sep 2008 14:29:02 GMT\r\nMessage-Id: &lt;200809131429.m8DET2Ul015809@...&gt;\r\nX-Received: (from steve.freeman@...) by Lux Scientiae SMTP Processor; Sat, 13 Sep 2008 14:29:02 +0000\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;gab3sr+4ktn@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nContent-Transfer-Encoding: 7bit\r\nDate: Sat, 13 Sep 2008 15:28:49 +0100\r\nReferences: &lt;gab3sr+4ktn@...&gt;\r\nX-Comment: Lux Scientiae SMTP Processor Message ID - 1221316142-3759751.32183245\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Steve Freeman &lt;smgfreeman@...&gt;\r\nSubject: Re: [junit] Re: Mock objects in JUnit 4.5 vs. 4.4\r\nX-Yahoo-Group-Post: member; u=206880094; y=BJo6XT5yHzq93383Ox3AiHcjLdL_TgTuPkGHsLIlaPAzUTZdOt4\r\nX-Yahoo-Profile: smg_freeman\r\n\r\nI&#39;m struggling a bit with this example, especially given that  \neverything is static. And it looks like the test is exercising the  \nMock, not the real thing. My only thought is that 4.5 might have  \nchanged the initialisation order. That&#39;s why junit is based on  \ninstances...\n\nS\n\nOn 11 Sep 2008, at 13:45, pmcevoy12 wrote:\n&gt; Steve,\n&gt;\n&gt; We are using both jmockit and easymock.\n&gt;\n&gt; I have not figured out what is going on with the tests using EasyMock.\n&gt; They have several &quot;unexpected invocation&quot; errors.  The tests work\n&gt; fine in 4.4 and have the errors with 4.5.  The developer that owns it\n&gt; is looking into it.\n&gt;\n&gt; The test class using jmockit was like the following code.  This is not\n&gt; the original code, but it has the important elements.\n&gt; Disclaimer - The code organization is a bit weird.  E.g. there is no\n&gt; reason for a mock class to also extend the same class.  This was\n&gt; written by someone else.  I&#39;ve since cleaned it up a bit.\n&gt;\n&gt; /** The class to be tested. */\n&gt; public class RealClass\n&gt; {\n&gt;   public List someMethod(Set input) {\n&gt;       // do something\n&gt;   }\n&gt; }\n&gt;\n&gt;\n&gt; /** The test class. */\n&gt; public class SomeTest\n&gt; {\n&gt;    // for some reason they had both an instance of\n&gt;    // the mocked class and one of the real class\n&gt;    private static MockClass mockObj;\n&gt;    private static RealClass realObj;\n&gt;\n&gt;    // the data to be returned by the mocked method\n&gt;    private static List someData;\n&gt;\n&gt;    @BeforeClass\n&gt;    private static void classSetup() {\n&gt;        Mockit.setUpMocks(MockClass.class);\n&gt;    }\n&gt;\n&gt;    @AfterClass\n&gt;    public static void classTearDown() {\n&gt;        Mockit.restoreAllOriginalDefinitions();\n&gt;    }\n&gt;\n&gt;    public class MockClass extends RealClass\n&gt;    {\n&gt;        @Override\n&gt;        public List someMethod(Set input) {\n&gt;            return someData;\n&gt;        }\n&gt;    }\n&gt;\n&gt;    // here is the problem\n&gt;    // they use an instance of the real class and call someMethod\n&gt;    // the method is mocked and setup above\n&gt;    // in 4.4 it would call RealClass.someMethod()\n&gt;    // in 4.5 it would call MockClass.someMethod()\n&gt;    @Test\n&gt;    public void test1() {\n&gt;        Set input = ...;\n&gt;        List list = realClass.someMethod(input);\n&gt;        assertNotNull(list);\n&gt;        // and so on...\n&gt;    }\n&gt; }\n&gt;\n&gt;\n&gt; --- Patrick\n&gt;\n&gt;\n&gt; --- In junit@yahoogroups.com, Steve Freeman &lt;smgfreeman@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; Which mock framework, if any, are you using? Can you post an example?\n&gt;&gt;\n&gt;&gt; S.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On 9 Sep 2008, at 13:00, pmcevoy12 wrote:\n&gt;&gt;&gt; Hi,\n&gt;&gt;&gt;\n&gt;&gt;&gt; Are there any changes between 4.4 and 4.5 in regards to Mock  \n&gt;&gt;&gt; objects?\n&gt;&gt;&gt;\n&gt;&gt;&gt; I am updating at work and I am seeing some tests that use mock  \n&gt;&gt;&gt; objects\n&gt;&gt;&gt; pass in 4.4 and now fail in 4.5.  In one case I found that a class\n&gt;&gt;&gt; that had one method mocked was using the real method in 4.4 (which\n&gt;&gt;&gt; seems wrong) and was using the mocked method in 4.5 (which seems\n&gt;&gt;&gt; right).\n&gt;&gt;&gt;\n&gt;&gt;&gt; That is, it seems as if a bug was fixed from 4.4 to 4.5.\n&gt;&gt;&gt;\n&gt;&gt;&gt; I fixed that one test of ours and now I am looking at a few others  \n&gt;&gt;&gt; for\n&gt;&gt;&gt; similar situations.  I am mostly just curious.  Thanks.\n&gt;&gt;&gt;\n&gt;&gt;&gt; --- Patrick\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt; Steve Freeman\n&gt;&gt; http://www.mockobjects.com\n&gt;&gt;\n&gt;&gt; Winner of the Agile Alliance Gordon Pask award 2006\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\nSteve Freeman\nhttp://www.mockobjects.com\n\nWinner of the Agile Alliance Gordon Pask award 2006\n\n\n\n\n", 
    "profile": "smg_freeman", 
    "topicId": 20857, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 206880094, 
    "prevInTime": 20874, 
    "contentTrasformed": false, 
    "postDate": "1221316129", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20868, 
    "headers": {
        "inReplyToHeader": "PGdhYjNzcis0a3RuQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDgwOTEzMTQyOS5tOERFVDJVbDAxNTgwOUByczQ5Lmx1eHNjaS5jb20+", 
        "referencesHeader": "PGdhYjNzcis0a3RuQGVHcm91cHMuY29tPg=="
    }
}