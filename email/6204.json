{
    "numMessagesInTopic": 10, 
    "nextInTime": 6205, 
    "senderId": "T9wNbWNZzXL5jfmV7-lsMth20GeVU7sk8ljBRl-Ocp8sLSozzX_rsgsMvNnTpcw6tdp-n8-Em2FmiQVqiJ5LjMK8TcV2B0IYgW-qvfNRNGrcDnB8XquL-La5DhGOLOSfmigi", 
    "systemMessage": false, 
    "subject": "RE: [junit] problem with assert equals", 
    "from": "&quot;Durham David Cntr 805CSS/SCBE&quot; &lt;David.Durham1@...&gt;", 
    "authorName": "Durham David Cntr 805CSS/SCBE", 
    "msgSnippet": "I think I see where this is going.  What does the Factory class look like, specifically the constructor. ... http://docs.yahoo.com/info/terms/", 
    "msgId": 6204, 
    "topicId": 6192, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 122988120, 
    "messageBody": "<div id=\"ygrps-yiv-2115154428\">I think I see where this is going.  What does the Factory class look like, specifically the constructor.<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; -----Original Message-----<br/>\n&gt; From: J. B. Rainsberger [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbr@...\">jbr@...</a>]<br/>\n&gt; Sent: Thursday, November 14, 2002 1:03 PM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: RE: [junit] problem with assert equals<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; So said  Durham David Cntr 805CSS/SCBE  on  2002-11-14 <br/>\n&gt; <br/>\n&gt; &gt;&gt; -----Original Message-----<br/>\n&gt; &gt;&gt; From: J. B. Rainsberger [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbr@...\">jbr@...</a>]<br/>\n&gt; &gt;&gt; Sent: Thursday, November 14, 2002 10:53 AM<br/>\n&gt; &gt;&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt;&gt; Subject: Re: [junit] problem with assert equals<br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;&gt; So said  Durham David Cntr 805CSS/SCBE  on  2002-11-14 <br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;&gt; &gt;I am making an assertion in a test script and it is throwing <br/>\n&gt; &gt;&gt; an error.<br/>\n&gt; &gt;&gt;  I<br/>\n&gt; &gt;&gt; &gt;know that the arguments that I am passing into the assertion <br/>\n&gt; &gt;&gt; are valid<br/>\n&gt; &gt;&gt; &gt;String objects.<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;Here&#39;s the error:<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;\tCaused an ERROR<br/>\n&gt; &gt;&gt; &gt;junit.framework.Assert.assertEquals(Ljava/lang/String;Ljava/l<br/>\n&gt; &gt;&gt; ang/String<br/>\n&gt; &gt;&gt; ;)V<br/>\n&gt; &gt;&gt; &gt;\tat<br/>\n&gt; &gt;&gt;<br/>\n&gt; mil.usaf.rad.course.tests.CourseFactoryTest.testCreateSection(Unknown<br/>\n&gt; &gt;&gt; &gt;Source)<br/>\n&gt; &gt;&gt; &gt;\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n&gt; &gt;&gt; &gt;\tat<br/>\n&gt; &gt;&gt; &gt;sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAcces<br/>\n&gt; &gt;&gt; sorImpl.ja<br/>\n&gt; &gt;&gt; va:39)<br/>\n&gt; &gt;&gt; &gt;\tat<br/>\n&gt; &gt;&gt; &gt;sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMet<br/>\n&gt; &gt;&gt; hodAccesso<br/>\n&gt; &gt;&gt; rImpl.java:25)<br/>\n&gt; &gt;&gt; &gt;\tat<br/>\n&gt; &gt;&gt; org.netbeans.core.execution.RunClassThread.run(RunClassThread.<br/>\n&gt; &gt;&gt; java:119)<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;Here&#39;s the code:<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;    public void testCreateSection() throws Exception {<br/>\n&gt; &gt;&gt; &gt;        Section section = CourseFactory.newSection();<br/>\n&gt; &gt;&gt; &gt;\t  section.setCourse(course);<br/>\n&gt; &gt;&gt; &gt;        section.setName(&quot;section&quot;);<br/>\n&gt; &gt;&gt; &gt;        section.setAccountRequired(false);<br/>\n&gt; &gt;&gt; &gt;        section.save();<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;        Section section2 =<br/>\n&gt; &gt;&gt; &gt;CourseFactory.getSection(section.getSectionID());<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;        //System.err.println(&quot;section2 name: &quot; +<br/>\n&gt; section2.getName());<br/>\n&gt; &gt;&gt; &gt;        //System.err.println(&quot;section name: &quot; + <br/>\n&gt; section.getName());<br/>\n&gt; &gt;&gt; &gt;&gt;&gt;      assertEquals(section.getName(), <br/>\n&gt; section2.getName());     //<br/>\n&gt; &gt;&gt; throws<br/>\n&gt; &gt;&gt; &gt;the error<br/>\n&gt; &gt;&gt; &gt;        assertEquals(section.getCourse(), section2.getCourse());<br/>\n&gt; //<br/>\n&gt; &gt;&gt; if I<br/>\n&gt; &gt;&gt; &gt;comment the line above, then this line will run just fine.<br/>\n&gt; &gt;&gt; &gt;        assertEquals(section.getAccountRequired(),<br/>\n&gt; &gt;&gt; &gt;section2.getAccountRequired());<br/>\n&gt; &gt;&gt; &gt;    }<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;If I uncomment the System.err lines then I see that both of these<br/>\n&gt; &gt;&gt; objects<br/>\n&gt; &gt;&gt; &gt;have the name &quot;section&quot; which is what I want, but for some reason<br/>\n&gt; the<br/>\n&gt; &gt;&gt; call<br/>\n&gt; &gt;&gt; &gt;to assertEquals will throw the error above.<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;Does anyone know what would or could be causing this?<br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;&gt; I don&#39;t, but I have another suggestion once you get past that<br/>\n&gt; problem:<br/>\n&gt; &gt;&gt; consider implementing equals() and hashCode() on &quot;Section&quot; and just<br/>\n&gt; &gt;&gt; checking<br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;&gt; \tassertEquals(section, section2);<br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;&gt; The tests become less brittle and easier to read. :)<br/>\n&gt; &gt;&gt; <br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;That&#39;s a good point, but I also want to check to see if the <br/>\n&gt; references<br/>\n&gt; are<br/>\n&gt; &gt;to the exact same object otherwise the factory is not<br/>\n&gt; &gt;doing what it is supposed to do.  It does get worse as more methods<br/>\n&gt; are<br/>\n&gt; &gt;added to the testing so I&#39;ve been using reflection to loop through<br/>\n&gt; them.<br/>\n&gt; &gt;<br/>\n&gt; &gt;Got any ideas on this?<br/>\n&gt; <br/>\n&gt; Well, there&#39;s assertSame() to check whether the factory is providing<br/>\n&gt; the same object.<br/>\n&gt; <br/>\n&gt; If your goal is to run the same tests for multiple factory methods,<br/>\n&gt; then you could use a pattern similar to JUnit&#39;s TestCase class itself.<br/>\n&gt; Create an instance of the factory method, then use the abstract test<br/>\n&gt; case pattern to write unifying tests.<br/>\n&gt; <br/>\n&gt; Here is an example:<br/>\n&gt; <br/>\n&gt; MyFactory {<br/>\n&gt;     factoryMethod1() {...}<br/>\n&gt;     factoryMethod2() {...}<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; abstract FactoryCreatesSameObjectTestCase extends TestCase {<br/>\n&gt;     abstract makeFactory() {...}<br/>\n&gt;     testSameObject() {<br/>\n&gt;         MyFactory factory = makeFactory();<br/>\n&gt;         assertSame(factory.makeObject(), factory.makeObject());<br/>\n&gt;     }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; FactoryMethodTestCase extends FactoryCreatesSameObjectTestCase {<br/>\n&gt;     suite() {<br/>\n&gt;         TestSuite suite = new TestSuite();<br/>\n&gt;         suite.addTest(new FactoryMethodTestCase() {<br/>\n&gt;             makeFactory() {<br/>\n&gt;                 return new Factory(&quot;factoryMethod1&quot;);<br/>\n&gt;             }<br/>\n&gt;         });<br/>\n&gt;         suite.addTest(new FactoryMethodTestCase() {<br/>\n&gt;             makeFactory() {<br/>\n&gt;                 return new Factory(&quot;factoryMethod2&quot;);<br/>\n&gt;             }<br/>\n&gt;         });<br/>\n&gt;         return suite;<br/>\n&gt;     }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; You can then refactor the &quot;addTest&quot; calls to loop over a list of<br/>\n&gt; factory method names. Then refactor the names out to a <br/>\n&gt; properties file.<br/>\n&gt; <br/>\n&gt; The abstract test case ensures that the same &quot;testSameObject&quot; test is<br/>\n&gt; executed for all the factory methods. You can supplement these tests<br/>\n&gt; with additional, factory-method-specific tests, as needed.<br/>\n&gt; <br/>\n&gt; Does that help?<br/>\n&gt; <br/>\n&gt; J. B. Rainsberger,<br/>\n&gt; President, Diaspar Software Services<br/>\n&gt; Let&#39;s write software that people understand.<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\n&gt; telephone: +1 416 791-8603<br/>\n&gt; All correspondence (c) 2002 Diaspar Software Services.<br/>\n&gt; If you want to use it, just ask; don&#39;t steal.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <br/>\n </span></blockquote><a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a></div>", 
    "prevInTime": 6203, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1037302655", 
    "canDelete": false, 
    "nextInTopic": 6205, 
    "prevInTopic": 6203, 
    "headers": {
        "messageIdInHeader": "PEYyQzFGQjBBMTFGMDY2NDY4QjlGMzg4NDVFMjlGRkUzMDFGNTRDOTNAYW1jdzJtczgxMi5hbWMuZHMuYWYubWlsPg=="
    }
}