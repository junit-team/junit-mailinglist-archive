{
    "numMessagesInTopic": 6, 
    "nextInTime": 3152, 
    "senderId": "l8VXbkXnWhrir4YImGmAMKJEzgKhqMFkTyqa6jvn6epGTVAF62bNUf51sYzajj0CSIeGXLEG2MR7miVA7Ve0Rq_ywg_nLMXuTRYiiV27hWOpNN6PbJsgCOfAaQ", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Behavior of tearDown and exceptions", 
    "from": "&quot;Di Iorio, Matthew (ISS Atlanta)&quot; &lt;mdiiorio@...&gt;", 
    "authorName": "Di Iorio, Matthew (ISS Atlanta)", 
    "msgSnippet": "Thanks for the reply.  Your proposed solution would not solve the problem I am trying to address.  My situation is the following: 1. My test method throws an", 
    "msgId": 3151, 
    "profile": "yahoodoo", 
    "topicId": 3084, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-37792423\">Thanks for the reply.  Your proposed solution would not solve the problem I<br/>\nam trying to address.  My situation is the following:<br/>\n<br/>\n1. My test method throws an exception.  This exception indicates the real<br/>\nproblem.<br/>\n2. My tearDown method throws an exception.  This exception is caused by an<br/>\ninvalid state because my test method did not run all way through.<br/>\n<br/>\nThis is a problem because of #2.  The way the JUnit framework is written,<br/>\nany exception coming out of tearDown will mask any exception coming out of a<br/>\ntest method.<br/>\n<br/>\nRemember that fail() is really just a method that throws an<br/>\nAssertionFailedError.  So, your solution below will still cause the<br/>\nexception thrown from tearDown to mask the exception thrown by fail() in the<br/>\ntest method.<br/>\n<br/>\nIn my case the exception thrown in the test method is the root of the<br/>\nproblem.  But, I can&#39;t see that exception without modifying my code to print<br/>\nthe exception.  Once I fix the problem, I have to go back and remove the<br/>\ncode I added to print the exception.<br/>\n<br/>\nMatt<br/>\n<br/>\n-----Original Message-----<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:nils_khare@...\">nils_khare@...</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:nils_khare@...\">nils_khare@...</a>]<br/>\nSent: Friday, October 26, 2001 7:12 PM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: [junit] Re: Behavior of tearDown and exceptions<br/>\n<br/>\n<br/>\nHi Matt,<br/>\n<br/>\nJUnit behaves in the following way for catching Exceptions and a <br/>\nlittle modification in the test code would help solving your problem.<br/>\n <br/>\n1) public void testFoo() throws SomeDBException{<br/>\n     //Some code that would throw SomeDBException<br/>\n   }<br/>\n<br/>\nJUnit would automatically catch the Exception and display that as an <br/>\nError (denoted by E in the output). In the description below it would <br/>\ngive details about this Exception.<br/>\n<br/>\n2) public void testFoo(){<br/>\n      try{<br/>\n        //Some code that would throw SomeDBException<br/>\n      }<br/>\n      catch(SomeDBException e){<br/>\n        //Option I  - Nothing<br/>\n        //Option II -<br/>\n        fail(&quot;SomeDBException caught&quot;);<br/>\n      }<br/>\n<br/>\nIn this second case when SomeDBException is thrown with Option I, <br/>\nJUnit would assume that you are trying to catch this Exception and <br/>\nassuming that this is a negative test would &#39;PASS&#39; the test.<br/>\n<br/>\nIn this second case when Option II is put into effect by giving a <br/>\nspecific fail() command, JUnit makes the method to &#39;FAIL&#39;.<br/>\n<br/>\nOut of the two of the above, if you are really not interested in <br/>\ncatching the Exeption then it should be just declared to be thrown <br/>\nand not explicitly caught and then JUnit would give you the result <br/>\nthe way you want it.<br/>\n<br/>\nIf you are doing this all and still getting the mentioned <br/>\nSomeDBException then that means something needs to be investigated <br/>\nfurther.<br/>\n<br/>\nI would never modify the Production code in order to make my tests <br/>\npass or fail.<br/>\n<br/>\n- Nilesh<br/>\n<br/>\n--- In junit@y..., &quot;Di Iorio, Matthew (ISS Atlanta)&quot; &lt;mdiiorio@i...&gt; <br/>\nwrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Laurent&#39;s message about tearDown getting called reminded me of <br/>\n </span></blockquote>something<br/>\n<blockquote><span title=\"ireply\"> &gt; I&#39;ve wanted to post to the list.<br/>\n&gt; <br/>\n&gt; A few weeks back I was working with some database tests and was <br/>\n </span></blockquote>getting odd<br/>\n<blockquote><span title=\"ireply\"> &gt; behavior.  It took me a little while to figure it out, but what was<br/>\n&gt; happening was a test method was throwing an exception because of <br/>\n </span></blockquote>some<br/>\n<blockquote><span title=\"ireply\"> &gt; database error.  The tearDown method attempted to cleanup after the <br/>\n </span></blockquote>test and<br/>\n<blockquote><span title=\"ireply\"> &gt; it also threw a database exception.  All I got back was the <br/>\n </span></blockquote>exception that<br/>\n<blockquote><span title=\"ireply\"> &gt; occurred in tearDown, not the exception that occurred in the test <br/>\n </span></blockquote>method.<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; It was a real pain because I had to modify the production code to <br/>\n </span></blockquote>catch and<br/>\n<blockquote><span title=\"ireply\"> &gt; print the exception so I could uncover the actual problem.<br/>\n&gt; <br/>\n&gt; My preferred solution would be to print both exceptions.  If I get <br/>\n </span></blockquote>an<br/>\n<blockquote><span title=\"ireply\"> &gt; exception in testFoo and in tearDown, JUnit should print the <br/>\n </span></blockquote>following:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; 1) testFoo(net.iss.FooTest) <br/>\n&gt; java.lang.Exception<br/>\n&gt; \tat ...<br/>\n&gt; Exception in tearDown:<br/>\n&gt; java.lang.Exception<br/>\n&gt; \tat ...<br/>\n&gt; <br/>\n&gt; I would be willing to put together a patch to do this.  Comments?<br/>\n&gt; <br/>\n&gt; Matt<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>To unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n <br/>\n<br/>\nYour use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a></div>", 
    "prevInTime": 3150, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1004566698", 
    "canDelete": false, 
    "nextInTopic": 3152, 
    "prevInTopic": 3120, 
    "headers": {
        "messageIdInHeader": "PEZENkIwMjQ0NzY2REQ1MTE4QUMwMDAzMDZFMDBCMEIxMkYwRDI3QG1zZ2F0bDA3Lmlzcy5uZXQ+"
    }
}