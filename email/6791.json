{
    "numMessagesInTopic": 15, 
    "nextInTime": 6792, 
    "senderId": "nnuvSYLAiofG2YS8XtzKaSb7NV-iaZv2SoNczwFuFhAk42DLvKUxdt5IpnvDnXRbS3vLBP4m2408ia8YpsFA6hLk-2tUteuM1HAKBIwEvLFw7O0iLGaCw_S7WWsrjBph5dUEkJer", 
    "systemMessage": false, 
    "subject": "Re: ** How to test objects that depend on other objects with mock objects **", 
    "from": "&quot;tobemligado &lt;jasbell@...&gt;&quot; &lt;jasbell@...&gt;", 
    "authorName": "tobemligado &lt;jasbell@consultant.com&gt;", 
    "msgSnippet": "Hello. REGARDING: Q: Why is ConfigManager a singleton? ==================================================== Its a singleton because it needs to hold some", 
    "msgId": 6791, 
    "profile": "tobemligado", 
    "topicId": 6743, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 48242015, 
    "messageBody": "<div id=\"ygrps-yiv-105443789\">Hello.<br/>\n<br/>\nREGARDING: &quot;Q: Why is ConfigManager a singleton?&quot;<br/>\n====================================================<br/>\nIts a singleton because it needs to hold some state (so I would like <br/>\nan instance), its state is to be referred to throughout the uptime of <br/>\nthe app, and finally it is called and used by several objects in the <br/>\nsystem.  Also, like I said, I want to say &quot;ConfigManager is not valid <br/>\nuntil its state (the other objects it loads) has also been <br/>\nsuccessfully created&quot;.  <br/>\n<br/>\nREGARDING:  Your answer:<br/>\nI did not originally do what you suggested with the second public <br/>\nconstructor because other members of my team will see it and use it <br/>\nif they dont know better.  I feel its like &quot;changing the house to fit <br/>\nthe door&quot;.<br/>\n<br/>\nI will now read the article you suggested<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;J. B. Rainsberger&quot; &lt;jbr@d...&gt; wrote:<br/>\n&gt; So said  tobemligado &lt;jasbell@c...&gt;  on  2003-01-26<br/>\n&gt; --------------------<br/>\n&gt; <br/>\n&gt; &gt;I have a singleton called &quot;ConfigManager&quot;, where in its <br/>\nconstructor <br/>\n&gt; &gt;it reads in a bunch of files from a directory and creates <br/>\nobjectsfrom <br/>\n&gt; &gt;the files.  I am doing this because I want to say &quot;ConfigManager <br/>\nis <br/>\n&gt; &gt;not valid until these other objects have also been successfully <br/>\n&gt; &gt;created&quot;.  <br/>\n&gt; &gt;<br/>\n&gt; &gt;I want the &quot;ConfigManager&quot; to be able to read a directory full <br/>\n&gt; &gt;of &quot;bad files&quot; in some test scenarios, a directory full of &quot;good <br/>\n&gt; &gt;files&quot; in other test scenarios, and a directory full of &quot;good and <br/>\nbad <br/>\n&gt; &gt;files&quot; in yet other test scenarios.  Ultimately, the program will <br/>\n&gt; &gt;have to handle &quot;good and bad files&quot;,<br/>\n&gt; &gt;<br/>\n&gt; &gt;My problem is that I need to &quot;trick&quot; the &quot;ConfigManager&quot; into <br/>\nusing <br/>\n&gt; &gt;the three directories in different test scenarios, but I dont want <br/>\nto <br/>\n&gt; &gt;alter the fact that all objects are created in &quot;ConfigManager&#39;s&quot; <br/>\n&gt; &gt;constructor.  Here is what is in the constructor for the <br/>\n&gt; &gt;singleton &quot;ConfigManager&quot;:<br/>\n&gt; &gt;----------------------------------------------------<br/>\n&gt; &gt;String basePath = ServiceResources.CONFIG_FILE_DIRECTORY;<br/>\n&gt; &gt;setBaseDirectory(basePath);<br/>\n&gt; &gt;loadAllFilesFound(getBaseDirectory());<br/>\n&gt; &gt;loadConfigFilesFound(getAllFilesFoundList());<br/>\n&gt; &gt;ArrayList configList = createConfigurations(getConfigFilesFound());<br/>\n&gt; &gt;TriggerManager tm = TriggerManager.getInstance();<br/>\n&gt; &gt;ArrayList triggerList = tm.createTriggers(configList);<br/>\n&gt; &gt;tm.registerTriggers(triggerList);<br/>\n&gt; &gt;----------------------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt;How can I switch the CONFIG_FILE_DIRECTORY value for testing when <br/>\nits <br/>\n&gt; &gt;in the constructor? <br/>\n&gt; <br/>\n&gt; 1. Create a new, public constructor. Make the value a constructor<br/>\n&gt; parameter.<br/>\n&gt; 2. Have the private/protected no-argument constructor delegate to <br/>\nthe<br/>\n&gt; new constructor passing in the default (production) values.<br/>\n&gt; 3. Test through the new constructor.<br/>\n&gt; <br/>\n&gt; If people ask for the singleton instance, then they get the <br/>\nproduction<br/>\n&gt; instance. If people use the other constructor, then they have to<br/>\n&gt; provide the necessary data for the ConfigManager to work on.<br/>\n&gt; <br/>\n&gt; Done.<br/>\n&gt; <br/>\n&gt; Q: Why is ConfigManager a singleton?<br/>\n&gt; <br/>\n&gt; Google &quot;Use your singletons wisely&quot;. Read it and let me know if it<br/>\n&gt; changes your mind to use a singleton.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; J. B. Rainsberger,<br/>\n&gt; President, Diaspar Software Services<br/>\n&gt; Let&#39;s write software that people understand.<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\n&gt; telephone: +1 416 791-8603<br/>\n&gt; All correspondence (c) 2002 Diaspar Software Services.<br/>\n&gt; If you want to use it, just ask; don&#39;t steal. </span></blockquote></div>", 
    "prevInTime": 6790, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1043626507", 
    "canDelete": false, 
    "nextInTopic": 6792, 
    "prevInTopic": 6777, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMTI2MTUwNzI4MDI1OS4wMDgyMTgyM0BzbXRwLnltLnBodWIubmV0LmNhYmxlLnJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PGIxMXRtYitkYTVuQGVHcm91cHMuY29tPg=="
    }
}