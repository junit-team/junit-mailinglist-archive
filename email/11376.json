{
    "numMessagesInTopic": 24, 
    "nextInTime": 11377, 
    "senderId": "ogRHCIMYt1Q3bevc37tRgfSgQV8PrW9L6XL5bps2O_Ltqn-G9RaoQBmhGb7S4fXHimYGdkMs7IskZ-p0GI65-pZNOaVWifA5gO0", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit not matching to my needs - execute order shows design flaw ?", 
    "from": "Andrew Forward &lt;aforward@...&gt;", 
    "authorName": "Andrew Forward", 
    "msgSnippet": "Sometimes it is the case where a test is over-asserting itself, and really checking for things that are already present in other tests (or if not, then should", 
    "msgId": 11376, 
    "profile": "andrewforward1978", 
    "topicId": 11360, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190547346, 
    "messageBody": "<div id=\"ygrps-yiv-1422501352\">Sometimes it is the case where a test is over-asserting itself, and<br/>\nreally checking for things that are already present in other tests (or<br/>\nif not, then should be refactored into additional tests).<br/>\n<br/>\nLet&#39;s look at a test for an array list (written in pseudo c#):<br/>\n<br/>\n[Test]<br/>\npublic void GetElementAtMiddleIndex()<br/>\n{<br/>\n  ArrayList list = new ArrayList();<br/>\n  list.Add(&quot;a&quot;);<br/>\n  list.Add(&quot;b&quot;);<br/>\n  list.Add(&quot;c&quot;);<br/>\n  Assert.AreEqual(3,list.Count,&quot;the elements were not added properly);<br/>\n  Assert.AreEqual(&quot;b&quot;,list[1]);<br/>\n}<br/>\n<br/>\nSuppose that the indexing works fine, this test could still fail for<br/>\ntwo reasons...<br/>\n  1) The Add method is broken<br/>\n  2) The Count property is broken<br/>\n<br/>\nAs is, the count is really not necessary.  We are not verifying Count<br/>\nin this test, but rather indexing.  Although I would argue that it is<br/>\nnice to have pre-requisites satisfied in the middle of a test, to help<br/>\ndirect your attention to the true cause of the issue.<br/>\n<br/>\nMuch like the snowball effect of the nuclear reactor plant example.  A<br/>\ndefect occurs, which in turn causes other defects (which in turn<br/>\ncauses more defects, and so on).  From an analysis perspective it is<br/>\ndifficult to pin-point the root defect because it is being masks but<br/>\nsubsequent ones.  Unlike the above example, where the order of the<br/>\ndefects can be used to unravel the issue, in testing order is<br/>\nindependent, so the primary defects are not necessarily those that<br/>\noccur first.<br/>\n<br/>\nTo address this, it would interesting to append two additional bits of<br/>\ninformation on an assertion.<br/>\n<br/>\n1) Assumption.AreEqual(3,list.Count,&quot;Check the count, and the add methods&quot;);<br/>\n2) Corollory.IsTrue(list.ContainsOnly(typeof(string)));<br/>\n<br/>\nAn assumption is really a pre-requisite - that if fails, really means<br/>\nthat you were not even able to set-up to do the real testing.  Having<br/>\nassumptions fail helps to pin-point coupling between components - as<br/>\nwell as helps direct your attention was secondary failing tests to the<br/>\nprimary ones (aka the failed Assertions).<br/>\n<br/>\nAn corollary is something you believe to be true, but is not essential<br/>\nto your unit test itself.  Corollaries are nice because you indirectly<br/>\nadd additional tests for other components of our system without that<br/>\nmuch extra overhead.  Failing corollaries may highlight obscure bugs<br/>\nin other parts of your system, or they highlight your<br/>\nmis-understanding of those other parts (or they highlight a change to<br/>\nthe underlying assumptions of those parts).<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nOn Thu, 8 Jul 2004 10:22:01 +0000, Jason Rogers<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jacaetevha@...\">jacaetevha@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; On Wednesday 07 July 2004 10:49 pm, Curt Sampson wrote:<br/>\n&gt; &gt;  On Tue, 6 Jul 2004, hedgi wrote:<br/>\n&gt; &gt;  &gt;   Now I there is the problem. I want to run &quot;testCommon&quot; first<br/>\n&gt; &gt;  &gt;   which is in the &quot;BasicGetListTest&quot; but when I subclass it with<br/>\n&gt; &gt;  &gt;   &quot;GlucoseGetListTest&quot; it is always executed last. I read some of<br/>\n&gt; &gt;  &gt;   the postings in this newsgroup, but it seems that such kind of<br/>\n&gt; &gt;  &gt;   requirement point a desing flaw and I should somehow rearrange my<br/>\n&gt; &gt;  &gt;   Unit Test Structure to made the tests indepentdant. I&#39;m stuck with<br/>\n&gt; &gt;  &gt;   it.<br/>\n&gt; &gt;<br/>\n&gt; &gt;  I&#39;ve been thinking for a while that this is a serious problem in JUnit<br/>\n&gt; &gt;  (and most unit testing frameworks), because it&#39;s been such an annoyance<br/>\n&gt; &gt;  for so many people. Let&#39;s face it; a lot of groups of tests do have<br/>\n&gt; &gt;  known dependencies between tests such that if test A fails, we know that<br/>\n&gt; &gt;  the output of tests B, C and D are uninteresting. Yet we end up running<br/>\n&gt; &gt;  B, C and D anyway, and then searching through all the error output for<br/>\n&gt; &gt;  the failure that we know is the &quot;real&quot; one, ignoring all the others as<br/>\n&gt; &gt;  spurious.<br/>\n&gt; <br/>\n&gt; With all due respect, I believe that is a code smell.  It seems to say to me<br/>\n&gt; that there is something not right about the design of the code being tested,<br/>\n&gt; or perhaps even more elusive, something is wrong with how the tests are<br/>\n&gt; written.  When I find these types of dependencies I inevitably rethink how I<br/>\n&gt; have written my tests.  Have I coded in the dependencies or are they really<br/>\n&gt; there.  More times than not I have coded in the dependencies -- and therefore<br/>\n&gt; I can remove them.  Further, I would argue that I _NEED_ to remove them.<br/>\n&gt; Now, maybe I am old-fashioned but I believe tests (at least at the<br/>\n&gt; unit/programmer level) ought to be as autonomous as possible.<br/>\n&gt; <br/>\n&gt; --<br/>\n&gt; Jason Rogers<br/>\n&gt; 117 N. First Street<br/>\n&gt; Suite 90<br/>\n&gt; Ann Arbor, MI 48104<br/>\n&gt; <br/>\n&gt; Tel 734.302.7694<br/>\n&gt; Fax 734.302.7694<br/>\n&gt; Cel 734.846.5089<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 11375, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1089326391", 
    "canDelete": false, 
    "nextInTopic": 11379, 
    "prevInTopic": 11375, 
    "headers": {
        "inReplyToHeader": "PDIwMDQwNzA4MTAyMi4wMTE0NS5qYXNvbi5yb2dlcnNAcmlza21ldHJpY3MuY29tPg==", 
        "messageIdInHeader": "PDFlNGZmYzM1MDQwNzA4MTUzOTZlNWUwMjZmQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGNjZG1uais2a2dnQGVHcm91cHMuY29tPiA8UGluZS5ORUIuNC41OC4wNDA3MDgwNzM3NDIwLjUxOEBhbmdlbGljLXZ0ZncuY3Zwbi5jeW5pYy5uZXQ+IDwyMDA0MDcwODEwMjIuMDExNDUuamFzb24ucm9nZXJzQHJpc2ttZXRyaWNzLmNvbT4="
    }
}