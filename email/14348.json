{
    "numMessagesInTopic": 15, 
    "nextInTime": 14349, 
    "senderId": "nIK-Hd4drjjz3mgHqmTlJX8L4i-yU-lDZqltoO2mOr96Quup0z6Cm6Vz1QwAn6c-_0k_G_wdD1G_CdanhJVS-nI_pBEPzVdhA_Q", 
    "systemMessage": true, 
    "subject": "Writing a test for a PrintStream and for a log rotation method", 
    "from": "Asif Sattar &lt;sattar_asif@...&gt;", 
    "authorName": "Asif Sattar", 
    "msgSnippet": "Hi everyone, Two questions: 1. I m trying to write a test for a method that does not return anything.  It creates a printstream for writing to a log file.", 
    "msgId": 14348, 
    "profile": "sattar_asif", 
    "topicId": 14345, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 46895256, 
    "messageBody": "<div id=\"ygrps-yiv-1184474496\">Hi everyone,<br/>\n<br/>\nTwo questions:<br/>\n<br/>\n1. I&#39;m trying to write a test for a method that does not<br/>\nreturn anything.  It creates a printstream for writing to a<br/>\nlog file.  I&#39;ve included the code below.  How do I go about<br/>\nwriting a test for this?<br/>\n<br/>\n    private static void createLogFile() {<br/>\n<br/>\n        Date currentDate = new Date();<br/>\n        if (logFilePrintStream == null || logFileDate ==<br/>\nnull || currentDate.after(logFileDate)) {<br/>\n            String logFileInstanceName = logFileDirectory +<br/>\n&#39;&#92;&#92;&#39; + logFilePrefix<br/>\n                    +<br/>\nlogFileNameDateFormat.format(logFileDate) + &quot;.log&quot;;<br/>\n            logFileDate = currentDate;<br/>\n<br/>\n            try {<br/>\n                logFilePrintStream = new PrintStream(new<br/>\nFileOutputStream(logFileInstanceName, true));<br/>\n                System.setErr(logFilePrintStream);<br/>\n                System.setOut(logFilePrintStream);<br/>\n            } catch (IOException ioe) {<br/>\n                ioe.printStackTrace();<br/>\n            } catch (SecurityException e) {<br/>\n                e.printStackTrace();<br/>\n            }<br/>\n            <br/>\n            logRotation();<br/>\n        }<br/>\n    }<br/>\n<br/>\n2. The logrotation method above basically rotates log files<br/>\nbased on dates and deletes files if they are more than 7<br/>\ndays old.  Any ideas on how to write a test for this? <br/>\nAgain, code attached below:<br/>\n<br/>\n    private static void logRotation() {<br/>\n        LinkedList logFilesInLogDirectory = new<br/>\nLinkedList();     <br/>\n        <br/>\n        // Populate logFilesInLogDirectory with files in<br/>\nlogFileDirectory<br/>\n        File logFilesInDirectory = new<br/>\nFile(logFileDirectory);<br/>\n        String[] logFilesArray =<br/>\nlogFilesInDirectory.list();<br/>\n        logFilesInLogDirectory = new<br/>\nLinkedList(Arrays.asList(logFilesArray));<br/>\n<br/>\n<br/>\n        <br/>\n        // Remove files that are not smart card log files<br/>\nfrom file list<br/>\n        for (int i = 0; i &lt; logFilesInLogDirectory.size();<br/>\ni++) {<br/>\n           <br/>\nif(!((String)logFilesInLogDirectory.get(i)).startsWith(logFilePrefix))<br/>\n{<br/>\n                logFilesInLogDirectory.remove(i);<br/>\n            }<br/>\n        }<br/>\n        <br/>\n        // Delete oldest files if there are more than<br/>\nnoOfPreviousLogFiles files  <br/>\n        if (logFilesInLogDirectory.size() &gt;<br/>\nnoOfPreviousLogFiles) {<br/>\n            Collections.sort(logFilesInLogDirectory);<br/>\n            for (int i = (noOfPreviousLogFiles-1); i &lt;<br/>\nlogFilesInLogDirectory.size(); i++) {<br/>\n                new<br/>\nFile((String)logFilesInLogDirectory.remove(i)).delete();<br/>\n            }<br/>\n        }<br/>\n    }<br/>\n<br/>\nRegards<br/>\n<br/>\nAsif<br/>\n<br/>\n__________________________________________________<br/>\nDo You Yahoo!?<br/>\nTired of spam?  Yahoo! Mail has the best spam protection around <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://mail.yahoo.com\">http://mail.yahoo.com</a></div>", 
    "prevInTime": 14347, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1123751962", 
    "canDelete": false, 
    "nextInTopic": 14349, 
    "prevInTopic": 14347, 
    "headers": {
        "inReplyToHeader": "PDQyRkIwNzM2LjcwOTA5QHN0ZXBoZW4tc21pdGguY28udWs+", 
        "messageIdInHeader": "PDIwMDUwODExMDkxOTIyLjc2MDE1LnFtYWlsQHdlYjMwMDA4Lm1haWwubXVkLnlhaG9vLmNvbT4="
    }
}