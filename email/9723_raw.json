{
    "numMessagesInTopic": 23, 
    "nextInTime": 9724, 
    "senderId": "VQEp2z9LDac-R2Z03-hcorHbjhqa2ihe9u5nT-T3MBFH4SeG-X63BUT5ek6Z66ZAMB_laY_UIJA125MFt3IyoF2AIsM-wA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: How to test private methods, its urgent", 
    "from": "&quot;David Vydra&quot; &lt;david@...&gt;", 
    "authorName": "David Vydra", 
    "msgSnippet": "Michael, I usually like your approach, however according to this article, http://www.artima.com/intv/nonvirtual.html, C# creators propose that methods should", 
    "msgId": 9723, 
    "rawEmail": "Return-Path: &lt;david@...&gt;\r\nX-Sender: david@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 32767 invoked from network); 19 Oct 2003 15:52:26 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m18.grp.scd.yahoo.com with QMQP; 19 Oct 2003 15:52:26 -0000\r\nReceived: from unknown (HELO mail01.powweb.com) (63.251.216.34)\n  by mta2.grp.scd.yahoo.com with SMTP; 19 Oct 2003 15:52:25 -0000\r\nReceived: from XP1 (12-240-32-208.client.attbi.com [12.240.32.208])\n\tby mail01.powweb.com (Postfix) with ESMTP id 71B0036768\n\tfor &lt;junit@yahoogroups.com&gt;; Sun, 19 Oct 2003 08:52:25 -0700 (PDT)\r\nMessage-ID: &lt;004301c39659$059989f0$6401a8c0@XP1&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;00ad01c39450$eff39b40$6401a8c0@latitude01&gt;\r\nSubject: Re: [junit] Re: How to test private methods, its urgent\r\nDate: Sun, 19 Oct 2003 08:52:38 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;Windows-1252&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2800.1158\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165\r\nFrom: &quot;David Vydra&quot; &lt;david@...&gt;\r\nX-Yahoo-Group-Post: member; u=21744742\r\nX-Yahoo-Profile: dvydra2\r\n\r\nMichael,\nI usually like your approach, however according to this article,\nhttp://www.artima.com/intv/nonvirtual.html, C# creators propose that methods\nshould not be made automatically overridable. I suppose we can do the same\nin java with the &#39;final&#39; modifier. Do you think there is any merit to this\nstrategy for large, long-lived systems? Any other opinions?\nRegards,\nDavid\nwww.testdriven.com\n\n----- Original Message ----- \nFrom: &quot;Michael Silverstein&quot; &lt;msilverstein@...&gt;\nTo: &lt;junit@yahoogroups.com&gt;\nSent: Thursday, October 16, 2003 6:49 PM\nSubject: RE: [junit] Re: How to test private methods, its urgent\n\n\n&gt; &gt; -----Original Message-----\n&gt; &gt; From: Danijel Arsenovski [mailto:darsenovski@...]\n&gt; &gt; Sent: Thursday, October 16, 2003 4:00 PM\n&gt; &gt; To: junit@yahoogroups.com\n&gt; &gt; Subject: RE: [junit] Re: How to test private methods, its urgent\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Hello Michael,\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt;Private methods are difficult to test because, after all, they&#39;re\n&gt; &gt; &gt;private. If you adopt a convention that API methods are only\n&gt; &gt; presented\n&gt; &gt; &gt;via Java Interfaces instead of concrete classes then you don&#39;t care\n&gt; &gt; &gt;about the way the implementers of the Interfaces are\n&gt; &gt; written. You can\n&gt; &gt; &gt;then make non-API methods within the concrete implementation public\n&gt; &gt; &gt;without implying that they are themselves API methods.\n&gt; &gt;\n&gt; &gt; I am not sure I follow, but as I can see this only works if\n&gt; &gt; you never plan to extend your clases, or leave them to be\n&gt; &gt; extended. I guess that in your case only thing visible from\n&gt; &gt; the outside are interfaces. If you write frameworks, it is\n&gt; &gt; difficult to get by without inheritance. Inheritance breaks\n&gt; &gt; encapsulation, keeping methods private helps encapsulate things.\n&gt; &gt; Also, I am not shure what you mean by &quot;without implying&quot;,\n&gt; &gt; generally you &quot;make statement&quot; with your code, any other\n&gt; &gt; method yo imply something (comments, documentation etc...) is\n&gt; &gt; superfluous.\n&gt; &gt;\n&gt; &gt; Regards,\n&gt; &gt;\n&gt; &gt; Danijel Arsenovski\n&gt;\n&gt; On the contrary, I think this approach makes it easier to extend\n&gt; frameworks. I believe that in the general case, there is no reason to\n&gt; make methods in classes private if their API methods are only accessed\n&gt; by clients via Interface methods.\n&gt;\n&gt; Here&#39;s an example of what I mean:\n&gt;\n&gt; Let&#39;s assume we have class MyClass that implements interface\n&gt; MyInterface, with methods:\n&gt; public int x(){\n&gt;   // return an answer based on y() and z()\n&gt; }\n&gt; private int y() {...}\n&gt; private int z() {...}\n&gt;\n&gt; And Interface MyInterface with method:\n&gt; public int x()\n&gt;\n&gt; We observe that:\n&gt;\n&gt; - MyInterface serves to &#39;publish&#39; the API method x().\n&gt;\n&gt; - Any client of MyClass will only see it in terms of\n&gt;\n&gt; - We have the choice of testing public method x() by constructing a test\n&gt; that &#39;talks&#39; to either MyClass or MyInterface.\n&gt;\n&gt; - If we have other concrete implementors of MyInterface it makes sense\n&gt; to write the test to talk to MyInterface rather than directly to\n&gt; implementors to they can be swapped in and tested.\n&gt;\n&gt; - x() returns a value based on values returned by private methods y()\n&gt; and z().\n&gt;\n&gt; - Methods y() and z() may be private for no other reason than that they\n&gt; are not part of the public API interface of MyClass and that the\n&gt; developer did not anticipate that anyone would ever need to use them in\n&gt; extending the framework.\n&gt;\n&gt; Continuing:\n&gt; Let&#39;s say\n&gt;  - we want to extend MyClass with MyClass2 that implements method int\n&gt; q().\n&gt;  - we want to override x() so that it uses methods y(),  z(), and q() to\n&gt; calculate its return value.\n&gt;\n&gt; We have a problem: MyClass2 does not have visibility to private methods\n&gt; y() and z().\n&gt;\n&gt; If private methods y() and z() were made public there would be no\n&gt; adverse effect on the publication of API methods because users of the\n&gt; class would only see those methods published via MyInterface.\n&gt;\n&gt; We have the question of whether it is *safe* to use y() and z(). Since\n&gt; they are not published as part of the API via MyInterface it may be\n&gt; considered too risky to use them. This can be solved with some notes in\n&gt; the javadoc.\n&gt;\n&gt; Methods that really are too risky to use outside of the class itself can\n&gt; always be made private but I would hope that this is the exception and\n&gt; not the rule.\n&gt;\n&gt; The developer creating the extension can make the decision based on\n&gt; those notes whether they are willing to accept fhe risk of using methods\n&gt; that may not continue to behave the same way or even exist in the\n&gt; future. At least they have that choice. If they have a good set of tests\n&gt; then changes to those methods in the future will be exposed readily\n&gt; enough.\n&gt;\n&gt; Conclusion\n&gt; ----------\n&gt; If the purpose of making methods private is to indicate that they are\n&gt; not part of a class&#39;s API a better way is to encourage users of the\n&gt; class to program to a Java Interface instead. When you make methods\n&gt; private it makes the class more difficult to test and short-circuits the\n&gt; efforts of people who might need to extend the framework in\n&gt; unanticipated ways.\n&gt;\n&gt; -----------------------------\n&gt; Mike Silverstein\n&gt; SilverMark, Inc.\n&gt; The Object Testing Company\n&gt; www.javatesting.com\n&gt;\n&gt; ---\n&gt; Outgoing mail is certified Virus Free.\n&gt; Checked by AVG anti-virus system (http://www.grisoft.com).\n&gt; Version: 6.0.522 / Virus Database: 320 - Release Date: 9/29/2003\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n\n", 
    "profile": "dvydra2", 
    "topicId": 9699, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 21744742, 
    "prevInTime": 9722, 
    "contentTrasformed": false, 
    "postDate": "1066578758", 
    "canDelete": false, 
    "nextInTopic": 9724, 
    "prevInTopic": 9722, 
    "headers": {
        "messageIdInHeader": "PDAwNDMwMWMzOTY1OSQwNTk5ODlmMCQ2NDAxYThjMEBYUDE+", 
        "referencesHeader": "PDAwYWQwMWMzOTQ1MCRlZmYzOWI0MCQ2NDAxYThjMEBsYXRpdHVkZTAxPg=="
    }
}