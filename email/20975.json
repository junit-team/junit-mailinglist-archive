{
    "numMessagesInTopic": 9, 
    "nextInTime": 20976, 
    "senderId": "Ha-ORMrBPXXOAOzpHZg3vDR3tupZpCa0hfcXuvm-2_vs7Yn9G8lC3Sg6Qk0z3cL2E9KAU-HzWd0dgHAtL_7QW2WYILw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: @Ignore with date", 
    "from": "&quot;David Saff&quot; &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Ilja, Another scan through old mail I haven t answered.  @Ignore with a date should now be subsumed by assumptions: assumeTrue(dateIsAfter( 10/16/2008 )) Will", 
    "msgId": 20975, 
    "profile": "dsaff", 
    "topicId": 17834, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1598957047\">Ilja,<br/>\n<br/>\nAnother scan through old mail I haven&#39;t answered.  @Ignore with a date<br/>\nshould now be subsumed by assumptions:<br/>\n<br/>\nassumeTrue(dateIsAfter(&quot;10/16/2008&quot;))<br/>\n<br/>\nWill that work for you?  Thanks,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Tue, Feb 19, 2008 at 4:44 AM, Ilja Preuß &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:it@...\">it@...</a>&gt; wrote:<br/>\n&gt; Any news on this? The runner architecture sounds interesting, not<br/>\n&gt; only for this feature, but also for other ideas I have in mind.<br/>\n&gt;<br/>\n&gt; Or, provided that this isn&#39;t to be expected in the near future, would<br/>\n&gt; it make sense to include this simple feature without providing the<br/>\n&gt; greater flexibility?<br/>\n&gt;<br/>\n&gt; Curious, Ilja<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;saff@...&gt; wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt; Oh, certainly not &quot;no interest&quot;.  I got very interested, but then I<br/>\n&gt; got<br/>\n&gt;&gt; excited about the idea of tagging tests with ids of items in a bug<br/>\n&gt;&gt; database, a la<br/>\n&gt;&gt;<br/>\n&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.developertesting.com/archives/month200608/20060811-\">http://www.developertesting.com/archives/month200608/20060811-</a><br/>\n&gt; FailingTests.html<br/>\n&gt;&gt;<br/>\n&gt;&gt; This is more appealing to me--tests that stay ignored for any<br/>\n&gt; length of<br/>\n&gt;&gt; time tend to have some sort of metadata in an issue tracker about<br/>\n&gt; them.<br/>\n&gt;&gt; This also allows an interesting workflow: I see a problem with the<br/>\n&gt; code,<br/>\n&gt;&gt; but for some reason, you&#39;re the right one to fix it, and you&#39;re (<br/>\n&gt; on<br/>\n&gt;&gt; vacation | busy doing something else | mad at me ).  I can open a<br/>\n&gt; bug in<br/>\n&gt;&gt; bugzilla, and then check in a test with @Ignore<br/>\n&gt; (untilBugFixed=&quot;12345&quot;).<br/>\n&gt;&gt;<br/>\n&gt;&gt; This means that there&#39;s a more general idea of @Ignore(if) that I<br/>\n&gt; need<br/>\n&gt;&gt; to get my head around.  And before that, I really want to get the<br/>\n&gt; custom<br/>\n&gt;&gt; runner architecture in better shape, so that you could have built<br/>\n&gt; this<br/>\n&gt;&gt; easily yourself.  And before that, there&#39;s settling into a new job,<br/>\n&gt;&gt; which will eventually provide more time and energy to work on JUnit.<br/>\n&gt;&gt;<br/>\n&gt;&gt; So, interested, but distracted...<br/>\n&gt;&gt;<br/>\n&gt;&gt;     David Saff<br/>\n&gt;&gt;<br/>\n&gt;&gt; Ilja Preuß wrote:<br/>\n&gt;&gt; &gt; Mhh, no interest?<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Is there a low intrusive way I can implement this without having<br/>\n&gt; to<br/>\n&gt;&gt; &gt; patch JUnit with every new version?<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; BTW, there also started some discussion of this feature at<br/>\n&gt;&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://saloon.javaranch.com/cgi-bin/ubb/ultimatebb.cgi?\">http://saloon.javaranch.com/cgi-bin/ubb/ultimatebb.cgi?</a><br/>\n&gt; ubb=get_topic&f=68&t=001369<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, it@ wrote:<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; Hello,<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; from time to time, we feel the need to temporarily ignore a test<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt; case. In Junit 3.x, our team introduced a failAfter(Date) method<br/>\n&gt; to<br/>\n&gt;&gt; &gt; remind us from time to time that there was a testcase ignored.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; Now that we are switching to JUnit 4, we&#39;d like to use the Ignore<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt; annotation, so I patched it to allow an additional until-<br/>\n&gt; Parameter.<br/>\n&gt;&gt; &gt; Below are the additional unit tests for the TestMethodTest:<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt;    static public class IgnoredUntilTest {<br/>\n&gt;&gt; &gt;&gt;            @Ignore(until=&quot;1/1/3000&quot;) @Test public void<br/>\n&gt; withUntilLater() {}<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    @Test public void ignoreRunnerUntil() {<br/>\n&gt;&gt; &gt;&gt;            JUnitCore runner= new JUnitCore();<br/>\n&gt;&gt; &gt;&gt;            Result result= runner.run(IgnoredUntilTest.class);<br/>\n&gt;&gt; &gt;&gt;            assertEquals(1, result.getIgnoreCount());<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    static public class IgnoredUntilWithTimeTest {<br/>\n&gt;&gt; &gt;&gt;            @Ignore(until=&quot;1/1/3000 1:00 PM&quot;) @Test public void<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt; withUntilLater() {}<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    @Test public void ignoreRunnerUntilWithTime() {<br/>\n&gt;&gt; &gt;&gt;            JUnitCore runner= new JUnitCore();<br/>\n&gt;&gt; &gt;&gt;            Result result= runner.run<br/>\n&gt; (IgnoredUntilWithTimeTest.class);<br/>\n&gt;&gt; &gt;&gt;            assertEquals(1, result.getIgnoreCount());<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    static public class IgnoredUntilBeforeTest {<br/>\n&gt;&gt; &gt;&gt;            @Ignore(until=&quot;1/1/1900&quot;) @Test public void<br/>\n&gt; withUntilBefore() {}<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    @Test public void doNotIgnoreUntilBefore() {<br/>\n&gt;&gt; &gt;&gt;            JUnitCore runner= new JUnitCore();<br/>\n&gt;&gt; &gt;&gt;            Result result= runner.run<br/>\n&gt; (IgnoredUntilBeforeTest.class);<br/>\n&gt;&gt; &gt;&gt;            assertEquals(0, result.getIgnoreCount());<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; The Ignore annotation needs the additional method:<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; public @interface Ignore {<br/>\n&gt;&gt; &gt;&gt;    String value() default &quot;&quot;;<br/>\n&gt;&gt; &gt;&gt;    String until() default &quot;&quot;;<br/>\n&gt;&gt; &gt;&gt; }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; And the implementation of the behaviour is in TestIntrospector:<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    public boolean isIgnored(Method eachMethod) {<br/>\n&gt;&gt; &gt;&gt;            Ignore ignoredAnnotation= eachMethod.getAnnotation<br/>\n&gt; (Ignore.class);<br/>\n&gt;&gt; &gt;&gt;            if (ignoredAnnotation == null) {<br/>\n&gt;&gt; &gt;&gt;                    return false;<br/>\n&gt;&gt; &gt;&gt;            }<br/>\n&gt;&gt; &gt;&gt;            String until= ignoredAnnotation.until();<br/>\n&gt;&gt; &gt;&gt;            if (until.length() == 0) {<br/>\n&gt;&gt; &gt;&gt;                    return true;<br/>\n&gt;&gt; &gt;&gt;            }<br/>\n&gt;&gt; &gt;&gt;            try {<br/>\n&gt;&gt; &gt;&gt;                    return DateFormat.getDateTimeInstance<br/>\n&gt; (DateFormat.SHORT,<br/>\n&gt;&gt; &gt;&gt;                                    DateFormat.SHORT,<br/>\n&gt; Locale.ENGLISH).parse(until).after(<br/>\n&gt;&gt; &gt;&gt;                                    new Date());<br/>\n&gt;&gt; &gt;&gt;            } catch (ParseException e) {<br/>\n&gt;&gt; &gt;&gt;                    try {<br/>\n&gt;&gt; &gt;&gt;                            return DateFormat.getDateInstance<br/>\n&gt; (DateFormat.SHORT,<br/>\n&gt;&gt; &gt;&gt;                                            Locale.ENGLISH).parse<br/>\n&gt; (until).after(new Date());<br/>\n&gt;&gt; &gt;&gt;                    } catch (ParseException e2) {<br/>\n&gt;&gt; &gt;&gt;                            return false;<br/>\n&gt;&gt; &gt;&gt;                    }<br/>\n&gt;&gt; &gt;&gt;            }<br/>\n&gt;&gt; &gt;&gt;    }<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; (I guess this could be in need of a little refactoring,<br/>\n&gt; sorry... :o )<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; If you think it&#39;s a good idea, don&#39;t hesitate to add it to JUnit<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt; 4.2... :)<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; Any other comments would be welcome, too, of course.<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; Cheers, Ilja<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20974, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1224168844", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20321, 
    "headers": {
        "inReplyToHeader": "PGZwZTRzdSs0MnVyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDgxMDE2MDc1NGg0YjAxNTVlZHg5M2NhNzQ2YzMwYjRjZTVlQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDQ1MkU5QTJGLjkwNjA1MDZAbWl0LmVkdT4gPGZwZTRzdSs0MnVyQGVHcm91cHMuY29tPg=="
    }
}