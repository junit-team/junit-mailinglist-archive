{
    "numMessagesInTopic": 27, 
    "nextInTime": 7342, 
    "senderId": "8-omjlJWW3WBpyf_FgYS4uuYwmmf1PdxMg8F-quzvpc4uLSrGFkm8Suel5nzoesarn63idd5XENj0u-ymOnAQ1dhJu5EDg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: JUnit Design?", 
    "from": "Levi Cook &lt;levicook@...&gt;", 
    "authorName": "Levi Cook", 
    "msgSnippet": "Once you ve gone static, I could imagine this sort of hackery... (I don t endorse it though:) SomeTest extends TestCase { static Connection myConnection = null", 
    "msgId": 7341, 
    "profile": "lcook53703", 
    "topicId": 7266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 72977190, 
    "messageBody": "<div id=\"ygrps-yiv-1874968980\">Once you&#39;ve gone static, I could imagine this sort of hackery... (I don&#39;t endorse it though:)<br/>\n<br/>\nSomeTest extends TestCase<br/>\n{<br/>\n   static Connection myConnection = null<br/>\n   static int numTestsRun = 0<br/>\n<br/>\n   protected void setUp()<br/>\n   {<br/>\n      if (myConnection == null)<br/>\n         myConnection = createMyConnection()<br/>\n   }<br/>\n<br/>\n   public void testA(){}<br/>\n   public void testB(){}<br/>\n   public void testC(){}<br/>\n<br/>\n   protected void tearDown()<br/>\n   {<br/>\n      numTestsRun++;<br/>\n      if(numTestsRun == countTestCases())<br/>\n         release(myConnection)<br/>\n   }<br/>\n<br/>\n   private Connection createMyConnection()<br/>\n   {<br/>\n       // do something &quot;expensive&quot;<br/>\n   }<br/>\n<br/>\n   private release(Connection theConnection)<br/>\n   {<br/>\n       // do the good citizen clean up thing...<br/>\n   }<br/>\n}<br/>\n<br/>\n<br/>\n-- Levi<br/>\n<br/>\n<br/>\n<br/>\nBill Venners wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt;Bob,<br/>\n&gt;<br/>\n&gt;On Sunday, March 23, 2003, at 11:29 AM, Robert Bateman wrote:<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n&gt;&gt;--- Bill Venners &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:bv@...\">bv@...</a>&gt; wrote:<br/>\n&gt;&gt;    <br/>\n&gt;&gt;<br/>\n&gt;&gt;&gt;If the fixture includes an expensive database<br/>\n&gt;&gt;&gt;connection, for example, could that connection not be created by the<br/>\n&gt;&gt;&gt;first test method and stored in a static variable for all subsequent<br/>\n&gt;&gt;&gt;test methods to share? Not sure how you could close the connection at<br/>\n&gt;&gt;&gt;the end of the last test method executed, though. Has anyone used<br/>\n&gt;&gt;&gt;static variables to share fixture objects among multiple test methods?<br/>\n&gt;&gt;&gt;      <br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;I did this very thing by accident - as I&#39;m new to JUnit testing.<br/>\n&gt;&gt;<br/>\n&gt;&gt;I have legacy DB code I have to test and the original author used a  <br/>\n&gt;&gt;static anonymous class to<br/>\n&gt;&gt;create the connection cache.  I use setup() to instantiate the  <br/>\n&gt;&gt;underlying class and get/close my<br/>\n&gt;&gt;DB connections in each test.  I pay the penalty for the connection  <br/>\n&gt;&gt;creation in the first test, but<br/>\n&gt;&gt;every other test is fairly fast.<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;So far, I&#39;ve found JUnits testing of each test method to be low level  <br/>\n&gt;&gt;in design and nature...  I<br/>\n&gt;&gt;create a method in an object and my test methods exercise my method -  <br/>\n&gt;&gt;checking for validity of<br/>\n&gt;&gt;execution.  I&#39;ve found JUnit assumes I&#39;m interested in assuring the  <br/>\n&gt;&gt;tested method executes and<br/>\n&gt;&gt;provides some specific result.<br/>\n&gt;&gt;<br/>\n&gt;&gt;Maybe I&#39;m still too new to JUnit to know what I&#39;m missing with  <br/>\n&gt;&gt;SuiteRunner - but I&#39;ve always<br/>\n&gt;&gt;thought the first test I must *always* perform is the validation of my  <br/>\n&gt;&gt;code against the<br/>\n&gt;&gt;specifications - that what I&#39;m writing is performing to expectations.<br/>\n&gt;&gt;<br/>\n&gt;&gt;Your right, if I write code that modifies a part of my object in some  <br/>\n&gt;&gt;way, I need to insure that I<br/>\n&gt;&gt;haven&#39;t created an artifact that can damage some other part of the  <br/>\n&gt;&gt;code.  Isn&#39;t that the basis of<br/>\n&gt;&gt;performing lots of different asserts in each of your tests?  If I can  <br/>\n&gt;&gt;alter some part of my object<br/>\n&gt;&gt;thru my code, then after my code runs, don&#39;t I want to verify the  <br/>\n&gt;&gt;contents of the underlying<br/>\n&gt;&gt;object?  All within one test? (Not Suite of tests - but an individual  <br/>\n&gt;&gt;test...)<br/>\n&gt;&gt;<br/>\n&gt;&gt;If I&#39;m too far off topic, please forgive me.<br/>\n&gt;&gt;<br/>\n&gt;&gt;    <br/>\n&gt;&gt;<br/>\n&gt;Not off topic at all. I was asking if anyone had used static members to  <br/>\n&gt;share fixture among multiple test methods in a single TestCase, and you  <br/>\n&gt;did. You even did it for a database connection, which was the example I  <br/>\n&gt;mentioned. The one question I still have about your test code is, did  <br/>\n&gt;you find a way to explicitly close the connection after the last test  <br/>\n&gt;method finished? Or was it just left open under the assumption your app  <br/>\n&gt;would go away soon enough.<br/>\n&gt;<br/>\n&gt;One significant difference between the static member approach to  <br/>\n&gt;fixture sharing in JUnit and SuiteRunner is that I know how to close  <br/>\n&gt;the connection when I&#39;m done in SuiteRunner, but not in JUnit. If  <br/>\n&gt;anyone has a way to do that, please reply.<br/>\n&gt;<br/>\n&gt;Another difference is really one of design taste I suspect. I just  <br/>\n&gt;found it non-intuitive that JUnit gave each test method invocation its  <br/>\n&gt;own instance, especially when they also provided the setUp() method. I  <br/>\n&gt;used JUnit a long time before I realized this object wrapping was going  <br/>\n&gt;on. In a previous post to this list, I asked if anyone could help me  <br/>\n&gt;understand what benefit I get for that wrapping. I mentioned that the  <br/>\n&gt;only benefit I could see was that if I screw up my  setUp() and  <br/>\n&gt;tearDown() methods and don&#39;t actually initialize and clean up the  <br/>\n&gt;fixture correctly, the wrapping of method invocations may let me get  <br/>\n&gt;away with it. Vladimir Bossicard agreed that that was a benefit, and no  <br/>\n&gt;one else offered any others.<br/>\n&gt;<br/>\n&gt;My design sense when I was doing that part of SuiteRunner was to not  <br/>\n&gt;provide the extra shield. I figured it would be relatively rare that a  <br/>\n&gt;user would screw up their setUpFixture() and tearDownFixture() methods.  <br/>\n&gt;When they do, they get a red bar and can fix the bug like any other  <br/>\n&gt;bug. Then they get a green bar. And all the while the hierarchy of  <br/>\n&gt;objects that make up their test is the intuitive simple tree of objects  <br/>\n&gt;that for a long time (until I realized that the object wrapping was  <br/>\n&gt;going on) I imagined JUnit was building.<br/>\n&gt;<br/>\n&gt;Bill<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n&gt;&gt;Bob<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;__________________________________________________<br/>\n&gt;&gt;Do you Yahoo!?<br/>\n&gt;&gt;Yahoo! Platinum - Watch CBS&#39; NCAA March Madness, live on your desktop!<br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://platinum.yahoo.com\">http://platinum.yahoo.com</a><br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;------------------------ Yahoo! Groups Sponsor  <br/>\n&gt;&gt;---------------------~--&gt;<br/>\n&gt;&gt;Get 128 Bit SSL Encryption!<br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/xaxhjB/hdqFAA/xGHJAA/5cFolB/TM\">http://us.click.yahoo.com/xaxhjB/hdqFAA/xGHJAA/5cFolB/TM</a><br/>\n&gt;&gt;--------------------------------------------------------------------- <br/>\n&gt;&gt;~-&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;Your use of Yahoo! Groups is subject to  <br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;    <br/>\n&gt;&gt;<br/>\n&gt;bv<br/>\n&gt;--<br/>\n&gt;Bill Venners<br/>\n&gt;Artima Software, Inc.<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.artima.com\">http://www.artima.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; <br/>\n&gt;<br/>\n&gt;Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 7340, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1048700589", 
    "canDelete": false, 
    "nextInTopic": 7354, 
    "prevInTopic": 7339, 
    "headers": {
        "inReplyToHeader": "PEE3RTE2QkRELTVFNUYtMTFENy1BMzI4LTAwMDM5MzAxRDQ0NkBhcnRpbWEuY29tPg==", 
        "messageIdInHeader": "PDNFODFFNkFELjgwMDAyMDdAcGFwYWpvLmNvbT4=", 
        "referencesHeader": "PEE3RTE2QkRELTVFNUYtMTFENy1BMzI4LTAwMDM5MzAxRDQ0NkBhcnRpbWEuY29tPg=="
    }
}