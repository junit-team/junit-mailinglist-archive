{
    "numMessagesInTopic": 125, 
    "nextInTime": 14703, 
    "senderId": "RU3kIIZYxrVcM4cMkuxytdDJbX3MphCSc8u-QG-grBFZ9S6p0VsYetP4of-je2zQB0qr8_M1pzbtiAotVO53FJ5Awqzlew", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: How to test private methods in a class.", 
    "from": "&quot;Ilja Preuss&quot; &lt;preuss@...&gt;", 
    "authorName": "Ilja Preuss", 
    "msgSnippet": "... I don t remember the original poster stating that he didn t want to think about the design. Anyway, if he did, my answer would be but you *should*! ... I", 
    "msgId": 14702, 
    "rawEmail": "Return-Path: &lt;preuss@...&gt;\r\nX-Sender: preuss@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 47066 invoked from network); 6 Sep 2005 16:58:51 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m21.grp.scd.yahoo.com with QMQP; 6 Sep 2005 16:58:51 -0000\r\nReceived: from unknown (HELO merlin.prohost.de) (216.71.84.194)\n  by mta5.grp.scd.yahoo.com with SMTP; 6 Sep 2005 16:58:51 -0000\r\nReceived: from disy.net ([213.30.245.34])\n\tby merlin.prohost.de (8.11.6/8.11.6) with ESMTP id j86GsoT04043\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 6 Sep 2005 18:54:50 +0200\r\nReceived: from PARIS (paris.disy.net [192.168.100.112])\n\tby disy.net (8.9.3/8.9.3) with ESMTP id SAA02465\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 6 Sep 2005 18:54:48 +0200\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Tue, 6 Sep 2005 18:53:41 +0200\r\nMessage-ID: &lt;003701c5b303$89479210$7064a8c0@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook, Build 10.0.6626\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506\r\nImportance: Normal\r\nIn-Reply-To: &lt;dfke10+snfh@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Ilja Preuss&quot; &lt;preuss@...&gt;\r\nSubject: RE: [junit] Re: How to test private methods in a class.\r\nX-Yahoo-Group-Post: member; u=96623270; y=aE_j7Vw_XjSw31g4YRvMN2eTnDGFYTld0nLLMQJfafLGna_O\r\nX-Yahoo-Profile: ipreussde\r\n\r\njunit@yahoogroups.com wrote:\n&gt; --- In junit@yahoogroups.com, &quot;Ilja Preuss&quot; =\r\n&lt;preuss@d...&gt; wrote:\n&gt;&gt; \n&gt;&gt; I find that writing tests helps me a lot thinki=\r\nng about the design,\n&gt;&gt; so I&#39;m not a fan of switching my design brain off w=\r\nhile writing\n&gt;&gt; tests. I&#39;m not sure why you would want to do that.\n&gt;&gt; \n&gt; \n&gt;=\r\n I didn&#39;t. Somebody else did when they asked the question that\n&gt; started th=\r\nis thread.\n\nI don&#39;t remember the original poster stating that he didn&#39;t wan=\r\nt to think\nabout the design. Anyway, if he did, my answer would be &quot;but you=\r\n *should*!&quot;\n\n&gt; But I would contend that there must be\n&gt; something wrong wit=\r\nh the practice of TDD that leads to the\n&gt; conclusion that the tests do not =\r\nadequately cover the code\n&gt; and the only way to get adequate coverage is to=\r\n make methods public.\n\nI agree that TDD is unlikely to lead to private meth=\r\nods that need explicite\ntesting, if done well. That doesn&#39;t change my advic=\r\ne once it led to that\nsituation, though.\n\n&gt;&gt;&gt; Given that context, my mind h=\r\nasn&#39;t\n&gt;&gt;&gt; changed. If the private method is already tested through an exist=\r\ning\n&gt;&gt;&gt; public method then you don&#39;t need to do anything. In fact, exposing=\r\n\n&gt;&gt;&gt; the method and writing an explicit test against it is duplication.\n&gt;&gt; =\r\n\n&gt;&gt; Unless the tests of the already existing public method can be\n&gt;&gt; simpli=\r\nfied in consequence.\n&gt; \n&gt; The duplication is that there will now be two tes=\r\nts for\n&gt; exactly the same thing.\n\nNot necessarily. One way to the simplify =\r\nthe existing tests could be to mock\nthe formerly private behaviour, for exa=\r\nmple.\n\n&gt;&gt; I&#39;m confused, because TDD is much more a design practice than a\n&gt;=\r\n&gt; testing practice. Anyway, I don&#39;t think I proposed anything as &quot;a\n&gt;&gt; solu=\r\ntion\n&gt; per se&quot;,\n&gt;&gt; but said that it would be one of the first things I&#39;d th=\r\nink about,\n&gt;&gt; and that I very often find that I find a solution I like when=\r\n I do\n&gt;&gt; so. \n&gt; \n&gt; I agree that TDD is more about design than testing. My p=\r\noint\n&gt; is that working TDD I wouldn&#39;t think about this at all\n&gt; because I w=\r\nouldn&#39;t write any code without a test. I wouldn&#39;t\n&gt; refactor until I got to=\r\n green. Private methods wouldn&#39;t exist\n&gt; unless they were born through refa=\r\nctoring. I don&#39;t implement\n&gt; new features while refactoring. As a result I =\r\ndon&#39;t spend\n&gt; time thinking about how to test private methods unless I&#39;m\n&gt; =\r\nresponding to threads on the JUnit Yahoo! group. ;-)\n\nOne way such a questi=\r\non could come up when using TDD is when the tests for\nthe public method bec=\r\nome very complex. You could start to think &quot;my tests\ncould be much more sim=\r\nple if I just could test this private method in\nisolation&quot;. My answer to th=\r\nat would be &quot;your class probably is doing too\nmuch.&quot;\n\n\n&gt;&gt; A private method =\r\nthat is complex enough to need explicite testing\n&gt;&gt; simply is a hint to a c=\r\nlass that has too many responsibilities and\n&gt;&gt; has lost cohesion. A class t=\r\nhat has just one responsibility is quite\n&gt;&gt; unlikely to be complex, let alo=\r\nne have complex private methods.\n&gt; \n&gt; As I said, this doesn&#39;t seem to happe=\r\nn to me.\n\nCool. Now what should someone do to whom it does happen?\n\n&gt; I&#39;m n=\r\not sure\n&gt; where we&#39;re doing things differently. Maybe it&#39;s more a hint\n&gt; th=\r\nat the developer is taking steps that are too big?\n\nI didn&#39;t say that it ha=\r\nppens to me when I practice TDD. As far as I\nremember, you brought up TDD, =\r\ndidn&#39;t you?\n\n&gt; I don&#39;t\n&gt; think %LOC in private methods is a decent metric f=\r\nor\n&gt; measuring cohesion.\n\nI&#39;m sure it is a strong hint. Cohesive classes si=\r\nmply are small classes.\n\n&gt;&gt;&gt; Maybe Martin Fowler wasn&#39;t wearing his Tester =\r\nhat at the time. Maybe\n&gt;&gt;&gt; he was and wanted to write a book about how to p=\r\nroduce better\n&gt;&gt;&gt; designs, not about solving problems with unit tests.\n&gt;&gt; \n=\r\n&gt;&gt; If I remember correctly, he put a chapter about Code Smells in the\n&gt;&gt; bo=\r\nok - about hints in the code that you should refactor. Well, I\n&gt;&gt; think tha=\r\nt a private method that needs explicite testing is such a\n&gt;&gt; smell. \n&gt; \n&gt; W=\r\nhich one(s)?\n\nThe &quot;private method needs explicite testing&quot; smell. But I gue=\r\nss I didn&#39;t\nunderstand your question...\n\n\n&gt;&gt;&gt; So, third maybe in a row, may=\r\nbe refactorings shouldn&#39;t\n&gt;&gt;&gt; be viewed as ways to solve problems with your=\r\n the test suite?\n&gt;&gt; \n&gt;&gt; If your design is in the way while writing tests, i=\r\nt looks like a\n&gt;&gt; design problem to me. So I don&#39;t see why we should exclud=\r\ne\n&gt;&gt; refactoring as a\n&gt; viable\n&gt;&gt; solution.\n&gt; \n&gt; I&#39;m not convinced it&#39;s a d=\r\nesign problem. How can the design\n&gt; be in the way while writing tests if th=\r\nere *is* no design\n&gt; until you write the tests? How is it your design and\n&gt;=\r\n implementation exist *before* the tests?\n\nAgain, I don&#39;t remember that the=\r\n original question was asked in the context\nof TDD.\n\nAnyway, already the se=\r\ncond the test is written in the presence of the design\nthat was driven by t=\r\nhe first, so if the second test is hard to write, I&#39;d\nthink (besides other =\r\nthinks) about wether a different design might improve\nthings.\n\n&gt; Conversely=\r\n, I have problems following the notion that\n&gt; practicing TDD I could get to=\r\n place that was so bad in my\n&gt; design that I start refactoring just so that=\r\n I can test\n&gt; properly. Unless the code exists when I start writing the tes=\r\nts ...\n\nI&#39;m not sure wether you could. I&#39;m sure that I typically don&#39;t. I c=\r\nan\nimagine a beginner to end up there.\n\nCheers, Ilja\n\n\n", 
    "profile": "ipreussde", 
    "topicId": 14490, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 96623270, 
    "prevInTime": 14701, 
    "contentTrasformed": false, 
    "postDate": "1126025621", 
    "canDelete": false, 
    "nextInTopic": 14703, 
    "prevInTopic": 14701, 
    "headers": {
        "inReplyToHeader": "PGRma2UxMCtzbmZoQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAwMzcwMWM1YjMwMyQ4OTQ3OTIxMCQ3MDY0YThjMEBkaXN5Lm5ldD4="
    }
}