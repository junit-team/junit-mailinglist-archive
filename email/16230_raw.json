{
    "numMessagesInTopic": 32, 
    "nextInTime": 16231, 
    "senderId": "mTCWa0r8lYmwRMx3Cl2M7Ka6Evvn3_wqNpSs1gT7TVXgpCz_Qbnl64vaeJSVK6Gfr_fA9Omdp2crO1wU3hkwBQU2g1O7xg", 
    "systemMessage": true, 
    "subject": "Re: [junit] JUnit Anti-patterns", 
    "from": "Joe Schmetzer &lt;joe@...&gt;", 
    "authorName": "Joe Schmetzer", 
    "msgSnippet": "... Hmmmm... I understand the distinction, but personally I find that sticking to this rule in the case of unexpected exceptions makes it *harder* to figure", 
    "msgId": 16230, 
    "rawEmail": "Return-Path: &lt;joe@...&gt;\r\nReceived: (qmail 37673 invoked from network); 1 Mar 2006 23:20:51 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m33.grp.scd.yahoo.com with QMQP; 1 Mar 2006 23:20:51 -0000\r\nReceived: from unknown (HELO n26.bullet.scd.yahoo.com) (66.94.237.55)\n  by mta4.grp.scd.yahoo.com with SMTP; 1 Mar 2006 23:20:50 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.5] by n26.bullet.scd.yahoo.com with NNFMP; 01 Mar 2006 23:20:48 -0000\r\nReceived: from [66.218.66.82] by t5.bullet.scd.yahoo.com with NNFMP; 01 Mar 2006 23:20:47 -0000\r\nX-Sender: joe@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 72020 invoked from network); 24 Feb 2006 21:15:08 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m14.grp.scd.yahoo.com with QMQP; 24 Feb 2006 21:15:07 -0000\r\nReceived: from unknown (HELO anchor-post-35.mail.demon.net) (194.217.242.85)\n  by mta4.grp.scd.yahoo.com with SMTP; 24 Feb 2006 21:15:05 -0000\r\nReceived: from exubero.demon.co.uk ([80.176.249.145] helo=[192.168.10.11])\n\tby anchor-post-35.mail.demon.net with esmtp (Exim 4.42)\n\tid 1FCkHJ-0003D9-GY\n\tfor junit@yahoogroups.com; Fri, 24 Feb 2006 21:15:05 +0000\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;43FF2FBE.6000702@...&gt;\r\nReferences: &lt;dtig6m+587e@...&gt;  &lt;43FF2FBE.6000702@...&gt;\r\nContent-Type: text/plain; charset=UTF-8\r\nDate: Fri, 24 Feb 2006 21:15:04 +0000\r\nMessage-Id: &lt;1140815704.12673.112.camel@sirius&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.2.3 (2.2.3-2.fc4) \r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Joe Schmetzer &lt;joe@...&gt;\r\nSubject: Re: [junit] JUnit Anti-patterns\r\nX-Yahoo-Group-Post: member; u=238072118; y=bMJ2f3gvdo9wibtf46My6vNzu3KYW3Be8VwXGR3w4QIWILxl\r\nX-Yahoo-Profile: copabella\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: kentlbeck &lt;kentb@...&gt; via web; 01 Mar 2006 23:20:46 -0000\r\n\r\nOn Fri, 2006-02-24 at 11:09 -0500, jason r tibbetts wrote:\n&gt; Joe Schmetzer =\r\nwrote:\n&gt; &gt; &quot;C=C3=83=C2=A9dric Beust =C3=A2=E2=84=A2&quot; &quot; &lt;cbeust@...&gt; wrote:\n=\r\n&gt; &gt;&gt;Joe Schmetzer wrote:\n&gt; &gt;&gt;&gt;I&#39;ve just updated the JUnit Anti-patterns pag=\r\ne I maintain at\n&gt; &gt;&gt;&gt;http://www.exubero.com/junit/antipatterns.html. I&#39;d be=\r\n interested in\n&gt; &gt;&gt;&gt;any feedback, if people want to suggest additions or im=\r\nprovements.\n&gt;&gt;&gt;\n&gt; &gt;&gt;Also, it seems to me your recommended pattern for code =\r\nthat must\n&gt; &gt; throw an\n&gt; &gt; \n&gt; &gt;&gt;exception (&quot;don&#39;t catch it and declare the =\r\nexception in the throws\n&gt; &gt;&gt;statement&quot;) goes against common practice.  Plus=\r\n, it will cause JUnit to\n&gt; &gt;&gt;report an Error instead of a Failure, although=\r\n this distinction is\n&gt; &gt;&gt;thankfully going away with JUnit4.\n&gt; &gt;&gt;\n&gt; &gt;&gt;A more=\r\n common way to address this problem is to catch the exception\n&gt; &gt; and do a =\r\nfail().\n&gt; &gt; \n&gt; &gt; Hi C=C3=A9dric,\n&gt; &gt; \n&gt; &gt; I would argue that explicitly cal=\r\nling fail is less useful than\n&gt; &gt; propagating the exception outside of the =\r\ntest method, mainly because\n&gt; &gt; the stack trace is lost. I&#39;ve been caught a=\r\n number of times myself\n&gt; &gt; when a test failed because of an unexpected exc=\r\neption, but it was\n&gt; &gt; non-trivial to track down the line that caused the e=\r\nxception. The\n&gt; &gt; stack trace will show this information directly, any good=\r\n JUnit test\n&gt; &gt; runners will display the stack trace. IDEs will even take y=\r\nou to the\n&gt; &gt; line of code, as well.\n&gt; \n&gt; I agree completely with Cedric. F=\r\nailures and errors are intended to be \n&gt; very different beasts, and this di=\r\nfference is highlighted in various \n&gt; test result reporting tools (e.g. Mav=\r\nen&#39;s test result page, \n&gt; CruiseControl&#39;s listing, etc.). Failures indicate=\r\n a problem with the \n&gt; class under test; errors indicate a problem with the=\r\n test itself. That \n&gt; makes it a lot easier to figure out what needs to be =\r\nfixed.\n\nHmmmm... I understand the distinction, but personally I find that\ns=\r\nticking to this rule in the case of unexpected exceptions makes it\n*harder*=\r\n to figure out what needs to be fixed.\n\nIn the case of unexpected exception=\r\ns, we&#39;re not really interested in the\nfact that a piece of code *might* thr=\r\now an exception, but rather that a\ncall produces an expected result. For ex=\r\nample:\n\npublic void testCalculation() throws CalculationException {\n    pro=\r\ncesser.calculate();\n    assertEquals(&quot;Calculation wrong&quot;, 42, processor.get=\r\nResult());\n}\n\nIn this example, I&#39;m not really interested that the calculate=\r\n() method\nmight throw an exception, I&#39;m only testing the result for this te=\r\nst\ncase. However, if something does go wrong, JUnit will very elegantly\nhan=\r\ndle the exception and report the exact location of the source of the\nexcept=\r\nion. CruiseControl will display the entire stack trace. Eclipse\nwill even l=\r\net me click on the JUnit view to bring up the exact source\ncode (I imagine =\r\nother IDEs are the same?). This is exactly what I want,\nas it helps me get =\r\nto the source of the problem without any extra\neffort.\n\nHowever, if I insis=\r\nt on catching the exception just so I can fail the\nunit test, the test beco=\r\nmes twice as complex, and I no longer get the\nstack trace unless I explicit=\r\nly log it somewhere. The above example now\nbecomes:\n\npublic void testCalcul=\r\nation() {\n    try {\n        processer.calculate();\n        assertEquals(&quot;Ca=\r\nlculation wrong&quot;, 42, processor.getResult());\n    }\n    catch(CalculationEx=\r\nception ex) {\n        fail(&quot;Calculation caused exception&quot;);\n    }\n}\n\nIn thi=\r\ns case, CruiseControl no longer shows the stack trace, and Eclipse\ncannot t=\r\nake me to the code that caused the exception. I now have to do\nextra work t=\r\no track down the problem. Even if I do log the exception\nsomewhere, it won&#39;=\r\nt appear in the usual places in the various JUnit\nreporting utilities.\n\nOK,=\r\n one last appeal: I&#39;m going to try calling to a higher authority (hi\nMike),=\r\n and quote the FAQ:\n\nhttp://junit.sourceforge.net/doc/faq/faq.htm#tests_8\n\n=\r\nThis is essentially the same advice I give in the anti-patterns article\nat\n=\r\nhttp://www.exubero.com/junit/antipatterns.html#Catching_Unexpected_Exceptio=\r\nns\n\nIn summary, I guess I&#39;m less interested in the distinction in whether\nt=\r\nhe test case is wrong, or the code under test is wrong. Rather, I&#39;m\nconcern=\r\ned that *something* is wrong, and I want to fix it as quick as\npossible.\n\nA=\r\nnyway... I&#39;ve got a lot of really good feedback out of this thread. I&#39;m\ngoi=\r\nng to start trying to update the article again. Thanks, everyone.\n\nCheers!\n=\r\n-- \nJoe Schmetzer .:. Renaissance Developer .:. http://www.exubero.com/\n\n\n\n=\r\n\n", 
    "profile": "copabella", 
    "topicId": 16150, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 238072118, 
    "prevInTime": 16229, 
    "contentTrasformed": false, 
    "postDate": "1140815704", 
    "canDelete": false, 
    "nextInTopic": 16241, 
    "prevInTopic": 16228, 
    "headers": {
        "inReplyToHeader": "PDQzRkYyRkJFLjYwMDA3MDJAdmVyZGkuaWlzZC5zcmEuY29tPg==", 
        "messageIdInHeader": "PDExNDA4MTU3MDQuMTI2NzMuMTEyLmNhbWVsQHNpcml1cz4=", 
        "referencesHeader": "PGR0aWc2bSs1ODdlQGVHcm91cHMuY29tPiAgPDQzRkYyRkJFLjYwMDA3MDJAdmVyZGkuaWlzZC5zcmEuY29tPg=="
    }
}