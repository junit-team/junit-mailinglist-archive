{
    "numMessagesInTopic": 6, 
    "nextInTime": 21787, 
    "senderId": "imqwMZZ4FvNG0gaj4n3YdxHMPYljxWa9fMA5pEUH5Q_DvvJgOMtO1BjrwM9MAl_zXBWU0-1NqNf9dYWMcFFomY0JJkDFeLw5y-o", 
    "systemMessage": false, 
    "subject": "Re: [junit] unit testing clinet server applications?", 
    "from": "James Abley &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... Hi, I m aware of at least 2 approaches to this. The first is one that I use most frequently, with Jetty or HttpUnit PseudoServer running. The server gets", 
    "msgId": 21786, 
    "rawEmail": "Return-Path: &lt;james.abley@...&gt;\r\nX-Sender: james.abley@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 36237 invoked from network); 30 Jun 2009 12:09:57 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m4.grp.re1.yahoo.com with QMQP; 30 Jun 2009 12:09:57 -0000\r\nX-Received: from unknown (HELO mail-fx0-f228.google.com) (209.85.220.228)\n  by mta3.grp.re1.yahoo.com with SMTP; 30 Jun 2009 12:09:57 -0000\r\nX-Received: by fxm28 with SMTP id 28so79059fxm.36\n        for &lt;junit@yahoogroups.com&gt;; Tue, 30 Jun 2009 05:08:56 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.223.105.9 with SMTP id r9mr5208508fao.66.1246363736327; Tue, \n\t30 Jun 2009 05:08:56 -0700 (PDT)\r\nIn-Reply-To: &lt;736113.98895.qm@...&gt;\r\nReferences: &lt;736113.98895.qm@...&gt;\r\nDate: Tue, 30 Jun 2009 13:08:56 +0100\r\nMessage-ID: &lt;23fce8e60906300508i6a1d56f4vc9d5409ec5ec448d@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: James Abley &lt;james.abley@...&gt;\r\nSubject: Re: [junit] unit testing clinet server applications?\r\nX-Yahoo-Group-Post: member; u=212683928; y=15guVTEK6hFHpa1UefQFrs0DDhoHi_UWNtLgW_2GB-JaCIbL\r\nX-Yahoo-Profile: taboozizi\r\n\r\n2009/6/29 Suresh Koya &lt;surikoya@...&gt;:\n&gt;\n&gt;\n&gt; Try to stub the classes you are testing. You can stub almost anything. If it\n&gt; is not possible to stub classes wrap them. This can happen if you work with\n&gt; a class that is declared final.\n&gt; My one advice would be not to actually create a server connection for unit\n&gt; tests. Your tests are supposed to be simple. Try to create Fake server\n&gt; connection and pass them across.\n&gt;\n&gt; Unit testing and refactoring should go hand in hand. If something is\n&gt; stopping you from unit testing, it would be a good time to start throwing\n&gt; away something. There is a problem here too. To ensure your refactoring is\n&gt; right you should have unit tests but then that is the purpose why you\n&gt; started refactoring. This is a chicken and egg problem. So start refactoring\n&gt; in small steps.\n&gt;\n&gt; There are some good articles in developerWorks featuring Unit testing. I\n&gt; have read the reviews of a book called &quot;Working Effectively with Legacy\n&gt; Code&quot;(http://www.amazon.com/Working-Effectively-Legacy-Robert-Martin/dp/0131177052/ref=pd_bxgy_b_img_a)\n&gt; which seems to be useful. I did not get my hands yet on this book.\n&gt;\n&gt; I would suggest getting some hands on this book and something like this or\n&gt; taking a short training on agile training.\n&gt;\n&gt; regards,\n&gt; Suresh\n&gt;\n&gt; --- On Mon, 6/29/09, Bradley, Todd &lt;todd.bradley@...&gt; wrote:\n&gt;\n&gt; From: Bradley, Todd &lt;todd.bradley@...&gt;\n&gt; Subject: RE: [junit] unit testing clinet server applications?\n&gt; To: junit@yahoogroups.com\n&gt; Date: Monday, June 29, 2009, 9:57 AM\n&gt;\n&gt; Is your application designed in such a way that you can test your code\n&gt;\n&gt; without starting another process (for your server)? I&#39;ve had better\n&gt;\n&gt; luck mocking out server-side code at a slightly higher layer. In other\n&gt;\n&gt; words, unless you don&#39;t trust the code that does your wire protocol and\n&gt;\n&gt; TCP/IP communication, include that in the mock. Then your mock can just\n&gt;\n&gt; be Java classes wired up at runtime, and you don&#39;t have to have the\n&gt;\n&gt; headaches with starting and stopping another process.\n&gt;\n&gt; Todd.\n&gt;\n&gt;&gt; -----Original Message-----\n&gt;\n&gt;&gt; From: junit@yahoogroups. com [mailto:junit@yahoogroups. com] On\n&gt;\n&gt;&gt; Behalf Of angeshwar\n&gt;\n&gt;&gt; Sent: Monday, June 29, 2009 3:19 AM\n&gt;\n&gt;&gt; To: junit@yahoogroups. com\n&gt;\n&gt;&gt; Subject: [junit] unit testing clinet server applications?\n&gt;\n&gt;&gt;\n&gt;\n&gt;&gt; Hi,\n&gt;\n&gt;&gt;\n&gt;\n&gt;&gt; I have a client server application. The client connects with\n&gt;\n&gt;&gt; a remote server (3rd party) and sends/receives different\n&gt;\n&gt;&gt; kinds of messages.\n&gt;\n&gt;&gt;\n&gt;\n&gt;&gt; For my Junit test cases I am implementing my own server which\n&gt;\n&gt;&gt; simulates the behavior of the 3rd party server.\n&gt;\n&gt;&gt;\n&gt;\n&gt;&gt; Whats the best approach to test this.\n&gt;\n&gt;&gt;\n&gt;\n&gt;&gt; - Where do I include the code that actually launches my local\n&gt;\n&gt;&gt; test server (should this part of Junit test package)\n&gt;\n&gt;&gt; - For each message type (exchanged b/w client and my test\n&gt;\n&gt;&gt; server) that I will be testing, do I kick start / shut down\n&gt;\n&gt;&gt; the server (seperately for each test case)\n&gt;\n\nHi,\n\nI&#39;m aware of at least 2 approaches to this. The first is one that I\nuse most frequently, with Jetty or HttpUnit PseudoServer running. The\nserver gets started up in an @Before method and cleaned up with an\n@After method.\nA test then has to do minimal setup to register any desired handlers\nfor each test. I don&#39;t see why you can&#39;t take a similar approach with\nyour code.\n\nThe other approach, that I came across reading Release It! by Michael\nT Nygard, is to create a server implementation on your network. Then\nyou know that port 3000 on host the-test-server will return a good\nresponse to request X, port 3001 will never return anything and\nsimulates an unresponsive server, port 3002 will abruptly close\nconnections without sending a response, etc. That does mean that your\ntests are tied to a particular network configuration, but can be\nuseful for certain types of tests.\n\nCheers,\n\nJames\n\n", 
    "profile": "taboozizi", 
    "topicId": 21783, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "prevInTime": 21785, 
    "contentTrasformed": false, 
    "postDate": "1246363736", 
    "canDelete": false, 
    "nextInTopic": 21787, 
    "prevInTopic": 21785, 
    "headers": {
        "inReplyToHeader": "PDczNjExMy45ODg5NS5xbUB3ZWI4MDgwMy5tYWlsLm11ZC55YWhvby5jb20+", 
        "messageIdInHeader": "PDIzZmNlOGU2MDkwNjMwMDUwOGk2YTFkNTZmNHZjOWQ1NDA5ZWM1ZWM0NDhkQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDczNjExMy45ODg5NS5xbUB3ZWI4MDgwMy5tYWlsLm11ZC55YWhvby5jb20+"
    }
}