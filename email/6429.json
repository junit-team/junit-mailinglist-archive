{
    "numMessagesInTopic": 108, 
    "nextInTime": 6430, 
    "senderId": "RK30IC_waQbLmmuuRek4ICOTzih2QPSEkKVX1JOZq8MYxnKxB9uc4NyQ6rxxnJ9Wj6ljccDkmojhhQxpZS_rB__0go1MesiJx52JyrYyascvYqN2x2Xd8g", 
    "systemMessage": false, 
    "subject": "Re: Testing Private Methods", 
    "from": "&quot;Dave Astels &lt;dave@...&gt;&quot; &lt;dave@...&gt;", 
    "authorName": "Dave Astels &lt;dave@saorsa.com&gt;", 
    "msgSnippet": "... OK.  A quick job here.  Here s the sectionon all this. Hopefully, someone gets somethign out of it :-) Dave ... Tests, Suies, and Fixtures Tests, cases,", 
    "msgId": 6429, 
    "profile": "astelsd", 
    "topicId": 1696, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 116713278, 
    "messageBody": "<div id=\"ygrps-yiv-162164743\">--- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Dave Astels &lt;dave@s...&gt;&quot; &lt;dave@s...&gt; wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I have a section in the JUnit chapter in my TDD book on the topic. <br/>\n&gt; I&#39;m thinking maybe it should be the next Coad Letter issue.<br/>\n&gt; <br/>\n&gt; I&#39;ll try to do justice to the topic once I&#39;m back at the hotel and<br/>\n&gt; post the first draft of the results here.<br/>\n<br/>\n </span></blockquote>OK.  A quick job here.  Here&#39;s the sectionon all this.<br/>\n<br/>\nHopefully, someone gets somethign out of it :-)<br/>\n<br/>\nDave<br/>\n----<br/>\n<br/>\nTests, Suies, and Fixtures<br/>\n<br/>\nTests, cases, suites, fixtures.  How do they all fit together?  What<br/>\nreally happens when the tests run?  This section will answer these<br/>\nquestions.  By the end of it, you should have a much deeper<br/>\nunderstanding of what happens when we run our tests.  This will help<br/>\nus write and organize groups of tests that are simpler, cleaner, more<br/>\nunderstandable, and more maintainable.<br/>\n<br/>\nLet&#39;s begin by considering TestCase.  It is used to group related<br/>\ntests together.  But what does &quot;related&quot; mean? It is often<br/>\nmisunderstood to mean all tests for a specific class or specific group<br/>\nof related classes.  This misunderstanding is reinforced by some of<br/>\nthe IDE plugins that will generate a TestCase for a specified class,<br/>\ncreating a test method for each method in the target class.  These<br/>\ntest creation facilities are overly simplistic at best, and misleading<br/>\nat worst.  They reinforce the view that you should have a TestCase for<br/>\neach class being tested, and a test for each method in those classes.<br/>\n<br/>\nThis structural correspondence of tests misses the point.  You should<br/>\nwrite tests for behaviors, not methods.  A test method should test a<br/>\nsingle behavior. Examples include:<br/>\n<br/>\n- The size of an empty list should be zero.<br/>\n<br/>\n- An empty list should answer true when it is asked if it isEmpty().<br/>\n<br/>\n- The iterator returned by an empty list should have no elements.<br/>\n<br/>\nHere&#39;s a TestCase corresponding to the above behaviors:<br/>\n<br/>\npublic class TestEmptyList extends TestCase {<br/>\n  private List emptyList;<br/>\n<br/>\n  protected void setUp() throws Exception {<br/>\n    emptyList = new ArrayList();<br/>\n  }<br/>\n<br/>\n  public void testSize() {<br/>\n    assertEquals(&quot;Size of an empty list should be zero.&quot;,<br/>\n                  0,<br/>\n                  emptyList.size());<br/>\n  }<br/>\n<br/>\n  public void testIsEmpty() {<br/>\n    assertTrue(&quot;Empty list should report empty.&quot;,<br/>\n                emptyList.isEmpty());<br/>\n  }<br/>\n<br/>\n  public void testIterator() {<br/>\n    Iterator emptyListIterator = emptyList.iterator();<br/>\n    assertFalse(&quot;Iterator from empty list should be empty.&quot;,<br/>\n                 emptyListIterator.hasNext());<br/>\n  }<br/>\n}<br/>\n<br/>\nTestCase is a mechanism to allow fixture reuse.  Each TestCase<br/>\nsubclass represents a fixture, and contains a group of tests that run<br/>\nin the context of that fixture.  A fixture is the set of preconditions<br/>\nand assumptions with which a test is run. It is the runtime context<br/>\nfor the test, embodied in the instance variables of the TestCase, the<br/>\ncode in the setUp() method, and any variables and setup code local to<br/>\nthe test method. In the above example, the fixture consisted of<br/>\nemptyList, an ArrayList with no elements.<br/>\n<br/>\nAn instance of a TestCase is created for each individual test method.<br/>\nWhen it is run, it builds the fixture, runs its single test, and tears<br/>\ndown the fixture.  Note that the two test case objects are the same<br/>\nobject, but with methods from the super and subclass.  By allowing<br/>\nTestCase to contain multiple tests (i.e. public void testXXX()<br/>\nmethods) you are sharing a fixture definition.<br/>\n<br/>\nThis hardwired fixture-orientation makes TestCase a bad choice for<br/>\ngrouping tests structurally or conceptually -- TestSuite is better for<br/>\nthat, as we&#39;ll see later.  So instead of using TestCase to group tests<br/>\nfor a given class, try thinking about it as a way to group tests that<br/>\nneed to be set up in exactly the same way.<br/>\n<br/>\nA measure of how well your TestCase is mapping to the requirements of<br/>\na single fixture is how uniformly that fixture (as described by the<br/>\nsetUp() method) is used by all of the test methods.  Whenever you<br/>\ndiscover that your setUp() method contains some code for some of your<br/>\ntest methods, and different code for other test methods, consider it a<br/>\nsmell that indicates that you should refactor the TestCase into two or<br/>\nmore TestCases.<br/>\n<br/>\nOnce you get the hang of defining TestCases this narrowly, you will<br/>\nfind that they are easier to understand and maintain. And again, as we<br/>\nwill see shortly, there are still lots of ways to organize the tests<br/>\nfor a specific class (or for any other natural grouping) so that they<br/>\nare easy to identify.<br/>\n<br/>\nFor example, here is a TestCase similar to the above, but with<br/>\na couple more tests:<br/>\n<br/>\npublic class TestList extends TestCase {<br/>\n  private List emptyList;<br/>\n<br/>\n  protected void setUp() throws Exception {<br/>\n    emptyList = new ArrayList();<br/>\n  }<br/>\n<br/>\n  public void testEmptyListSize() {<br/>\n    assertEquals(&quot;Size of an empty list should be zero.&quot;,<br/>\n                  0,<br/>\n                  emptyList.size());<br/>\n  }<br/>\n<br/>\n  public void testEnptyListIsEmpty() {<br/>\n    assertTrue(&quot;Empty list should report empty.&quot;,<br/>\n                emptyList.isEmpty());<br/>\n  }<br/>\n<br/>\n  public void testEmptyListIterator() {<br/>\n    Iterator emptyListIterator = emptyList.iterator();<br/>\n    assertFalse(&quot;Iterator from empty list should be empty.&quot;,<br/>\n                 emptyListIterator.hasNext());<br/>\n  }<br/>\n<br/>\n  public void testOneItemListSize() {<br/>\n    List oneItemList = new ArrayList();<br/>\n    oneItemList.add(&quot;One&quot;);<br/>\n    assertEquals(&quot;Size of a one item list should be one.&quot;,<br/>\n                  1,<br/>\n                  oneItemList.size());<br/>\n  }<br/>\n<br/>\n  public void testOneItemListIsEmpty() {<br/>\n    List oneItemList = new ArrayList();<br/>\n    oneItemList.add(&quot;One&quot;);<br/>\n    assertFalse(&quot;One item list should not report empty.&quot;,<br/>\n                oneItemList.isEmpty());<br/>\n  }<br/>\n}<br/>\n<br/>\nHere, we want to extract the common fixture code in<br/>\ntestOneItemListSize() and testOneItemListIsEmpty() into a common<br/>\nfixture using the setUp() method.  The problem is that the other three<br/>\ntests don&#39;t need it.  This class should be split into two fixtures,<br/>\nthe earlier TestEmptyList and the following:<br/>\n<br/>\npublic class TestoneItemList extends TestCase {<br/>\n  private List oneItemList;<br/>\n<br/>\n  protected void setUp() throws Exception {<br/>\n    oneItemList = new ArrayList();<br/>\n    oneItemList.add(&quot;One&quot;);<br/>\n  }<br/>\n<br/>\n  public void testOneItemListSize() {<br/>\n    assertEquals(&quot;Size of a one item list should be one.&quot;,<br/>\n                  1,<br/>\n                  oneItemList.size());<br/>\n  }<br/>\n<br/>\n  public void testOneItemListIsEmpty() {<br/>\n    assertFalse(&quot;One item list should not report empty.&quot;,<br/>\n                oneItemList.isEmpty());<br/>\n  }<br/>\n}<br/>\n<br/>\nThis is better, but notice that it leaves a little smell behind:<br/>\noverly long test method names that echo the fact that we are testing a<br/>\nlist with one item. Because the class name makes it clear what size<br/>\nlist we are testing, we can shorten these method names to describe<br/>\njust the behaviors being tested: testSize() and testIsEmpty().<br/>\n<br/>\nTestSuite is a mechanism for grouping a collection of TestCase<br/>\ninstances and running them sequentially. <br/>\n<br/>\nTestCase has the ability to create a TestSuite all possible instances<br/>\nof itself.  This is done by using reflection to create an instance for<br/>\neach constituent test.  You also have the ability to create explicit<br/>\nTestSuites by subclassing TestSuite and writing a custom public static<br/>\nTest suite() method.  This is useful for collecting together groups of<br/>\nsmaller TestSuites, which can be other custom TestSuites, or<br/>\nTestSuites generated by TestCases.<br/>\n<br/>\nBoth TestSuite and TestCase implement the Test interface. The<br/>\nTestRunners work with objects that are Tests, hence we can point a<br/>\nrunner at any Test (i.e.  TestSuite or TestCase) and recursively run<br/>\nall the contained tests.</div>", 
    "prevInTime": 6428, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1039840418", 
    "canDelete": false, 
    "nextInTopic": 6430, 
    "prevInTopic": 6427, 
    "headers": {
        "inReplyToHeader": "PGF0ZGsyNitqbW02QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGF0ZWNiMit2MW05QGVHcm91cHMuY29tPg=="
    }
}