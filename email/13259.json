{
    "numMessagesInTopic": 9, 
    "nextInTime": 13260, 
    "senderId": "_ZJyrbNy2-fQg1AaS5GO4xzsM0Bmf5hvaF40dTc8uuPXW9gzaAweCMtFmGjfpcFmD1HNVdlVkq5e6KXen9QE7fo7wYtsLw", 
    "systemMessage": false, 
    "subject": "Re: How to test this class ?", 
    "from": "&quot;rubbinio&quot; &lt;rubbinio@...&gt;", 
    "authorName": "rubbinio", 
    "msgSnippet": "Unfortunatelly I can not change the code as this was an Assignemnt in a Quality Assurance course and the trick was to find a way to test it as it is. ... ", 
    "msgId": 13259, 
    "profile": "rubbinio", 
    "topicId": 13253, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 111748393, 
    "messageBody": "<div id=\"ygrps-yiv-898763613\">Unfortunatelly I can not change the code as this was an Assignemnt in<br/>\na Quality Assurance course and the trick was to find a way to test it<br/>\nas it is.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; wrote:<br/>\n&gt; rubbinio wrote:<br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; &gt; I need to test a class in which all the methods read via System.in.<br/>\n&gt; &gt; <br/>\n&gt; &gt; How can I fake the input so that I can automate my tests ?<br/>\n&gt; <br/>\n&gt; Right now you&#39;re using a BufferedReader that talks to System.in. If you <br/>\n&gt; had a BufferedReader that talks to a StringReader, then you could fake <br/>\n&gt; all the input using Strings.<br/>\n&gt; <br/>\n&gt; Right now you&#39;re hardcoding the value of &quot;keyboard&quot; for each<br/>\ninstance of <br/>\n&gt; the class Input. You could introduce a parameter so that:<br/>\n&gt;   * your tests could pass in a StringReader<br/>\n&gt;   * your production code could pass in the InputStreamReader talking to <br/>\n&gt; System.in<br/>\n&gt; <br/>\n&gt; Step 1: Change everything in Input so it&#39;s no longer static.<br/>\n&gt; Step 2: Introduce this constructor:<br/>\n&gt; <br/>\n&gt; public class Input(Reader source) {<br/>\n&gt;      this.keyboard = new BufferedReader(source);<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; Step 3: Consider renaming &quot;keyboard&quot; since it&#39;s no longer talking <br/>\n&gt; (necessarily) to a keyboard.<br/>\n&gt; <br/>\n&gt; Now, to use your class, write code like this:<br/>\n&gt; <br/>\n&gt; Input keyboardInput = new Input(new InputStreamReader(System.in));<br/>\n&gt; <br/>\n&gt; In your tests, write code like this:<br/>\n&gt; <br/>\n&gt; testReadInt() {<br/>\n&gt;      Input input = new Input(new StringReader(&quot;26&#92;n&quot;));<br/>\n&gt;      assertEquals(26, input.readInt());<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; This is a specific example of refactoring code so that it doesn&#39;t<br/>\ndepend <br/>\n&gt; directly on global data (System.in). In general, it&#39;s a good idea<br/>\nnot to <br/>\n&gt; depend directly on global data.<br/>\n&gt; <br/>\n&gt; I hope this helped.<br/>\n&gt; &#92;--<br/>\n&gt; J. B. (Joe) Rainsberger<br/>\n&gt; Diaspar Software Services<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\n&gt; Author, JUnit Recipes: Practical Methods for Programmer Testing </span></blockquote></div>", 
    "prevInTime": 13258, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1113103894", 
    "canDelete": false, 
    "nextInTopic": 13261, 
    "prevInTopic": 13258, 
    "headers": {
        "inReplyToHeader": "PDQyNTgyMEY0LjEwMjAxMDhAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PGQzYTZtbStvNGpxQGVHcm91cHMuY29tPg=="
    }
}