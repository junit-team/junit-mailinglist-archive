{
    "numMessagesInTopic": 5, 
    "nextInTime": 12113, 
    "senderId": "O17YtgJS6J5qPfttsFzYxCzqH4-dFQAxHV0_e8Gj-CeWygifC2cGZ_iiWusJlxk26rqC9dQe8i0S-fakW7JMB3SrDCswMh0UU40", 
    "systemMessage": true, 
    "subject": "RE: [junit] Best Strategy for testing DAOs - dependency issues", 
    "from": "John Lindwall &lt;jlindwall@...&gt;", 
    "authorName": "John Lindwall", 
    "msgSnippet": "We use dbunit.  Hopefully I m not misunderstanding your problem -- I also agree that I do not want a test method to depend on any system code but the code", 
    "msgId": 12112, 
    "rawEmail": "Return-Path: &lt;JLindwall@...&gt;\r\nReceived: (qmail 90889 invoked from network); 7 Oct 2004 21:57:25 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m17.grp.scd.yahoo.com with QMQP; 7 Oct 2004 21:57:25 -0000\r\nReceived: from unknown (HELO n4a.bulk.scd.yahoo.com) (66.94.237.38)\n  by mta5.grp.scd.yahoo.com with SMTP; 7 Oct 2004 21:57:25 -0000\r\nReceived: from [66.218.69.3] by n4.bulk.scd.yahoo.com with NNFMP; 07 Oct 2004 21:57:24 -0000\r\nReceived: from [66.218.67.143] by mailer3.bulk.scd.yahoo.com with NNFMP; 07 Oct 2004 21:57:24 -0000\r\nX-Sender: JLindwall@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 38813 invoked from network); 7 Oct 2004 16:34:33 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m15.grp.scd.yahoo.com with QMQP; 7 Oct 2004 16:34:33 -0000\r\nReceived: from unknown (HELO xifine01.XIFIN.COM) (66.185.162.165)\n  by mta4.grp.scd.yahoo.com with SMTP; 7 Oct 2004 16:34:33 -0000\r\nReceived: by xifine01.xifin.com with Internet Mail Service (5.5.2653.19)\n\tid &lt;S8XM8MZ9&gt;; Thu, 7 Oct 2004 09:34:32 -0700\r\nMessage-ID: &lt;B15F5BF55B08D511BB1700B0D0687B46031CC093@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nDate: Thu, 7 Oct 2004 09:34:29 -0700 \r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nX-eGroups-Remote-IP: 66.185.162.165\r\nFrom: John Lindwall &lt;jlindwall@...&gt;\r\nSubject: RE: [junit] Best Strategy for testing DAOs - dependency issues\r\nX-Yahoo-Group-Post: member; u=68206578\r\nX-Yahoo-Profile: jlindwall\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 07 Oct 2004 21:57:24 -0000\r\nX-eGroups-Remote-IP: 66.94.237.38\r\n\r\n\nWe use dbunit.  Hopefully I&#39;m not misunderstanding your problem --\n \nI also agree that I do not want a test method to depend on any system code but the code under test.  So using other DAO methods to create/retrieve/update/delete a DAO in a test method is a no-no.\n \nTo solve this issue we wrote a DAOFactory that creates populates DAO objects from a dbunit XML file.  A simple retrieval test looks something like this:\n \n \n    public void testGetZipDAO() throws SQLException, DatabaseUnitException, IOException, ObjectNotFoundException\n    {\n        final String id = &quot;99921&quot;;\n        final String datasetFile = id + &quot;.xml&quot;;\n\n        insertIntoDatabase(datasetFile);  // Puts the expected data into the db\n\n        ZipDAO observed = Loader.getZipDAO(id);\n        ZipDAO expected = DAOFactory.getFactory(datasetFile).getZip(id);\n \n        assertEquals(expected, observed);\n    }\n\n \n \nJohn\n\n-----Original Message-----\nFrom: MKlaene [mailto:mklaene@...]\nSent: Thursday, October 07, 2004 4:12 AM\nTo: junit@yahoogroups.com\nSubject: [junit] Best Strategy for testing DAOs - dependency issues\n\n\n\n\nI&#39;m having some concerns as I write some tests for my DAOs.  My \nconcern is that I can&#39;t figure out a good way to write these tests \nwithout relying on other DAO methods.\n\nFor example, my employeeDAO might have a createEmployee(Employee \nemployee) method and a getEmployeeById(Integer id) method.  Almost \nall of my tests rely on a employee record being pre-populated.  For \nnow, I&#39;m calling my createEmployee DAO method in setup() so every \ntest has it.  Then I call the deleteEmployee(Employee employee) \nmethod in tearDown().  It bothers me somewhat to have to do this as \nI would prefer to only call those methods within their corresponding \ntest methods.  \n\nI&#39;ve looked at DBUnit.  The problem here is that I still have to \npopulate my bean from the database - then I&#39;m back to calling a DAO \nmethod like getEmployeeById in every method - an undesirable \ndependency.  Another option I guess would be to have some DAO \nmethods used only for testing but this seems overkill.  I&#39;d rather \nuse the database during testing too, not mock objects.\n\nSo, I guess my questions are:\n\n1.)Is there a good way to test DAOs in isolation, without relying on \nother DAO methods?\n2.)Does it really matter that much anyway if I use other DAO \nmethods?  I mean, the goal is for ALL tests to pass anyway.  It can \nbe confusing if your testDeleteEmployee method fails due to a \nfailure in createEmployee which you have to call first, but I guess \nit wouldn&#39;t take long to figure out what really happened.\n\nAny feedback would be appreciated.\nThanks,\nMike\n\n\n\n\n\n\n\n\nYahoo! Groups Sponsor\t\n\nADVERTISEMENT\n &lt;http://us.ard.yahoo.com/SIG=1294dt9qv/M=295196.4901138.6071305.3001176/D=groups/S=1705006905:HM/EXP=1097248100/A=2128215/R=0/SIG=10se96mf6/*http://companion.yahoo.com&gt; click here\t\n  &lt;http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=groups/S=:HM/A=2128215/rand=289822130&gt; \t\n\n\n  _____  \n\nYahoo! Groups Links\n\n\n*\tTo visit your group on the web, go to:\nhttp://groups.yahoo.com/group/junit/ &lt;http://groups.yahoo.com/group/junit/&gt; \n  \n\n*\tTo unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogroups.com &lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; \n  \n\n*\tYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service &lt;http://docs.yahoo.com/info/terms/&gt; . \n\n\n\n\n[Non-text portions of this message have been removed]\n\n\n\n\n\n", 
    "profile": "jlindwall", 
    "topicId": 12106, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 68206578, 
    "prevInTime": 12111, 
    "contentTrasformed": false, 
    "postDate": "1097166869", 
    "canDelete": false, 
    "nextInTopic": 12114, 
    "prevInTopic": 12110, 
    "headers": {
        "messageIdInHeader": "PEIxNUY1QkY1NUIwOEQ1MTFCQjE3MDBCMEQwNjg3QjQ2MDMxQ0MwOTNAeGlmaW5lMDEueGlmaW4uY29tPg=="
    }
}