{
    "numMessagesInTopic": 19, 
    "nextInTime": 21253, 
    "senderId": "YCVUifdxaHMWH4C7dUEZlN3034dD0FPogGEPmTWzAK6ezTQo_3XL7RceI00vsNLBPuQtmqdFZMl2BT9zlRIOtUYdgiQXv3mL3DG3DwxAuY6y70wu", 
    "systemMessage": false, 
    "subject": "Re: [junit] Priority of Assertion?", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "In rMock we used the following contruct: public void testSomething() { ", 
    "msgId": 21252, 
    "rawEmail": "Return-Path: &lt;joakim.ohlrogge@...&gt;\r\nX-Sender: joakim.ohlrogge@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 89750 invoked from network); 5 Jan 2009 14:22:00 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m57.grp.scd.yahoo.com with QMQP; 5 Jan 2009 14:22:00 -0000\r\nX-Received: from unknown (HELO yw-out-1718.google.com) (74.125.46.156)\n  by mta16.grp.scd.yahoo.com with SMTP; 5 Jan 2009 14:22:00 -0000\r\nX-Received: by yw-out-1718.google.com with SMTP id 9so2248544ywk.2\n        for &lt;junit@yahoogroups.com&gt;; Mon, 05 Jan 2009 06:21:59 -0800 (PST)\r\nX-Received: by 10.151.13.7 with SMTP id q7mr18005872ybi.64.1231165319524;\n        Mon, 05 Jan 2009 06:21:59 -0800 (PST)\r\nX-Received: by 10.151.117.16 with HTTP; Mon, 5 Jan 2009 06:21:59 -0800 (PST)\r\nMessage-ID: &lt;b9ee5e410901050621j1078cef8n8ec70e068c1e6829@...&gt;\r\nDate: Mon, 5 Jan 2009 15:21:59 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;4f7da6b90812301943k3dfa7cbbp896567b54a756e64@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;gjcoh4+a6v5@...&gt;\n\t &lt;B6D159719D97430CB9DD6CC4DB5F0DC2@kentspavilion&gt;\n\t &lt;fba296970812300818i4d920db4o4321ab7dc6dcab14@...&gt;\n\t &lt;4f7da6b90812301943k3dfa7cbbp896567b54a756e64@...&gt;\r\nX-Google-Sender-Auth: 479983d8ca1efa6a\r\nX-eGroups-Msg-Info: 2:4:8:0:2\r\nX-eGroups-From: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nFrom: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nReply-To: joakim.ohlrogge@...\r\nSubject: Re: [junit] Priority of Assertion?\r\nX-Yahoo-Group-Post: member; u=261856052; y=4cklmiPiT6D_rKrGsJ6H3TGgAWPKwDUgOXmg--ZNstUW6qKU\r\nX-Yahoo-Profile: j0hlrogge\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nIn rMock we used the following contruct:\n\npublic void testSomething() {\n  &lt;=\r\ncode that we don&#39;t expect to throw an exception&gt;\n  expectThatExceptionThrow=\r\nn(isInstanceOf(SomeException.class));\n  &lt;code that we expect to throw an ex=\r\nception&gt;\n}\n\nI think that idea is what Charlies assertThrows suggestion hint=\r\ned towards.\n\nWhile this freedom can be abused it allows to precisely pinpoi=\r\nnt what should\nthrow an exception. Also, you could do all kind of hamcrest =\r\nchecks on the\nexception instance that is not possible to do with annotation=\r\ns. The\nunderlying implementation in the rMock-case is that\nexpectThatExcept=\r\nionThrows primes the framework with an expection that any\nexception is chec=\r\nked against before the exception is rethrown as an error\n(if the check pass=\r\nes the Exception is expected and not rethrown).\n\nJusr my 5 cents :)\n\n\nOn We=\r\nd, Dec 31, 2008 at 4:43 AM, David Saff &lt;david@...&gt; wrote:\n\n&gt;   Ilja,\n&gt;=\r\n\n&gt; Thanks for thinking this through.\n&gt;\n&gt;\n&gt; &gt; In my view, the behavior is in=\r\n fact an artifact of an implementation\n&gt; &gt; detail - namely that asserts ind=\r\nicate failures by throwing an\n&gt; &gt; exception.\n&gt;\n&gt; I don&#39;t know that I can ge=\r\nt behind this. This test is always going to pass:\n&gt;\n&gt; @Test public void avo=\r\nidThePainfulTruth() {\n&gt; try {\n&gt; assertTrue(false);\n&gt; } catch (Exception e) =\r\n{\n&gt; }\n&gt; }\n&gt;\n&gt; I can&#39;t think of a better way than exceptions to implement as=\r\nsertions, and\n&gt; I\n&gt; can&#39;t think of a way to hide that fact from users in al=\r\nl cases.\n&gt;\n&gt; David Saff\n&gt;\n&gt; On Tue, Dec 30, 2008 at 11:18 AM, Ilja Preu=DF =\r\n&lt;iljapreuss@...&lt;iljapreuss%40googlemail.com&gt;\n&gt; &gt;wrote:\n&gt;\n&gt; &gt; Ken=\r\nt, I agree that it is expected behavior, technically. I think you\n&gt; &gt; could=\r\n also make an argument that it would be better if the behavior\n&gt; &gt; was diff=\r\nerent.\n&gt; &gt;\n&gt; &gt; In my view, the behavior is in fact an artifact of an implem=\r\nentation\n&gt; &gt; detail - namely that asserts indicate failures by throwing an\n=\r\n&gt; &gt; exception. It could be made the case that JUnit &quot;should&quot; report those\n&gt;=\r\n &gt; failing asserts as failing asserts, not as unexpected exceptions.\n&gt; &gt; Ba=\r\nsically, the current behavior masks the true test failure.\n&gt; &gt;\n&gt; &gt; Frankly,=\r\n I have a hunch that the best solution to this problem\n&gt; &gt; actually is to s=\r\nplit the test in two, that is, to not mix &quot;expected&quot;\n&gt; &gt; and &quot;assert&quot; in th=\r\ne same test method.\n&gt; &gt;\n&gt; &gt; Cheers, Ilja\n&gt; &gt;\n&gt; &gt; 2008/12/30 kentb &lt;kentb@ea=\r\nrthlink.net &lt;kentb%40earthlink.net&gt; &lt;kentb%\n&gt; 40earthlink.net&gt;&gt;:\n&gt; &gt;\n&gt; &gt; &gt; =\r\nYosef,\n&gt; &gt; &gt;\n&gt; &gt; &gt; The behavior you describe is what I would expect to see.=\r\n In the test,\n&gt; you\n&gt; &gt; &gt; declared that an ArrayIndexOutOfBounds exception =\r\nwould be thrown. It\n&gt; was\n&gt; &gt; not\n&gt; &gt; &gt; thrown, so the test fails. The erro=\r\nr message says that the &quot;wrong&quot;\n&gt; &gt; exception\n&gt; &gt; &gt; that was thrown was an =\r\nAssertionError, which is generated by the\n&gt; &gt; &gt; assertTrue(false). The &quot;exp=\r\nected=3D...&quot; means that a test can fail if no\n&gt; &gt; &gt; exception is thrown or =\r\nif the wrong exception is thrown.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Regards,\n&gt; &gt; &gt;\n&gt; &gt; &gt; Kent Bec=\r\nk\n&gt; &gt; &gt; Three Rivers Institute\n&gt; &gt; &gt;\n&gt; &gt; &gt; _____\n&gt; &gt; &gt;\n&gt; &gt; &gt; From: junit@ya=\r\nhoogroups.com &lt;junit%40yahoogroups.com&gt; &lt;junit%\n&gt; 40yahoogroups.com&gt; [mailt=\r\no:\n&gt; &gt; junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt; &lt;junit%40yahoogroups=\r\n.com&gt;]\n&gt; On Behalf Of\n&gt; &gt; &gt; yosefshariat\n&gt; &gt; &gt; Sent: Tuesday, December 30, =\r\n2008 1:10 AM\n&gt; &gt; &gt; To: junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt; &lt;jun=\r\nit%\n&gt; 40yahoogroups.com&gt;\n&gt; &gt; &gt; Subject: [junit] Priority of Assertion?\n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; Hi\n&gt; &gt; &gt; I use &quot;@Test(expected =3D AnyClassException.class&quot;) and on=\r\ne\n&gt; &gt; &gt; &quot;assertTrue(false)&quot; together for example following code:\n&gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; @Test(expected =3D ArrayIndexOutOfBoundsException.class)\n&gt; &gt; &gt; public voi=\r\nd test()\n&gt; &gt; &gt; {\n&gt; &gt; &gt; String s[] =3D new String[]{&quot;1&quot;};\n&gt; &gt; &gt; assertTrue(f=\r\nalse);\n&gt; &gt; &gt; System.out.println(s[10]);\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; I expect to see=\r\n an assertion but I see following error:\n&gt; &gt; &gt; java.lang.Exception: Unexpec=\r\nted exception,\n&gt; &gt; &gt; expected&lt;java.lang.ArrayIndexOutOfBoundsException&gt; but=\r\n\n&gt; &gt; &gt; was&lt;java.lang.AssertionError&gt;..\n&gt; &gt; &gt;\n&gt; &gt; &gt; In your opinion, this te=\r\nst must be Assertion or Exception.\n&gt; &gt; &gt; In &quot;JUnit&quot; we cannot use &quot;@Test(ex=\r\npected =3D AnyClassException.class&quot;)\n&gt; &gt; &gt; and Assertion together at the sa=\r\nme time.\n&gt; &gt; &gt; In my opinion this test must be failed for &quot;assertion&quot; and n=\r\not for\n&gt; &gt; &gt; ArrayIndexOutOfBoundsException.\n&gt; &gt; &gt; Is this a bug in JUnit o=\r\nr my test is wrong and shouldn&#39;t use two item\n&gt; &gt; &gt; together?\n&gt; &gt; &gt; Tanks.\n=\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt;=\r\n &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;  \n=\r\n&gt;\n\n\n\n-- \n-----------------------------------------------------\nJoakim Ohlro=\r\ngge\nAgical AB\nV=E4sterl=E5nggatan 79, 2 tr\n111 29 Stockholm, SWEDEN\n\nMobile=\r\n: +46-708-754004\nBlog: johlrogge.wordpress.com\nE-mail: joakim.ohlrogge@agic=\r\nal.se\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "j0hlrogge", 
    "topicId": 21230, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "prevInTime": 21251, 
    "contentTrasformed": false, 
    "postDate": "1231165319", 
    "canDelete": false, 
    "nextInTopic": 21253, 
    "prevInTopic": 21243, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDgxMjMwMTk0M2szZGZhN2NiYnA4OTY1NjdiNTRhNzU2ZTY0QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDkwMTA1MDYyMWoxMDc4Y2VmOG44ZWM3MGUwNjhjMWU2ODI5QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGdqY29oNCthNnY1QGVHcm91cHMuY29tPgkgPEI2RDE1OTcxOUQ5NzQzMENCOURENkNDNERCNUYwREMyQGtlbnRzcGF2aWxpb24+CSA8ZmJhMjk2OTcwODEyMzAwODE4aTRkOTIwZGI0bzQzMjFhYjdkYzZkY2FiMTRAbWFpbC5nbWFpbC5jb20+CSA8NGY3ZGE2YjkwODEyMzAxOTQzazNkZmE3Y2JicDg5NjU2N2I1NGE3NTZlNjRAbWFpbC5nbWFpbC5jb20+"
    }
}