{
    "numMessagesInTopic": 5, 
    "nextInTime": 19754, 
    "senderId": "uIt3Emp0tLkHC-ddq3yVAkIa9P2mUU-yJpovC1s5l6eDmx-zNNgLk2ujkdJPkm-Uoq1tfJPzotxi_QLLORzSSe7pzWX9wfxQIegj5oRRp9UsrJfiwh8", 
    "systemMessage": true, 
    "subject": "Re: Junit4 new features ?", 
    "from": "&quot;Roger Chen @ RevZoom&quot; &lt;coderobochen@...&gt;", 
    "authorName": "Roger Chen @ RevZoom", 
    "msgSnippet": "... Me and another colleague at work looked at the Junit sources and felt we should do the failure recording in ", 
    "msgId": 19753, 
    "rawEmail": "Return-Path: &lt;coderobochen@...&gt;\r\nReceived: (qmail 50907 invoked from network); 18 Aug 2007 00:02:01 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m46.grp.scd.yahoo.com with QMQP; 18 Aug 2007 00:02:01 -0000\r\nReceived: from unknown (HELO n27b.bullet.sp1.yahoo.com) (209.131.38.244)\n  by mta9.grp.scd.yahoo.com with SMTP; 18 Aug 2007 00:02:01 -0000\r\nReceived: from [216.252.122.216] by n27.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 23:59:42 -0000\r\nReceived: from [209.73.164.83] by t1.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 23:59:42 -0000\r\nReceived: from [66.218.66.82] by t7.bullet.scd.yahoo.com with NNFMP; 17 Aug 2007 23:59:42 -0000\r\nX-Sender: coderobochen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 83884 invoked from network); 17 Aug 2007 21:53:37 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m52.grp.scd.yahoo.com with QMQP; 17 Aug 2007 21:53:37 -0000\r\nReceived: from unknown (HELO n14c.bullet.sp1.yahoo.com) (69.147.64.117)\n  by mta7.grp.scd.yahoo.com with SMTP; 17 Aug 2007 21:53:37 -0000\r\nReceived: from [216.252.122.216] by n14.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 21:53:34 -0000\r\nReceived: from [66.218.69.6] by t1.bullet.sp1.yahoo.com with NNFMP; 17 Aug 2007 21:53:33 -0000\r\nReceived: from [66.218.66.86] by t6.bullet.scd.yahoo.com with NNFMP; 17 Aug 2007 21:53:33 -0000\r\nDate: Fri, 17 Aug 2007 21:53:33 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fa55ct+dpkr@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90708170654r19dfb569ycbfb19c5884ef83d@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;Roger Chen @ RevZoom&quot; &lt;coderobochen@...&gt;\r\nSubject: Re: Junit4 new features ?\r\nX-Yahoo-Group-Post: member; u=320628451; y=xlL8wgLqW7vHEvmocwrRfeG15A5poBzObENKH0wN1ATUuoZtetBo\r\nX-Yahoo-Profile: coderobochen\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 17 Aug 2007 23:59:41 -0000\r\n\r\n--- In junit@yahoogroups.com, &quot;David Saff&quot; &lt;saff@...&gt; wrote:\n&gt;\n&gt; Roger,\n&gt; \n=\r\n&gt; Good questions.\n&gt; \n&gt; 1) I would be interested in seeing the patch.  It st=\r\nrikes me as\n&gt; something that could be done with a custom runner, without pa=\r\ntching\n&gt; JUnit: have you found that to be true?\n\nMe and another colleague a=\r\nt work looked at the Junit sources and felt\nwe should do the failure record=\r\ning in\norg.junit.runner.notification.RunNotifier#fireTestFailure() method.\n=\r\nThat would allow any runner to be able to get a list of failed\ntestcases in=\r\n an XML or a plain text file.\n\nTo re-run the failed tests, we were envision=\r\ning a custom test runner\nand/or modification to the Ant Junit task (since w=\r\ne use Ant heavily)\nthat would take a flag to pick up the failed test XML/te=\r\nxt file from \na known location ($HOME/.junit/failed-tests.xml for e.g.) and=\r\n re-run them.\n\n \n&gt; \n&gt; 2) I&#39;ve heard of wanting to only instantiate a test c=\r\nlass once (you\n&gt; can do that in JUnit, see\n&gt; http://tech.groups.yahoo.com/g=\r\nroup/junit/message/19159).  Is that what\n&gt; you&#39;re looking for, or is there =\r\nanother advantage in having non-static\n&gt; @BeforeClass, etc?\n&gt; \n\nYes, consid=\r\ner the following usage pattern we see in our testing:\n\n  @BeforeClass(\n  pu=\r\nblic void setup() throws IOException {\n\n    String cname =3D getClass().get=\r\nPackage().getName();\n    String rd =3D cname.replace(&#39;.&#39;, &#39;/&#39;);\n    File f =\r\n=3D MyEnv.getRootDir();\n\n    \n    File newRd =3D new File(f, &quot;/tests/unit/s=\r\nrc/java/&quot;+rd);\n    MyEnv.setRootDir(newRd.getCanonicalPath());\n    MyEnv.se=\r\ntLogPropsFile(newRd.getCanonicalPath()+&quot;/log.properties&quot;);\n    setupModules=\r\n();\n  }\n\nThis works nicely with TestNG as the beforeClass non-static method=\r\n can\nbe used to determine the current testclass name. In the above snippet\n=\r\nthe class name is use to construct the path to the log.properties\n(every te=\r\nst class has its own properties file)\n\nWith Juni4 we are forced to use @Bef=\r\nore to get the non-static behavior.\n\n&gt; 3) As I understand it, dependsOnMeth=\r\nods allows one test method to be\n&gt; skipped if another one fails.  I had a v=\r\nersion of this in my own JUnit\n&gt; sandbox for a while, and found it not as u=\r\nseful as I&#39;d liked.  If used\n&gt; to truly say &quot;this test, valid on its own, w=\r\nill fail if this other\n&gt; test, valid on its own, fails&quot;, I found that the d=\r\nependencies became\n&gt; stale, and tests ended up skipped that I wanted to run=\r\n.  However,\n&gt; there were two situations in which it was useful:\n&gt; \n&gt; a) In =\r\nsome other cases, I found I was using the method dependency as a\n&gt; way of s=\r\npecifying preconditions for a test case.  This meant that I\n&gt; needed a test=\r\n that stated, for example, whether the test database was\n&gt; up, or whether I=\r\n was connected to the Internet, or whether I felt like\n&gt; clicking on some b=\r\nuttons to help test the UI.  In JUnit 4.4, these\n&gt; kinds of dependencies ar=\r\ne now marked by assumptions:\n&gt; \n&gt; @Test public void parseGoogleCorrectly() =\r\n{\n&gt;    assumeTrue(internetConnected());\n&gt;   //...\n&gt; }\n&gt; \n&gt; I might decide t=\r\nhat if the internet is not connected, my tests should\n&gt; fail, in which case=\r\n I can test the condition directly:\n&gt; \n&gt; @Test public void internetShouldBe=\r\nConnected() {\n&gt;   assertTrue(internetConnected());\n&gt; }\n\n\nCertainly the pre-=\r\nconditions will help. \n\n&gt; \n&gt; b) Dependencies between tests can be useful in=\r\n initial TDD\n&gt; development: I write a test A, and find out that I&#39;ve bitten=\r\n off more\n&gt; than I can chew.  I write a test B for a smaller chunk of\n&gt; fun=\r\nctionality, and make A dependent on B, so that I can ignore A until\n&gt; B pas=\r\nses.  However, I found that these dependencies cluttered the\n&gt; code, and we=\r\nren&#39;t much help once initial development was done.  I\n&gt; actually made the d=\r\nependency method deprecated, so that I remembered\n&gt; to remove the dependenc=\r\nies once everything was working.\n&gt; \n&gt; My guess is that using assumptions wi=\r\nll handle most reasons that\n&gt; people use dependsOnMethod.  If you do find t=\r\nhe temporary dependency\n&gt; scaffolding from 3b interesting, let&#39;s talk more =\r\nabout it.\n&gt; \n\nThe reason I like the dependency model is basically software =\r\nlayering.\n  If a module or subsystem is failing unit tests I want to exclud=\r\ne\nsubsystems or modules that are consumer of the &#39;bad&#39; modules. Prior to\n J=\r\nunit4 assumptions we were using the pattern of invoking test method\nB (if i=\r\nt was a prerequisite for A) again in the test method A:\n\n void testMethodA(=\r\n) { ..}\n void testMethod B() {\n   testMethodA();\n   .. now the code for N..=\r\n\n  }\n\nFor some of the methods that have a non-trivial execution time it\nwou=\r\nld be great to:\n\n1) Avoid re-running them as part of assumptions check agai=\r\nn and again\n2) Skip the methods that would fail for sure because of depende=\r\nnt\nmethods failing\n\n\nAn example from our project - we have a TCP networking=\r\n module that\ndeals with message transfer and RPC. It depends on [un]marshal=\r\ning\nmodule that does the encoding/decoding of various message types. if\nthe=\r\n marshalling logic is not working, I would want to avoid running\nthe TCP ne=\r\ntworking tests and save time and effort debugging the ones\nthat truly faile=\r\nd. \n\n\n\n\n\n&gt; Thanks,\n&gt; \n&gt;    David Saff\n&gt; \n&gt; On 8/16/07, Roger Chen @ RevZoom=\r\n &lt;coderobochen@...&gt; wrote:\n&gt; &gt; Hi -\n&gt; &gt;\n&gt; &gt; Is there any plan in the near f=\r\nuture to support some TestNG\nfeatures like:\n&gt; &gt;\n&gt; &gt; 1) Ability to re-run on=\r\nly the failed tests by storing the list of\n&gt; &gt; failed tests persistently in=\r\n an XML file etc. I have thought through a\n&gt; &gt; patch to Junit to address th=\r\nis. Would there be any interest in using\n&gt; &gt; this patch?\n&gt; &gt;\n&gt; &gt; 2) Allow n=\r\non-static Before|After Class methods?\n&gt; &gt;\n&gt; &gt; 3) Support dependsOnMethods a=\r\nnnotation like TestNG ?\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;=\r\n\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "coderobochen", 
    "topicId": 19748, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 320628451, 
    "prevInTime": 19752, 
    "contentTrasformed": false, 
    "postDate": "1187387613", 
    "canDelete": false, 
    "nextInTopic": 19768, 
    "prevInTopic": 19752, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwODE3MDY1NHIxOWRmYjU2OXljYmZiMTljNTg4NGVmODNkQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZhNTVjdCtkcGtyQGVHcm91cHMuY29tPg=="
    }
}