{
    "numMessagesInTopic": 11, 
    "nextInTime": 1193, 
    "senderId": "mZTcSvT_36ccYYzf6mOpWhgaJJf-wfxOusbzaHn-_US9sOv9bhuzULp8Iue_iVNt_rfPdhqOjXUG", 
    "systemMessage": false, 
    "subject": "Re: Best practice with EJB", 
    "from": "gdinwiddie@...", 
    "authorName": "gdinwiddie@min.net", 
    "msgSnippet": "Robert, Coming back to an old topic, were you using container-managed or bean-managed persistence, here? The reason I ask is that my project has now mandated", 
    "msgId": 1192, 
    "topicId": 870, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1474752016\">Robert,<br/>\n<br/>\nComing back to an old topic, were you using container-managed<br/>\nor bean-managed persistence, here?<br/>\n<br/>\nThe reason I ask is that my project has now mandated EJB 2.0<br/>\nCMP and I&#39;m trying to figure out how I can create instantiable<br/>\nobjects with the business logic, when access to the persistent<br/>\nfields are all abstract methods.<br/>\n<br/>\n - George<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In junit@y..., Robert Watkins &lt;robertw@q...&gt; wrote:<br/>\n&gt; Vera Peeters writes:<br/>\n&gt; &gt; Implement the important things in normal java classes. You <br/>\n&gt; &gt; can test those easily with JUnit.<br/>\n&gt; &gt; The EJB should be only a very THIN facade into this java <br/>\n&gt; &gt; package. The EJB doesn&#39;t do anything by itself, it only <br/>\n&gt; &gt; redirects the client requests. <br/>\n&gt; &gt; This way, it&#39;s still important that you test the EJBs, <br/>\n&gt; &gt; preferebly in such a way as Robert describes, but you can do<br/>\n&gt; &gt; most of the work by simply running simple JUnit tests on <br/>\n&gt; &gt; normal classes, without having to deploy anything.  <br/>\n&gt; <br/>\n&gt; This is a nice aim, but it&#39;s not always possible. That said, it&#39;s <br/>\nstill<br/>\n&gt; worth striving for.<br/>\n&gt; <br/>\n&gt; The main problem area is when you want your EJB to leverage the <br/>\ncontainer in<br/>\n&gt; some way. For example, you might want to lookup another EJB.<br/>\n&gt; <br/>\n&gt; A proto-pattern I&#39;m using for this is to implement a hierarchy like <br/>\nthis:<br/>\n&gt;      --- BaseRemote<br/>\n&gt;     /<br/>\n&gt; Base &lt;-- BaseImpl &lt;-- BaseEJB<br/>\n&gt; <br/>\n&gt; BaseHome<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; The BaseImpl has all the business logic in it, and stub methods to <br/>\nhandle<br/>\n&gt; EJB services. It&#39;s instantiable and can be used in the test cases <br/>\n(which<br/>\n&gt; look at instances of Base, not BaseRemote or BaseImpl). The stub <br/>\nmethods<br/>\n&gt; don&#39;t do much.<br/>\n&gt; <br/>\n&gt; BaseEJB extends BaseImpl, and overrides the methods where the <br/>\nservice<br/>\n&gt; hook-ins are needed.<br/>\n&gt; <br/>\n&gt; Please note that it is _very_ important to run your unit tests in <br/>\nthe &#39;live&#39;<br/>\n&gt; EJB mode as well as the local mode. The behaviour changes can get <br/>\nyou in<br/>\n&gt; really subtle ways otherwise. Your acceptance tests should probably <br/>\nonly run<br/>\n&gt; in &#39;live&#39; mode. The aim here is not to abandon testing in the live <br/>\nmode;<br/>\n&gt; it&#39;s merely to get enough confidence, for a while, that your code <br/>\nworks to<br/>\n&gt; let you get along. I personally find it&#39;s okay to have about 80% <br/>\nconfidence<br/>\n&gt; for a few hours, periodically resetting back to the 99% confidence <br/>\nthat the<br/>\n&gt; full live tests give me. The increased confidence that running in a <br/>\nlive<br/>\n&gt; mode all the time is offset by the sheer pain and inconvenience of <br/>\nit. YMMV.<br/>\n&gt; <br/>\n&gt; Robert. </span></blockquote></div>", 
    "prevInTime": 1191, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "989863171", 
    "canDelete": false, 
    "nextInTopic": 1195, 
    "prevInTopic": 945, 
    "headers": {
        "inReplyToHeader": "PDMzQTVFNjk5REFDNEQ0MTE5N0MyMDA1MDhCQUY1MjE3MkE1N0JFQGF1Ym5tc3gwMS5xc2kuY29tLmF1Pg==", 
        "messageIdInHeader": "PDlkcDZlMytqNmQ1QGVHcm91cHMuY29tPg=="
    }
}