{
    "topicId": 1, 
    "postDate": "974724006", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Vera Peeters&quot; &lt;vera.peeters@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "nKUtaHiXYu7jU7mogquCdMCi5JYJIYamK4R00dS4B8R2lW9Cs4uNeanxzCy2bwSxa9C3JmlrRfEaqgvKoH2KnCMNONYnWSwj3V0THNo", 
    "nextInTime": 47, 
    "userId": 0, 
    "prevInTime": 45, 
    "prevInTopic": 44, 
    "headers": {
        "inReplyToHeader": "PDh2OHYyYSt0NTE3QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PE5EQkJJQU1BRE1ISU1PQUxMQ0hETUVBSUNIQUEudnBAdHJ5eC5jb20+"
    }, 
    "authorName": "Vera Peeters", 
    "numMessagesInTopic": 19, 
    "msgSnippet": "... No code duplication. ... No client code changes. My clients don t even notice wether they re running with a local or a remote EJB. ... We use the following", 
    "contentTrasformed": false, 
    "msgId": 46, 
    "nextInTopic": 47, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;vp@...&gt;\r\nX-Sender: vp@...\r\nX-Apparently-To: junit@egroups.com\r\nReceived: (EGP: mail-6_2_1); 20 Nov 2000 12:39:57 -0000\r\nReceived: (qmail 88212 invoked from network); 20 Nov 2000 12:39:55 -0000\r\nReceived: from unknown (10.1.10.26) by m8.onelist.org with QMQP; 20 Nov 2000 12:39:55 -0000\r\nReceived: from unknown (HELO lesire.be) (194.7.65.51) by mta1 with SMTP; 20 Nov 2000 12:39:50 -0000\r\nReceived: by lesire.be from localhost (router,QMProSrv V2.7); Mon, 20 Nov 2000 13:46:39 +0100\r\nReceived: by lesire.be from unknown.compex.be (193.74.141.108::mail daemon,QMProSrv V2.7); Mon, 20 Nov 2000 13:46:39 +0100\r\nTo: &lt;junit@egroups.com&gt;\r\nSubject: [junit] Re: J2EEUnit\r\nDate: Mon, 20 Nov 2000 13:40:06 +0100\r\nMessage-ID: &lt;NDBBIAMADMHIMOALLCHDMEAICHAA.vp@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)\r\nImportance: Normal\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400\r\nIn-Reply-To: &lt;8v8v2a+t517@...&gt;\r\nX-eGroups-From: &quot;Vera Peeters&quot; &lt;vp@...&gt;\r\nFrom: &quot;Vera Peeters&quot; &lt;vera.peeters@...&gt;\r\n\r\n&gt; -----Original Message-----\n&gt; From: Jonathan Rasmusson [mailto:jr@...]\n&gt; Sent: zondag 19 november 2000 17:28\n&gt; To: junit@egroups.com\n&gt; Subject: [junit] Re: J2EEUnit\n&gt;\n&gt;\n&gt; --- In junit@egroups.com, &quot;Vera Peeters&quot; &lt;vera.peeters@t...&gt; wrote:\n\n&gt; &gt; 3. To be able to work quickly (hot deployment with underlying\n&gt; packages is\n&gt; &gt; not really possible) we use bipolar EJB creators iso the regular EJB\n&gt; Home\n&gt; &gt; for the session EJBs. That is a factory that returns the EJB in the\n&gt; normal\n&gt; &gt; way (created by the EJB Home) *or* as a simple local object,\n&gt; depending on a\n&gt; &gt; property that can be specified in a config file. While developing,\n&gt; we\n&gt; &gt; usually run the tests on the local session EJBs. Very nice for\n&gt; debugging\n&gt; &gt; too.\n&gt; &gt; &gt;\n&gt;\n&gt; I think this is a great idea.\n&gt;\n&gt; Does this mean you essentially duplicate you code?  Once for the\n&gt; EJBBean class and once for your simple local object?\n\n\nNo code duplication.\n\n\n&gt;\n&gt; I did something like this in an effort to minimize client code\n&gt; changes in my application regardless of whether I was running within\n&gt; an EJB container or not.\n\n\nNo client code changes.\nMy clients don&#39;t even notice wether they&#39;re running with a local or a remote\nEJB.\n\n\n&gt;\n&gt; You must then define a common interface between your EJB and the\n&gt; simple local object so the the client does not care whether it gets a\n&gt; Customer EJB Remote stub or a Customer simple local object.\n&gt;\n\nWe use the following mechanism:\n\n\n\n\n\t\t\t\t\tclient--------------------&gt; theMyEJBCreator (singleton)\n\t\t\t\t\t/\t&#92;\t\t\t\t\t/\n\t\t\t\t     /\t &#92; uses\t\t\t     / holds\n\t\t\t\t    /\t\t  &#92;\t\t\t\t    /\n\t\t\t\t   /\t\t   &#92;\t\t\t         /\n\t\t\t\t  v\t\t    v\t\t\t        v\n\t\t\t\t\treturns\n\tMyEJBIF (interface) &lt;------------\tbipolarMyEJBCreator (interface)\n\t\t^\t\t\t\t\t\t\t^\n\t\t|\t\t\t\t\t\t\t|\n\t\t|\t\t\t\t\t\t\t|\n\t| ----------|\t\t\t\t\t|-----------|\n\t|\t\t|\t\t\t\t\t|\t\t|\nMyEJBImpl\tMyEJBRemote\t\t\tlocalMyEJBCreator\t\tremoteMyEJBCreator\n\t\t\t^\n\t\t\t|\n\t\t\t|\n\t\t\t|\n\t\tMyEJBStub (generated)\n\n\n\n(pfffff... I would say it&#39;s a little bit easier to draw it on a\nwhiteboard... )\n\nThe client asks theMyEJBCreator to deliver a bipolarMyEJBCreator.\nThe theMyEJBCreator looks in the configuration properties file to know\nwether he has to create a localMyEJBCreator or a remoteMyEJBCreator.\n\nClient asks this bipolarMyEJBCreator to deliver a MyEJBIF.\nIf the bipolarMyEJBCreator is a remoteMyEJBCreator, the returned object will\nbe a MyEJBStub.\nIf the bipolarMyEJBCreator is a localMyEJBCreator, the returned object will\nbe a MyEJBImpl.\n\nThis works very well for session ejbs. For entity ejbs, the container does a\nlot of work that I didn&#39;t want to duplicate, so I don&#39;t use this mechanism\nthere.\n\n\nIf we run the EJB locally, a MyEJBImpl is instantiated on the client side as\nif it was a simple object.\nIf we run the EJB remote, a MyEJBStub is instantiated and talks to the\nMyEJBImpl that lives in the container on the server side.\n\n\n\n&gt; Also where do you write tests that test your transaction processing.\n&gt; I find I like to write tests against the EJB container to ensure\n&gt; things that should get rolled back do.  I guess you can not write\n&gt; these against your simple local objects unless your are demarking the\n&gt; transactions yourself via BMP.\n&gt;\n\n\nTo be honest, we don&#39;t test the transaction rollback in the Unit Tests.\nWe do test wether exceptions are thrown by the EJB in certain situations,\nwhich will normally imply that the transaction is rolled back.\nIf you would want to test wether the transaction is really rolled back, I\nguess you should define a separate Unit Test that should run only on the\nremote EJBs, and not on the local EJBs.\n\n\n\n", 
    "subject": "[junit] Re: J2EEUnit"
}