{
    "topicId": 24645, 
    "postDate": "1425855989", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Nikita Merinov &lt;nikita.merinov@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "cKY4bkzf2M3BAZHsD8wmEQwyIuBRRYTLn0LX0axC7rSJhfrkGS2z4CzjB_NuJrsLbWRvGHXGJFyOC_XQByVfYrpYgd_BPmyMdPdyQ93Ogvw", 
    "nextInTime": 24646, 
    "userId": 569813962, 
    "prevInTime": 24644, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PENBRjVBb3p0czFDaGNtZzlrTjA0a0NpVDBIeTZ5WXhTckdQSE1OWTJrNXpockt6NGd2d0BtYWlsLmdtYWlsLmNvbT4="
    }, 
    "authorName": "Nikita Merinov", 
    "numMessagesInTopic": 6, 
    "msgSnippet": "Hi everyone, I m trying to write custom reporting facility using JUnit rules. Quick example: public class Example { @ClassRule public static TestWatcher", 
    "contentTrasformed": false, 
    "msgId": 24645, 
    "nextInTopic": 24647, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;nikita.merinov@...&gt;\r\nReceived: (qmail 29810 invoked by uid 7800); 9 Mar 2015 01:24:56 -0000\r\nX-Sender: nikita.merinov@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 4301 invoked by uid 102); 8 Mar 2015 23:06:50 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m7.grp.bf1.yahoo.com with SMTP; 8 Mar 2015 23:06:50 -0000\r\nX-Received: (qmail 26806 invoked from network); 8 Mar 2015 23:06:50 -0000\r\nX-Received: from unknown (HELO mail-we0-f171.google.com) (98.139.245.164)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 8 Mar 2015 23:06:50 -0000\r\nX-Received: by wesp10 with SMTP id p10so1769899wes.11\n        for &lt;junit@yahoogroups.com&gt;; Sun, 08 Mar 2015 16:06:49 -0700 (PDT)\r\nX-Received: by 10.194.174.164 with SMTP id bt4mr15979612wjc.155.1425856009635;\n Sun, 08 Mar 2015 16:06:49 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.194.94.133 with HTTP; Sun, 8 Mar 2015 16:06:29 -0700 (PDT)\r\nDate: Mon, 9 Mar 2015 02:06:29 +0300\r\nMessage-ID: &lt;CAF5Aozts1Chcmg9kN04kCiT0Hy6yYxSrGPHMNY2k5zhrKz4gvw@...&gt;\r\nTo: junit &lt;junit@yahoogroups.com&gt;\r\nContent-Type: multipart/alternative; boundary=089e01494d54f48cf30510cef8e1\r\nSubject: Possibility to log ignored tests\r\nX-Yahoo-Group-Post: member; u=569813962\r\nX-Original-From: Nikita Merinov &lt;nikita.merinov@...&gt;\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 9 Mar 2015 01:24:56 -0000\r\nFrom: Nikita Merinov &lt;nikita.merinov@...&gt;\r\n\r\n\r\n--089e01494d54f48cf30510cef8e1\r\nContent-Type: text/plain; charset=UTF-8\r\n\r\nHi everyone,\n\nI&#39;m trying to write custom reporting facility using JUnit rules.\n\nQuick example:\n\npublic class Example {\n@ClassRule\npublic static TestWatcher classWatcher = new TestWatcher() {\n@Override\nprotected void starting(Description description) {\n// Initialize stuff\n// Log header\n}\n\n@Override\nprotected void finished(Description description) {\n// Log footer with metrics from counters (total, succeeded, failed, skipped)\n}\n\n};\n\n@Rule\npublic TestWatcher testWatcher = new TestWatcher() {\n@Override\nprotected void succeeded(Description description) {\n// Log succeeded\n// Increment succeeded counter\n}\n\n@Override\nprotected void failed(Throwable e, Description description) {\n// Log failed\n// Increment failed counter\n}\n\n@Override\nprotected void skipped(AssumptionViolatedException e, Description\ndescription) {\n// Log skipped\n// Increment skipped counter\n}\n\n@Override\nprotected void starting(Description description) {\n// Log started\n}\n\n@Override\nprotected void finished(Description description) {\n// Log failed\n// Increment total counter\n}\n};\n\n    @Test\n    @Ignore\n    public void test1() {}\n\n    @Test\n    public void test2() {}\n}\n\nIssue here is that tests with @Ignore annotation are not handled by JUnit\nrules. Therefore I cannot get any information about ignored tests, and all\nmy metrics will be wrong.\n\nFrom the JUnit source code I can see that if test is marked with @Ignore\nonly RunNotifier object will be notified about ignore and that test will\nnot be passed to rules.\n\nGot two questions here:\n1. How can I fix my metrics? The only way I can see is to manually count\nmethods with @Ignore annotation via reflection and apply this offset to all\nmetrics. Is there any other ways to do that?\n2. Why presence of @Ignore does not behave like failed assumption? I guess\nthat this is because of backward compatibility, is it correct?\n\nThanks.\n\n-- \nSincerely yours,\nNikita Merinov\n\r\n--089e01494d54f48cf30510cef8e1\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;span style=3D&quot;font-size:12.8000001907349px&quot;&gt;Hi everyone,&lt;=\r\n/span&gt;&lt;div style=3D&quot;font-size:12.8000001907349px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=3D&quot;f=\r\nont-size:12.8000001907349px&quot;&gt;I&#39;m trying to write custom reporting facil=\r\nity using JUnit rules.&lt;/div&gt;&lt;div style=3D&quot;font-size:12.8000001907349px&quot;&gt;&lt;br=\r\n&gt;&lt;/div&gt;&lt;div style=3D&quot;font-size:12.8000001907349px&quot;&gt;Quick example:&lt;/div&gt;&lt;div=\r\n style=3D&quot;font-size:12.8000001907349px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=3D&quot;font-size:1=\r\n2.8000001907349px&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;public cla=\r\nss Example {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span sty=\r\nle=3D&quot;white-space:pre-wrap&quot;&gt;\t&lt;/span&gt;@ClassRule&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=\r\n=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t&lt;/span&gt;publ=\r\nic static TestWatcher classWatcher =3D new TestWatcher() {&lt;/font&gt;&lt;/div&gt;&lt;div=\r\n&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t=\r\n\t&lt;/span&gt;@Override&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;spa=\r\nn style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;protected void starting(Descripti=\r\non description) {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;spa=\r\nn style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Initialize stuff&lt;/font&gt;&lt;/div&gt;=\r\n&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wra=\r\np&quot;&gt;\t\t\t&lt;/span&gt;// Log header&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monosp=\r\nace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font=\r\n face=3D&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospac=\r\ne, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/font=\r\n&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:=\r\npre-wrap&quot;&gt;\t\t&lt;/span&gt;protected void finished(Description description) {&lt;/font=\r\n&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:=\r\npre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Log footer with metrics from counters (total,=C2=A0&lt;=\r\n/font&gt;&lt;span style=3D&quot;font-family:monospace,monospace&quot;&gt;succeeded&lt;/span&gt;&lt;font=\r\n face=3D&quot;monospace, monospace&quot;&gt;, failed, skipped)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font fa=\r\nce=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;}=\r\n&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div=\r\n&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t=\r\n&lt;/span&gt;};&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;=\r\n/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pr=\r\ne-wrap&quot;&gt;\t&lt;/span&gt;@Rule&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;=\r\n&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t&lt;/span&gt;public TestWatcher testWatcher=\r\n =3D new TestWatcher() {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospac=\r\ne&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/font&gt;&lt;/div&gt;&lt;div=\r\n&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t=\r\n\t&lt;/span&gt;protected void succeeded(Description description) {&lt;/font&gt;&lt;/div&gt;&lt;di=\r\nv&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;=\r\n\t\t\t&lt;/span&gt;// Log succeeded&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monosp=\r\nace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Increment=C2=A0&lt;/fon=\r\nt&gt;&lt;span style=3D&quot;font-family:monospace,monospace&quot;&gt;succeeded=C2=A0&lt;/span&gt;&lt;sp=\r\nan style=3D&quot;font-family:monospace,monospace&quot;&gt;counter&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font=\r\n face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/spa=\r\nn&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap=\r\n&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;=\r\nspan style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;protected void failed(Throwabl=\r\ne e, Description description) {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, m=\r\nonospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Log failed&lt;/fon=\r\nt&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space=\r\n:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Increment=C2=A0&lt;/font&gt;&lt;span style=3D&quot;font-family:mo=\r\nnospace,monospace&quot;&gt;failed=C2=A0&lt;/span&gt;&lt;span style=3D&quot;font-family:monospace,=\r\nmonospace&quot;&gt;counter&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;sp=\r\nan style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D=\r\n&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monos=\r\npace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/font&gt;&lt;/div&gt;&lt;=\r\ndiv&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap=\r\n&quot;&gt;\t\t&lt;/span&gt;protected void skipped(AssumptionViolatedException e, Descriptio=\r\nn description) {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span=\r\n style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Log skipped&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;=\r\nfont face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t=\r\n&lt;/span&gt;// Increment=C2=A0&lt;/font&gt;&lt;span style=3D&quot;font-family:monospace,monosp=\r\nace&quot;&gt;skipped=C2=A0&lt;/span&gt;&lt;span style=3D&quot;font-family:monospace,monospace&quot;&gt;co=\r\nunter&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;w=\r\nhite-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, m=\r\nonospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span s=\r\ntyle=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font fac=\r\ne=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;pr=\r\notected void starting(Description description) {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font fac=\r\ne=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;/=\r\n/ Log started&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span st=\r\nyle=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;mono=\r\nspace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;=\r\n&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;/span&gt;@Override&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;=\r\nfont face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t&lt;=\r\n/span&gt;protected void finished(Description description) {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;=\r\nfont face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t=\r\n&lt;/span&gt;// Log failed&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;=\r\nspan style=3D&quot;white-space:pre-wrap&quot;&gt;\t\t\t&lt;/span&gt;// Increment total counter&lt;/f=\r\nont&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace&quot;&gt;&lt;span style=3D&quot;white-spa=\r\nce:pre-wrap&quot;&gt;\t\t&lt;/span&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, monospace=\r\n&quot;&gt;&lt;span style=3D&quot;white-space:pre-wrap&quot;&gt;\t&lt;/span&gt;};&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font fa=\r\nce=3D&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, =\r\nmonospace&quot;&gt;=C2=A0 =C2=A0 @Test&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, mo=\r\nnospace&quot;&gt;=C2=A0 =C2=A0 @Ignore&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, mo=\r\nnospace&quot;&gt;=C2=A0 =C2=A0 public void test1() {}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=\r\n=3D&quot;monospace, monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, mo=\r\nnospace&quot;&gt;=C2=A0 =C2=A0 @Test&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;monospace, mono=\r\nspace&quot;&gt;=C2=A0 =C2=A0 public void test2() {}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=3D&quot;=\r\nmonospace, monospace&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Issue here is=\r\n that tests with @Ignore annotation are not handled by JUnit rules. Therefo=\r\nre I cannot get any information about ignored tests, and all my metrics wil=\r\nl be wrong.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From the JUnit source code I can see t=\r\nhat if test is marked with @Ignore only RunNotifier object will be notified=\r\n about ignore and that test will not be passed to rules.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=\r\nv&gt;&lt;div&gt;Got two questions here:&lt;/div&gt;&lt;div&gt;1. How can I fix my metrics? The o=\r\nnly way I can see is to manually count methods with @Ignore annotation via =\r\nreflection and apply this offset to all metrics. Is there any other ways to=\r\n do that?&lt;/div&gt;&lt;div&gt;2. Why presence of @Ignore does not behave like failed =\r\nassumption? I guess that this is because of backward compatibility, is it c=\r\norrect?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;-- &lt;br&gt;&lt;=\r\ndiv class=3D&quot;gmail_signature&quot;&gt;&lt;div&gt;Sincerely yours,&lt;/div&gt;&lt;div&gt;Nikita Merino=\r\nv&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n\r\n--089e01494d54f48cf30510cef8e1--\r\n\n", 
    "subject": "Possibility to log ignored tests"
}