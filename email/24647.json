{
    "numMessagesInTopic": 6, 
    "nextInTime": 24648, 
    "senderId": "Deo6zM4HF3XvVadSV9oU4SlMh4ueuiFlrf3F_-nHsVaTYa9jOaCxdd9IfeL845Gu_kp5r5-im_a-m7kFnszlT1PPKg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Possibility to log ignored tests", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Rules can fill _some_ of the needs of a reporting facility, but unfortunately, not all: for example, some custom runners ignore Rules entirely. Unfortunately,", 
    "msgId": 24647, 
    "profile": "saffatgoogle", 
    "topicId": 24645, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "messageBody": "<div id=\"ygrps-yiv-681631240\"><div dir=\"ltr\">Rules can fill _some_ of the needs of a reporting facility, but unfortunately, not all: for example, some custom runners ignore Rules entirely.<div><br></div><div>Unfortunately, the task of hooking in a custom RunListener can vary depending on how the tests are being run, and is often not really possible.  Can you share a little more about your goals?</div><div><br></div><div>   David Saff</div></div><div class=\"ygrps-yiv-681631240gmail_extra\"><br><blockquote><span title=\"qreply\"> <div class=\"ygrps-yiv-681631240gmail_quote\">On Sun, Mar 8, 2015 at 7:06 PM, Nikita Merinov <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:nikita.merinov@...\">nikita.merinov@...</a> [junit] <span dir=\"ltr\">&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&gt;</span> wrote:<br><blockquote class=\"ygrps-yiv-681631240gmail_quote\" style=\"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;\">\n\n\n<u></u>\n\n\n\n\n\n\n\n\n\n \n<div style=\"background-color:#fff;\">\n<span> </span>\n\n\n<div>\n  <div>\n\n\n    <div>\n      \n      \n      <p></p><div dir=\"ltr\"><span style=\"font-size:12.8000001907349px;\">Hi everyone,</span><div style=\"font-size:12.8000001907349px;\"><br></div><div style=\"font-size:12.8000001907349px;\">I&#39;m trying to write custom reporting facility using JUnit rules.</div><div style=\"font-size:12.8000001907349px;\"><br></div><div style=\"font-size:12.8000001907349px;\">Quick example:</div><div style=\"font-size:12.8000001907349px;\"><br></div><div style=\"font-size:12.8000001907349px;\"><div><div><font face=\"monospace, monospace\">public class Example {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t</span>@ClassRule</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t</span>public static TestWatcher classWatcher = new TestWatcher() {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void starting(Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Initialize stuff</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log header</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void finished(Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log footer with metrics from counters (total, </font><span style=\"font-family:monospace, monospace;\">succeeded</span><font face=\"monospace, monospace\">, failed, skipped)</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t</span>};</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t</span>@Rule</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t</span>public TestWatcher testWatcher = new TestWatcher() {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void succeeded(Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log succeeded</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Increment </font><span style=\"font-family:monospace, monospace;\">succeeded </span><span style=\"font-family:monospace, monospace;\">counter</span></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void failed(Throwable e, Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log failed</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Increment </font><span style=\"font-family:monospace, monospace;\">failed </span><span style=\"font-family:monospace, monospace;\">counter</span></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void skipped(AssumptionViolatedException e, Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log skipped</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Increment </font><span style=\"font-family:monospace, monospace;\">skipped </span><span style=\"font-family:monospace, monospace;\">counter</span></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void starting(Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log started</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>@Override</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>protected void finished(Description description) {</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Log failed</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t\t</span>// Increment total counter</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t\t</span>}</font></div><div><font face=\"monospace, monospace\"><span style=\"white-space:pre-wrap;\">\t</span>};</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\">    @Test</font></div><div><font face=\"monospace, monospace\">    @Ignore</font></div><div><font face=\"monospace, monospace\">    public void test1() {}</font></div><div><font face=\"monospace, monospace\"><br></font></div><div><font face=\"monospace, monospace\">    @Test</font></div><div><font face=\"monospace, monospace\">    public void test2() {}</font></div><div><font face=\"monospace, monospace\">}</font></div></div><div><br></div><div>Issue here is that tests with @Ignore annotation are not handled by JUnit rules. Therefore I cannot get any information about ignored tests, and all my metrics will be wrong.</div><div><br></div><div>From the JUnit source code I can see that if test is marked with @Ignore only RunNotifier object will be notified about ignore and that test will not be passed to rules.</div><div><br></div><div>Got two questions here:</div><div>1. How can I fix my metrics? The only way I can see is to manually count methods with @Ignore annotation via reflection and apply this offset to all metrics. Is there any other ways to do that?</div><div>2. Why presence of @Ignore does not behave like failed assumption? I guess that this is because of backward compatibility, is it correct?</div><div><br></div><div>Thanks.</div></div><div><br></div>-- <br><div><div>Sincerely yours,</div><div>Nikita Merinov</div></div>\n</div>\n<p></p>\n\n    </div>\n     \n\n    \n    <div style=\"color:#fff;min-height:0;\"></div>\n\n\n</div>\n\n\n\n  \n\n\n\n\n\n\n</div></div></blockquote></div><br></span></blockquote></div>\n</div>", 
    "prevInTime": 24646, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1425929812", 
    "canDelete": false, 
    "nextInTopic": 24648, 
    "prevInTopic": 24645, 
    "headers": {
        "inReplyToHeader": "PENBRjVBb3p0czFDaGNtZzlrTjA0a0NpVDBIeTZ5WXhTckdQSE1OWTJrNXpockt6NGd2d0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBTHJ3LVB5RGttTUNRRENGczhaQ0RjSnlmUWJQUHA5azh3OVBpSmg2X09IbnR6bXkrZ0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBRjVBb3p0czFDaGNtZzlrTjA0a0NpVDBIeTZ5WXhTckdQSE1OWTJrNXpockt6NGd2d0BtYWlsLmdtYWlsLmNvbT4="
    }
}