{
    "numMessagesInTopic": 32, 
    "nextInTime": 13862, 
    "senderId": "4IEb1UPBUQ_NGHXYATIjjTpPaFosN2Tu7odOJQGQ_bHFQO9AYTkjv-EijrFoElfIinYjtH_afk2VXS3yfBCDonm1Wjef8brH_cEQiTgGUQ", 
    "systemMessage": false, 
    "subject": "Chris&#39; excellent test-splitting adventure", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Well... 1. I use Subversion, so I don t have the same CVS issues you seem to have. It also looks like you have far too much stuff in a single CVS server or", 
    "msgId": 13861, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 33615 invoked from network); 7 Jun 2005 15:29:16 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m27.grp.scd.yahoo.com with QMQP; 7 Jun 2005 15:29:16 -0000\r\nReceived: from unknown (HELO smtp104.rog.mail.re2.yahoo.com) (206.190.36.82)\n  by mta3.grp.scd.yahoo.com with SMTP; 7 Jun 2005 15:29:16 -0000\r\nReceived: (qmail 94613 invoked from network); 7 Jun 2005 15:28:52 -0000\r\nReceived: from unknown (HELO ?192.168.1.112?) (srainsberger5790@69.197.252.38 with plain)\n  by smtp104.rog.mail.re2.yahoo.com with SMTP; 7 Jun 2005 15:28:52 -0000\r\nMessage-ID: &lt;42A5BD50.1050509@...&gt;\r\nDate: Tue, 07 Jun 2005 11:29:20 -0400\r\nUser-Agent: Mozilla Thunderbird 0.9 (Macintosh/20041103)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;429fae51.1f6.1a2b.26816@...&gt; &lt;200506060817.52242.kers@...&gt; &lt;42A4917E.8060004@...&gt; &lt;200506070749.08701.kers@...&gt;\r\nIn-Reply-To: &lt;200506070749.08701.kers@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Chris&#39; excellent test-splitting adventure\r\nX-Yahoo-Group-Post: member; u=127224993; y=VnaRS2N0ix1rsGT4WCxOgeZsbIm_SfbVu1V_wEihHXpGRIQ\r\nX-Yahoo-Profile: nails762\r\n\r\nChris Dollin wrote:\n&gt; On Monday 06 June 2005 19:10, J. B. Rainsberger wrote:\n&gt;  &gt; Chris Dollin wrote:\n&gt;  &gt; &gt; On Friday 03 June 2005 18:07, J. B. Rainsberger wrote:\n&gt;  &gt; &gt;  &gt; Yes. Even worse: two possibly overlapping, but often disjoint, \n&gt; sets of\n&gt;  &gt; &gt;  &gt; test fixture objects in the same test case class. Some tests use\n&gt;  &gt; &gt;  &gt; fixture A and others use fixture B. Why not put those in \n&gt; separate test\n&gt;  &gt; &gt;  &gt; case classes for clarity?\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Because of the activation energy required to split off a new class, \n&gt; move\n&gt;  &gt; &gt; the right methods into it, remember to link it into the next level up,\n&gt;  &gt; &gt; add it to change control, fix the pesky layout infelicities the IDE \n&gt; likes\n&gt;  &gt; &gt; to avoid providing a configure-out option for, refactor the class\n&gt;  &gt; &gt; comments, etc?\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; [Pairing is good. Would that I could.]\n&gt;  &gt;\n&gt;  &gt; It sounds more like quite a viscous environment (either the codebase,\n&gt;  &gt; the IDE, or a combination of the two): it&#39;s easier to do a bad thing\n&gt;  &gt; than a good thing.\n&gt;  &gt;\n&gt;  &gt; Which IDE, you poor soul? In Eclipse it&#39;s just &quot;new class, copy, run\n&gt;  &gt; tests, delete, run tests, update, commit&quot;. Well, except for the class\n&gt;  &gt; comments, I guess. For that you&#39;re on your own. :)\n&gt; \n&gt; Eclipse.\n&gt; \n&gt; So that&#39;s &quot;new class&quot;. Copy. Fix layout. Fix suite(). Run tests. Delete\n&gt; tests. Run. Delete other tests in other class. Run. Check that the two\n&gt; classes are a partition of the original class. (One *must* do this, so\n&gt; it&#39;s probably better to do moves than deletes.) Look for shared code\n&gt; and partition it or move it to a suitable (possibly new) superclass.\n&gt; (There&#39;s usually some helper code like this.) Link the suite() into\n&gt; the parent suite. (Yes, we don&#39;t use the automatic recursive suite\n&gt; creation. Close call: but sometimes being able to trivially comment\n&gt; out subsuites has made bug-tracking much much easier, since we do\n&gt; sometimes end up with context-sensitive problems. Perhaps we just\n&gt; have too many global caches.) Run complete test suite. Stare hard\n&gt; at the new classname, rename to suitable, because now you have to\n&gt; introduce it to CVS, and renaming it later is a pain. Perform\n&gt; introduction. No, I don&#39;t want the file CVSed when it&#39;s created, since\n&gt; if I want to back it out later (when I realise I made a complete mess)\n&gt; I don&#39;t want dirty footprints in the repository. OK, everything works.\n&gt; Check in. Wait forever for CVS to complete. Time passes. Maybe there&#39;s\n&gt; some mail to read? Yes. Whoppee, CVS done. Change to paranoia window.\n&gt; CVS update. Wait forever for CVS to complete. Time passes. Mail already\n&gt; read, read news instead. CVS completes. ant build, run tests, all pass.\n&gt; Hooray! Don&#39;t do this on a Friday afternoon, you&#39;ll likely miss your\n&gt; train or break the build.\n&gt; \n&gt; Somewhere in there I fixed the auto-layout. And did a CVS update (Wait.\n&gt; Time passes. Get tea.) before running the tests.\n&gt; \n&gt; What do you do that if I did it too I could do better? Apart from using\n&gt; a faster CVS server, that is.\n\nWell...\n\n1. I use Subversion, so I don&#39;t have the same CVS issues you seem to \nhave. It also looks like you have far too much stuff in a single CVS \nserver or module. It looks like it&#39;s time to split them.\n\n2. It looks like you&#39;re spending a great deal of your effort maintaining \ntest suites. I suppose you have to do that for some good reason, but \nwhen I run my tests, I run them all. If I need two categories of tests, \nthat&#39;s two source trees. (test/source and slowtest/source)\n\n3. How often do you want to run only a subset of tests that isn&#39;t, for \nexample, a coherent package of tests? In Eclipse, I mostly right-click \neither the source tree or the package and run the tests.\n\n4. For the &quot;helper code&quot;, I generally make that stuff class-level as \npreparation for the refactoring, so it doesn&#39;t get in my way while I&#39;m \nmoving tests around. I spend less time in limbo with compile errors or \nred tests.\n\n5. Yes, I would imagine you have too many global caches. :)\n\n6. I&#39;m not sure why renaming a recently-created class is such a pain, \neven in CVS: it hardly has any history to worry about, so I wouldn&#39;t \nworry about it.\n\nHow long does this whole dance actually take for you? I imagine it&#39;s \nmore than one minute.\n-- \nJ. B. (Joe) Rainsberger\nDiaspar Software Services\nhttp://www.diasparsoftware.com\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing\n\n", 
    "profile": "nails762", 
    "topicId": 13795, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 13860, 
    "contentTrasformed": false, 
    "postDate": "1118158160", 
    "canDelete": false, 
    "nextInTopic": 13862, 
    "prevInTopic": 13860, 
    "headers": {
        "inReplyToHeader": "PDIwMDUwNjA3MDc0OS4wODcwMS5rZXJzQGhwbGIuaHBsLmhwLmNvbT4=", 
        "messageIdInHeader": "PDQyQTVCRDUwLjEwNTA1MDlAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDQyOWZhZTUxLjFmNi4xYTJiLjI2ODE2QGludGVybm9kZS5vbi5uZXQ+IDwyMDA1MDYwNjA4MTcuNTIyNDIua2Vyc0BocGxiLmhwbC5ocC5jb20+IDw0MkE0OTE3RS44MDYwMDA0QHJvZ2Vycy5jb20+IDwyMDA1MDYwNzA3NDkuMDg3MDEua2Vyc0BocGxiLmhwbC5ocC5jb20+"
    }
}