{
    "numMessagesInTopic": 17, 
    "nextInTime": 11664, 
    "senderId": "mRgUxVHqtD-2YD153_s8rKsVO6W332iPJ4HGFLcivavgYYStEFn_YYFbtI84QKVQBLeEZ4rk5IF1uGaRqeMFk7UXlDBSJ3LCY47m8AdAmg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Testing async calls", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Yes, it would work, and more simply than that. In your design, this happens: 1. The client registers itself with the server for callbacks. 2. The client", 
    "msgId": 11663, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 79948 invoked from network); 26 Jul 2004 16:45:52 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m23.grp.scd.yahoo.com with QMQP; 26 Jul 2004 16:45:52 -0000\r\nReceived: from unknown (HELO smtp103.rog.mail.re2.yahoo.com) (206.190.36.81)\n  by mta3.grp.scd.yahoo.com with SMTP; 26 Jul 2004 16:45:52 -0000\r\nReceived: from unknown (HELO ?192.168.1.112?) (jbrains@24.156.43.226 with plain)\n  by smtp103.rog.mail.re2.yahoo.com with SMTP; 26 Jul 2004 16:45:38 -0000\r\nMessage-ID: &lt;4105350C.7010506@...&gt;\r\nDate: Mon, 26 Jul 2004 12:45:00 -0400\r\nUser-Agent: Mozilla Thunderbird 0.7.2 (Windows/20040707)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;ce366v+2irm@...&gt;\r\nIn-Reply-To: &lt;ce366v+2irm@...&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 206.190.36.81\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Re: Testing async calls\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\nKalyan Kumar M wrote:\n\n&gt; Yes, you are right. I guess I&#39;m in a wrong notion that I should test\n&gt; the whole thing in a one single go. Now, I realize that I can test\n&gt; the client and the server individually.\n&gt; \n&gt; Now, the big question is how do I test them independently?\n&gt; \n&gt; 1. Client: I&#39;m not sure if I can use Mock Objects to simulate the\n&gt; results from the server. Can someone please let me know if that\n&gt; would work?\n\nYes, it would work, and more simply than that. In your design, this happens:\n\n1. The client registers itself with the server for callbacks.\n2. The client invokes executeAsynCall()\n3. The server invokes the client&#39;s onMessage() with the response.\n\nTo test /just/ the client, test /just/ #3. In other words, think of the \nvarious kinds of response messages the server can send back, then write \na test for each one that looks like this:\n\ntestHandleOkResponse() {\n     Message okResponse = new Message() { ... };\n\n     Client client = new Client();\n     client.onMessage(okResponse);\n\n     assertTrue(client.whateverItShouldDo());\n}\n\nJust create a message for each different kind of response, then test how \nthe client behaves in the presence of those kinds of server responses. \nIt doesn&#39;t matter /what/ causes the server to invoke onMessage()--that&#39;s \nserver responsibility--for now all that matters is how Client acts when \nServer passes it a response message.\n\n&gt; 2. Server: The same way in which I was testing the server from the\n&gt; client. It&#39;s just that I&#39;m shifting the test code to the server now.\n&gt; Am I heading in the right direction?\n\nYes. If you can invoke the server in synchronous mode, do that: \nsomewhere, somehow, it has a method that just returns a response that is \nthen formatted as a Message to put on a queue. Test the part of the \nserver that goes up until just before it queues the Message. That&#39;s \nwhere you can verify the logic.\n\nIf you can&#39;t do this because of a limitation in the current server \ndesign, use the FutureResult idea already recommended. It&#39;s not great, \nbut it&#39;d work.\n-- \nJ. B. Rainsberger,\nDiaspar Software Services\nhttp://www.diasparsoftware.com :: +1 416 791-8603\nLet&#39;s write software that people understand\n\n", 
    "profile": "nails762", 
    "topicId": 11653, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 11662, 
    "contentTrasformed": false, 
    "postDate": "1090860300", 
    "canDelete": false, 
    "nextInTopic": 11664, 
    "prevInTopic": 11662, 
    "headers": {
        "inReplyToHeader": "PGNlMzY2disyaXJtQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQxMDUzNTBDLjcwMTA1MDZAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGNlMzY2disyaXJtQGVHcm91cHMuY29tPg=="
    }
}