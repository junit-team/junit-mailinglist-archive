{
    "numMessagesInTopic": 9, 
    "nextInTime": 19111, 
    "senderId": "Ia72LfSjDHkESnVxGuYmgkrMt8s1LAIDBzLLKMLXuTf9EcG4wn1rQhRV3iJR1__9YUHBI7HILqybYPb9hPS9rj16nsOox2kVaz4mpK8orR4-TYsoRFPNHw", 
    "systemMessage": true, 
    "subject": "Re: [junit] How to check the value of one variable in one method in a class in  ajunit testcase..(variable is not returned)..", 
    "from": "Archana Subramanian &lt;archu_subramanian@...&gt;", 
    "authorName": "Archana Subramanian", 
    "msgSnippet": "Thanks raymond, i want to chk whether 1) the connection is established .., 2)the query is proper(spell chk ,space chk) 3)the result of the query.. in short i", 
    "msgId": 19110, 
    "topicId": 19102, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 237320072, 
    "messageBody": "<div id=\"ygrps-yiv-1890562304\">Thanks raymond,<br/>\n  i want to chk whether<br/>\n  1) the connection is established ..,<br/>\n  2)the query is proper(spell chk ,space chk)<br/>\n  3)the result of the query..<br/>\n   <br/>\n  in short i can say i want to chk the db functionality....<br/>\n   <br/>\n  thanks and regards,<br/>\n  Archana.S<br/>\n  <br/>\n<br/>\nRaymond Barlow &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:rbarlow@...\">rbarlow@...</a>&gt; wrote:<br/>\n          Hi Archana,<br/>\n<br/>\nWhat you need to do is to break the dependency that you have in this <br/>\ncode. Instead of getting the connection directly in the code here, <br/>\neither call another method to return the connection, or pass it into the <br/>\nclass on construction. The easiest is to call another method. Something <br/>\nlike:<br/>\n<br/>\npublic class MyClass {<br/>\n<br/>\npublic ResultSet recentSubmission() throws SQLException {<br/>\nConnection con = null;<br/>\nResultSet rs=null;<br/>\ntry{<br/>\nClass.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);<br/>\ncon=getConnection()<br/>\nPreparedStatement ps= con.prepareStatement(<br/>\n&quot;SELECT SUBMISSSION_GUID FROM SUBMISSION WHERE SUBMISSSION_GUID <br/>\n= 143&quot;);<br/>\nrs=ps.executeQuery();<br/>\nreturn rs;<br/>\n} catch(Exception e) {<br/>\ne.printStackTrace();<br/>\n}<br/>\n//con.close();<br/>\nreturn rs; <br/>\n}<br/>\n<br/>\nprotected Connection getConnection() {<br/>\nreturn DriverManager.getConnection(&quot;jdbc:odbc:acme&quot;,&quot;RIUser&quot;,&quot;Demo&quot;);<br/>\n}<br/>\n}<br/>\n<br/>\nThis small refactoring allows us to now create a TestableMyClass where <br/>\nwe can override the getConnection and return a MockConnection. This not <br/>\nonly lets you test the class in isolation, but also allows you to test <br/>\nthis class without having to connect to a real database (big advantage). <br/>\nExample:<br/>\n<br/>\npublic class TestableMyClass extends MyClass {<br/>\n<br/>\n@Override<br/>\nprotected Connection getConnection() {<br/>\nreturn new MockConnection();<br/>\n}<br/>\n<br/>\n}<br/>\n<br/>\nOf course you will have to provide an implementation of the <br/>\nMockConnection to return the expected values for your test. This might <br/>\nbe the prepareStatement returning a MockPreparedStatement and your <br/>\nMockPreparedStatement then returning a MockResultSet. This will allow <br/>\nyou to inject the values for SUBMISSSION_GUID in the resultset.<br/>\n<br/>\nBut of course, if you ACTUALLY wanted to hit the database, and test your <br/>\nSQL, I would not use junit. I would instead use FitNesse (or <br/>\nsimilar)-but that is my preference. What is it that you are actually <br/>\nwanting to test? Your class or the functionality of your database and <br/>\njdbc library?<br/>\n<br/>\nRegards,<br/>\nRaymond Barlow<br/>\n<br/>\nArchana Subramanian wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Suppose this is the class to be tested .. <br/>\n&gt;<br/>\n&gt; public ResultSet recentSubmission() throws SQLException { Connection con = null; ResultSet rs=null; try{ Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;); con=DriverManager.getConnection(&quot;jdbc:odbc:acme&quot;,&quot;RIUser&quot;,&quot;Demo&quot;); PreparedStatement ps= con.prepareStatement(&quot;SELECT SUBMISSSION_GUID FROM SUBMISSION WHERE SUBMISSSION_GUID = 143&quot;); rs=ps.executeQuery(); return rs; } catch(Exception e) { e.printStackTrace(); } //con.close(); return rs; } <br/>\n&gt; How to test the connection(con) and preparedStatement(ps)values in the junit Testcase?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Send instant messages to your online friends <a rel=\"nofollow\" target=\"_blank\" href=\"http://uk.messenger.yahoo.com\">http://uk.messenger.yahoo.com</a> <br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n         <br/>\n<br/>\n </span></blockquote> Send instant messages to your online friends <a rel=\"nofollow\" target=\"_blank\" href=\"http://uk.messenger.yahoo.com\">http://uk.messenger.yahoo.com</a> <br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 19109, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1173948129", 
    "canDelete": false, 
    "nextInTopic": 19111, 
    "prevInTopic": 19109, 
    "headers": {
        "inReplyToHeader": "PDQ1Rjg1NTA1LjQwOTA4QHJheW1hbm96LmNvbT4=", 
        "messageIdInHeader": "PDI5MDY0Ljg4MjAxLnFtQHdlYjM1NTAxLm1haWwubXVkLnlhaG9vLmNvbT4="
    }
}