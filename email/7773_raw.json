{
    "topicId": 7751, 
    "postDate": "1050650574", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Bernd&quot; &lt;berndq@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "HxmtWvXkgWqz9bpgI-DoPekFvrI4v62rN6KtYt-M5854j7dx6bi8nmFmeZKnOQW7yG9VlqKNgCt5tkTdIWNn", 
    "nextInTime": 7774, 
    "userId": 106754364, 
    "prevInTime": 7772, 
    "prevInTopic": 7771, 
    "headers": {
        "inReplyToHeader": "PGI3bW82Mis0Ymt1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAwMWEwMWMzMDU3YiQ1N2JlOTU1MCQxZjAzYThjMEBkZWxsPg=="
    }, 
    "authorName": "Bernd", 
    "numMessagesInTopic": 14, 
    "msgSnippet": "Kris, ... If the event is not generated it takes looooong for the test to fail. ... as others said: avoid threading. and the listener may be the TestCase class", 
    "contentTrasformed": false, 
    "msgId": 7773, 
    "nextInTopic": 7775, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;berndq@...&gt;\r\nX-Sender: berndq@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 18 Apr 2003 07:23:04 -0000\r\nReceived: (qmail 2630 invoked from network); 18 Apr 2003 07:23:03 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m8.grp.scd.yahoo.com with QMQP; 18 Apr 2003 07:23:03 -0000\r\nReceived: from unknown (HELO mail.gmx.net) (213.165.65.60)\n  by mta1.grp.scd.yahoo.com with SMTP; 18 Apr 2003 07:23:03 -0000\r\nReceived: (qmail 10266 invoked by uid 65534); 18 Apr 2003 07:23:02 -0000\r\nReceived: from p50916596.dip.t-dialin.net (EHLO dell) (80.145.101.150)\n  by mail.gmx.net (mp009-rz3) with SMTP; 18 Apr 2003 09:23:02 +0200\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] A test to verify that an event is generated\r\nDate: Fri, 18 Apr 2003 09:22:54 +0200\r\nMessage-ID: &lt;001a01c3057b$57be9550$1f03a8c0@dell&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook, Build 10.0.4510\r\nIn-Reply-To: &lt;b7mo62+4bku@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106\r\nImportance: Normal\r\nFrom: &quot;Bernd&quot; &lt;berndq@...&gt;\r\nX-Yahoo-Group-Post: member; u=106754364\r\n\r\n\nKris, \n\n&gt; Does anyone see any problems that might arise in this test? \n...\n&gt;          currentThread.sleep(5000);\n&gt;          fail(&quot;Timed out waiting for the event.&quot;);\n\nIf the event is not generated it takes looooong for the test to fail.\n\n&gt;  Is there \n&gt; a better/more prefered way to do this?\n\nas others said: avoid threading.\n\n\nand the listener may be the TestCase class itself\n(Is this called the &quot;self shunt&quot; pattern?):\n\npublic MyTestCase extends TestCase implements MyEventListener{\n\n\tpublic void somethingHappened(MyEvent event)\n      {\n\t\t// e.g. inc counter\n\t\t// e.g. add event to a list\n\t}\n...\n}\n\nBernd\n\n\n&gt; Here is the code/pseudocode of the test case I came up with:\n&gt; \n&gt; public void testEventGenerated()\n&gt; {\n&gt;      MyClassThatFiresAnEvent myClass = new MyClassThatFiresAnEvent();\n&gt; \n&gt;      final Thread currentThread = Thread.currentThread();\n&gt; \n&gt;      myClass.addMyEventListener(new MyEventListener()\n&gt;      {\n&gt;          public void somethingHappened(MyEvent event)\n&gt;          {\n&gt;              currentThread.interrupt();\n&gt;          }\n&gt;      });\n&gt;                 \n&gt;      Thread thread = new Thread()\n&gt;      {\n&gt;          public void run()\n&gt;          {\n&gt;              myClass.callMethodThatFiresTheEvent();\n&gt;          }\n&gt;      };\n&gt;      thread.start();\n&gt;         \n&gt;      try\n&gt;      {\n&gt;          currentThread.sleep(5000);\n&gt;          fail(&quot;Timed out waiting for the event.&quot;);\n&gt;      }\n&gt;      catch(InterruptedException ie)\n&gt;      {\n&gt;          System.out.println(&quot;Expect this exception&quot;);\n&gt;      }\n&gt; }\n&gt; \n&gt; Thanks,\n&gt; Kris\n&gt; \n&gt; \n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor \n&gt; ---------------------~--&gt;\n&gt; Get 128 Bit SSL Encryption!\n&gt; http://us.click.yahoo.com/xaxhjB/hdqFAA/VygGAA/5cFolB/TM\n&gt; --------------------------------------------------------------\n&gt; -------~-&gt;\n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to \n&gt; http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n&gt; \n\n\n\n", 
    "subject": "RE: [junit] A test to verify that an event is generated"
}