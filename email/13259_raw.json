{
    "numMessagesInTopic": 9, 
    "nextInTime": 13260, 
    "senderId": "bs7i-sD9ngTnWpYRgO7DlXvd6YE5iexhwaPPpoYtQxRESHvnMDcR87VjNzoJitVjb25EObvsMirRURWnsMvUrVS590XUEA", 
    "systemMessage": false, 
    "subject": "Re: How to test this class ?", 
    "from": "&quot;rubbinio&quot; &lt;rubbinio@...&gt;", 
    "authorName": "rubbinio", 
    "msgSnippet": "Unfortunatelly I can not change the code as this was an Assignemnt in a Quality Assurance course and the trick was to find a way to test it as it is. ... ", 
    "msgId": 13259, 
    "rawEmail": "Return-Path: &lt;rubbinio@...&gt;\r\nX-Sender: rubbinio@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 90640 invoked from network); 10 Apr 2005 03:31:37 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m21.grp.scd.yahoo.com with QMQP; 10 Apr 2005 03:31:37 -0000\r\nReceived: from unknown (HELO n11a.bulk.scd.yahoo.com) (66.94.237.16)\n  by mta6.grp.scd.yahoo.com with SMTP; 10 Apr 2005 03:31:36 -0000\r\nDomainKey-Signature: \r\nReceived: from [66.218.66.59] by n11.bulk.scd.yahoo.com with NNFMP; 10 Apr 2005 03:31:36 -0000\r\nReceived: from [66.218.66.80] by mailer8.bulk.scd.yahoo.com with NNFMP; 10 Apr 2005 03:31:36 -0000\r\nDate: Sun, 10 Apr 2005 03:31:34 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;d3a6mm+o4jq@...&gt;\r\nIn-Reply-To: &lt;425820F4.1020108@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 1812\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;rubbinio&quot; &lt;rubbinio@...&gt;\r\nSubject: Re: How to test this class ?\r\nX-Yahoo-Group-Post: member; u=111748393\r\nX-Yahoo-Profile: rubbinio\r\n\r\n\nUnfortunatelly I can not change the code as this was an Assignemnt in\na Quality Assurance course and the trick was to find a way to test it\nas it is.\n\n--- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; wrote:\n&gt; rubbinio wrote:\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; I need to test a class in which all the methods read via System.in.\n&gt; &gt; \n&gt; &gt; How can I fake the input so that I can automate my tests ?\n&gt; \n&gt; Right now you&#39;re using a BufferedReader that talks to System.in. If you \n&gt; had a BufferedReader that talks to a StringReader, then you could fake \n&gt; all the input using Strings.\n&gt; \n&gt; Right now you&#39;re hardcoding the value of &quot;keyboard&quot; for each\ninstance of \n&gt; the class Input. You could introduce a parameter so that:\n&gt;   * your tests could pass in a StringReader\n&gt;   * your production code could pass in the InputStreamReader talking to \n&gt; System.in\n&gt; \n&gt; Step 1: Change everything in Input so it&#39;s no longer static.\n&gt; Step 2: Introduce this constructor:\n&gt; \n&gt; public class Input(Reader source) {\n&gt;      this.keyboard = new BufferedReader(source);\n&gt; }\n&gt; \n&gt; Step 3: Consider renaming &quot;keyboard&quot; since it&#39;s no longer talking \n&gt; (necessarily) to a keyboard.\n&gt; \n&gt; Now, to use your class, write code like this:\n&gt; \n&gt; Input keyboardInput = new Input(new InputStreamReader(System.in));\n&gt; \n&gt; In your tests, write code like this:\n&gt; \n&gt; testReadInt() {\n&gt;      Input input = new Input(new StringReader(&quot;26&#92;n&quot;));\n&gt;      assertEquals(26, input.readInt());\n&gt; }\n&gt; \n&gt; This is a specific example of refactoring code so that it doesn&#39;t\ndepend \n&gt; directly on global data (System.in). In general, it&#39;s a good idea\nnot to \n&gt; depend directly on global data.\n&gt; \n&gt; I hope this helped.\n&gt; &#92;--\n&gt; J. B. (Joe) Rainsberger\n&gt; Diaspar Software Services\n&gt; http://www.diasparsoftware.com\n&gt; Author, JUnit Recipes: Practical Methods for Programmer Testing\n\n\n\n\n", 
    "profile": "rubbinio", 
    "topicId": 13253, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 111748393, 
    "prevInTime": 13258, 
    "contentTrasformed": false, 
    "postDate": "1113103894", 
    "canDelete": false, 
    "nextInTopic": 13261, 
    "prevInTopic": 13258, 
    "headers": {
        "inReplyToHeader": "PDQyNTgyMEY0LjEwMjAxMDhAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PGQzYTZtbStvNGpxQGVHcm91cHMuY29tPg=="
    }
}