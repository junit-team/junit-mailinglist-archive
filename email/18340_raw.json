{
    "numMessagesInTopic": 27, 
    "nextInTime": 18341, 
    "senderId": "N0tKEQQ2o9GBij7xAF6siNtnPzKfSv7VHPfMR8wdj-Nu9fwgF-zxPQCPTvRVt09EhGR1xSyHLbbbofqLp9NWm-hf0YnqPboBKgEnHxnlRPYQiqGmTQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Mock and collections.", 
    "from": "&quot;Luiz Siqueira&quot; &lt;luiz.siqueira.neto@...&gt;", 
    "authorName": "Luiz Siqueira", 
    "msgSnippet": " Babelfish hem, hehehe.  ;)   Ok. Your approach looks like mine; please take a look in my", 
    "msgId": 18340, 
    "rawEmail": "Return-Path: &lt;luiz.siqueira.neto@...&gt;\r\nReceived: (qmail 46021 invoked from network); 11 Nov 2006 18:33:18 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m23.grp.scd.yahoo.com with QMQP; 11 Nov 2006 18:33:18 -0000\r\nReceived: from unknown (HELO n13a.bullet.sp1.yahoo.com) (69.147.64.112)\n  by mta4.grp.scd.yahoo.com with SMTP; 11 Nov 2006 18:33:17 -0000\r\nReceived: from [216.252.122.218] by n13.bullet.sp1.yahoo.com with NNFMP; 11 Nov 2006 18:32:31 -0000\r\nReceived: from [66.218.69.4] by t3.bullet.sp1.yahoo.com with NNFMP; 11 Nov 2006 18:32:31 -0000\r\nReceived: from [66.218.66.88] by t4.bullet.scd.yahoo.com with NNFMP; 11 Nov 2006 18:32:31 -0000\r\nX-Sender: luiz.siqueira.neto@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 83304 invoked from network); 7 Nov 2006 16:45:42 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m26.grp.scd.yahoo.com with QMQP; 7 Nov 2006 16:45:42 -0000\r\nReceived: from unknown (HELO wx-out-0506.google.com) (66.249.82.225)\n  by mta7.grp.scd.yahoo.com with SMTP; 7 Nov 2006 16:45:41 -0000\r\nReceived: by wx-out-0506.google.com with SMTP id i28so1277774wxd\n        for &lt;junit@yahoogroups.com&gt;; Tue, 07 Nov 2006 08:41:40 -0800 (PST)\r\nReceived: by 10.70.98.17 with SMTP id v17mr7449708wxb.1162917699971;\n        Tue, 07 Nov 2006 08:41:39 -0800 (PST)\r\nReceived: by 10.70.34.19 with HTTP; Tue, 7 Nov 2006 08:41:39 -0800 (PST)\r\nMessage-ID: &lt;fa8a9cb00611070841k537ee84cn6671c49dc19bc4d@...&gt;\r\nDate: Tue, 7 Nov 2006 14:41:39 -0200\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;45508EE5.9080501@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;eid0if+9j0d@...&gt; &lt;45508EE5.9080501@...&gt;\r\nX-eGroups-Msg-Info: 2:4:8:0\r\nFrom: &quot;Luiz Siqueira&quot; &lt;luiz.siqueira.neto@...&gt;\r\nSubject: Re: [junit] Re: Mock and collections.\r\nX-Yahoo-Group-Post: member; u=279651816; y=ipLtThXkAd5-XMGBHtPKwTv_Yk5cT8yKSgk8UpNiGToU7Uyl6-0KhPjA\r\nX-Yahoo-Profile: cybersamurai_br\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Marked-Not-Spam: \r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via web; 11 Nov 2006 18:32:30 -0000\r\n\r\n&lt;&lt; This is the same message changing the word abbordage to approach &gt;&gt;\n\nBabelfish hem, hehehe.  ;)   Ok.\n\nYour approach looks like mine; please take a look in my\nEntityIntrospectorTest.\n\nCode Begin\n------------------------------------------------------------------------------------------------------------------------------------\n\n\n/*\n * EntityIntrospectorTest.java\n * JUnit based test\n *\n * Created on 20 de Outubro de 2006, 16:50\n */\n\npackage br.com.cyberzen.fujiyama.tools;\n\nimport java.lang.reflect.InvocationTargetException ;\nimport junit.framework.*;\nimport br.com.cyberzen.fujiyama.model.DescriptionAnnotation;\nimport br.com.cyberzen.fujiyama.model.LabelAnnotation;\nimport br.com.cyberzen.fujiyama.model.PriorityAnnotation;\nimport java.beans.BeanInfo;\nimport java.beans.Introspector;\nimport java.beans.PropertyDescriptor;\nimport java.beans.IntrospectionException;\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\n\n/**\n *\n * @author luizn\n */\npublic class EntityIntrospectorTest extends TestCase {\n\n    EntityIntrospector _entityIntrospector = null;\n    StubEntity _stubEntity = null;\n\n    public EntityIntrospectorTest(String testName) {\n        super(testName);\n    }\n\n    protected void setUp()\n            throws Exception {\n\n        _stubEntity = new StubEntity();\n        _entityIntrospector = new EntityIntrospector(_stubEntity);\n\n    }\n\n    protected void tearDown()\n            throws Exception {\n    }\n\n    public static Test suite() {\n        TestSuite suite = new TestSuite( EntityIntrospectorTest.class);\n\n        return suite;\n    }\n\n    public void testGetDescription() {\n        System.out.println(&quot;getDescription&quot;);\n\n        EntityIntrospector instance = _entityIntrospector;\n\n        String expResult = &quot;A Entity for make a test in EntityPanel&quot;;\n        String result = instance.getDescription();\n        assertEquals(expResult, result);\n    }\n\n    public void testGetLabel() {\n        System.out.println(&quot;getLabel&quot;);\n\n        EntityIntrospector instance = _entityIntrospector;\n\n        String expResult = &quot;Stub Entity&quot;;\n        String result = instance.getLabel();\n        assertEquals(expResult, result);\n    }\n\n    public void testGetEntity() {\n        System.out.println(&quot;getEntity&quot;);\n\n        EntityIntrospector instance = _entityIntrospector;\n\n        Object expResult = _stubEntity;\n        Object result = instance.getEntity();\n        assertEquals(expResult, result);\n    }\n\n    public void testGetPropertiesGenerated()\n            throws\n            NoSuchMethodException,\n            IllegalAccessException,\n            InvocationTargetException,\n            IntrospectionException {\n\n        System.out.println(&quot;getProperties&quot;);\n\n        EntityIntrospector instance = new EntityIntrospector(_stubEntity);\n        final PropertyInfo[] result = instance.getProperties();\n        final PropertyInfo[] expResult = {\n            new PropertyInfo(_stubEntity),\n            new PropertyInfo(_stubEntity),\n            new PropertyInfo(_stubEntity)\n        };\n\n        TestTools.populateAllInfos(expResult, _stubEntity);\n\n        assertTrue(TestTools.isInfoEqual (expResult, result));\n    }\n\n    public void testSetProperties()\n            throws\n            NoSuchMethodException,\n            IllegalAccessException,\n            InvocationTargetException {\n\n        System.out.println(&quot;setProperties&quot;);\n\n        EntityIntrospector instance = _entityIntrospector;\n        PropertyInfo[] expResult = null;\n        PropertyInfo[] result = {\n            new PropertyInfo(_stubEntity),\n            new PropertyInfo(_stubEntity),\n            new PropertyInfo(_stubEntity)\n        };\n\n        TestTools.populateAllInfos(result, _stubEntity);\n\n        instance.setProperties(result);\n        expResult = instance.getProperties();\n\n        assertTrue(TestTools.isInfoEqual(expResult, result));\n    }\n\n    public void testSetPropertiesIndexed()\n            throws\n            NoSuchMethodException,\n            IllegalAccessException,\n            InvocationTargetException {\n\n        System.out.println(&quot;setPropertiesIndexed&quot;);\n\n        EntityIntrospector instance = _entityIntrospector;\n        int secondItem = 1;\n        PropertyInfo[] tempList = {\n            new PropertyInfo(_stubEntity),\n            new PropertyInfo(_stubEntity),\n            new PropertyInfo(_stubEntity)\n        };\n        PropertyInfo expResult = null;\n        PropertyInfo result = null;\n        TestTools.populateAllInfos(tempList, _stubEntity);\n\n        expResult = tempList[secondItem];\n        expResult.setValue(30);\n        instance.setProperties(secondItem, tempList[secondItem]);\n        result = instance.getProperties(secondItem);\n\n        assertEquals(expResult, result);\n    }\n\n    public void testEntityWithoutDescriptionAndLabelAnnotation()\n            throws\n            IntrospectionException,\n            NoSuchMethodException {\n        System.out.println(&quot;Entity without Description and Label\nAnnotation&quot;);\n\n        EntityWithoutLabelAndDescription invalidEntity =\n                new EntityWithoutLabelAndDescription();\n        EntityIntrospector entityIntrospector =\n                new EntityIntrospector(invalidEntity);\n\n        String expResult = &quot;&quot;;\n        String result = entityIntrospector.getDescription();\n        assertEquals(expResult, result);\n\n        expResult = &quot;EntityWithoutLabelAndDescription&quot;;\n        result = entityIntrospector.getLabel();\n        assertEquals(expResult, result);\n    }\n\n    public void testPropertyWith_is_steadOf_get_()\n            throws\n            IllegalAccessException,\n            InvocationTargetException {\n\n        System.out.println(&quot;Property with &#39;is&#39; stead of &#39;get&#39; &quot;);\n\n        EntityIntrospector instance = _entityIntrospector;\n        Boolean expResult = true;\n        Boolean result = (Boolean) instance.getProperties(4).getValue();\n        String expLabelResult = &quot;Client&quot;;\n        String labelResult = instance.getProperties(4).getLabel();\n\n        assertEquals(expResult, result);\n        assertEquals(expLabelResult, labelResult);\n    }\n\n}\n\nclass EntityWithoutLabelAndDescription {\n}\n\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Test Tools &quot;&gt;\nabstract class TestTools extends AbstractTestTools {\n\n    static private String _msg;\n\n    static public boolean isInfoEqual(\n            PropertyInfo[] propInfo,\n            PropertyInfo[] propInfo2)\n                    throws\n                    IllegalAccessException,\n                    InvocationTargetException {\n\n        boolean result = true;\n        _msg = &quot;&quot;;\n\n        for (Integer i = 0; i &lt; propInfo.length; i++) {\n            result = isLabelEqual(propInfo, propInfo2, i);\n            result = isDescriptionEqual(propInfo, propInfo2, i);\n            result = isPriorityEqual(propInfo, propInfo2, i);\n            result = isTypeEqual(propInfo, propInfo2, i);\n            result = isValueEqual(propInfo, propInfo2, i);\n        }\n\n        if(_msg.length() &gt; 0) {\n            printMessage();\n        }\n\n        return result;\n    }\n\n    static private boolean isLabelEqual(\n            PropertyInfo[] propInfo1,\n            PropertyInfo[] propInfo2,\n            Integer i) {\n\n        boolean result = true;\n        String label1 = propInfo1[i].getLabel();\n        String label2 = propInfo2[i].getLabel();\n\n        if(notEqual(label1, label2)) {\n            _msg += &quot;Label of index &quot;;\n            _msg += i.toString();\n            _msg += &quot; isn&#39;t equal.&#92;n&quot;;\n\n            result = false;\n        }\n        return result;\n    }\n\n    static private boolean isDescriptionEqual(\n            PropertyInfo[] propInfo1,\n            PropertyInfo[] propInfo2,\n            Integer i) {\n\n        boolean result = true;\n        String description1 = propInfo1[i].getDescription();\n        String description2 = propInfo2[i].getDescription();\n\n        if(notEqual(description1, description2)) {\n            _msg += &quot;Description of index &quot;;\n            _msg += i.toString();\n            _msg += &quot; isn&#39;t equal.&#92;n&quot;;\n            result = false;\n        }\n\n        return result;\n    }\n\n    static private boolean isValueEqual(\n            PropertyInfo[] propInfo1,\n            PropertyInfo[] propInfo2,\n            Integer i)\n                    throws\n                    IllegalAccessException,\n                    InvocationTargetException {\n\n        boolean result = true;\n\n        if(propInfo1[i].getValue() != propInfo2[i].getValue()) {\n            _msg += &quot;Type of index &quot; + i.toString() + &quot; isn&#39;t equal.&#92;n&quot;;\n            result = false;\n        }\n\n        return result;\n    }\n\n    static private boolean isPriorityEqual(\n            PropertyInfo[] propInfo1,\n            PropertyInfo[] propInfo2,\n            Integer i) {\n\n        boolean result = true;\n\n        if(propInfo1[i].getPriority() != propInfo2[i].getPriority()) {\n            _msg += &quot;Priority of index &quot; + i.toString() + &quot; isn&#39;t equal.&#92;n&quot;;\n            result = false;\n        }\n\n        return result;\n    }\n\n    static private boolean isTypeEqual(\n            PropertyInfo[] propInfo1,\n            PropertyInfo[] propInfo2,\n            Integer i) {\n\n        boolean result = true;\n\n        if(propInfo1[i].getType() != propInfo2[i].getType()) {\n            _msg += &quot;Type of index &quot; + i.toString() + &quot; isn&#39;t equal.&#92;n&quot;;\n            result = false;\n        }\n\n        return result;\n    }\n\n    static public void populateInfo(\n            PropertyInfo info,\n            StubEntity entt,\n            String label,\n            String desc,\n            int prty,\n            Class type,\n            String accessor,\n            String mutator,\n            Object value)\n                    throws\n                    NoSuchMethodException,\n                    IllegalAccessException,\n                    InvocationTargetException {\n\n        Class enttType = entt.getClass();\n        Class types[] = {type};\n\n        info.setLabel (label);\n        info.setDescription(desc);\n        info.setPriority(prty);\n        info.setType(type);\n        info.setAccessor(enttType.getMethod(accessor));\n        info.setMutator(enttType.getMethod(mutator, types));\n        info.setValue(value);\n    }\n\n    static void populateAllInfos(\n            PropertyInfo[] propertyInfoList,\n            StubEntity stubEntity)\n                    throws\n                    NoSuchMethodException,\n                    IllegalAccessException,\n                    InvocationTargetException {\n\n        final int PRIORITY = 0, PRIORITY2 = 5, PRIORITY3 = 10, PRIORITY4 =\n18;\n\n        TestTools.populateInfo (propertyInfoList[0], stubEntity, &quot;Name&quot;,\n                &quot;Entity Name&quot;, PRIORITY, String.class, &quot;getName&quot;, &quot;setName&quot;,\n                &quot;Luiz Siqueira Neto&quot;);\n        TestTools.populateInfo(propertyInfoList[1], stubEntity, &quot;Age&quot;,\n                &quot;Entity Age&quot;, PRIORITY2, Integer.class, &quot;getAge&quot;, &quot;setAge&quot;,\n29);\n        TestTools.populateInfo(propertyInfoList[2], stubEntity, &quot;Sex&quot;,\n                &quot;This is a sex gender&quot;, PRIORITY3, String.class,\n                &quot;getSex&quot;, &quot;setSex&quot;, &quot;Male&quot;);\n    }\n\n    private static void printMessage() {\n\n            System.out.print(&quot;*****************&quot;);\n            System.out.print(&quot; Problems found in PropertiesInfo &quot;);\n            System.out.print(&quot;*****************&#92;n&#92;n&quot;);\n            System.out.print(_msg);\n    }\n}\n// &lt;/editor-fold&gt;\n\n------------------------------------------------------------------------------------------------------------------------------------\nCode End\n\n\n2006/11/7, J. B. Rainsberger &lt;jbrains762@...&gt;:\n&gt;\n&gt;   Luiz Siqueira Neto wrote:\n&gt;\n&gt; &gt; That is a simple and good test, but some times the &quot;state machine&quot;\n&gt; &gt; work with containers, in this cases I need know if all entities and\n&gt; &gt; properties is properly represented. The &quot;state machine&quot; uses the\n&gt; &gt; &quot;Entity Introspector&quot; as reference to know what to do. This\n&gt; &gt; introspector is the real focus in this case;\n&gt; &gt; Right now I&#39;m trying check all &quot;info entities&quot; and &quot;info properties&quot;\n&gt; &gt; supposed to be generated for a &quot;entity introspector&quot;. A &quot;info\n&gt; &gt; property&quot; and a &quot;info entity&quot; is &quot;meta-data&quot; generated by the &quot;Entity\n&gt; &gt; Introspector&quot;. For to do that I need create and populate all entities\n&gt; &gt; inside of some container and check the respective existence of some\n&gt; &gt; &quot;info property&quot; and &quot;info entity&quot; one-by-one; this is very tedious.\n&gt; &gt; For make this more affordable I&#39;m thinking in use generics in test\n&gt; cases.\n&gt;\n&gt; Two things:\n&gt;\n&gt; 1. If you a really testing the entity introspector, then I believe you\n&gt; should try to test it directly, instead of testing it with the state\n&gt; machine. What would that test look like?\n&gt;\n&gt; 2. Very often I try to generalize quickly, because I believe I\n&gt; understand a design concept. When I try to write the general case, I\n&gt; find it difficult, so I start by writing 3 specific cases, then observe\n&gt; the patterns, then extract the general case from them. I believe it\n&gt; takes less time for me to do that, compared to trying the general case\n&gt; and failing to do it correctly.\n&gt;\n&gt; &gt; Your Portuguese is perfect:D\n&gt;\n&gt; Nao, el portugues de /Babelfish/ e perfeito. :) [This was /my/\n&gt; Portuguese.]\n&gt;\n&gt; Take care.\n&gt; --\n&gt; J. B. (Joe) Rainsberger :: http://www.jbrains.ca\n&gt; Your guide to software craftsmanship\n&gt; JUnit Recipes: Practical Methods for Programmer Testing\n&gt; 2005 Gordon Pask Award for contribution Agile Software Practice\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n\n", 
    "profile": "cybersamurai_br", 
    "topicId": 18229, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 279651816, 
    "prevInTime": 18339, 
    "contentTrasformed": false, 
    "postDate": "1162917699", 
    "canDelete": false, 
    "nextInTopic": 18382, 
    "prevInTopic": 18338, 
    "headers": {
        "inReplyToHeader": "PDQ1NTA4RUU1LjkwODA1MDFAZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZhOGE5Y2IwMDYxMTA3MDg0MWs1MzdlZTg0Y242NjcxYzQ5ZGMxOWJjNGRAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGVpZDBpZis5ajBkQGVHcm91cHMuY29tPiA8NDU1MDhFRTUuOTA4MDUwMUBnbWFpbC5jb20+"
    }
}