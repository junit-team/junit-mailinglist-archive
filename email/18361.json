{
    "numMessagesInTopic": 9, 
    "nextInTime": 18362, 
    "senderId": "GVKjru7glkzOiUuvy9S6ShX5XI8F9dA3Y9c2zghxvgPZSPDIJCD0esq-tvGCsv_DEF4I4K1dgPVQ0aH_sUu0PLme05hMW81oDZ_AUe5G7uKQpOXJ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Promlem in writing Test case", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "I m glad I could help :) I didn t put much thought into the design and I didn t try to implement the tests (normally I would write one test, watch it not", 
    "msgId": 18361, 
    "profile": "j0hlrogge", 
    "topicId": 18349, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "messageBody": "<div id=\"ygrps-yiv-991681009\">I&#39;m glad I could help :)<br/>\n<br/>\nI didn&#39;t put much thought into the &quot;design&quot; and I didn&#39;t try to implement<br/>\nthe tests (normally I would write one test, watch it not compile, make it<br/>\ncompile, watch it fail, make it pass, refactor or atleast review what I did,<br/>\nsee that it still passes, next test). So if you find that my code doesn&#39;t<br/>\nmake sense it&#39;s probably because it doesn&#39;t :). I just wanted to show the<br/>\naporoach.<br/>\n<br/>\nAnd remeber there are many ways to skin a cat so if my way does not suit<br/>\nyour needs adopt someone elses.<br/>\nAbout black-boxing/whiteboxing there are different levels of that. I think<br/>\nunittests are generally on the whiter shade of the scale although some would<br/>\nsay my tests are too white; I hope those people post their aproach so that<br/>\nyou can compare and pick what works for you. My constant advice to myself is<br/>\n&quot;if it&#39;s hard I&#39;m doing something wrong&quot;. Sometimes that leads me to change<br/>\nmy design, sometimes it leadds me to change the way I test. Experiment,<br/>\npractice and look how others do it. I can recomend reading the TDD list<br/>\naswell, lots of good stuff posted there.<br/>\n<br/>\nGood luck!<br/>\n/Joakim Ohlrogge<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 11/14/06, avinash anand &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:avinash_anand@...\">avinash_anand@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt;   Hi Joakim<br/>\n&gt; Your suggestion was very helpful to me. I was missing the base line while<br/>\n&gt; testing. I was trying to test and compare the code with something which was<br/>\n&gt; not known to me. May be I was trying to hit the problem in a black box way.<br/>\n&gt; I have gone through your sample code snippets send to me and I will try to<br/>\n&gt; break the code in such a way so that I can test it by comparing to some<br/>\n&gt; known values. That will I guess provide me with better stats !!<br/>\n&gt;<br/>\n&gt; Thanks a Lot for your kind help<br/>\n&gt;<br/>\n&gt; -Avinash<br/>\n&gt;<br/>\n&gt; ----- Original Message ----<br/>\n&gt; From: Joakim Ohlrogge &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a>&lt;joakim.ohlrogge%40gmail.com&gt;<br/>\n&gt; &gt;<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;<br/>\n&gt; Sent: Tuesday, 14 November, 2006 6:01:36 PM<br/>\n&gt; Subject: Re: [junit] Promlem in writing Test case<br/>\n&gt;<br/>\n&gt; To me it sounds like the first thing you need to do is take control of<br/>\n&gt; your<br/>\n&gt; environment from your tests.<br/>\n&gt; From what you wrote below maybe I would do something like this:<br/>\n&gt;<br/>\n&gt; public TestVersionCalculat or extends TestCase {<br/>\n&gt;<br/>\n&gt; public testCalculatorVersi onIsNewer_ ReturnsZero( ) {<br/>\n&gt; VersionCalculator calculator = new VersionCalculator( &quot;7.1.1&quot;);<br/>\n&gt; AssertEquals( &quot;0&quot;, calculator.calculat e(&quot;7.0.1&quot; ));<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; public testCalculatorVersi onOlder_ReturnsN ewest() {<br/>\n&gt; VersionCalculator calculator = new VersionCalculator( &quot;6.1.5&quot;);<br/>\n&gt; AssertEquals( &quot;&quot;7.1.0&quot;&quot; , calculator.calculat e(&quot;7.1.0&quot; ));<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; When that works I would maybe write a test for something that can read the<br/>\n&gt; XML so that if the XML contains a specific version I know that particular<br/>\n&gt; version would be returned:<br/>\n&gt;<br/>\n&gt; public void TestXmlVersionReade r extends TestCase {<br/>\n&gt; public testReadsVersionFro mReader() {<br/>\n&gt; Reader xmlInput = new StringReader( &quot;&lt;?xml version=&#39;1.0&#39; &#39;&gt;&lt;version&gt;<br/>\n&gt; 7.0.1&lt;/version&gt; &quot;) ;<br/>\n&gt; VersionReader versionReader = new XmlVersionReader( xmlInput) ;<br/>\n&gt; AssertEquals( &quot;7.0.1&quot;, versionReader. readVersion( ));<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; public testReadsVersionFro mReader() {<br/>\n&gt; Reader xmlInput = new StringReader( &quot;&lt;?xml version=&#39;1.0&#39; &#39;&gt;&lt;version&gt;<br/>\n&gt; 6.0.5&lt;/version&gt; &quot;) ;<br/>\n&gt; VersionReader versionReader = new XmlVersionReader( xmlInput) ;<br/>\n&gt; AssertEquals( &quot;6.0.5&quot;, versionReader. readVersion( ));<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; When that works you have something that can read a version from your xml<br/>\n&gt; and<br/>\n&gt; something that can calculate a version.<br/>\n&gt; Now I would maybe revisit the first test again:<br/>\n&gt;<br/>\n&gt; public TestVersionCalculat or extends TestCase {<br/>\n&gt;<br/>\n&gt; public testCalculatorVersi onIsNewer_ ReturnsZero( ) {<br/>\n&gt;<br/>\n&gt; VersionCalculator calculator = new VersionCalculator( &quot;7.1.1&quot;,<br/>\n&gt;<br/>\n&gt; new VersionReader( ) {<br/>\n&gt;<br/>\n&gt; public String readVersion( ) {<br/>\n&gt;<br/>\n&gt; return &quot;7.0.1&quot;;<br/>\n&gt;<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; });<br/>\n&gt; AssertEquals( &quot;0&quot;, calculator.calculat e());<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; public testCalculatorVersi onOlder_ReturnsN ewest() {<br/>\n&gt; VersionCalculator calculator = new VersionCalculator( &quot;6.1.5&quot;,<br/>\n&gt;<br/>\n&gt; new VersionReader( ) {<br/>\n&gt;<br/>\n&gt; public String readVersion( ) {<br/>\n&gt;<br/>\n&gt; return &quot;7.1.0&quot;;<br/>\n&gt;<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; });<br/>\n&gt; AssertEquals( &quot;&quot;7.1.0&quot;&quot; , calculator.calculat e());<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; That is just a simple example, where you start and the order things are<br/>\n&gt; implemented is unimportant. The important thing is to identify<br/>\n&gt; responsibilities and test them so that you are sure that they work. Some<br/>\n&gt; prefer to test larger chunks at the time, attack the problem from a<br/>\n&gt; different direction and so on, that is ok too. The bottom line is that you<br/>\n&gt; have to have a /known/ in your test. You have to know what the conditions<br/>\n&gt; are and how your system should behave with those conditions. Otherwise the<br/>\n&gt; test will have to run the same code as the code that is tested which, as<br/>\n&gt; you<br/>\n&gt; say, provides no value.<br/>\n&gt;<br/>\n&gt; I think you do know what to expect, there must be some rule, after all you<br/>\n&gt; knew how to write the code. I think the problem you are facing is that you<br/>\n&gt; maybe want to run the tests in an environment that you don&#39;t control. Why<br/>\n&gt; do<br/>\n&gt; you want to do that? What is the gain?.<br/>\n&gt; If you take control of your environment the testing is simple and consists<br/>\n&gt; of figuring out how to force your system into situations in which you can<br/>\n&gt; be<br/>\n&gt; sure how it should respond and have enough of those situations so you can<br/>\n&gt; be<br/>\n&gt; sure that your system works. The real gain is when you can write those<br/>\n&gt; tests<br/>\n&gt; as you develop the code and be able to listen to your tests so that they<br/>\n&gt; can<br/>\n&gt; contribute back to your design.<br/>\n&gt;<br/>\n&gt; Does that make sense or am I completely missing something about what you<br/>\n&gt; are<br/>\n&gt; trying to do?<br/>\n&gt;<br/>\n&gt; On 11/14/06, avinash anand &lt;avinash_anand@ yahoo.co. uk&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Hi Shane<br/>\n&gt; &gt; This here is something different. I want to testh this code in a dynamic<br/>\n&gt; &gt; enviroment, meaning the system will be feed with different xml files<br/>\n&gt; using<br/>\n&gt; &gt; diffrent permutation and combination. For instance if the current<br/>\n&gt; version<br/>\n&gt; &gt; installed is 7.1.1 and the xml file feed has a version 7.0.1 the code<br/>\n&gt; will<br/>\n&gt; &gt; return 0, if the current version is 6.1.5 and the xml file reads 7.1.0the<br/>\n&gt; &gt; code will return 7.1.0 Hence I will never be sure of the expected<br/>\n&gt; result.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Is there any other way to test the code sent earlier,<br/>\n&gt; &gt;<br/>\n&gt; &gt; 1. In term of usability<br/>\n&gt; &gt; 2. In term of testing exception<br/>\n&gt; &gt; 3. In term of results<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks<br/>\n&gt; &gt; Aviansh<br/>\n&gt; &gt;<br/>\n&gt; &gt; ----- Original Message ----<br/>\n&gt; &gt; From: Shane Mingins &lt;shane.mingins@ gmail.com &lt;shane.mingins%<br/>\n&gt; 40gmail.com&gt; &gt;<br/>\n&gt; &gt; To: junit@yahoogroups. com &lt;junit%40yahoogroup s.com&gt;<br/>\n&gt; &gt; Sent: Tuesday, 14 November, 2006 1:50:06 PM<br/>\n&gt; &gt; Subject: Re: [junit] Promlem in writing Test case<br/>\n&gt; &gt;<br/>\n&gt; &gt; On 11/14/06, avinash anand &lt;avinash_anand@ yahoo.co. uk&gt; wrote:<br/>\n&gt; &gt; &gt; Hi All<br/>\n&gt; &gt; &gt; I am writing a test case in JUnit. The original class GetInfo.java has<br/>\n&gt; a<br/>\n&gt; &gt; method. String getSystemVersion( String str) which is under test. This<br/>\n&gt; &gt; method is supplied with path variable in form of string from where it<br/>\n&gt; reads<br/>\n&gt; &gt; a xml file to get certain data and return back to the user.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; The point of confussion for me is to how to test the method. What<br/>\n&gt; should<br/>\n&gt; &gt; be the actual and expected result. Meaning for getting the expected<br/>\n&gt; result I<br/>\n&gt; &gt; will have to use the same logic as it is in the main code, if I use the<br/>\n&gt; same<br/>\n&gt; &gt; logic to read the xml file then the assert statement would not be<br/>\n&gt; meaningful<br/>\n&gt; &gt; as then the expected and actual results would be same.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I am not sure why you have to use the same logic to calculate the<br/>\n&gt; &gt; expected result?<br/>\n&gt; &gt;<br/>\n&gt; &gt; You have an xml file that u will use for the test (I personally might<br/>\n&gt; &gt; do something different) in which you know what version you expect back<br/>\n&gt; &gt; ... so you code assert_equals( 0,<br/>\n&gt; &gt; getinfo.getSystemVe rsion(fileToRetu rnZero)) etc.<br/>\n&gt; &gt;<br/>\n&gt; &gt; cheers<br/>\n&gt; &gt; shane<br/>\n&gt; &gt;<br/>\n&gt; &gt; Send instant messages to your online friends <a rel=\"nofollow\" target=\"_blank\" href=\"http://uk.messenger.yahoo.com\">http://uk.messenger.yahoo.com</a><br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt; Send instant messages to your online friends <a rel=\"nofollow\" target=\"_blank\" href=\"http://uk.messenger.yahoo.com\">http://uk.messenger.yahoo.com</a><br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 18360, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1163525979", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 18359, 
    "headers": {
        "inReplyToHeader": "PDIwMDYxMTE0MTQxNTI0Ljk3Njc3LnFtYWlsQHdlYjI2NzAzLm1haWwudWtsLnlhaG9vLmNvbT4=", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDYxMTE0MDkzOWs3M2U4MzUxMHliNWEzMDE1MzUxMTQ5NWUyQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDIwMDYxMTE0MTQxNTI0Ljk3Njc3LnFtYWlsQHdlYjI2NzAzLm1haWwudWtsLnlhaG9vLmNvbT4="
    }
}