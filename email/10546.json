{
    "numMessagesInTopic": 3, 
    "nextInTime": 10547, 
    "senderId": "6miNVm0KWjHVeqXB4TfV3dMvofcc6wd5RBeoO6A5cwacUWoqRI3Ud4Ie9FgvdpEmdceGSfFZVzb0lZl_j6A8zCQfbiy22CPvLpaU4gEeVexck5fdwild", 
    "systemMessage": false, 
    "subject": "Re: Re: [junit] TDD for servlets and multipart/form-data?", 
    "from": "&quot;=?GB2312?Q?=C0=EE=CF=FE?=&quot; &lt;lix@...&gt;", 
    "authorName": "李晓", 
    "msgSnippet": "Jason Rogers£¬hi£¡ ¡¡¡¡I always use httpunit/servletunit for function test, and use Mock Objects for unit test. I like to use Mock Objects in TDD, and", 
    "msgId": 10546, 
    "profile": "lixrxyy", 
    "topicId": 10540, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 177477347, 
    "messageBody": "<div id=\"ygrps-yiv-840885931\">Jason Rogers，hi！ <br/>\n<br/>\n　　I always use httpunit/servletunit for function test, and use Mock Objects for <br/>\nunit test. I like to use Mock Objects in TDD, and the Mock Objects can describe more interface details.<br/>\n   sorry for my poor English.<br/>\n<br/>\n======== 2004-02-27 10:57:00 您在来信中写道： ========<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Fri, 2004-02-27 at 14:24, George Armhold wrote:<br/>\n&gt; Does anyone have a suggestion for how to test servlets that expect<br/>\n&gt; multipart/form-data?  I&#39;m trying to TDD a file submission servlet.<br/>\n&gt; I&#39;m looking through httpunit/servletunit, but don&#39;t see how to create<br/>\n&gt; a WebRequest that is multipart.  It looks like I can create a web page<br/>\n&gt; that contains a form which points to my servlet, and then submit on<br/>\n&gt; that, but that seems kind of convoluted.  There must be a better way.<br/>\n&gt; Any pointers will be appreciated, thanks.<br/>\n<br/>\nFWIW: This is what I did...<br/>\n<br/>\nNote: The &#39;goToPage(...)&#39; methods are home brewed to deal with our<br/>\nspecific navigation issues.  You essentially just need to call<br/>\ngetResponse(WebRequest) on a WebConversation (or something like that).<br/>\n<br/>\n=jason<br/>\n<br/>\nCODE:<br/>\n<br/>\n    public void testFileUpload() throws Exception {<br/>\n        File file = File.createTempFile(&quot;prefix&quot;, &quot;.txt&quot;);<br/>\n        file.deleteOnExit();<br/>\n        <br/>\n        WebResponse page = login();<br/>\n        WebResponse positionTab = goToPage(page, &quot;Position Upload&quot;);<br/>\n        <br/>\n        WebForm[] forms = positionTab.getForms();<br/>\n        assertEquals(2, forms.length);<br/>\n        <br/>\n        PostMethodWebRequest request = new<br/>\nPostMethodWebRequest(localhost() + &quot;/&quot; + forms[1].getAction());<br/>\n        request.setMimeEncoded(true);<br/>\n        request.setParameter(&quot;file&quot;, new UploadFileSpec[]{new<br/>\nUploadFileSpec(file)});<br/>\n        request.setParameter(&quot;destinationDirectory&quot;,<br/>\nDESTINATION_DIRECTORY);<br/>\n        //goToPage(localhost() + &quot;/&quot; + forms[1].getAction());<br/>\n        page = goToPage(request);<br/>\n        File uploadedFile = new File(DESTINATION_DIRECTORY + &quot;/&quot; +<br/>\nfile.getName());<br/>\n        uploadedFile.deleteOnExit();<br/>\n        assertTrue(uploadedFile.exists());<br/>\n    }<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\nADVERTISEMENT<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nYahoo! Groups Links<br/>\n<br/>\nTo visit your group on the web, go to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit/\">http://groups.yahoo.com/group/junit/</a><br/>\n  <br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n  <br/>\nYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service. <br/>\n<br/>\n<br/>\n<br/>\n= = = = = = = = = = = = = = = = = = = = = = <br/>\n　　　　　　　　致<br/>\n礼！<br/>\n<br/>\n　　　　　　　　　　　　　　swinging<br/>\n　　　　　　　　　　　　　　<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:lix@...\">lix@...</a><br/>\n　　　　　　　　　　　　　　　　　2004-02-28<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 10545, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1077942657", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 10542, 
    "headers": {
        "messageIdInHeader": "PE1BSUxTRVJWRVJwMUZqeGUweW0wMDAwMDJkNEBtYWlsLmh6amJiaXMuY29tLmNuPg=="
    }
}