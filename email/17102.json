{
    "numMessagesInTopic": 9, 
    "nextInTime": 17103, 
    "senderId": "T5ygfzZojBOOaAJGKZ6AA7QSSXcdAIMuZ60wRT9r3GIVHInOrb4B8qpE4d43_NdhCf8F7LLeVAq7LbfS5TBqQLKbccIXAr1P", 
    "systemMessage": false, 
    "subject": "RE: [junit] junit 4 @Before v constructor", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Duncan, It was certainly designed behavior to create the test case instances later. I hadn t thought of the idea, but this does give you the option of ", 
    "msgId": 17102, 
    "profile": "kentlbeck", 
    "topicId": 17090, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-1162666190\">Duncan,<br/>\n <br/>\nIt was certainly designed behavior to create the test case instances later.<br/>\nI hadn&#39;t thought of the idea, but this does give you the option of<br/>\ninitializing fields in the declaration or the constructor. From the<br/>\nimplementation in TestClassMethodsRunner.invokeTestMethod() it looks like<br/>\nthe test instance cannot escape, and is available for garbage collection<br/>\nafter the test runs. This behavior is not (yet?) part of the API, however.<br/>\n <br/>\nCheers,<br/>\n <br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\n<br/>\n<br/>\n  _____  <br/>\n<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\nDMCG123<br/>\nSent: Friday, July 07, 2006 1:07 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: [junit] junit 4 @Before v constructor<br/>\n<br/>\n<br/>\n<br/>\nI&#39;ve always thought that in retrospect one of junit (&lt;4)&#39;s worse failings<br/>\nwas creating <br/>\ninstances of the test classes up front in the suite. This means that <br/>\n* the contructors of all tests are called before any tests are run, leading<br/>\nto some <br/>\ninteresting issues if any initialization is done there instead of in setUp, <br/>\n* resources created in setUp and assigned to test class fields hang around<br/>\nuntil the end of <br/>\nthe test run, kept alive by the suite<br/>\n* we get some very different behaviour running all tests in ant using<br/>\nfork=true, compared <br/>\nto running all tests in the same VM<br/>\n<br/>\nNow in junit 4 it looks like the instances of test classes are constructed<br/>\non the fly. The <br/>\nconstructor of each test instance is called just before @Before.<br/>\n<br/>\nSo my question - is this a designed behaviour? Can I assume that junit 4<br/>\nrunners will have <br/>\nthis behaviour, allowing me to use the constructor instead of @Before,<br/>\nallowing fields to <br/>\nbe final, etc? <br/>\n<br/>\nDoes anyone have experience of constructors v @Before in junit 4?<br/>\n<br/>\nFinally, is there scope for releasing the test class instances after each<br/>\ntest has run? This <br/>\nwould give us a much smaller footprint for large test suites, without having<br/>\nto assign <br/>\nfields to null in @After.<br/>\n<br/>\nThanks in anticipation<br/>\n<br/>\nDuncan Mc^Gregor<br/>\n&quot;The name rings a bell&quot;<br/>\n<br/>\n<br/>\n<br/>\n <br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 17101, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1152325525", 
    "canDelete": false, 
    "nextInTopic": 17103, 
    "prevInTopic": 17101, 
    "headers": {
        "inReplyToHeader": "PGU4bDRuZyttdXYxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDAwNTYwMWM2YTIzNSRjOGZjMWQ1MCQ2NjAxYThjMEBUNDI+"
    }
}