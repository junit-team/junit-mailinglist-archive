{
    "numMessagesInTopic": 6, 
    "nextInTime": 19764, 
    "senderId": "uhpogV3nly1imMTcWPXVsPEC2BQelFDs-oWyeEiRC82RWOA0-ZNOngfiAA2QzhofN2xi15WUvUkad6b_nYTXr5jkmik", 
    "systemMessage": false, 
    "subject": "Re: Junit 4 and Ant", 
    "from": "&quot;j_cumps&quot; &lt;j_cumps@...&gt;", 
    "authorName": "j_cumps", 
    "msgSnippet": "Gommo, ... that use ... What we (and several open source projects) typically do when using JUnit and Ant is: place your source files in a folder called src ", 
    "msgId": 19763, 
    "rawEmail": "Return-Path: &lt;j_cumps@...&gt;\r\nX-Sender: j_cumps@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 83947 invoked from network); 20 Aug 2007 17:31:00 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m57.grp.scd.yahoo.com with QMQP; 20 Aug 2007 17:31:00 -0000\r\nReceived: from unknown (HELO n33a.bullet.sp1.yahoo.com) (209.131.38.214)\n  by mta10.grp.scd.yahoo.com with SMTP; 20 Aug 2007 17:31:00 -0000\r\nReceived: from [216.252.122.217] by n33.bullet.sp1.yahoo.com with NNFMP; 20 Aug 2007 17:24:26 -0000\r\nReceived: from [66.218.69.1] by t2.bullet.sp1.yahoo.com with NNFMP; 20 Aug 2007 17:24:26 -0000\r\nReceived: from [66.218.66.87] by t1.bullet.scd.yahoo.com with NNFMP; 20 Aug 2007 17:24:26 -0000\r\nDate: Mon, 20 Aug 2007 17:24:26 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;facioa+sp72@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90708200412ga2b066ek5c6632455c1e8a6d@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;j_cumps&quot; &lt;j_cumps@...&gt;\r\nSubject: Re: Junit 4 and Ant\r\nX-Yahoo-Group-Post: member; u=253029613; y=PYrzfHfBPrKAQeEFsUx53c7_I_yWx4SkeAKKzImMiY_Apw\r\nX-Yahoo-Profile: j_cumps\r\n\r\nGommo,\n\n&gt; Is there any way out of the box to make Junit just run the tests =\r\n\nthat use\n&gt; org.junit.Test annoations ??\n\nWhat we (and several open source =\r\nprojects) typically do when using \nJUnit and Ant is:\nplace your source file=\r\ns in a folder called src\nplace your test classes in a folder called tst\n\nWh=\r\nen running the junit ant task, let it look in the location of your \ntest cl=\r\nasses for tests it has to run.\n\nExample:\n\nsources:\nsrc/com/myproject/Foo.ja=\r\nva\nsrc/com/myproject/Bar.java\n\ntest sources:\ntst/com/myproject/FooTest.java=\r\n\ntst/com/myproject/BarTest.java\n\ncompile sources to destination build/bin, =\r\nand tests to destination \nbuild/tst\n\nin build.xml:\n\n &lt;property name=3D&quot;buil=\r\nd.dir&quot; value=3D&quot;build&quot;/&gt;\n\n  &lt;!-- Testing Classpath --&gt;\n  &lt;path id=3D&quot;junit.=\r\nclasspath&quot;&gt;\n    &lt;pathelement location=3D&quot;${junit.jar}&quot;/&gt;\n    &lt;pathelement l=\r\nocation=3D&quot;${build.dir}/src&quot;/&gt;\n    &lt;pathelement location=3D&quot;${build.dir}/ts=\r\nt&quot;/&gt;\n  &lt;/path&gt;\n\n\ncompilation part:\n...\n\n  &lt;target name=3D&quot;build&quot; depends...=\r\n.&quot;&gt;\n      &lt;mkdir dir=3D&quot;${build.dir}/src&quot;/&gt;\n      &lt;javac srcdir=3D&quot;src&quot;\n   =\r\n     destdir=3D&quot;${build.dir}/src&quot;&gt;\n      &lt;/javac&gt;\n      &lt;mkdir dir=3D&quot;${bui=\r\nld.dir}/tst&quot;/&gt;\n      &lt;javac srcdir=3D&quot;tst&quot;\n        destdir=3D&quot;${build.dir}/=\r\ntst&quot; classpathref=3D&quot;junit.classpath&quot; \ndebug=3D&quot;true&quot;&gt;\n      &lt;/javac&gt;\n  &lt;/t=\r\narget&gt;\n\n...\n\ntest part will only pick up your test classes in the tst subdi=\r\nr, and \ntheir class name has to contain Test in it.\n\n  &lt;target name=3D&quot;test=\r\n&quot;&gt;\n    \n    &lt;junit ...&gt;\n      &lt;formatter type=3D&quot;brief&quot; usefile=3D&quot;false&quot;/&gt;=\r\n\n      &lt;classpath refid=3D&quot;junit.classpath&quot;/&gt;\n\n      &lt;batchtest ...&gt;\n      =\r\n  &lt;fileset dir=3D&quot;tst&quot;&gt;\n          &lt;include name=3D&quot;**/*Test*.java&quot;/&gt;\n      =\r\n  &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n    &lt;/junit&gt;\n    \n    \n  &lt;/target&gt;\n\n\n\nRegar=\r\nds, Jan\n\n\n--- In junit@yahoogroups.com, &quot;David Saff&quot; &lt;saff@...&gt; wrote:\n&gt;\n&gt; =\r\nGommo,\n&gt; \n&gt; I am not an expert user of the junit ant task--I hope that some=\r\none\n&gt; else on this list is, and can provide more insight.  You might want \n=\r\nto\n&gt; look at the Johannes&#39; Links ClasspathSuite runner:\n&gt; \n&gt; http://johanne=\r\nslink.net/cpsuite.html\n&gt; \n&gt; Using this, you&#39;d point ant at a single suite c=\r\nlass, which would\n&gt; itself indicate the directory in which to search for te=\r\nsts.  I&#39;ve\n&gt; found cpsuite remarkably fast for small-to-medium projects, bu=\r\nt \ncan&#39;t\n&gt; say how it scales to large or very large projects.  Thanks,\n&gt; \n&gt;=\r\n    David Saff\n&gt; \n&gt; On 8/19/07, gommo &lt;colin.goudie@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; I&#39;v=\r\ne been using TestNG for more unit and integration tests. \nHowever, I&#39;ve\n&gt; &gt;=\r\n found that JUnit 4 and its eclipse plugin works faster and nicer. \nSo I&#39;ve=\r\n\n&gt; &gt; decided change all my unit tests to JUnit.\n&gt; &gt;\n&gt; &gt; I have a runUnitTes=\r\nts ant target that is used to run (previously) \nthe\n&gt; &gt; test-ng tests that =\r\nare marked as &quot;UnitTests&quot;\n&gt; &gt;\n&gt; &gt; As a start, I have changed this ant targe=\r\nt to run all tests in my \ntests\n&gt; &gt; target directory (i.e. using **/*.class=\r\n)\n&gt; &gt;\n&gt; &gt; What I thought would happen was that JUnit would look at these \nc=\r\nlasses, find\n&gt; &gt; the ones that are marked with the JUnit 4 @Test annotation=\r\n and \nrun them.\n&gt; &gt;\n&gt; &gt; What I&#39;m finding however is that it is attempting t=\r\no run EVERY \nclass in that\n&gt; &gt; folder as a test and they are either Test-NG=\r\n tests or just other \nutility\n&gt; &gt; classes. As a result, JUnit is throwing e=\r\nrrors\n&gt; &gt;\n&gt; &gt; e.g.\n&gt; &gt; Running au.tributech.tuxedo.beans.entity.PermissionT=\r\nest$1\n&gt; &gt;     [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: \n=\r\n0.017 sec\n&gt; &gt;     [junit] Test \nau.tributech.tuxedo.beans.entity.Permission=\r\nTest$1 FAILED\n&gt; &gt;     [junit] Running\n&gt; &gt; \nau.tributech.tuxedo.beans.entity=\r\n.PermissionTest$PermissionDescendant\n&gt; &gt;     [junit] Tests run: 2, Failures=\r\n: 0, Errors: 2, Time elapsed: \n0.018 sec\n&gt; &gt;     [junit] Test\n&gt; &gt; \nau.tribu=\r\ntech.tuxedo.beans.entity.PermissionTest$PermissionDescendant \nFAILED\n&gt; &gt;\n&gt; =\r\n&gt; Is there any way out of the box to make Junit just run the tests \nthat us=\r\ne\n&gt; &gt; org.junit.Test annoations ??\n&gt; &gt;\n&gt; &gt; What I have got working (but its=\r\n slow) is to write a custom ANT \nselector.\n&gt; &gt; &lt;batchtest fork=3D&quot;yes&quot; todi=\r\nr=3D&quot;${test.report.dir}&quot;&gt;\n&gt; &gt;   &lt;fileset dir=3D&quot;${test.fixtures.dir}&quot; inclu=\r\ndes=3D&quot;**/*.class&quot;&gt;\n&gt; &gt;     &lt;custom classname=3D&quot;au.tributech.ant.JUnit4Sel=\r\nector&quot;\n&gt; &gt; classpathref=3D&quot;project.test.run.classpath&quot;/&gt;\n&gt; &gt;   &lt;/fileset&gt;\n&gt;=\r\n &gt; &lt;/batchtest&gt;\n&gt; &gt;\n&gt; &gt; The JUnit4Selector class I wrote simply reads in ea=\r\nch file \nprocessed and\n&gt; &gt; uses ASM-3.0 to look for JUnit4 annotations (@Te=\r\nst, @RunsWith \netc..). If\n&gt; &gt; they exist it processes that file otherwise s=\r\nkips it.\n&gt; &gt;\n&gt; &gt; This works but it is pretty slow and I can see it being pa=\r\ninfully \nslow when\n&gt; &gt; there are hundreds of unit tests.\n&gt; &gt;\n&gt; &gt; Surely I&#39;m=\r\n missing something here and JUnit&#39;s ANT task is smarter \nthan what\n&gt; &gt; it i=\r\ns appearing. I don&#39;t want to have to specify EVERY unit test \nwhen I add\n&gt; =\r\n&gt; them. That is just a maintenance nightmare.\n&gt; &gt;\n&gt; &gt; Thanks for any pointe=\r\nrs\n&gt; &gt; --\n&gt; &gt; View this message in context: http://www.nabble.com/Junit-4-a=\r\nnd-\nAnt-tf4289986.html#a12212626\n&gt; &gt; Sent from the JUnit - User mailing lis=\r\nt archive at Nabble.com.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; =\r\n&gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "j_cumps", 
    "topicId": 19756, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 253029613, 
    "prevInTime": 19762, 
    "contentTrasformed": false, 
    "postDate": "1187630666", 
    "canDelete": false, 
    "nextInTopic": 19767, 
    "prevInTopic": 19759, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwODIwMDQxMmdhMmIwNjZlazVjNjYzMjQ1NWMxZThhNmRAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGZhY2lvYStzcDcyQGVHcm91cHMuY29tPg=="
    }
}