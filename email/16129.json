{
    "numMessagesInTopic": 11, 
    "nextInTime": 16130, 
    "senderId": "Uuz1z5SBWNzqRYHExEDUzf5PWnuPQAmI3kLSeGglOKT7tePMGNjJ_uF_wUNSIO1wxA6aIZSHrWm1wakHTqcpTA", 
    "systemMessage": false, 
    "subject": "Re: [junit] junit 4 expected= subclass change", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "All, I m digging through old mails, and wanted to provide some closure on this issue.  In the end, we went with the specification: /** * Optionally specify", 
    "msgId": 16129, 
    "profile": "dsaff", 
    "topicId": 16041, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-45656432\">All,<br/>\n<br/>\nI&#39;m digging through old mails, and wanted to provide some closure on <br/>\nthis issue.  In the end, we went with the specification:<br/>\n<br/>\n    /**<br/>\n     * Optionally specify &lt;code&gt;expected&lt;/code&gt;, a Throwable, to cause a <br/>\ntest method to succeed iff<br/>\n     * an exception of the specified class is thrown by the method.<br/>\n     */<br/>\n    Class&lt;? extends Throwable&gt; expected() default None.class;<br/>\n<br/>\nSpeaking only for myself, the most convincing reason to do this is that <br/>\nit hews closest to the idiom that would most often be used by JUnit 3 users:<br/>\n<br/>\ntry {<br/>\n    doSomethingRisky();<br/>\n    fail();<br/>\n} catch (ExceptionSuperclass e) {<br/>\n    // success!<br/>\n}<br/>\n<br/>\nBefore the new implementation was in place, moving some old test <br/>\ndefinitions from JUnit 3 to JUnit 4, this bit me: I couldn&#39;t just <br/>\ntransfer the class name from the catch clause to the &quot;expected&quot; <br/>\nattribute, because sometimes the actually thrown exceptions were <br/>\nsubclasses of the caught exceptions.<br/>\n<br/>\nYou may feel that the old idiom was too loose--in that case, sadly, the <br/>\nnew attribute will also be too loose for you.  That&#39;s consistency for <br/>\nyou, I guess.  The extension support should allow you do define your own <br/>\nThrowsExactException attribute, if you wish, or you can do an explicit <br/>\ncatch.<br/>\n<br/>\nThanks,<br/>\n<br/>\n    David Saff<br/>\n<br/>\nKent Beck wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; Ben,<br/>\n&gt;<br/>\n&gt; Thank you for the feedback. We went around on this. It seems there are two<br/>\n&gt; cases:<br/>\n&gt;<br/>\n&gt; 1) I am throwing an exception but I want to make it more specific so I <br/>\n&gt; throw<br/>\n&gt; a subclass (Exception -&gt; IllegalArgumentException). No catch clauses care<br/>\n&gt; about the more-specific exception. If expected is looking for a precise<br/>\n&gt; class, a bunch of tests will break even though the code still works.<br/>\n&gt;<br/>\n&gt; 2) The scenario you introduced--there are catch clauses in place that are<br/>\n&gt; looking for the more-specific exception. If expected is looking for any<br/>\n&gt; subclass of an exception class, the code might not work any more but the<br/>\n&gt; tests would pass.<br/>\n&gt;<br/>\n&gt; Either way you&#39;re going to get false results. One question is which <br/>\n&gt; scenario<br/>\n&gt; is more common? Another is which scenario is more <br/>\n&gt; dangerous/risky/expensive?<br/>\n&gt;<br/>\n&gt; Take care,<br/>\n&gt;<br/>\n&gt; Kent Beck<br/>\n&gt; Three Rivers Institute<br/>\n&gt;<br/>\n&gt; &gt; -----Original Message-----<br/>\n&gt; &gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On<br/>\n&gt; &gt; Behalf Of Ben Maurer<br/>\n&gt; &gt; Sent: Thursday, February 09, 2006 3:02 PM<br/>\n&gt; &gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; Subject: [junit] junit 4 expected= subclass change<br/>\n&gt; &gt;<br/>\n&gt; &gt; Hey guys,<br/>\n&gt; &gt;<br/>\n&gt; &gt; In junit4 cvs, I noticed the following change:<br/>\n&gt; &gt;<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://cvs.sourceforge.net/viewcvs.py/junit/junit/org/junit/in\">http://cvs.sourceforge.net/viewcvs.py/junit/junit/org/junit/in</a><br/>\n&gt; &gt; ternal/runners/Attic/TestMethodRunner.java?r1=1.1.2.5&r2=1.1.2<br/>\n&gt; &gt; .6&only_with_tag=Version4<br/>\n&gt; &gt;<br/>\n&gt; &gt; which allows the expected exception to be a base class of the actual<br/>\n&gt; &gt; one. This differs from the NUnit behavior:<br/>\n&gt; &gt;<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://nunit.org/index.php?p=exception&r=2.2.6\">http://nunit.org/index.php?p=exception&r=2.2.6</a> <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://nunit.org/index.php?p=exception&r=2.2.6\">http://nunit.org/index.php?p=exception&r=2.2.6</a>&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; When writing a test, I usually want to make sure the program throws<br/>\n&gt; &gt; the *EXACT* type of exception I specify, not that it throws some<br/>\n&gt; &gt; random subclass.<br/>\n&gt; &gt;<br/>\n&gt; &gt; -- Ben<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; SPONSORED LINKS<br/>\n&gt; Basic programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw\">http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw</a>&gt; <br/>\n&gt; \tC programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw\">http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw</a>&gt; <br/>\n&gt; \tComputer programming languages <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ\">http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ</a>&gt; <br/>\n&gt;<br/>\n&gt; The c programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q\">http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q</a>&gt; <br/>\n&gt; \tC programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ\">http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ</a>&gt; <br/>\n&gt; \tList of programming languages <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA\">http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA</a>&gt; <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt;<br/>\n&gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt;       on the web.<br/>\n&gt;        <br/>\n&gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;        <br/>\n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 16128, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1140213982", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 16101, 
    "headers": {
        "inReplyToHeader": "PEUxRjdTSEYtMDAwNTJFLVFYQHNtdHBhdXRoMDQubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4=", 
        "messageIdInHeader": "PDQzRjY0OERFLjUwNTA4QG1pdC5lZHU+", 
        "referencesHeader": "PEUxRjdTSEYtMDAwNTJFLVFYQHNtdHBhdXRoMDQubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}