{
    "numMessagesInTopic": 74, 
    "nextInTime": 15897, 
    "senderId": "jmnWZ9A5nBpzq9qKlzrMYYRe9cE_t-FuzawmoIlOHWHMRfraWlhRs0no3aT2XIUFCmmV4gzDlfAbXtCfelxZUspObbB3mgx7ajlf8A", 
    "systemMessage": false, 
    "subject": "Re: Observations from a production use of JUnit4", 
    "from": "&quot;Ben Maurer&quot; &lt;bmaurer@...&gt;", 
    "authorName": "Ben Maurer", 
    "msgSnippet": "Hey, ... behavior, at ... Ok, that s good. That will at least allow me to upgrade ;-). It d be ideal if we could set the classname to the real class name. ", 
    "msgId": 15896, 
    "profile": "benjamindavidmaurer", 
    "topicId": 15891, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 256083789, 
    "messageBody": "<div id=\"ygrps-yiv-858504066\">Hey,<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;saff@m...&gt; wrote:<br/>\n&gt; Ben Maurer wrote:<br/>\n&gt; &gt; Ant XML output<br/>\n&gt; &gt; --------------<br/>\n&gt; &gt; [...]<br/>\n&gt; &gt; However, in rc2, it looks like:<br/>\n&gt; &gt;<br/>\n&gt; &gt; &lt;testcase classname=&quot;junit.framework.JUnit4TestAdapterCache$2$1&quot; <br/>\n&gt; &gt; name=&quot;unknown&quot; time=&quot;0.018&quot;&gt;&lt;/testcase&gt;<br/>\n&gt; That doesn&#39;t look good, does it?  If my initial guess as to this bug&#39;s <br/>\n&gt; source is correct, this will be easily fixed (back to rc1&#39;s<br/>\nbehavior, at <br/>\n&gt; least) soon.<br/>\n<br/>\nOk, that&#39;s good. That will at least allow me to upgrade ;-). It&#39;d be<br/>\nideal if we could set the classname to the &quot;real&quot; class name.<br/>\n<br/>\nBtw, on the topic of JUnit3 tool compat: is it possible to make is so<br/>\nwe don&#39;t have to write:<br/>\n<br/>\n        public static junit.framework.Test suite()<br/>\n        {<br/>\n                return new<br/>\njunit.framework.JUnit4TestAdapter(HashtableTest.class);<br/>\n        }<br/>\n<br/>\n*if* we are using the JUnit4 version of the tools. The logic could be<br/>\nsomething like:<br/>\n<br/>\nif (I am asked to run a junit3 test on something) {<br/>\n   if (any methods have the @Test annotation) {<br/>\n      use junit4 behavior<br/>\n   }<br/>\n<br/>\n   fallback<br/>\n}<br/>\n<br/>\nIf this was done and the classname was set correctly, I think we could<br/>\nsimulate almost full compat (for simple cases) with junit3 based tools.<br/>\n<br/>\nIf you get both/either of these in cvs, I&#39;d be happy to test them out.<br/>\n<br/>\n&gt; &gt; Stack Trace Filtering<br/>\n&gt; &gt; ---------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; The stack trace from junit messages have always been filed with<br/>\njunit.*<br/>\n&gt; &gt; traces. Ant filters these out. However, now there are org.junit things<br/>\n&gt; &gt; slipping through. Also, tests with a timeout, have many<br/>\n&gt; &gt; java.util.concurrent frames in them. Why leave this kind of<br/>\nfiltering up<br/>\n&gt; &gt; to each tool? JUnit should filter out the frames it knows are from it.<br/>\n&gt; &gt; This would make command line output look nicer. I think NUnit does<br/>\nthis.<br/>\n&gt; This is tricky.  The JUnit API actually reports the Exception<br/>\nobjects to <br/>\n&gt; the tools, which are then responsible for displaying / parsing stack <br/>\n&gt; traces.  I don&#39;t know that there&#39;s anything we could do to make <br/>\n&gt; pre-JUnit 4 tools automatically filter the org.junit lines, but we<br/>\nmight <br/>\n&gt; look at something for the future.<br/>\n<br/>\nThere&#39;s a setStackTrace in Throwable that looks promising. Granted,<br/>\nthis is a bit of a hack, but having the org.junit lines in the test<br/>\nresults gets really, really annoying. At the very least we should<br/>\nexport a polished method that takes care of this.<br/>\n<br/>\n&gt; &gt; @Test(expected=) traces<br/>\n&gt; &gt; -----------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; When you have an expected exception, and another one gets thrown, the<br/>\n&gt; &gt; error trace doesn&#39;t contain the bad exception. You only get:<br/>\n&gt; &gt;<br/>\n&gt; &gt; java.lang.AssertionError: Unexpected exception, <br/>\n&gt; &gt; expected&lt;java.util.NoSuchElementException&gt; but <br/>\n&gt; &gt; was&lt;java.lang.NullPointerException&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Having the trace of the bad exception would help TAs debug student<br/>\ncode. <br/>\n&gt; That&#39;s a good idea.  We&#39;ll try to have that in the next release.<br/>\n<br/>\nThanks. This also comes up with timeouts. It&#39;d be really cool to have<br/>\na stacktrace from where the thread was hung.<br/>\n<br/>\nOh, and since I&#39;m talking to another person from a school with a great<br/>\nCS dept ;-), I&#39;m really interested in writing good docs for students<br/>\non how to write test suites, especially for data structures (the focus<br/>\nof the 15-211 course). I have something that I hacked up for our first<br/>\nhomework, however, this kind of thing would be great to make into a<br/>\ntutorial that could be used by other classes.<br/>\n<br/>\n-- Ben </span></blockquote></div>", 
    "prevInTime": 15895, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1138656201", 
    "canDelete": false, 
    "nextInTopic": 15899, 
    "prevInTopic": 15895, 
    "headers": {
        "inReplyToHeader": "PDQzREU1Qjg1LjMwOTA2MDJAbWl0LmVkdT4=", 
        "messageIdInHeader": "PGRybTA0OSt1NzJuQGVHcm91cHMuY29tPg=="
    }
}