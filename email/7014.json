{
    "numMessagesInTopic": 13, 
    "nextInTime": 7015, 
    "senderId": "zAmBcngCraqFYjXAj1UQOv4vtGxav3gjZgq8ZRjckBgOQSifKUpWKjL0rJGOHussoOF2ZD87xgg37_tbW9tzOPM3qEiYHq_MtsK46sxuAfmlMWLn", 
    "systemMessage": false, 
    "subject": "Re: one-time setup", 
    "from": "&quot;billvenners &lt;bv@...&gt;&quot; &lt;bv@...&gt;", 
    "authorName": "billvenners &lt;bv@artima.com&gt;", 
    "msgSnippet": "Eric, ... For a long time my impression was that an instance of TestCase is created, and all test methods are invoked on that same instance. The reason I", 
    "msgId": 7014, 
    "profile": "billvenners", 
    "topicId": 6946, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 5637428, 
    "messageBody": "<div id=\"ygrps-yiv-340055362\">Eric,<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Somehow, I was under the impression that each test<br/>\n&gt; in a test case started with a &quot;clean slate&quot; -- that the<br/>\n&gt; setup code was re-run for each test method.<br/>\n&gt; <br/>\n&gt; But that doesn&#39;t appear to be the case. The test object<br/>\n&gt; created during setup turned out to be reused for<br/>\n&gt; subsequent tests in the test case, which caused problems<br/>\n&gt; arising from old state, until I figured it out.<br/>\n&gt; <br/>\n&gt; Now, for performance, it only makes sense that a fixture<br/>\n&gt; would be reused for each test in a test case class. So I&#39;m<br/>\n&gt; not suggesting that the implementation is wrong.<br/>\n&gt;<br/>\n </span></blockquote>For a long time my impression was that an instance of TestCase is<br/>\ncreated, and all test methods are invoked on that same instance. The<br/>\nreason I thought this was that it seemed like the natural way to do<br/>\nit to me, plus it justified the existence of setUp. Given fixtures<br/>\nare usually instance data, a method like setUp is needed only if you<br/>\nare going to reuse the same instance on multiple test methods, and<br/>\nsome of those test methods may destroy the fixture.<br/>\n<br/>\nWhile looking through JUnit&#39;s source code, I discovered that JUnit<br/>\ncreates a new instance for each test method when it runs. So then I<br/>\ngot to wondering what setUp was really there for, because if you are<br/>\ngoing to create a new TestCase instance for each test method, then<br/>\nyou could use the constructor to initialized the fixture.<br/>\n<br/>\nLast year I created a testing toolkit similar to JUnit, Artima<br/>\nSuiteRunner, that also serves as a JUnit runner to run JUnit test<br/>\nsuites. What I ended up doing in SuiteRunner was running all the test<br/>\nmethods on the same Suite instance, calling setUpFixture and<br/>\ntearDownFixture before and after each test method. SuiteRunner is<br/>\nfree and open source:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.artima.com/suiterunner/\">http://www.artima.com/suiterunner/</a><br/>\n<br/>\nI&#39;m curious if anyone out there has some kind of dependency on<br/>\nJUnit&#39;s approach of creating a new TestCase instance for each test<br/>\nmethod. <br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; But I read the docs at the main site, and I&#39;ve been following<br/>\n&gt; these threads for quite a while, and still I had a dead-wrong<br/>\n&gt; impression of what&#39;s going on.<br/>\n&gt; <br/>\n&gt; For example, in the FAQ, q2 &quot;How do I use a text fixture?&quot;<br/>\n&gt; says:<br/>\n&gt;    &quot;Each test runs in its own test fixture to isolate tests from the<br/>\n&gt;    changes made by other tests. Because the tests are isolated,<br/>\n&gt;    they can be run in any order.... The JUnit framework<br/>\n&gt;    automatically invokes the setUp() method before each test is<br/>\n&gt;    run and the tearDown() method after each test is run.&quot;<br/>\n&gt; <br/>\n&gt; Now for &quot;test&quot;, I was reading &quot;test *method*&quot;. As in testX(),<br/>\n&gt; testY(). But my recent epiphany suggests that I should have<br/>\n&gt; been reading it as &quot;test *case*&quot;, as in &quot;test-case class&quot;. And<br/>\n&gt; since the example shows a single test case class, with multiple<br/>\n&gt; test methods in it, it was easy to make that assumption.<br/>\n&gt; <br/>\n&gt; Note:<br/>\n&gt; In general, I&#39;m not much fond of the name, &quot;TestCase&quot;, because<br/>\n&gt; to me that represents a single test. Since a TestCase class can<br/>\n&gt; actually have multiple test methods, the name &quot;TestFixture&quot; is<br/>\n&gt; probably more appropriate. But be that as it may...<br/>\n&gt; <br/>\n&gt; It appears to me that the word &quot;test&quot; is badly overloaded in the<br/>\n&gt; docs, meaning at various times, test method, test case, and<br/>\n&gt; potentially even test suite.<br/>\n&gt; <br/>\n&gt; The best way to eliminate confusion that I can see is to do a<br/>\n&gt; global search on &quot;test &quot;, and replace with one of the hyphenated<br/>\n&gt; words &quot;test-method&quot;, &quot;test-case&quot;, or &quot;test-suite&quot;, as appropriate.<br/>\n<br/>\n </span></blockquote>I too was confused by JUnit&#39;s overloading of the word test. There&#39;s a<br/>\nTest interface, and a both TestCase and a TestSuite implement Tests.<br/>\nSo it looks conceptually like test cases and test suites are two<br/>\nkinds of tests. But test methods also seem to be tests. I wasn&#39;t sure<br/>\nwhat JUnit&#39;s notion of the concept of &quot;test&quot; was by looking at the<br/>\nAPI or reading the articles.<br/>\n<br/>\nOne thing I tried hard to do in SuiteRunner was have a clearly but<br/>\nabstractly defined notion of &quot;test.&quot; The only place the word test<br/>\nshows up in the API is in testX, testY methods and 4 Reporter<br/>\nmethods: testStarting, testSucceeded, testFailed, testAborted. A test<br/>\nmethod is one kind of conceptual test that can be reported via the 4<br/>\nReporter methods, but not the only kind.<br/>\n<br/>\nI also tried to be clear about what a &quot;suite&quot; was. There&#39;s a class<br/>\nSuite that represents the concept of suite, which is simply a<br/>\ncollection of conceptual tests. Typically people will subclass Suite<br/>\nand add test methods -- that&#39;s one kind of suite. But once again, it&#39;s<br/>\nnot the only kind of Suite. I have a JUnitSuite internal to the<br/>\npackage that I use to run JUnit test suites. That&#39;s another kind of<br/>\nconceptual suite that is represented by a sublcass of Suite.</div>", 
    "prevInTime": 7013, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1045857846", 
    "canDelete": false, 
    "nextInTopic": 7022, 
    "prevInTopic": 7001, 
    "headers": {
        "inReplyToHeader": "PDNFNEFFNDc5LkYzRTFENDU5QHN1bi5jb20+", 
        "messageIdInHeader": "PGIzNjBubSt2cGxrQGVHcm91cHMuY29tPg=="
    }
}