{
    "numMessagesInTopic": 16, 
    "nextInTime": 8431, 
    "senderId": "M8Pzc8bLy_-lAIL0Gw7UamdZ2nk0U4AECYKj1Wrvtn_euJ9KyNWXFuw9sfb2b9P737FXCqabYnZX1XQC90Uri7VJNt24VPkyncondpmkWg", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Fork each test method?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "...  ... Most of the time, though, we (TDD practitioners I know and I) don t want a brand new runtime for each test. Perhaps this points to a", 
    "msgId": 8430, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 95709 invoked from network); 20 Jun 2003 19:54:57 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 20 Jun 2003 19:54:57 -0000\r\nReceived: from unknown (HELO fep02-mail.bloor.is.net.cable.rogers.com) (66.185.86.72)\n  by mta3.grp.scd.yahoo.com with SMTP; 20 Jun 2003 19:54:56 -0000\r\nReceived: from quincy ([199.243.252.154])\n          by fep02-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030620195447.BQAJ12647.fep02-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Fri, 20 Jun 2003 15:54:47 -0400\r\nMessage-ID: &lt;200306201554490938.00F1B902@...&gt;\r\nIn-Reply-To: &lt;CFDDEB3B870EE346BB583D2B0420F5AC0101E859@...&gt;\r\nReferences: &lt;CFDDEB3B870EE346BB583D2B0420F5AC0101E859@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Fri, 20 Jun 2003 15:54:49 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: RE: [junit] Re: Fork each test method?\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep02-mail.bloor.is.net.cable.rogers.com from [199.243.252.154] using ID &lt;jbrains@...&gt; at Fri, 20 Jun 2003 15:54:47 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\n&gt;So said Robert DiFalco on 2003-06-17 --------------------\n&lt;snip /&gt;\n&gt;My iss=\r\nue is exposing much\n&gt;of the state of the object called Runtime to reset it&#39;=\r\ns state when what\n&gt;you really want to do is just create a new object that h=\r\nides it&#39;s\n&gt;details of initialization. To me, this is why a unit testing fra=\r\nmework\n&gt;should run each test in a new runtime. \n\nMost of the time, though, =\r\nwe (TDD practitioners I know and I) don&#39;t want a brand new runtime for each=\r\n test. Perhaps this points to a difference in design philosophy between you=\r\n and us.\n\n&gt;Otherwise, we have to break\n&gt;contracts or create (to me) overly =\r\ncomplicated code to violate the state\n&gt;of the object, and arbitrarily reset=\r\n it from an external client.\n&gt;\n&gt;Basically, I agree with everything you said=\r\n. But maybe not this part:\n&gt;\n&gt;class Something\n&gt;    Something()\n&gt;        thi=\r\ns(ClassRegistry.identify(Foo.class))\n&gt;\n&gt;    Something(identity)\n&gt;        //=\r\n store in instance-level variable\n&gt;\n&gt;I suppose it really depends on Somethi=\r\nng. Is this meta-state or is it\n&gt;instance state? In my example, it was a st=\r\natic because this is a detail\n&gt;of Something that is shared across all it&#39;s =\r\ninstances. Now, if we had\n&gt;real MetaClasses in Java we might do something d=\r\nifferent -- say, create\n&gt;a SomethingClass that IS designed as you propose. =\r\nIn this case, however,\n&gt;initializing the class initializes the Identity tha=\r\nt is to be used by\n&gt;all instances of Something.\n\nI think it&#39;s better to dis=\r\ncuss this in the context of Something&#39;s public interface, because it could =\r\nwell be that testing Something is *not* complicated by the way it establish=\r\nes its Identity. If it is so complicated, then I think it&#39;s a good idea to =\r\nseparate establishing Identity from using Identity. I can test the &quot;using I=\r\ndentity&quot; part very easily and I can test the &quot;establishing Identity&quot; part v=\r\nery easily, but I prefer not to test using Identity by assuming the particu=\r\nlar Identity implementation that the object uses. If I do that, my tests ar=\r\ne too tightly-coupled to the production system, which makes them brittle.\n\n=\r\nI could see extracting the &quot;uses Identity&quot; part of Something, then having S=\r\nomething wrap that other class. Then we get the best of both worlds: Someth=\r\ning still establishes its Identity at the class level, but it&#39;s also easier=\r\n to test.\n\n&gt;So, I suppose where we differ is that I think a fresh Runtime i=\r\nnstance\n&gt;should be achieved &quot;the same way each time&quot; -- through creation. I=\r\n feel\n&gt;I am introducing the possibility for a bug by allowing methods that\n=\r\n&gt;reset state that only exist for testing. I could be wrong, but I believe\n&gt;=\r\nyou are saying systems should be design so that one can reset it&#39;s state\n&gt;t=\r\nhrough some external actor at any time.\n\nBy extracting part of Something, t=\r\nhen testing *that* as a user of Identity, we eliminate the bug you mean, as=\r\n there is no need to reset the Runtime state of Something.\n\nI&#39;m not specifi=\r\ncally saying that systems should be designed so that one can reset state at=\r\n any time; but I *am* saying that a system that puts together self-containe=\r\nd (cohesive) objects in a manner that allows for substituting implementatio=\r\nns at runtime tends to be easier to test, to maintain, to debug and to exte=\r\nnd/change. I do not believe it coincidental that those are the attributes o=\r\nf a system that is easy to test.\n\n&gt;And I agree that testing is very importa=\r\nnt, which is why I would like a\n&gt;new runtime for each test method, even tho=\r\nugh that would slow down the\n&gt;execution of tests. It&#39;s just that important =\r\nto me to have a unit\n&gt;testing framework with no side-effects between test m=\r\nethods.\n\nIt would slow down the execution of tests to the point where I wou=\r\nld run them much less often, and that has disastrous consequences on my pro=\r\nject plan.\n\n\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s =\r\nwrite software that people understand.\nhttp://www.diasparsoftware.com/\ntele=\r\nphone: +1 416 791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 8358, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 8429, 
    "contentTrasformed": false, 
    "postDate": "1056138889", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 8380, 
    "headers": {
        "inReplyToHeader": "PENGRERFQjNCODcwRUUzNDZCQjU4M0QyQjA0MjBGNUFDMDEwMUU4NTlAc2VhYmFzcy50cmlwd2lyZS5jb20+", 
        "messageIdInHeader": "PDIwMDMwNjIwMTU1NDQ5MDkzOC4wMEYxQjkwMkBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PENGRERFQjNCODcwRUUzNDZCQjU4M0QyQjA0MjBGNUFDMDEwMUU4NTlAc2VhYmFzcy50cmlwd2lyZS5jb20+"
    }
}