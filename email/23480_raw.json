{
    "numMessagesInTopic": 2, 
    "nextInTime": 23481, 
    "senderId": "OYI_F1BVqAgnnYGmssJdGPvfPj4gGVIPxlroIAy7CFlKSJQ9SaE49oEjPkbu3UEgVnW5qfexUmU7CRNRkAJvPER2", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unable to test creation of XML document", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Mohan, It s been a while since I ve done much with the xerces DOM.  While there may be those here that can answer your question, you may want to also ask on a", 
    "msgId": 23480, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 61596 invoked from network); 23 Jun 2011 14:53:17 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m16.grp.re1.yahoo.com with QMQP; 23 Jun 2011 14:53:17 -0000\r\nX-Received: from unknown (HELO mail-vx0-f181.google.com) (209.85.220.181)\n  by mta1.grp.re1.yahoo.com with SMTP; 23 Jun 2011 14:53:17 -0000\r\nX-Received: by vxa40 with SMTP id 40so1496151vxa.26\n        for &lt;junit@yahoogroups.com&gt;; Thu, 23 Jun 2011 07:53:17 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.52.180.169 with SMTP id dp9mr2676254vdc.134.1308840797077;\n Thu, 23 Jun 2011 07:53:17 -0700 (PDT)\r\nX-Received: by 10.52.164.70 with HTTP; Thu, 23 Jun 2011 07:53:17 -0700 (PDT)\r\nIn-Reply-To: &lt;itsqle+ka4a@...&gt;\r\nReferences: &lt;itsqle+ka4a@...&gt;\r\nDate: Thu, 23 Jun 2011 10:53:17 -0400\r\nX-Google-Sender-Auth: CEyCWkdiIgr5ebbMlV5oeXjIecA\r\nMessage-ID: &lt;BANLkTimsgxXBXMh3Q=SOEj+z42HJQmyGNQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Unable to test creation of XML document\r\nX-Yahoo-Group-Post: member; u=341876227; y=RjudyM-9JrjqDjHRa3PXfDSPjVH36ZbKGa3AjXmvE70\r\nX-Yahoo-Profile: dsaff\r\n\r\nMohan,\n\nIt&#39;s been a while since I&#39;ve done much with the xerces DOM.  While\n=\r\nthere may be those here that can answer your question, you may want to\nalso=\r\n ask on a list more specific to xerces, since the JUnit\nenvironment seems t=\r\no be having little relevance to your results.  Good\nluck,\n\n   David Saff\n\nO=\r\nn Wed, Jun 22, 2011 at 9:28 AM, Mohan &lt;javatech@...&gt; wrote:\n&gt; I suspe=\r\nct that this could be a mistake in my code or a race condition.\n&gt;\n&gt; My test=\r\n is this. I create a org.w3c.dom.Document using my class EncryptedData\n&gt;\n&gt; =\r\n=A0 =A0@Test\n&gt; =A0 =A0public void testDocument() throws TransformerExceptio=\r\nn {\n&gt;\n&gt; =A0 =A0 =A0 =A0DocumentBuilderFactory dbf =3D DocumentBuilderFactor=\r\ny.newInstance();\n&gt; =A0 =A0 =A0 =A0try {\n&gt; =A0 =A0 =A0 =A0 =A0 =A0documentBu=\r\nilder =3D dbf.newDocumentBuilder();\n&gt; =A0 =A0 =A0 =A0 =A0 =A0Document docum=\r\nent =3D documentBuilder.newDocument();\n&gt; =A0 =A0 =A0 =A0 =A0 =A0EncryptedDa=\r\nta encryptedData =3D new EncryptedData( document );\n&gt; =A0 =A0 =A0 =A0 =A0 =\r\n=A0assertNotNull( encryptedData.getEncryptedData() );\n&gt; =A0 =A0 =A0 =A0 =A0=\r\n =A0printXML( encryptedData.getEncryptedData() );\n&gt; =A0 =A0 =A0 =A0} catch =\r\n(ParserConfigurationException e) {\n&gt; =A0 =A0 =A0 =A0}\n&gt; =A0 =A0}\n&gt;\n&gt;\n&gt; This=\r\n is EncryptedData.java.\n&gt;\n&gt;\n&gt; =A0 =A0 =A0 =A0private Element encryptedData;=\r\n\n&gt;\n&gt; =A0 =A0 =A0 =A0private =A0Document document;\n&gt;\n&gt; =A0 =A0 =A0 =A0public=\r\n EncryptedData( Document document ) {\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0this=\r\n.document =3D document;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0encryptedData =3D\n=\r\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0(Element)\n&gt; =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0document.createEleme=\r\nnt(&quot;EncryptedData&quot;);\n&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0//When I append the=\r\n child in the constructor there is no exception\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0document.appendChild( encryptedData );\n&gt;\n&gt;\n&gt; =A0 =A0 =A0 =A0}\n&gt;\n&gt; =\r\n=A0 =A0 =A0 =A0public Document getEncryptedData(){\n&gt; =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0//When I append the child in this method there is an exception\n&gt;=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0encryptedData =3D\n&gt; =A0 =A0 =A0 =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0(Element)\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0document.createElement(&quot;EncryptedData&quot;);\n&gt; =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0return document;\n&gt; =A0 =A0 =A0 =A0}\n&gt;\n&gt;\n&gt; org.w3=\r\nc.dom.DOMException: HIERARCHY_REQUEST_ERR: An attempt was made to insert a =\r\nnode where it is not permitted.\n&gt; =A0 =A0 =A0 =A0at org.apache.xerces.dom.C=\r\noreDocumentImpl.insertBefore(Unknown Source)\n&gt; =A0 =A0 =A0 =A0at org.apache=\r\n.xerces.dom.NodeImpl.appendChild(Unknown Source)\n&gt; =A0 =A0 =A0 =A0at com.fs=\r\ns.maps.security.xml.EncryptedData.getEncryptedData(EncryptedData.java:56)\n&gt;=\r\n =A0 =A0 =A0 =A0at com.fss.maps.security.test.XMLEncryptionTestCase.testDoc=\r\nument(XMLEncryptionTestCase.java:85)\n&gt; =A0 =A0 =A0 =A0at sun.reflect.Native=\r\nMethodAccessorImpl.invoke0(Native Method)\n&gt; =A0 =A0 =A0 =A0at sun.reflect.N=\r\nativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n&gt; =A0 =A0 =\r\n=A0 =A0at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodA=\r\nccessorImpl.java:25)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.model.FrameworkM=\r\nethod$1.runReflectiveCall(FrameworkMethod.java:44)\n&gt; =A0 =A0 =A0 =A0at org.=\r\njunit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java=\r\n:15)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.model.FrameworkMethod.invokeExpl=\r\nosively(FrameworkMethod.java:41)\n&gt; =A0 =A0 =A0 =A0at org.junit.internal.run=\r\nners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n&gt; =A0 =A0 =A0 =\r\n=A0at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.=\r\njava:28)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.BlockJUnit4ClassRunner.runCh=\r\nild(BlockJUnit4ClassRunner.java:76)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.B=\r\nlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n&gt; =A0 =A0 =\r\n=A0 =A0at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n&gt; =A0=\r\n =A0 =A0 =A0at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:=\r\n52)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.ParentRunner.runChildren(ParentRu=\r\nnner.java:191)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.ParentRunner.access$00=\r\n0(ParentRunner.java:42)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.ParentRunner$=\r\n2.evaluate(ParentRunner.java:184)\n&gt; =A0 =A0 =A0 =A0at org.junit.runners.Par=\r\nentRunner.run(ParentRunner.java:236)\n&gt; =A0 =A0 =A0 =A0at org.junit.runner.J=\r\nUnitCore.run(JUnitCore.java:157)\n&gt; =A0 =A0 =A0 =A0at com.intellij.junit4.JU=\r\nnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:97)\n&gt; =A0 =\r\n=A0 =A0 =A0at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAn=\r\ndStart(JUnitStarter.java:192)\n&gt; =A0 =A0 =A0 =A0at com.intellij.rt.execution=\r\n.junit.JUnitStarter.main(JUnitStarter.java:60)\n&gt; =A0 =A0 =A0 =A0at sun.refl=\r\nect.NativeMethodAccessorImpl.invoke0(Native Method)\n&gt; =A0 =A0 =A0 =A0at sun=\r\n.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n=\r\n&gt; =A0 =A0 =A0 =A0at com.intellij.rt.execution.application.AppMain.main(AppM=\r\nain.java:115)\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Gro=\r\nups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 23473, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 23479, 
    "contentTrasformed": false, 
    "postDate": "1308840797", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23473, 
    "headers": {
        "inReplyToHeader": "PGl0c3FsZStrYTRhQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEJBTkxrVGltc2d4WEJYTWgzUT1TT0VqK3o0MkhKUW15R05RQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGl0c3FsZStrYTRhQGVHcm91cHMuY29tPg=="
    }
}