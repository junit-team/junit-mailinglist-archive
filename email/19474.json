{
    "numMessagesInTopic": 13, 
    "nextInTime": 19475, 
    "senderId": "9B-Rk49C0ka_AseXmPmF9rnE9NGSIIoxRVVaPXWWBAsBbRNQKDYMfC0NS-kjgENpG9CiCAI9DGqhtlu_Qb8OdrmqFN7cce2BryzckYyG7d3rg0MX60nVfQ", 
    "systemMessage": true, 
    "subject": "Re: Filtering does not appear to work in 4.3.1", 
    "from": "&quot;Michael Schechter&quot; &lt;mlschechter@...&gt;", 
    "authorName": "Michael Schechter", 
    "msgSnippet": "David, I ve created the bug (# 1739095). Please let me know if you have any questions. Thanks! ... provided ... implementation ... allowing a ... ", 
    "msgId": 19474, 
    "profile": "mlschechter", 
    "topicId": 17338, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 278382403, 
    "messageBody": "<div id=\"ygrps-yiv-965760866\">David,<br/>\n<br/>\nI&#39;ve created the bug (# 1739095). Please let me know if you have any<br/>\nquestions.<br/>\n<br/>\nThanks!<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;David Saff&quot; &lt;saff@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Michael,<br/>\n&gt; <br/>\n&gt; I&#39;ve been meaning to look at this for a while now.  At a very cursory<br/>\n&gt; glance, it looks like it may be a bug.  Can you log it as a bug in<br/>\n&gt; SourceForge, and I&#39;ll try to take a look at it in the next few days?<br/>\n&gt; Thanks,<br/>\n&gt; <br/>\n&gt;    David Saff<br/>\n&gt; <br/>\n&gt; On 6/8/07, Michael Schechter &lt;mlschechter@...&gt; wrote:<br/>\n&gt; &gt; Does anyone have any suggestions on how to address this?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks!<br/>\n&gt; &gt;<br/>\n&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Michael Schechter&quot; &lt;mlschechter@&gt;<br/>\nwrote:<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Kent/David et. al.,<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I have been successfully using a filter implementation that I<br/>\nprovided<br/>\n&gt; &gt; &gt; with one or more method names. These methods were the only ones<br/>\n&gt; &gt; &gt; executed in the test class. Worked seamlessly with 4.1<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I just recently updated to JUnit 4.3.1, and the filter<br/>\nimplementation<br/>\n&gt; &gt; &gt; no longer seems to be applied. There is nothing I can find in the<br/>\n&gt; &gt; &gt; release notes that implies that this would have changed. The<br/>\n&gt; &gt; &gt; frustrating thing is that setting breakpoints in my filter has no<br/>\n&gt; &gt; &gt; effect - it is as if it is never being called.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I am including the filter implementation class and the invocation<br/>\n&gt; &gt; &gt; logic. Please let me know if there is something I missed here.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Thanks in advance!<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ------------------------------------------------<br/>\n&gt; &gt; &gt; import java.util.ArrayList;<br/>\n&gt; &gt; &gt; import java.util.List;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; import org.junit.runner.Description;<br/>\n&gt; &gt; &gt; import org.junit.runner.manipulation.Filter;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; /**<br/>\n&gt; &gt; &gt;  * This class provides a mechanism to filter tests by name,<br/>\nallowing a<br/>\n&gt; &gt; &gt; subset of the tests in a test<br/>\n&gt; &gt; &gt;  * class to be defined by a developer.<br/>\n&gt; &gt; &gt;  *<br/>\n&gt; &gt; &gt;  * @since 2.0<br/>\n&gt; &gt; &gt;  */<br/>\n&gt; &gt; &gt; public class MatchingFilter extends Filter {<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   /**<br/>\n&gt; &gt; &gt;    * The references to the tests that should be executed.<br/>\n&gt; &gt; &gt;    */<br/>\n&gt; &gt; &gt;   private List&lt;Description&gt; tests = new ArrayList&lt;Description&gt;();<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   /**<br/>\n&gt; &gt; &gt;    * Initializes an instance of &lt;code&gt;MatchingFilter&lt;/code&gt; with the<br/>\n&gt; &gt; &gt; data provided.<br/>\n&gt; &gt; &gt;    *<br/>\n&gt; &gt; &gt;    * @param aTestClass<br/>\n&gt; &gt; &gt;    *          the class for which tests will be executed<br/>\n&gt; &gt; &gt;    * @param someTestNames<br/>\n&gt; &gt; &gt;    *          the method names<br/>\n&gt; &gt; &gt;    */<br/>\n&gt; &gt; &gt;   public MatchingFilter(Class aTestClass, String[] someTestNames) {<br/>\n&gt; &gt; &gt;     for (String testName : someTestNames) {<br/>\n&gt; &gt; &gt;       this.tests.add(Description.createTestDescription(aTestClass,<br/>\n&gt; &gt; &gt; testName));<br/>\n&gt; &gt; &gt;     }<br/>\n&gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   /**<br/>\n&gt; &gt; &gt;    * Implemented abstract method to provide detail filtering<br/>\n&gt; &gt; &gt; mechanism. Only test methods that match<br/>\n&gt; &gt; &gt;    * the provided names will be executed.<br/>\n&gt; &gt; &gt;    *<br/>\n&gt; &gt; &gt;    * @see<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\norg.junit.runner.manipulation.Filter#shouldRun(org.junit.runner.Description)<br/>\n&gt; &gt; &gt;    */<br/>\n&gt; &gt; &gt;   @Override<br/>\n&gt; &gt; &gt;   public boolean shouldRun(Description aDescription) {<br/>\n&gt; &gt; &gt;     return this.tests.contains(aDescription);<br/>\n&gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   /**<br/>\n&gt; &gt; &gt;    * Implemented abstract method.<br/>\n&gt; &gt; &gt;    *<br/>\n&gt; &gt; &gt;    * @see org.junit.runner.manipulation.Filter#describe()<br/>\n&gt; &gt; &gt;    */<br/>\n&gt; &gt; &gt;   @Override<br/>\n&gt; &gt; &gt;   public String describe() {<br/>\n&gt; &gt; &gt;     return &quot;This filter excludes any test methods that do not<br/>\nexactly<br/>\n&gt; &gt; &gt; match the provided names&quot;;<br/>\n&gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; }<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ------------------------------------------------<br/>\n&gt; &gt; &gt;     JUnitCore core = new JUnitCore();<br/>\n&gt; &gt; &gt;     Request testRequest = Request.aClass(aTestClass);<br/>\n&gt; &gt; &gt;     if (0 &lt; someArguments.length) {<br/>\n&gt; &gt; &gt;       Filter matchFilter = new MatchingFilter(aTestClass,<br/>\n&gt; &gt; someArguments);<br/>\n&gt; &gt; &gt;       testRequest = testRequest.filterWith(matchFilter);<br/>\n&gt; &gt; &gt;     }<br/>\n&gt; &gt; &gt;     core.run(testRequest);<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ------------------------------------------------<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Michael Schechter&quot; &lt;bard@&gt; wrote:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Kent,<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; First and foremost, thanks! That example did the trick. I was<br/>\nable to<br/>\n&gt; &gt; &gt; &gt; modify it, and our team can now specify any subset of the test<br/>\nmethods<br/>\n&gt; &gt; &gt; &gt; in a given class dynamically as part of their development process.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; I would strongly recommend that this trick (and any others that<br/>\n&gt; &gt; &gt; &gt; require extension/implementation from JUnit core classes) be<br/>\nadded to<br/>\n&gt; &gt; &gt; &gt; whatever &quot;recipes&quot; get documented.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; I feel very strongly about the utility of JUnit (or any<br/>\nsimilar tool)<br/>\n&gt; &gt; &gt; &gt; in a testing-dependent development environment. The only<br/>\ndrawback I<br/>\n&gt; &gt; &gt; &gt; can see to using volunteer labor for documentation purposes is<br/>\nthat<br/>\n&gt; &gt; &gt; &gt; these volunteers would need access to the brains behind the<br/>\ncode to<br/>\n&gt; &gt; &gt; &gt; write complete Javadoc. For example, in following your<br/>\nexample, I got<br/>\n&gt; &gt; &gt; &gt; tripped up by the Request filterWith() method. So many frameworks<br/>\n&gt; &gt; &gt; &gt; today return a modified instance of the class on which you are<br/>\n&gt; &gt; &gt; &gt; operating that I was somewhat surprised that the instance on<br/>\nwhich I<br/>\n&gt; &gt; &gt; &gt; called filterWith() was not modified.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Upon reflection, your contract and implementation are perfectly<br/>\n&gt; &gt; &gt; &gt; reasonable OO - the filtered instance is what is returned, not<br/>\nwhat is<br/>\n&gt; &gt; &gt; &gt; invoked. This is the kind of fine point that would be easy to<br/>\nmiss in<br/>\n&gt; &gt; &gt; &gt; documenting this code as a volunteer. I point this out not as an<br/>\n&gt; &gt; &gt; &gt; argument against. Instead, those who volunteer must be<br/>\ncognizant of<br/>\n&gt; &gt; &gt; &gt; the fairly subtle complexities of this framework, and be<br/>\nwilling to<br/>\n&gt; &gt; &gt; &gt; ask questions when contributing.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Once again, thanks for the timely assist!<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Kent Beck&quot; &lt;kentb@&gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Michael,<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; You&#39;re right that the JUnit documentation needs to be<br/>\nimproved. As a<br/>\n&gt; &gt; &gt; &gt; &gt; volunteer project, we&#39;re open to contributions.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; The following example may serve to address the situation you<br/>\nraise:<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; public class FilterExample {<br/>\n&gt; &gt; &gt; &gt; &gt;   @Test public void runTestsInAList() {<br/>\n&gt; &gt; &gt; &gt; &gt;           final String[] tests= new String[] {&quot;a&quot;, &quot;b&quot;};<br/>\n&gt; &gt; &gt; &gt; &gt;           Filter namedTests= new Filter() {<br/>\n&gt; &gt; &gt; &gt; &gt;                   @Override<br/>\n&gt; &gt; &gt; &gt; &gt;                   public String describe() {<br/>\n&gt; &gt; &gt; &gt; &gt;                           return &quot;only tests starting with &#39;a&#39;&quot;;<br/>\n&gt; &gt; &gt; &gt; &gt;                   }<br/>\n&gt; &gt; &gt; &gt; &gt;                   @Override<br/>\n&gt; &gt; &gt; &gt; &gt;                   public boolean shouldRun(Description<br/>\ndescription) {<br/>\n&gt; &gt; &gt; &gt; &gt;                           for (String each : tests)<br/>\n&gt; &gt; &gt; &gt; &gt;                                   if<br/>\n&gt; &gt; &gt; &gt; &gt; (description.getDisplayName().startsWith(each))<br/>\n&gt; &gt; &gt; &gt; &gt;                                           return true;<br/>\n&gt; &gt; &gt; &gt; &gt;                           return false;<br/>\n&gt; &gt; &gt; &gt; &gt;                   }<br/>\n&gt; &gt; &gt; &gt; &gt;           };<br/>\n&gt; &gt; &gt; &gt; &gt;           Request request=<br/>\n&gt; &gt; &gt; &gt; &gt; Request.aClass(Tests.class).filterWith(namedTests);<br/>\n&gt; &gt; &gt; &gt; &gt;           Result result= new JUnitCore().run(request);<br/>\n&gt; &gt; &gt; &gt; &gt;           assertEquals(2, result.getRunCount());<br/>\n&gt; &gt; &gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt; &gt; &gt;   public static class Tests {<br/>\n&gt; &gt; &gt; &gt; &gt;           @Test public void a() {}<br/>\n&gt; &gt; &gt; &gt; &gt;           @Test public void b() {}<br/>\n&gt; &gt; &gt; &gt; &gt;           @Test public void c() {}<br/>\n&gt; &gt; &gt; &gt; &gt;   }<br/>\n&gt; &gt; &gt; &gt; &gt; }<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Sincerely yours,<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Kent Beck<br/>\n&gt; &gt; &gt; &gt; &gt; Three Rivers Institute<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; ________________________________<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On<br/>\n&gt; &gt; Behalf<br/>\n&gt; &gt; &gt; &gt; &gt; Of Michael Schechter<br/>\n&gt; &gt; &gt; &gt; &gt;   Sent: Monday, August 07, 2006 8:11 AM<br/>\n&gt; &gt; &gt; &gt; &gt;   To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; &gt; &gt; &gt;   Subject: [junit] How to add functionality for execution<br/>\nflexibilty?<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   I am looking to add the following functionality to my tests:<br/>\n&gt; &gt; &gt; &gt; &gt;   - When provided a list of method names on the command<br/>\nline, only<br/>\n&gt; &gt; &gt; &gt; &gt; those<br/>\n&gt; &gt; &gt; &gt; &gt;   methods in the invoked class will be executed.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   I need this implementation at the test class level. This<br/>\nwas pretty<br/>\n&gt; &gt; &gt; &gt; &gt;   straightforward with JUnit 3.8.1 - just create new<br/>\ninstances of the<br/>\n&gt; &gt; &gt; &gt; &gt;   derived TestCase with the method name as the argument, and<br/>\nadd them<br/>\n&gt; &gt; &gt; &gt; &gt; to<br/>\n&gt; &gt; &gt; &gt; &gt;   the suite.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   I am having a lot of difficulty trying to replicate this<br/>\n&gt; &gt; &gt; &gt; &gt;   functionality. The filter logic appears to be a one-shot<br/>\nexclusion<br/>\n&gt; &gt; &gt; &gt; &gt;   filter (everything not matching is dropped), and I can&#39;t<br/>\nseem to<br/>\n&gt; &gt; &gt; &gt; &gt; find<br/>\n&gt; &gt; &gt; &gt; &gt;   any documentation that would address this.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   As Mr. Rainsberger and others have suggested, I have<br/>\nsearched the<br/>\n&gt; &gt; &gt; &gt; &gt; web<br/>\n&gt; &gt; &gt; &gt; &gt;   for an appropriate tutorial. I have found a number of good<br/>\nbasic<br/>\n&gt; &gt; &gt; &gt; &gt;   tutorials (including some references in this group), and a<br/>\ncouple<br/>\n&gt; &gt; &gt; &gt; &gt; with<br/>\n&gt; &gt; &gt; &gt; &gt;   some advanced content. I cannot seem to find one with the<br/>\ndetail to<br/>\n&gt; &gt; &gt; &gt; &gt;   unlock the tools and capabilities that I am positive are<br/>\navailable<br/>\n&gt; &gt; &gt; &gt; &gt;   within the new JUnit framework.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   I am also convinced that no one is as capable as the<br/>\nauthors in<br/>\n&gt; &gt; &gt; &gt; &gt;   documenting the features of the framework, and I am having<br/>\ntrouble<br/>\n&gt; &gt; &gt; &gt; &gt;   find Javadoc for some of the classes and APIs in the JUnit 4.1<br/>\n&gt; &gt; tree.<br/>\n&gt; &gt; &gt; &gt; &gt;   There is a fairly good chance that I am looking in the<br/>\nwrong place.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   If anyone has any suggestions or guidance on these issues,<br/>\nit would<br/>\n&gt; &gt; &gt; &gt; &gt; be<br/>\n&gt; &gt; &gt; &gt; &gt;   greatly appreciated.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   Thanks in advance!<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;   Michael Schechter<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19473, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1182176372", 
    "canDelete": false, 
    "nextInTopic": 19538, 
    "prevInTopic": 19459, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwNjE0MDY0NWwyN2NhMWEyNnRkOTQ3ZTI1OWQzNGQ1MjhiQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGY1NjQ5aytzaXNvQGVHcm91cHMuY29tPg=="
    }
}