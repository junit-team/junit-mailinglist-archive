{
    "numMessagesInTopic": 4, 
    "nextInTime": 6313, 
    "senderId": "YScQlf1iGwfclW66qBYy4NlUMUAclbopFV_NLXTeQMYDc_M-oGsPCxJss9hO-K8R3B17lG569z3qiI2nRpna_81HmjmpJz6pkZHY3IZb", 
    "systemMessage": false, 
    "subject": "using inner classes to factor out common tests?", 
    "from": "Greg Wilson &lt;Greg.Wilson@...&gt;", 
    "authorName": "Greg Wilson", 
    "msgSnippet": "So, I want to test a reflexive, associative binary operator (rectangle overlap).  I know that for any two valid rectangles A and B: A * A = A A * B = R  // for", 
    "msgId": 6312, 
    "rawEmail": "Return-Path: &lt;Greg.Wilson@...&gt;\r\nReceived: (qmail 52206 invoked from network); 27 Nov 2002 14:05:22 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m7.grp.scd.yahoo.com with QMQP; 27 Nov 2002 14:05:22 -0000\r\nReceived: from unknown (HELO n4.grp.scd.yahoo.com) (66.218.66.88)\n  by mta1.grp.scd.yahoo.com with SMTP; 27 Nov 2002 14:05:22 -0000\r\nX-eGroups-Return: Greg.Wilson@...\r\nReceived: from [66.218.67.146] by n4.grp.scd.yahoo.com with NNFMP; 27 Nov 2002 14:05:22 -0000\r\nX-Sender: Greg.Wilson@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 27 Nov 2002 02:31:51 -0000\r\nReceived: (qmail 87294 invoked from network); 27 Nov 2002 02:31:50 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m13.grp.scd.yahoo.com with QMQP; 27 Nov 2002 02:31:50 -0000\r\nReceived: from unknown (HELO smtpndhm.us.baltimore.com) (206.128.28.203)\n  by mta1.grp.scd.yahoo.com with SMTP; 27 Nov 2002 02:31:50 -0000\r\nReceived: from nsamusamine01.us.baltimore.com (ussweeper1 [10.1.10.39])\n\tby smtpndhm.us.baltimore.com (8.11.2/Elvis.Lives) with ESMTP id gAR2VS308743\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 27 Nov 2002 02:31:28 GMT\r\nReceived: from nsamcanms1.ca.baltimore.com (unverified) by nsamusamine01.us.baltimore.com\n (Content Technologies SMTPRS 4.2.1) with ESMTP id &lt;T5ecea9161a0a010a270e6@...&gt; for &lt;junit@yahoogroups.com&gt;;\n Tue, 26 Nov 2002 21:28:33 -0500\r\nReceived: by nsamcanms1.ca.baltimore.com with Internet Mail Service (5.5.2653.19)\n\tid &lt;Q57P4DV1&gt;; Tue, 26 Nov 2002 21:28:41 -0500\r\nMessage-ID: &lt;930BBCA4CEBBD411BE6500508BB3328F7982B8@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: using inner classes to factor out common tests?\r\nDate: Tue, 26 Nov 2002 21:28:35 -0500\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nFrom: Greg Wilson &lt;Greg.Wilson@...&gt;\r\nX-Yahoo-Group-Post: member; u=131169521\r\nX-Yahoo-Profile: gregory_v_wilson\r\nX-eGroups-Approved-By: clarkware &lt;mike@...&gt; via web; 27 Nov 2002 14:05:19 -0000\r\n\r\nSo, I want to test a reflexive, associative binary operator (rectangle\noverlap).  I know that for any two valid rectangles A and B:\n\nA * A = A\nA * B = R  // for some overlap result R\nB * A = R  // the same R\nB * B = B\n\nMy first attempt is a class that has lots of &quot;testXYZ&quot; methods, each\nof which creates two rectangles, and their expected overlap, and does\na comparison.  The class then has a static main() that constructs and\nruns the test suite:\n\npublic class TestDirect extends junit.framework.TestCase\n{\n    public TestDirect(String name)\n    {\n        super(name);\n    }\n\n    public void testIdentical()\n    {\n        Rect left   = new Rect(0, 0, 1, 1);\n        Rect right  = new Rect(0, 0, 1, 1);\n        Rect expect = new Rect(0, 0, 1, 1);\n        assertEquals(left.overlap(right), expect);\n    }\n\n    ...etc...\n\n    public static void main(String[] args)\n    {\n\tTestSuite suite = new TestSuite();\n\tsuite.addTest(new TestDirect(&quot;testIdentical&quot;));\n\tsuite.addTest(new TestDirect(&quot;testDouble&quot;));\n\tsuite.addTest(new TestDirect(&quot;testContained&quot;));\n\tsuite.addTest(new TestDirect(&quot;testOverlap&quot;));\n\tsuite.addTest(new TestDirect(&quot;testEdge&quot;));\n\tsuite.addTest(new TestDirect(&quot;testCorner&quot;));\n\tTestRunner.run(suite);\n    }\n}\n\nMy second attempt uses jUnit&#39;s reflective capabilities to set up the\ntest suite from the class object:\n\npublic class TestReflect extends junit.framework.TestCase\n{\n    ...same tests as above...\n\n    public static void main(String[] args)\n    {\n\tTestSuite suite = new TestSuite(TestReflect.class);\n\tTestRunner.run(suite);\n    }\n}\n\nHowever, this still isn&#39;t trying all four possible tests on each\nfixture.  So, thinks I, why not derive a class TestMethods from\nTestCase, leave setUp() abstract, and implement four methods\ntestLeftLeft, testLeftRight, and so on, to test the four possible\ncases.  I will then derive concrete classes like TestUnitUnit from\nTestMethods; each derived class will override setUp() to initialize\nthis.left, this.right, and this.expected.\n\nMy first implementation looks like this:\n\npublic class TestDerive extends junit.framework.TestSuite\n{\n    public abstract class TestMethods extends junit.framework.TestCase\n    {\n        public void testLeftLeft()\n        {\n            assertEquals(this.left.overlap(this.left), this.left);\n        }\n\n        ...etc...\n\n        protected Rect left, right, expect;\n    }\n\n    public class Identical extends TestMethods\n    {\n        public Identical()\n        {}\n        public void setUp()\n        {\n            this.left   = new Rect(0, 0, 1, 1);\n            this.right  = new Rect(0, 0, 1, 1);\n            this.expect = new Rect(0, 0, 1, 1);\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        TestSuite suite = new TestSuite();\n        suite.addTestSuite(Identical.class);\n        junit.textui.TestRunner.run(suite);\n    }\n}\n\nIt compiles just fine, but fails to execute: \n\n1) warning(junit.framework.TestSuite$1)junit.framework.AssertionFailedError:\nClass TestDerive$Identical has no public constructor\n  TestCase(String name) or TestCase()\n    at TestDerive.main(TestDerive.java:36)\n\nHm... Identical certainly does have an empty constructor.  What&#39;s\ngoing on here?  Ah, inner classes: I need an instance of the outer\nclass so that I can do &quot;outer.new inner()&quot;, and the framework doesn&#39;t\nhandle that.\n\nOK, Plan B: move TestMethods and Identical out of TestDerive (but\nleave them in the same file, since I don&#39;t want to have to create a\nseparate file for each of my tests):\n\nabstract class TestMethods extends junit.framework.TestCase\n{\n    public void testLeftLeft()\n    {\n        assertEquals(this.left.overlap(this.left), this.left);\n    }\n    protected Rect left, right, expect;\n}\n\nclass Identical extends TestMethods\n{\n    public Identical()\n    {}\n    public void setUp()\n    {\n        this.left   = new Rect(0, 0, 1, 1);\n        this.right  = new Rect(0, 0, 1, 1);\n        this.expect = new Rect(0, 0, 1, 1);\n    }\n}\n\npublic class TestDerive extends junit.framework.TestSuite\n{\n    public static void main(String[] args)\n    {\n        TestSuite suite = new TestSuite();\n        suite.addTestSuite(Identical.class);\n        junit.textui.TestRunner.run(suite);\n    }\n}\n\nThis time, the framework tells me that class Identical is not public.\nFair enough; make it public --- and of course, now the compiler tells\nme that it has to be in a file of its own.\n\nHm --- what about anonymous classes?  After all, the only method each\nconcrete test class provides is setUp() --- can I use:\n\n    suite.addTestSuite(new TestMethods() {\n        public void setUp()\n        {\n            ...set up instance variables...\n        }\n    });\n\nNope --- addTestSuite only takes a class argument, not an instance.\nWhat about double dispatch?  Can I have instances of the concrete test\nclasses add themselves to the suite?  Maybe, but I can&#39;t see a way to\ndo it...\n\nSo, at this point it looks like factoring out the common code\n(i.e. the four test cases for overlap) isn&#39;t going to work with jUnit\n(although it worked just fine with PyUnit --- I built this example in\nPython first, and it ran just fine).  Suggestions?\n\nThanks,\nGreg\n\n\n-----------------------------------------------------------------------------------------------------------------\nThe information contained in this message is confidential and is intended\nfor the addressee(s) only.  If you have received this message in error or\nthere are any problems please notify the originator immediately.  The \nunauthorised use, disclosure, copying or alteration of this message is \nstrictly forbidden. Baltimore Technologies plc will not be liable for\ndirect, special, indirect or consequential damages arising from alteration of the\ncontents of this message by a third party or as a result of any virus being \npassed on.\n \nThis footnote confirms that this email message has been swept for Content Security threats, including\ncomputer viruses.\n\nhttp://www.baltimore.com\n\n \nThis footnote confirms that this email message has been swept by \nBaltimore MIMEsweeper for Content Security threats, including\ncomputer viruses.\n\n\n", 
    "profile": "gregory_v_wilson", 
    "topicId": 6312, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 131169521, 
    "prevInTime": 6311, 
    "contentTrasformed": false, 
    "postDate": "1038364115", 
    "canDelete": false, 
    "nextInTopic": 6313, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDkzMEJCQ0E0Q0VCQkQ0MTFCRTY1MDA1MDhCQjMzMjhGNzk4MkI4QG5zYW1jYW5tczEuY2EuYmFsdGltb3JlLmNvbT4="
    }
}