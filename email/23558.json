{
    "numMessagesInTopic": 5, 
    "nextInTime": 23559, 
    "senderId": "aNcr2EodzaMM0mrUTQXYwGq1W7TnH8AelpNDjICBZr4O7T23lt3qQaMtTmDYMhQQOmbtVHAzNwQnaoahIcn0j1Tt", 
    "systemMessage": false, 
    "subject": "Re: [junit] Mixing parameterized and non-parameterized tests in the same test class", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "We ve rather deliberately left Parameterized stunted.  Since you can t combine Runners, it wasn t end-user extensible in the usual ways. With the success of", 
    "msgId": 23558, 
    "profile": "dsaff", 
    "topicId": 23553, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1470051032\">We&#39;ve rather deliberately left Parameterized stunted.  Since you can&#39;t<br/>\ncombine Runners, it wasn&#39;t end-user extensible in the usual ways.<br/>\nWith the success of Rules, I hope to find a good extension hook that<br/>\nwill let us do for data-driven tests what Rules have done for fixture<br/>\npreparation, so that everyone can drive data through their tests in<br/>\ntheir own ways.<br/>\n<br/>\nUntil that happens, I think that Aviv Ben-Yosef&#39;s trick of using the<br/>\nEnclosed runner is the cleanest way to combine parameterized and<br/>\nnon-parameterized tests:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/1140074\">https://gist.github.com/1140074</a><br/>\n<br/>\n   David Saff<br/>\n<br/>\nOn Fri, Aug 12, 2011 at 7:24 AM, Joakim Ohlrogge<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; On the other hand it doesn&#39;t feel great to separate tests based on a<br/>\n&gt; technical concern of the test framework. What should I name the classes?<br/>\n&gt; XTest and XParameterizedTest? I&#39;d much rather sort my tests into logical<br/>\n&gt; groups based on some behavioural aspect if I separate them at all, If the<br/>\n&gt; grouping is according to behavioral aspects the testclasses can be named<br/>\n&gt; accordingly.<br/>\n&gt;<br/>\n&gt; I have never used ParameterizedTestCase but I half expected that the<br/>\n&gt; parameters would be passed as parameters to each test in which case it would<br/>\n&gt; be easy to separate them from non parameterized ones. I can see that the<br/>\n&gt; constructor approach has some maintanability benefits though...<br/>\n&gt;<br/>\n&gt; I&#39;m not too keen on the idea of different annotations either. I think that<br/>\n&gt; there is no uncomplicated natural way to describe how a non parameterized<br/>\n&gt; test in a parameterized testcase works.<br/>\n&gt;<br/>\n&gt; Perhaps a variant of the parameterized testrunner that passes the parameters<br/>\n&gt; as arguments to each test?<br/>\n&gt;<br/>\n&gt; /J<br/>\n&gt; -----------------------------------------------------<br/>\n&gt; Joakim Ohlrogge<br/>\n&gt; Agical AB<br/>\n&gt; Västerlånggatan 79, 2 tr<br/>\n&gt; 111 29 Stockholm, SWEDEN<br/>\n&gt;<br/>\n&gt; Mobile: +46-708-754004<br/>\n&gt; Blog: johlrogge.wordpress.com<br/>\n&gt; Twitter: @johlrogge<br/>\n&gt; E-mail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; On Fri, Aug 12, 2011 at 1:00 AM, Gerard Meszaros &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:gmkayaker@...\">gmkayaker@...</a>&gt;wrote:<br/>\n&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; On 8/11/2011 4:42 PM, Esko Luontola wrote:<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; I have a situation where I&#39;m using the Parameterized runner in a test<br/>\n&gt;&gt; &gt; class, where some of the tests are parameterized but others are not.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Here is the test class in question. The test class is checking the<br/>\n&gt;&gt; &gt; dependencies and contents of the Maven artifacts produced by the build.<br/>\n&gt;&gt; &gt; I have some special build requirements which require me to use Maven<br/>\n&gt;&gt; &gt; Shade Plugin to bundle external (and in one case also internal)<br/>\n&gt;&gt; &gt; dependencies into the same JAR, and these build tests have been<br/>\n&gt;&gt; &gt; extremely helpful (more details at the first episodes of<br/>\n&gt;&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.orfjackal.net/lets-code#jumi)\">http://www.orfjackal.net/lets-code#jumi)</a>.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/orfjackal/jumi/blob/730378ddf5260cdcb44285c5c75e7a7ca5447407/end-to-end-tests/src/test/java/fi/jumi/test/BuildTest.java\">https://github.com/orfjackal/jumi/blob/730378ddf5260cdcb44285c5c75e7a7ca5447407/end-to-end-tests/src/test/java/fi/jumi/test/BuildTest.java</a><br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; The first two tests are parameterized. They check each artifact for its<br/>\n&gt;&gt; &gt; expected dependencies and contents.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; The third test is checking one of the artifacts which was checked<br/>\n&gt;&gt; &gt; already earlier, but this time a copy the JAR which which is embedded<br/>\n&gt;&gt; &gt; inside another JAR (it&#39;s used in bootstrapping the application). Since<br/>\n&gt;&gt; &gt; this test is slow (~150ms), I want to avoid running it many times.<br/>\n&gt;&gt; &gt; Logically it&#39;s related to the things checked by the parameterized tests,<br/>\n&gt;&gt; &gt; so I want to keep it close to them, but it itself is not parameterized.<br/>\n&gt;&gt; &gt; Right now I&#39;ve solved the issue with a hack, so all but one<br/>\n&gt;&gt; &gt; parameterized execution skip the test.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; The fourth and fifth test are tests against all of the parameters. It&#39;s<br/>\n&gt;&gt; &gt; testing the test data, to make sure that some project-wide principles<br/>\n&gt;&gt; &gt; are followed (i.e. no visible dependencies to external libraries). These<br/>\n&gt;&gt; &gt; tests also are not parameterized. Fortunately they are quick, so I<br/>\n&gt;&gt; &gt; haven&#39;t tried to avoid running them many times.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; What are your suggestions for mixing parameterized and non-parameterized<br/>\n&gt;&gt; &gt; tests? Some creative use of nested classes?<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; Don&#39;t. Put them in separate classes in the same (test) package. It is<br/>\n&gt;&gt; normal to<br/>\n&gt;&gt; have one class in the system under test verified by several test classes;<br/>\n&gt;&gt; there<br/>\n&gt;&gt; is no rule that says there has to be a 1:1 correspondence.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; I&#39;ve been thinking about extending Parameterized so that I can annotate<br/>\n&gt;&gt; &gt; which methods are parameterized and which are not, by adding either<br/>\n&gt;&gt; &gt; @ParameterizedTest or @NonParameterized annotations to the test methods.<br/>\n&gt;&gt; &gt; The non-parameterized methods would be run only once, probably using the<br/>\n&gt;&gt; &gt; first element in the test data (passing null to the constructor is<br/>\n&gt;&gt; &gt; another option; now it would fail in the constructor, but I should<br/>\n&gt;&gt; &gt; anyways relocate the couple of method calls which are now in the<br/>\n&gt;&gt; &gt; constructor).<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; You are over-complicating the problem. KISS!<br/>\n&gt;&gt;<br/>\n&gt;&gt; Best wishes,<br/>\n&gt;&gt;<br/>\n&gt;&gt; Gerard<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; --<br/>\n&gt;&gt; &gt; Esko Luontola<br/>\n&gt;&gt; &gt; www.orfjackal.net<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; --<br/>\n&gt;&gt; Gerard Meszaros<br/>\n&gt;&gt; 1-403-827-2967<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; ------------------------------------<br/>\n&gt;&gt;<br/>\n&gt;&gt; Yahoo! Groups Links<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 23557, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1313157106", 
    "canDelete": false, 
    "nextInTopic": 23561, 
    "prevInTopic": 23557, 
    "headers": {
        "inReplyToHeader": "PENBTUNaLU1Tej1FVmFvOFgxMzA3NG1aWktrV0pKdjJGWVJHdStYNmhjaFNkVWtENmQxQUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQ2o4QnVOSjd1dk1hTGE5VVJOa1YxaUVmRWZ5RnZUcSswVlpOend6eEQtTFhlMEQ3Z0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDRFNDQ1QUQzLjYwODAzMDFAZ21haWwuY29tPgk8NEU0NDVFRjYuNDA4MDEwMUBnbWFpbC5jb20+CTxDQU1DWi1NU3o9RVZhbzhYMTMwNzRtWlpLa1dKSnYyRllSR3UrWDZoY2hTZFVrRDZkMUFAbWFpbC5nbWFpbC5jb20+"
    }
}