{
    "numMessagesInTopic": 6, 
    "nextInTime": 20914, 
    "senderId": "viwVOhgMUdsDQANXqs205v77zIwJfZYVgUFgAuEIyG32AWHY19ZHRudZJavhm_LMHvACRl34HktOjS4_rcjo9F1ZfHw", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit Concurrency Tests", 
    "from": "&quot;David Saff&quot; &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Functionally, there s nothing to stop a given method being run on the same object with different threads in order to root out concurrency problems.  You point", 
    "msgId": 20913, 
    "profile": "dsaff", 
    "topicId": 20846, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-60059550\">Functionally, there&#39;s nothing to stop a given method being run on the<br/>\nsame object with different threads in order to root out concurrency<br/>\nproblems.  You point out a challenge in the API.  I wonder, would a<br/>\nlibrary class work just as well?  Fluent factory methods not required,<br/>\nbut included for in-line readability:<br/>\n<br/>\n@Test public void testItConcurrently() {<br/>\n  new ConcurrentExerciser(InvocationCount.of(1000),<br/>\nThreadPool.size(5), Duration.seconds(10)) {<br/>\n    public void run() {<br/>\n      myObject.doSomethingCool();<br/>\n    }<br/>\n  }.assertAllThreadsPass();<br/>\n}<br/>\n<br/>\n   David Saff<br/>\n<br/>\nOn Mon, Sep 22, 2008 at 12:18 PM, Per Jacobsson<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:perjacobsson@...\">perjacobsson@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; I like the idea, but would that approach to multithreaded tests work for<br/>\n&gt; JUnit? The way it creates a new instance of the test class every time a test<br/>\n&gt; method is executed means that you won&#39;t have any shared state between<br/>\n&gt; threads.<br/>\n&gt; / Per<br/>\n&gt; ________________________________________<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of David Saff<br/>\n&gt; [<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:david@...\">david@...</a>]<br/>\n&gt; Sent: Friday, September 19, 2008 12:36 PM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] JUnit Concurrency Tests<br/>\n&gt;<br/>\n&gt; Anyone want to add a feature request to sourceforge? Thanks,<br/>\n&gt;<br/>\n&gt; David Saff<br/>\n&gt;<br/>\n&gt; On Thu, Sep 4, 2008 at 7:33 PM, Cédric Beust ♔<br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:cbeust@...\">cbeust@...</a>&lt;mailto:cbeust%40google.com&gt;&gt; wrote:<br/>\n&gt;&gt; On Thu, Sep 4, 2008 at 4:22 PM, Per Jacobsson<br/>\n&gt;&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:perjacobsson@...\">perjacobsson@...</a>&lt;mailto:perjacobsson%40eharmony.com&gt;&gt;<br/>\n&gt;&gt; wrote:<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; Interesting idea. It sounds like something that would be very hard to do<br/>\n&gt;&gt;&gt; from a unit testing perspective.<br/>\n&gt;&gt;<br/>\n&gt;&gt; It is very useful to put some concurrency pressure on your code. This<br/>\n&gt;&gt; doesn&#39;t guarantee that it&#39;s threadsafe but it gives you a reasonable<br/>\n&gt;&gt; idea.<br/>\n&gt;&gt;<br/>\n&gt;&gt; FYI, here is how it works in TestNG:<br/>\n&gt;&gt;<br/>\n&gt;&gt; @Test(invocationCount = 1000, threadPoolSize = 5, timeOut = 10000)<br/>\n&gt;&gt; public void f() { ... }<br/>\n&gt;&gt;<br/>\n&gt;&gt; This will invoke f() a thousand times from five different threads.<br/>\n&gt;&gt; Any invocation that doesn&#39;t return within 10 seconds will be marked as<br/>\n&gt;&gt; a failure.<br/>\n&gt;&gt;<br/>\n&gt;&gt; You can also specify timeout and thread pool size at the system level<br/>\n&gt;&gt; and TestNG will run all your tests from the thread pool you specified.<br/>\n&gt;&gt;<br/>\n&gt;&gt; --<br/>\n&gt;&gt; Cédric<br/>\n&gt;&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20912, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1222181544", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20910, 
    "headers": {
        "inReplyToHeader": "PDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYzN0I4RTg1MUBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDgwOTIzMDc1Mmo3Mjc0NTdmNnVlZjIzYjY1OTczMjc2MmVlQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGc5b2hhYytqcTA0QGVHcm91cHMuY29tPgkgPDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYzN0I5MzlEQkBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPgkgPGI4NmI2YTljMDgwOTA0MTYzM3Y0M2VkYmVhOXE4OWJhZGM5ZjJlNDQ0YjAxQG1haWwuZ21haWwuY29tPgkgPDRmN2RhNmI5MDgwOTE5MTIzNng2YzdjZTFiYm8xOTJkMjRjZDY1OTFmZTEzQG1haWwuZ21haWwuY29tPgkgPDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYzN0I4RTg1MUBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPg=="
    }
}