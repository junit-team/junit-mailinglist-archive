{
    "numMessagesInTopic": 14, 
    "nextInTime": 14535, 
    "senderId": "OJ7P5Qa4h2QqD56NDy1eOihHaCrDr_DKa2V-EGfMFEldZxRrMOu41KqpBrwmua8rWSAKZHT099lpJS7j2FGCMqL6Cjea0Or18pKzQxP2qw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unit tests design", 
    "from": "Mikhail Shnayderman &lt;mschnayd@...&gt;", 
    "authorName": "Mikhail Shnayderman", 
    "msgSnippet": "D. and David, I agree with David that incremental approach is proably the best approach for extracting commonalities into a base classes, although I am not", 
    "msgId": 14534, 
    "profile": "mschnayd", 
    "topicId": 14519, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 65933074, 
    "messageBody": "<div id=\"ygrps-yiv-1041053362\">D. and David,<br/>\n<br/>\nI agree with David that incremental approach is<br/>\nproably the best approach for extracting commonalities<br/>\ninto a base classes, although I am not sure that in<br/>\nthis case you would not be able to have a delegation<br/>\nbased approach.  <br/>\n<br/>\nIt seems to me that what you are talking about is a <br/>\nway to extract common fixture setup and teardown code<br/>\nand reuse that.  Maybe Abstract test cases is not what<br/>\nyou really need and if you are you will be able to<br/>\nrefactor to something similar to what I am outlining.<br/>\n<br/>\nHere is a solution that I would probably consider.<br/>\n<br/>\npublic interface IFixture {<br/>\n   public void setUp() {<br/>\n   }<br/>\n   public void tearDown() {<br/>\n   }<br/>\n}<br/>\n<br/>\npublic interface IBaseFixture extends IFixture {<br/>\n   public void setUp() {<br/>\n   }<br/>\n   public void tearDown() {<br/>\n   }<br/>\n}<br/>\n<br/>\npublic class FixtureForInterfaceA implements<br/>\nIBaseFixture {<br/>\n<br/>\n  // public accessors for fixture data<br/>\n  public void ... get<br/>\n  ...<br/>\n<br/>\n  public void setUp() {<br/>\n     // setup fixture data ...<br/>\n  }<br/>\n<br/>\n  public void tearDown() {<br/>\n     // tear down fixture data ...<br/>\n  }<br/>\n}<br/>\n<br/>\npublic class FixtureForInterfaceB implements<br/>\nIBaseFixture {<br/>\n<br/>\n  // public accessors for fixture data<br/>\n  public void ... get<br/>\n  ...<br/>\n<br/>\n  public void setUp() {<br/>\n     // setup fixture data ...<br/>\n  }<br/>\n<br/>\n  public void tearDown() {<br/>\n     // tear down fixture data ...<br/>\n  }<br/>\n}<br/>\n<br/>\npublic class FixtureForConcreteClassImplementingAandB<br/>\nimplements IFixture {<br/>\n   public FixtureForInterfaceA baseFixtureForA = new<br/>\nFixtureForInterfaceA();<br/>\n   public FixtureForInterfaceB baseFixtureForB = new <br/>\nFixtureForInterfaceB();<br/>\n<br/>\n   // public accessors for fixture data<br/>\n   public void ... get<br/>\n   ...<br/>\n<br/>\n   public FixtureForInterfaceA getIAFixture() {<br/>\n      return baseFixtureForA;<br/>\n   }<br/>\n<br/>\n   public FixtureForInterfaceB getIBFixture() {<br/>\n      return baseFixtureForB;<br/>\n   }<br/>\n<br/>\n   public void setUp() {<br/>\n     baseFixtureForA.setUp();<br/>\n     baseFixtureForB.setup();<br/>\n     // ... setup own fixture data<br/>\n   }<br/>\n<br/>\n   public void tearDown() {<br/>\n     // .. teardown own fixture data.<br/>\n     baseFixtureForB.tearDown();<br/>\n     baseFixtureForA.tearDown();   <br/>\n   }<br/>\n<br/>\n}<br/>\n<br/>\npublic class<br/>\nMyTestCaseForConcreteClassImplementingAandB extends<br/>\nTestCase {<br/>\n<br/>\n  FixtureForConcreteClassImplementingAandB fixture =<br/>\n      new FixtureForConcreteClassImplementingAandB();<br/>\n<br/>\n  public void setUp() {<br/>\n     fixture.setUp();<br/>\n  }<br/>\n<br/>\n  public testFoo() {<br/>\n     foo(fixture.get...);<br/>\n     ...<br/>\n     foo(fixture.getIAFixture().get...);<br/>\n  }<br/>\n<br/>\n  public void tearDown() {<br/>\n     fixture.tearDown();<br/>\n  }<br/>\n} <br/>\n<br/>\nOfcourse what I did there is a first shot.  <br/>\nIt may seem somewhat complicated but all I really did<br/>\nis encapsulated Fixture and fixture data <br/>\nand created BaseFixtures as well as ConcreteFixtures<br/>\nthat will be used in Concrete class test cases.<br/>\n<br/>\nIf you need to reuse more than just fixture code, you<br/>\ncan create a different abstraction for resuablity,<br/>\npossibly even a set of base test-cases.<br/>\n<br/>\nI know this is not truly LSP solution that you had in<br/>\nmind, but this I think does answer your &quot;requirement&quot; <br/>\nfor fixture reusablity.<br/>\n<br/>\nHope this helps, Mikhail<br/>\n<br/>\n<br/>\n<br/>\n <br/>\n<br/>\n--- David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:saff@...\">saff@...</a>&gt; wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; D,<br/>\n&gt; <br/>\n&gt; It&#39;s an interesting problem.  Have you tried going<br/>\n&gt; at it incrementally?  <br/>\n&gt; Go ahead and write the unit tests for two or three<br/>\n&gt; of your classes, <br/>\n&gt; cutting and pasting if necessary.  Then go back and<br/>\n&gt; see what you have to <br/>\n&gt; do to remove the duplication.  I often find this to<br/>\n&gt; be an effective way <br/>\n&gt; to make an abstract question concrete.<br/>\n&gt; <br/>\n&gt; If, in the midst of doing this exercise, you find<br/>\n&gt; yourself with a small, <br/>\n&gt; focused example of a place where you would be<br/>\n&gt; tempted to use multiple <br/>\n&gt; inheritance, please post it.  I&#39;m willing to bet,<br/>\n&gt; with even odds, that <br/>\n&gt; you&#39;ll quickly find other ways of gracefully doing<br/>\n&gt; what you need.  Good <br/>\n&gt; luck,<br/>\n&gt; <br/>\n&gt;     David Saff<br/>\n&gt; <br/>\n&gt; Java Questions wrote:<br/>\n&gt; <br/>\n&gt; &gt; Hi everyone,<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;m faced with a &quot;design problem&quot; and I was hoping<br/>\n&gt; that some<br/>\n&gt; &gt; experienced developer could help me figure out how<br/>\n&gt; to sort it out.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I use a lot of small interfaces in my application,<br/>\n&gt; each of which has a<br/>\n&gt; &gt; very precise purpose. Most of my &quot;concrete&quot;<br/>\n&gt; classes implement more<br/>\n&gt; &gt; than one of these interfaces.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Now, I was hoping to find a way to refactor my<br/>\n&gt; tests so that each<br/>\n&gt; &gt; interface has its own abstract TestCase. Then, if<br/>\n&gt; multiple inheritance<br/>\n&gt; &gt; was allowed in Java, I could simply implement each<br/>\n&gt; classes concrete<br/>\n&gt; &gt; classe&#39;s TestCase by inheriting from all the<br/>\n&gt; appropriate &quot;interface<br/>\n&gt; &gt; TestCases&quot;.<br/>\n&gt; &gt;<br/>\n&gt; &gt; This would allow me to inherit all the general<br/>\n&gt; purpose fixtures and<br/>\n&gt; &gt; simply add some new fixtures targeted for the<br/>\n&gt; concrete classe&#39;s<br/>\n&gt; &gt; specific behavior. In a way, I simply want to<br/>\n&gt; enforce the &quot;Liskov<br/>\n&gt; &gt; Substitution Principle&quot; as simply as possible...<br/>\n&gt; &gt;<br/>\n&gt; &gt; I know multiple inheritance isn&#39;t allowed in Java<br/>\n&gt; and should be<br/>\n&gt; &gt; avoided anyway but I&#39;d like to find a simple way<br/>\n&gt; to keep the general<br/>\n&gt; &gt; idea of &quot;interface specific super TestCases&quot; and<br/>\n&gt; apply it to classes<br/>\n&gt; &gt; implementing several of these interfaces.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Is the general idea a good one ? If it is, what is<br/>\n&gt;  the best way to <br/>\n&gt; &gt; achieve it ?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks in advance,<br/>\n&gt; &gt;<br/>\n&gt; &gt; D.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n </span></blockquote>------------------------------------------------------------------------<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; YAHOO! GROUPS LINKS<br/>\n&gt; &gt;<br/>\n&gt; &gt;     *  Visit your group &quot;junit<br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt; &gt;       on the web.<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  To unsubscribe from this group, send an<br/>\n&gt; email to:<br/>\n&gt; &gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;      <br/>\n&gt;<br/>\n </span></blockquote>&lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt;        <br/>\n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the<br/>\n&gt; Yahoo! Terms of<br/>\n&gt; &gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n </span></blockquote>------------------------------------------------------------------------<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n\t\t<br/>\n </span></blockquote>__________________________________ <br/>\nYahoo! Mail for Mobile <br/>\nTake Yahoo! Mail with you! Check email on your mobile phone. <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://mobile.yahoo.com/learn/mail\">http://mobile.yahoo.com/learn/mail</a></div>", 
    "prevInTime": 14533, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1125503006", 
    "canDelete": false, 
    "nextInTopic": 14535, 
    "prevInTopic": 14526, 
    "headers": {
        "inReplyToHeader": "PDQzMTU4Q0E1LjEwNDAyMDJAbWl0LmVkdT4=", 
        "messageIdInHeader": "PDIwMDUwODMxMTU0MzI2LjE5Mzc1LnFtYWlsQHdlYjMwODA2Lm1haWwubXVkLnlhaG9vLmNvbT4="
    }
}