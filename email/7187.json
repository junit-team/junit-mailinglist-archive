{
    "numMessagesInTopic": 22, 
    "nextInTime": 7188, 
    "senderId": "CJQuLmMl23NI6CPxP56qvlAAuwUK1lLIKF_dnQob14eNCZGb5rqiXTGHOhcwL_ONJTm80QlxDEat9uwep8ZMYp9WJFCWbxlPAwq1y6GcUg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Methods with random numbers", 
    "from": "&quot;Somik Raha&quot; &lt;somik@...&gt;", 
    "authorName": "Somik Raha", 
    "msgSnippet": "It is often useful to isolate the method that uses Math.random(), and pass the random number as a parameter. We can then test boundary conditions which often", 
    "msgId": 7187, 
    "profile": "somik", 
    "topicId": 7155, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 130833252, 
    "messageBody": "<div id=\"ygrps-yiv-805167254\">It is often useful to isolate the method that uses Math.random(), and pass<br/>\nthe random number as a parameter. We can then test boundary conditions which<br/>\noften tend to suffice.<br/>\n<br/>\ne.g. Here&#39;s a method below that shuffles a deck of cards, by picking up a<br/>\nrandom card at or after a position (i), and swaps it with the card at that<br/>\nposition (i).<br/>\n<br/>\npublic void shuffle() {<br/>\n    for (int i = 0; i &lt; cards.size() - 1; i++) {<br/>\n        int randomPosition = (int) ((cards.size() - position) *<br/>\nMath.random());<br/>\n            swapCards(i, randomPosition);<br/>\n    }<br/>\n}<br/>\n<br/>\nThis method is very hard to test - so we could refactor the formula out,<br/>\nlike so:<br/>\n<br/>\npublic void shuffle() {<br/>\n    for (int i = 0; i &lt; cards.size() - 1; i++) {<br/>\n        int randomPosition =<br/>\n            getRandomPositionInDeckAtOrAfter(i, Math.random());<br/>\n         swapCards(i, randomPosition);<br/>\n    }<br/>\n}<br/>\n<br/>\npublic int getRandomPositionInDeckAtOrAfter(int position, double<br/>\nrandomNumber) {<br/>\n    return (int) ((cards.size() - position) * randomNumber);<br/>\n}<br/>\n<br/>\nIt is now possible for us to test the latter method with boundary<br/>\nconditions - represented by the two extremes that can be generated by<br/>\nMath.random() - 0 and 0.99.<br/>\n<br/>\nFor the shuffle() method itself, a simple test that verifies that the new<br/>\norder of cards differs from the original order was sufficient.<br/>\n<br/>\nRegards,<br/>\nSomik<br/>\n********************************************<br/>\n  Somik Raha<br/>\n  Extreme Programmer and Coach<br/>\n  Industrial Logic, Inc.<br/>\n  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:somik@...\">somik@...</a><br/>\n  <a rel=\"nofollow\" target=\"_blank\" href=\"http://industriallogic.com\">http://industriallogic.com</a><br/>\n  Voice : 510-540-8336<br/>\n  Toll-free : 866-540-8336<br/>\n  Fax   : 510-540-8936<br/>\n********************************************<br/>\nGeneral agreement about an assumption is no guarantee that it is correct.<br/>\nIt is historical continuity that maintains most assumptions - not a repeated<br/>\nassessment of their validity.<br/>\n<br/>\n--- Edward De Bono in Lateral Thinking, Chapter 8, Challenging Assumptions</div>", 
    "prevInTime": 7186, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1047404823", 
    "canDelete": false, 
    "nextInTopic": 7192, 
    "prevInTopic": 7185, 
    "headers": {
        "messageIdInHeader": "PDAwMGEwMWMyZTdmNiQzOWZmNTEwMCQwNTAwYThjMEBMT1U+", 
        "referencesHeader": "PGI0a251bStpMmg5QGVHcm91cHMuY29tPg=="
    }
}