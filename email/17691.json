{
    "numMessagesInTopic": 287, 
    "nextInTime": 17692, 
    "senderId": "2jwl8fa5Y4QQCCnivO2wPPpGX3PgHlGrzWQG6M367UDWGjEnm-yHK2VT1Qnt6PKvucnpT2h0pExF6IzBvbKSMhHWG2VXbGLKeOuTqdBGng", 
    "systemMessage": false, 
    "subject": "Re: [junit] Test-friendly, but not caller-friendly?", 
    "from": "Elliotte Harold &lt;elharo@...&gt;", 
    "authorName": "Elliotte Harold", 
    "msgSnippet": "... I don t want the tests to be independent of the libraries they depend on. I want them to depend on exactly what the code depends on: no more; no less. That", 
    "msgId": 17691, 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 12653864, 
    "messageBody": "<div id=\"ygrps-yiv-1840730549\">Michael Feathers wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;<br/>\n&gt; Nope.  We wrapped it.  Yes, we had system tests, but in order to test <br/>\n&gt; our logic independently, we pretty much had to wrap it.<br/>\n<br/>\n </span></blockquote>I don&#39;t want the tests to be independent of the libraries they depend <br/>\non. I want them to depend on exactly what the code depends on: no more; <br/>\nno less. That way you find bugs in the boundaries between model classes <br/>\nand libraries as well as in the model classes and libraries themselves.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt; Now if the library had a legitimate need to create documents in memory <br/>\n&gt;&gt; for reasons other than testing, then I would add such functions. However <br/>\n&gt;&gt; I wouldn&#39;t do it just for testing.<br/>\n&gt;&gt;  <br/>\n&gt;&gt;<br/>\n&gt; The fact is, testing is a legitmate need.  Designing for testability is <br/>\n&gt; simply good engineering.<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>The tail is wagging the dog. Testing is done to support the project. It <br/>\nis not the project, and it should not control the project. I am willing <br/>\nto consider that a library might need to adjust itself to enable client <br/>\napplications to test *themselves* (Testing the library is the library <br/>\nvendor&#39;s responsibility) but I still haven&#39;t seen a detailed, worked out <br/>\nexample demonstrating how a library might prevent client applications <br/>\nfrom testing themselves. Pithy sayings are well and good; but they need <br/>\nto be backed up by case studies with enough detail to allow them to be <br/>\nindependently verified.<br/>\n<br/>\nI&#39;ll keep an eye out for such a case in the future, but I don;t recall <br/>\never noticing one. I do recall numerous examples where I had trouble <br/>\ntesting code that wasn&#39;t intended to be used as a library in the first <br/>\nplace. However in all cases I can think of the problems that prevented <br/>\ntesting also prevented library usage. The problems were in no way unique <br/>\nto testability, nor did you have to resort to testability to justify <br/>\nfixing the problems,<br/>\n<br/>\n-- <br/>\nï»¿Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\nJava I/O 2nd Edition Just Published!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeaulait.org/books/javaio2/\">http://www.cafeaulait.org/books/javaio2/</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/\">http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/</a></div>", 
    "prevInTime": 17690, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1156863975", 
    "canDelete": false, 
    "nextInTopic": 17692, 
    "prevInTopic": 17690, 
    "headers": {
        "inReplyToHeader": "PDQ0RjQzQjMzLjgwMjA0MDNAbWluZHNwcmluZy5jb20+", 
        "messageIdInHeader": "PDQ0RjQ1N0U3LjcwNjA4MDdAbWV0YWxhYi51bmMuZWR1Pg==", 
        "referencesHeader": "PDNGQjA4RDZBMjFCM0VDNEQ4NzQ5RUY2RDlFNjI2Mjc4NTZGN0VGQFdEQ0NQTUFJTDAxLm1hcmtldHRvb2xzLmNvbT4gPDQ0RTMzMkM0LjMwOTAzMDVAbWV0YWxhYi51bmMuZWR1PiA8NDRFNDQ0QUQuNDAxMDcwMEBtaW5kc3ByaW5nLmNvbT4gPDQ0RjM0NzVELjMwMTA5MDdAbWV0YWxhYi51bmMuZWR1PiA8NDRGNDMxMTUuMzA3MDkwMEBtaW5kc3ByaW5nLmNvbT4gPDQ0RjQzN0YyLjQwODA2MDVAbWV0YWxhYi51bmMuZWR1PiA8NDRGNDNCMzMuODAyMDQwM0BtaW5kc3ByaW5nLmNvbT4="
    }
}