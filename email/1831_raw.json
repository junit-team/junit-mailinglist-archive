{
    "topicId": 1830, 
    "postDate": "994713798", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "rainsber@...", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "VyBQQwxI_e8xR7H9PXV3eZ3DCt3tIVpo2tYMg08zAEfkSCWYeE2oHAyyyigZHgXN6FLF5h_KScmlUA", 
    "nextInTime": 1832, 
    "userId": 0, 
    "prevInTime": 1830, 
    "prevInTopic": 1830, 
    "headers": {
        "messageIdInHeader": "PE9GM0I0NTFBRTMuNkJBNzFCNTktT044NTI1NkE4NC4wMDc1MEM5RUB0b3JvbGFiLmlibS5jb20+"
    }, 
    "authorName": "rainsber@ca.ibm.com", 
    "numMessagesInTopic": 6, 
    "msgSnippet": "Hm. A silly refactoring, but it d work. public class Exiter { // singleton. Define getInstance() : Exiter. public void exit(int code) { System.exit(code); } } ", 
    "contentTrasformed": false, 
    "msgId": 1831, 
    "nextInTopic": 1832, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;rainsber@...&gt;\r\nX-Sender: rainsber@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 9 Jul 2001 21:23:56 -0000\r\nReceived: (qmail 71990 invoked from network); 9 Jul 2001 21:23:27 -0000\r\nReceived: from unknown (10.1.10.142) by l8.egroups.com with QMQP; 9 Jul 2001 21:23:27 -0000\r\nReceived: from unknown (HELO e31.bld.us.ibm.com) (32.97.110.129) by mta3 with SMTP; 9 Jul 2001 21:23:27 -0000\r\nReceived: from westrelay02.boulder.ibm.com (westrelay02.boulder.ibm.com [9.99.140.23]) by e31.bld.us.ibm.com (8.9.3/8.9.3) with ESMTP id RAA24960 for &lt;junit@yahoogroups.com&gt;; Mon, 9 Jul 2001 17:15:28 -0400\r\nReceived: from d25ml02.torolab.ibm.com (d25ml02.torolab.ibm.com [9.26.6.103]) by westrelay02.boulder.ibm.com (8.11.1m3/NCO v4.96.1.0) with ESMTP id f69LNPf233066 for &lt;junit@yahoogroups.com&gt;; Mon, 9 Jul 2001 15:23:25 -0600\r\nImportance: Normal\r\nSubject: Re: [junit] System.exit\r\nTo: junit@yahoogroups.com\r\nX-Mailer: Lotus Notes Release 5.0.3 (Intl) 21 March 2000\r\nMessage-ID: &lt;OF3B451AE3.6BA71B59-ON85256A84.00750C9E@...&gt;\r\nDate: Mon, 9 Jul 2001 17:23:18 -0400\r\nX-MIMETrack: Serialize by Router on D25ML02/25/M/IBM(Release 5.0.5 |September 22, 2000) at 07/09/2001 05:23:25 PM\r\nMIME-Version: 1.0\r\nContent-type: text/plain; charset=iso-8859-1\r\nContent-transfer-encoding: quoted-printable\r\nFrom: rainsber@...\r\n\r\nHm. A silly refactoring, but it&#39;d work.\n\npublic class Exiter {\n    // singl=\r\neton. Define getInstance() : Exiter.\n    public void exit(int code) {\n     =\r\n   System.exit(code);\n    }\n}\n\npublic class MyClass {\n    private Exiter ex=\r\niter;\n    // Add &quot;Exiter&quot; parameter to constructor.\n    public MyClass(Exit=\r\ner anExiter, ...) {\n        exiter =3D anExiter;\n        ...\n    }\n    ...\n=\r\n    public void exitingMethod() {\n        ...\n        exiter.exit(0);    //=\r\n Instead of System.exit(0)\n        ...\n    }\n}\n\nNow the production code pas=\r\nses the real Exiter into MyClass, but the test\ncode passes in a MockExiter =\r\nthat simply indicates whether exit() was\ncalled.\n\npublic class MockExiter e=\r\nxtends Exiter {\n    int exitCode;\n    public void exit(int code) {\n        =\r\nexitCode =3D code;\n    }\n    public boolean verify(int expectedExitCode) {\n=\r\n        return (exitCode =3D=3D expectedExitCode);\n    }\n}\n\nNow your test:\n=\r\n\npublic void testMyClass() {\n    MockExiter mockExiter =3D new MockExiter()=\r\n;\n    MyClass myClass =3D new MyClass(mockExiter);\n    myClass.exitingMetho=\r\nd();\n    assertTrue(mockExiter.verify(0));\n}\n\nNot knowing anything else abo=\r\nut your situation, this looks like an OK\nstrategy.\n\nJ. B. Rainsberger  &lt;rai=\r\nnsber@...&gt;\nCommerce Suite Accelerator: Rule Services, IBM Toronto La=\r\nb\n8200 Warden Av, Office A3-735 [A3/FNB/8200/MKM]\nMarkham ON   L6G 1C7\n905 =\r\n413-2501 (969-2501)\n\n\nMike L=E9pine &lt;mike.lepine@...&gt; on 07/09/2001 1=\r\n7:17:50\n\nPlease respond to junit@yahoogroups.com\n\nTo:   &quot;Junit&quot; &lt;junit@yaho=\r\nogroups.com&gt;\ncc:\nSubject:  [junit] System.exit\n\n\n\nI&#39;ve come across a method=\r\n that I would like to write a test for but it\ncalls\nSystem.exit within its =\r\ndefinition. Is there any way that a test can be\nwritten for this situation?=\r\n\n\n- Mike\n\n\nTo unsubscribe from this group, send an email to:\njunit-unsubscr=\r\nibe@yahoogroups.com\n\n\nYour use of Yahoo! Groups is subject to http://docs.y=\r\nahoo.com/info/terms/\n\n\n\n\n\n", 
    "subject": "Re: [junit] System.exit"
}