{
    "numMessagesInTopic": 7, 
    "nextInTime": 20783, 
    "senderId": "8gQW4hZWRpSIrwCCmfmdwxCaP2yyTTDa8iagOCf037gqJHSW-uL8ID2d4f9qeUrZ3a5u48_O9-7lT5jCTdXFvrWa6xST", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing on AWT thread", 
    "from": "Alex Ruiz &lt;alruiz15@...&gt;", 
    "authorName": "Alex Ruiz", 
    "msgSnippet": "Good point! I agree. :) But I still think using a mechanism similar to GuiTask ( invokeAndWait ) is good enough for what we usually do in a test involving a", 
    "msgId": 20782, 
    "profile": "alruiz15", 
    "topicId": 20775, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 86840443, 
    "messageBody": "<div id=\"ygrps-yiv-320906522\">Good point! I agree. :)<br/>\n<br/>\nBut I still think using a mechanism similar to GuiTask<br/>\n(&#39;invokeAndWait&#39;) is good enough for what we usually<br/>\ndo in a test involving a GUI, that is reading<br/>\nproperties from a GUI component to verify that their<br/>\nvalues are correct (like the &#39;getRowCount&#39; example in<br/>\nthis thread). I haven&#39;t seen anything more complicated<br/>\nin a test so far.<br/>\n<br/>\n-Alex<br/>\n<br/>\n--- Nat Pryce &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:nat.pryce@...\">nat.pryce@...</a>&gt; wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; 2008/8/8 Alex Ruiz &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:alruiz15@...\">alruiz15@...</a>&gt;:<br/>\n&gt; &gt; ...note that GuiTask<br/>\n&gt; &gt; uses invokeAndWait instead of invokeLater. IMHO,<br/>\n&gt; most<br/>\n&gt; &gt; of the time in your test you need to wait for an<br/>\n&gt; &gt; action to be executed in the EDT before you can<br/>\n&gt; &gt; continue the execution of your test.<br/>\n&gt; <br/>\n&gt; Note, however, that in many cases merely using<br/>\n&gt; invokeAndWait is not<br/>\n&gt; enough because calling a Swing component can add<br/>\n&gt; other events to the<br/>\n&gt; queue.  So, although invokeAndWait will block until<br/>\n&gt; the initial method<br/>\n&gt; call is complete, the other events will not have<br/>\n&gt; been processed by the<br/>\n&gt; time invokeAndWait returns, and the entire behaviour<br/>\n&gt; being tested will<br/>\n&gt; not yet have been completed.  This can make the test<br/>\n&gt; go out of synch<br/>\n&gt; with the Swing code: the test will fail may fail<br/>\n&gt; intermittently or<br/>\n&gt; succeed when it should fail.<br/>\n&gt; <br/>\n&gt; To unit test an object that calls invokeLater, I&#39;ve<br/>\n&gt; found it easiest<br/>\n&gt; to separate the threading concerns from the logic I<br/>\n&gt; want to test.<br/>\n&gt; I&#39;ve implemented a java.util.Executor that delegates<br/>\n&gt; to the Swing<br/>\n&gt; invokeLater method. I then pass that Executor it to<br/>\n&gt; any object that<br/>\n&gt; needs to call invokeLater and removed all direct<br/>\n&gt; calls to invokeLater.<br/>\n&gt;  I can then easily unit test the behaviour of those<br/>\n&gt; objects with a<br/>\n&gt; mock Executor or with a deterministic executor that<br/>\n&gt; captures tasks and<br/>\n&gt; runs them on the test thread.<br/>\n&gt; <br/>\n&gt; JMock  2.5.0 provides a DeterministicExecutor in the<br/>\n&gt; org.jmock.lib.concurrent package.<br/>\n&gt; <br/>\n&gt; A more detailed description of this technique is at<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jmock.org/threads.html\">http://www.jmock.org/threads.html</a><br/>\n&gt; <br/>\n&gt; --Nat<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20781, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1218215088", 
    "canDelete": false, 
    "nextInTopic": 20783, 
    "prevInTopic": 20780, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwODA4MDgwMjI4bzU2MDRkODM4bjJjYjk1MTlmYjg1ZTYwNmVAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDcxMjg3MC45MjMxMS5xbUB3ZWI4MjkwNC5tYWlsLm11ZC55YWhvby5jb20+"
    }
}