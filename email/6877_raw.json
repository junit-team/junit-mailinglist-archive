{
    "numMessagesInTopic": 7, 
    "nextInTime": 6878, 
    "senderId": "n_Kob7RZ4TEOCAQXo2E149VrhjX2RTlMy4C2ecKrVQ9Yg3xtxE0gZ_9-q-jaIO7tyl048GFxk7m6Wp7LdMHgBlX8aFj4UPWqfiYedAhHQNn6tUHH", 
    "systemMessage": false, 
    "subject": "RE: [junit] Dynamically generating test methods?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "One method or thread is trying to change a collection while another method or thread is trying to iterate over it. That s my guess. So said  David Goudreau  on", 
    "msgId": 6877, 
    "rawEmail": "Return-Path: &lt;jbr@...&gt;\r\nX-Sender: jbr@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_4); 5 Feb 2003 04:43:12 -0000\r\nReceived: (qmail 58824 invoked from network); 5 Feb 2003 04:43:12 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m12.grp.scd.yahoo.com with QMQP; 5 Feb 2003 04:43:12 -0000\r\nReceived: from unknown (HELO fep04-mail.bloor.is.net.cable.rogers.com) (66.185.86.74)\n  by mta3.grp.scd.yahoo.com with SMTP; 5 Feb 2003 04:43:12 -0000\r\nReceived: from quincy ([129.37.159.107])\n          by fep04-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.06 201-253-122-126-106-20020509) with ESMTP\n          id &lt;20030205044306.HCU120822.fep04-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Tue, 4 Feb 2003 23:43:06 -0500\r\nMessage-ID: &lt;200302042343060930.0260BA1D@...&gt;\r\nIn-Reply-To: &lt;0D744775858AD411AF5400508BAF31EA0727A3AD@...&gt;\r\nReferences: &lt;0D744775858AD411AF5400508BAF31EA0727A3AD@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Tue, 04 Feb 2003 23:43:06 -0500\r\nTo: junit@yahoogroups.com\r\nSubject: RE: [junit] Dynamically generating test methods?\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep04-mail.bloor.is.net.cable.rogers.com from [129.37.159.107] using ID &lt;srainsberger5790@...&gt; at Tue, 4 Feb 2003 23:43:05 -0500\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=89240252\r\nX-Yahoo-Profile: nails762\r\n\r\nOne method or thread is trying to change a collection while another\nmethod or thread is trying to iterate over it. That&#39;s my guess.\n\nSo said  David Goudreau  on  2003-02-04 --------------------\n\n&gt;Ok, I&#39;ve tried your approach.  Now I&#39;m getting a\n&gt;ConcurrentModificationException when I run my test.\n&gt;\n&gt;My suite() method is as follows:\n&gt;\n&gt;    public static Test suite() {\n&gt;        String request = null;\n&gt;        String control = null;\n&gt;        org.jdom.Element file = null;\n&gt;        String expr = null;\n&gt;        Iterator xpaths = null;\n&gt;        Vector nodelistExpressions = new Vector();\n&gt;        Vector valueExpressions = new Vector();\n&gt;\n&gt;        TestSuite suite = new TestSuite();\n&gt;        readTestScript();\n&gt;        while (files.hasNext()) {\n&gt;            file = (org.jdom.Element) files.next();\n&gt;            request = loadRequestFile(file);\n&gt;            control = loadControlFile(file);\n&gt;\n&gt;            xpaths = file.getChildren().iterator();\n&gt;            while (xpaths.hasNext()) {\n&gt;\t\t // build 2 vectors depending on the xpath expression\n&gt;            }\n&gt;            suite.addTest(new\n&gt;TestXmlBatchMaintenance(&quot;testXpathXmlSubmission&quot;,\n&gt;                                                      request,\n&gt;                                                      control,\n&gt;                                                      requestHandler,\n&gt; \n&gt;nodelistExpressions.iterator(),\n&gt; \n&gt;valueExpressions.iterator()));\n&gt;\n&gt;        }\n&gt;        return suite;\n&gt;\n&gt;The &quot;testXpathXmlSubmission&quot; is the name of the method in the TestCase\nthat\n&gt;actually runs the test.  It looks like this:\n&gt;\n&gt;    public void testXpathXmlSubmission() {\n&gt;        String result = null;\n&gt;        String expr = null;\n&gt;        try {\n&gt;            //Submit request file to application\n&gt;            result = submitQxml(request);\n&gt;\n&gt;            while (nodelistExpressions.hasNext()) {\n&gt;                expr = (String) nodelistExpressions.next();\n&gt;//ConcurrentModificationException pops up here\n&gt;                assertXpathsEqual(expr, control, expr, result);\n&gt;            }\n&gt;            while (valueExpressions.hasNext()) {\n&gt;                expr = (String) valueExpressions.next();\n&gt;                assertXpathValuesEqual(expr, control, expr, result);\n&gt;            }\n&gt;        } catch (Exception e) {\n&gt;            e.printStackTrace();\n&gt;        }\n&gt;    }\n&gt;\n&gt;Thanks for the help!\n&gt;\n&gt;\n&gt;-dmg\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;-----Original Message-----\n&gt;From: J. B. Rainsberger [mailto:jbr@...]\n&gt;Sent: Tuesday, February 04, 2003 3:27 PM\n&gt;To: junit@yahoogroups.com\n&gt;Subject: Re: [junit] Dynamically generating test methods?\n&gt;\n&gt;\n&gt;The JUnit framework is not treating your tests as a single test; you\n&gt;are. :) Just code your TestSuite to add a TestCase instance for each\n&gt;&lt;file&gt; element.\n&gt;\n&gt;suite() {\n&gt;    suite = new TestSuite();\n&gt;    dom = makeDomFrom(&quot;xml_testing.xml&quot;);\n&gt;    fileNodes = dom.getNodeList(... &quot;/file&quot;);\n&gt;    for each node in fileNodes {\n&gt;        suite.addTest(new MyTestCase(new File(node.getFileName()),\n&gt;node.getExpectedXpathExpressions()))\n&gt;    }\n&gt;    return suite;\n&gt;}\n&gt;\n&gt;Add constructor:\n&gt;\n&gt;TestCase(file, xpathExpressions) {\n&gt;    super(file.getName());\n&gt;    set expected xpath expressions\n&gt;}\n&gt;\n&gt;That ought to do it.\n&gt;\n&gt;Remember folks: you can add constructors! :)\n&gt;\n&gt;Good luck.\n&gt;\n&gt;\n&gt;So said  David Goudreau  on  2003-02-04 --------------------\n&gt;\n&gt;&gt;I&#39;m creating a framework to test XML responses to our system.  Right\n&gt;now I\n&gt;&gt;have a properties file that contains 1) every file request I want to\n&gt;send\n&gt;&gt;to\n&gt;&gt;our system and 2) the xpath expressions I want to run on the XML\n&gt;response,\n&gt;&gt;to make sure it&#39;s correct.  The properties file looks like this:\n&gt;&gt;\n&gt;&gt;&lt;xml_testing controldir=&quot;controlxml&quot; requestdir=&quot;requestxml&quot;&gt;\n&gt;&gt;   &lt;file name=&quot;test1.xml&quot;&gt;\n&gt;&gt;      &lt;xpath expression=&quot;//FUNCTION/RESPONSE_DATA&quot;/&gt;\n&gt;&gt;      &lt;xpath expression=&quot;//USER&quot;/&gt;\n&gt;&gt;   &lt;/file&gt;\n&gt;&gt;   &lt;file name=&quot;test2.xml&quot;&gt;\n&gt;&gt;      &lt;xpath expression=&quot;//HEADER/IP_ADDRESS&quot;/&gt;\n&gt;&gt;   &lt;/file&gt;\n&gt;&gt;   &lt;file name=&quot;test3.xml&quot;&gt;\n&gt;&gt;      &lt;xpath expression=&quot;//USER/NAME&quot;/&gt;\n&gt;&gt;      &lt;xpath expression=&quot;//USER/ADDRESS&quot;/&gt;\n&gt;&gt;   &lt;/file&gt;\n&gt;&gt;&lt;/xml_testing&gt;\n&gt;&gt;\n&gt;&gt;The problem I&#39;m having is that I want each &lt;file&gt; to run as a\nseparate\n&gt;test\n&gt;&gt;in the JUnit framework.  Right now, even if I have 100 files that I\n&gt;want to\n&gt;&gt;test in my properties file, the JUnit framework treats it all as one\n&gt;test.\n&gt;&gt;I don&#39;t want test #4 to fail and then prevent the other 96 tests from\n&gt;&gt;running, which is what&#39;s happening now.  Any ideas?  Thanks.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;=======================\n&gt;&gt;David Goudreau\n&gt;&gt;Senior QA Automation Engineer\n&gt;&gt;QRS Corporation\n&gt;&gt;1400 Marina Way South\n&gt;&gt;Richmond, CA 94804 USA\n&gt;&gt;t: 510-965-4742\n&gt;&gt;f: 510-621-4742\n&gt;&gt;DGoudreau@...\n&gt;&gt;http://www.qrs.com\n&gt;&gt;=======================\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;------------------------ Yahoo! Groups Sponsor\n&gt;---------------------~--&gt;\n&gt;&gt;Get 128 Bit SSL Encryption!\n&gt;&gt;http://us.click.yahoo.com/LIgTpC/vN2EAA/xGHJAA/5cFolB/TM\n&gt;&gt;---------------------------------------------------------------------~\n-\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;To unsubscribe from this group, send an email to:\n&gt;&gt;junit-unsubscribe@yahoogroups.com\n&gt;&gt; \n&gt;&gt;\n&gt;&gt;Your use of Yahoo! Groups is subject to\n&gt;http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;J. B. Rainsberger,\n&gt;President, Diaspar Software Services\n&gt;Let&#39;s write software that people understand.\n&gt;http://www.diasparsoftware.com/\n&gt;telephone: +1 416 791-8603\n&gt;All correspondence (c) 2002 Diaspar Software Services.\n&gt;If you want to use it, just ask; don&#39;t steal.\n&gt;\n&gt;\n&gt;To unsubscribe from this group, send an email to:\n&gt;junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt;Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. \n&gt;\n&gt;\n&gt;------------------------ Yahoo! Groups Sponsor\n---------------------~--&gt;\n&gt;Get 128 Bit SSL Encryption!\n&gt;http://us.click.yahoo.com/LIgTpC/vN2EAA/xGHJAA/5cFolB/TM\n&gt;---------------------------------------------------------------------~-\n&gt;\n&gt;\n&gt;To unsubscribe from this group, send an email to:\n&gt;junit-unsubscribe@yahoogroups.com\n&gt; \n&gt;\n&gt;Your use of Yahoo! Groups is subject to\nhttp://docs.yahoo.com/info/terms/\n\n\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s write software that people understand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416 791-8603\nAll correspondence (c) 2002 Diaspar Software Services.\nIf you want to use it, just ask; don&#39;t steal.\n\n\n", 
    "profile": "nails762", 
    "topicId": 6867, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "prevInTime": 6876, 
    "contentTrasformed": false, 
    "postDate": "1044420186", 
    "canDelete": false, 
    "nextInTopic": 6878, 
    "prevInTopic": 6876, 
    "headers": {
        "inReplyToHeader": "PDBENzQ0Nzc1ODU4QUQ0MTFBRjU0MDA1MDhCQUYzMUVBMDcyN0EzQURAZXhjaGFuZ2UyLnFycy5jb20+", 
        "messageIdInHeader": "PDIwMDMwMjA0MjM0MzA2MDkzMC4wMjYwQkExREBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDBENzQ0Nzc1ODU4QUQ0MTFBRjU0MDA1MDhCQUYzMUVBMDcyN0EzQURAZXhjaGFuZ2UyLnFycy5jb20+"
    }
}