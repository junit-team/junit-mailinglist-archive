{
    "topicId": 2042, 
    "postDate": "995729953", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Frank Enos &lt;fenos@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "VohbO2fRLezz6fWGrL69920TcDlbtsO8lQi4UgxG-C5UipYp1Jtaowm4veQ_0bbA2iqQzHfxQQ_29dptYNRX9xw", 
    "nextInTime": 2043, 
    "userId": 0, 
    "prevInTime": 2041, 
    "prevInTopic": 0, 
    "headers": {
        "inReplyToHeader": "PDk5NTcxMDU2My41MTguMjg5NTIubDEwQHlhaG9vZ3JvdXBzLmNvbT4=", 
        "messageIdInHeader": "PDUuMS4wLjE0LjAuMjAwMTA3MjExMTIxMjYuMDBhZTI1YThAbWFpbC5tbmguY29tPg=="
    }, 
    "authorName": "Frank Enos", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "Hi Jason. Thanks for responding. It s definitely not reaching the catch block. The assertions aren t being checked, and even adding a System.out.println( help", 
    "contentTrasformed": false, 
    "msgId": 2042, 
    "nextInTopic": 2044, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;fenos@...&gt;\r\nX-Sender: fenos@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 21 Jul 2001 15:38:23 -0000\r\nReceived: (qmail 80552 invoked from network); 21 Jul 2001 15:38:22 -0000\r\nReceived: from unknown (10.1.10.142) by l9.egroups.com with QMQP; 21 Jul 2001 15:38:22 -0000\r\nReceived: from unknown (HELO nyc.rr.com) (24.29.99.80) by mta3 with SMTP; 21 Jul 2001 15:38:21 -0000\r\nReceived: from ENOS_WIN2K.mnh.com ([66.108.37.25]) by nyc.rr.com  with Microsoft SMTPSVC(5.5.1877.357.35); Sat, 21 Jul 2001 11:38:20 -0400\r\nMessage-Id: &lt;5.1.0.14.0.20010721112126.00ae25a8@...&gt;\r\nX-Sender: fenos@...\r\nX-Mailer: QUALCOMM Windows Eudora Version 5.1\r\nDate: Sat, 21 Jul 2001 11:39:13 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: Re: Junit manipulating exceptions\r\nIn-Reply-To: &lt;995710563.518.28952.l10@yahoogroups.com&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed\r\nReturn-Path: fenos@...\r\nFrom: Frank Enos &lt;fenos@...&gt;\r\n\r\nHi Jason. Thanks for responding.\n\nIt&#39;s definitely not reaching the catch block. The assertions aren&#39;t being \nchecked, and even adding a System.out.println(&quot;help me&quot;) or what have you, \nor a System.exit(); to the catch block has no effect. For some reason the \ncatch block is not catching the SQLException, even though if I catch the \nsuperclass Exception (as in my example testBadWrite2()), e.getClass() \nreturns the expected java.sql.SQLException. One of my initial thoughts was \nthat perhaps the Exception was being held somewhere in a Collection when \nthe test methods are executed (there&#39;s a lot of reflection going on, and \nI&#39;m not sure I know exactly what&#39;s happening) and implicitly upcast to \nException, but the attempt to cast the caught Exception to SQLException \nthrows a ClassCastException. I&#39;m mystified.\n\nBTW, toString(), when called on a subclass of Throwable returns the \nconcatenation of : the full name of the class, &quot;: &quot;, and the result of \ngetMessage(). If the Throwable was created without a message, it simply \nreturns  the name of the class.\n\nTake care.\nFrank\n&gt;________________________________________________________________________\n&gt;\n&gt;Message: 9\n&gt;    Date: Fri, 20 Jul 2001 16:24:45 -0400\n&gt;    From: &quot;Jason Rogers&quot; &lt;jason.rogers@...&gt;\n&gt;Subject: RE: Junit manipulating exceptions?\n&gt;\n&gt;Frank,\n&gt;\n&gt;Are you sure that it isn&#39;t getting into the catch block?  Also, I didn&#39;t\n&gt;know that e.toString() returned the same thing as e.getMessage().  Is that\n&gt;so?\n&gt;\n&gt;-Jason\n&gt;\n&gt;     &gt; -----Original Message-----\n&gt;     &gt; From: Frank Enos [mailto:fenos@...]\n&gt;     &gt; Sent: Friday, July 20, 2001 3:13 PM\n&gt;     &gt; To: junit@yahoogroups.com\n&gt;     &gt; Subject: [junit] Junit manipulating exceptions?\n&gt;     &gt;\n&gt;     &gt;\n&gt;     &gt; I&#39;ve provided coded examples below. My basic question is\n&gt;     &gt; this: Does Junit\n&gt;     &gt; (3.7) manipulate exceptions in some way that would\n&gt;     &gt; prevent an exception\n&gt;     &gt; from being caught in a normal try/catch block? The\n&gt;     &gt; behavior I&#39;m seeing is\n&gt;     &gt; that if I attempt to catch the specific exception thrown\n&gt;     &gt; by a method (e.g.\n&gt;     &gt; catch (java.sql.SQLException e), the catch block fails to\n&gt;     &gt; catch it and\n&gt;     &gt; Junit logs it as an error. If I use catch (Exception e),\n&gt;     &gt; the exception is\n&gt;     &gt; caught as I would expect. I find that I can call\n&gt;     &gt; getClass() on the caught\n&gt;     &gt; Exception and that it returns the expected SQLException,\n&gt;     &gt; whereas using\n&gt;     &gt; instanceof fails.\n&gt;     &gt;\n&gt;     &gt; Examples (behaves the same using other methods throwing\n&gt;     &gt; other exception types)\n&gt;     &gt; methods are from:\n&gt;     &gt; public class PersistenceTest extends TestCase {...}\n&gt;     &gt;\n&gt;     &gt;    public static void main(String[] args) {\n&gt;     &gt;   try {\n&gt;     &gt;        PersistenceManager.singleton().write(&quot;insert into\n&gt;     &gt; noSuchTable\n&gt;     &gt; values(&#39;junk&#39;)&quot;);\n&gt;     &gt;     System.out.println(&quot;No exception writing to\n&gt;     &gt; non-existent table&quot;);\n&gt;     &gt;   } catch (SQLException e) {\n&gt;     &gt;     System.out.println(e.getClass().toString());\n&gt;     &gt;   }\n&gt;     &gt;    }\n&gt;     &gt;\n&gt;     &gt; If I simply invoke this main()  method which I have added\n&gt;     &gt; to the test\n&gt;     &gt; class, it behaves as expected, printing the expected name\n&gt;     &gt; of the class and\n&gt;     &gt; exiting normally.\n&gt;     &gt;\n&gt;     &gt;    public void testBadWrite() {\n&gt;     &gt;   try {\n&gt;     &gt;\n&gt;     &gt; PersistenceManager.singleton().write(&quot;insert into noSuchTable\n&gt;     &gt; values(&#39;hey&#39;)&quot;);\n&gt;     &gt;           fail(&quot;No exception writing to non-existent table&quot;);\n&gt;     &gt;   } catch (SQLException e) {\n&gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);\n&gt;     &gt;   }\n&gt;     &gt;    }\n&gt;     &gt;\n&gt;     &gt; This test method fails to catch the SQLException, passing\n&gt;     &gt; it upwards and\n&gt;     &gt; logging an error.\n&gt;     &gt;\n&gt;     &gt; The following test passes, however:\n&gt;     &gt;\n&gt;     &gt;    public void testBadWrite2() {\n&gt;     &gt;   try {\n&gt;     &gt;\n&gt;     &gt; PersistenceManager.singleton().write(&quot;insert into noSuchTable\n&gt;     &gt; values(&#39;hey&#39;)&quot;);\n&gt;     &gt;           fail(&quot;No exception writing to non-existent table&quot;);\n&gt;     &gt;   } catch (Exception e) {\n&gt;     &gt;     assertEquals(&quot;java.sql.SQLException&quot;, e.getClass().getName())\n&gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);\n&gt;     &gt;   }\n&gt;     &gt;    }\n&gt;     &gt;\n&gt;     &gt; What am I missing?\n&gt;     &gt; Thanks,\n&gt;     &gt; Frank\n&gt;     &gt;\n\n\n", 
    "subject": "Re: Junit manipulating exceptions"
}