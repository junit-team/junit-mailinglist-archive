{
    "numMessagesInTopic": 19, 
    "nextInTime": 21255, 
    "senderId": "w_RIvfjLctuAs-ee8NZZW-9zNrozL_Yw6wUh6ZO4ILXODZOkGdODfxiQAbyj0PmpLo9b8CzlUB0i8XupuakiQbQOFCY", 
    "systemMessage": false, 
    "subject": "RE: [junit] Priority of Assertion?", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "Another way to look at this is to free ourselves from the fetters of Java syntax and semantics for a moment and imagine what we d like to say about thrown", 
    "msgId": 21254, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 23889 invoked from network); 5 Jan 2009 16:04:19 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m57.grp.scd.yahoo.com with QMQP; 5 Jan 2009 16:04:19 -0000\r\nX-Received: from unknown (HELO elasmtp-scoter.atl.sa.earthlink.net) (209.86.89.67)\n  by mta16.grp.scd.yahoo.com with SMTP; 5 Jan 2009 16:04:18 -0000\r\nX-Received: from [71.34.238.92] (helo=kentspavilion)\n\tby elasmtp-scoter.atl.sa.earthlink.net with esmtpa (Exim 4.67)\n\t(envelope-from &lt;kentb@...&gt;)\n\tid 1LJrw8-0006CU-FP\n\tfor junit@yahoogroups.com; Mon, 05 Jan 2009 11:04:18 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;gjcoh4+a6v5@...&gt; &lt;B6D159719D97430CB9DD6CC4DB5F0DC2@kentspavilion&gt; &lt;fba296970812300818i4d920db4o4321ab7dc6dcab14@...&gt; &lt;4f7da6b90812301943k3dfa7cbbp896567b54a756e64@...&gt; &lt;b9ee5e410901050621j1078cef8n8ec70e068c1e6829@...&gt;\r\nDate: Mon, 5 Jan 2009 08:04:15 -0800\r\nMessage-ID: &lt;A2556A2737454FC8AC4CBCFC7DFDF233@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nX-Mailer: Microsoft Office Outlook 11\r\nIn-Reply-To: &lt;b9ee5e410901050621j1078cef8n8ec70e068c1e6829@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5579\r\nThread-Index: AclvQPvOcXNuQ+/nSJqU0Xxct3NW5gADWKgg\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d4781111e4c6ff0530fab727615a1747343a855cdbaef750209a350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 2:4:8:0:1\r\nFrom: &quot;kentb&quot; &lt;kentb@...&gt;\r\nReply-To: &lt;kentb@...&gt;\r\nSubject: RE: [junit] Priority of Assertion?\r\nX-Yahoo-Group-Post: member; u=173198504; y=wIEfdYYx3SqG-H9AtLB1umPh6A9nv8lPjxlgl0pafHBg3sJm\r\nX-Yahoo-Profile: kentlbeck\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nAnother way to look at this is to free ourselves from the fetters of Java\ns=\r\nyntax and semantics for a moment and imagine what we&#39;d like to say about\nth=\r\nrown exceptions, then map that back as best we can to the real programming\n=\r\nlanguage. I think I&#39;d like to say something like:\n \nArrayIndexOutOfBoundsEx=\r\nception isThrownBy new int[0][0]\n \nThis is the essential information in the=\r\n situation--an exception, an\nexpression, and the declaration that the expre=\r\nssion throws the exception.\nNow the game becomes how little noise do you ne=\r\ned to add to get to\nsyntactically correct Java. There is no one right answe=\r\nr.\n \nCheers,\n \nKent Beck\nThree Rivers Institute\n\n  _____  \n\nFrom: junit@yah=\r\noogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\nJoakim Ohlrogge\nSe=\r\nnt: Monday, January 05, 2009 6:22 AM\nTo: junit@yahoogroups.com\nSubject: Re:=\r\n [junit] Priority of Assertion?\n\n\n\nIn rMock we used the following contruct:=\r\n\n\npublic void testSomething() {\n&lt;code that we don&#39;t expect to throw an exce=\r\nption&gt;\nexpectThatExceptionThrown(isInstanceOf(SomeException.class));\n&lt;code =\r\nthat we expect to throw an exception&gt;\n}\n\nI think that idea is what Charlies=\r\n assertThrows suggestion hinted towards.\n\nWhile this freedom can be abused =\r\nit allows to precisely pinpoint what should\nthrow an exception. Also, you c=\r\nould do all kind of hamcrest checks on the\nexception instance that is not p=\r\nossible to do with annotations. The\nunderlying implementation in the rMock-=\r\ncase is that\nexpectThatExceptionThrows primes the framework with an expecti=\r\non that any\nexception is checked against before the exception is rethrown a=\r\ns an error\n(if the check passes the Exception is expected and not rethrown)=\r\n.\n\nJusr my 5 cents :)\n\nOn Wed, Dec 31, 2008 at 4:43 AM, David Saff &lt;david@s=\r\naff.net\n&lt;mailto:david%40saff.net&gt; &gt; wrote:\n\n&gt; Ilja,\n&gt;\n&gt; Thanks for thinking=\r\n this through.\n&gt;\n&gt;\n&gt; &gt; In my view, the behavior is in fact an artifact of a=\r\nn implementation\n&gt; &gt; detail - namely that asserts indicate failures by thro=\r\nwing an\n&gt; &gt; exception.\n&gt;\n&gt; I don&#39;t know that I can get behind this. This te=\r\nst is always going to\npass:\n&gt;\n&gt; @Test public void avoidThePainfulTruth() {\n=\r\n&gt; try {\n&gt; assertTrue(false);\n&gt; } catch (Exception e) {\n&gt; }\n&gt; }\n&gt;\n&gt; I can&#39;t =\r\nthink of a better way than exceptions to implement assertions, and\n&gt; I\n&gt; ca=\r\nn&#39;t think of a way to hide that fact from users in all cases.\n&gt;\n&gt; David Saf=\r\nf\n&gt;\n&gt; On Tue, Dec 30, 2008 at 11:18 AM, Ilja Preu=DF &lt;iljapreuss@googlema\n&lt;=\r\nmailto:iljapreuss%40googlemail.com&gt; il.com&lt;iljapreuss%40googlemail.com&gt;\n&gt; &gt;=\r\nwrote:\n&gt;\n&gt; &gt; Kent, I agree that it is expected behavior, technically. I thi=\r\nnk you\n&gt; &gt; could also make an argument that it would be better if the behav=\r\nior\n&gt; &gt; was different.\n&gt; &gt;\n&gt; &gt; In my view, the behavior is in fact an artif=\r\nact of an implementation\n&gt; &gt; detail - namely that asserts indicate failures=\r\n by throwing an\n&gt; &gt; exception. It could be made the case that JUnit &quot;should=\r\n&quot; report those\n&gt; &gt; failing asserts as failing asserts, not as unexpected ex=\r\nceptions.\n&gt; &gt; Basically, the current behavior masks the true test failure.\n=\r\n&gt; &gt;\n&gt; &gt; Frankly, I have a hunch that the best solution to this problem\n&gt; &gt; =\r\nactually is to split the test in two, that is, to not mix &quot;expected&quot;\n&gt; &gt; an=\r\nd &quot;assert&quot; in the same test method.\n&gt; &gt;\n&gt; &gt; Cheers, Ilja\n&gt; &gt;\n&gt; &gt; 2008/12/30=\r\n kentb &lt;kentb@earthlink. &lt;mailto:kentb%40earthlink.net&gt; net\n&lt;kentb%40earthl=\r\nink.net&gt; &lt;kentb%\n&gt; 40earthlink.net&gt;&gt;:\n&gt; &gt;\n&gt; &gt; &gt; Yosef,\n&gt; &gt; &gt;\n&gt; &gt; &gt; The beha=\r\nvior you describe is what I would expect to see. In the test,\n&gt; you\n&gt; &gt; &gt; d=\r\neclared that an ArrayIndexOutOfBounds exception would be thrown. It\n&gt; was\n&gt;=\r\n &gt; not\n&gt; &gt; &gt; thrown, so the test fails. The error message says that the &quot;wr=\r\nong&quot;\n&gt; &gt; exception\n&gt; &gt; &gt; that was thrown was an AssertionError, which is ge=\r\nnerated by the\n&gt; &gt; &gt; assertTrue(false). The &quot;expected=3D...&quot; means that a t=\r\nest can fail if no\n&gt; &gt; &gt; exception is thrown or if the wrong exception is t=\r\nhrown.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Regards,\n&gt; &gt; &gt;\n&gt; &gt; &gt; Kent Beck\n&gt; &gt; &gt; Three Rivers Instit=\r\nute\n&gt; &gt; &gt;\n&gt; &gt; &gt; _____\n&gt; &gt; &gt;\n&gt; &gt; &gt; From: junit@yahoogroups. &lt;mailto:junit%40=\r\nyahoogroups.com&gt; com\n&lt;junit%40yahoogroups.com&gt; &lt;junit%\n&gt; 40yahoogroups.com&gt;=\r\n [mailto:\n&gt; &gt; junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n&lt;juni=\r\nt%40yahoogroups.com&gt; &lt;junit%40yahoogroups.com&gt;]\n&gt; On Behalf Of\n&gt; &gt; &gt; yosefs=\r\nhariat\n&gt; &gt; &gt; Sent: Tuesday, December 30, 2008 1:10 AM\n&gt; &gt; &gt; To: junit@yahoo=\r\ngroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n&lt;junit%40yahoogroups.com&gt; &lt;jun=\r\nit%\n&gt; 40yahoogroups.com&gt;\n&gt; &gt; &gt; Subject: [junit] Priority of Assertion?\n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; Hi\n&gt; &gt; &gt; I use &quot;@Test(expected =3D AnyClassException.class&quot;) and on=\r\ne\n&gt; &gt; &gt; &quot;assertTrue(false)&quot; together for example following code:\n&gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; @Test(expected =3D ArrayIndexOutOfBoundsException.class)\n&gt; &gt; &gt; public voi=\r\nd test()\n&gt; &gt; &gt; {\n&gt; &gt; &gt; String s[] =3D new String[]{&quot;1&quot;};\n&gt; &gt; &gt; assertTrue(f=\r\nalse);\n&gt; &gt; &gt; System.out.println(s[10]);\n&gt; &gt; &gt; }\n&gt; &gt; &gt;\n&gt; &gt; &gt; I expect to see=\r\n an assertion but I see following error:\n&gt; &gt; &gt; java.lang.Exception: Unexpec=\r\nted exception,\n&gt; &gt; &gt; expected&lt;java.lang.ArrayIndexOutOfBoundsException&gt; but=\r\n\n&gt; &gt; &gt; was&lt;java.lang.AssertionError&gt;..\n&gt; &gt; &gt;\n&gt; &gt; &gt; In your opinion, this te=\r\nst must be Assertion or Exception.\n&gt; &gt; &gt; In &quot;JUnit&quot; we cannot use &quot;@Test(ex=\r\npected =3D AnyClassException.class&quot;)\n&gt; &gt; &gt; and Assertion together at the sa=\r\nme time.\n&gt; &gt; &gt; In my opinion this test must be failed for &quot;assertion&quot; and n=\r\not for\n&gt; &gt; &gt; ArrayIndexOutOfBoundsException.\n&gt; &gt; &gt; Is this a bug in JUnit o=\r\nr my test is wrong and shouldn&#39;t use two item\n&gt; &gt; &gt; together?\n&gt; &gt; &gt; Tanks.\n=\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt;=\r\n &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt; \n&gt;=\r\n\n\n-- \n-----------------------------------------------------\nJoakim Ohlrogge=\r\n\nAgical AB\nV=E4sterl=E5nggatan 79, 2 tr\n111 29 Stockholm, SWEDEN\n\nMobile: +=\r\n46-708-754004\nBlog: johlrogge.wordpress.com\nE-mail: joakim.ohlrogge@ &lt;mailt=\r\no:joakim.ohlrogge%40agical.se&gt; agical.se\n\n[Non-text portions of this messag=\r\ne have been removed]\n\n\n\n \n\n\n[Non-text portions of this message have been re=\r\nmoved]\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 21230, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 21253, 
    "contentTrasformed": false, 
    "postDate": "1231171455", 
    "canDelete": false, 
    "nextInTopic": 21255, 
    "prevInTopic": 21253, 
    "headers": {
        "inReplyToHeader": "PGI5ZWU1ZTQxMDkwMTA1MDYyMWoxMDc4Y2VmOG44ZWM3MGUwNjhjMWU2ODI5QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PEEyNTU2QTI3Mzc0NTRGQzhBQzRDQkNGQzdERkRGMjMzQGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PGdqY29oNCthNnY1QGVHcm91cHMuY29tPiA8QjZEMTU5NzE5RDk3NDMwQ0I5REQ2Q0M0REI1RjBEQzJAa2VudHNwYXZpbGlvbj4gPGZiYTI5Njk3MDgxMjMwMDgxOGk0ZDkyMGRiNG80MzIxYWI3ZGM2ZGNhYjE0QG1haWwuZ21haWwuY29tPiA8NGY3ZGE2YjkwODEyMzAxOTQzazNkZmE3Y2JicDg5NjU2N2I1NGE3NTZlNjRAbWFpbC5nbWFpbC5jb20+IDxiOWVlNWU0MTA5MDEwNTA2MjFqMTA3OGNlZjhuOGVjNzBlMDY4YzFlNjgyOUBtYWlsLmdtYWlsLmNvbT4="
    }
}