{
    "numMessagesInTopic": 3, 
    "nextInTime": 5699, 
    "senderId": "XB6Nh7aTFCTPXLDTolis6aGpQZGcqFnILJpswJJHsWtsUMEJny4agPLi-0uGvVz_AxJjGNW7kPC0GQNlF9Ma6lMikhiI44_46g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unit testing multithreaded network code", 
    "from": "philipborlin@...", 
    "authorName": "philipborlin@discoverfinancial.com", 
    "msgSnippet": "I have been thinking about this a lot lately since we have some messy threading code in our gui.  Our main problems are locking down objects while state", 
    "msgId": 5698, 
    "topicId": 5698, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 100780564, 
    "messageBody": "<div id=\"ygrps-yiv-1800301483\">I have been thinking about this a lot lately since we have some messy<br/>\nthreading code in our gui.  Our main problems are locking down objects<br/>\nwhile state transitions are occuring.  We wrote some pretty basic thread<br/>\ntools based on ones in various books and then wrote unit tests for them.<br/>\nIt turns out that the unit tests were extremely tricky but I haven&#39;t found<br/>\nan easier way to test mulithreaded behavior.<br/>\n<br/>\nBelow I have attached a read/write lock implementation and the accompanying<br/>\nunit test.  The unit test uses a conditional event and so I have included<br/>\nthat also.  I have stripped out all the code and just left the signatures<br/>\nand comments from the ReadWriteLock and ConditionalEvent since I don&#39;t<br/>\nthink my employer wants me publishing its code, but I have left the entire<br/>\ntest intact.<br/>\n<br/>\nI could not get to javaranch so I could not get to your original post, but<br/>\nif you want to send some code (even if it is privately), I would be willing<br/>\nto take a look.<br/>\n<br/>\n-Phil<br/>\n<br/>\n<br/>\n(See attached file: ReadWriteLockTest.java)(See attached file:<br/>\nReadWriteLock.java)(See attached file: ConditionalEvent.java)<br/>\n<br/>\n<br/>\n<br/>\n                                                                                      <br/>\n                    &quot;weitzman_d&quot;                                                      <br/>\n                    &lt;weitzman_d@y        To:     <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>                <br/>\n                    ahoo.com&gt;            cc:                                          <br/>\n                                         Subject:     [junit] Unit testing            <br/>\n                    08/29/2002           multithreaded network code                   <br/>\n                    03:05 PM                                                          <br/>\n                    Please                                                            <br/>\n                    respond to                                                        <br/>\n                    junit                                                             <br/>\n                                                                                      <br/>\n                                                                                      <br/>\n<br/>\n<br/>\n<br/>\n<br/>\nI&#39;ve asked this question at javaranch.com, so I&#39;ll just provide an<br/>\nbrief description here and point to the original question for anyone<br/>\nwho wants to give it a shot (just reply on this list though).<br/>\n<br/>\nI&#39;m writing the beginnings of a multithreaded server, and I had to<br/>\ninsert a lot of calls to Thread.sleep() in my unit testing code for<br/>\nit to pass.  Is there some good way to test multithreaded code that<br/>\ndoesn&#39;t invole just waiting a few milliseconds and hoping that a task<br/>\nfinished?  I imagine that a better solution might involve calls to<br/>\njoin() but tie the unit test closely to the particular implementation.<br/>\n<br/>\nAnyway, here&#39;s the original question with my current, unsatisfactory<br/>\ntest (although it doesn&#39;t have much of the code being tested - I<br/>\ndidn&#39;t want to clutter the post.  I should add some.):<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://saloon.javaranch.com/cgi-bin/ubb/ultimatebb.cgi?\">http://saloon.javaranch.com/cgi-bin/ubb/ultimatebb.cgi?</a><br/>\nubb=get_topic&f=9&t=001390<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\nYour use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 5697, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1031065493", 
    "canDelete": false, 
    "nextInTopic": 5701, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PE9GREZBOTk2QjAuRjQ5N0ZGQTktT044NjI1NkMyOS4wMDRGQ0I0RkBOT1ZVU1NFUlZJQ0VTLkNPTT4="
    }
}