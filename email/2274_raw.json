{
    "topicId": 2274, 
    "postDate": "997199817", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Francois Beausoleil&quot; &lt;fbos44@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "DFapPTGsKW735RGapBIf-tu7fTO2QEOH0nkng3Ez1tCxD3m2TzHbGUrnDeAXYmIUCv2o8DMLaBAwxHb03o0OyoHiJsjcXE3Z9O0LO0DZwSFx", 
    "nextInTime": 2275, 
    "userId": 0, 
    "prevInTime": 2273, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PERBVjcyWmtmekRza3FDNUV0clUwMDAwMDYzN0Bob3RtYWlsLmNvbT4="
    }, 
    "authorName": "Francois Beausoleil", 
    "numMessagesInTopic": 1, 
    "msgSnippet": "Hello everyone, I do not want to restart a polemic on the Exception discussions, but I think I found an easier way to test that a method throws a specific", 
    "contentTrasformed": false, 
    "msgId": 2274, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;fbos44@...&gt;\r\nX-Sender: fbos44@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 7 Aug 2001 15:54:48 -0000\r\nReceived: (qmail 99784 invoked from network); 7 Aug 2001 15:54:22 -0000\r\nReceived: from unknown (10.1.10.27) by l8.egroups.com with QMQP; 7 Aug 2001 15:54:22 -0000\r\nReceived: from unknown (HELO hotmail.com) (64.4.22.207) by mta2 with SMTP; 7 Aug 2001 15:54:21 -0000\r\nReceived: from mail pickup service by hotmail.com with Microsoft SMTPSVC; Tue, 7 Aug 2001 08:54:21 -0700\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: Testing for exceptions\r\nDate: Tue, 7 Aug 2001 11:56:57 -0400\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.00.2314.1300\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300\r\nMessage-ID: &lt;DAV72ZkfzDskqC5EtrU00000637@...&gt;\r\nX-OriginalArrivalTime: 07 Aug 2001 15:54:21.0867 (UTC) FILETIME=[3966BFB0:01C11F59]\r\nFrom: &quot;Francois Beausoleil&quot; &lt;fbos44@...&gt;\r\n\r\nHello everyone,\n\nI do not want to restart a polemic on the Exception discussions, but I think\nI found an easier way to test that a method throws a specific Exception.\nCheck out this usage code:\npublic class TestSomething extends TestCase {\n    .\n    .\n    .\n   public void testProperException() {\n        Syslog.debug(this, &quot;Before proper throws&quot;);\n        assertThrows(NoSuchMethodException.class, new ERunner() {    // &lt;--\nThis is what&#39;s new\n            public void run() throws Throwable {\n                throw new NoSuchMethodException();\n            }\n        });\n\n        // No AssertFailedError here, the method threw the expected\nexception\n    }\n\n    public void testImproperException() {\n        Syslog.debug(this, &quot;Before improper throws&quot;);\n        assertThrows(NoSuchMethodException.class, new ERunner() {    // &lt;--\nAnd here again\n            public void run() throws Throwable {\n                throw new Exception();\n            }\n        });\n\n        // AssertFailedError thrown here, the method did not throw the\nexpected exception\n    }\n}\n\nERunner is an interface in junit.framework that declares the one method (I\nwanted to use Runnable, but it does not throw anything, so cannot be used\nfor this purpose).  The anonymous inner-class throws or not an Exception.\nIf it does, the thrown Exception`s class is equaled against the\nexpectedThrowable parameter of the assertThrows method.  If they match,\nthat&#39;s good.  If not, then an AssertFailedError is thrown.\n\nAnother benefit of this method is that we do not have to declare every test\nmethod to throw Exception.  The ERunner&#39;s run method takes care of this for\nus.\n\nI would think that this usage might correct or alleviate many of the\nproblems that were discussed previously.  Since we are calling an\nassertSomething method, one can always add the assert counting mechanism to\nhis/her JUnit version and be assured that Exception assertions are counted\nproperly.\n\nThis usage would have one drawback:  It does not allow testing specific\nconditions on the Throwable object itself.  I have seen many people use\n&quot;assertEquals(true, success.getMessage().contains(&quot;foo&quot;) &gt; 0);&quot; in their\ncode.  We would need to add a specific method in the ERunner interface to\nhandle this case.  Either the method is provided with the thrown exception\nand it asserts whatever it wants, or we ask the ERunner to provide a string\nthat must be present in the throwable&#39;s getMessage().  This would also\nentail changing ERunner from an interface to an abstract class (run is\nabstract, whereas the other method would have a default blank\nimplementation).\n\nAnyway, these are my thoughts.  I would appreciate comments and suggestions\non this way of doing things.  Would anybody use it if it were in the\nFramework ?  I will provide the source code on request, or put it in the\nlist&#39;s archive if enough interest is generated.\n\nThank you,\nFrancois Beausoleil\n\n\n", 
    "subject": "Testing for exceptions"
}