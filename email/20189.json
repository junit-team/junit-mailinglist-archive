{
    "numMessagesInTopic": 4, 
    "nextInTime": 20190, 
    "senderId": "nRaRWA3kYVo_sdIhRyY9KsTr1LVM-vabgE0kjoBz0JOiBfcBxCejVPeVzyNDGo-55XfVMlys_kbEXbDpvbFzJEZzEqklPLVXOpdN04XFtYtD3TOM3Fk", 
    "systemMessage": true, 
    "subject": "Re: Bug in org.junit.Assert", 
    "from": "&quot;Walter Gildersleeve&quot; &lt;newsgroups@...&gt;", 
    "authorName": "Walter Gildersleeve", 
    "msgSnippet": "Thanks David.  I went ahead and submitted the bug. Walter ... thanks, ... known. ... expected.getClass().getName() ... expected.getClass().getName() ... + ;", 
    "msgId": 20189, 
    "profile": "null_bock", 
    "topicId": 20186, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 230339302, 
    "messageBody": "<div id=\"ygrps-yiv-1113923821\">Thanks David.  I went ahead and submitted the bug.<br/>\n<br/>\nWalter<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;David Saff&quot; &lt;saff@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Walter,<br/>\n&gt; <br/>\n&gt; Nicely found.  Can you post it on the SourceForge bug tracker?  Many<br/>\nthanks,<br/>\n&gt; <br/>\n&gt;   David Saff<br/>\n&gt; <br/>\n&gt; On Dec 21, 2007 3:34 PM, Walter Gildersleeve &lt;newsgroups@...&gt; wrote:<br/>\n&gt; &gt; Hi,<br/>\n&gt; &gt;<br/>\n&gt; &gt; I searched around to see if anyone&#39;s submitted this bug.  I didn&#39;t<br/>\n&gt; &gt; find a dupe, so I&#39;ll go ahead and post; apologies if it&#39;s already<br/>\nknown.<br/>\n&gt; &gt;<br/>\n&gt; &gt; In Assert#format(String, Object, Object), a NullPointerException is<br/>\n&gt; &gt; thrown if either param &quot;expected&quot; or &quot;actual&quot; is null and the other is<br/>\n&gt; &gt; *the string* &quot;null&quot;.  Here are a couple test cases demonstrating this:<br/>\n&gt; &gt;<br/>\n&gt; &gt; @Test(expected=NullPointerException.class)<br/>\n&gt; &gt; public void confirmError() {<br/>\n&gt; &gt;     assertEquals(null, &quot;null&quot;);<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; @Test(expected=NullPointerException.class)<br/>\n&gt; &gt; public void confirmErrorToo() {<br/>\n&gt; &gt;     assertEquals(&quot;null&quot;, null);<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; This is because Assert#format is trying to print extended information<br/>\n&gt; &gt; when two objects are visually identical but semantically different;<br/>\n&gt; &gt; namely, it wants to display the class names as well as the values,<br/>\n&gt; &gt; doing a Object#getClass() without checking if the object is null.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Here&#39;s a possible fix:<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; static String format(String message, Object expected, Object actual) {<br/>\n&gt; &gt;     String formatted = &quot;&quot;;<br/>\n&gt; &gt;     if (message != null && !message.equals(&quot;&quot;)) {<br/>\n&gt; &gt;         formatted = message + &quot; &quot;;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;<br/>\n&gt; &gt;     String expectedString = String.valueOf(expected);<br/>\n&gt; &gt;     String actualString = String.valueOf(actual);<br/>\n&gt; &gt;<br/>\n&gt; &gt;     if (expected == null) {<br/>\n&gt; &gt;         return formatted + &quot;expected: &lt;null&gt; but was: &quot;<br/>\n&gt; &gt;             + actual.getClass().getName() + &quot;&lt;&quot; + actualString + &quot;&gt;&quot;;<br/>\n&gt; &gt;     } else if (actual == null) {<br/>\n&gt; &gt;         return formatted + &quot;expected: &quot; +<br/>\nexpected.getClass().getName()<br/>\n&gt; &gt;                 + &quot;&lt;&quot; + expectedString + &quot;&gt; but was: &lt;null&gt;&quot;;<br/>\n&gt; &gt;     } else if (expectedString.equals(actualString)) {<br/>\n&gt; &gt;         return formatted + &quot;expected: &quot; +<br/>\nexpected.getClass().getName()<br/>\n&gt; &gt;                 + &quot;&lt;&quot; + expectedString + &quot;&gt; but was: &quot;<br/>\n&gt; &gt;                 + actual.getClass().getName() + &quot;&lt;&quot; + actualString<br/>\n+ &quot;&gt;&quot;;<br/>\n&gt; &gt;     } else {<br/>\n&gt; &gt;         return formatted + &quot;expected:&lt;&quot; + expectedString + &quot;&gt; but<br/>\nwas:&lt;&quot;<br/>\n&gt; &gt;                 + actualString + &quot;&gt;&quot;;<br/>\n&gt; &gt;     }<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; The assumption here is that actual and expected will never *both* be<br/>\n&gt; &gt; null.  Right?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Walter Gildersleeve<br/>\n&gt; &gt; Portland, OR<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 20188, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1198459848", 
    "canDelete": false, 
    "nextInTopic": 20298, 
    "prevInTopic": 20188, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcxMjIyMTE1NHU3OGVjNGI2Y3NjOWU0NzkzNGU2ZjIxMTRkQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZrbjI0OCtzYnA4QGVHcm91cHMuY29tPg=="
    }
}