{
    "numMessagesInTopic": 3, 
    "nextInTime": 24441, 
    "senderId": "mztgHha6P_4fP9tAIQziLUf_3Ylh9nFF5MLYC2EcUHTrNzvOcsNw8DDuY8Baeh-u6K3eXMMRJI_etyWy0cAI0vL0lewSgIh49tV6LCv2qg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Hierarchical Context Runner for JUnit", 
    "from": "Stefan Bechtold &lt;stefan.bechtold@...&gt;", 
    "authorName": "Stefan Bechtold", 
    "msgSnippet": "Hi Aaron it s kind of funny, because I also started to extend the BlockJUnit4ClassRunner. It finally turned out not to be a good idea, as there are to many", 
    "msgId": 24440, 
    "topicId": 24437, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 558173103, 
    "messageBody": "<div id=\"ygrps-yiv-1778867089\">Hi Aaron<br/>\n<br/>\nit&#39;s kind of funny, because I also started to extend the BlockJUnit4ClassRunner. It finally turned out not to be a good idea, as there are to many implications that require modifications on the BlockJUnit4ClassRunner and might break dependencies and, therefore, I decided to create this runner from scratch (whereas, &quot;from scratch&quot; here means that I copied the BlockJUnit4ClassRunner and its parent class into one class and applied a lot of refactoring until I was able to easily include the context behavior, while I constantly compared the results of the hierarchical context runner with the results of the BlockJUnit4ClassRunner on the test suite of FitNesse).<br/>\n<br/>\nThe hierarchical context runner is able to process @BeforeClass and @AfterClass methods, as well as @Rule and @Before/@After statements along the whole context hierarchy. Let&#39;s shortly talk about them each at a time:<br/>\n<br/>\n@BeforeClass / @AfterClass: Those are supported for the top level class and as they are static, you cannot have them within non-static member classes. My runner requires all contexts to be non-static and, therefore, only the top level class will contain those annotations. Methods annotated with these are executed right before / after the whole test hierarchy, i.e. all tests within the hierarchy run between the @BeforeClass and @AfterClass methods.<br/>\n<br/>\n@Rule: All rules are evaluated along the whole context path. It doesn&#39;t matter where you specify the rule, as long as it is visible from the current test, it will be available and evaluated.<br/>\n<br/>\n@Before / @After: Same as for @Rule. For each test all @Before and @After methods are run, if they are part of the context path (class, superclass, super-superclass,�) of the current test.<br/>\n<br/>\nI didn&#39;t spend much time to think about having a @RunWith on inner classes because I think this would more or less be better placed into another test class. I mean, if I choose a new runner for the inner class that &quot;most probably&quot; will not handle the hierarchy, why won&#39;t I simple put this inner class in a separate file? That&#39;s just a first guess�<br/>\n<br/>\nI am really looking forward to seeing your feedback, espc. as you have also investigated a lot of time in writing such a runner. :-)<br/>\n<br/>\nAll the best<br/>\n<br/>\nBechte<br/>\n<br/>\n<br/>\nAm 01.11.2013 um 07:04 schrieb Aaron VonderHaar &lt;gruen0aermel@...&gt;:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; Nice work!<br/>\n&gt; <br/>\n&gt; I did what appears to be the same thing a few months ago: https://github.com/avh4/junit-nested<br/>\n&gt; <br/>\n&gt; I&#39;ll have to look at your code a bit more, but it looks like you wrote a new runner from scratch and re-implemented all the behaviors of BlockJUnit4ClassRunner?  In my approach, I actually subclassed BlockJUnit4ClassRunner: https://github.com/avh4/junit-nested/blob/master/src/main/java/net/avh4/test/junit/InnerRunner.java<br/>\n&gt; <br/>\n&gt; In junit-nested, I didn&#39;t yet get the following to work:<br/>\n&gt;   - @BeforeClass methods for outer classes (though they do work for the inner-most classes)<br/>\n&gt;   - @AfterClass methods for outer classes (though they do work for the inner-most classes)<br/>\n&gt;   - @Rule *methods* for outer classes (however, the more common @Rule *fields* do work)  (and again, they do work for inner-most classes)<br/>\n&gt;   - @RunWith on inner classes (I think this would probably be a nightmare to implement)<br/>\n&gt; <br/>\n&gt; Does junit-hierarchicalcontextrunner handle any of those?<br/>\n&gt; <br/>\n&gt; Cheers,<br/>\n&gt; --Aaron V.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; On Thu, Oct 31, 2013 at 11:18 AM, Stefan Bechtold &lt;stefan.bechtold@...&gt; wrote:<br/>\n&gt;  <br/>\n&gt; Hi folks<br/>\n&gt; <br/>\n&gt; I investigated some time to come up with a new Runner for JUnit and I would like to get feedback and your input about it. The runner aims on test hierarchies, i.e. tests that can be grouped into contexts for better readability. You can compare this with the contexts in rspec and I would say it is an enhancement of the Enclosed Runner.<br/>\n&gt; <br/>\n&gt; Let&#39;s start with an example:<br/>\n&gt; <br/>\n&gt; @RunWith(HierarchicalContextRunner.class)<br/>\n&gt; public class BankAccountTest {<br/>\n&gt; private Account account;<br/>\n&gt; <br/>\n&gt; public class SavingsAccountContext {<br/>\n&gt; @Before<br/>\n&gt; public void setup() {<br/>\n&gt; myAccount = new SavingsAccount();<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; @Test<br/>\n&gt; public void accountWithBalanceOf100_earns3InInterest() throws Exception {<br/>\n&gt; myAccount.setBalance(100.0);<br/>\n&gt; assertThat(myAccount.getInterestEarned(), is(closeTo(3.0, 0.001)));<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; @Test<br/>\n&gt; public void accountWithBalanceOf200_earns6InInterest() throws Exception {<br/>\n&gt; myAccount.setBalance(200.0);<br/>\n&gt; assertThat(myAccount.getInterestEarned(), is(closeTo(6.0, 0.001)));<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class MoneyMarketAccountContext {<br/>\n&gt; @Before<br/>\n&gt; public void setup() {<br/>\n&gt; myAccount = new MoneyMarketAccount();<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; @Test<br/>\n&gt; public void accountWithBalanceOf100_earns4InInterest() throws Exception {<br/>\n&gt; myAccount.setBalance(100.0);<br/>\n&gt; assertThat(myAccount.getInterestEarned(), is(closeTo(4.0, 0.001)));<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; @Test<br/>\n&gt; public void accountWithBalanceOf200_earns8InInterest() throws Exception {<br/>\n&gt; myAccount.setBalance(200.0);<br/>\n&gt; assertThat(myAccount.getInterestEarned(), is(closeTo(8.0, 0.001)));<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; (This example is copied from the newest video of Robert Martin from his website http://www.cleancoders.com, video 22 - Test Process, starting at 00:32:38)<br/>\n&gt; <br/>\n&gt; Key points to note:<br/>\n&gt; <br/>\n&gt; 1. There are no static classes that contain tests.<br/>\n&gt; 2. There are no extends statements, hierarchies are created by creating inner classes (nice syntax).<br/>\n&gt; 3. Each context can access all variables of the parent context.<br/>\n&gt; 4. @Rule, @Before and @After annotations are run for the complete hierarchy of a test (not visible from the example)<br/>\n&gt; 5. Mostly all features of the BlockJUnit4ClassRunner are also supported.<br/>\n&gt; <br/>\n&gt; Another example can be found on my github.org page at https://github.com/bechte/junit-hierarchicalcontextrunner/wiki.<br/>\n&gt; <br/>\n&gt; For me, this runner closes a gap of missing ability of the JUnit framework to support hierarchies.<br/>\n&gt; <br/>\n&gt; I am really looking forward to getting some feedback on this runner.<br/>\n&gt; <br/>\n&gt; All the best<br/>\n&gt; <br/>\n&gt; Bechte<br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; <br/>\n&gt; Stefan Bechtold<br/>\n&gt; <br/>\n&gt; eCard: http://ecard.bechte.de/<br/>\n&gt; <br/>\n&gt; http://www.bechte.de, http://twitter.com/bechte <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; --Aaron V.<br/>\n&gt; [ http://github.com/avh4 ]<br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 24439, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1383294151", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24439, 
    "headers": {
        "inReplyToHeader": "PENBTVplY1huQjBFUHo4NCtoRDhrPVFTSDhCanpvVEpZQnBYVl8rU0NreVZoT09PRTBwQUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PDg2QjY0RkI1LUMyRUQtNDdGNC05NTMyLUZFMzVFQUMzQjYyNUBtZS5jb20+", 
        "referencesHeader": "PEJBMUZBQkNGLURGNTktNEJDNS1BM0QyLUUzMjgyN0VGRDkwRkBtZS5jb20+IDxDQU1aZWNYbkIwRVB6ODQraEQ4az1RU0g4Qmp6b1RKWUJwWFZfK1NDa3lWaE9PT0UwcEFAbWFpbC5nbWFpbC5jb20+"
    }
}