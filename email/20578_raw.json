{
    "numMessagesInTopic": 21, 
    "nextInTime": 20579, 
    "senderId": "lsk9vdQ7sHPPRz6Xjs4Qo9CYZDuwyk6nep3nE7VfMGGZIV6eA9LNfGWjwjVVhW2zG4khHjXz4MxiluJdkVALueaUpA", 
    "systemMessage": true, 
    "subject": "Re: What is expected behavior on Assert.assertEquals on Number object?", 
    "from": "&quot;nat_tul&quot; &lt;natta@...&gt;", 
    "authorName": "nat_tul", 
    "msgSnippet": "Correct me if i m wrong. You state about Object.equals(Object) will return false because it s not reside in the same address on memory. I don t agree with this", 
    "msgId": 20578, 
    "rawEmail": "Return-Path: &lt;natta@...&gt;\r\nReceived: (qmail 71780 invoked from network); 16 Jun 2008 10:35:29 -0000\r\nReceived: from unknown (66.218.67.95)\n  by m47.grp.scd.yahoo.com with QMQP; 16 Jun 2008 10:35:29 -0000\r\nReceived: from unknown (HELO n50d.bullet.mail.sp1.yahoo.com) (66.163.169.48)\n  by mta16.grp.scd.yahoo.com with SMTP; 16 Jun 2008 10:35:29 -0000\r\nReceived: from [216.252.122.217] by n50.bullet.mail.sp1.yahoo.com with NNFMP; 16 Jun 2008 10:35:29 -0000\r\nReceived: from [66.218.69.5] by t2.bullet.sp1.yahoo.com with NNFMP; 16 Jun 2008 10:35:29 -0000\r\nReceived: from [66.218.66.83] by t5.bullet.scd.yahoo.com with NNFMP; 16 Jun 2008 10:35:29 -0000\r\nX-Sender: natta@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 21441 invoked from network); 16 Jun 2008 02:17:54 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m43.grp.scd.yahoo.com with QMQP; 16 Jun 2008 02:17:54 -0000\r\nX-Received: from unknown (HELO n11e.bullet.scd.yahoo.com) (66.218.67.71)\n  by mta17.grp.scd.yahoo.com with SMTP; 16 Jun 2008 02:17:53 -0000\r\nX-Received: from [66.218.69.1] by n21.bullet.scd.yahoo.com with NNFMP; 16 Jun 2008 02:17:53 -0000\r\nX-Received: from [66.218.66.84] by t1.bullet.scd.yahoo.com with NNFMP; 16 Jun 2008 02:17:53 -0000\r\nDate: Mon, 16 Jun 2008 02:17:52 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;g34igg+rn48@...&gt;\r\nIn-Reply-To: &lt;g2u0pa+fvgs@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;nat_tul&quot; &lt;natta@...&gt;\r\nSubject: Re: What is expected behavior on Assert.assertEquals on Number object?\r\nX-Yahoo-Group-Post: member; u=348330670; y=UJNivq3np2eU1D56ZxzCHa6sxaIEY0kFW8KjMnQlVdqt7w\r\nX-Yahoo-Profile: nat_tul\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 16 Jun 2008 10:35:28 -0000\r\n\r\nCorrect me if i&#39;m wrong.\n\nYou state about Object.equals(Object) will return=\r\n false because it&#39;s not \nreside in the same address on memory.\n\nI don&#39;t agr=\r\nee with this one since Object.equals(Object) should check the \nequality of =\r\nsemantic, not just address of object.\n\nBest regards,\nNattapong Sirilappanic=\r\nh\nEngineer, National Language Development - GCoC & TSC Thailand\nSoftware Gr=\r\noup, IBM Thailand Co., Ltd.\ne-mail: natta@...\n\n--- In junit@yahoogro=\r\nups.com, &quot;putnam_david_t&quot; &lt;davidtputnam@...&gt; \nwrote:\n&gt;\n&gt; To figure out what=\r\n was happening, I wrote a few tests, set some\n&gt; breakpoints and saw what wa=\r\ns going on.  However, what I saw \nseems to\n&gt; disagree with the other observ=\r\nations in this thread.  This is what I\n&gt; executed: \n&gt; public class DoubleTe=\r\nst extends TestCase {\n&gt;     public void testDouble () {\n&gt;         assertEqu=\r\nals( 12.3d, 12.4d );\n&gt;     }\n&gt; }\n&gt; I set break points in the various method=\r\ns of Assert and confirmed that\n&gt;  assertEquals( Object, Object ) was invoke=\r\nd with two Double\n&gt; parameters. Now Object.equals would always fail because=\r\n these\n&gt; parameters are not at the same address in memory.  According to th=\r\ne\n&gt; documentation for 1.5 the Double.equals method creates long&#39;s from \nthe=\r\n\n&gt; IEEE specified bits for the double value and compares their values for\n&gt;=\r\n equality.  This was in fact the behavior I saw during my tests.\n&gt; \n&gt; This =\r\nmay not help explain the other behavior Nattapong saw, but at\n&gt; least the b=\r\nehavior I saw conforms to the Principle of least \nastonishment.\n&gt; \n&gt; David =\r\nPutnam\n&gt; \n&gt; --- In junit@yahoogroups.com, &quot;nat_tul&quot; &lt;natta@&gt; wrote:\n&gt; &gt;\n&gt; &gt;=\r\n --- In junit@yahoogroups.com, &quot;Roger Glover&quot; &lt;glover_roger@&gt; \n&gt; &gt; wrote:\n&gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; --- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; \n&lt;jbrains762@&gt;=\r\n \n&gt; &gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; On 2008-06-06, at 08:45 , Roger Glover wrote:\n=\r\n&gt; &gt; &gt; &gt; &gt; --- In junit@yahoogroups.com, Nattapong Sirilappanich \n&lt;natta@&gt;\n&gt;=\r\n &gt; &gt; &gt; &gt; wrote:\n&gt; &gt; &gt; &gt; &gt; &gt; Actually, my point here is i&#39;m expecting\n&gt; &gt; &gt; =\r\n&gt; &gt; &gt; org.junit.Assert.assertEquals(Object obj1, Object obj2) to\n&gt; &gt; &gt; &gt; &gt; =\r\n&gt; call its obj1.equals(obj2) or something like this. However,\n&gt; &gt; &gt; &gt; &gt; &gt; t=\r\nhe outcome surprise me. Assertion success but\n&gt; &gt; &gt; &gt; &gt; &gt; obj1.equals(obj2)=\r\n return false.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; What&#39;s going on inside assertEquals(=\r\n) operation? Is this\n&gt; &gt; &gt; &gt; &gt; &gt; what it&#39;s suppose to be?\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;=\r\n &gt; As I stated, albeit not very clearly the first time (Curse you\n&gt; &gt; &gt; &gt; &gt;=\r\n &quot;Rich Text Editor(Beta)&quot;!), I suspect that the culprit here is\n&gt; &gt; &gt; &gt; &gt; t=\r\nhat &quot;Assert.assertEquals(Object, Object)&quot; is not being called\n&gt; &gt; &gt; &gt; &gt; at =\r\nall. This is borne out by the fact that a J2SE 1.4 compiler\n&gt; &gt; &gt; &gt; &gt; and a=\r\n JavaSE 1.5 compiler treat the same call completely\n&gt; &gt; &gt; &gt; &gt; differently.\n=\r\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; I *SUSPECT* that the 1.5 compiler is unboxing the Doubl=\r\ne\n&gt; &gt; &gt; &gt; &gt; objects into primitive longs and that the method that is\n&gt; &gt; &gt; =\r\n&gt; &gt; *ACTUALLY* called is &quot;Assert.assertEquals(long,long)&quot;. This\n&gt; &gt; &gt; &gt; &gt; a=\r\nccounts for the behavior since the integer parts of your two\n&gt; &gt; &gt; &gt; &gt; numb=\r\ners are the same. &quot;Assert.assertEquals(long,long)&quot; \nyields\n&gt; &gt; &gt; &gt; &gt; succes=\r\nsful after the Doubles are converted (truncated) to\n&gt; &gt; &gt; &gt; &gt; longs.\n&gt; &gt; &gt; =\r\n&gt; &gt; \n&gt; &gt; &gt; &gt; That&#39;s almost certainly what is happening, and good deduction.=\r\n\n&gt; &gt; &gt; \n&gt; &gt; &gt; Thank you very much!\n&gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Now we ask the question, =\r\nwhat&#39;s the better answer? Defeat \nthe  \n&gt; &gt; &gt; &gt; purpose of assertEquals(Obj=\r\nect,Object) or letting \nprogrammers  \n&gt; &gt; &gt; &gt; hoist themselves on their own=\r\n petards?\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; JUnit could detect this situation, but if it did=\r\n, I&#39;d prefer  \n&gt; &gt; &gt; &gt; it to warn the programmer rather than fix the proble=\r\nm, \nbecause  \n&gt; &gt; &gt; &gt; I want to encourage programmers to improve their desi=\r\ngn:  \n&gt; &gt; &gt; &gt; either the test should compare the Double values with a  \n&gt; &gt;=\r\n &gt; &gt; tolerance, or perhaps the production code ought not to use\n&gt; &gt; &gt; &gt; Dou=\r\nbles.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Well if that is the best solution (and I must say that I=\r\n like it\n&gt; &gt; &gt; better than the status quo) then the easiest way to do that =\r\nwould\n&gt; &gt; &gt; probably be to create a bogus &quot;Assert.assertEquals\n(double,doub=\r\nle)&quot; \n&gt; &gt; that:\n&gt; &gt; &gt; \n&gt; &gt; &gt; A) is deprecated (Yes, I mean it. A new method=\r\n that is \ndeprecated and\n&gt; &gt; &gt; with no intent ever to remove it). The javad=\r\noc should point to the\n&gt; &gt; &gt; 3-double overload as the preferred alternative=\r\n and explain why.\n&gt; &gt; &gt; \n&gt; &gt; &gt; *AND*\n&gt; &gt; &gt; \n&gt; &gt; &gt; B) is implemented to unco=\r\nnditionally throw\n&gt; &gt; &gt; &quot;UnsupportedOperationException&quot; (or similar uncheck=\r\ned standard\n&gt; &gt; &gt; exception) with a message that indicates that you should =\r\nuse the\n&gt; &gt; &gt; 3-double overload instead.\n&gt; &gt; I&#39;m agree with this choice. Si=\r\nnce it&#39;s not preferred to be used with \n&gt; &gt; Double so some Exception should=\r\n be threw.\n&gt; &gt; &gt; \n&gt; &gt; &gt; -- Roger Glover\n&gt; &gt; &gt;    Object Partners, Inc.\n&gt; &gt; =\r\n&gt;\n&gt; &gt; ------------------------------------\n&gt; &gt; Nattapong Sirilappanich\n&gt; &gt; =\r\nEngineer, National Language Development - GCoC & TSC Thailand\n&gt; &gt; Software =\r\nGroup, IBM Thailand Co., Ltd.\n&gt; &gt; e-mail: natta@\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "nat_tul", 
    "topicId": 20513, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 348330670, 
    "prevInTime": 20577, 
    "contentTrasformed": false, 
    "postDate": "1213582672", 
    "canDelete": false, 
    "nextInTopic": 20582, 
    "prevInTopic": 20572, 
    "headers": {
        "inReplyToHeader": "PGcydTBwYStmdmdzQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGczNGlnZytybjQ4QGVHcm91cHMuY29tPg=="
    }
}