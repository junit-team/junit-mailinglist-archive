{
    "topicId": 19923, 
    "postDate": "1191087010", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "Stephen Smith &lt;steve@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "6R492T0ciTcMWkRkXtldxRBgTEUBED4KBFzXPJYOj-NF4PVwLRJ14T4WnKDUBm9Zcv5sDDRjp_01F7aZHIjPWSiO1uB8lO2mqVvSgTYo9kU", 
    "nextInTime": 19935, 
    "userId": 231973488, 
    "prevInTime": 19933, 
    "prevInTopic": 19933, 
    "headers": {
        "inReplyToHeader": "PDI4NTZiMjlkMDcwOTI4MjExMnAzYzY1ZWVmMnM1MzczNmU4Zjg0YmRmNzkzQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ2RkU4QkEyLjUwMDAzMDdAc3RlcGhlbi1zbWl0aC5jby51az4=", 
        "referencesHeader": "PGZkYmpnYit2aXY3QGVHcm91cHMuY29tPgkgPGUwZjdhODI1YjVjYjVkMTg0M2NhZGNlYWRhMjZkZmJhNDZmOTgwZmJAMTkyLjE2OC4xMDAuMTU+CSA8Mjg1NmIyOWQwNzA5MjYwNzE4ajM1NmNhY2U2bWZjNzVjNjkwN2E0NzVlM2JAbWFpbC5nbWFpbC5jb20+CSA8NDZGQ0E0NjkuODAxMDRAc3RlcGhlbi1zbWl0aC5jby51az4gPDI4NTZiMjlkMDcwOTI4MjExMnAzYzY1ZWVmMnM1MzczNmU4Zjg0YmRmNzkzQG1haWwuZ21haWwuY29tPg=="
    }, 
    "authorName": "Stephen Smith", 
    "numMessagesInTopic": 8, 
    "msgSnippet": "Hi Arash, Let s get back to your original point of the problem is fetching the data from db is complicated and these tests I am talking about is to test the", 
    "contentTrasformed": false, 
    "msgId": 19934, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;steve@...&gt;\r\nX-Sender: steve@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 67496 invoked from network); 29 Sep 2007 17:30:22 -0000\r\nReceived: from unknown (69.147.108.200)\n  by m2.grp.re1.yahoo.com with QMQP; 29 Sep 2007 17:30:22 -0000\r\nReceived: from unknown (HELO server88-208-194-103.live-servers.net) (88.208.194.103)\n  by mta1.grp.re1.yahoo.com with SMTP; 29 Sep 2007 17:30:22 -0000\r\nReceived: (qmail 5186 invoked from network); 29 Sep 2007 17:30:18 -0000\r\nReceived: from dsl82-163-46-235.as15444.net (HELO ?192.168.2.8?) (root@...@82.163.46.235)\n  by server88-208-194-103.live-servers.net with ESMTPA; 29 Sep 2007 17:30:18 -0000\r\nMessage-ID: &lt;46FE8BA2.5000307@...&gt;\r\nDate: Sat, 29 Sep 2007 18:30:10 +0100\r\nUser-Agent: Thunderbird 2.0.0.6 (Windows/20070728)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;fdbjgb+viv7@...&gt;\t &lt;e0f7a825b5cb5d1843cadceada26dfba46f980fb@192.168.100.15&gt;\t &lt;2856b29d0709260718j356cace6mfc75c6907a475e3b@...&gt;\t &lt;46FCA469.80104@...&gt; &lt;2856b29d0709282112p3c65eef2s53736e8f84bdf793@...&gt;\r\nIn-Reply-To: &lt;2856b29d0709282112p3c65eef2s53736e8f84bdf793@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Stephen Smith &lt;steve@...&gt;\r\nReply-To: steve@...\r\nSubject: Re: [junit] Test Dependencies\r\nX-Yahoo-Group-Post: member; u=231973488\r\n\r\nHi Arash,\n\nLet&#39;s get back to your original point of &quot;the problem is fetching the data from db is complicated and these tests I am \ntalking about is to test the overall functionality of the system and also test the hibernate DAO objects; that&#39;s why I \nprefer to use the database data to run the test&quot;. You&#39;re talking about two different things. Firstly, why is fetching \nthe data complicated? Stored procedures or referential integrity rules enforced at the RDBMS level? I would argue such \ninternal database logic is not the concern of your unit tests.\n\nIf tests take a long time to run, that&#39;s a smell to me. If a test takes more than one second to run, it puts me off \nrunning it as frequently as I should. I advocate testing how you use third party APIs, not the APIs themselves... so in \nthe case of Hibernate I would have mocked tests asserting the calls to Hibernate, and tests checking my HBM file to \nverify how I have configured Hibernate.\n\nYou can use a mocking API such as JMock2 (www.jmock.org) to test the _behaviour_ of your DAO rather than its _state_, \ni.e. &quot;is the expected SQL query sent to the database with all the correct parameters?&quot; or &quot;are the expected calls made \nto Hibernate in the right order?&quot; My DAO would use the Dependency Injection pattern to provide a Hibernate \nSessionFactory interface.\n\npublic interface MyDAO {\n   public void setSessionFactory(SessionFactory sessionFactory);\n   public MyPOJO querySomething();\n   public void updateSomething();\n   public void deleteSomething();\n}\n\nThis allows for a mock implementation of SessionFactory in your tests, and the &quot;real&quot; implementation of SessionFactory \nin your production code. My tests would then assert that the expected Hibernate method calls are made and/or the \nexpected SQL is sent to the RDBMS.... and the tests would be much quicker (no external resources to hit) and be much \neasier to read (no need for complicated setup/teardown code).\n\nYou also referred to testing the overall functionality of the system - I would say that is beyond the scope of a unit \ntest, and that mocking is less applicable in those circumstances.\n\nCheers\n\nSteve\n\n---\nStephen Smith, MEng (Wales).\nhttp://www.stephen-smith.co.uk/\n\nArash Bizhan zadeh wrote:\n&gt; \n&gt; \n&gt; You are right. The tests takes a long while to run and is really\n&gt; frustrating, but I could not come up with a solution.\n&gt; \n&gt; Maybe I am missing something here. The logic in the database is rather\n&gt; complicated and the accuracy of queries is one of the most important thing\n&gt; in the application. Now my question is how can I mock hibernate in a way\n&gt; that to test accuracy of my query? I would appreciate any advise here.\n&gt; \n&gt; Regards,\n&gt; Arash\n&gt; \n&gt; On 9/28/07, Stephen Smith &lt;steve@... \n&gt; &lt;mailto:steve%40stephen-smith.co.uk&gt;&gt; wrote:\n&gt;  &gt;\n&gt;  &gt; Hi,\n&gt;  &gt;\n&gt;  &gt; I consider myself more of a mockist TDD practitioner than a classicist\n&gt;  &gt; these days - I would strongly advocate mocking to\n&gt;  &gt; keep your tests fast and simple. Why test a third party application such\n&gt;  &gt; as Hibernate? That&#39;s not your job, surely?\n&gt;  &gt;\n&gt;  &gt; If you want to test your classes which use Hibernate, mock the actual\n&gt;  &gt; Hibernate classes within your code and write some\n&gt;  &gt; behaviour driven tests, e.g. &quot;my fetch method calls Hibernate with this\n&gt;  &gt; HQL&quot;. That way you ensure you&#39;re using Hibernate\n&gt;  &gt; in the right way.\n&gt;  &gt;\n&gt;  &gt; I&#39;d also advocate writing tests against your Hibernate config... test\n&gt;  &gt; _how_ you use a third party application like\n&gt;  &gt; Spring or Hibernate, but not the third party application itself.\n&gt;  &gt;\n&gt;  &gt; S\n&gt;  &gt;\n&gt;  &gt; ---\n&gt;  &gt; Stephen Smith, MEng (Wales).\n&gt;  &gt; http://www.stephen-smith.co.uk/ &lt;http://www.stephen-smith.co.uk/&gt;\n&gt;  &gt;\n&gt;  &gt; Arash Bizhan zadeh wrote:\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Hi,\n&gt;  &gt; &gt; I understand that using of mock object is ideal, but the problem is\n&gt;  &gt; fetching\n&gt;  &gt; &gt; the data from db is complicated and these tests I am talking about \n&gt; is to\n&gt;  &gt; &gt; test the overall functionality of the system and also test the \n&gt; hibernate\n&gt;  &gt; DAO\n&gt;  &gt; &gt; objects; that&#39;s why I prefer to use the database data to run the test.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; Regards,\n&gt;  &gt; &gt; Arash\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; On 9/25/07, Ilya Zelker &lt;i.zelker@... \n&gt; &lt;mailto:i.zelker%40gtisoft.com&gt; &lt;i.zelker%40gtisoft.com&gt;\n&gt;  &gt; &gt; &lt;mailto:i.zelker% &lt;i.zelker%25&gt;40gtisoft.com&gt;&gt; wrote:\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt; One solution to consider is to use &quot;mock&quot; objects. You can try one of\n&gt;  &gt; &gt; &gt; the mocking frameworks, i.e jmock.\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt; Ilya\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt; Arash Bijanzadeh wrote:\n&gt;  &gt; &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt; &gt; I have a problem with the test dependencies. The application is a\n&gt;  &gt; &gt; &gt; &gt; database backed application and I want to test the db \n&gt; functionality.\n&gt;  &gt; &gt; &gt; &gt; For this purpose, first thing to be done is database populating\n&gt;  &gt; which\n&gt;  &gt; &gt; &gt; &gt; itself is a test suite. Is there any way to specify the order or\n&gt;  &gt; tests\n&gt;  &gt; &gt; &gt; &gt; in Junit? Or any other solution which suits this kind of scenarios?\n&gt;  &gt; &gt; &gt; &gt; Thanks in advance,\n&gt;  &gt; &gt; &gt; &gt; Arash\n&gt;  &gt; &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; --\n&gt;  &gt; &gt; You can not depend on your eyes when your imagination is out of focus.\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; [Non-text portions of this message have been removed]\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; ----------------------------------------------------------\n&gt;  &gt; &gt;\n&gt;  &gt; &gt; No virus found in this incoming message.\n&gt;  &gt; &gt; Checked by AVG Free Edition.\n&gt;  &gt; &gt; Version: 7.5.488 / Virus Database: 269.13.30/1025 - Release Date:\n&gt;  &gt; 23/09/2007 13:53\n&gt;  &gt;\n&gt;  &gt;\n&gt; \n&gt; -- \n&gt; You can not depend on your eyes when your imagination is out of focus.\n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------------------------------------------------------\n&gt; \n&gt; No virus found in this incoming message.\n&gt; Checked by AVG Free Edition. \n&gt; Version: 7.5.488 / Virus Database: 269.13.33/1036 - Release Date: 28/09/2007 15:40\n\n", 
    "subject": "Re: [junit] Test Dependencies"
}