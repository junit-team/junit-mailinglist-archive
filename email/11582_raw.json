{
    "numMessagesInTopic": 6, 
    "nextInTime": 11583, 
    "senderId": "ZwacTQVv4t36QvU_HCg27hHzcW27qkHj5v4gbjjlSFx0gZoTPhgJ6rr8AXgN9YmaTfMITcJAivZnLyRgTZA_fI3YojNC", 
    "systemMessage": false, 
    "subject": "RE: [junit] execute shell command in Junit to start server?", 
    "from": "Waani Toss &lt;want111@...&gt;", 
    "authorName": "Waani Toss", 
    "msgSnippet": "Thanks guys!!! So now I have created a dummy bat file(to test on windows) which outputs helloworld. I have written another class to take care of the log file", 
    "msgId": 11582, 
    "rawEmail": "Return-Path: &lt;want111@...&gt;\r\nReceived: (qmail 79779 invoked from network); 19 Jul 2004 14:12:38 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m22.grp.scd.yahoo.com with QMQP; 19 Jul 2004 14:12:38 -0000\r\nReceived: from unknown (HELO n20.grp.scd.yahoo.com) (66.218.66.76)\n  by mta6.grp.scd.yahoo.com with SMTP; 19 Jul 2004 14:12:37 -0000\r\nX-eGroups-Return: want111@...\r\nReceived: from [66.218.67.181] by n20.grp.scd.yahoo.com with NNFMP; 19 Jul 2004 14:08:51 -0000\r\nX-Sender: want111@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 79715 invoked from network); 19 Jul 2004 05:12:55 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m16.grp.scd.yahoo.com with QMQP; 19 Jul 2004 05:12:55 -0000\r\nReceived: from unknown (HELO web41709.mail.yahoo.com) (66.218.93.126)\n  by mta1.grp.scd.yahoo.com with SMTP; 19 Jul 2004 05:12:55 -0000\r\nMessage-ID: &lt;20040719051238.22798.qmail@...&gt;\r\nReceived: from [24.6.80.179] by web41709.mail.yahoo.com via HTTP; Sun, 18 Jul 2004 22:12:38 PDT\r\nDate: Sun, 18 Jul 2004 22:12:38 -0700 (PDT)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;950339FBB04A9046B91D7C325E00C22F06D240DD@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nX-eGroups-Remote-IP: 66.218.93.126\r\nFrom: Waani Toss &lt;want111@...&gt;\r\nSubject: RE: [junit] execute shell command in Junit to start server?\r\nX-Yahoo-Group-Post: member; u=191030087\r\nX-Yahoo-Profile: want111\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 19 Jul 2004 14:08:46 -0000\r\nX-eGroups-Remote-IP: 66.218.66.76\r\n\r\nThanks guys!!!\n\nSo now I have created a dummy bat file(to test on\nwindows) which outputs helloworld. I have written\nanother class to take care of the log file handling,\nfor testing. My question: is this the way to do test\nrunner, code in junit?\n\n//START SERVER\n\npackage junit.samples;\nimport junit.framework.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class  StartServer extends TestCase {\n\tprivate Runtime rtime = null;\n\n    public StartServer(String name) {\n        super(name);\n\t}\n\n\tpublic StartServer(){\n\t}\n\n\tpublic int getByteCountBeforShellExecute() {\n\t\t// log file Name\n\t\tFileInputStream fis = new\nFileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);\n\t\tint beforeByteCount = fis.available();\n\t\treturn beforeByteCount;\n\t}\n\n\tpublic void testProgramStarted(){\t\t\n\t\ttry{\n\t\trtime = Runtime.getRuntime();\n\n\t\t//Process child = rtime.exec(&quot;/bin/&quot;);\n\t\tString[] cmds = new String[]\n{&quot;C:&#92;&#92;winnt&#92;&#92;system32&#92;&#92;cmd.exe&quot; ,&quot;/c&quot;,\n&quot;C:&#92;&#92;junit&#92;&#92;samples&#92;&#92;helloworld.bat&quot;};\n\t\tProcess child = rtime.exec(cmds);\n\t\tInputStream is = child.getInputStream();\n\t\tInputStreamReader isr = new InputStreamReader(is);\n\t\tBufferedReader br = new BufferedReader(isr);\n\n\t\tString s = &quot;&quot;;\n\t\twhile ((s = br.readLine()) != null) {\n\t\t\t\t\tSystem.out.println(s);\n\t\t}\n\n\t\tchild.waitFor();\n\t\tchild.exitValue();\n\t\t//outCommand.flush();\n\n\n\n\t\t}catch(Exception e){\n\t\t\tSystem.out.println(e);\n\t\t}\n\n\t\tpublic String GetFileDiff(int beforeCount) {\n\t\t\t// log file Name\n\t\t\tfis = new FileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);\n\t\t\tbyte[] ab = new byte[fis.available() -\nbeforeCount];\n\t\t\tfis.skip(beforeCount);\n\t\t\tfis.read(ab);\n\t\t\tfis.close();\n\t\t\tString diff = new String(ab, &quot;UTF8&quot;);\n\t\t\treturn diff;\n\t\t}\n\n\n\t}\n\n\tpublic static void main(String[] args) \n\t{\n\t\tStartServer s= new StartServer();\n\t\t// Get the byte count of the log file before the\nshell program was executed.\n\t\tint beforeCount = s.getByteCountBeforShellExecute();\n\t\t// Execute the shell script\n\t\ts.testProgramStarted();\n\t\t// Get the file difference\n\t\tstring diffStr = getFileDiff(beforeCount);\n\t\t// Print the difference\n\t\tSystem.out.println(diffStr);\n\n\n\t\tjunit.textui.TestRunner.main(\n        new String[] {&quot;junit.samples.StartServer&quot;});\n\t\t\n\n\t}\n}\n\n=====================================================================\n//FOR THE LOG\n\nimport java.io.*;\n\npublic class  Diff\n{\n\tpublic void Difference() throws Exception {\n\t\tFileInputStream fis = new\nFileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);\n\t\tint beforeByteCount = fis.available();\n\n\t\tfis.close();\n\n\t\t// this is not necessary for your code.\n\t\tFileOutputStream fos = new\nFileOutputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;, true);\n\t\tString s = new String(&quot;EveryOne&quot;);\n\t\tbyte[] wb = s.getBytes(&quot;UTF8&quot;);\n\t\tfos.write(wb);\n\t\tfos.close();\n\t\t\n\t\tfis = new FileInputStream(&quot;C:&#92;&#92;temp&#92;&#92;Test.txt&quot;);\n\t\tbyte[] ab = new byte[fis.available() -\nbeforeByteCount];\n\t\tfis.skip(beforeByteCount);\n\t\tfis.read(ab);\n\t\tfis.close();\n\t\tString diff = new String(ab, &quot;UTF8&quot;);\n\t\tSystem.out.println(diff);\n\t}\n\n\tpublic static void main(String[] args) \n\t{\n\t\ttry\n\t\t{\n\t\t\tDiff d = new Diff();\n\t\t\td.Difference();\t\t\t\n\t\t}\n\t\tcatch (Exception e)\n\t\t{\n\t\t\tSystem.out.println(e.getMessage());\n\t\t}\n\t\t\n\t}\n}\n============================================================================================================\n--- Justin Knowlden &lt;justin.knowlden@...&gt;\nwrote:\n&gt; Do you want to know if a specific program is started\n&gt; or if you can start\n&gt; programs from Java?\n&gt; \n&gt;   _____  \n&gt; \n&gt; From: want111 [mailto:want111@...] \n&gt; Sent: Tuesday, July 13, 2004 12:17 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] execute shell command in Junit to\n&gt; start server?\n&gt; \n&gt; \n&gt; Thanks for the previous helpful reply. \n&gt; \n&gt; I have written this small piece of code that is\n&gt; suppose to execute a shell code named &quot;start&quot; from\n&gt; the\n&gt; bin which in turn starts the server. Is it the right\n&gt; way? I don&#39;t need suite(), setUp() or tearDown()?\n&gt; \n&gt; \n&gt; package junit.samples;\n&gt; import junit.framework.*;\n&gt; import java.util.*;\n&gt; \n&gt; class  ser extends TestCase {\n&gt; \n&gt;     public ser(String name) {\n&gt;         super(name)\n&gt;       }\n&gt;             \n&gt;       public void testProgramStarted(){\n&gt; \n&gt;             rtime = Runtime.getRuntime();\n&gt;             Process child = rtime.exec(&quot;/bin&quot;);\n&gt; \n&gt; \n&gt;             BufferedWriter outCommand = new\n&gt; BufferedWriter(new\n&gt; OutputStreamWriter(child.getOutputStream()));\n&gt;             outCommand.writeLine(&quot;start&quot;);\n&gt;             outCommand.flush();\n&gt;       }\n&gt; \n&gt; \n&gt;       public static void main(String[] args) \n&gt;       {\n&gt;             ser s= new ser();\n&gt;             s.stProgramStarted();\n&gt; \n&gt;       }\n&gt; }\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; Yahoo! Groups Sponsor\t\n&gt; ADVERTISEMENT\n&gt; click here\n&gt;\n&lt;http://us.ard.yahoo.com/SIG=129brdog6/M=295196.4901138.6071305.3001176/\n&gt;\nD=groups/S=1705006905:HM/EXP=1089822687/A=2128215/R=0/SIG=10se96mf6/*htt\n&gt; p://companion.yahoo.com&gt; \t\n&gt;  \n&gt;\n&lt;http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=group\n&gt; s/S=:HM/A=2128215/rand=147754863&gt; \t\n&gt; \n&gt;   _____  \n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; *\tTo visit your group on the web, go to:\n&gt; \thttp://groups.yahoo.com/group/junit/\n&gt; \t  \n&gt; *\tTo unsubscribe from this group, send an email to:\n&gt; \tjunit-unsubscribe@yahoogroups.com\n&gt;\n&lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; \n&gt; \t  \n&gt; *\tYour use of Yahoo! Groups is subject to the Yahoo!\n&gt; Terms of\n&gt; Service &lt;http://docs.yahoo.com/info/terms/&gt; . \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; [Non-text portions of this message have been\n&gt; removed]\n&gt; \n&gt; \n&gt; \n\n\n\n\t\t\n__________________________________\nDo you Yahoo!?\nVote for the stars of Yahoo!&#39;s next ad campaign!\nhttp://advision.webevents.yahoo.com/yahoo/votelifeengine/\n\n\n\n", 
    "profile": "want111", 
    "topicId": 11447, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 191030087, 
    "prevInTime": 11581, 
    "contentTrasformed": false, 
    "postDate": "1090213958", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 11546, 
    "headers": {
        "inReplyToHeader": "PDk1MDMzOUZCQjA0QTkwNDZCOTFEN0MzMjVFMDBDMjJGMDZEMjQwRERAVUxTRVhDSC5jb3JwLnVhbGxveWFsdHkuY29tPg==", 
        "messageIdInHeader": "PDIwMDQwNzE5MDUxMjM4LjIyNzk4LnFtYWlsQHdlYjQxNzA5Lm1haWwueWFob28uY29tPg=="
    }
}