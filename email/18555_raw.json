{
    "numMessagesInTopic": 12, 
    "nextInTime": 18556, 
    "senderId": "qoVIz5Ua8EBrJiZKapkgpSaccsJMloD6_eoI-TqVBwLKMaWLar_x3VojBEcn8KuDKYNZgqTAviY2jeZiP9i6fQsOy-OfItAkUAgrM1IFsyQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] Test a remote server", 
    "from": "avinash anand &lt;avinash_anand@...&gt;", 
    "authorName": "avinash anand", 
    "msgSnippet": "Hi Steve I guess you did not get my difficulty. Let me explain once again. There is a system which you install (a multi-box installation)Which has the ORB", 
    "msgId": 18555, 
    "rawEmail": "Return-Path: &lt;avinash_anand@...&gt;\r\nReceived: (qmail 41105 invoked from network); 18 Dec 2006 08:02:59 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m24.grp.scd.yahoo.com with QMQP; 18 Dec 2006 08:02:59 -0000\r\nReceived: from unknown (HELO n4c.bullet.sp1.yahoo.com) (69.147.64.184)\n  by mta10.grp.scd.yahoo.com with SMTP; 18 Dec 2006 08:02:59 -0000\r\nReceived: from [216.252.122.219] by n4.bullet.sp1.yahoo.com with NNFMP; 18 Dec 2006 08:00:27 -0000\r\nReceived: from [209.73.164.86] by t4.bullet.sp1.yahoo.com with NNFMP; 18 Dec 2006 08:00:26 -0000\r\nReceived: from [66.218.66.81] by t8.bullet.scd.yahoo.com with NNFMP; 18 Dec 2006 08:00:26 -0000\r\nX-Sender: avinash_anand@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 61419 invoked from network); 18 Dec 2006 07:34:12 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m29.grp.scd.yahoo.com with QMQP; 18 Dec 2006 07:34:12 -0000\r\nReceived: from unknown (HELO web26708.mail.ukl.yahoo.com) (217.146.176.71)\n  by mta7.grp.scd.yahoo.com with SMTP; 18 Dec 2006 07:34:10 -0000\r\nReceived: (qmail 72227 invoked by uid 60001); 18 Dec 2006 07:33:47 -0000\r\nMessage-ID: &lt;20061218073347.72225.qmail@...&gt;\r\nReceived: from [198.152.12.67] by web26708.mail.ukl.yahoo.com via HTTP; Mon, 18 Dec 2006 07:33:47 GMT\r\nDate: Mon, 18 Dec 2006 07:33:46 +0000 (GMT)\r\nTo: junit@yahoogroups.com\r\nMIME-Version: 1.0\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: avinash anand &lt;avinash_anand@...&gt;\r\nSubject: Re: [junit] Test a remote server\r\nX-Yahoo-Group-Post: member; u=242433434; y=TV1Xyonk6n1g_gggxGnSynnc7Dpr6E3FA98h7CuVaDf8X1zKxE9h1w\r\nX-Yahoo-Profile: avinash_anand\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 18 Dec 2006 08:00:25 -0000\r\n\r\nHi Steve\n         I guess you did not get my difficulty. Let me explain once again.\n\nThere is a system which you install (a multi-box installation)Which has the ORB server as the parent one. Other servers are scattered over other machines. Now I write a test server and copy the binary of the test server in the BIN directory. With the help of Admin console I start my test server and perform various operation viz start the server, load configuration parameters. The actuall operation of server is totally dependent on other servers. When a request comes to this test server from say server1 it performs some operation e.g fetches some database records and then forward a responce to Server2. It is this ways the system operates. \n\nThere is no way that this test server can be run independently. Neither there is any way to run this server from any IDE as all its inputs and behaviour are dependent on other servers and services which are Native code.\n\nNow the problem is I want to write unit test cases on this testServer which is a Java code. Since the test suite will be written in eclipse IDE, how will it test the actuall testServer class which is running in the live enviroment.\n\nSo please suggest me some ideas how to test a java code running out of the IDE (Predominently the test suite running in the IDE)\n\nHELP !!!\n\n\nThanks\nAvinash \n\n\n----- Original Message ----\nFrom: Stephen Smith &lt;steve@...&gt;\nTo: junit@yahoogroups.com\nSent: Sunday, 17 December, 2006 1:07:24 AM\nSubject: Re: [junit] Test a remote server\n\nHi Avinash,\n\nAndrew has given an excellent analysis of your problem. It should be \nrelatively easy to write a TestCase for the below class without having \nto worry about JNI, CORBA, or any XML-based configuration.\n\nWorking solely from the example you&#39;ve given below (and resisting the \ntemptation to discuss refactoring the class to make it more testable \n_before_ writing a test case) I can see a whole host of TestCase \ncandidates here, such as:\n\n01. testMainWithServerC onfigParametersC reatesReadyServe r - by directly \ncalling Server#main( String []) and using Assert#assertTrue on \nServer#isServerRead y (or similar) we would be able to test if server \nconfiguration is successful. Such a test would also help by design by \nmaking us ask questions along the lines of &quot;What constitutes a ready \nserver? Configured correctly? Started?&quot;\n\n02. testGetInstanceAlwa ysReturnsSameIns tance - by using \nAssert#assertSame we can check that the Singleton design pattern is \nbeing enforced correctly. I&#39;m sorely tempted to suggest binning the \nSingleton pattern (is &quot;only one connection to the server at any one \ntime&quot; an explicit intention?), but refactoring before we&#39;ve finished our \nTestCase would be a bit naughty.\n\n03. testIsServerStarted /testIsServerSto pped - these are \nself-explanatory, although they do bring us back to the question of \nready vs. started again.\n\nOne strategy that would be very helpful here would be mocking - there \nare plenty of articles online related to mocking in JUnit, and some \npretty good books as well.\n\nCheers,\n\nSteve.\n\n--\nStephen Smith, MEng (Wales).\nhttp://www.stephen- smith.co. uk/\n\navinash anand wrote:\n&gt; \n&gt; \n&gt; Hi\n&gt; Posting the real .java file would not be possible for me but I am \n&gt; writting a sample java file which will be doing the same (You can say \n&gt; its a prototype of it.)\n&gt; \n&gt; class server{\n&gt; private DBConnection _dbconnectoin;\n&gt; private server _serverinstance = null;\n&gt; private static VespAlarmService _alarmService;\n&gt; private static VespUuid _serverUUID;\n&gt; private server(){\n&gt; _alarmService = VespAlarmServiceImp l.getInstance( );\n&gt; }\n&gt; public static server getInstance( ){\n&gt; if (null == _servernstance) {\n&gt; _serverinstance = new server();\n&gt; }\n&gt; return _serverinstance;\n&gt; }\n&gt; public static void main(String[ ] args){\n&gt; if (args.length &gt;= 1){\n&gt; try {\n&gt; //set the initial environment\n&gt; AnotherServer. getInstance( ).setEnvironment ();\n&gt; server obj = server.getInstance( );\n&gt; _serverUUID = new VespUuid(args[ 0]);\n&gt; StringBuffer sb = new StringBuffer( _serverUUID. getInetAddress( ).toString( ));\n&gt; sb.delete(0, 1);\n&gt; sb.append(&quot;: &quot;);\n&gt; sb.append(_serverUU ID.getPort( ));\n&gt; String sInetAddress = sb.toString( );\n&gt; System.setProperty( VespConfigParams .MTT_INSTANCE_ HOST_PROPERTY, \n&gt; sInetAddress) ;\n&gt; if(args.length &gt;= 2) {\n&gt; System.setProperty( VespConfigParams .ORB_UUID_ PROPERTY, args[1]);\n&gt; }\n&gt; void startserver ()\n&gt; {\n&gt; }\n&gt; void stopserver()\n&gt; {\n&gt; }\n&gt; void isserverready( )\n&gt; {\n&gt; }\n&gt; void generatevespAlarm( )\n&gt; {\n&gt; }\n&gt; }\n&gt; \n&gt; This is how the main class looks. There are many other supporting JAVA \n&gt; files for this main server. It uses a JNI layer to talk to the native \n&gt; code. Which is implemented elesewhere.\n&gt; \n&gt; For it to run in the actul enviroment, it uses a wrapper .exe which \n&gt; calls an xml file where all the server properties are listed in the main \n&gt; method the location of .class files are specified which are already \n&gt; compiled and put in the java&#92;lib folder in the form of .jar. Here is the \n&gt; snippet of xml file where the exe tries to read it.\n&gt; \n&gt; &lt;stringProperty property=&quot;jloader. server.main. class&quot; displayName= &quot;Main \n&gt; class&quot; default=&quot;com/ xyz/server/ testing&quot; enabled=&quot;false&quot; advanced=&quot;true&quot; /&gt;\n&gt; \n&gt; What I am trying is to write a JUnit test suite for this Java based \n&gt; server, which will be running in the form of an .exe. And my test cases \n&gt; will be running in eclipse.\n&gt; \n&gt; Hope the entire thing might make the picture a bit clear.\n&gt; \n&gt; Thanks\n&gt; Avinash\n&gt; \n&gt; ----- Original Message ----\n&gt; From: &quot;andrew.p.mcdonagh@ gsk.com &lt;mailto:andrew. p.mcdonagh% 40gsk.com&gt; &quot; \n&gt; &lt;andrew.p.mcdonagh@ gsk.com &lt;mailto:andrew. p.mcdonagh% 40gsk.com&gt; &gt;\n&gt; To: junit@yahoogroups. com &lt;mailto:junit% 40yahoogroups. com&gt;\n&gt; Sent: Friday, 15 December, 2006 7:25:14 PM\n&gt; Subject: Re: [junit] Test a remote server\n&gt; \n&gt; Hi,\n&gt; \n&gt; Not sure why your Java app does not use Java&#39;s corba ability (a good Java\n&gt; ORB being http://www.jacorb. org/ ), instead of JNI...\n&gt; \n&gt; Anyway, onto your real question, how do I test the code that is dependant\n&gt; upon the other servers?\n&gt; \n&gt; As you are asking on the JUnit list I take it you mean Unit test?\n&gt; Not System or Integration testing?\n&gt; \n&gt; If so, then you will find unit testing much simpler and (imo) better, if\n&gt; none of your unit tests need to access any file, network, database or UI.\n&gt; This means they run very fast. Once you figure out how to do them, you\n&gt; should be able to write lots of them , quickly too.\n&gt; \n&gt; We could just give you some simple examples, but I tend to find it better\n&gt; to show you how to unit test one of your classes that depend on corba or\n&gt; some other system, by using one of your real classes. So, please post\n&gt; (just one) class and we&#39;ll knock up a unit test for it.\n&gt; \n&gt; Regards\n&gt; \n&gt; Andrew\n&gt; \n&gt; &quot;avinash anand&quot; &lt;avinash_anand@ yahoo.co. uk&gt;\n&gt; Sent by: junit@yahoogroups. com\n&gt; 15-Dec-2006 09:04\n&gt; Please respond to junit@yahoogroups. com\n&gt; \n&gt; To\n&gt; junit@yahoogroups. com\n&gt; cc\n&gt; \n&gt; Subject\n&gt; [junit] Test a remote server\n&gt; \n&gt; Hi Group\n&gt; Greetings to all. These days I am writting test suit for a CORBA CRM. Let\n&gt; me first introduce the system.\n&gt; \n&gt; There is a central ORB server and many other servers which talk to each\n&gt; other through vesp. ORB being the central one. Entire code base is in C++.\n&gt; I have to test a new server introduced in the system which is written in\n&gt; Java. This new server talks to the rest through JNI. As a matter of Fact\n&gt; none of the servers can run independently, they neccesirily have to log\n&gt; into the central kit and report to the the central ORB server. After\n&gt; validation stuff the server starts working.\n&gt; \n&gt; Even this new Java based server uses an executable file to work\n&gt; (Jloader.exe written in c++)\n&gt; \n&gt; This .exe loads various .dll files in the system and in its main method\n&gt; calls the compiled .class files. This is the way how system functions.\n&gt; \n&gt; My problem is that when I will write a JUnit test case in IDE (eclipse)\n&gt; which would operate on the actual code which has 99% dependency and cannot\n&gt; be tested isolated. Is there any way to test this server code while it is\n&gt; working under the live system and the test suite running in the eclipse\n&gt; IDE.\n&gt; \n&gt; HELP !!!\n&gt; \n&gt; Thanks\n&gt; Avinash\n&gt; \n&gt; ____________ _________ _________ _________ _________ _________ _\n&gt; Now you can scan emails quickly with a reading pane. Get the new Yahoo!\n&gt; Mail. http://uk.docs. yahoo.com/ nowyoucan. html\n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ____________ _________ _________ _________ _________ _________ _\n&gt; All new Yahoo! Mail &quot;The new Interface is stunning in its simplicity and \n&gt; ease of use.&quot; - PC Magazine\n&gt; http://uk.docs. yahoo.com/ nowyoucan. html \n&gt; &lt;http://uk.docs. yahoo.com/ nowyoucan. html&gt;\n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------ --------- --------- --------- --------- --------- -\n&gt; \n&gt; No virus found in this incoming message.\n&gt; Checked by AVG Free Edition.\n&gt; Version: 7.5.432 / Virus Database: 268.15.19/587 - Release Date: 14/12/2006 19:28\n\n\n\n\n\n\t\t\n___________________________________________________________ \nCopy addresses and emails from any email account to Yahoo! Mail - quick, easy and free. http://uk.docs.yahoo.com/trueswitch2.html\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "avinash_anand", 
    "topicId": 18546, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 242433434, 
    "prevInTime": 18554, 
    "contentTrasformed": false, 
    "postDate": "1166427226", 
    "canDelete": false, 
    "nextInTopic": 18556, 
    "prevInTopic": 18551, 
    "headers": {
        "messageIdInHeader": "PDIwMDYxMjE4MDczMzQ3LjcyMjI1LnFtYWlsQHdlYjI2NzA4Lm1haWwudWtsLnlhaG9vLmNvbT4="
    }
}