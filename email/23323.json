{
    "numMessagesInTopic": 15, 
    "nextInTime": 23324, 
    "senderId": "iy9j1N--LylTpT2b76e7gSBvK05WLI_bvVfHLbvKRnITX9aCUUNKvRFVrxEIE-AAPELcHjX6Rtigc31dDN_aBX3Y5OS4", 
    "systemMessage": true, 
    "subject": "Re: [junit] Mark failed assumptions as ignored?", 
    "from": "Bill Venners &lt;bill@...&gt;", 
    "authorName": "Bill Venners", 
    "msgSnippet": "Hi Joakim, On Fri, Mar 11, 2011 at 3:18 PM, Joakim Ohlrogge ... ScalaTest to make writing JUnit tests in Scala more productive. And perhaps you re aware you", 
    "msgId": 23323, 
    "profile": "billvenners", 
    "topicId": 23297, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 416990097, 
    "messageBody": "<div id=\"ygrps-yiv-113478141\">Hi Joakim,<br/>\n<br/>\nOn Fri, Mar 11, 2011 at 3:18 PM, Joakim Ohlrogge<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a>&gt;wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt;<br/>\n&gt; If anything useful comes out of it it can be contributed for sure.<br/>\n&gt; I&#39;ve chosen a quite liberal license (Beerware :)) in case someone else<br/>\n&gt; feels inspired to borrow/steal or contribute.<br/>\n&gt;<br/>\n&gt; I&#39;m a bit inspired. I&#39;m sure you&#39;re aware that there&#39;s a lot of stuff in<br/>\n </span></blockquote>ScalaTest to make writing JUnit tests in Scala more productive. And perhaps<br/>\nyou&#39;re aware you can run ScalaTest tests in the Scala interpreter by<br/>\ninvoking execute on them. So for example given this test:<br/>\n<br/>\nimport org.scalatest.junit.JUnitSuite<br/>\nimport scala.collection.mutable.ListBuffer<br/>\nimport _root_.org.junit.Test<br/>\nimport _root_.org.junit.Before<br/>\n<br/>\nclass HowSuite extends JUnitSuite {<br/>\n<br/>\n  var sb: StringBuilder = _<br/>\n  var lb: ListBuffer[String] = _<br/>\n<br/>\n  @Before def initialize() {<br/>\n    sb = new StringBuilder(&quot;ScalaTest is &quot;)<br/>\n    lb = new ListBuffer[String]<br/>\n  }<br/>\n<br/>\n  @Test def verifyEasy() {<br/>\n    sb.append(&quot;easy!&quot;)<br/>\n    assert(sb.toString === &quot;ScalaTest is easy!&quot;)<br/>\n    assert(lb.isEmpty)<br/>\n    lb += &quot;sweet&quot;<br/>\n  }<br/>\n<br/>\n  @Test def verifyFun() {<br/>\n    sb.append(&quot;fun!&quot;)<br/>\n    assert(sb.toString === &quot;ScalaTest is fun!&quot;)<br/>\n    assert(lb.isEmpty)<br/>\n  }<br/>\n}<br/>\n<br/>\nYou could run it in the interpreter like this (both ScalaTest and JUnit need<br/>\nto be on the classpath):<br/>\n<br/>\nuser-64-9-237-191:scalatest-1.3 bv$ scala -cp<br/>\nscalatest-1.3.jar:junit-4.4.jar<br/>\nWelcome to Scala version 2.8.0.final (Java HotSpot(TM) 64-Bit Server VM,<br/>\nJava 1.6.0_22).<br/>\nType in expressions to have them evaluated.<br/>\nType :help for more information.<br/>\n<br/>\nscala&gt; :load HowSuite.scala<br/>\nLoading HowSuite.scala...<br/>\nimport org.scalatest.junit.JUnitSuite<br/>\nimport scala.collection.mutable.ListBuffer<br/>\nimport _root_.org.junit.Test<br/>\nimport _root_.org.junit.Before<br/>\ndefined class HowSuite<br/>\n<br/>\nscala&gt; (new HowSuite).execute()<br/>\nTest Starting - line5$object$$iw$$iw$HowSuite: verifyEasy<br/>\nTest Succeeded - line5$object$$iw$$iw$HowSuite: verifyEasy<br/>\nTest Starting - line5$object$$iw$$iw$HowSuite: verifyFun<br/>\nTest Succeeded - line5$object$$iw$$iw$HowSuite: verifyFun<br/>\n<br/>\nJust create a new instance and call execute on it and it will run. (This is<br/>\na JUnit 4 test class, so JUnit can run it jut fine. In this case you&#39;re<br/>\nasking ScalaTest to run it, though what ScalaTest does is turn around and<br/>\nask JUnit to run it, capturing and displaying the results.) If you want to<br/>\nrun just one of those tests you can specify it by name:<br/>\n<br/>\nscala&gt; (new HowSuite).execute(&quot;verifyFun&quot;)<br/>\nTest Starting - line5$object$$iw$$iw$HowSuite: verifyFun<br/>\nTest Succeeded - line5$object$$iw$$iw$HowSuite: verifyFun<br/>\n<br/>\nAnd you can pass in config map of configuration information to execute if<br/>\nyou want.<br/>\n<br/>\nIt works, but it is ugly. The output has two problems. One is that because I<br/>\nloaded the class with :load into the interpreter, instead of compiling it, I<br/>\nget very long names for the class name with lots of dollar signs. So one<br/>\nenhancement would be to drop everything to the left of the first dollar<br/>\nsign. I&#39;m pretty sure I&#39;m doing that somewhere else in ScalaTest, so I could<br/>\ndo it here.<br/>\n<br/>\nThe other annoyance is you get info on both TestStarting and TestSucceeded,<br/>\ntwo lines of info for each test. What I originally did was only format the<br/>\noutput of BDD style test traits, because BDD was in part about output that<br/>\nlooks like a spec, and TDD was not. But I&#39;ve gotten clear feedback that<br/>\npeople using the non-BDD traits would like pretty output too, so I&#39;ve<br/>\nalready decided to change that. So it should soon look something like:<br/>\n<br/>\nscala&gt; (new HowSuite).execute()<br/>\nHowSuite<br/>\n- verifyEasy<br/>\n- verifyFun<br/>\n<br/>\nAnother thing I did originally was not show color when you use execute(),<br/>\nbecause I wasn&#39;t sure how to let people turn color off, and I felt it was<br/>\nworse to force color on people whose terminals didn&#39;t support it than the<br/>\nother way around. But people really like color. It is pretty and makes it<br/>\nmore readable. So what I&#39;d like to do is figure out some way to let people<br/>\nconfigure color, full stack traces, and durations when using execute. Now<br/>\nthat Scala has default params, that&#39;s probably the right way to do it. So<br/>\ncolor would be the default, and to turn it off you&#39;d say:<br/>\n<br/>\nscala&gt; (new HowSuite).execute(color = false)<br/>\n<br/>\nAnd lastly, your dots idea is interesting. Whenever I run with a standard<br/>\nout reporter, I get lots and lots and lots of green test names that passed.<br/>\nAnd what I really care about is the ones that failed. So I think it may make<br/>\nsense to add one more option to the standard out/err and file reporters that<br/>\njust shows one dot for each passed test. And then that could possibly be the<br/>\ndefault for execute, maybe.<br/>\n<br/>\nAnd lastly lastly, maybe execute should show a summary line at the end, like<br/>\nthe runner does.<br/>\n<br/>\nAs far as getting JUnit to do something like pending and pendingUntilFixed,<br/>\nthat will be tough until JUnit can treat some kind of exception specially.<br/>\nBe nice to have a TestIgnoredException that gets reported as an ignored test<br/>\nin JUnit someday.<br/>\n<br/>\nBill<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Lets see where it goes. Right now it&#39;s mostly for fun.<br/>\n&gt; /J<br/>\n&gt;<br/>\n&gt; -----------------------------------------------------<br/>\n&gt; Joakim Ohlrogge<br/>\n&gt; Agical AB<br/>\n&gt; V�sterl�nggatan 79, 2 tr<br/>\n&gt; 111 29 Stockholm, SWEDEN<br/>\n&gt;<br/>\n&gt; Mobile: +46-708-754004<br/>\n&gt;<br/>\n&gt; Blog: johlrogge.wordpress.com<br/>\n&gt; E-mail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a><br/>\n&gt;<br/>\n&gt; On Fri, Mar 11, 2011 at 8:13 PM, David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:david@...\">david@...</a>&gt; wrote:<br/>\n&gt; &gt; Joakim,<br/>\n&gt; &gt;<br/>\n&gt; &gt; Not silly at all.  I&#39;m looking forward to a future where the lessons of<br/>\n&gt; &gt; Eclipse bear fruit in more Emacs-like environments.  I wish I had more<br/>\n&gt; time<br/>\n&gt; &gt; to play with Scala, but I appreciate your efforts there.  If you&#39;d like<br/>\n&gt; to<br/>\n&gt; &gt; contribute any of it to a future junit.contrib project, let us know.<br/>\n&gt; &gt;<br/>\n&gt; &gt;   David Saff<br/>\n&gt; &gt;<br/>\n&gt; &gt; On Fri, Mar 11, 2011 at 1:54 PM, Joakim Ohlrogge &lt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a><br/>\n&gt; &gt;&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt;&gt; Thanks for the update (and the welcome back).<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Yes, it seems like there is a bit of a problem that eclipse has gone a<br/>\n&gt; bit<br/>\n&gt; &gt;&gt; stale. I can imagine that it puts constraints on the JUnit development.<br/>\n&gt; I am<br/>\n&gt; &gt;&gt; currently loosing myself in Ensime-land (silly I know) so it will be a<br/>\n&gt; while<br/>\n&gt; &gt;&gt; before I come to my senses and decide that it&#39;s a good idea to make<br/>\n&gt; stuff<br/>\n&gt; &gt;&gt; work in eclipse.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Meanwhile, here is my latest yak-shaving effort related to JUnit.<br/>\n&gt; Poju4s:<br/>\n&gt; &gt;&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://johlrogge.wordpress.com/2011/03/11/poju4s-an-attempt-to-make-junit-a-bit-more-scala-friendly/\">http://johlrogge.wordpress.com/2011/03/11/poju4s-an-attempt-to-make-junit-a-bit-more-scala-friendly/</a><br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Enjoy! :)<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; /J<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; On Wed, Mar 2, 2011 at 5:51 PM, David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:david@...\">david@...</a>&gt; wrote:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt; Joakim,<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt; Welcome back. :-)<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt; The idea always was to have assumption failures be treated the same as<br/>\n&gt; &gt;&gt;&gt; ignored tests. Unfortunately, there was no way to make that happen in<br/>\n&gt; &gt;&gt;&gt; Eclipse without changing Eclipse, and we lost momentum on the feature.<br/>\n&gt; &gt;&gt;&gt; If you have some energy to push matters forward, or patience to wait<br/>\n&gt; &gt;&gt;&gt; until I do, or tenacity to keep reminding me, I&#39;d appreciate any or<br/>\n&gt; &gt;&gt;&gt; all.<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt; David Saff<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt; On Sat, Feb 26, 2011 at 10:30 AM, Joakim Ohlrogge<br/>\n&gt; &gt;&gt;&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a>&gt; wrote:<br/>\n&gt; &gt;&gt;&gt; &gt; Hi I have not followed JUnit for a while. I have mostly been using<br/>\n&gt; &gt;&gt;&gt; &gt; ScalaTest and Midje. Today I felt that using JUnit with scala might<br/>\n&gt; &gt;&gt;&gt; &gt; not be the worst idea. I feel that the scala tools are lacking in...<br/>\n&gt; &gt;&gt;&gt; &gt; inderstanding of the TDD/BDD approach (which is just a feeling). Long<br/>\n&gt; &gt;&gt;&gt; &gt; story short, I want to do something like scalaTests pendingUntliFixed<br/>\n&gt; &gt;&gt;&gt; &gt; which basically makrs a failing test as ignored until it stops<br/>\n&gt; failing<br/>\n&gt; &gt;&gt;&gt; &gt; where pendingUntilFixed will start failing the test saying that &quot;test<br/>\n&gt; &gt;&gt;&gt; &gt; was marked as pending but did not throw an exception&quot;  (so that you<br/>\n&gt; &gt;&gt;&gt; &gt; will not accidentally leave pendingUntilFixed in for code tests that<br/>\n&gt; &gt;&gt;&gt; &gt; work.<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt; I realized that this is very easy to do in JUnit from scala.<br/>\n&gt; Something<br/>\n&gt; &gt;&gt;&gt; &gt; like this:<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;  def pendingUntilFixed(body: =&gt; Unit) = {<br/>\n&gt; &gt;&gt;&gt; &gt;    (try {<br/>\n&gt; &gt;&gt;&gt; &gt;      body<br/>\n&gt; &gt;&gt;&gt; &gt;      false<br/>\n&gt; &gt;&gt;&gt; &gt;    }<br/>\n&gt; &gt;&gt;&gt; &gt;    catch {<br/>\n&gt; &gt;&gt;&gt; &gt;      case e:Throwable =&gt; true<br/>\n&gt; &gt;&gt;&gt; &gt;    }) match {<br/>\n&gt; &gt;&gt;&gt; &gt;      case false =&gt; error(&quot;Test was marked as pending but did not<br/>\n&gt; fail&quot;)<br/>\n&gt; &gt;&gt;&gt; &gt;      case true =&gt; ()<br/>\n&gt; &gt;&gt;&gt; &gt;    }<br/>\n&gt; &gt;&gt;&gt; &gt;  }<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;  @Test<br/>\n&gt; &gt;&gt;&gt; &gt;  def someFailingTest = pendingUntilFixed {<br/>\n&gt; &gt;&gt;&gt; &gt;    assertThat(true, is(false))<br/>\n&gt; &gt;&gt;&gt; &gt;  }<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;  @Test<br/>\n&gt; &gt;&gt;&gt; &gt;  def someFixedTest = pendingUntilFixed {<br/>\n&gt; &gt;&gt;&gt; &gt;    assertThat(true, is(true))<br/>\n&gt; &gt;&gt;&gt; &gt;  }<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt; The problem is that pending tests are marked as succeding when they<br/>\n&gt; &gt;&gt;&gt; &gt; fail. It would be cool if I could somehow mark them as Ignored<br/>\n&gt; &gt;&gt;&gt; &gt; instead. Is there some exception I could throe that would accomplish<br/>\n&gt; &gt;&gt;&gt; &gt; this? I sort of thought that AssmptionError would be logical to be<br/>\n&gt; &gt;&gt;&gt; &gt; displayed as ignored instead of succeeding hence the title.<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt; Ideas?<br/>\n&gt; &gt;&gt;&gt; &gt; -----------------------------------------------------<br/>\n&gt; &gt;&gt;&gt; &gt; Joakim Ohlrogge<br/>\n&gt; &gt;&gt;&gt; &gt; Agical AB<br/>\n&gt; &gt;&gt;&gt; &gt; V�sterl�nggatan 79, 2 tr<br/>\n&gt; &gt;&gt;&gt; &gt; 111 29 Stockholm, SWEDEN<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt; Mobile: &lt;%2B46-708-754004&gt;+46-708-754004<br/>\n&gt; &gt;&gt;&gt; &gt; Blog: johlrogge.wordpress.com<br/>\n&gt; &gt;&gt;&gt; &gt; E-mail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:joakim.ohlrogge@...\">joakim.ohlrogge@...</a><br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt; ------------------------------------<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt; &gt;<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>-- <br/>\nBill Venners<br/>\nArtima, Inc.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.artima.com\">http://www.artima.com</a><br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 23322, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1299889539", 
    "canDelete": false, 
    "nextInTopic": 23324, 
    "prevInTopic": 23322, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGlrejR6cm5XVmZiaWZ6WFBScFZ0Nm85d09zc2RONDhld3B3NjFEV0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PEFBTkxrVGluVHNjRHFMVndINm83Z1Etcl9Lb3E0OXI9TnFpcG5zdHNYTGgrMkBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PEFBTkxrVGluS0xVVUh3Q2V4MUc5UV9oWFY0SFN2MTIrWTc3OFFucnh2dmFva0BtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGk9di15dENIVXRHSDQ2PXhVU2ZBRC1zb3p4VzFVb3FRU2JiMTUyWkBtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGluY0U2bU1ONW9GdWpjU3RabnpKRHpLZnpzMml6OEFHeTViREFSUUBtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGk9ek9VT1RqVkR0eExyNzdNOEJYSnZONDQxVXpBMW5LT0x4TjFoU0BtYWlsLmdtYWlsLmNvbT4JPEFBTkxrVGlrejR6cm5XVmZiaWZ6WFBScFZ0Nm85d09zc2RONDhld3B3NjFEV0BtYWlsLmdtYWlsLmNvbT4="
    }
}