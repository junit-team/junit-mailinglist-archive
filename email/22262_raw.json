{
    "topicId": 22219, 
    "postDate": "1262800063", 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "from": "&quot;Pigneri, Rocco&quot; &lt;rpigneri@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "BszoOBfZLm3nkJg8oYmc73oWk8Iq5zeC3OFpiB_9vWgaLJk3SnwJhSAchbVzWq040KZ1Is8GOdyTG8-23XXAWaY4Cyxevs9PKb2FU4mGTw", 
    "nextInTime": 22263, 
    "userId": 383279107, 
    "prevInTime": 22261, 
    "prevInTopic": 22261, 
    "headers": {
        "inReplyToHeader": "PDEwM0MxQzVFLTc5QjYtNEI0Ri05MEU3LTcyMThDOTYwMDY5MUBlYXJ0aGxpbmsubmV0Pg==", 
        "messageIdInHeader": "PDgxRkI0OTFFRUY1RUEzNEY5N0ZGNzA2QUMxQUIzNTYzMTRFNkUzMjQ1NkBib3N0b24tbWFpbC5sYXZhc3Rvcm0ubG9jYWwuY29tPg==", 
        "referencesHeader": "PEMwQThEMTBELTJDQjktNDBBNC1BQ0M2LTQyN0RCNkE1RDY2MEBlYXJ0aGxpbmsubmV0PiA8MDAzMzAxY2E4ZDczJGJkMjQyYWUwJDY0MDFhOGMwQGZlcnJhcmk+IDxiODZiNmE5YzEwMDEwNDExMjhwMzU1OGZlMzd5Y2I3ZjRmZWJjOWI1MDlhMEBtYWlsLmdtYWlsLmNvbT4gPDRkZDVhNDZjMTAwMTA0MTI0MnQ0ODMwZmM0Zmk0ZDk3ZDg3MWU2NWNiOWE2QG1haWwuZ21haWwuY29tPiA8ODFGQjQ5MUVFRjVFQTM0Rjk3RkY3MDZBQzFBQjM1NjMxNEU2RDEzMDRFQGJvc3Rvbi1tYWlsLmxhdmFzdG9ybS5sb2NhbC5jb20+IDwxMDNDMUM1RS03OUI2LTRCNEYtOTBFNy03MjE4Qzk2MDA2OTFAZWFydGhsaW5rLm5ldD4="
    }, 
    "authorName": "Pigneri, Rocco", 
    "numMessagesInTopic": 38, 
    "msgSnippet": "Dear Kent, Letâ€™s say that you are building a reporting tool for a financial firm and that you have three major indices to manage: consumer spending, average", 
    "contentTrasformed": false, 
    "msgId": 22262, 
    "nextInTopic": 22263, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;rpigneri@...&gt;\r\nX-Sender: rpigneri@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 13141 invoked from network); 6 Jan 2010 17:48:07 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m1.grp.sp2.yahoo.com with QMQP; 6 Jan 2010 17:48:07 -0000\r\nX-Received: from unknown (HELO VA3EHSOBE002.bigfish.com) (216.32.180.12)\n  by mta3.grp.sp2.yahoo.com with SMTP; 6 Jan 2010 17:48:07 -0000\r\nX-Received: from mail40-va3-R.bigfish.com (10.7.14.241) by\n VA3EHSOBE002.bigfish.com (10.7.40.22) with Microsoft SMTP Server id\n 8.1.240.5; Wed, 6 Jan 2010 17:48:07 +0000\r\nX-Received: from mail40-va3 (localhost.localdomain [127.0.0.1])\tby\n mail40-va3-R.bigfish.com (Postfix) with ESMTP id 1175E11084DD\tfor\n &lt;junit@yahoogroups.com&gt;; Wed,  6 Jan 2010 17:48:07 +0000 (UTC)\r\nX-SpamScore: -27\r\nX-BigFish: VS-27(zz1432R98dN936eMf67M4015L9371P3e2r85e9ja84eizz1202hz4fh20hz1f8Pd48kz32i6bh43j61h)\r\nX-Spam-TCS-SCL: 0:0\r\nX-Received: from mail40-va3 (localhost.localdomain [127.0.0.1]) by mail40-va3\n (MessageSwitch) id 1262800071603359_6332; Wed,  6 Jan 2010 17:47:51 +0000\n (UTC)\r\nX-Received: from VA3EHSMHS031.bigfish.com (unknown [10.7.14.252])\tby\n mail40-va3.bigfish.com (Postfix) with ESMTP id 12508630057\tfor\n &lt;junit@yahoogroups.com&gt;; Wed,  6 Jan 2010 17:47:50 +0000 (UTC)\r\nX-Received: from boston-mail.lavastorm.local.com (216.57.92.150) by\n VA3EHSMHS031.bigfish.com (10.7.99.41) with Microsoft SMTP Server id\n 14.0.482.32; Wed, 6 Jan 2010 17:47:46 +0000\r\nX-Received: from boston-mail.lavastorm.local.com ([172.16.0.15]) by\n boston-mail.lavastorm.local.com ([172.16.0.15]) with mapi; Wed, 6 Jan 2010\n 12:47:45 -0500\r\nTo: &quot;junit@yahoogroups.com&quot; &lt;junit@yahoogroups.com&gt;\r\nDate: Wed, 6 Jan 2010 12:47:43 -0500\r\nThread-Topic: [junit] Order of execution for tests\r\nThread-Index: AcqOMqBK7oz5N7G7RRmgheSda9K4igAvdH0A\r\nMessage-ID: &lt;81FB491EEF5EA34F97FF706AC1AB356314E6E32456@...&gt;\r\nReferences: &lt;C0A8D10D-2CB9-40A4-ACC6-427DB6A5D660@...&gt;\n &lt;003301ca8d73$bd242ae0$6401a8c0@ferrari&gt;\n &lt;b86b6a9c1001041128p3558fe37ycb7f4febc9b509a0@...&gt;\n &lt;4dd5a46c1001041242t4830fc4fi4d97d871e65cb9a6@...&gt;\n &lt;81FB491EEF5EA34F97FF706AC1AB356314E6D1304E@...&gt;\n &lt;103C1C5E-79B6-4B4F-90E7-7218C9600691@...&gt;\r\nIn-Reply-To: &lt;103C1C5E-79B6-4B4F-90E7-7218C9600691@...&gt;\r\nAccept-Language: en-US\r\nContent-Language: en-US\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nacceptlanguage: en-US\r\nMIME-Version: 1.0\r\nX-Reverse-DNS: unknown\r\nReturn-Path: rpigneri@...\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Pigneri, Rocco&quot; &lt;rpigneri@...&gt;\r\nSubject: RE: [junit] Order of execution for tests\r\nX-Yahoo-Group-Post: member; u=383279107\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nDear Kent,\r\n\r\nLet=E2=80=99s say that you are building a reporting tool for a financial f=\r\nirm and that you have three major indices to manage: consumer spending, ave=\r\nrage national income, and average consumer debt load.  The calculation and =\r\npresentation of each of these indices is rather involved, especially given =\r\nthe amount of background material required for regulatory compliance, so yo=\r\nu have a separate three-tier class structure for each index.  Each index ha=\r\ns a few =E2=80=9Chelper classes=E2=80=9D that are shared among the three in=\r\ndices and also between the logic and data layers: consumer, consumer region=\r\n (a group of consumers within a particular region), and some analysis class=\r\nes.  On top of the presentation layer for each tier, there is a single =E2=\r\n=80=9Creporter=E2=80=9D class that collates the three index reports, provid=\r\nes some summary data, and personalizes the package for the individual recip=\r\nients.\r\n\r\nSo, if you imagine that each of these parts is implemented in a single cla=\r\nss=E2=80=94I=E2=80=99ve found this organization to be pretty reasonable in =\r\nthe past=E2=80=94you would have a few classes: Consumer, ConsumerRegion, Co=\r\nnsumerAnalysis at the bottom, then a single class for each tier of each ind=\r\nex (SpendingDataLayer, SpendingLogicLayer, SpendingPresentationLayer, Incom=\r\neDataLayer, etc.), and then a final Reporter class at the top.  The logic l=\r\nayers may also call upon the analysis classes for certain common statistica=\r\nl functions.  The data layers would, in addition to poking directly into th=\r\ne database, utilize the =E2=80=9Chelper classes=E2=80=9D for some basic DB =\r\naccess.  You could also imagine having a single test class for each of the =\r\nabove classes (also reasonable in my experience).\r\n\r\nIn JUnit, then, you would say that the ReporterTestFixture depends upon th=\r\ne SpendingPresentationLayerTestFixture, the IncomePresentationLayerTestFixt=\r\nure, and the DebtLoadPresentationLayerTestFixture, let=E2=80=99s say via an=\r\n Annotation on ReporterTestFixture.  Each presentation layer would be marke=\r\nd to depend upon its logic layer.  The logics would depend upon the datas, =\r\nany additional helper classes, and finally the Analysis class.  Finally, th=\r\ne data layers would be marked to depend upon any =E2=80=9Chelper classes=E2=\r\n=80=9D that they use.\r\n\r\nUnder this schema, if any of the DebtLoadLogicLayer=E2=80=99s tests were t=\r\no fail, the DebtLoadPresentationLayerTestFixture and the ReporterTestFixtur=\r\ne would be skipped, and the DebtLoadLogicLayerTestFixture=E2=80=99s tests w=\r\nould be highlighted as since they failed.  The ConsumerSpendingLogic and Pr=\r\nesentaionLayerTestFixtures would be run along with their analogues in Incom=\r\ne as they do not depend upon the DebtLoadLogicLayer and report any errors f=\r\nound as described above.  As another example, if any of Consumer=E2=80=99s =\r\ntests fail, then nearly the entire tree would be skipped (all of the n-tier=\r\n code plus the Reporter), thus showing only a failure in Consumer and maybe=\r\n a failure in some other helper classes.  In other words, you very quickly =\r\nfind the lowest level class where a failure occurred before it can percolat=\r\ne up through your test suite.  This would greatly simplify life when runnin=\r\ng regression suites as the class that caused the error (along with its deve=\r\nloper, hopefully) is easy identifiable.\r\n\r\nThe major value-add of this approach is that you get most of the benefits =\r\nof dependency trees without the hassle of maintaining thousands of dependen=\r\ncy links.  The class relationships above are rarely going to change=E2=80=\r\n=94in other words, if the logic layer stops depending upon the data layer, =\r\nyou=E2=80=99ve probably rearchitected the system and are already being care=\r\nful about what you are doing=E2=80=94and the annotations are very easy to w=\r\nrite.  Also, due to the hierarchical nature of the dependencies, you do hav=\r\ne a bit of a safety net: if a Logic Layer forgets to claim a helper class d=\r\nependency, but that Logic Layer=E2=80=99s Data Layer does claim that depend=\r\nency, then the Logic Layer=E2=80=99s tests are still skipped when the helpe=\r\nr class fails.\r\n\r\nThe biggest shortcoming of this approach involves situations where you hav=\r\ne lots of classes that all depend upon one helper class: for example, if we=\r\n had thirty indices, we would have to maintain thirty annotations for each =\r\nhelper class on each data layer, thus requiring more maintenance to track t=\r\nhe dependency.  Another negative is that a single failing test in your test=\r\n fixture could skip over 95% of your tests since this information is stored=\r\n on a class rather than method level.   However, the maintenance costs are =\r\nmuch lower, and the method dependencies could be added later if we are smar=\r\nt about our framework.\r\n\r\nHow does that sound?\r\n\r\nThank you,\r\n\r\nRocco\r\n\r\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of Ke=\r\nnt Beck\r\nSent: Tuesday, January 05, 2010 1:07 PM\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Order of execution for tests\r\n\r\n\r\n\r\nCould you provide a concrete example so I&#39;m sure I understand what you&#39;re =\r\nsaying?\r\n\r\nThanks,\r\n\r\nKent\r\n\r\nOn Jan 5, 2010, at 8:21 AM, Pigneri, Rocco wrote:\r\n\r\n&gt; Dear all,\r\n&gt;\r\n&gt; An interesting 80-20 solution for this scenario could be something as si=\r\nmple as an attribute indicating that a test fixture depends upon the passin=\r\ng of all tests in another fixture. This would allow for failure scenarios t=\r\no be on the scale of C=C3=A9dric=E2=80=99s =E2=80=9C10 tests failed=E2=80=\r\n=9D for James=E2=80=99s large regression suite without requiring a lot of e=\r\nffort from the user-developers. What makes this particularly nice in my min=\r\nd is that you only have to change these dependencies when you rearchitect t=\r\nhe system, thus making them rather light on the maintenance side.\r\n&gt;\r\n&gt; What do you all think?\r\n&gt;\r\n&gt; Rocco\r\n&gt;\r\n&gt; From: junit@yahoogroups.com&lt;mailto:junit%40yahoogroups.com&gt; [mailto:juni=\r\nt@yahoogroups.com&lt;mailto:junit%40yahoogroups.com&gt;] On Behalf Of James Lee\r\n&gt; Sent: Monday, January 04, 2010 3:43 PM\r\n&gt; To: junit@yahoogroups.com&lt;mailto:junit%40yahoogroups.com&gt;\r\n&gt; Subject: Re: [junit] Order of execution for tests\r\n&gt;\r\n&gt;\r\n&gt;\r\n&gt; Or in my case, something like this:\r\n&gt;\r\n&gt; 1 test failed, 585 tests skipped (how it would have looked in a recent t=\r\nest\r\n&gt; run).\r\n&gt;\r\n&gt; Our suite has well over 5000 tests and couple dozen developers all\r\n&gt; adding/changing in parallel.\r\n&gt;\r\n&gt; Luckily we use a continuous integration environment, so get a small set =\r\nof\r\n&gt; changes for every run (run the tests every 2hrs). So it can usually be\r\n&gt; tracked down in 20-30m of work. But it would be almost instant if there =\r\nwas\r\n&gt; a &quot;core&quot; test that failed first. Or even if it wasn&#39;t perfect, like: 25\r\n&gt; tests failed, 585 tests skipped.\r\n&gt;\r\n&gt; Gets much worse when the folks watching the builds are busy, as it can f=\r\nail\r\n&gt; for long enough to cloud the build history, as failure states start to\r\n&gt; overlap.\r\n&gt;\r\n&gt; Just throwing in the, &quot;Crazy large test suite&quot; perspective.\r\n&gt;\r\n&gt; Regards,\r\n&gt; James Lee\r\n&gt;\r\n&gt; 2010/1/4 C=C3=A9dric Beust =E2=99=94 &lt;cbeust@...&lt;mailto:cbeust%40=\r\ngoogle.com&gt;&lt;mailto:cbeust%40google.com&gt;&gt;\r\n&gt;\r\n&gt; &gt;\r\n&gt; &gt;\r\n&gt; &gt; On Mon, Jan 4, 2010 at 11:25 AM, Charlie Poole\r\n&gt; &gt; &lt;charlie@...&lt;mailto:charlie%40pooleconsulting.com&gt;&lt;mai=\r\nlto:charlie%40pooleconsulting.com&gt; &lt;charlie%40pooleconsulting.com&gt;&gt;wrote:\r\n&gt; &gt;\r\n&gt; &gt; &gt; And yet, I get reports of other folks having this interpretation\r\n&gt; &gt; &gt; problem all the time. It may be that the problem lies in how they\r\n&gt; &gt; &gt; are doing their development.\r\n&gt; &gt; &gt;\r\n&gt; &gt;\r\n&gt; &gt; I don&#39;t think so, it&#39;s just that\r\n&gt; &gt;\r\n&gt; &gt; &quot;1 test failed, 9 tests skipped&quot;\r\n&gt; &gt;\r\n&gt; &gt; is much easier to read and diagnose than\r\n&gt; &gt;\r\n&gt; &gt; &quot;10 tests failed&quot;.\r\n&gt; &gt;\r\n&gt; &gt; --\r\n&gt; &gt; ***C=C3=A9dric\r\n&gt; &gt; *\r\n&gt; &gt;\r\n&gt; &gt; [Non-text portions of this message have been removed]\r\n&gt; &gt;\r\n&gt; &gt;\r\n&gt; &gt;\r\n&gt;\r\n&gt; [Non-text portions of this message have been removed]\r\n&gt;\r\n&gt;\r\n&gt; [Non-text portions of this message have been removed]\r\n&gt;\r\n&gt;\r\n\r\n[Non-text portions of this message have been removed]\r\n\r\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "subject": "RE: [junit] Order of execution for tests"
}