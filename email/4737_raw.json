{
    "numMessagesInTopic": 2, 
    "nextInTime": 4738, 
    "senderId": "HtTsvCGdPzz6wQTo8_7FH1AUvkH9GKzslFkDtq_emCKe3RJSHVo_wTIUC5WLYn9xZHQBFViRYfdV5Ev5zyi660kfyNlYRaxZOYHtxKE_xHzP1dFhsg__oAA", 
    "systemMessage": false, 
    "subject": "RE: [junit] EJB testing: ClassCastExceptions thrown by narrow() i n ant", 
    "from": "=?iso-8859-1?q?Eliot=20Stock?= &lt;ejstock@...&gt;", 
    "authorName": "Eliot Stock", 
    "msgSnippet": "Scott, It works! Thanks. And Why? Eliot Stock Premiere Retail Networks San Francisco ... the fork= true attribute on the batchtest task.  If ... ", 
    "msgId": 4737, 
    "rawEmail": "Return-Path: &lt;ejstock@...&gt;\r\nReceived: (qmail 41393 invoked from network); 22 Apr 2002 18:02:55 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m12.grp.scd.yahoo.com with QMQP; 22 Apr 2002 18:02:55 -0000\r\nReceived: from unknown (HELO n12.grp.scd.yahoo.com) (66.218.66.67)\n  by mta1.grp.scd.yahoo.com with SMTP; 22 Apr 2002 18:02:55 -0000\r\nX-eGroups-Return: ejstock@...\r\nReceived: from [66.218.67.131] by n12.grp.scd.yahoo.com with NNFMP; 22 Apr 2002 18:02:42 -0000\r\nX-eGroups-Approved-By: geektank &lt;emeade@...&gt; via web; 22 Apr 2002 18:02:32 -0000\r\nX-Sender: ejstock@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_1); 22 Apr 2002 17:32:08 -0000\r\nReceived: (qmail 37167 invoked from network); 22 Apr 2002 17:13:57 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m9.grp.scd.yahoo.com with QMQP; 22 Apr 2002 17:13:56 -0000\r\nReceived: from unknown (HELO web11607.mail.yahoo.com) (216.136.172.59)\n  by mta1.grp.scd.yahoo.com with SMTP; 22 Apr 2002 17:13:49 -0000\r\nMessage-ID: &lt;20020422171349.43160.qmail@...&gt;\r\nReceived: from [209.77.207.237] by web11607.mail.yahoo.com via HTTP; Mon, 22 Apr 2002 18:13:49 BST\r\nDate: Mon, 22 Apr 2002 18:13:49 +0100 (BST)\r\nSubject: RE: [junit] EJB testing: ClassCastExceptions thrown by narrow() i n ant\r\nTo: Scott Stirling &lt;sstirling@...&gt;,\n  &quot;&#39;junit@yahoogroups.com &#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;CB1FF0A474AEA84EA0206D5B05F6A4CB015B6425@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nFrom: =?iso-8859-1?q?Eliot=20Stock?= &lt;ejstock@...&gt;\r\nReply-To: ejstock@...\r\nX-Yahoo-Group-Post: member; u=110632468\r\nX-Yahoo-Profile: ejstock\r\n\r\nScott,\n\nIt works! Thanks. And Why?\n\nEliot Stock\nPremiere Retail Networks\nSan Francisco\n\n --- Scott Stirling &lt;sstirling@...&gt; wrote: &gt; I would suggest using\nthe fork=&quot;true&quot; attribute on the batchtest task.  If\n&gt; that works, I&#39;ll try to explain why.\n&gt; \n&gt; Scott Stirling\n&gt; Macromedia\n&gt; \n&gt; -----Original Message-----\n&gt; From: ejstock\n&gt; To: junit@yahoogroups.com\n&gt; Sent: 4/19/2002 10:20 AM\n&gt; Subject: [junit] EJB testing: ClassCastExceptions thrown by narrow() in ant\n&gt; \n&gt; I am getting ClassCastExceptions thrown by calling \n&gt; PortableRemoteObject.narrow() when running my tests as an ant task. \n&gt; I&#39;m using the text only test runner, not the GUI one.\n&gt; \n&gt; The test is for an EJB and so it&#39;s trying to get a home interface for \n&gt; the EJB it tests. The problem only occurs when the test runs in ant, \n&gt; not when I run the test on the command line like so:\n&gt; \n&gt; java -\n&gt; classpath .&#92;build&#92;classes;.&#92;lib&#92;junit.jar;D:&#92;bea&#92;wlserver&#92;lib&#92;weblogic\n&gt; .jar;.&#92;lib&#92;log4j.jar;  junit.textui.TestRunner \n&gt; com.pics.nmc2.media.ObjectGroupTest\n&gt; \n&gt; I have read a few postings on this list regarding class loader issues \n&gt; that at first looked relevant, but in fact they are all specific to \n&gt; the GUI test runner, or running outside of ant, or maybe both. I \n&gt; should mention the EJB container is Weblogic 6.1 SP2. I&#39;ve had test \n&gt; cases running on Weblogic 6.x before, but not with ant.\n&gt; \n&gt; My ant test task in build.xml looks like this:\n&gt; \n&gt;   &lt;target name=&quot;test&quot; depends=&quot;init&quot; &gt;\n&gt;     &lt;junit printsummary=&quot;on&quot;&gt;\n&gt;       &lt;classpath&gt;\n&gt; \t&lt;pathelement location=&quot;${properties_dir}&quot;/&gt;\n&gt; \t&lt;fileset dir=&quot;${weblogic_home}/lib&quot;&gt;\n&gt;           &lt;include name=&quot;weblogic.jar&quot;/&gt;\n&gt; \t&lt;/fileset&gt;\n&gt;         &lt;pathelement location=&quot;${build_dir}/classes&quot;/&gt;\n&gt;         &lt;fileset dir=&quot;lib&quot;&gt;\n&gt;           &lt;include name=&quot;**/*.jar&quot;/&gt;\n&gt; \t&lt;/fileset&gt;\n&gt; \t&lt;fileset dir=&quot;d:&#92;bea&#92;utils&quot;&gt;\n&gt; \t  &lt;include name=&quot;**/*.jar&quot;/&gt;\n&gt;         &lt;/fileset&gt;\n&gt; \t&lt;fileset dir=&quot;${build_dir}&quot;&gt;\n&gt; \t  &lt;include name=&quot;NMC2WebApp.war&quot;/&gt;\n&gt;         &lt;/fileset&gt;\n&gt;       &lt;/classpath&gt;\n&gt;       &lt;formatter type=&quot;plain&quot; /&gt;\n&gt;       &lt;batchtest todir=&quot;${testreports_dir}&quot;&gt;\n&gt;         &lt;fileset dir=&quot;${src_dir}&quot;&gt;\n&gt; \t  &lt;include name=&quot;**/*Test*.java&quot; /&gt;\n&gt;         &lt;/fileset&gt;\n&gt;       &lt;/batchtest&gt;\n&gt;     &lt;/junit&gt;\n&gt;   &lt;/target&gt;\n&gt; \n&gt; Some explanation of classloader issues with respect to running Junit \n&gt; within ant would be welcome, even if you don&#39;t know exactly what the \n&gt; problem is. Does it matter that the stub is loaded by a different \n&gt; classloader on the server than in the client?\n&gt; \n&gt; I&#39;m using Junit 3.7 and Ant 1.4.1.\n&gt; \n&gt; Thanks in advance.\n&gt; \n&gt; Eliot Stock\n&gt; Premiere Retial Networks\n&gt; San Francisco \n\n__________________________________________________\nDo You Yahoo!?\nEverything you&#39;ll ever need on one web page\nfrom News and Sport to Email and Music Charts\nhttp://uk.my.yahoo.com\n\n\n", 
    "profile": "ejstock", 
    "topicId": 4726, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 110632468, 
    "prevInTime": 4736, 
    "contentTrasformed": false, 
    "postDate": "1019495629", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 4726, 
    "headers": {
        "inReplyToHeader": "PENCMUZGMEE0NzRBRUE4NEVBMDIwNkQ1QjA1RjZBNENCMDE1QjY0MjVAUzEwMDFFWE0wMi5tYWNyb21lZGlhLmNvbT4=", 
        "messageIdInHeader": "PDIwMDIwNDIyMTcxMzQ5LjQzMTYwLnFtYWlsQHdlYjExNjA3Lm1haWwueWFob28uY29tPg=="
    }
}