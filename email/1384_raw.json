{
    "topicId": 1378, 
    "postDate": "991551671", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "James Sinnamon &lt;sinnamon@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "IdmPf3nzmE78pjiYDqaWMyoHqe4j28-mrjwiFZjeueqygOznsNOOuD9HiRkvE49tuVRXQ6BmL-K3JujIu-rgdWPvflagrsN7CC43", 
    "nextInTime": 1385, 
    "userId": 0, 
    "prevInTime": 1383, 
    "prevInTopic": 1381, 
    "headers": {
        "messageIdInHeader": "PDNCMTlFMEI3LjlFMTBFOEVGQHVzcS5lZHUuYXU+", 
        "referencesHeader": "PE5DQkJJTk5BTUxNT01ERElHQkRQT0VGSUtQQUMubWxlcGluZUBtdWxld29yay5jb20+"
    }, 
    "authorName": "James Sinnamon", 
    "numMessagesInTopic": 4, 
    "msgSnippet": "Michael, ... Perhaps I was overreacting, but, nevertheless it still completely escapes me how it could happen in any normal circumstances, unless there is ", 
    "contentTrasformed": false, 
    "msgId": 1384, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;sinnamon@...&gt;\r\nX-Sender: sinnamon@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_1_3); 3 Jun 2001 07:00:36 -0000\r\nReceived: (qmail 48742 invoked from network); 3 Jun 2001 07:00:35 -0000\r\nReceived: from unknown (10.1.10.26) by l8.egroups.com with QMQP; 3 Jun 2001 07:00:35 -0000\r\nReceived: from unknown (HELO romulus.sci.usq.edu.au) (139.86.144.21) by mta1 with SMTP; 3 Jun 2001 07:00:35 -0000\r\nReceived: from usq.edu.au (smaug.sci.usq.edu.au [139.86.144.156]) by romulus.sci.usq.edu.au (8.9.2/8.9.2) with ESMTP id RAA05376 for &lt;junit@yahoogroups.com&gt;; Sun, 3 Jun 2001 17:00:30 +1000 (EST)\r\nSender: sinnamon@...\r\nMessage-ID: &lt;3B19E0B7.9E10E8EF@...&gt;\r\nDate: Sun, 03 Jun 2001 17:01:11 +1000\r\nX-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.2.18pre21 i686)\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Off-topic: How is ArrayIndexOutOfBounds possible?\r\nReferences: &lt;NCBBINNAMLMOMDDIGBDPOEFIKPAC.mlepine@...&gt;\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nFrom: James Sinnamon &lt;sinnamon@...&gt;\r\n\r\nMichael,\n\nMichael Lï¿½pine wrote:\n\n&gt; If this has only happened once, then the data or initialization is suspect.\n&gt; The good thing about software is that it is consistent.\n\nPerhaps I was overreacting, but, nevertheless it still completely escapes\nme how it could happen in any normal circumstances, unless there is\nsomething peculiar about JUnit classes, but I wasn&#39;t using them\nat the time.\n\n&gt; I&#39;m not being smart.\n&gt; What I&#39;m saying is this, somehow the data or some initialization step\n&gt; affected the testing so that you got this exception. I don&#39;t think it is a\n&gt; quirk in the Vector class itself. You can always check the class by looking\n&gt; at the source for Vector if you want to make sure though (I&#39;m too lazy to do\n&gt; it right now myself :).\n&gt;\n&gt; Hope this helps to guide your efforts.\n\nI will just have to assume (and hope) that some weird,\nunlikely-to-be-repeated, event\noccurred at the time.\n\nFYI, here&#39;s a copy of the Vector source code.  (Although I can&#39;t\nsay if it&#39;s the same one that I am using.)  This source code doesn&#39;t\nseem to shed much light.  Anyhow, please don&#39;t put yourself to\nany more trouble over this.  Thanks again.\n\npublic synchronized Object remove(int index) {\n modCount++;\n if (index &gt;= elementCount)\n     throw new ArrayIndexOutOfBoundsException(index);\n Object oldValue = elementData[index];\n\n int numMoved = elementCount - index - 1;\n if (numMoved &gt; 0)\n     System.arraycopy(elementData, index+1, elementData, index,\n        numMoved);\n elementData[--elementCount] = null; // Let gc do its work\n\n return oldValue;\n}\n\n\n&gt;\n&gt;\n&gt; - Mike\n&gt;\n&gt; &gt; -----Original Message-----\n&gt; &gt; From: sinnamon@... [mailto:sinnamon@...]\n&gt; &gt; Sent: Saturday, June 02, 2001 10:57 PM\n&gt; &gt; To: junit@yahoogroups.com\n&gt; &gt; Subject: [Fwd: Re: [junit] Off-topic: How is ArrayIndexOutOfBounds\n&gt; &gt; possible?]\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Thanks for the suggestions.  The responses at least\n&gt; &gt; confirm that this should not happen if all of my\n&gt; &gt; assumptions are correct.\n&gt; &gt;\n&gt; &gt; The ArrayIndexOutOfBoundsException has happened only\n&gt; &gt; once that I noticed.  If it is due to a bug, somewhere\n&gt; &gt; in class Vector or somewhere in the JVM or in some underlying\n&gt; &gt; native method, then it won&#39;t be an easy one to find.\n&gt; &gt;\n&gt; &gt; In the meantime, I will have to make an explicit check\n&gt; &gt; for the Exception, so that I don&#39;t inadvertantly miss it\n&gt; &gt; next time, and  also capture as much information as possible.\n&gt; &gt;\n&gt; &gt; If it does occur again, I will try out the suggestions.\n&gt; &gt;\n&gt; &gt; Thanks again.\n&gt; &gt;\n&gt; &gt; regards,\n&gt; &gt;\n&gt; &gt; James\n&gt; &gt;\n&gt; &gt; &gt; From: Mike Clark &lt;mike@...&gt;\n&gt; &gt; &gt; Subject: Re: [junit] Off-topic: How is ArrayIndexOutOfBounds possible?\n&gt; &gt; &gt; To: junit@yahoogroups.com\n&gt; &gt;\n&gt; &gt; &gt; Just to rule out the possibility that another thread is removing the\n&gt; &gt; &gt; last element from the vector in between the isEmpty() and remove()\n&gt; &gt; &gt; statements, you could explicitly synchronize the steps, as in\n&gt; &gt; &gt;\n&gt; &gt; &gt;     synchronized(inMsgQueue) {\n&gt; &gt; &gt;         if(!inMsgQueue.isEmpty()) {\n&gt; &gt; &gt;             msg = (SimpleMsg) inMsgQueue.remove(0);\n&gt; &gt; &gt;         }\n&gt; &gt; &gt;     }\n&gt; &gt; &gt;\n&gt; &gt; &gt; Just something to try...\n&gt; &gt;\n&gt; &gt; &gt; Mike\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; Peter Spitz wrote:\n&gt; &gt;\n&gt; &gt; &gt; &gt; The only thing I can think of is that the isEmpty() function\n&gt; &gt; is returning a\n&gt; &gt; &gt; &gt; value of &quot;false&quot; even if the array is empty. I&#39;d put in a\n&gt; &gt; test for that.\n&gt; &gt; &gt; &gt; This sounds silly to me even as I&#39;m typing it, but it&#39;s the\n&gt; &gt; best I can do\n&gt; &gt; &gt; &gt; and maybe it will trigger some other helpful thoughts.\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Peter\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; -----Original Message-----\n&gt; &gt; &gt; &gt; From: James Sinnamon\n&gt; &gt; &gt; &gt; Dear Junit Users,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Sorry for this off-topic message, but it is posible that\n&gt; &gt; someone may be\n&gt; &gt; &gt; &gt; able to offer some useful advice:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; When I tested a program recently,  I got the error:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 0\n&gt; &gt; &gt; &gt;        at java.util.Vector.remove(Vector.java:806)\n&gt; &gt; &gt; &gt;        at org.multipi.ActorMailSorter.run(ActorMailSorter.java:33)\n&gt; &gt; &gt; &gt;        at java.lang.Thread.run(Thread.java:484)\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; ... it seems to be telling me that an attempt to remove element 0\n&gt; &gt; &gt; &gt; of a vector, is causing a fatal error.  The code which triggered this\n&gt; &gt; &gt; &gt; error is:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;      if(!inMsgQueue.isEmpty()) {\n&gt; &gt; &gt; &gt;         msg = (SimpleMsg) inMsgQueue.remove(0);\n&gt; &gt; &gt; &gt;        ...\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; .... where inMsgQueue is a Vector.  Now assuming that there\n&gt; &gt; are no other\n&gt; &gt; &gt; &gt; Thread\n&gt; &gt; &gt; &gt; processes trying to remove elements from the vector (and I\n&gt; &gt; believe this\n&gt; &gt; &gt; &gt; to be the  case), should it be possible for this error to\n&gt; &gt; occur?  From my\n&gt; &gt; &gt; &gt; understanding of  Vector\n&gt; &gt; &gt; &gt; objects, this should not be possible.\n&gt; &gt;\n&gt; &gt; To unsubscribe from this group, send an email to:\n&gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n\n--\nJames Sinnamon  sinnamon@...\n\nph 07 46315566,  0412 319669\nPO Box 517 Darling Heights QLD 4350\n\n\n\n\n", 
    "subject": "Re: [junit] Off-topic: How is ArrayIndexOutOfBounds possible?"
}