{
    "numMessagesInTopic": 4, 
    "nextInTime": 24625, 
    "senderId": "EmaxQVpTbj0sQTUFwGr5x-eyf_m5OE2zuXI5x5Hh3Yqq6utWjr4iBQdjUG0GDIDVHkXbzF99kmkD_ZEa5oBdcnwYrQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to reliable identify Failure caused by @BeforeClass?", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "So another possibility might be this: there s a top-level Description passed to testRunStarted; you could see if the Failure s description is in that tree, or", 
    "msgId": 24624, 
    "profile": "saffatgoogle", 
    "topicId": 24621, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "messageBody": "<div id=\"ygrps-yiv-1332415375\"><div dir=\"ltr\">So another possibility might be this: there&#39;s a top-level Description passed to&nbsp;testRunStarted; you could see if the Failure&#39;s description is in that tree, or not.&nbsp; Again, that only tells you whether the failure is tied to a particular test method, and doesn&#39;t disambiguate between BeforeClass vs AfterClass.<div><br></div><div>&nbsp; &nbsp;David</div></div><div class=\"ygrps-yiv-1332415375gmail_extra\"><br><blockquote><span title=\"qreply\"> <div class=\"ygrps-yiv-1332415375gmail_quote\">On Tue, Dec 16, 2014 at 2:28 AM, Chris <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:devnullaccount@...\">devnullaccount@...</a> [junit] <span dir=\"ltr\">&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&gt;</span> wrote:<blockquote class=\"ygrps-yiv-1332415375gmail_quote\" style=\"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;\">\n\n\n<u></u>\n\n\n\n\n\n\n\n\n\n \n<div style=\"background-color:#fff;\">\n<span>&nbsp;</span>\n\n\n<div>\n  <div>\n\n\n    <div>\n      \n      \n      <p>Hi,<br>\n<br>\nmy problem is how to nicely present to the user that things have failed outside of a test method (our runner is a bit different and can&#39;t use the regular runner&#39;s ways of doing it).<br>\nI guess I can do with failure.getDescription().getMethodName() == null, although it would have been nicer to be able to know if it failed in BeforeClass/AfterClass etc.<br>\n<br>\nBR,<br>\n  Chris <br>\n<br>\n--------------------------------------------<br>\nOn Mon, 12/15/14, David Saff <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:saff@...\">saff@...</a> [junit] &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&gt; wrote:<br>\n<br>\nSubject: Re: [junit] How to reliable identify Failure caused by @BeforeClass?<br>\n To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br>\n Date: Monday, December 15, 2014, 6:45 PM</p><div><div class=\"ygrps-yiv-1332415375h5\"><br>\n <br>\n       <br>\n       At the moment, I don&#39;t think<br>\n there&#39;s machine-readable metadata that would help<br>\n identify the source of a failure.&nbsp; That line in the javadoc<br>\n is supposed to simply warn that some Failures thrown<br>\n won&#39;t have Descriptions attached that refer to tests<br>\n already in the test tree, if the Failure reported is in test<br>\n machinery that doesn&#39;t correspond to an individual<br>\n test.<br>\n What is it you&#39;re<br>\n hoping to do?<br>\n On Mon, Dec 15, 2014 at<br>\n 7:11 AM, Chris <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:devnullaccount@...\">devnullaccount@...</a><br>\n [junit] &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&gt;<br>\n wrote:<br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n  <br>\n <br>\n &nbsp;<br>\n <br>\n <br>\n <br>\n   <br>\n <br>\n <br>\n     <br>\n       <br>\n       <br>\n       Hi,<br>\n <br>\n <br>\n <br>\n I ran into some issue with a custom runner that I&#39;m<br>\n maintining and I can do an ugly workaround to fix it, but<br>\n I&#39;d like to solve it the &quot;right way&quot;.<br>\n <br>\n <br>\n <br>\n My issue is how to I know if a<br>\n org.junit.runner.notification.Failure is caused by a normal<br>\n testcase or if it caused by a crash in a<br>\n @BeforeClass-annotated method.<br>\n <br>\n The javadoc for Failure says this:<br>\n <br>\n <br>\n <br>\n * A &lt;code&gt;Failure&lt;/code&gt; holds a description of<br>\n the failed test and the<br>\n <br>\n  * exception that was thrown while running it. In most cases<br>\n the {@link org.junit.runner.Description}<br>\n <br>\n  * will be of a single test. However, if problems are<br>\n encountered while constructing the<br>\n <br>\n  * test (for example, if a {@link org.junit.BeforeClass}<br>\n method is not static), it may describe<br>\n <br>\n  * something other than a single test.<br>\n <br>\n <br>\n <br>\n But I can&#39;t figure out *how* I can read this failure and<br>\n know that it is BeforeClass or not. I did some really ugly<br>\n hacks by looking at the backtrace to see where it was<br>\n triggered from that that&#39;s really fragile and I&#39;d<br>\n like something better.<br>\n <br>\n I tried reading through Description and see if I could<br>\n figure it out, but no luck thus far.<br>\n <br>\n <br>\n <br>\n TIA,<br>\n <br>\n   Chris<br>\n <br>\n <br>\n <br>\n     <br>\n      <br>\n <br>\n     <br>\n     <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n   <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n <br>\n     <br>\n      <br>\n <br>\n     <br>\n     <br>\n <br>\n <br>\n <br></div></div>\n #yiv4766428982 #yiv4766428982 --<br>\n   #yiv4766428982ygrp-mkp {<br>\n border:1px solid #d8d8d8;font-family:Arial;margin:10px<br>\n 0;padding:0 10px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mkp hr {<br>\n border:1px solid #d8d8d8;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mkp #yiv4766428982hd {<br>\n color:#628c2a;font-size:85%;font-weight:700;line-height:122%;margin:10px<br>\n 0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mkp #yiv4766428982ads {<br>\n margin-bottom:10px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mkp .yiv4766428982ad {<br>\n padding:0 0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mkp .yiv4766428982ad p {<br>\n margin:0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mkp .yiv4766428982ad a {<br>\n color:#0000ff;text-decoration:none;}<br>\n #yiv4766428982 #yiv4766428982ygrp-sponsor<br>\n #yiv4766428982ygrp-lc {<br>\n font-family:Arial;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-sponsor<br>\n #yiv4766428982ygrp-lc #yiv4766428982hd {<br>\n margin:10px<br>\n 0px;font-weight:700;font-size:78%;line-height:122%;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-sponsor<br>\n #yiv4766428982ygrp-lc .yiv4766428982ad {<br>\n margin-bottom:10px;padding:0 0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982actions {<br>\n font-family:Verdana;font-size:11px;padding:10px 0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982activity {<br>\n background-color:#e0ecee;float:left;font-family:Verdana;font-size:10px;padding:10px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982activity span {<br>\n font-weight:700;}<br>\n <br>\n #yiv4766428982 #yiv4766428982activity span:first-child {<br>\n text-transform:uppercase;}<br>\n <br>\n #yiv4766428982 #yiv4766428982activity span a {<br>\n color:#5085b6;text-decoration:none;}<br>\n <br>\n #yiv4766428982 #yiv4766428982activity span span {<br>\n color:#ff7900;}<br>\n <br>\n #yiv4766428982 #yiv4766428982activity span<br>\n .yiv4766428982underline {<br>\n text-decoration:underline;}<br>\n <br>\n #yiv4766428982 .yiv4766428982attach {<br>\n clear:both;display:table;font-family:Arial;font-size:12px;padding:10px<br>\n 0;width:400px;}<br>\n <br>\n #yiv4766428982 .yiv4766428982attach div a {<br>\n text-decoration:none;}<br>\n <br>\n #yiv4766428982 .yiv4766428982attach img {<br>\n border:none;padding-right:5px;}<br>\n <br>\n #yiv4766428982 .yiv4766428982attach label {<br>\n display:block;margin-bottom:5px;}<br>\n <br>\n #yiv4766428982 .yiv4766428982attach label a {<br>\n text-decoration:none;}<br>\n <br>\n #yiv4766428982 blockquote {<br>\n margin:0 0 0 4px;}<br>\n <br>\n #yiv4766428982 .yiv4766428982bold {<br>\n font-family:Arial;font-size:13px;font-weight:700;}<br>\n <br>\n #yiv4766428982 .yiv4766428982bold a {<br>\n text-decoration:none;}<br>\n <br>\n #yiv4766428982 dd.yiv4766428982last p a {<br>\n font-family:Verdana;font-weight:700;}<br>\n <br>\n #yiv4766428982 dd.yiv4766428982last p span {<br>\n margin-right:10px;font-family:Verdana;font-weight:700;}<br>\n <br>\n #yiv4766428982 dd.yiv4766428982last p<br>\n span.yiv4766428982yshortcuts {<br>\n margin-right:0;}<br>\n <br>\n #yiv4766428982 div.yiv4766428982attach-table div div a {<br>\n text-decoration:none;}<br>\n <br>\n #yiv4766428982 div.yiv4766428982attach-table {<br>\n width:400px;}<br>\n <br>\n #yiv4766428982 div.yiv4766428982file-title a, #yiv4766428982<br>\n div.yiv4766428982file-title a:active, #yiv4766428982<br>\n div.yiv4766428982file-title a:hover, #yiv4766428982<br>\n div.yiv4766428982file-title a:visited {<br>\n text-decoration:none;}<br>\n <br>\n #yiv4766428982 div.yiv4766428982photo-title a,<br>\n #yiv4766428982 div.yiv4766428982photo-title a:active,<br>\n #yiv4766428982 div.yiv4766428982photo-title a:hover,<br>\n #yiv4766428982 div.yiv4766428982photo-title a:visited {<br>\n text-decoration:none;}<br>\n <br>\n #yiv4766428982 div#yiv4766428982ygrp-mlmsg<br>\n #yiv4766428982ygrp-msg p a span.yiv4766428982yshortcuts {<br>\n font-family:Verdana;font-size:10px;font-weight:normal;}<br>\n <br>\n #yiv4766428982 .yiv4766428982green {<br>\n color:#628c2a;}<br>\n <br>\n #yiv4766428982 .yiv4766428982MsoNormal {<br>\n margin:0 0 0 0;}<br>\n <br>\n #yiv4766428982 o {<br>\n font-size:0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982photos div {<br>\n float:left;width:72px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982photos div div {<br>\n border:1px solid<br>\n #666666;height:62px;overflow:hidden;width:62px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982photos div label {<br>\n color:#666666;font-size:10px;overflow:hidden;text-align:center;white-space:nowrap;width:64px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982reco-category {<br>\n font-size:77%;}<br>\n <br>\n #yiv4766428982 #yiv4766428982reco-desc {<br>\n font-size:77%;}<br>\n <br>\n #yiv4766428982 .yiv4766428982replbq {<br>\n margin:4px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-actbar div a:first-child {<br>\n margin-right:2px;padding-right:5px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mlmsg {<br>\n font-size:13px;font-family:Arial, helvetica, clean,<br>\n sans-serif;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mlmsg table {<br>\n font-size:inherit;font:100%;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mlmsg select,<br>\n #yiv4766428982 input, #yiv4766428982 textarea {<br>\n font:99% Arial, Helvetica, clean, sans-serif;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mlmsg pre, #yiv4766428982<br>\n code {<br>\n font:115% monospace;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mlmsg * {<br>\n line-height:1.22em;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-mlmsg #yiv4766428982logo {<br>\n padding-bottom:10px;}<br>\n <br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-msg p a {<br>\n font-family:Verdana;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-msg<br>\n p#yiv4766428982attach-count span {<br>\n color:#1E66AE;font-weight:700;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-reco<br>\n #yiv4766428982reco-head {<br>\n color:#ff7900;font-weight:700;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-reco {<br>\n margin-bottom:20px;padding:0px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-sponsor #yiv4766428982ov<br>\n li a {<br>\n font-size:130%;text-decoration:none;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-sponsor #yiv4766428982ov<br>\n li {<br>\n font-size:77%;list-style-type:square;padding:6px 0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-sponsor #yiv4766428982ov<br>\n ul {<br>\n margin:0;padding:0 0 0 8px;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-text {<br>\n font-family:Georgia;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-text p {<br>\n margin:0 0 1em 0;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-text tt {<br>\n font-size:120%;}<br>\n <br>\n #yiv4766428982 #yiv4766428982ygrp-vital ul li:last-child {<br>\n border-right:none !important;<br>\n }<br>\n #yiv4766428982 <br>\n <br>\n<p></p>\n\n    </div><span class=\"ygrps-yiv-1332415375\">\n     \n\n    \n    <div style=\"color:#fff;min-height:0;\"></div>\n\n\n</span></div>\n\n\n\n  \n\n\n\n\n\n\n</div></div></blockquote></div></span></blockquote></div>\n</div>", 
    "prevInTime": 24623, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1418742591", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24623, 
    "headers": {
        "inReplyToHeader": "PDE0MTg3MTQ4OTYuNzg5MzguWWFob29NYWlsQmFzaWNAd2ViMTczMjA2Lm1haWwuaXIyLnlhaG9vLmNvbT4=", 
        "messageIdInHeader": "PENBTHJ3LVB5LWNzSjM1eE5GeW1VNEhBZDZzYjN5X2RQaDF3Yyttdz1CbUt5NXlyd19xUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBTHJ3LVB5emhGOWVQdHNyY2VvVF8yWHhKTU9QeURCaEJjdzRzMk9tQWJqdTFrTjZ4d0BtYWlsLmdtYWlsLmNvbT4gPDE0MTg3MTQ4OTYuNzg5MzguWWFob29NYWlsQmFzaWNAd2ViMTczMjA2Lm1haWwuaXIyLnlhaG9vLmNvbT4="
    }
}