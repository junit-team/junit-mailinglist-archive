{
    "topicId": 17170, 
    "postDate": "1153678792", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Stephen Smith &lt;steve@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "rWHXGS693_em974I7rk6jE03SVMTLxKoRoyy_HPfaDItG1gZ5mgFs__vjm8YWD45ZdLu7ecreEING5gwrB5w3M85lDSxLqMu9Mdy9Tfw5Lc", 
    "nextInTime": 17177, 
    "userId": 231973488, 
    "prevInTime": 17175, 
    "prevInTopic": 17175, 
    "headers": {
        "inReplyToHeader": "PGI5ZWU1ZTQxMDYwNzIzMTEwM3A3MGM5ZjgzYWs3ZDEyMWFjMWJmMGY4ZGJiQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ0QzNCREM4LjMwOTA0MDRAc3RlcGhlbi1zbWl0aC5jby51az4=", 
        "referencesHeader": "PGU5dmJhcCs4OHNhQGVHcm91cHMuY29tPiA8NDRDMzYzRkEuODA1MDAwNkBzdGVwaGVuLXNtaXRoLmNvLnVrPgkgPDQ0QzM5NzI4LjkwNjA1QG1ldGFsYWIudW5jLmVkdT4JIDxiODZiNmE5YzA2MDcyMzA5MDhrN2ZmY2Y4YzNwY2M3YmI3YjIwZjgwYjYyMEBtYWlsLmdvb2dsZS5jb20+IDxiOWVlNWU0MTA2MDcyMzExMDNwNzBjOWY4M2FrN2QxMjFhYzFiZjBmOGRiYkBtYWlsLmdtYWlsLmNvbT4="
    }, 
    "authorName": "Stephen Smith", 
    "numMessagesInTopic": 27, 
    "msgSnippet": "Much as I dislike going against Elliotte, I m going to stick to my guns. I like reflection, but after bingeing on it when I was young and foolish I now tend to", 
    "contentTrasformed": false, 
    "msgId": 17176, 
    "nextInTopic": 17177, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;steve@...&gt;\r\nX-Sender: steve@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 51521 invoked from network); 23 Jul 2006 18:20:07 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m34.grp.scd.yahoo.com with QMQP; 23 Jul 2006 18:20:07 -0000\r\nReceived: from unknown (HELO smtp-out3.blueyonder.co.uk) (195.188.213.6)\n  by mta10.grp.scd.yahoo.com with SMTP; 23 Jul 2006 18:20:06 -0000\r\nReceived: from [172.23.170.146] (helo=anti-virus03-09)\n\tby smtp-out3.blueyonder.co.uk with smtp (Exim 4.52)\n\tid 1G4iYV-0005ES-Ha\n\tfor junit@yahoogroups.com; Sun, 23 Jul 2006 19:19:55 +0100\r\nReceived: from [82.35.18.99] (helo=[192.168.2.2])\n\tby asmtp-out3.blueyonder.co.uk with esmtpa (Exim 4.52)\n\tid 1G4iYU-00037l-5D\n\tfor junit@yahoogroups.com; Sun, 23 Jul 2006 19:19:55 +0100\r\nMessage-ID: &lt;44C3BDC8.3090404@...&gt;\r\nDate: Sun, 23 Jul 2006 19:19:52 +0100\r\nUser-Agent: Thunderbird 1.5.0.4 (Windows/20060516)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;e9vbap+88sa@...&gt; &lt;44C363FA.8050006@...&gt;\t &lt;44C39728.90605@...&gt;\t &lt;b86b6a9c0607230908k7ffcf8c3pcc7bb7b20f80b620@...&gt; &lt;b9ee5e410607231103p70c9f83ak7d121ac1bf0f8dbb@...&gt;\r\nIn-Reply-To: &lt;b9ee5e410607231103p70c9f83ak7d121ac1bf0f8dbb@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Stephen Smith &lt;steve@...&gt;\r\nReply-To: steve@...\r\nSubject: Re: [junit] How to Test Private Methods Inside a Class\r\nX-Yahoo-Group-Post: member; u=231973488\r\n\r\nMuch as I dislike going against Elliotte, I&#39;m going to stick to my guns.\n\nI like reflection, but after bingeing on it when I was young and foolish \nI now tend to avoid it. I&#39;m uncomfortable using reflection and fiddling \nwith run-time modifiers solely for the purposes of calling a private \nmethod from a test case.\n\nAs I originally stated (and elaborated upon by Joakim), I would suggest \ninstead analysing exactly _why_ the private method needs testing. If it \nis sufficiently important to require a test case, does its functionality \nmerit a change in access modifier? Is its behaviour sufficiently \ndifferent to that of the parent class that an extraction to a public \nhelper class might be possible?\n\nSteve.\n\n--\nStephen Smith, MEng (Wales).\nhttp://www.stephen-smith.co.uk/\n\nJoakim Ohlrogge wrote:\n&gt; In addition to the two options below I would add what I think Stephen\n&gt; Smith was suggesting:\n&gt; \n&gt; 3. Look for an abstraction and extract the private methods you want to\n&gt; test into a separate, testable class. Inspired By Cederics example and\n&gt; refering to the Java-API, let&#39;s say that you have the private method\n&gt; int compare(Object left, Object right) that compares two objects. That\n&gt; can be extracted to a comparator with that method as a public\n&gt; interface (yes I completely stile the examï¿½ple from the Java API\n&gt; what&#39;s wong with that? :)). An implementation of that interface could\n&gt; be instantiated and used in the your tested class AND it could and\n&gt; should be tested in isolation outside of that class.\n&gt; \n&gt; I would look for abstractions first, I have yet to find a situation\n&gt; where I need to test private methods with reflection and I very\n&gt; seldomly, if ever need to open up the API in a way that feels\n&gt; &quot;unnatural&quot;. When I do that a better solution usually presents itself\n&gt; later (so opening up can be a way to keep your flow).\n&gt; \n&gt; I think SRP is one of the most important principles when TDD:ing:\n&gt; http://www.objectmentor.com/resources/articles/srp\n&gt; \n&gt; If something is hard to test the reason is often that SRP has been violated.\n&gt; \n&gt; Just my two cents for what they are worth.\n&gt; /J\n&gt; \n&gt; \n&gt;&gt;  Back to the original question.  You have two options:\n&gt;&gt;\n&gt;&gt;  - You absolutely want to keep that method private, and in this case,\n&gt;&gt;     you should probably invoke it via reflection (see setAccessible(true)).\n&gt;&gt;\n&gt;&gt;  - You can relax the visibility of this method, in which case I suggest\n&gt;&gt;     making it package protected and then put your test in the same package (it\n&gt;&gt;     can still be in a separate source folder).\n&gt;&gt;\n&gt;&gt;  I recommend the latter approach...\n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n&gt; \n\n\n", 
    "subject": "Re: [junit] How to Test Private Methods Inside a Class"
}