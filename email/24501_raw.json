{
    "numMessagesInTopic": 11, 
    "nextInTime": 24502, 
    "senderId": "0_y8a-AAbZjcU3IF3w-xzmAsqvPJeRqRb-3zl1cKDspF3d4gTAGF9Qtrtj9k8iLlaBTcvPgXbbkifwShMQF4ygGI79YyAAR1tg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Is it possible to have write NonBlocking Junit tests", 
    "from": "Colin Vipurs &lt;zodiaczx6@...&gt;", 
    "authorName": "Colin Vipurs", 
    "msgSnippet": "You could use a locking mechanism shared between your test and handler so that progress continues as quick as possible and then put an overall timeout on your", 
    "msgId": 24501, 
    "rawEmail": "Return-Path: &lt;zodiaczx6@...&gt;\r\nReceived: (qmail 81973 invoked by uid 7800); 10 Apr 2014 18:04:51 -0000\r\nX-Sender: zodiaczx6@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 76030 invoked by uid 102); 10 Apr 2014 17:32:44 -0000\r\nX-Received: from unknown (HELO mtaq2.grp.bf1.yahoo.com) (10.193.84.33)\n  by m6.grp.bf1.yahoo.com with SMTP; 10 Apr 2014 17:32:44 -0000\r\nX-Received: (qmail 22321 invoked from network); 10 Apr 2014 17:32:44 -0000\r\nX-Received: from unknown (HELO mail-la0-f41.google.com) (209.85.215.41)\n  by mtaq2.grp.bf1.yahoo.com with SMTP; 10 Apr 2014 17:32:44 -0000\r\nX-Received: by mail-la0-f41.google.com with SMTP id gl10so2655242lab.28\n        for &lt;junit@yahoogroups.com&gt;; Thu, 10 Apr 2014 10:32:43 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.152.42.230 with SMTP id r6mr13132562lal.32.1397151163644;\n Thu, 10 Apr 2014 10:32:43 -0700 (PDT)\r\nX-Received: by 10.114.166.229 with HTTP; Thu, 10 Apr 2014 10:32:43 -0700 (PDT)\r\nIn-Reply-To: &lt;li6ctj+h5l6qk@...&gt;\r\nReferences: &lt;li6ctj+h5l6qk@...&gt;\r\nDate: Thu, 10 Apr 2014 18:32:43 +0100\r\nMessage-ID: &lt;CAKi4273twX35iRgMg95Lyw+pBHprsBQRqo1tcLa+Cx4HFT3wrw@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=001a11c36780ce80b804f6b39abb\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Colin Vipurs &lt;zodiaczx6@...&gt;\r\nSubject: Re: [junit] Is it possible to have write NonBlocking Junit tests\r\nX-Yahoo-Group-Post: member; u=329931326; y=BX5dw6zhrb_ZgFzedvolmFP03juCUvaS63_Zf2z77W3oyp1DGQ\r\nX-Yahoo-Profile: zodiac_zx6\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 10 Apr 2014 18:04:51 -0000\r\n\r\n\r\n--001a11c36780ce80b804f6b39abb\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nYou could use a locking mechanism shared between your test and handler so\nt=\r\nhat progress continues as quick as possible and then put an overall\ntimeout=\r\n on your test in the event of failure.\n\nSomething like this should work jus=\r\nt fine:\n\n@Test\npublic void testAsync() throws Exception {\nfinal Semaphore l=\r\nock =3D new Semaphore(0);\nsomeAsyncCode(new Handler() {\npublic void handle(=\r\n) {\n// put your assertions in here\nlock.release();\n}\n});\n lock.acquire();\n}=\r\n\n\n\nOn Thu, Apr 10, 2014 at 4:21 PM, &lt;abhijeet.kushe@...&gt; wrote:\n\n&gt;\n&gt;\n=\r\n&gt; I am writing a Junit tests for Amqp Message Listener.This is how the test=\r\n\n&gt; is written.I send a message to a exchange and introduce a delay of 1s\n&gt; =\r\n(assuming that the listener will do its job within that time frame).This\n&gt; =\r\napproach slows down the build process as there 15-20 tests like these which=\r\n\n&gt; take a minimum of 20 seconds to execute.Is there a way in which I can do=\r\n\n&gt; this is a non blocking way.For pass a call handler which verifies the te=\r\nsts\n&gt; after the listener does it job.Something like Actors might be interna=\r\nlly\n&gt; used\n&gt;  \n&gt;\n\n\n\n-- \nMaybe she awoke to see the roommate&#39;s boyfriend swi=\r\nnging from the\nchandelier wearing a boar&#39;s head.\n\nSomething which you, I, a=\r\nnd everyone else would call &quot;Tuesday&quot;, of course.\n\r\n--001a11c36780ce80b804f6b39abb\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;You could use a locking mechanism shared between your test=\r\n and handler so that progress continues as quick as possible and then put a=\r\nn overall timeout on your test in the event of failure.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=\r\n\nSomething like this should work just fine:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;=\r\nspan class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;@Test&lt;/div&gt;&lt;div&gt;&lt;span cla=\r\nss=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;public void testAsync() throws Ex=\r\nception {&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;fi=\r\nnal Semaphore lock =3D new Semaphore(0);&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;&quot; style=\r\n=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;someAsyncCode(new Handler() {&lt;/div&gt;&lt;div&gt;&lt;span=\r\n class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t\t&lt;/span&gt;public void handle() {&lt;/div=\r\n&gt;\n&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t\t\t&lt;/span&gt;// put your as=\r\nsertions in here&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t\t\t&lt;=\r\n/span&gt;lock.release();&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;=\r\n\t\t\t&lt;/span&gt;} &nbsp;&lt;/div&gt;\n&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t=\r\n&lt;/span&gt;});&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;&lt;/=\r\ndiv&gt;&lt;div&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;sp=\r\nan class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t\t&lt;/span&gt;lock.acquire();&lt;/div&gt;\n&lt;div=\r\n&gt;&lt;span class=3D&quot;&quot; style=3D&quot;white-space:pre&quot;&gt;\t&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div=\r\n class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Thu, Apr 10, 2=\r\n014 at 4:21 PM,  &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:abhijeet.kushe@gma=\r\nil.com&quot; target=3D&quot;_blank&quot;&gt;abhijeet.kushe@...&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br=\r\n&gt;\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:=\r\n1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style&gt;\n&lt;span&gt;&n=\r\nbsp;&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n      \n      &lt;p&gt;&lt;span style=\r\n=3D&quot;font-family:Arial,&#39;Liberation Sans&#39;,&#39;DejaVu Sans&#39;,sans-=\r\nserif;font-size:14px&quot;&gt;I am writing a Junit tests for Amqp Message Listener.=\r\nThis is how the test is written.I send a message to a exchange and introduc=\r\ne a delay of 1s (assuming that the listener will do its job within that tim=\r\ne frame).This approach slows down the build process as there 15-20 tests li=\r\nke these which take a minimum of 20 seconds to execute.Is there a way in wh=\r\nich I can do this is a non blocking way.For pass a call handler which verif=\r\nies the tests after the listener does it job.Something like Actors might be=\r\n internally used&lt;/span&gt;&lt;/p&gt;\n\n\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;colo=\r\nr:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br=\r\n clear=3D&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;-- &lt;br&gt;Maybe she awoke to see the roommate&#3=\r\n9;s boyfriend swinging from the chandelier wearing a boar&#39;s head.&lt;br&gt;&lt;b=\r\nr&gt;Something which you, I, and everyone else would call &quot;Tuesday&quot;,=\r\n of course.\n&lt;/div&gt;\n\r\n--001a11c36780ce80b804f6b39abb--\r\n\n", 
    "profile": "zodiac_zx6", 
    "topicId": 24500, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 329931326, 
    "prevInTime": 24500, 
    "contentTrasformed": false, 
    "postDate": "1397151163", 
    "canDelete": false, 
    "nextInTopic": 24502, 
    "prevInTopic": 24500, 
    "headers": {
        "inReplyToHeader": "PGxpNmN0aitoNWw2cWtAWWFob29Hcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBS2k0MjczdHdYMzVpUmdNZzk1THl3K3BCSHByc0JRUnFvMXRjTGErQ3g0SEZUM3dyd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGxpNmN0aitoNWw2cWtAWWFob29Hcm91cHMuY29tPg=="
    }
}