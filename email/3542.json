{
    "numMessagesInTopic": 3, 
    "nextInTime": 3543, 
    "senderId": "pC2aq0mF3_MT2WSa42J1skdmUN-sAy56jDDc19IadItMvp6Voss2o_diqBMqYE9XXKhHxqWfcoF-bMoAFNZR2xZ-qZGyLbZSkbbhIFjhgMTIz_Dl", 
    "systemMessage": false, 
    "subject": "Re: [junit] Invariants: method within class or within test class?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "Hm. An alternate idea is a decorator or subclass that exposes assertInvariants() . This appears to me the best of both worlds: the original class exposes the", 
    "msgId": 3542, 
    "profile": "nails762", 
    "topicId": 3542, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "messageBody": "<div id=\"ygrps-yiv-533828417\">Hm. An alternate idea is a decorator or subclass that exposes <br/>\n&quot;assertInvariants()&quot;. This appears to me the best of both worlds: the <br/>\noriginal class exposes the invariant conditions as protected methods, so <br/>\nthey are not available in other packages; however they are available to <br/>\nthe subclass, which can live in the testing package.<br/>\n<br/>\nclass Thing {<br/>\n    protected boolean isInvariant1True() { ... }<br/>\n    protected boolean isInvariant2True() { ... }<br/>\n    ...<br/>\n    protected boolean isInvariantNTrue() { ... }<br/>\n}<br/>\n<br/>\nclass TestableThing extends Thing {<br/>\n    public void assertInvariants() {<br/>\n        return isInvariant1True() && ....;<br/>\n    }<br/>\n}<br/>\n<br/>\nclass ThingTest extends TestCase {<br/>\n    private TestableThing createThing(...) {<br/>\n        return new TestableThing(...);<br/>\n    }<br/>\n    ....<br/>\n    public void testSomething() {<br/>\n        final TestableThing thing = createThing(....);<br/>\n        thing.assertInvariants();<br/>\n        ....<br/>\n    }<br/>\n}<br/>\n<br/>\nTrue, there is dead production code in Thing, but at least it&#39;s not <br/>\npublic, dead production code!<br/>\n<br/>\nJBR.<br/>\n<br/>\nRobertson, Don wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; Let&#39;s assume that invoking an assertInvariants() method within your <br/>\n&gt; class&#39;s methods is too expensive to be practical, but you want it for <br/>\n&gt; the purpose of unit testing anyway. Would it be structurally superior to :<br/>\n&gt;<br/>\n&gt; 1) Implement such a method within the actual class and invoke it from <br/>\n&gt; the test case. The main benefits I see are minimal exposure of the <br/>\n&gt; class&#39;s internals (although it *is* white box testing after all), and <br/>\n&gt; visual proximity of the invariant conditions for <br/>\n&gt; implementors/modifiers. The negative is that there is &quot;dead code&quot; <br/>\n&gt; (from a runtime perspective) within the class.<br/>\n&gt;<br/>\n&gt; 2) Allow access to internal state within the class and write the <br/>\n&gt; assertInvariants() method within the test class(es). The benefits are <br/>\n&gt; visual proximity of the invariant conditions with the other functional <br/>\n&gt; description of the class, and no dead code in the runtime class. The <br/>\n&gt; negative is the need for exposure of more internal state.<br/>\n&gt;<br/>\n&gt; Opinions?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; A second &quot;meta&quot; question might be whether you think it is worthwhile <br/>\n&gt; to check invariant conditions within your unit tests as a default <br/>\n&gt; behavior, or is it overkill?<br/>\n&gt;<br/>\n&gt; Don<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Sponsor<br/>\n&gt; ADVERTISEMENT<br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://rd.yahoo.com/M=178320.1681224.3270152.1261774/D=egroupweb/S=1705007181:HM/A=879173/R=0/*http://www.fastweb.com/ib/yahoo-76f\">http://rd.yahoo.com/M=178320.1681224.3270152.1261774/D=egroupweb/S=1705007181:HM/A=879173/R=0/*http://www.fastweb.com/ib/yahoo-76f</a>&gt; <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt; . </span></blockquote></div>", 
    "prevInTime": 3541, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1008518662", 
    "canDelete": false, 
    "nextInTopic": 3558, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDNDMUNDNjA2LjEwNzA0MDdAZGlhc3BhcnNvZnR3YXJlLmNvbT4=", 
        "referencesHeader": "PDM3OTI1MEExMzU5NUQzMTE5MDY2MDA5MDI3OEFDNjNDMDZCRTUzMTdAY29ycGlzbXNnMDI+"
    }
}