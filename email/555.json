{
    "numMessagesInTopic": 1, 
    "nextInTime": 556, 
    "senderId": "MlkAUmE6MYGJ6Fs_BdQVGIXm2T8slTcFbk7s1nZn-EjlDBWN7tONqg2pEPvB9JHRPuqcGAUucIQuYQf5-We-xr2HzSIN92mp_g", 
    "systemMessage": false, 
    "subject": "AW: [junit] RE: running an EJB client as a JUnit TestCase", 
    "from": "Lucas Filz &lt;lucas.filz@...&gt;", 
    "authorName": "Lucas Filz", 
    "msgSnippet": "I think you should use the parameter -noloading after the class-name ... Von: Herrick, Chuck [mailto:chuck.herrick@agedwards.com] Gesendet: Monday, February", 
    "msgId": 555, 
    "topicId": 555, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1868603561\">\n<html><head>\n \n<title>RE: running an EJB client as a JUnit TestCase</title>\n\n</head> \n \n<div><span class=\"ygrps-yiv-1868603561101053319-26022001\"><font face=\"Arial\" color=\"#0000ff\" size=\"2\">I \nthink you should use the parameter -noloading after the \nclass-name</font></span></div>\n<blockquote><span title=\"qreply\"> <blockquote\n style=\"PADDING-LEFT:5px;MARGIN-LEFT:5px;BORDER-LEFT:#0000ff 2px solid;\">\n  <div class=\"ygrps-yiv-1868603561OutlookMessageHeader\" dir=\"ltr\" align=\"left\"><font face=\"Tahoma\"\n size=\"2\">-----Urspr√ºngliche Nachricht-----<br><b>Von:</b> Herrick, Chuck \n  [mailto:chuck.herrick@...]<br><b>Gesendet:</b> Monday, February 26, \n  2001 6:16 PM<br><b>An:</b> &#39;junit@yahoogroups.com&#39;<br><b>Betreff:</b> [junit] \n  RE: running an EJB client as a JUnit TestCase<br><br></font></div><br>\n  <ul>\n    <ul>\n      <p><font face=\"Arial\" size=\"2\">Hello,</font><font face=\"Arial\"> </font><br><font\n face=\"Arial\" size=\"2\">I&#39;m running a CMP Entity bean in WebLogic v 5.1.0 sp 8. \n      I&#39;m doing my Java coding using TogetherJ.</font> <br><br><font face=\"Arial\"\n size=\"2\">I figure it would be a no-brainer to make an EJB client into a \n      junit.framework.TestCase and get junit.swingui.TestRunner to run my EJB \n      client for me.</font></p>\n      <p><font face=\"Arial\" size=\"2\">Alas, Everything works fine until I execute the \n      PortableRemoteObject.narrow(), in which I get a \n      ClassCastException.</font><font face=\"Arial\"> </font></p>\n      <p><font face=\"Arial\" size=\"2\">Here&#39;s what I get:</font><font\n face=\"Arial\"><br></font><font face=\"Arial\" size=\"2\">--</font><font\n face=\"Arial\"><br></font><font face=\"Arial\" size=\"2\">java.lang.ClassCastException \n      &nbsp;&nbsp;</font><br><font face=\"Arial\" size=\"2\">at \n      weblogic.iiop.PortableRemoteObjectDelegateImpl.narrow(PortableRemoteObjectDelegateImpl.java:94) \n      &nbsp;&nbsp;&nbsp;&nbsp;</font><br><font face=\"Arial\" size=\"2\">at \n      javax.rmi.PortableRemoteObject.narrow(PortableRemoteObject.java:137) \n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><br><font face=\"Arial\"\n size=\"2\">at TestClient.lookupHome(TestClient.java:186) \n      &nbsp;</font><br><font face=\"Arial\" size=\"2\">at \n      TestClient.setUp(TestClient.java:227)</font><br><font face=\"Arial\"\n size=\"2\">--</font><font face=\"Arial\"><br></font><font face=\"Arial\" size=\"2\">I \n      figure I might have a -classpath problem. I run TestRunner from a .cmd \n      commandline script file, using jdk1.3&#92;bin&#92;java -classpath ...</font></p>\n      <p><font face=\"Arial\" size=\"2\">Does TestRunner use %CLASSPATH% when it runs my \n      EJB client?</font> </p>\n      <p><font face=\"Arial\" size=\"2\">I may have a ClassLoader problem. Running the \n      same code, from a main() which calls setUp() and mimics TestRunner, runs \n      just fine from the commandline as well as from insdide TogetherJ. In fact, \n      if I cut&#39;n&#39;paste the -classpath from these, I still get the cast exception \n      from a run via TestRunner.</font></p>\n      <p><font face=\"Arial\" size=\"2\">Here is what is weird. I&#39;ve put \n      System.out.println()s in my code, using instanceof to test what is \n      returned from the InitialContext.lookup() against the ejb Home interface. \n      this comparison code returns true when run from the commandline and from \n      inside TogetherJ but false when run from TestRunner. In other \n      words,</font></p>\n      <p><font face=\"Arial\" size=\"2\">&nbsp; java.lang.Object o = \n      ctx.lookup(&quot;JNDI_NAME&quot;) ;</font> <br><font face=\"Arial\" size=\"2\">&nbsp; \n      System.out.println(o.getClass().getName()) ;</font> <br><font face=\"Arial\"\n size=\"2\">&nbsp; System.out.println(o instanceof FoobarHome) ;</font> \n      <br><font face=\"Arial\" size=\"2\">should echo first the classname of the \n      WebLogic-generated stub and then the word true.</font> </p>\n      <p><font face=\"Arial\" size=\"2\">Running inside and outside of TestRunner gives \n      indeed the same classname. Running inside TestRunner returns &quot;false&quot; and \n      outside TestRunner returns &quot;true.&quot;</font></p>\n      <p><font face=\"Arial\" size=\"2\">Can you help?</font> </p>\n      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<u> <font face=\"Arial\"\n color=\"#0000ff\" size=\"2\"><a rel=\"nofollow\"\n target=\"_blank\" href=\"mailto:chuck.herrick@...\">mailto:chuck.herrick@...</a></font></u> \n      </p></ul></ul><code><font\n size=\"3\"><br><br>***************************************************************************************<br>WARNING: \n  All e-mail sent to and from this address will be received or<br>otherwise \n  recorded by the A.G. Edwards corporate e-mail system and is<br>subject to \n  archival, monitoring or review by, and/or disclosure to,<br>someone other than \n  the \n  recipient.<br>***************************************************************************************<br></font></code><br><br><tt>To \n  unsubscribe from this group, send an email \n  to:<br>junit-unsubscribe@yahoogroups.com<br></tt><br><br><tt>Your use of \n  Yahoo! Groups is subject to the <a rel=\"nofollow\"\n target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">Yahoo! Terms of Service</a>.</tt> \n<br></blockquote></span></blockquote></html> \n</div>", 
    "prevInTime": 554, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "983215694", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEFBQTVGNkIxRTQ2QUQ0MTFBOTlGMDA2MDk3MEQwMDBDMTUxMjY0QG50c2VydmVyPg=="
    }
}