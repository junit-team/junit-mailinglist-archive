{
    "numMessagesInTopic": 3, 
    "nextInTime": 18768, 
    "senderId": "s4zjesP3TgpIQ0EVz9GJfaFVa5XgTUOd26yONQFg2GcYxANc3I3cUeYjHO1wNxaugcniBoevAeBiHl3ciss1b7Lq3dNDHQ", 
    "systemMessage": true, 
    "subject": "RE: [junit] JUnit 4 & logging", 
    "from": "&quot;Deirdre Lee&quot; &lt;delee@...&gt;", 
    "authorName": "Deirdre Lee", 
    "msgSnippet": "Hi David, Yeah that s great.  It s working now.  I have three classes: Test class: import static org.junit.Assert.assertEquals; import org.junit.Test; import", 
    "msgId": 18767, 
    "profile": "dee101_1999", 
    "topicId": 18762, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 280633385, 
    "messageBody": "<div id=\"ygrps-yiv-1902845294\">Hi David,<br/>\n<br/>\n <br/>\n<br/>\nYeah that&#39;s great.  It&#39;s working now.  I have three classes:<br/>\n<br/>\n <br/>\n<br/>\nTest class:<br/>\n<br/>\n <br/>\n<br/>\nimport static org.junit.Assert.assertEquals;<br/>\n<br/>\nimport org.junit.Test;<br/>\n<br/>\nimport org.slf4j.Logger;<br/>\n<br/>\nimport org.slf4j.LoggerFactory;<br/>\n<br/>\n <br/>\n<br/>\npublic class DatabaseConnectionTest<br/>\n<br/>\n{<br/>\n<br/>\n   // Create logback logger instance<br/>\n<br/>\n   protected Logger logger = LoggerFactory<br/>\n<br/>\n                           .getLogger( DatabaseConnectionTest.class );<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n   @Test<br/>\n<br/>\n   public void equalTest()<br/>\n<br/>\n   {<br/>\n<br/>\n               try<br/>\n<br/>\n               {<br/>\n<br/>\n                           // TEXT MISSING  <br/>\n<br/>\n                           assertEquals( &quot;com.mysql.jdbc.Driver&quot;, dbConn<br/>\n<br/>\n                                                   .getJdbcDriver() );<br/>\n<br/>\n               } catch( IOException e )<br/>\n<br/>\n               {<br/>\n<br/>\n                           e.printStackTrace();<br/>\n<br/>\n               }<br/>\n<br/>\n   }<br/>\n<br/>\n}<br/>\n<br/>\n <br/>\n<br/>\nAn empty suite class:<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\nimport org.junit.runner.RunWith;<br/>\n<br/>\nimport org.junit.runners.Suite;<br/>\n<br/>\nimport org.junit.runners.Suite.SuiteClasses;<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n@RunWith(Suite.class)<br/>\n<br/>\n@SuiteClasses({DatabaseConnectionTest.class})<br/>\n<br/>\npublic class TestSuite<br/>\n<br/>\n{<br/>\n<br/>\n}<br/>\n<br/>\n <br/>\n<br/>\nMain method class:<br/>\n<br/>\n <br/>\n<br/>\nimport org.junit.runner.JUnitCore;<br/>\n<br/>\nimport org.junit.runner.Result;<br/>\n<br/>\nimport org.junit.runner.notification.Failure;<br/>\n<br/>\nimport org.junit.runner.notification.RunListener;<br/>\n<br/>\nimport org.slf4j.Logger;<br/>\n<br/>\nimport org.slf4j.LoggerFactory;<br/>\n<br/>\n <br/>\n<br/>\npublic class Test3<br/>\n<br/>\n{<br/>\n<br/>\n   // Create logback logger instance<br/>\n<br/>\n   protected static Logger logger = LoggerFactory<br/>\n<br/>\n                           .getLogger( Test3.class );<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n   public static void main(String[] args)<br/>\n<br/>\n   {<br/>\n<br/>\n               JUnitCore core = new JUnitCore();<br/>\n<br/>\n               core.addListener( new RunListener() {<br/>\n<br/>\n                           @Override<br/>\n<br/>\n                           public void testFailure(Failure failure)<br/>\n<br/>\n                                                   throws Exception<br/>\n<br/>\n                           {<br/>\n<br/>\n                                       super.testFailure( failure );<br/>\n<br/>\n                                       log( failure );<br/>\n<br/>\n                           }<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n                           @Override<br/>\n<br/>\n                           public void testRunFinished(Result result)<br/>\n<br/>\n                                                   throws Exception<br/>\n<br/>\n                           {<br/>\n<br/>\n                                       super.testRunFinished( result );<br/>\n<br/>\n                                       log(result);<br/>\n<br/>\n                           }<br/>\n<br/>\n               } );<br/>\n<br/>\n               core.run( TestSuite.class );<br/>\n<br/>\n   }<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n   private static void log(Failure failure)<br/>\n<br/>\n   {<br/>\n<br/>\n               logger.error( &quot;Test failed: {}&quot;, failure.getDescription() );<br/>\n<br/>\n               logger.error( &quot;Test failure exception: {}&quot;,<br/>\nfailure.getException().toString() );               <br/>\n<br/>\n   }<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n   private static void log(Result result)<br/>\n<br/>\n   {<br/>\n<br/>\n               logger.info( &quot;Number of failures: {}&quot;,<br/>\nresult.getFailureCount() );<br/>\n<br/>\n               logger.info( &quot;Number of ignores: {}&quot;, result.getIgnoreCount()<br/>\n);<br/>\n<br/>\n               logger.info( &quot;Number of tests run: {}&quot;, result.getRunCount()<br/>\n);<br/>\n<br/>\n               logger.info( &quot;Runtime: {}&quot;, result.getRunTime() );<br/>\n<br/>\n               logger.info( &quot;Test successful: {}&quot;, result.wasSuccessful() );<br/>\n<br/>\n   }<br/>\n<br/>\n}<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\nThanks again for the help.<br/>\n<br/>\nDeirdre<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\nDavid Saff<br/>\nSent: 24 January 2007 02:46<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: Re: [junit] JUnit 4 & logging<br/>\n<br/>\n <br/>\n<br/>\nDeirdre,<br/>\n<br/>\nYou&#39;re in luck. I just answered this question in another forum last<br/>\nweek. Here&#39;s what you can do. Let me know if it works for you.<br/>\nShare and enjoy,<br/>\n<br/>\nDavid Saff<br/>\n<br/>\nimport junit.framework.Test;<br/>\nimport junit.framework.TestSuite;<br/>\n<br/>\nimport org.junit.runner.JUnitCore;<br/>\nimport org.junit.runner.notification.Failure;<br/>\nimport org.junit.runner.notification.RunListener;<br/>\n<br/>\npublic class RunWithLogging {<br/>\npublic static void main(String[] args) {<br/>\nJUnitCore core = new JUnitCore();<br/>\ncore.addListener(new RunListener() {<br/>\n@Override<br/>\npublic void testFailure(Failure failure) throws<br/>\nException {<br/>\nlogSomehow(failure);<br/>\n}<br/>\n});<br/>\ncore.run(suite());<br/>\n}<br/>\n<br/>\nprivate static Test suite() {<br/>\nreturn new TestSuite(Sample.class);<br/>\n}<br/>\n<br/>\nprivate static void logSomehow(Failure failure) {<br/>\n// TODO: Fill in log4j stuff here<br/>\n}<br/>\n}<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 1/23/07, dee101_1999 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:delee@...\">delee@...</a>. &lt;mailto:delee%40cs.tcd.ie&gt; ie&gt; wrote:<br/>\n&gt; Hi,<br/>\n&gt;<br/>\n&gt; I&#39;m a new user to JUnit and logging. I&#39;ve decided to use the latest<br/>\n&gt; version of JUnit; version 4. I have successfully created tests, and<br/>\n&gt; ran them using Eclipse 3.2.1 (which supports JUnit 4).<br/>\n&gt;<br/>\n&gt; I am also using logging in my system (logback 0.8.1, but log4J would<br/>\n&gt; be fine too). Is there anyway that I can add the test summary<br/>\n&gt; information to my log? I have been searching on the web and in J.<br/>\n&gt; Rainsberger&#39;s book &#39;JUnit Recipes&#39;, but haven&#39;t come up with a viable<br/>\n&gt; answer.<br/>\n&gt;<br/>\n&gt; Log4Unit works with JUnit version 3.8.1, and so isn&#39;t compatible with<br/>\n&gt; the new syntax of JUnit 4.<br/>\n&gt;<br/>\n&gt; Does the answer maybe lie with Ant? Can I use Ant within Eclipse, and<br/>\n&gt; to concatenate the test summary information to an already existing log<br/>\n&gt; file?<br/>\n&gt;<br/>\n&gt; Sample code would be great, if possible.<br/>\n&gt;<br/>\n&gt; Thanks,<br/>\n&gt; Deirdre<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 18766, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1169650635", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 18764, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwMTIzMTg0NWcxNTVkZWI3N3BlNzZhMzBiNTYyNWYzYmVhQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDAyZmIwMWM3M2ZjNyRmMGU3NzE5MCQzZTI0ZTI4NkBnYXJpYmFsZGk+"
    }
}