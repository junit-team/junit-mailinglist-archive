{
    "numMessagesInTopic": 7, 
    "nextInTime": 6754, 
    "senderId": "wIps7ENVsDjVrhHvgRcEREde3dJULKjthAjUcxC7wYo5ybg_TpMhIQVnj8hCFMYCgUvNKcd6h7n7Cdb-NE8OfOLtCh1WRw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Tests naming", 
    "from": "Kirill Maximov &lt;kir@...&gt;", 
    "authorName": "Kirill Maximov", 
    "msgSnippet": "... OK, now I see what you mean. Sorry, actually I ve read your text not as test case per user case scenario but test case per use case . Now, I still", 
    "msgId": 6753, 
    "profile": "maxkir1", 
    "topicId": 6735, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 85102992, 
    "messageBody": "<div id=\"ygrps-yiv-1938130728\">On  0, &quot;J. B. Rainsberger&quot; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbr@...\">jbr@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Kirill!<br/>\n&gt; <br/>\n&gt; &lt;snip /&gt;<br/>\n&gt; &gt;&gt;&gt; Generally there is one test per use case scenario (different flow<br/>\n&gt; &gt;&gt;&gt; through the use case). Choosing to write more or fewer tests should<br/>\n&gt; be<br/>\n&gt; &gt;&gt;&gt; done thoughtfully.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; In my experience, there are several alternative flows for a ordinary<br/>\n&gt; &gt;&gt; use case. And I see reasonable to test at least two of them: basic<br/>\n&gt; &gt;&gt; flow and error flow. What do you think?<br/>\n&gt; <br/>\n&gt; Usually there are three kinds of flows:<br/>\n&gt; <br/>\n&gt; 1. The usual flow<br/>\n&gt; 2. Alternate usual flows<br/>\n&gt; 3. Error flows<br/>\n&gt; <br/>\n&gt; I use the term &quot;use case scenario&quot; to mean a path through a use case<br/>\n&gt; with many flows. Each &quot;flow&quot; is a use case scenario. I believe that<br/>\n&gt; this is the standard UML term. When I say &quot;use case scenario&quot;, it is<br/>\n&gt; now clear what I mean.<br/>\n&gt; <br/>\n&gt; Generally, the goal is to write one Customer Test per use case<br/>\n&gt; scenario. There may even be additional tests, depending on the number<br/>\n&gt; of different representative data points along the way.<br/>\n&gt; <br/>\n&gt; I prioritize as follows:<br/>\n&gt; <br/>\n&gt; 1. Usual flow test<br/>\n&gt; 2. Fatal error flow tests<br/>\n&gt; 3. Normal alternative flow tests<br/>\n&gt; 4. Non-fatal error flow tests<br/>\n&gt; 5. Others<br/>\n&gt; <br/>\n&gt; If there are, for example, 20 scenarios for a use case, then I need to<br/>\n&gt; sit down and decide whether the use case is too big.<br/>\n<br/>\n </span></blockquote>  OK, now I see what you mean. Sorry, actually I&#39;ve read your text not <br/>\n  as &quot;test case per user case scenario&quot; but &quot;test case per use case&quot;. <br/>\n  Now, I still suggest having a package per use case and test class per<br/>\n  use case scenario.<br/>\n<br/>\n  Now about &quot;too big&quot; part. I&#39;m not sure if you can do anything with use <br/>\n  case size itself. You can implement scenarios one-by-one, in order you <br/>\n  suggested, and make each flow a separate story. But all of them <br/>\n  still belong to the same use case! From this point of view, it is right <br/>\n  to have Customer test per scenario.<br/>\n  <br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt;  <br/>\n&gt; &gt;&gt;&gt; &gt; - each test scenario is placed into single class with appropriate<br/>\n&gt; &gt;&gt;&gt; name.<br/>\n&gt; &gt;&gt;&gt; <br/>\n&gt; &gt;&gt;&gt; Each use case scenario is a test. Test classes should almost always<br/>\n&gt; &gt;&gt;&gt; evolve based around a fixture, not some other arbitrary<br/>\n&gt; organization<br/>\n&gt; &gt;&gt;&gt; mechanism. A given use case may be implemented as its own Customer<br/>\n&gt; Test<br/>\n&gt; &gt;&gt;&gt; class, but it is usually better to let the organization of tests<br/>\n&gt; into<br/>\n&gt; &gt;&gt;&gt; TestCase implementations depend on shared fixture requirements.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; But we can share fixtures using inheritance as well. I have two<br/>\n&gt; points<br/>\n&gt; &gt;&gt;here:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; - for a complicated test case it may be better to keep it in a<br/>\n&gt; separate<br/>\n&gt; &gt;&gt;class.<br/>\n&gt; &gt;&gt; - It is easier to get full list of existing functional tests if we<br/>\n&gt; put<br/>\n&gt; &gt;&gt; each test case into a single class. Getting the list is quite usual<br/>\n&gt; &gt;&gt; task requested by QA department or customer (or I&#39;m wrong here?)<br/>\n&gt; <br/>\n&gt; Certainly this is a good idea. There must be a way to present the list<br/>\n&gt; of currently-implemented Customer Tests to groups like QA. Dividing the<br/>\n&gt; tests among classes is one way to achieve this. Some kind of xDoclet<br/>\n&gt; thing would be another. (Step in, Mr. Gemkow, to provide some<br/>\n&gt; information here.)<br/>\n<br/>\n </span></blockquote>  I&#39;ll try to look at it. But, as far as I expect, this tool separates<br/>\n  the test description from code. And I envision the situation when <br/>\n  &quot;copy class&quot; or &quot;copy method&quot; feature will be used without updating<br/>\n  the description. To have incorrect test/class name is quite more<br/>\n  noticable, than having incorrect javadoc and such.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; &gt;&gt;&gt; &gt;2. For Unit tests:<br/>\n&gt; &gt;&gt;&gt; &gt; - test package shall be the same as for the production code, <br/>\n&gt; &gt;&gt;&gt; &gt; but it is better to use a different source tree.<br/>\n&gt; &gt;&gt;&gt; &gt; - for simple classes (such as value objects) it is OK to name<br/>\n&gt; &gt;&gt;&gt; &gt; test classes after the name of the class under test <br/>\n&gt; &gt;&gt;&gt; &gt; (like UTestFooBar or FooBarTest). Names of test methods,<br/>\n&gt; &gt;&gt;&gt; &gt; in its turn, may include the name of the tested method.<br/>\n&gt; &gt;&gt;&gt; &gt; - for complex classes, which require a complex fixture to be set,<br/>\n&gt; &gt;&gt;&gt; &gt; test case class shall be named using fixture description. <br/>\n&gt; &gt;&gt;&gt; &gt; (The issue was discussed previously on this list).<br/>\n&gt; &gt;&gt;&gt; &gt; Test method name in this case shall describe the tested<br/>\n&gt; behaviour.<br/>\n&gt; &gt;&gt;&gt; <br/>\n&gt; &gt;&gt;&gt; The last point is the general case, and the previous points are<br/>\n&gt; special<br/>\n&gt; &gt;&gt;&gt; cases when the tests (not the code under test) are very simple.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Agreed. The issue here is to fugure out proper fixture class when<br/>\n&gt; you <br/>\n&gt; &gt;&gt; want to add a new test (for instance, when you find a bug). The task<br/>\n&gt; <br/>\n&gt; &gt;&gt; may become more complicated if you never seen the code before and<br/>\n&gt; there<br/>\n&gt; &gt;&gt; are nobody to ask (bad things happen). I see two possible solutions:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; - Use IDE features to find usages of tested code (if you have such<br/>\n&gt; IDE)<br/>\n&gt; &gt;&gt; - Make a error in the production code and see which test breaks.<br/>\n&gt; <br/>\n&gt; If you cannot figure out where to add the new test, then you can find<br/>\n&gt; the test that breaks by breaking the production code; however, that<br/>\n&gt; assumes that you know what production code you need to change in order<br/>\n&gt; to add the feature. This may not be the case, and certainly is not<br/>\n&gt; always (often?) the case when test-driving the new feature.<br/>\n&gt; <br/>\n&gt; If I am in that situation and I cannot find a test fixture to match my<br/>\n&gt; current needs, then I build a new one and let the team refactor it as<br/>\n&gt; they come across it. Eventually, someone will feel the pain of not<br/>\n&gt; having the right test fixture and will find the problem.<br/>\n<br/>\n </span></blockquote>  Good point. But it should be a spirit in the team to fix tests of<br/>\n  another team member as soon as the see duplication in the test code.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; &gt;&gt;&gt; &gt;3. For Integration Tests:<br/>\n&gt; &gt;&gt;&gt; &gt; - I suggest, names of Integration tests must differ from Unit<br/>\n&gt; &gt;&gt;&gt; tests.<br/>\n&gt; &gt;&gt;&gt; &gt; Usually, integration tests run longer, and consequently, more<br/>\n&gt; &gt;&gt;&gt; seldom. <br/>\n&gt; &gt;&gt;&gt; &gt; That&#39;s why it is convinient to name them differently. One may<br/>\n&gt; name<br/>\n&gt; &gt;&gt;&gt; <br/>\n&gt; &gt;&gt;&gt; &gt; unit tests using UTest prefix, anf Integration tests using ITest<br/>\n&gt; &gt;&gt;&gt; &gt;prefix.<br/>\n&gt; &gt;&gt;&gt; <br/>\n&gt; &gt;&gt;&gt; On a past project, we used tag interfaces to distinguish Programmer<br/>\n&gt; &gt;&gt;&gt; Tests from Customer Tests. This made it easy to write a TestRunner<br/>\n&gt; that<br/>\n&gt; &gt;&gt;&gt; picked one or the other or both when building a test suite. You may<br/>\n&gt; &gt;&gt;&gt; find this technique useful.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; I saw an article where static variable with specific value was used <br/>\n&gt; &gt;&gt; to mark a test and TestSuite class used reflection to include only <br/>\n&gt; &gt;&gt; tests with specific value of the variable. It is quite close to your<br/>\n&gt; &gt;&gt; approach.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; What for me, I use ant to build/run my test suites. That&#39;s why I <br/>\n&gt; &gt;&gt; suggest class naming approach.<br/>\n&gt; <br/>\n&gt; Certainly a class naming convention works very well with Ant&#39;s<br/>\n&gt; JUnit:batchtest task.<br/>\n&gt; <br/>\n&gt; &gt;&gt;&gt; Also, place the different kinds of tests in different packages in<br/>\n&gt; order<br/>\n&gt; &gt;&gt;&gt; to reduce the number of naming collisions.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Sorry, I don&#39;t see your point clearly. Are you talking about unit<br/>\n&gt; tests,<br/>\n&gt; &gt;&gt; functional tests?<br/>\n&gt; <br/>\n&gt; Yes.:)<br/>\n&gt; <br/>\n&gt; I mean place CTs in one package and PTs in another.<br/>\n<br/>\n </span></blockquote>   Yes, sure, it could even be different source trees and different teams<br/>\n   (development/QA) working on them.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; &gt;&gt;&gt; I have to say that your list of points is excellent and should be<br/>\n&gt; &gt;&gt;&gt; turned into a short article on the subject.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Thank you very much. Actually, I thought about it and I&#39;ll possibly<br/>\n&gt; &gt;&gt; try to write one.<br/>\n&gt; <br/>\n&gt; I am more than willing to edit it, if you need some help.<br/>\n<br/>\n </span></blockquote>  Thank you for the offer. BTW, is is OK to post draft on the list<br/>\n  for feedback? Possibly someone else will also want to comment.<br/>\n<br/>\n  Good luck,<br/>\n<br/>\n-- <br/>\nKirill Maximov aka KIR<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:kir@...\">kir@...</a> | <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.maxkir.com/\">http://www.maxkir.com/</a><br/>\nSt.Petersburg, Russia</div>", 
    "prevInTime": 6752, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1043643679", 
    "canDelete": false, 
    "nextInTopic": 6762, 
    "prevInTopic": 6745, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMTI2MTUwMjM2MDIxOS4wMDdEQTM1QkBzbXRwLnltLnBodWIubmV0LmNhYmxlLnJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PDIwMDMwMTI3MDUwMTE5LkdDMTUwMjVAcXVlZW4uYWN0aW1pbmQuY29tPg==", 
        "referencesHeader": "PDIwMDMwMTI1MTk0OTAyLkdBMTIzMjlAcXVlZW4uYWN0aW1pbmQuY29tPiA8MjAwMzAxMjUxNTA0NDkwMzMxLjAxMTBBMEIzQHNtdHAueW0ucGh1Yi5uZXQuY2FibGUucm9nZXJzLmNvbT4gPDIwMDMwMTI2MTAwMDI4LkdBNjI3OEBxdWVlbi5hY3RpbWluZC5jb20+IDwyMDAzMDEyNjE1MDIzNjAyMTkuMDA3REEzNUJAc210cC55bS5waHViLm5ldC5jYWJsZS5yb2dlcnMuY29tPg=="
    }
}