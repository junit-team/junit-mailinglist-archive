{
    "numMessagesInTopic": 5, 
    "nextInTime": 20178, 
    "senderId": "oU0VXojy7wTLvWTBnlAZw8E9K_582hnr4c7JwyFEV5CWmx58OQf_v33XnNlKn8L-HW9X4a1XRX29ataHo3dFNFOnjHtZzFYC1bpHDyI", 
    "systemMessage": true, 
    "subject": "junit with easymock", 
    "from": "&quot;pankaj khare&quot; &lt;pankaj.0405@...&gt;", 
    "authorName": "pankaj khare", 
    "msgSnippet": "hi all package junitbook.fine.tasting; public class Account { private String accountId; private long balance; public Account(String accountId,long", 
    "msgId": 20177, 
    "profile": "pankaj_0405", 
    "topicId": 20172, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 331996991, 
    "messageBody": "<div id=\"ygrps-yiv-1465248255\">hi all<br/>\n<br/>\n<br/>\npackage junitbook.fine.tasting;<br/>\n<br/>\npublic class Account {<br/>\n    private String accountId;<br/>\n    private long balance;<br/>\n    public Account(String accountId,long initialBalance)<br/>\n    {<br/>\n        this.accountId=accountId;<br/>\n        balance=initialBalance;<br/>\n    }<br/>\n    public void debit(long amount)<br/>\n    {<br/>\n        balance-=amount;<br/>\n    }<br/>\n    public void credit(long amount)<br/>\n    {<br/>\n        balance+=amount;<br/>\n    }<br/>\n    public long getBalance()<br/>\n    {<br/>\n        return this.balance;<br/>\n    }<br/>\n<br/>\n}<br/>\n<br/>\n<br/>\npackage junitbook.fine.tasting;<br/>\n<br/>\npublic interface AccountManager {<br/>\n    Account findAccountForUser(String userId);<br/>\n    void updateAccount(Account account);<br/>\n<br/>\n}<br/>\n<br/>\npackage junitbook.fine.tasting;<br/>\n<br/>\npublic class AccountService {<br/>\n<br/>\n    private AccountManager accountManager;<br/>\n<br/>\n    public void setAccountManager(AccountManager manager)<br/>\n    {<br/>\n        this.accountManager=manager;<br/>\n    }<br/>\n    public void transfer(String senderId,String beneficiaryId, long amount)<br/>\n    {<br/>\n        Account sender=this.accountManager.findAccountForUser(senderId);<br/>\n        Account beneficiary=this.accountManager.findAccountForUser<br/>\n(beneficiaryId);<br/>\n        sender.credit(amount);<br/>\n        beneficiary.credit(amount);<br/>\n        this.accountManager.updateAccount(sender);<br/>\n        this.accountManager.updateAccount(beneficiary);<br/>\n<br/>\n    }<br/>\n<br/>\n}<br/>\n<br/>\n<br/>\nthis is the Test class<br/>\n<br/>\n<br/>\npackage junitbook.fine.tasting;<br/>\n<br/>\nimport junit.framework.*;<br/>\nimport org.easymock.MockControl;<br/>\n<br/>\npublic class AccountTest extends TestCase{<br/>\n    Account account;<br/>\n    String str1=new String(&quot;1&quot;);<br/>\n    String str2=new String(&quot;2&quot;);<br/>\n<br/>\n    AccountService accountService;<br/>\n<br/>\n    public void testTransfer()throws Exception<br/>\n    {<br/>\n        Account accountSender=new Account(&quot;1&quot;,200);<br/>\n        Account accountBeneficiary=new Account(&quot;2&quot;,100);<br/>\n        MockControl controlAccountManager=MockControl.createControl(<br/>\nAccountManager.class);<br/>\n        AccountManager<br/>\nmockAccountManager=(AccountManager)controlAccountManager.getMock();<br/>\n        mockAccountManager.findAccountForUser(str1);<br/>\n        controlAccountManager.setReturnValue(accountSender );<br/>\n        controlAccountManager.replay();<br/>\n<br/>\n        mockAccountManager.findAccountForUser(str2);<br/>\n        controlAccountManager.setReturnValue(accountBeneficiary );<br/>\n        //controlAccountManager.expectAndReturn(&quot;2&quot;,accountBeneficiary);<br/>\n        controlAccountManager.replay();<br/>\n<br/>\n        mockAccountManager.updateAccount(accountSender);<br/>\n        //controlAccountManager.setReturnValue(accountSender);<br/>\n        controlAccountManager.replay();<br/>\n        mockAccountManager.updateAccount(accountBeneficiary);<br/>\n        //controlAccountManager.setReturnValue(accountBeneficiary);<br/>\n        controlAccountManager.replay();<br/>\n        //accountSender.credit(50);<br/>\n<br/>\n        //accountBeneficiary.debit(50);<br/>\n<br/>\n        accountService=new AccountService();<br/>\n        accountService.setAccountManager(mockAccountManager);<br/>\n        accountService.transfer(&quot;1&quot;,&quot;2&quot;,50);<br/>\n        controlAccountManager.verify();<br/>\n        Assert.assertEquals(150,accountSender.getBalance());<br/>\n        Assert.assertEquals(150,accountBeneficiary.getBalance());<br/>\n<br/>\n<br/>\n    }<br/>\n<br/>\n<br/>\n<br/>\n}<br/>\n<br/>\nbut it shows exception<br/>\n<br/>\n  what are the problem  on above test class.<br/>\n<br/>\nplease help me.<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 20176, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1198037752", 
    "canDelete": false, 
    "nextInTopic": 20212, 
    "prevInTopic": 20175, 
    "headers": {
        "messageIdInHeader": "PGI1YWYwYzcxMDcxMjE4MjAxNXg3MjNjY2U1azQyNTkwNTMzZDU0MTFhMWVAbWFpbC5nbWFpbC5jb20+"
    }
}