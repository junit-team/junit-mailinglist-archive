{
    "numMessagesInTopic": 2, 
    "nextInTime": 20884, 
    "senderId": "Y6NajfZQb87EiU6pkycW9ndXZZ4dWtTgYPrKXATB5hwzD7u7bWQ9JchhfREauTy0bzFsilzFQxiikc0ALri1c-p1GhWTpJR1-PE", 
    "systemMessage": true, 
    "subject": "how to test exception condition", 
    "from": "&quot;sushil_d10&quot; &lt;sushil_d10@...&gt;", 
    "authorName": "sushil_d10", 
    "msgSnippet": "i am trying to write a test case for the exception scenario. my code looks as below. public ActionForward execute(ActionMapping mapping, ActionForm actionForm,", 
    "msgId": 20883, 
    "profile": "sushil_d10", 
    "topicId": 20883, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 78024148, 
    "messageBody": "<div id=\"ygrps-yiv-1441697769\">i am trying to write a test case for the exception scenario.<br/>\nmy code looks as below.<br/>\n <br/>\npublic ActionForward execute(ActionMapping mapping, ActionForm <br/>\nactionForm, HttpServletRequest request, HttpServletResponse response) <br/>\nthrows Exception { <br/>\nActionForward actionforward = <br/>\nnull; <br/>\ntry{ <br/>\nSimpleDateFormat format = <br/>\nnew SimpleDateFormat(ReportingConstant.DATE_FORMAT); <br/>\nReportRequest reportReq = <br/>\nnew ReportRequest(); <br/>\nString distID = request.getParameter(<br/>\n&quot;distId&quot;); <br/>\nString beginDate = request.getParameter(<br/>\n&quot;beginDate&quot;); <br/>\nString endDate = request.getParameter(<br/>\n&quot;endDate&quot;); <br/>\nif(null != beginDate){ <br/>\nreportReq.setBeginDate(format.parse(beginDate));<br/>\n}<br/>\nelse{ <br/>\nLOG.error(&quot;Begin date not present in the received form &quot;); <br/>\nthrow new ReportingException(&quot;Begin date not present in the received <br/>\nform&quot;); <br/>\n}<br/>\nif(null != endDate){ <br/>\nreportReq.setEndDate(format.parse(endDate));<br/>\n}<br/>\nelse{ <br/>\nLOG.error(&quot;End date not present in the received form &quot;); <br/>\nthrow new ReportingException(&quot;End date not present in the received <br/>\nform&quot;); <br/>\n}<br/>\nif(null != distID){ <br/>\nreportReq.setDistributorId(distID);<br/>\n}<br/>\nelse{ <br/>\nLOG.error(&quot;Distributor Id not present in the received form &quot;); <br/>\nthrow new ReportingException(&quot;Distributor Id not present in the <br/>\nreceived form &quot;); <br/>\n}<br/>\nsome code....<br/>\n}<br/>\ncatch(Exception e){ <br/>\nLOG.error(&quot;Error sending XLS file to the client &quot;,e); <br/>\nactionforward = mapping.findForward(<br/>\n&quot;exception&quot;); <br/>\n}<br/>\nreturn actionforward; <br/>\n}<br/>\n <br/>\nnow i would like to test a execute method for exception i.e. i am <br/>\nexpecting that if the request obj do not have any parameters set then <br/>\nmy code will throw an exception.<br/>\nand i need to verify that.<br/>\nmy test case method is like..<br/>\npublic void testDownloadXLSReportFailure()throws Exception{ <br/>\nhttpServletRequestMock.expects(once()) <br/>\n.method(<br/>\n&quot;getParameter&quot;) <br/>\n.with(eq(<br/>\n&quot;distId&quot;)) <br/>\n.will(returnValue(<br/>\nnull)); <br/>\nrequest<br/>\n= (HttpServletRequest)httpServletRequestMock.proxy(); <br/>\ntry{ <br/>\nActionForward forward = <br/>\ndownloadReportAction.execute(actionMapping, reportForm, request, <br/>\nresponse); <br/>\nfail(<br/>\n&quot;Error ..&quot;); <br/>\n}<br/>\ncatch(Exception e){ <br/>\n} <br/>\n}<br/>\norg.jmock.core.DynamicMockError: mockHttpServletRequest: unexpected <br/>\ninvocation<br/>\nInvoked: mockHttpServletRequest.getParameter(&quot;beginDate&quot;)<br/>\nAllowed:<br/>\nexpected once and has been invoked: getParameter( eq(&quot;distId&quot;) ), <br/>\nreturns null<br/>\n at org.jmock.core.AbstractDynamicMock.mockInvocation<br/>\n(AbstractDynamicMock.java:58)<br/>\n at org.jmock.cglib.CGLIBCoreMock.intercept(CGLIBCoreMock.java:71)<br/>\n at <br/>\n$javax.servlet.http.HttpServletRequest$$EnhancerByCGLIB$$7c120c24.getP<br/>\narameter(&lt;generated&gt;)<br/>\n at <br/>\ncom.toro.rebate.reporting.struts.action.DownloadXLSCommercialReportAct<br/>\nion.execute(DownloadXLSCommercialReportAction.java:47)<br/>\n at <br/>\ncom.toro.rebate.reporting.struts.action.DownloadXLSCommercialReportAct<br/>\nionTest.testDownloadXLSReportFailure<br/>\n(DownloadXLSCommercialReportActionTest.java:116)<br/>\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n at sun.reflect.NativeMethodAccessorImpl.invoke<br/>\n(NativeMethodAccessorImpl.java:39)<br/>\n at sun.reflect.DelegatingMethodAccessorImpl.invoke<br/>\n(DelegatingMethodAccessorImpl.java:25)<br/>\n at java.lang.reflect.Method.invoke(Method.java:597)<br/>\n at junit.framework.TestCase.runTest(TestCase.java:154)<br/>\n at org.jmock.core.VerifyingTestCase.runBare<br/>\n(VerifyingTestCase.java:39)<br/>\n at junit.framework.TestResult$1.protect(TestResult.java:106)<br/>\n at junit.framework.TestResult.runProtected(TestResult.java:124)<br/>\n at junit.framework.TestResult.run(TestResult.java:109)<br/>\n at junit.framework.TestCase.run(TestCase.java:118)<br/>\n at junit.framework.TestSuite.runTest(TestSuite.java:208)<br/>\n at junit.framework.TestSuite.run(TestSuite.java:203)<br/>\n at <br/>\norg.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run<br/>\n(JUnit3TestReference.java:128)<br/>\n at org.eclipse.jdt.internal.junit.runner.TestExecution.run<br/>\n(TestExecution.java:38)<br/>\n at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests<br/>\n(RemoteTestRunner.java:460)<br/>\n at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests<br/>\n(RemoteTestRunner.java:673)<br/>\n at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run<br/>\n(RemoteTestRunner.java:386)<br/>\n at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main<br/>\n(RemoteTestRunner.java:196)<br/>\ncan sombody tell me how do i chk the exception condition here?<br/>\n <br/>\nthanks,<br/>\nsush</div>", 
    "prevInTime": 20882, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1221601746", 
    "canDelete": false, 
    "nextInTopic": 20885, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGdhcDlraStvMHVmQGVHcm91cHMuY29tPg=="
    }
}