{
    "numMessagesInTopic": 52, 
    "nextInTime": 4564, 
    "senderId": "YNaBMn8MEHmO__GnSGhjvwGmmy4MxAWvOXJWeCEBo4XxdTUZOh25KWooVP2mlD9U3myEu8MpeqSEKWeyOHJ3pq9D8WVCGtunpDU", 
    "systemMessage": false, 
    "subject": "FieldAccessor - was Re: [junit] testing private methods", 
    "from": "John Goodsen &lt;jgoodsen@...&gt;", 
    "authorName": "John Goodsen", 
    "msgSnippet": "... I almost hate to do this, but here s a couple of classes that let you access private fields and invoke private methods. FieldAccessor and MethodAccessor,", 
    "msgId": 4563, 
    "rawEmail": "Return-Path: &lt;jgoodsen@...&gt;\r\nX-Sender: jgoodsen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_1); 2 Apr 2002 21:39:38 -0000\r\nReceived: (qmail 64571 invoked from network); 2 Apr 2002 21:39:38 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m10.grp.scd.yahoo.com with QMQP; 2 Apr 2002 21:39:38 -0000\r\nReceived: from unknown (HELO radmail.icehouse.net) (198.107.233.83)\n  by mta3.grp.scd.yahoo.com with SMTP; 2 Apr 2002 21:39:37 -0000\r\nReceived: (qmail 11034 invoked from network); 2 Apr 2002 13:28:55 -0000\r\nReceived: from unknown (HELO there) (root@127.0.0.1)\n  by localhost with SMTP; 2 Apr 2002 13:28:55 -0000\r\nContent-Type: text/plain;\n  charset=&quot;iso-8859-1&quot;\r\nOrganization: RADSoft\r\nTo: junit@yahoogroups.com\r\nSubject: FieldAccessor - was Re: [junit] testing private methods\r\nDate: Tue, 2 Apr 2002 13:37:58 -0800\r\nX-Mailer: KMail [version 1.3.1]\r\nReferences: &lt;F89OAnjLGXYB1J5NPAk00004c6e@...&gt;\r\nIn-Reply-To: &lt;F89OAnjLGXYB1J5NPAk00004c6e@...&gt;\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: 8bit\r\nFrom: John Goodsen &lt;jgoodsen@...&gt;\r\nReply-To: jgoodsen@...\r\nX-Yahoo-Group-Post: member; u=29621510\r\nX-Yahoo-Profile: jgoodsen\r\n\r\n&gt;\n&gt; You folks can test private methods until your brain pops out, \n&gt;\n\nI almost hate to do this, but here&#39;s a couple of classes that \nlet you access private fields and invoke private methods.\nFieldAccessor and MethodAccessor, respectively.  I admit\nto helping write this code and since then, I try very hard\nto never use it.\n\nIf you want to pop your brains out and you can handle the\nsmell in your unit tests ... have at it! :-)\n\n------- class Fieldccessor.java ------------\n\n//\n// (C) 1999-2001, RADSoft.  All Rights Reserved.\n// This code may be used freely as long as the above copyright is included.\n//\nimport java.lang.reflect.Field;\n\npublic final class FieldAccessor {\n\n    public static Object get(Object object, String fieldName) {\n        if (object == null) throw new IllegalArgumentException(&quot;Object passed \nto FieldAccessor.get is null&quot;);\n        Exception exception = null;\n        for (Class objectClass = object.getClass(); objectClass != null; \nobjectClass = objectClass.getSuperclass()) {\n            try {\n                Field field = objectClass.getDeclaredField(fieldName);\n                field.setAccessible(true);\n                Object obj = field.get(object);\n                return obj;\n            } catch (Exception ex) {\n                exception = ex;\n            }\n        }\n        throw new RuntimeException(&quot;Could get value for field &quot; + \nobject.getClass().getName() + &quot;.&quot; + fieldName);\n    }\n\n    public static Object getStatic(Class clazz, String fieldName) {\n        Exception exception = null;\n        for (; clazz != null; clazz = clazz.getSuperclass()) {\n            try {\n                Field field = clazz.getDeclaredField(fieldName);\n                field.setAccessible(true);\n                Object obj = field.get(clazz);\n                return obj;\n            } catch (Exception ex) {\n                exception = ex;\n            }\n        }\n        throw new RuntimeException(&quot;Could get value for static field &quot; + \nclazz.getName() + &quot;.&quot; + fieldName);\n    }\n\n    public static void set(Object object, String fieldName, Object value) {\n        if (object == null) throw new IllegalArgumentException(&quot;Object passed \nto FieldAccessor.set is null&quot;);\n        Class objectClass = object.getClass();\n        Exception exception = null;\n        for (; objectClass != null; objectClass = objectClass.getSuperclass())\n            try {\n                Field field = objectClass.getDeclaredField(fieldName);\n                field.setAccessible(true);\n                field.set(object, value);\n                return;\n            } catch (Exception ex) {\n                exception = ex;\n            }\n        throw new RuntimeException(&quot;Could set value for field &quot; + \nobject.getClass().getName() + &quot;.&quot; + fieldName);\n    }\n\n    public static void setStatic(Class clazz, String fieldName, Object value) \n{\n        if (clazz == null) throw new IllegalArgumentException(&quot;Object passed \nto FieldAccessor.setStatic\nis null&quot;);\n        Exception exception = null;\n        for (; clazz != null; clazz = clazz.getSuperclass()) {\n            try {\n                Field field = clazz.getDeclaredField(fieldName);\n                field.setAccessible(true);\n                field.set(clazz, value);\n                return;\n            } catch (Exception ex) {\n                exception = ex;\n            }\n        }\n        throw new RuntimeException(&quot;Could set value for static field &quot; + \nclazz.getName() + &quot;.&quot; + fieldName);\n    }\n}\n\n------- class MethodAccessor.java ------------\n\n//\n// (C) 1999-2001, RADSoft.  All Rights Reserved.\n// This code may be used freely as long as the above copyright is included.\n//\n\nimport java.lang.reflect.Method;\n\npublic final class MethodAccessor {\n\n    public static Object invoke(Object object, String methodName, Class \nparameterTypes[], Object parameters[]) {\n        try {\n            Method method = object.getClass().getDeclaredMethod(methodName, \nparameterTypes);\n            method.setAccessible(true);\n            Object obj = method.invoke(object, parameters);\n            return obj;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        throw new RuntimeException(&quot;Failed method invocation: &quot; + \nobject.getClass().getName() + &quot;.&quot; + methodName + &quot;()&quot;);\n    }\n\n    public static Object invokeStatic(Class clazz, String methodName, Class \nparameterTypes[], Object parameters[]) {\n        try {\n            Method method = clazz.getDeclaredMethod(methodName, \nparameterTypes);\n            method.setAccessible(true);\n            Object obj = method.invoke(clazz, parameters);\n            return obj;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        throw new RuntimeException(&quot;Failed static method invocation: &quot; + \nclazz.getName() + &quot;.&quot; + methodName + &quot;()&quot;);\n    }\n}\n\n\n", 
    "profile": "jgoodsen", 
    "topicId": 3179, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 29621510, 
    "prevInTime": 4562, 
    "contentTrasformed": false, 
    "postDate": "1017783478", 
    "canDelete": false, 
    "nextInTopic": 4564, 
    "prevInTopic": 4562, 
    "headers": {
        "inReplyToHeader": "PEY4OU9BbmpMR1hZQjFKNU5QQWswMDAwNGM2ZUBob3RtYWlsLmNvbT4=", 
        "referencesHeader": "PEY4OU9BbmpMR1hZQjFKNU5QQWswMDAwNGM2ZUBob3RtYWlsLmNvbT4="
    }
}