{
    "numMessagesInTopic": 1, 
    "nextInTime": 623, 
    "senderId": "fAUAmcT2H29tbaMSvrKAvjjBeJFGx-qD_kG88lHBlYICwdQcvE0-sAfoj4C0SHxRRgZLLHveCpDdVlw2kw", 
    "systemMessage": false, 
    "subject": "Rerun swingui with Systems.getProperties() error", 
    "from": "robert.worth@...", 
    "authorName": "robert.worth@chase.com", 
    "msgSnippet": "Hi all, I have a class in my project group called SingletonHolder and I have written a test for it called TestSingletonHolder. Find the sources for both below.", 
    "msgId": 622, 
    "topicId": 622, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-843463444\">Hi all,<br/>\n<br/>\nI have a class in my project group called SingletonHolder and I have <br/>\nwritten a test for it called TestSingletonHolder. Find the sources <br/>\nfor both below.<br/>\n<br/>\nWhen I run TestSingletonHolder, which uses the <br/>\njunit.swingui.TestRunner, it runs fine. However, if I hit either of <br/>\nthe &quot;run&quot; buttons I get a ClassCastException on the line<br/>\n<br/>\ninstance= (SingletonHolder) props.get( &quot;SingletonHolder&quot;);<br/>\n<br/>\nof SingletonHolder.<br/>\n<br/>\nWhen I get the class of the object returned by the props.get() <br/>\nmethod, it tells me it is a SingletonHolder.<br/>\n<br/>\nPlease can someone help. I don&#39;t know if it the test, the code, the <br/>\nSystem properties or the swingui stuff.<br/>\n<br/>\n/////////SingletonHolder<br/>\nimport java.util.*;<br/>\n<br/>\npublic class SingletonHolder {<br/>\n   public static synchronized SingletonHolder getInstance() {<br/>\n\t    SingletonHolder instance= null;<br/>\n<br/>\n\t    Properties props= System.getProperties();<br/>\n<br/>\n\t    if(props.get(&quot;SingletonHolder&quot;) == null) {<br/>\n\t\t    instance = new SingletonHolder();<br/>\n<br/>\n\t        props.put( &quot;SingletonHolder&quot;, instance);<br/>\n\t    } else {<br/>\n\t\t\tinstance = (SingletonHolder)props.get<br/>\n( &quot;SingletonHolder&quot;);<br/>\n\t    }<br/>\n<br/>\n\t    return instance;<br/>\n    }<br/>\n}<br/>\n<br/>\n/////////SingletonHolder end<br/>\n<br/>\n////////TestSingletonHolder<br/>\nimport junit.framework.*;<br/>\nimport java.util.*;<br/>\nimport java.io.*;<br/>\n<br/>\npublic class TestSingletonHolder extends TestCase {<br/>\n    public static void main(String[] args) {<br/>\n        junit.swingui.TestRunner.run(TestSingletonHolder.class);<br/>\n    }<br/>\n<br/>\n    public void testSingleton() {<br/>\n        SingletonHolder sin1 = SingletonHolder.getInstance();<br/>\n        SingletonHolder sin2 = SingletonHolder.getInstance();<br/>\n<br/>\n        assert(sin1 != null);<br/>\n        assert(sin2 != null);<br/>\n        assert(sin1 == sin2);<br/>\n<br/>\n        sin1 = null;<br/>\n        sin2 = null;<br/>\n    }<br/>\n<br/>\n    public TestSingletonHolder(String name) {<br/>\n        super(name);<br/>\n    }<br/>\n}<br/>\n/////////TestSingletonHolder end<br/>\n<br/>\nThanks,<br/>\n<br/>\nRob</div>", 
    "prevInTime": 621, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "984056917", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDk4ODA4bCttYnVAZUdyb3Vwcy5jb20+"
    }
}