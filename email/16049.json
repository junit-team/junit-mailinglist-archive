{
    "numMessagesInTopic": 9, 
    "nextInTime": 16050, 
    "senderId": "WPyHQadMhBEVgV3C5ynV5mALvsPIRp5Ww0qwgByH1P-vAEaX9He40GBEMTlNSmx9JdVTOi47IdvQBowEtwV_PzgYUMcGmi0WOUk0cHxyTQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: testing private methods in Struts Actions ?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Yes. But be careful: separate business logic from application logic. Application logic is code you write because you are a web application using Struts. ", 
    "msgId": 16049, 
    "profile": "nails762", 
    "topicId": 16019, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-992488593\">frank zou wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; This way, it seems for every action we have a biz delegate class. Is<br/>\n&gt; that you intend to do ?<br/>\n<br/>\n </span></blockquote>Yes. But be careful: separate business logic from application logic.<br/>\n<br/>\nApplication logic is code you write because you are a web application <br/>\nusing Struts.<br/>\n<br/>\nBusiness logic is code you write because of the business problem you&#39;re <br/>\nsolving.<br/>\n<br/>\nI would always design business logic to run in standalone classes and <br/>\nhave my application use those classes, so that I can verify the business <br/>\nbehavior quickly and easily. I might not always do that for application <br/>\nlogic, since it might be less costly to validate that behavior in the <br/>\ncontext of running the application.<br/>\n<br/>\nSo I would start with 1 business delegate per action. As the business <br/>\ndelegates begin to show some duplication, I refactor them into an <br/>\nincreasingly rich domain model.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; [Frank] Another concern is about clearUserRelatedCookies(...) and<br/>\n&gt; handleSessionAndToken(...). These 2 private methods do their work on<br/>\n&gt; Web layer and it seems difficult to take them as any biz logic. so it<br/>\n&gt; seems not appropriate to put them into any separate biz class. If so,<br/>\n&gt; how should I test them ? Or should I make them protected / public,<br/>\n&gt; just in order to make the testing easier ?<br/>\n<br/>\n </span></blockquote>They are not business logic, so you must decide whether it&#39;s costlier to <br/>\ntest them inside the action or outside the action. For that, you must <br/>\ntry some experiments and measure the results. Everyone sees this <br/>\ndifferently.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; [Frank] I am not sure how you would do it here. What I was trying to<br/>\n&gt; do is to use StrutsTestCase to test the execute(...) method as a<br/>\n&gt; whole, meanwhile mocking out the biz logic using JMock. Since java<br/>\n&gt; does not allowed us to inherit 2 parent classes, I wrote a wrapper for<br/>\n&gt; StrusTestCase and merge JMock function into it. This way, I can run my<br/>\n&gt; StrutsTestCase in isolation of biz / DAO code.<br/>\n&gt; <br/>\n&gt; How do you like this apporach ? Or do you think when using<br/>\n&gt; StrutsTestCase, there is no need to mock out biz code ? Or do you<br/>\n&gt; think  StrusTestCase does not even do a Unit Testing and is not worth<br/>\n&gt; doing.<br/>\n<br/>\n </span></blockquote>I like this approach, although I must say that I never used StrutsTestCase.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; [Frank] Maybe the issue is that sometimes I feel it is not so clear<br/>\n&gt; what is real biz logic code and what is not. If I do not get you<br/>\n&gt; wrong, you may extract everything possible to other separate classes,<br/>\n&gt; so that there seem nothing interesting left for Action classes<br/>\n&gt; themselves. Is that right ?<br/>\n<br/>\n </span></blockquote>Here&#39;s how to know it&#39;s business logic: &quot;Would I do this even if I <br/>\ndidn&#39;t have a computer?&quot; That&#39;s business logic. The rest is application <br/>\nlogic. :)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; English is just my second language. I am not sure whether I express<br/>\n&gt; myself clear enough. :(<br/>\n<br/>\n </span></blockquote>Very clearly. Which is your first language?<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.info\">http://www.jbrains.info</a><br/>\nYour guide to software craftsmanship<br/>\nJUnit Recipes: Practical Methods for Programmer Testing<br/>\n2005 Gordon Pask Award for contribution Agile Software Practice</div>", 
    "prevInTime": 16048, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1139539115", 
    "canDelete": false, 
    "nextInTopic": 16084, 
    "prevInTopic": 16037, 
    "headers": {
        "inReplyToHeader": "PGRzZmY4ayt0N3FqQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQzRUJGQ0FCLjEwMjAxMDJAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGRzZmY4ayt0N3FqQGVHcm91cHMuY29tPg=="
    }
}