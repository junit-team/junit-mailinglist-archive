{
    "numMessagesInTopic": 2, 
    "nextInTime": 13065, 
    "senderId": "JClc7_G9oqysXs1AXjSt7owZcmmI9ARNMds56gAup84sGFtNXDZ8F0Yn-1_YPMeI48-5wZa5LLInZaKZ9RdO8zTfSV2iHHrZYOb9-V8", 
    "systemMessage": false, 
    "subject": "Re: [junit] asserting from a sub-thread", 
    "from": "Kevin Lawrence &lt;kevin@...&gt;", 
    "authorName": "Kevin Lawrence", 
    "msgSnippet": "Make Runnable decorator that catches, remembers and rethrows the Assertion Failure ? Off the top of my head ..... public void testSomething() { // set up stuff", 
    "msgId": 13064, 
    "profile": "kevinwilliamlawrence", 
    "topicId": 13063, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 81949451, 
    "messageBody": "<div id=\"ygrps-yiv-1272028441\">Make Runnable decorator that catches, remembers and rethrows the <br/>\nAssertion Failure ?<br/>\n<br/>\n<br/>\nOff the top of my head .....<br/>\n<br/>\n<br/>\npublic void testSomething() {<br/>\n   // set up stuff<br/>\n<br/>\n   RunnableAssertion runnable =<br/>\n       new RunnableAssertion(new RealRunnable());<br/>\n   Thread thread = new Thread(runnable);<br/>\n   thread.start();<br/>\n   thread.join();<br/>\n<br/>\n   runnable.rethrowExceptions();<br/>\n<br/>\n   // more assertions<br/>\n}<br/>\n<br/>\npublic class RunnableAssertion implements Runnable {<br/>\n   Runnable realRunnable;<br/>\n   Throwable exception;<br/>\n<br/>\n   public RunnableAssertion(Runnable runnable) {<br/>\n     this.realRunnable = realRunnable;<br/>\n   }<br/>\n<br/>\n   public void run() {<br/>\n     try {<br/>\n       realRunnable.run();<br/>\n     }<br/>\n     catch(Throwable t){<br/>\n       this.exception = t;<br/>\n     }<br/>\n   }<br/>\n<br/>\n   public void reThrowExceptions() throws Throwable {<br/>\n     if(exception != null){<br/>\n       throw exception;<br/>\n     }<br/>\n   }<br/>\n}<br/>\n<br/>\n<br/>\nBut I would try to avoid relying on the thread in the test :-)<br/>\n<br/>\n<br/>\nBradley, Todd wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; Using JUnit, is it possible to write a test case that creates multiple<br/>\n&gt; threads and then uses assert* methods in those threads?  I know this<br/>\n&gt; sounds like a complicated test, but a coworker was wondering how to do<br/>\n&gt; this and none of us could think of a good way.<br/>\n&gt; <br/>\n&gt; When the assert* fails, an exception is thrown in the sub-thread, but it<br/>\n&gt; never propagates up to the main (original) thread, of course.  So, the<br/>\n&gt; test runner has no idea that assert* failed, and the test case carries<br/>\n&gt; on its merry way.<br/>\n&gt; <br/>\n&gt; Any thoughts on how people generally resolve this sort of problem?  Is<br/>\n&gt; the answer to make a simpler test case that doesn&#39;t rely on using an<br/>\n&gt; asser* in a separate thread?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Todd.<br/>\n&gt; ----<br/>\n&gt; Todd Bradley - Polycom - QA Lead, Super Secret Project<br/>\n&gt; <br/>\n&gt; Visit me at my WebOffice for IM and app sharing:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.polycomweboffice.com/todd.bradley@...\">http://www.polycomweboffice.com/todd.bradley@...</a> <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 13063, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1110489022", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 13063, 
    "headers": {
        "inReplyToHeader": "PDc0Mjk3QzVBNkY5MzBCNENCNDBEMzNCRDEyN0U4ODJBMzQ5MDU0QFdTVEVYQ0gwMC53ZXN0bWluc3Rlci5wb2x5Y29tLmNvbT4=", 
        "messageIdInHeader": "PDQyMzBCN0JFLjkwNjA1QGRpYW1vbmQtc2t5LmNvbT4=", 
        "referencesHeader": "PDc0Mjk3QzVBNkY5MzBCNENCNDBEMzNCRDEyN0U4ODJBMzQ5MDU0QFdTVEVYQ0gwMC53ZXN0bWluc3Rlci5wb2x5Y29tLmNvbT4="
    }
}