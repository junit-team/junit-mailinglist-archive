{
    "numMessagesInTopic": 21, 
    "nextInTime": 20524, 
    "senderId": "DZn9Q0Hs5BSA1cKvVomR4CBuYPWBW1WfXs0HunGvrJlHoY2ThR737LnP0wFRcCyV49Y-VDBUYrs-KuggWrnWaroqxBohxxhiha0A2SgeN70m", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: What is expected behavior on Assert.assertEquals on Number object?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains762@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... That s almost certainly what is happening, and good deduction. Now we ask the question, what s the better answer? Defeat the purpose of ", 
    "msgId": 20523, 
    "rawEmail": "Return-Path: &lt;jbrains762@...&gt;\r\nX-Sender: jbrains762@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 86406 invoked from network); 7 Jun 2008 00:40:02 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m45.grp.scd.yahoo.com with QMQP; 7 Jun 2008 00:40:02 -0000\r\nX-Received: from unknown (HELO wr-out-0506.google.com) (64.233.184.237)\n  by mta18.grp.scd.yahoo.com with SMTP; 7 Jun 2008 00:40:02 -0000\r\nX-Received: by wr-out-0506.google.com with SMTP id c55so743413wra.11\n        for &lt;junit@yahoogroups.com&gt;; Fri, 06 Jun 2008 17:40:02 -0700 (PDT)\r\nX-Received: by 10.90.99.6 with SMTP id w6mr777229agb.110.1212799202109;\n        Fri, 06 Jun 2008 17:40:02 -0700 (PDT)\r\nReturn-Path: &lt;jbrains762@...&gt;\r\nX-Received: from ?192.168.16.197? ( [64.93.98.176])\n        by mx.google.com with ESMTPS id g3sm5166164wra.2.2008.06.06.17.40.00\n        (version=TLSv1/SSLv3 cipher=RC4-MD5);\n        Fri, 06 Jun 2008 17:40:01 -0700 (PDT)\r\nMessage-Id: &lt;F11065F9-C8E9-489B-B60B-9049E211035C@...&gt;\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;g2bf1t+r2iu@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nContent-Transfer-Encoding: 7bit\r\nMime-Version: 1.0 (Apple Message framework v919.2)\r\nDate: Fri, 6 Jun 2008 19:39:58 -0500\r\nReferences: &lt;g2bf1t+r2iu@...&gt;\r\nX-Mailer: Apple Mail (2.919.2)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains762@...&gt;\r\nSubject: Re: [junit] Re: What is expected behavior on Assert.assertEquals on Number object?\r\nX-Yahoo-Group-Post: member; u=282027414; y=oN9uhOevJALXn-U8BoUyOyolcGBt2jPHMCGcRtxvxAEfolk\r\nX-Yahoo-Profile: nails762\r\n\r\nOn 2008-06-06, at 08:45 , Roger Glover wrote:\n&gt; --- In junit@yahoogroups.com, Nattapong Sirilappanich &lt;natta@...&gt;  \n&gt; wrote:\n&gt; &gt; Actually, my point here is i&#39;m expecting\n&gt; &gt; org.junit.Assert.assertEquals(Object obj1, Object obj2) to call\n&gt; &gt; its obj1.equals(obj2) or something like this. However, the\n&gt; &gt; outcome surprise me. Assertion success but obj1.equals(obj2)\n&gt; &gt; return false.\n&gt; &gt;\n&gt; &gt; What&#39;s going on inside assertEquals() operation? Is this what\n&gt; &gt; it&#39;s suppose to be?\n&gt;\n&gt; As I stated, albeit not very clearly the first time (Curse you &quot;Rich\n&gt; Text Editor(Beta)&quot;!), I suspect that the culprit here is that\n&gt; &quot;Assert.assertEquals(Object, Object)&quot; is not being called at all. This\n&gt; is borne out by the fact that a J2SE 1.4 compiler and a JavaSE 1.5\n&gt; compiler treat the same call completely differently.\n&gt;\n&gt; I *SUSPECT* that the 1.5 compiler is unboxing the Double objects into\n&gt; primitive longs and that the method that is *ACTUALLY* called is\n&gt; &quot;Assert.assertEquals(long,long)&quot;. This accounts for the behavior since\n&gt; the integer parts of your two numbers are the same.\n&gt; &quot;Assert.assertEquals(long,long)&quot; yields is successful after the\n&gt; Doubles are converted (truncated) to longs.\n&gt;\nThat&#39;s almost certainly what is happening, and good deduction. Now we  \nask the question, what&#39;s the better answer? Defeat the purpose of  \nassertEquals(Object,Object) or letting programmers hoist themselves on  \ntheir own petards?\n\nJUnit could detect this situation, but if it did, I&#39;d prefer it to  \nwarn the programmer rather than fix the problem, because I want to  \nencourage programmers to improve their design: either the test should  \ncompare the Double values with a tolerance, or perhaps the production  \ncode ought not to use Doubles.\n\nTake care.\n----\nJ. B. (Joe) Rainsberger :: http://www.jbrains.ca\nYour guide to software craftsmanship\nJUnit Recipes: Practical Methods for Programmer Testing\n2005 Gordon Pask Award for contributions to Agile Software Practice\n\n\n", 
    "profile": "nails762", 
    "topicId": 20513, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 282027414, 
    "prevInTime": 20522, 
    "contentTrasformed": false, 
    "postDate": "1212799198", 
    "canDelete": false, 
    "nextInTopic": 20527, 
    "prevInTopic": 20522, 
    "headers": {
        "inReplyToHeader": "PGcyYmYxdCtyMml1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEYxMTA2NUY5LUM4RTktNDg5Qi1CNjBCLTkwNDlFMjExMDM1Q0BnbWFpbC5jb20+", 
        "referencesHeader": "PGcyYmYxdCtyMml1QGVHcm91cHMuY29tPg=="
    }
}