{
    "numMessagesInTopic": 19, 
    "nextInTime": 3353, 
    "senderId": "aQfNN3WEXaTQmus7MPuKRPGLTX-xzgul2kl_79vWMvKDOGQCzk5Yyo37BD5Wh2aE2pvWwPInNVn6idqq_VPttUvNC0UH-7mreIucbu8h3ss", 
    "systemMessage": false, 
    "subject": "RE: [junit] Making JUnit more pluggable for add-ons", 
    "from": "Scott Stirling &lt;sstirling@...&gt;", 
    "authorName": "Scott Stirling", 
    "msgSnippet": "I m glad he did.  But I guess this is the user list?  I thought it was the only JUnit list. Doh! I ve hacked around JUnit myself (and answered my share of", 
    "msgId": 3352, 
    "profile": "jrun4", 
    "topicId": 3350, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-494982103\">I&#39;m glad he did.  But I guess this is the user list?  I thought it was the<br/>\nonly JUnit list. Doh!<br/>\n<br/>\nI&#39;ve hacked around JUnit myself (and answered my share of questions on this<br/>\nlist in the past year or so), and I wasn&#39;t aware there really was a viable<br/>\ndev list for JUnit.  I should get on that too, I guess.  But in the past no<br/>\none has seemed to mind RFEs or bug reports on this list.<br/>\n<br/>\nBesides, many JUnit users are pretty literate and into programming in<br/>\ngeneral.  I guess I don&#39;t see Michael&#39;s post as off-topic or cross-posted.<br/>\nSorry.  I&#39;ll get on the dev list and shut up.<br/>\n<br/>\nScott Stirling<br/>\nJRun QA<br/>\nMacromedia<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; -----Original Message-----<br/>\n&gt; From: Chris Eppstein [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:ceppstein@...\">ceppstein@...</a>]<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Michael,<br/>\n&gt; \tIt&#39;s a good idea to only send an email to one news <br/>\n&gt; group since many<br/>\n&gt; members are on both lists. This email is best suited for the <br/>\n&gt; junit-devel<br/>\n&gt; email list and not for the junit list which is more geared <br/>\n&gt; towards using<br/>\n&gt; junit.<br/>\n&gt; <br/>\n&gt; Chris<br/>\n&gt; <br/>\n&gt; -----Original Message-----<br/>\n&gt; From: Michael Silverstein [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:msilverstein@...\">msilverstein@...</a>]<br/>\n&gt; Sent: Tuesday, November 27, 2001 10:17 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-devel@...\">junit-devel@...</a>; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: [junit] Making JUnit more pluggable for add-ons<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Problem statement<br/>\n&gt; -----------------<br/>\n&gt; I am adding some additional profiling and metrics to JUnit <br/>\n&gt; test execution.<br/>\n&gt; In order to do this I need to plug in to JUnit in such a way <br/>\n&gt; as to perform<br/>\n&gt; some operations before and after test execution, and to <br/>\n&gt; extend the test<br/>\n&gt; results to contain the new metrics. Presently the framework <br/>\n&gt; does not allow<br/>\n&gt; me to do this without altering it.<br/>\n&gt; <br/>\n&gt; Process<br/>\n&gt; -------<br/>\n&gt; I can either graft a new branch on to the JUnit source tree <br/>\n&gt; that contains<br/>\n&gt; various extensions built in and give it a new name (like JUnit XYZ or<br/>\n&gt; whatever) or provide some tweaks to the present framework <br/>\n&gt; that satisfy my<br/>\n&gt; needs in the hope they are accepted as part of the next <br/>\n&gt; version. The purpose<br/>\n&gt; of this email is to start a discussion about this so that <br/>\n&gt; whatever changes<br/>\n&gt; are necessary fit in with the architectural spirit of JUnit <br/>\n&gt; and are suitable<br/>\n&gt; for inclusion in a base release. If possible, I&#39;d like to <br/>\n&gt; wrap this up and<br/>\n&gt; make it publicly available by the end of the year.<br/>\n&gt; <br/>\n&gt; Note: I realize test cases are the recognized currency for <br/>\n&gt; articulating new<br/>\n&gt; functionality, so once there is agreement in principle to an <br/>\n&gt; approach, I can<br/>\n&gt; provide test cases to provide more detail.<br/>\n&gt; <br/>\n&gt; Wrapping test execution<br/>\n&gt; -----------------------<br/>\n&gt; I need to be able to start profiling immediately before a <br/>\n&gt; user test starts<br/>\n&gt; and end profiling immediately afterward. One approach is to <br/>\n&gt; wrap the user<br/>\n&gt; test class that is presently instantiated in<br/>\n&gt; junit.runner.BaseTestRunner.getTest(String) with a <br/>\n&gt; TestDecorator subclass<br/>\n&gt; instance that manages profiling during test execution. Creating the<br/>\n&gt; decorator sounds like a job for factory method [Gamma95].<br/>\n&gt; <br/>\n&gt; Extending the results<br/>\n&gt; ---------------------<br/>\n&gt; This is presently not easy because all the various test <br/>\n&gt; runners (subclasses<br/>\n&gt; of BaseTestRunner) implement their own createTestResult() <br/>\n&gt; method, where the<br/>\n&gt; reference to the TestResult class is hard coded. I&#39;d like to <br/>\n&gt; be able to<br/>\n&gt; specify that dynamically as well. This also sounds like a job <br/>\n&gt; for factory<br/>\n&gt; method [Gamma95].<br/>\n&gt; <br/>\n&gt; Toward a unified pluggable configuration approach<br/>\n&gt; -------------------------------------------------<br/>\n&gt; A possible approach is to employ the abstract factory pattern <br/>\n&gt; [Gamma95]<br/>\n&gt; where the concrete factory class contains factory methods for <br/>\n&gt; the above<br/>\n&gt; classes and others, is specified in the preferences file or <br/>\n&gt; elsewhere. This<br/>\n&gt; sort of architectural change would substantially enable the sort of<br/>\n&gt; pluggability that I&#39;m after.<br/>\n&gt; <br/>\n&gt; Some questions and observations about the framework<br/>\n&gt; ---------------------------------------------------<br/>\n&gt; Having spent some time digging into JUnit I have the <br/>\n&gt; following questions and<br/>\n&gt; comments:<br/>\n&gt; <br/>\n&gt; - The preferences file is read in more than one place:<br/>\n&gt;   - junit.runner.BaseTestRunner.readPreferences()<br/>\n&gt;   - junit.runner.TestCaseClassLoader.readExcludedPackages()<br/>\n&gt;   I could be wrong but it seems like this is redundant <br/>\n&gt; execution, especially<br/>\n&gt; since the preferences is kept in a static variable.<br/>\n&gt; <br/>\n&gt; - The preferences (junit.runner.BaseTestRunner.fPreferences) <br/>\n&gt; is static. It<br/>\n&gt; strikes me that this hampers testability of the framework <br/>\n&gt; because it makes<br/>\n&gt; it difficult to isolate the framework preferences from the <br/>\n&gt; preferences for<br/>\n&gt; instances of framework classes under test.<br/>\n&gt; <br/>\n&gt; - The TestResult class provides semantics for running and <br/>\n&gt; stopping tests.<br/>\n&gt; This seems like a stretch for a results class, which I would <br/>\n&gt; imagine is<br/>\n&gt; primarily a container for execution metrics and other downstream<br/>\n&gt; information.<br/>\n&gt; <br/>\n&gt; - The TestRunner variants are very tied to presentation <br/>\n&gt; layer. I see this<br/>\n&gt; has been discussed at length in the past so I won&#39;t belabor it.<br/>\n&gt; <br/>\n&gt; - It seems that since all the methods in <br/>\n&gt; junit.framework.Assert are static<br/>\n&gt; and it does not hold any state, there is really no need to <br/>\n&gt; make this class<br/>\n&gt; the root of all tests, except for the convenience of not <br/>\n&gt; prefixing assertion<br/>\n&gt; methods with &#39;junit.framework.Assert&#39;. I&#39;m sure I&#39;m missing <br/>\n&gt; something here.<br/>\n&gt; <br/>\n&gt; References<br/>\n&gt; ----------<br/>\n&gt; [Gamma95] Erich Gamma et al. &quot;Design Patterns - Elements of Rusable<br/>\n&gt; Object-Oriented Software&quot;, Addison-Wesley, Reading, MA, 1995.<br/>\n&gt; <br/>\n&gt; ^^^^^^^^^^^^^^^^^^^^^^^^^<br/>\n&gt; Mike Silverstein<br/>\n&gt; SilverMark, Inc.<br/>\n&gt; The object testing company<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.silvermark.com\">http://www.silvermark.com</a><br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ------------------------ Yahoo! Groups Sponsor <br/>\n&gt; ---------------------~--&gt;<br/>\n&gt; E-mail viral marketing - with FastTree<br/>\n&gt; Email to 50. You might reach 500.<br/>\n&gt; Unlimited use and tracking, $20/mo.<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.fasttree.com/s/11.htm\">http://www.fasttree.com/s/11.htm</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/UGVLpD/MJRDAA/yigFAA/NhFolB/TM\">http://us.click.yahoo.com/UGVLpD/MJRDAA/yigFAA/NhFolB/TM</a><br/>\n&gt; --------------------------------------------------------------<br/>\n&gt; -------~-&gt;<br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a> <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 3351, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1006886575", 
    "canDelete": false, 
    "nextInTopic": 3353, 
    "prevInTopic": 3351, 
    "headers": {
        "messageIdInHeader": "PDRGNDdEQ0ZBREM4REQ1MTE4RDJCMDA1MDhCOTUyRDk2MEMzQjYyQHNhbHNhLmFsbGFpcmUuY29tPg=="
    }
}