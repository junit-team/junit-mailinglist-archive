{
    "numMessagesInTopic": 27, 
    "nextInTime": 24112, 
    "senderId": "5djKb5yJSaPGRgofafDbYx22y_gGt8e_IAQAm2RtS8JT3EK6Npys8DFolYPd9zcVVnv-z5gtLUh-6Tpbc6GjT6wBwRrhyQQdGWm2Y_6odhD5AAsd44diYV8", 
    "systemMessage": false, 
    "subject": "Re: [junit] assertArrayEquals on arrays of objects", 
    "from": "Stephen Connolly &lt;stephen.alan.connolly@...&gt;", 
    "authorName": "Stephen Connolly", 
    "msgSnippet": "... Not when you are dealing with the CONTRACT of the class. The person object has a contract, namely that there be a first and last name [*] Now lets look at", 
    "msgId": 24111, 
    "profile": "stephenalanconnolly", 
    "topicId": 24091, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 458231986, 
    "messageBody": "<div id=\"ygrps-yiv-784997606\">On 19 November 2012 04:51, Cédric Beust ♔ &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:cedric@...\">cedric@...</a>&gt; wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; On Sun, Nov 18, 2012 at 2:52 PM, Stephen Connolly &lt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:stephen.alan.connolly@...\">stephen.alan.connolly@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; &gt; No it doesn&#39;t.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Explain how comparing objects based on the results of the objects public<br/>\n&gt; &gt; getters being the same breaks encapsulation?<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt; This:<br/>\n&gt;<br/>\n&gt;   return getFirstName().equals(other.getFirstName()) &&<br/>\n&gt;       getLastName().equals(other.getLastName());<br/>\n&gt;<br/>\n&gt; leaks a lot more implementation details than<br/>\n&gt;<br/>\n&gt;   return this.equals(other);<br/>\n&gt;<br/>\n<br/>\n </span></blockquote>Not when you are dealing with the CONTRACT of the class. The person object<br/>\nhas a contract, namely that there be a first and last name [*]<br/>\n<br/>\nNow lets look at a different case. The Task object.<br/>\n<br/>\nBecause Task objects are submitted to queues and sets and lists, it needs a<br/>\nspecific semantics for equals and hashCode. Namely identity.<br/>\n<br/>\nBut two Tasks can be the same even if they are not equal. It is legitimate<br/>\nfor me to submit to a work queue two &quot;equal&quot; tasks but which have different<br/>\nidentity. Therefore when testing the TaskCloner class, it is reasonable to<br/>\nverify that when passed an array of tasks it returns &quot;equal&quot; tasks in the<br/>\nsame order.<br/>\n<br/>\nSuch a test cannot be done based on Task.equals() *because* the Task object<br/>\n*requires* equals to be based on identity, so we *must* use Duck comparison<br/>\nto compare the two arrays.<br/>\n<br/>\n[*]: I dislike the Person analogy because &quot;Bono&quot; and &quot;Cher&quot; cause issues!<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; It also won&#39;t get you very far if the identity of the object is an<br/>\n&gt; implementation detail that&#39;s not exposed with a public getter.<br/>\n&gt;<br/>\n<br/>\n </span></blockquote>I am not saying that you use Duck comparison for every case. It does not<br/>\nmake sense for the Person object.<br/>\n<br/>\nThere is maybe 1% (at best) when you *should* use duck comparison... the<br/>\nTask case being a reasonable example IMHO.<br/>\n<br/>\nThe O.P. asked *why* one would want to not use the .equals() method and<br/>\n*how* you would proceed in that case, I responded to answer the *why* and<br/>\n*how* and you seem to have jumped on me thinking I am recommending this for<br/>\n*all* tests... I am not and have not.<br/>\n<br/>\nDuck-comparison is a valid and useful tool to keep in your toolbelt. And<br/>\nits use should be critically evaluated just as I recommend critically<br/>\nevaluating adding any method to your production code *just to make testing<br/>\neasier*. That is because I have found that when you look closer it is never<br/>\n&quot;just to make testing easier&quot; and it is almost always &quot;I don&#39;t know what I<br/>\nam doing&quot;.<br/>\n<br/>\nBut if you always know exactly what you are doing then I bow to<br/>\nyour splendid magnificence and concede that you are a better programmer<br/>\nthan I.<br/>\n<br/>\n-Stephen<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; --<br/>\n&gt; Cédric<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 24110, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1353316211", 
    "canDelete": false, 
    "nextInTopic": 24112, 
    "prevInTopic": 24110, 
    "headers": {
        "inReplyToHeader": "PENBT3BoZ0pCcVB2cDJjeT1uNU53ND1CTHhnWFBCdj1iZz1fLVdlUkh1eGRZc2RYNlZKUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBK25Qbk14UnJENEZrPXZQemcta2FrOTdINTJ2cXMtaFgwMXFwYzZiQ21aeXFUeFY9UUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGs4OHA2MytwNmpjQGVHcm91cHMuY29tPgk8REE2RTkyMjgtNkVEQy00NEFFLTkyQTAtMzVCMDZGODExMDRDQGdtYWlsLmNvbT4JPDIwMTIxMTE3MTUzMDU2LjUzYmM2ZjcwQGhhYmFuZXJvPgk8MjREM0NCQjItNEQ3Qy00RUVELUI0NUItOURDNTEwNkRBNDczQGdtYWlsLmNvbT4JPDIwMTIxMTE3MTYyMDA1Ljc3NjBhOWQ0QGhhYmFuZXJvPgk8Q0ErblBuTXpzV2cyemc4YXZBODZQQXdnb1J6SEpwa0trRUZvS1lpSDVqNlQ1YkNDdT1BQG1haWwuZ21haWwuY29tPgk8Q0FPcGhnSkFqZU1fdTVYQUJROFpjNDgxUTFjSC13LWpLREJ6ZTA2ZjVIVGpfTHIyWTNnQG1haWwuZ21haWwuY29tPgk8Q0ErblBuTXdnR1E4V0dIbk9RVTlfbURiT1FFSFdFWkFnOVoyVzF2ZXo0cV9KanMrRV9nQG1haWwuZ21haWwuY29tPgk8Q0FPcGhnSkFNTGtaYXVOdmIrK1VVREYtU2U2MkU3MWpMUG49QW44elNwMUs1X1d2V0VBQG1haWwuZ21haWwuY29tPgk8Q0ErblBuTXpiTj1hTTdodUdtektDdHFBX0c2Y2IyUS01eXUxcVdfNVp5S3MtWFRlN1JBQG1haWwuZ21haWwuY29tPgk8Q0FPcGhnSkJxUHZwMmN5PW41Tnc0PUJMeGdYUEJ2PWJnPV8tV2VSSHV4ZFlzZFg2VkpRQG1haWwuZ21haWwuY29tPg=="
    }
}