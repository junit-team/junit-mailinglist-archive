{
    "numMessagesInTopic": 2, 
    "nextInTime": 21004, 
    "senderId": "d71qKB8xtTKgSKFixAoKQ1YEnPMQ5Oh2cHknGt-2RVZPmztPZGez89Okd5IvFpVPf6FleAd8cvPK__hvrjJ3UH-CVqE", 
    "systemMessage": false, 
    "subject": "Re: [junit] Parameterized test - Reading in parameters from a file", 
    "from": "&quot;David Saff&quot; &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Rebeccah, I d like to help, but it would go a lot faster if you could pare down the code to the minimum needed to show the problem.  Thanks! David On Fri, Oct", 
    "msgId": 21003, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 31648 invoked from network); 22 Oct 2008 13:06:46 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m44.grp.scd.yahoo.com with QMQP; 22 Oct 2008 13:06:46 -0000\r\nX-Received: from unknown (HELO rn-out-0910.google.com) (64.233.170.191)\n  by mta16.grp.scd.yahoo.com with SMTP; 22 Oct 2008 13:06:46 -0000\r\nX-Received: by rn-out-0910.google.com with SMTP id m7so1165697rnd.18\n        for &lt;junit@yahoogroups.com&gt;; Wed, 22 Oct 2008 06:06:45 -0700 (PDT)\r\nX-Received: by 10.142.199.16 with SMTP id w16mr4332650wff.206.1224680805405;\n        Wed, 22 Oct 2008 06:06:45 -0700 (PDT)\r\nX-Received: by 10.142.101.9 with HTTP; Wed, 22 Oct 2008 06:06:45 -0700 (PDT)\r\nMessage-ID: &lt;4f7da6b90810220606pafa4227hbfe55d46c0fd504f@...&gt;\r\nDate: Wed, 22 Oct 2008 09:06:45 -0400\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;8EDAA4F49F61BD41ADB83550C1CDAE10038F6DF9@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;8EDAA4F49F61BD41ADB83550C1CDAE10038F6DF9@...&gt;\r\nX-Google-Sender-Auth: eb533d3077fd6658\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;David Saff&quot; &lt;david@...&gt;\r\nSubject: Re: [junit] Parameterized test - Reading in parameters from a file\r\nX-Yahoo-Group-Post: member; u=341876227; y=1AsPtvUhBgiMdgU_Q0PurKp7iAGskL5KZ24ioRXHseU\r\nX-Yahoo-Profile: dsaff\r\n\r\nRebeccah,\n\nI&#39;d like to help, but it would go a lot faster if you could pare down\nthe code to the minimum needed to show the problem.  Thanks!\n\n   David\n\nOn Fri, Oct 17, 2008 at 6:35 PM, Prastein, Rebeccah H\n&lt;rebeccah.h.prastein@...&gt; wrote:\n&gt; I&#39;m creating parameterized junit4 tests that are to use actual patient\n&gt; data to validate test results for the new system against results\n&gt; obtained using a different system. I have several basic scenarios, each\n&gt; getting its own test class. There is a helper class that contains\n&gt; methods, given a value that identifies which scenario it is, to read in\n&gt; an external csv file containing the parameters for that scenario (test\n&gt; class), and construct a List of Arrays of parameters for the different\n&gt; cases in that scenario. The parameters themselves include input data to\n&gt; the system under test, as well as the expected output data.\n&gt;\n&gt; I am able to set up a parameterized test class where I explicitly define\n&gt; the parameters and make them into an Array of Arrays, which is then\n&gt; converted to a List of Arrays, and used for the testing. But if I\n&gt; obtain parameter Collection by calling the appropriate method in the\n&gt; helper class, I get a &quot;No runnable methods&quot; error.\n&gt;\n&gt; I think I&#39;ve narrowed the problem down to one of not knowing the size of\n&gt; the Collection at compile time. If I initialize a new Array of Arrays\n&gt; using literal dimensions, populate it with my List of Arrays, and then\n&gt; convert that Array of Arrays back to a List of Arrays again, it seems to\n&gt; work. But if I initialize that intermediate Array of Arrays with\n&gt; variables (even static final variables) for dimensions, it doesn&#39;t.\n&gt;\n&gt; The only way I can see around this is to decide up front a maximum\n&gt; number of cases and maximum number of parameters that can be input, and\n&gt; hard code it, buried inside the code. The downside is that junit tries\n&gt; to run all of them, and all of the extra, unused space in the array,\n&gt; translates to cases of &quot;no runnable methods.&quot; Does anyone see any\n&gt; other alternative?\n&gt;\n&gt; Here are relevant snippets of my code:\n&gt;\n&gt; @RunWith(Parameterized.class)\n&gt; public class CalculatorResultPageTest\n&gt; {\n&gt; private Map setupDataMap = new HashMap();\n&gt; private HTMLUnitPrep.NVP responseCode;\n&gt; private HTMLUnitPrep.NVP revisedDSRisk;\n&gt; private WebClient webClient;\n&gt; private HtmlPage page ;\n&gt; private static final int customerNumOfCases =\n&gt; (HTMLUnitPrep.getcustomerPatientsSetupData(\n&gt; HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS)).size();\n&gt; private static final int customerNumOfParameters =\n&gt; (HTMLUnitPrep.getcustomerPatientsSetupData(\n&gt;\n&gt; HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS)).get(0).length;\n&gt;\n&gt; @Parameters\n&gt; public static Collection data()\n&gt; {\n&gt; //return hardCodedData();\n&gt; //return dataFromHTMLUnitPrep();\n&gt; //return hybridData1();\n&gt; //return hybridData2();\n&gt; //return hybridData3();\n&gt; //return hybridData4();\n&gt; //return hybridData5();\n&gt; //return hybridData6();\n&gt; return hybridData7();\n&gt; }\n&gt;\n&gt; public static Collection hardCodedData()\n&gt; {\n&gt; HTMLUnitPrep.NVP[][] customerPatientsSetupData = new\n&gt; HTMLUnitPrep.NVP[][]\n&gt; {\n&gt; {\n&gt; new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\n&gt; RESPONSE_CODE.toString(), &quot;&quot;),\n&gt; new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\n&gt; REVISED_DS_RISK.toString(), &quot;5000&quot;)\n&gt; },\n&gt; {\n&gt; new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\n&gt; RESPONSE_CODE.toString(), &quot;200&quot;),\n&gt; new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\n&gt; REVISED_DS_RISK.toString(), &quot;10&quot;)\n&gt; }\n&gt; };\n&gt; return Arrays.asList(customerPatientsSetupData);\n&gt; }\n&gt;\n&gt; //This really stupid, but for some reason using\n&gt; dataFromHTMLUnitPrep() instead\n&gt; //of hardCodedData() causes &quot;no runnable methods&quot; error.\n&gt; //Oh, well, doesn&#39;t solve the problem anyway.\n&gt; public static Collection hybridData1()\n&gt; {\n&gt; List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData1 =\n&gt; HTMLUnitPrep.getcustomerPatientsSetupData(\n&gt; HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\n&gt; int numOfCases = customerPatientsSetupData1.size();\n&gt; int numOfParameters =\n&gt; ((HTMLUnitPrep.NVP[])(customerPatientsSetupData1.get(0))).length;\n&gt;\n&gt; HTMLUnitPrep.NVP[][] customerPatientsSetupData =\n&gt; new HTMLUnitPrep.NVP[numOfCases][numOfParameters];\n&gt; //for (int i=0; i &lt; numOfCases; i++)\n&gt; for (int i=0; i &lt; customerNumOfCases; i++)\n&gt; {\n&gt; //for (int j=0; j &lt; numOfParameters; j++)\n&gt; for (int j=0; j &lt; customerNumOfParameters; j++)\n&gt; {\n&gt; customerPatientsSetupData[i][j] =\n&gt;\n&gt; (HTMLUnitPrep.NVP)(customerPatientsSetupData1.get(i))[j];\n&gt; }\n&gt; }\n&gt; return Arrays.asList(customerPatientsSetupData);\n&gt; }\n&gt;\n&gt; ...\n&gt;\n&gt; //This one works, but I get No runnable methods for the empty spaces\n&gt; in the\n&gt; //array following the actual (single) case.\n&gt; public static Collection hybridData7()\n&gt; {\n&gt; List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData1 =\n&gt; HTMLUnitPrep.getcustomerPatientsSetupData(\n&gt; HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\n&gt;\n&gt; HTMLUnitPrep.NVP[][] customerPatientsSetupData =\n&gt; new HTMLUnitPrep.NVP[2][2];\n&gt; //for (int i=0; i &lt; numOfCases; i++)\n&gt; for (int i=0; i &lt; customerNumOfCases && i &lt; 2; i++)\n&gt; {\n&gt; //for (int j=0; j &lt; numOfParameters; j++)\n&gt; for (int j=0; j &lt; customerNumOfParameters && j &lt; 2; j++)\n&gt; {\n&gt; customerPatientsSetupData[i][j] =\n&gt;\n&gt; (HTMLUnitPrep.NVP)(customerPatientsSetupData1.get(i))[j];\n&gt; }\n&gt; }\n&gt; return Arrays.asList(customerPatientsSetupData);\n&gt; }\n&gt;\n&gt; //Doesn&#39;t work. No runnable methods.\n&gt; public static Collection dataFromHTMLUnitPrep()\n&gt; {\n&gt; List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData =\n&gt; HTMLUnitPrep.getcustomerPatientsSetupData(\n&gt; HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\n&gt; return customerPatientsSetupData;\n&gt; }\n&gt;\n&gt; public CalculatorResultPageTest(HTMLUnitPrep.NVP responseCode,\n&gt; HTMLUnitPrep.NVP revisedDSRisk)\n&gt; {\n&gt; this.responseCode = responseCode;\n&gt; this.revisedDSRisk = revisedDSRisk;\n&gt; setupDataMap.put(responseCode.getName(),\n&gt; responseCode.getValue());\n&gt; setupDataMap.put(revisedDSRisk.getName(),\n&gt; revisedDSRisk.getValue());\n&gt; }\n&gt;\n&gt; @Before\n&gt; public void callCalculator()\n&gt; throws Exception\n&gt; {\n&gt; ...\n&gt; }\n&gt;\n&gt; @Test\n&gt; public void displayCalculatorResultPage()\n&gt; {\n&gt; System.out.println(&quot;page.getWebResponse as a string: &quot; +\n&gt; page.getWebResponse().getContentAsString());\n&gt;\n&gt; //The following tests work when I use HTMLUnit&#39;s WebClient to\n&gt; open the\n&gt; //connection, or when I create the HtmlPage from using data\n&gt; obtained\n&gt; //from a java.net.HttpURLConnection AND parse the HTML in it.\n&gt; If I leave\n&gt; //out the HTML parsing, they all fail:\n&gt;\n&gt; /*Write the code that verifies whether the form is successfully\n&gt; displayed. */\n&gt; WebAssert.assertTitleEquals(page, &quot;Test page Title&quot;);\n&gt; WebAssert.assertTextPresent(page, &quot;Test Body Text&quot;);\n&gt; WebAssert.assertTextNotPresent(page, &quot;errors entering the\n&gt; patient data:&quot;);\n&gt; final HtmlForm form = page.getFormByName(&quot;calculateForm&quot;);\n&gt; final HtmlSubmitInput submitButton = (HtmlSubmitInput)\n&gt; form.getInputByValue(&quot;Calculate Revised Risks&quot;);\n&gt; assertNotNull(&quot;Submit button not found on web claculator form\n&gt; page&quot;, submitButton);\n&gt;\n&gt; //assertTrue(false);\n&gt;\n&gt; /*Write the code that fills in the form*/\n&gt; /*Write the code that submits the form*/\n&gt; /*Write the code that checks the results page.*/\n&gt; }\n&gt;\n&gt; }\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------\n&gt; The contents of this message, together with any attachments, are\n&gt; intended only for the use of the person(s) to which they are\n&gt; addressed and may contain confidential and/or privileged\n&gt; information. Further, any medical information herein is\n&gt; confidential and protected by law. It is unlawful for unauthorized\n&gt; persons to use, review, copy, disclose, or disseminate confidential\n&gt; medical information. If you are not the intended recipient,\n&gt; immediately advise the sender and delete this message and any\n&gt; attachments. Any distribution, or copying of this message, or any\n&gt; attachment, is prohibited.\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt; \n\n", 
    "profile": "dsaff", 
    "topicId": 20978, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 21002, 
    "contentTrasformed": false, 
    "postDate": "1224680805", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20978, 
    "headers": {
        "inReplyToHeader": "PDhFREFBNEY0OUY2MUJENDFBREI4MzU1MEMxQ0RBRTEwMDM4RjZERjlAUURDV1MwMjc3LnVzLnFkeC5jb20+", 
        "messageIdInHeader": "PDRmN2RhNmI5MDgxMDIyMDYwNnBhZmE0MjI3aGJmZTU1ZDQ2YzBmZDUwNGZAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDhFREFBNEY0OUY2MUJENDFBREI4MzU1MEMxQ0RBRTEwMDM4RjZERjlAUURDV1MwMjc3LnVzLnFkeC5jb20+"
    }
}