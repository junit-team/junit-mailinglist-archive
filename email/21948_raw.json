{
    "numMessagesInTopic": 4, 
    "nextInTime": 21949, 
    "senderId": "d1-JYO3_d6kagMb-taYVGvxHsPJY78erFNsMs7bdw8N6eWkYiFe-c0NU0qVkBjY6mPPXpIchl7enPM3zlnAjUG1gEMrk", 
    "systemMessage": true, 
    "subject": "Re: [junit] Reading property files fails when running from Ant / \tClasspath not set", 
    "from": "Mike Forsberg &lt;bigmike@...&gt;", 
    "authorName": "Mike Forsberg", 
    "msgSnippet": "My first suggestion is to run ant with the -v command option.  This will list the command line execution to the junit call.  (I think :) ) Once you have the", 
    "msgId": 21948, 
    "rawEmail": "Return-Path: &lt;bigmike.f@...&gt;\r\nReceived: (qmail 42573 invoked from network); 28 Sep 2009 09:19:34 -0000\r\nReceived: from unknown (98.137.34.45)\n  by m5.grp.sp2.yahoo.com with QMQP; 28 Sep 2009 09:19:34 -0000\r\nReceived: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Sep 2009 09:19:34 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1254129574; bh=ttFwKi7ZMv4vW5fgvQuue0S4oS3smjQ76Ok7Rdfzgiw=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:X-Google-Sender-Auth:Message-ID:To:Content-Type:Content-Transfer-Encoding:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=XKqAs6R7rZIT9VOUEaVihfIY4GU6rRTDdqDqWL7AFohUI0A7CyFVyX3rThOK8dAG43q2dwebbL+pw9nfYxSU/zo5wIbnQcXSbeLD2PGFpUFzR/UeGUqzw9F1a2Uvfd+n\r\nReceived: from [69.147.65.150] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 28 Sep 2009 09:19:34 -0000\r\nReceived: from [98.137.34.34] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 28 Sep 2009 09:19:34 -0000\r\nX-Sender: bigmike.f@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 67789 invoked from network); 28 Sep 2009 04:14:08 -0000\r\nX-Received: from unknown (69.147.108.200)\n  by m4.grp.re1.yahoo.com with QMQP; 28 Sep 2009 04:14:08 -0000\r\nX-Received: from unknown (HELO mail-yw0-f194.google.com) (209.85.211.194)\n  by mta1.grp.re1.yahoo.com with SMTP; 28 Sep 2009 04:14:08 -0000\r\nX-Received: by ywh32 with SMTP id 32so4559119ywh.14\n        for &lt;junit@yahoogroups.com&gt;; Sun, 27 Sep 2009 21:13:08 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.150.236.19 with SMTP id j19mr7006689ybh.115.1254111187959; \n\tSun, 27 Sep 2009 21:13:07 -0700 (PDT)\r\nIn-Reply-To: &lt;bca2d9ea0909270518v431bd319u640aadee46ad36a2@...&gt;\r\nReferences: &lt;bca2d9ea0909270518v431bd319u640aadee46ad36a2@...&gt;\r\nDate: Sun, 27 Sep 2009 23:13:07 -0500\r\nX-Google-Sender-Auth: 7d4542c08cdfccc7\r\nMessage-ID: &lt;a527fddf0909272113v763879f7s8d1b4401aae62280@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mike Forsberg &lt;bigmike@...&gt;\r\nSubject: Re: [junit] Reading property files fails when running from Ant / \n\tClasspath not set\r\nX-Yahoo-Group-Post: member; u=89428055; y=NrrAjECwpWP9e-wIPz6JWMhSnGjQfkEKdo-38CHQ9mVPH7fb\r\nX-Yahoo-Profile: bigmike_f\r\nX-YGroups-SubInfo: t=0;f=16;g=QIefTQxo-ibMu4RSNMDWAfPdpNvoAOSberoinDuXv1kfIcOEPXzgPh5hwXgDnnd8hOE;\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 28 Sep 2009 09:19:34 -0000\r\n\r\nMy first suggestion is to run ant with the -v command option.  This\nwill li=\r\nst the command line execution to the junit call.  (I think :) )\n\nOnce you h=\r\nave the command line execution you should be able to see the issue.\n\nIf not=\r\n, don&#39;t hesitate to reply to the thread.\n\nBig Mike\n\nP.S.  I always try and =\r\nfix ant issues by running them by using the\ncommand line outside of eclipse=\r\n.  For me, it takes a variable out of\nthe equation.\n\nOn Sun, Sep 27, 2009 a=\r\nt 7:18 AM, Sampo Niskanen &lt;sampo.niskanen@...&gt; wrote:\n&gt; Hi,\n&gt;\n&gt; I&#39;m havi=\r\nng trouble running my JUnit tests from an Ant script, and\n&gt; haven&#39;t been ab=\r\nle to find any solution in the FAQ or on the net.\n&gt; Though the classpath is=\r\n set so that Junit finds my class files, the\n&gt; classes themselved cannot fi=\r\nnd my build.properties file which is read\n&gt; as runtime.\n&gt;\n&gt; I have a file &quot;=\r\nbuild.properties&quot; in my main project directory, which\n&gt; contains e.g. the s=\r\noftware version number. =A0This is automatically\n&gt; loaded by a class that i=\r\ns used by my unit test. =A0In Eclipse if I\n&gt; directly run the test, it fail=\r\ns, but after selecting Run\n&gt; configurations and adding the project root dir=\r\nectory to the classpath\n&gt; it runs fine.\n&gt;\n&gt; I&#39;ve tried multiple ways of add=\r\ning the base directory also to the\n&gt; JUnit classpath (in a separate classpa=\r\nth that is referenced and as an\n&gt; explicit classpath in the &lt;junit&gt; task), =\r\nbut every time it fails to\n&gt; find the property file. =A0I&#39;ve also tried cop=\r\nying the property file\n&gt; into the directory in which the base and/or test c=\r\nlasses are compiled\n&gt; (and from which JUnit successfully runs the tests), b=\r\nut it cannot find\n&gt; it even then.\n&gt;\n&gt; I added a line\n&gt;\n&gt; =A0 =A0 =A0 =A0Sys=\r\ntem.out.println(&quot;TEST CLASSPATH: &quot; +\n&gt; System.getProperty(&quot;java.class.path&quot;=\r\n));\n&gt;\n&gt; to the beginning of my test method to print out the current classpa=\r\nth.\n&gt; =A0When running from Eclipse the classpath contains the base director=\r\ny,\n&gt; but when running from Ant it does not, it contains only Ant-related\n&gt; =\r\njars. =A0It therefore seems that even though the classpath is set\n&gt; correct=\r\nly to find the classes (and removing the paths causes all tests\n&gt; to fail),=\r\n the classpath is not propagated to the running system. =A0Does\n&gt; JUnit use=\r\n for example a custom class loader, which could cause this\n&gt; kind of behavi=\r\nor? =A0I&#39;ve tested both forking and non-forking mode\n&gt; without avail.\n&gt;\n&gt; B=\r\nelow is the classpath printed by the tests and excerpts from the Ant\n&gt; buil=\r\nd file. =A0The entire build file and test suite can be checked out\n&gt; from S=\r\nubversion as instructed at\n&gt; http://openrocket.sourceforge.net/download.htm=\r\nl\n&gt;\n&gt; Thanks for any help!\n&gt;\n&gt;\n&gt; Best regards,\n&gt; =A0 Sampo Niskanen\n&gt;\n&gt;\n&gt;\n&gt;=\r\n The output when running the test from Eclipse:\n&gt;\n&gt; TEST CLASSPATH:\n&gt; /home=\r\n/sampo/Projects/OpenRocket:/home/sampo/Projects/OpenRocket/bin:/home/sampo/=\r\nProjects/OpenRocket/lib/miglayout15-swing.jar:/home/sampo/Projects/libs/jfr=\r\neechart-1.0.13/lib/jcommon-1.0.16.jar:/home/sampo/Projects/libs/jfreechart-=\r\n1.0.13/lib/jfreechart-1.0.13.jar:/home/sampo/Projects/OpenRocket/extra-lib/=\r\nRXTXcomm.jar:/home/sampo/eclipse/plugins/org.junit4_4.3.1/junit.jar:/home/s=\r\nampo/eclipse/configuration/org.eclipse.osgi/bundles/165/1/.cp/:/home/sampo/=\r\neclipse/configuration/org.eclipse.osgi/bundles/163/1/.cp/:/home/sampo/eclip=\r\nse/configuration/org.eclipse.osgi/bundles/164/1/.cp/\n&gt;\n&gt; and from Ant:\n&gt;\n&gt; =\r\nTEST CLASSPATH:\n&gt; /usr/share/ant/lib/ant-launcher.jar:/usr/share/java/xmlPa=\r\nrserAPIs.jar:/usr/share/java/xercesImpl.jar:/usr/share/ant/lib/ant-junit.ja=\r\nr:/usr/share/ant/lib/ant-launcher.jar:/usr/share/ant/lib/ant-trax.jar:/usr/=\r\nshare/ant/lib/ant-apache-bsf.jar:/usr/share/ant/lib/catalina5.5-ant.jar:/us=\r\nr/share/ant/lib/ant.jar:/usr/share/ant/lib/ant-apache-log4j.jar:/usr/share/=\r\nant/lib/junit.jar:/usr/share/ant/lib/ant-commons-net.jar:/usr/share/ant/lib=\r\n/ant-javamail.jar:/usr/share/ant/lib/ant-antlr.jar:/usr/share/ant/lib/ant-j=\r\nsch.jar:/usr/share/ant/lib/tomcat5.5-jkstatus-ant.jar:/usr/share/ant/lib/an=\r\nt-jdepend.jar:/usr/share/ant/lib/jsch.jar:/usr/share/ant/lib/bcel.jar:/usr/=\r\nshare/ant/lib/ant-apache-bcel.jar:/usr/share/ant/lib/ant-apache-oro.jar:/us=\r\nr/share/ant/lib/ant-nodeps.jar:/usr/share/ant/lib/ant-commons-logging.jar:/=\r\nusr/share/ant/lib/ant-jmf.jar:/usr/share/ant/lib/ant-apache-regexp.jar:/usr=\r\n/share/ant/lib/ant-swing.jar:/usr/share/ant/lib/junit4.jar:/usr/share/ant/l=\r\nib/ant-apache-resolver.jar:/usr/!\n&gt; =A0share/ant/lib/catalina5.5-ant-jmx.ja=\r\nr:/usr/lib/jvm/java-6-sun-1.6.0.16/lib/tools.jar\n&gt;\n&gt;\n&gt; Excerpts from build.=\r\nxml:\n&gt;\n&gt; =A0 =A0 =A0 =A0&lt;!-- Classpath definitions --&gt;\n&gt; =A0 =A0 =A0 =A0&lt;pa=\r\nth id=3D&quot;classpath&quot;&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;fileset dir=3D&quot;${lib=\r\n.dir}&quot; includes=3D&quot;**/*.jar&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0&lt;/path&gt;\n&gt;\n&gt; =A0 =A0 =A0 =A0=\r\n&lt;path id=3D&quot;test-classpath&quot;&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;path refid=\r\n=3D&quot;classpath&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;pathelement location=3D&quot;=\r\n${basedir}&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;pathelement location=3D&quot;${b=\r\nuild-test.dir}&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;pathelement location=3D=\r\n&quot;${classes.dir}&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;pathelement location=\r\n=3D&quot;${ant.library.dir}/junit4.jar&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0&lt;/path&gt;\n&gt;\n&gt; ...\n&gt;\n&gt; =\r\n=A0 =A0 =A0 =A0&lt;!-- =A0Unit tests =A0--&gt;\n&gt; =A0 =A0 =A0 =A0&lt;target name=3D&quot;u=\r\nnittest&quot; description=3D&quot;Execute unit tests&quot; depends=3D&quot;build&quot;&gt;\n&gt; =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0&lt;echo&gt;Building unit tests&lt;/echo&gt;\n&gt; =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0&lt;mkdir dir=3D&quot;${build-test.dir}&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0=\r\n =A0 =A0&lt;javac srcdir=3D&quot;${src-test.dir}&quot; destdir=3D&quot;${build-test.dir}&quot;\n&gt; c=\r\nlasspathref=3D&quot;test-classpath&quot;/&gt;\n&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;echo&gt;R=\r\nunning unit tests&lt;/echo&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;mkdir dir=3D&quot;tmp=\r\n/rawtestoutput&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;junit printsummary=3D&quot;t=\r\nrue&quot; failureproperty=3D&quot;junit.failure&quot;&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0&lt;classpath&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0&lt;path refid=3D&quot;test-classpath&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;path location=3D&quot;${basedir}&quot;/&gt;\n=\r\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;/classpath&gt;\n&gt; =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;batchtest todir=3D&quot;tmp/rawtestoutput&quot;&gt;=\r\n\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;fileset =\r\ndir=3D&quot;${build-test.dir}&quot;&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;include name=3D&quot;**/*Test*.class&quot; /&gt;\n&gt; =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0=\r\n =A0&lt;exclude name=3D&quot;Test.class&quot; /&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;/fileset&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;formatter type=3D&quot;xml&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;/batchtest&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;=\r\n/junit&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;junitreport todir=3D&quot;tmp&quot;&gt;\n&gt; =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;fileset dir=3D&quot;tmp/rawtestoutpu=\r\nt&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;report todir=3D&quot;tmp/=\r\ntest-reports&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0&lt;/junitreport&gt;\n&gt; =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0&lt;fail if=3D&quot;junit.failure&quot; message=3D&quot;Unit test(s) f=\r\nailed. =A0See reports!&quot;/&gt;\n&gt; =A0 =A0 =A0 =A0&lt;/target&gt;\n&gt;\n&gt;\n&gt; --\n&gt; =A0 Sampo N=\r\niskanen =A0 &lt;=3D&gt; =A0 http://www.iki.fi/sampo.niskanen/\n&gt;\n&gt;\n&gt; -------------=\r\n-----------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "bigmike_f", 
    "topicId": 21946, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89428055, 
    "prevInTime": 21947, 
    "contentTrasformed": false, 
    "postDate": "1254111187", 
    "canDelete": false, 
    "nextInTopic": 21952, 
    "prevInTopic": 21946, 
    "headers": {
        "inReplyToHeader": "PGJjYTJkOWVhMDkwOTI3MDUxOHY0MzFiZDMxOXU2NDBhYWRlZTQ2YWQzNmEyQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGE1MjdmZGRmMDkwOTI3MjExM3Y3NjM4NzlmN3M4ZDFiNDQwMWFhZTYyMjgwQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGJjYTJkOWVhMDkwOTI3MDUxOHY0MzFiZDMxOXU2NDBhYWRlZTQ2YWQzNmEyQG1haWwuZ21haWwuY29tPg=="
    }
}