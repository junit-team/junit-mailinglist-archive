{
    "numMessagesInTopic": 9, 
    "nextInTime": 5840, 
    "senderId": "Q2ODOWY3tUzJhJeKQ1ERYxxzFqpD83hb5f6tkCewPgvs5oZY8yWUiE-7bp0MRbdxamturLP2EnlbT7t0e3VjmaSJXjiL-SPCUssBhb9KpsQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] writing testcase for data read from a file", 
    "from": "Steven Taschuk &lt;staschuk@...&gt;", 
    "authorName": "Steven Taschuk", 
    "msgSnippet": "... The usual answer is: Don t. That is, rather than writing (for example) public void readDataFrom( String filename ) throws IOException { InputStream in =", 
    "msgId": 5839, 
    "topicId": 5818, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 114327599, 
    "messageBody": "<div id=\"ygrps-yiv-1753172419\">Quoth Singh Manpreet:<br/>\n<blockquote><span title=\"ireply\"> &gt; This is a sort of newbie question, could anyone please<br/>\n&gt; explain me how i can write a testcase for a method<br/>\n&gt; which is reading data from a file.<br/>\n<br/>\n </span></blockquote>The usual answer is: Don&#39;t.<br/>\n<br/>\nThat is, rather than writing (for example)<br/>\n<br/>\n\tpublic void readDataFrom( String filename ) throws IOException {<br/>\n\t\tInputStream in = new FileInputStream( filename );<br/>\n\t\t// ... read data from in ...<br/>\n\t}<br/>\n<br/>\nand trying to test this, instead write (for example)<br/>\n<br/>\n\tpublic void readDataFrom( InputStream in ) throws IOException {<br/>\n\t\t// ... read data from in ...<br/>\n\t}<br/>\n<br/>\nand test this by passing an ad hoc InputStream; for example:<br/>\n<br/>\n\tpublic void testReadingData() throws IOException {<br/>\n\t\tInputStream testdata = new ByteArrayInputStream( new byte[] {<br/>\n\t\t\t// ... test data ...<br/>\n\t\t} );<br/>\n\t\tfoo.readDataFrom( testdata );<br/>\n\t\t// ... assert postconditions of reading this data ...<br/>\n\t}<br/>\n<br/>\nThere are two reasons for doing it this way.<br/>\n<br/>\nFirst, the philosophy of unit testing requires that if a test of<br/>\nfoo fails, then foo itself is at fault.  (If something else might<br/>\nbe at fault, you&#39;re doing integration testing.)  But testing a<br/>\nmethod which reads data from a file tests two components: the<br/>\nmethod itself, which interprets the data, and the JVM, which reads<br/>\nthe file.  The rewrite above isolates the interpretation of the<br/>\ndata as an independently testable unit.<br/>\n<br/>\nSecond, what you do with the data is conceptually distinct from<br/>\nhow you get it, so in principle they should be able to vary<br/>\nindependently.  But a method which reads data from a file both<br/>\nacquires the data (by opening the file) and interprets it (by<br/>\nreading from the resulting InputStream), making it difficult to<br/>\nchange where the data comes from later.  The rewrite above<br/>\ndecouples these two processes, adding significant flexibility for<br/>\nfree.  (And indeed, we immediately make use of this flexibility in<br/>\nthe unit test.)<br/>\n<br/>\nYou might, of course, write a convenience method such as<br/>\n<br/>\n\tpublic void readDataFrom( String filename ) throws IOException {<br/>\n\t\treadDataFrom( new FileInputStream( filename ) );<br/>\n\t}<br/>\n<br/>\nand then wonder how to test this.  Imho this method is too simple<br/>\nto deserve testing; its correctness is obvious by inspection.<br/>\n<br/>\nA similar point is made (rather less verbosely) in the FAQ, on the<br/>\ntopic of testing servlets and beans.</div>", 
    "prevInTime": 5838, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1032798281", 
    "canDelete": false, 
    "nextInTopic": 5847, 
    "prevInTopic": 5833, 
    "headers": {
        "inReplyToHeader": "PDIwMDIwOTIzMTEzMzI1LjUzNzk5LnFtYWlsQHdlYjEzOTA4Lm1haWwueWFob28uY29tPjsgZnJvbSBzcGVhazJtYW5wcmVldEB5YWhvby5jb20gb24gTW9uLCBTZXAgMjMsIDIwMDIgYXQgMDQ6MzM6MjVBTSAtMDcwMA==", 
        "messageIdInHeader": "PDIwMDIwOTIzMTAyNDQxLkExNDA3MUB0aWJpYS5hbW90bHBhYS5ib2d1cz4=", 
        "referencesHeader": "PDIwMDIwOTIzMTEzMzI1LjUzNzk5LnFtYWlsQHdlYjEzOTA4Lm1haWwueWFob28uY29tPg=="
    }
}