{
    "numMessagesInTopic": 32, 
    "nextInTime": 15464, 
    "senderId": "dGO22QtWcSZUPXs1erBcBbA2qqWWp9ocHgLk4Qsr5o4G_XHte8rAuNiIcTb9k5vNPqqPTDP1Rsdrn7RNqP3plP2AgLK6FlJ_LwSQachTxQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] coverage testing", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I agree that we can improve things with the Template pattern, but I d need a template for JDBC, for JMS, ... for every different 3rd-party product I use.", 
    "msgId": 15463, 
    "profile": "nails762", 
    "topicId": 15403, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-1046193431\">Eugene Kuleshov wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;    It could be funny it it wouldn&#39;t be that sad. If all &quot;complicated&quot;<br/>\n&gt; would be like that we can get 200% test coverage...<br/>\n&gt; <br/>\n&gt;    You came to the right conclusion that SQLException is an<br/>\n&gt; unrecoverable one and should be wrapped into a runtime exception. You<br/>\n&gt; even have slight improvement there with a common exception handler.<br/>\n&gt; There is only one step left before template pattern, so you can have<br/>\n&gt; exactly one place where that exception handler would be used. Take a<br/>\n&gt; look at JDBC packages in a Spring framework and either copy its design<br/>\n&gt; or use as is.<br/>\n&gt; <br/>\n&gt;    Pretty much the same pattern can be applied to other common API&#39;s and<br/>\n&gt; many already in a very same Spring framework, so you won&#39;t have to<br/>\n&gt; invent the wheel.<br/>\n&gt; <br/>\n&gt;    As I said, there are really good ways to make code more testable.<br/>\n<br/>\n </span></blockquote>I agree that we can improve things with the Template pattern, but I&#39;d <br/>\nneed a template for JDBC, for JMS, ... for every different 3rd-party <br/>\nproduct I use. Even if I do that, I still need to test-drive the <br/>\ntemplate, or hide the template behind an interface so I can test-drive <br/>\nthe code that uses it. I suppose it is achievable, but I&#39;m not sure it&#39;s <br/>\nworth the effort.<br/>\n<br/>\nIf code blocks were<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt;    regards,<br/>\n&gt;    Eugene<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; J. B. Rainsberger wrote:<br/>\n&gt;  &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:sachin.dholakia@...\">sachin.dholakia@...</a> wrote:<br/>\n&gt;  &gt;<br/>\n&gt;  &gt;&gt; I am on the other side of the shore and believe in Code coverage and so<br/>\n&gt;  &gt;&gt; very interested in knowing why you feel that 100% code coverage isn&#39;t a<br/>\n&gt;  &gt;&gt; requirement for code check in?  Can you please share your thoughts?<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; Sure: 100% line/branch coverage is impossible to achieve. Even if it<br/>\n&gt;  &gt; were possible, it&#39;s not worth the effort. Example:<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; JDBC driver throws SQLException, which is checked. In my code, I have to<br/>\n&gt;  &gt; do this:<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; try {<br/>\n&gt;  &gt;      useJdbcDriver();<br/>\n&gt;  &gt; }<br/>\n&gt;  &gt; catch (SQLException e) {<br/>\n&gt;  &gt;      // What to do here?<br/>\n&gt;  &gt; }<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; Well, my default checked exception handler is this:<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; try {<br/>\n&gt;  &gt;      useJdbcDriver();<br/>\n&gt;  &gt; }<br/>\n&gt;  &gt; catch (SQLException wrapped) {<br/>\n&gt;  &gt;      throw new RuntimeException(<br/>\n&gt;  &gt;          &quot;Something went wrong when I used the database&quot;, wrapped);<br/>\n&gt;  &gt; }<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; There are two problems with this:<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; 1. It takes an obscene amount of effort to simulate (or recreate) the<br/>\n&gt;  &gt; conditions under which the JDBC driver throws an SQLException.<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; The vast, vast majority of the time, I don&#39;t handle those exceptions<br/>\n&gt;  &gt; anyway, but rather pass them up the chain. To avoid coupling myself to<br/>\n&gt;  &gt; my caller, I turn the checked exception into an unchecked one.<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; 2. Java /forces/ me to duplicate that exception handler everywhere<br/>\n&gt;  &gt; throughout my code, although I /could/ get a little better with<br/>\n&gt;  &gt;<br/>\n&gt;  &gt;      ExceptionHandler.shush(<br/>\n&gt;  &gt;          &quot;Something went wrong when I used the database&quot;, shushed);<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; Still, I have to duplicate /that/ everywhere, but I certainly don&#39;t need<br/>\n&gt;  &gt; to test it everywhere I use it. The only thing that changes is the<br/>\n&gt;  &gt; explanation message, and I never write code that depends on that text in<br/>\n&gt;  &gt; any meaningful way.<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; Both of these make it unusually expensive to test-drive this code,<br/>\n&gt;  &gt; compared to the benefit I get from test-driving it. As a result, I have<br/>\n&gt;  &gt; judged that it&#39;s not worth the effort, so I don&#39;t do it.<br/>\n&gt;  &gt;<br/>\n&gt;  &gt; I hope that helps.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt; <br/>\n&gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot; on<br/>\n&gt;       the web.<br/>\n&gt;        <br/>\n&gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;        <br/>\n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;. <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; <br/>\n<br/>\n<br/>\n </span></blockquote>-- <br/>\nJ. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.info\">http://www.jbrains.info</a><br/>\nYour guide to software craftsmanship<br/>\nJUnit Recipes: Practical Methods for Programmer Testing<br/>\n2005 Gordon Pask Award for contribution Agile Software Practice</div>", 
    "prevInTime": 15462, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1132232182", 
    "canDelete": false, 
    "nextInTopic": 15466, 
    "prevInTopic": 15461, 
    "headers": {
        "inReplyToHeader": "PDQzN0MwQjkxLjMwMDAzMDVAbWQucHAucnU+", 
        "messageIdInHeader": "PDQzN0M3REY2LjEwNjA5MDFAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PE9GNEYwRTc1RDkuMTQ3NjM4NUQtT042NTI1NzBCQi4wMDIwREE4Mi02NTI1NzBCQi4wMDIxMkFCN0B0Y3MuY29tPiA8NDM3QkUwQjkuMTA5MDIwNkByb2dlcnMuY29tPiA8NDM3QzBCOTEuMzAwMDMwNUBtZC5wcC5ydT4="
    }
}