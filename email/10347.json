{
    "numMessagesInTopic": 9, 
    "nextInTime": 10348, 
    "senderId": "ehIYp-0cyiyUx7O8jegjsMWmV0VhHFJa_cAPqH1qTu1LbM3kg8TO3KbEEUtZcfCHOur1k-RbdbZskWeVr5zeyb0BW5qoosQCS9LZCOG93bD1eNQoXKym", 
    "systemMessage": false, 
    "subject": "Re: [junit] database migration: tests organisation", 
    "from": "Bauduin Raphael &lt;raphael.bauduin@...&gt;", 
    "authorName": "Bauduin Raphael", 
    "msgSnippet": "... [snip] ... I d say 10^6 tests have to be run. ... Not that I think, as it is iterating over the records (session.iterate( from Customer ) and each record", 
    "msgId": 10347, 
    "topicId": 10334, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109309043, 
    "messageBody": "<div id=\"ygrps-yiv-1792472087\">On Thu, Jan 29, 2004 at 06:09:43PM -0500, J. B. Rainsberger wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; Bauduin Raphael wrote:<br/>\n&gt; <br/>\n&gt; &gt; Hi,<br/>\n<br/>\n </span></blockquote>[snip]<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; In the CustomersTest class, I add several tests for each customer, so<br/>\n&gt; &gt; the number of tests added is growing enormously, all in the same suite.<br/>\n&gt; <br/>\n&gt; Define &quot;enormously&quot;. 10^5? 10^10? 10^20?<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>I&#39;d say 10^6 tests have to be run.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; I&#39;m afraid I won&#39;t be able to add test indefinitively like that (I juste<br/>\n&gt; &gt; had a Exception in thread &quot;main&quot; java.lang.OutOfMemoryError, and<br/>\n&gt; &gt; wondered if any of you had any suggestions on how to organise tests.<br/>\n&gt; <br/>\n&gt; Is there an infinite recursion somewhere?<br/>\n<br/>\n </span></blockquote>Not that I think, as it is iterating over the records<br/>\n(session.iterate(&quot;from Customer&quot;) and each record is undergoing really<br/>\nsimple tests. I&#39;m still tweaking the mappings so it could be the problem<br/>\nis there<br/>\n<br/>\n[zip]<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; So you are storing test data in a database? Interesting. How many <br/>\n&gt; records? Do you really need to test every record? or just a <br/>\n&gt; representative set of records? What if there are 1000 records that all <br/>\n&gt; test the same essential code path?<br/>\n<br/>\n </span></blockquote>I am testing the migration of _data_ from one database to another. Maybe<br/>\nI wasn&#39;t clear on that point.<br/>\nFor example, I want to check that customers in the new schema are still related to<br/>\nthe same orders as in the old schema. <br/>\n<br/>\nI want to check every record for several reasons:<br/>\n-once the test is written, it&#39;s the same to apply it to all records or<br/>\nto selected records (hibernate iteration)<br/>\n-I already have found a minor problem occuring with 3 records out of<br/>\n85000<br/>\n-I want to be sure the data transposition is really as expected :-)<br/>\n<br/>\n<br/>\nMy question about the organisation of the tests is that I feel like all<br/>\ntests are first added to the suite, and are run only after all tests<br/>\nhave been added. Am I wrong on that? If it runs as I said, adding all<br/>\n10^6 tests to test the whole database could be the reason of an out of<br/>\nmemory problem (all objects to be tested would be in memory, which means<br/>\nthe whole db would be loaded in memory). It&#39;s just a guess, just trying<br/>\nto understand (I could be completely wrong actually ;-)<br/>\n<br/>\nRaph</div>", 
    "prevInTime": 10346, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1075464002", 
    "canDelete": false, 
    "nextInTopic": 10364, 
    "prevInTopic": 10337, 
    "headers": {
        "inReplyToHeader": "PDQwMTk5MkI3LjQwODAzMDNAcm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PDIwMDQwMTMwMTIwMDAyLkdBMTMzMzZAcmFwaGFlbD4=", 
        "referencesHeader": "PDIwMDQwMTI5MTEzOTE1LkdBNTI3MEByYXBoYWVsPiA8NDAxOTkyQjcuNDA4MDMwM0Byb2dlcnMuY29tPg=="
    }
}