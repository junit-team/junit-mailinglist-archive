{
    "numMessagesInTopic": 18, 
    "nextInTime": 1930, 
    "senderId": "Wef_z-egYxg9Wj1iWhANsRkh4V57qNcqswgMKKW2Fs23fkGHyC2GnsMZ37eIR6Q5ZwAvZ23YpFsuT937SA", 
    "systemMessage": false, 
    "subject": "RE: [junit] How do I implement a test case for a thrown exception ?", 
    "from": "dror2@...", 
    "authorName": "dror2@netvision.net.il", 
    "msgSnippet": "Thus we can summarise the pattern for Exception testing: try { //tested code starts here. ... fail( should have thrown exception TestedException ) } catch (", 
    "msgId": 1929, 
    "topicId": 1924, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1718679103\"><br><font size=\"2\" face=\"sans-serif\">Thus we can summarise the pattern for Exception testing:</font>\n<br>\n<br><font size=\"2\" face=\"sans-serif\">try {</font>\n<br><font size=\"2\" face=\"sans-serif\">&nbsp; &nbsp; &nbsp; &nbsp; //tested code starts here.</font>\n<br><font size=\"2\" face=\"sans-serif\">&nbsp; &nbsp; &nbsp; &nbsp; ...</font>\n<br>\n<br><font size=\"2\" face=\"sans-serif\">fail( &quot;should have thrown exception TestedException&quot; )</font>\n<br><font size=\"2\" face=\"sans-serif\">} catch ( TestedException ) { return }</font>\n<br><font size=\"2\" face=\"sans-serif\">} catch ( Exception e ) { fail( &quot;thrown wrong exception: &quot;+e ); }</font>\n<br>\n<br>\n<br><font size=\"2\" face=\"sans-serif\">I have written an extension to TestCase, that gives the above behaviour.</font>\n<br><font size=\"2\" face=\"sans-serif\">Instead of the try/catch blocks, you call a single method at the beginning of the test</font>\n<br><font size=\"2\" face=\"sans-serif\">&nbsp; &nbsp; &nbsp; &nbsp; shouldThrow( TestedException.class );</font>\n<br><font size=\"2\" face=\"sans-serif\">and the TestCase does the rest.</font>\n<br>\n<br><font size=\"2\" face=\"sans-serif\">Anyone, let me know if it is of any interest.</font>\n<br>\n<br><font size=\"2\" face=\"sans-serif\">(the reason I&#39;m not sure its useful, is what Kent has written about the simplicity of the framework: I&#39;m not sure the complexity of adding an extra method to TestCase justify the removal of the above 4-line patten)<br>\n</font>\n<br>\n<br>\n<br>\n<table width=\"100%\">\n<tr valign=\"top\">\n<td>\n<td><font size=\"1\" face=\"sans-serif\"><b>&quot;Jason Rogers&quot; &lt;jason.rogers@...&gt;</b></font>\n<p><font size=\"1\" face=\"sans-serif\">14/07/2001 22:17</font>\n<br><font size=\"1\" face=\"sans-serif\">Please respond to junit</font>\n<br>\n<td><font size=\"1\" face=\"Arial\">&nbsp; &nbsp; &nbsp; &nbsp; </font>\n<br><font size=\"1\" face=\"sans-serif\">&nbsp; &nbsp; &nbsp; &nbsp; To: &nbsp; &nbsp; &nbsp; &nbsp;&quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;</font>\n<br><font size=\"1\" face=\"sans-serif\">&nbsp; &nbsp; &nbsp; &nbsp; cc: &nbsp; &nbsp; &nbsp; &nbsp;</font>\n<br><font size=\"1\" face=\"sans-serif\">&nbsp; &nbsp; &nbsp; &nbsp; Subject: &nbsp; &nbsp; &nbsp; &nbsp;RE: [junit] How do I implement a test case for a thrown exception ?</font></table>\n<br>\n<br>\n<br><font size=\"2\"><tt>No. &nbsp;The fail() immediately following isPartnerAssigned() would fail the<br>\ntest if the exception was not thrown. &nbsp;If any other exception is thrown, the<br>\ncatch{} for those would fail the test. &nbsp;You could add another catch for<br>\njava.lang.Exception in case you think that might be thrown, but it doesn&#39;t<br>\nsound like the contract for your method.<br>\n</tt></font>\n<br><font size=\"2\"><tt>-Jason<br>\n</tt></font>\n<br><font size=\"2\"><tt>&nbsp; &nbsp; &gt; You still need a fail after the try/catch to account for the<br>\n &nbsp; &nbsp;&gt; possibility that no exception was thrown.<br>\n &nbsp; &nbsp;&gt;<br>\n &nbsp; &nbsp;&gt; --- Jason Rogers &lt;jason.rogers@...&gt; wrote:<br>\n &nbsp; &nbsp;&gt; &gt; If you want to eliminate the boolean, use your first<br>\n &nbsp; &nbsp;&gt; example and do<br>\n &nbsp; &nbsp;&gt; &gt; the<br>\n &nbsp; &nbsp;&gt; &gt; assert in the catch block.<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; public void test_00_isPartnerAssigned() {<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; try {<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; instancePartnerHierarchyWorker.isPartnerAssigned(null);<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fail(&quot;IllegalArgumentException should be thrown.&quot;);<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; } catch (IllegalArgumentException iae) {<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assert(true);<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; } catch (PartnerNotFoundException pnfe){<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fail(&quot;PartnerNotFoundException should not<br>\n &nbsp; &nbsp;&gt; be thrown.&quot;);<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; } catch (PersistenceException pe){<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fail(&quot;PersistenceException should not be thrown.&quot;);<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; }<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; -----Original Message-----<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; From: Mike Duffy [mailto:mduffy_lists@...]<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; Sent: Friday, July 13, 2001 11:24 PM<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; To: junit@yahoogroups.com<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; Subject: Re: [junit] How do I implement a test case for a<br>\n &nbsp; &nbsp;&gt; &gt; thrown<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; exception?<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; Also, this is better than the structure I originally<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; proposed because<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; it eliminates the need for a boolean flag.<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; --- Vladimir Bossicard &lt;vladimir@...&gt; wrote:<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &gt; The Junit.org site has an FAQ section<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &gt; (http://junit.sourceforge.net/doc/faq/faq.htm) with<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; the following<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &gt; question: How do I implement a test case for a thrown<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; exception?<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &gt; The answer they give is not completely<br>\n &nbsp; &nbsp;&gt; correct because it<br>\n &nbsp; &nbsp;&gt; &gt; does<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; not<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &gt; account for the possiblility that another<br>\n &nbsp; &nbsp;&gt; exception could<br>\n &nbsp; &nbsp;&gt; &gt; be<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; thrown.<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; I think they assume that your method only throws one<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; exception. &nbsp;If<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; your method throws more exceptions, you can use:<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; // Test IllegalArgumentException is thrown when<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; partnerID is null.<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; public void test_00_isPartnerAssigned() {<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp;try {<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp; &nbsp; boolean assignedStatus =<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; instancePartnerHierarchyWorker.isPartnerAssigned(null);<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp;} catch (IllegalArgumentException e) {<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp; &nbsp; return;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp;} catch (Exception e) {<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp; &nbsp; fail(&quot;IllegalArgumentException should have been<br>\n &nbsp; &nbsp;&gt; &gt; thrown.&quot;);<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp;}<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; &nbsp; &nbsp;fail(&quot;IllegalArgumentException should have been<br>\n &nbsp; &nbsp;&gt; &gt; thrown.&quot;);<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; }<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt; -Vladimir<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; __________________________________________________<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; Do You Yahoo!?<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; Get personalized email addresses from Yahoo! Mail<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; http://personal.mail.yahoo.com/<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; To unsubscribe from this group, send an email to:<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; junit-unsubscribe@yahoogroups.com<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; Your use of Yahoo! Groups is subject to<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt; http://docs.yahoo.com/info/terms/<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt; &nbsp; &nbsp; &gt;<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt; &gt;<br>\n &nbsp; &nbsp;&gt;<br>\n &nbsp; &nbsp;&gt;<br>\n &nbsp; &nbsp;&gt; __________________________________________________<br>\n &nbsp; &nbsp;&gt; Do You Yahoo!?<br>\n &nbsp; &nbsp;&gt; Get personalized email addresses from Yahoo! Mail<br>\n &nbsp; &nbsp;&gt; http://personal.mail.yahoo.com/<br>\n &nbsp; &nbsp;&gt;<br>\n &nbsp; &nbsp;&gt; To unsubscribe from this group, send an email to:<br>\n &nbsp; &nbsp;&gt; junit-unsubscribe@yahoogroups.com<br>\n &nbsp; &nbsp;&gt;<br>\n &nbsp; &nbsp;&gt;<br>\n &nbsp; &nbsp;&gt; Your use of Yahoo! Groups is subject to<br>\nhttp://docs.yahoo.com/info/terms/<br>\n</tt></font>\n<br>\n<br>\n<br>\n<br>\n<br><font size=\"2\"><tt>To unsubscribe from this group, send an email to:<br>\njunit-unsubscribe@yahoogroups.com<br>\n</tt></font>\n<br>\n<br><font size=\"2\"><tt>Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/<br>\n</tt></font>\n<br>\n<br>\n<br></div>", 
    "prevInTime": 1928, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "995187375", 
    "canDelete": false, 
    "nextInTopic": 1930, 
    "prevInTopic": 1928, 
    "headers": {
        "messageIdInHeader": "PE9GMjA4QjE1MzcuOEVDNjFFREEtT040MjI1NkE4QS4wMDJGRjk1OEB2b2NhbHRlYy5jby5pbD4="
    }
}