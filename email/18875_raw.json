{
    "numMessagesInTopic": 108, 
    "nextInTime": 18876, 
    "senderId": "m5EUYIxLJtZMM0xliWFlXyTJRAU_Z0aMS-_0-26zGyDhAf8nIzOxxba-w2uQi_dKjMNuwgTaBSEZ1kTJ9TvOYNly", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Testing Private Methods", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "... Long time list members of course recognize this discussion already, although many of the good reasons behind various strategies have been repeated here", 
    "msgId": 18875, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 42420 invoked from network); 12 Feb 2007 23:40:12 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m45.grp.scd.yahoo.com with QMQP; 12 Feb 2007 23:40:12 -0000\r\nReceived: from unknown (HELO nf-out-0910.google.com) (64.233.182.185)\n  by mta5.grp.scd.yahoo.com with SMTP; 12 Feb 2007 23:40:11 -0000\r\nReceived: by nf-out-0910.google.com with SMTP id y38so50774nfb\n        for &lt;junit@yahoogroups.com&gt;; Mon, 12 Feb 2007 15:40:09 -0800 (PST)\r\nReceived: by 10.82.163.13 with SMTP id l13mr10152311bue.1171307839292;\n        Mon, 12 Feb 2007 11:17:19 -0800 (PST)\r\nReceived: by 10.49.43.16 with HTTP; Mon, 12 Feb 2007 11:17:19 -0800 (PST)\r\nMessage-ID: &lt;4f7da6b90702121117r569f4465g98a0d687ea8ac3d0@...&gt;\r\nDate: Mon, 12 Feb 2007 14:17:19 -0500\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;45D09CF6.3040605@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;eqfdvp+5r50@...&gt; &lt;45CB3E8B.1070105@...&gt;\n\t &lt;4900308f0702081022i2bf5c82cx20c6d2affebe4af9@...&gt;\n\t &lt;45CCCDDB.1050305@...&gt;\n\t &lt;4900308f0702091208n2f7fe1bp6be77760a337560@...&gt;\n\t &lt;45D09CF6.3040605@...&gt;\r\nX-Google-Sender-Auth: d1ac754314188d42\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;David Saff&quot; &lt;saff@...&gt;\r\nSubject: Re: [junit] Re: Testing Private Methods\r\nX-Yahoo-Group-Post: member; u=139771899; y=pgwKH9TiCpBtXpDGoY9lfDtLAAvZ3_ninWxbPcpc5XQ\r\nX-Yahoo-Profile: dsaff\r\n\r\nOn 2/12/07, J. B. Rainsberger &lt;jbrains762@...&gt; wrote:\n&gt; Gabriel Nasci=\r\nmento wrote:\n&gt; &gt; So, I don=B4t know if changing my private validation metho=\r\nds to protected,\n&gt; &gt; only for unit test using, is a bad practice...\n&gt;\n&gt; Som=\r\ne will say yes, some no.\n\nLong time list members of course recognize this d=\r\niscussion already,\nalthough many of the good reasons behind various strateg=\r\nies have been\nrepeated here positively and clearly, which is valuable.\n\nI w=\r\nonder if we can bring in more at least anecdotal evidence that can\nhelp us =\r\nmake these decisions even slightly more empirically.  I&#39;m\nassuming that the=\r\n ultimate value by which these decisions are made is\nin which provides the =\r\nmost value to present and future software users:\n&quot;user value&quot;, for short.  =\r\nSeveral proxies have been discussed in this\nthread so far:\n\n1) Striving for=\r\n stronger encapsulation is correlated with increased user value.\n2) Strivin=\r\ng for more focused tests is correlated with increased user value.\n\nI wonder=\r\n if several people would be willing to tell stories that would\nprovide anec=\r\ndotal evidence backing these up, including the reasoning\nbehind the correla=\r\ntion.  As a personal example:\n\nIn late 2006, I was working on a project cal=\r\nled &quot;Popper StubGen&quot;,\nwhich is a plug-in to my Popper plug-in for JUnit\n(ht=\r\ntp://popper.tigris.org).  StubGen runs a method that is formatted\nin a part=\r\nicular way, and gathers the constraints required on the\nmethod parameters f=\r\nor the method to run to completion.  It then\ngenerates stubbed parameters f=\r\nor which the method is guaranteed to\nreturn normally.\n\nIn an initial algori=\r\nthm for StubGen, I created mock objects to serve\nas stubs for the parameter=\r\ns immediately, and as I gathered\nconstraints, I solved these and created ex=\r\npectations for the mock\nobjects on the fly.  When I reached the end of the =\r\nmethod, the stubs\nwould already be created and ready to go.\n\nWith this impl=\r\nementation, it seemed that each new method I tried to\napply StubGen to woul=\r\nd stump it.  The coding inside my StubGenerator\nclass got more and more spa=\r\nghetti-like, and it became hard to\ncorrelate what my generated stubs were d=\r\noing with the implementation\nchanges I made.  I was spending a lot of time =\r\nin the debugger, and not\nhaving fun.\n\nSo, I decided to find a way to test t=\r\nhe constraint collection\nseparately from the stub generation (following val=\r\nue #2 above).  This\nactually involved a significant change to my algorithm:=\r\n in phase 1,\nall the constraints are collected, and in phase 2, they are so=\r\nlved to\ngenerate the stub.  But I was spending a lot less time in the\ndebug=\r\nger, and I was starting to be able to more often than not\ngenerate stubs fo=\r\nr new input methods.  Unfortunately, it also meant\nthat my tests and API&#39;s =\r\nstarted looking weird, since they were testing\nmethods that had been privat=\r\ne, and didn&#39;t have very sensible API&#39;s.\n\nSo, following value #2, I pulled t=\r\nhe gathered constraints into their\nown data structure, ConstraintTable.  Th=\r\nis allowed me to think about\nthe API of this separate class, give it a hand=\r\ny toString method, and\nthink about and test corner cases directly.  The pri=\r\nvates of\nStubGenerator could go back to being private and comfortably so.  =\r\nNow,\nI&#39;m getting close to feeling that I can generate stubs for an entire\ni=\r\nnteresting class of methods.\n\nSo, having followed value #1 and value #2, an=\r\nd playing off their\ntension, I now have an implementation that is more succ=\r\nessful at\nproviding value to users.  That is, &quot;user&quot;, since I&#39;m currently t=\r\nhe\nonly one.  But I&#39;m inferring that my future users will benefit from a\nde=\r\nsign that will be more easily tested and adapted to meet future\nneeds.\n\nTha=\r\nt&#39;s my story.  Anyone else?\n\n   David Saff\n\n", 
    "profile": "dsaff", 
    "topicId": 1696, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "prevInTime": 18874, 
    "contentTrasformed": false, 
    "postDate": "1171307839", 
    "canDelete": false, 
    "nextInTopic": 18878, 
    "prevInTopic": 18874, 
    "headers": {
        "inReplyToHeader": "PDQ1RDA5Q0Y2LjMwNDA2MDVAZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwMjEyMTExN3I1NjlmNDQ2NWc5OGEwZDY4N2VhOGFjM2QwQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGVxZmR2cCs1cjUwQGVHcm91cHMuY29tPiA8NDVDQjNFOEIuMTA3MDEwNUBtaW5kc3ByaW5nLmNvbT4JIDw0OTAwMzA4ZjA3MDIwODEwMjJpMmJmNWM4MmN4MjBjNmQyYWZmZWJlNGFmOUBtYWlsLmdtYWlsLmNvbT4JIDw0NUNDQ0REQi4xMDUwMzA1QGdtYWlsLmNvbT4JIDw0OTAwMzA4ZjA3MDIwOTEyMDhuMmY3ZmUxYnA2YmU3Nzc2MGEzMzc1NjBAbWFpbC5nbWFpbC5jb20+CSA8NDVEMDlDRjYuMzA0MDYwNUBnbWFpbC5jb20+"
    }
}