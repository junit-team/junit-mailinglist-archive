{
    "topicId": 11797, 
    "postDate": "1092841650", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Timothy Wall &lt;twall@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "4LC315rJsny_agIATG0rcD9mz1HpRIwHXjcUDbye6TQdcU0SVc2Zbj84VoYuYZOW6cbyFzoCJKOey5737Zj93Ub1EPy_-ZWo22E", 
    "nextInTime": 11803, 
    "userId": 106503903, 
    "prevInTime": 11801, 
    "prevInTopic": 11797, 
    "headers": {
        "inReplyToHeader": "PGNmdXM2MitpY2FxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDUzMTczMzBELUYxMjgtMTFEOC04MkVGLTAwMzA2NUJGODNEQUBvY3VsdXN0ZWNoLmNvbT4=", 
        "referencesHeader": "PGNmdXM2MitpY2FxQGVHcm91cHMuY29tPg=="
    }, 
    "authorName": "Timothy Wall", 
    "numMessagesInTopic": 5, 
    "msgSnippet": "It s entirely possible that your main thread checks the mock status prior to the events actually being handled. Consider adding the following after", 
    "contentTrasformed": false, 
    "msgId": 11802, 
    "nextInTopic": 11825, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;twall@...&gt;\r\nX-Sender: twall@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 11318 invoked from network); 18 Aug 2004 15:07:32 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m24.grp.scd.yahoo.com with QMQP; 18 Aug 2004 15:07:32 -0000\r\nReceived: from unknown (HELO mail00.oculustech.com) (64.221.47.99)\n  by mta6.grp.scd.yahoo.com with SMTP; 18 Aug 2004 15:07:32 -0000\r\nReceived: by mail00.oculustech.com (Postfix, from userid 1011)\n\tid A1F3213989; Wed, 18 Aug 2004 11:07:30 -0400 (EDT)\r\nReceived: from [172.16.1.38] (pool-151-203-106-206.bos.east.verizon.net [151.203.106.206])\n\tby mail00.oculustech.com (Postfix) with ESMTP id D8B1513950\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 18 Aug 2004 11:07:29 -0400 (EDT)\r\nMime-Version: 1.0 (Apple Message framework v619)\r\nIn-Reply-To: &lt;cfus62+icaq@...&gt;\r\nReferences: &lt;cfus62+icaq@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMessage-Id: &lt;5317330D-F128-11D8-82EF-003065BF83DA@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Wed, 18 Aug 2004 11:07:30 -0400\r\nTo: junit@yahoogroups.com\r\nX-Mailer: Apple Mail (2.619)\r\nX-Spam-Level: \r\nX-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on \n\tmail00.int.oculustech.com\r\nX-Spam-Status: No, hits=-4.9 required=4.5 tests=BAYES_00 autolearn=ham \n\tversion=2.63\r\nX-eGroups-Remote-IP: 64.221.47.99\r\nFrom: Timothy Wall &lt;twall@...&gt;\r\nSubject: Re: [junit] awkward threading situation\r\nX-Yahoo-Group-Post: member; u=106503903\r\n\r\nIt&#39;s entirely possible that your main thread checks the mock status \nprior to the events actually being handled.\n\nConsider adding the following after frame.show():\n\nSwingUtilities.invokeAndWait(new Runnable() { public void run() { }});\n\n\nOn Aug 18, 2004, at 2:15 AM, sagyrozman wrote:\n\n&gt; hi all,\n&gt; I was writing a test for a GUI class which should delegate GUI events\n&gt; to another object:\n&gt;\n&gt; class MyFrame extends JFrame implements WindowListener{\n&gt;\n&gt; TargetForEvents target;\n&gt;\n&gt; public void setTarget(TargetForEvents t) {\n&gt;    target = t;\n&gt; }\n&gt;\n&gt; ....\n&gt; }\n&gt;\n&gt; in the test case:\n&gt;\n&gt; ...\n&gt; MyFrame frame = new MyFrame();\n&gt; frame.setTarget(mockTarget);\n&gt; frame.setVisible();\n&gt;\n&gt; now I check that the expected functions where called on the taget in\n&gt; response to the WindowOpened events of MyFrame.\n&gt;\n&gt; the test fails even though it should have passed because using the\n&gt; eclipse debuger I can see that the mock is called upon in the swing\n&gt; event handling thread, but when checking back with the main thread\n&gt; the mock is not affected by these changes.\n&gt; Another weird thing: I tried to do a similar test only not through\n&gt; junit, instead of asserting that the methods where called, I wrote\n&gt; the mock log string out to the stdout. This time the output shows\n&gt; that all methods where called in the correct order.\n&gt; Am I missing something here? please let me know if any further\n&gt; clarification is needed.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n", 
    "subject": "Re: [junit] awkward threading situation"
}