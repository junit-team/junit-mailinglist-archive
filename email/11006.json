{
    "numMessagesInTopic": 3, 
    "nextInTime": 11007, 
    "senderId": "pI-kPUlzxooQ5dazRefCzIqk7pl397dx-LxVG8IgNB6Mz2Dw5BTbw3cWCBtN-EVaFPijMtox8ct0hRoxPngiJRxS7ewDML2RrndxmQWovg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unit testing a __intternalconstructor", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... My general opinion in this design matter is that each class should have one and only one constructor. If you need to create objects differently, add", 
    "msgId": 11006, 
    "profile": "nails762", 
    "topicId": 10996, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-820623254\"><a rel=\"nofollow\" target=\"_blank\" href=\"mailto:shockofpoint6@...\">shockofpoint6@...</a> wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Hi all,<br/>\n&gt; <br/>\n&gt; class MyClass has 3 constructors, all of which call the same private<br/>\n&gt; method __internalconstructor(p1,p2,p3,p4);<br/>\n<br/>\n </span></blockquote>My general opinion in this design matter is that each class should have <br/>\none and only one constructor. If you need to create objects differently, <br/>\nadd creation methods. Thus, I would design it this way:<br/>\n<br/>\nMyClass(p1, p2, p3, p4) {}<br/>\npublic static MyClass createWithOneParameter(p1) {<br/>\n     return new MyClass(p1, defaultValue, defaultValue, defaultValue);<br/>\n}<br/>\n...<br/>\n<br/>\nAs to whether the constructor ought to be public, that is your choice. <br/>\nPerhaps this would make your problem go away.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Since __internalconstructor is critical to all 3 public constructors,<br/>\n&gt; I want to unit test it, but it is private, so I want to use<br/>\n&gt; <br/>\n&gt; public static java.lang.Object PrivateAccessor.invoke<br/>\n&gt; (java.lang.Object object,java.lang.String name,<br/>\n&gt;                                       java.lang.Class[] parameterTypes,<br/>\n&gt;                                       java.lang.Object[] args)<br/>\n&gt;                                throws java.lang.Throwable<br/>\n&gt; <br/>\n&gt; Problem: I have to create a new instance of a MyClass object, before I<br/>\n&gt; can use invoke, but if I do that, I will be calling<br/>\n&gt; __internalconstructor prematurely in the unit test.<br/>\n&gt; <br/>\n&gt; Any suggestions?<br/>\n&gt; <br/>\n&gt; Is my use of an __internalconstructor wrong? Is there another way to<br/>\n&gt; not duplicate constructor code, but to still let multiple constructors<br/>\n&gt; call the same functionality?<br/>\n<br/>\n </span></blockquote>Is it wrong? No. Still, my suggestion might help you feel better about <br/>\nthe design and how to test it. Try it and see.<br/>\n<br/>\nGood luck.<br/>\n-- <br/>\nJ. B. Rainsberger,<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a> :: +1 416 791-8603<br/>\nLet&#39;s write software that people understand</div>", 
    "prevInTime": 11005, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1084376791", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 11001, 
    "headers": {
        "inReplyToHeader": "PGM3czUwbytla3Q4QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQwQTI0NkQ3LjYwNDA4MDJAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGM3czUwbytla3Q4QGVHcm91cHMuY29tPg=="
    }
}