{
    "numMessagesInTopic": 13, 
    "nextInTime": 23852, 
    "senderId": "s2T1xXAlKUyu8xjiR1GA3LKin52297kYlIggs1jCvlQQL7cN-pPJUNIBW88Tw2Snr7F2iGj2Xx1SCE2_2dW1WaqVLg", 
    "systemMessage": false, 
    "subject": "Re: [junit] The order of default builders.", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Dawid, Imagine a developer being dropped into a new project.  There are JUnit tests using custom runners she s never seen, and some of those are failing. She d", 
    "msgId": 23851, 
    "profile": "saffatgoogle", 
    "topicId": 23837, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "messageBody": "<div id=\"ygrps-yiv-1954369505\">Dawid,<br/>\n<br/>\nImagine a developer being dropped into a new project.  There are JUnit<br/>\ntests using custom runners she&#39;s never seen, and some of those are failing.<br/>\n She&#39;d like to Ignore some of the failing test classes, and focus in on a<br/>\ncouple to fix first.  I think that there&#39;s value in being able to trust<br/>\n@Ignore to always Just Work, even if the custom runners being used are<br/>\nfaulty in various ways.<br/>\n<br/>\nSo the current functionality stays.<br/>\n<br/>\nI can definitely understand wanting to attach a suite listener, though, so<br/>\nif you&#39;re interested in pursuing contribution of that code, let me know.<br/>\n Thanks,<br/>\n<br/>\n   David<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Sat, Apr 21, 2012 at 3:31 AM, Dawid Weiss &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dawid.weiss@...\">dawid.weiss@...</a>&gt; wrote:<br/>\n<br/>\n&gt; **<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Thanks. Yes, I could do this, like I did with other things (for example I<br/>\n&gt; support meta-annotation @TestGroup which allows one to define custom<br/>\n&gt; annotations like @Nightly, @Slow, etc. and disable/enable them as a group).<br/>\n&gt; This works much like an auto-assumption; you can see the test results from<br/>\n&gt; Apache Lucene here (grep for @Nightly or @AwaitsFix to see group-ignored<br/>\n&gt; tests):<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"https://builds.apache.org/job/Lucene-Solr-tests-only-trunk/13341/consoleText\">https://builds.apache.org/job/Lucene-Solr-tests-only-trunk/13341/consoleText</a><br/>\n&gt;<br/>\n&gt; But then... @Ignore works great and is well defined (and most importantly<br/>\n&gt; users already know what it does). The only unexpected thing (to me) is that<br/>\n&gt; on-class @Ignore doesn&#39;t even attempt to retrieve the descriptions tree.<br/>\n&gt;<br/>\n&gt; Don&#39;t get me wrong -- I do understand the design rationale for having<br/>\n&gt; on-class @Ignore served by another runner, but at the same I just disagree<br/>\n&gt; that it is a right decision. I think there should be something like a<br/>\n&gt; &quot;certification test&quot; for Runner implementations and the contract on passing<br/>\n&gt; on-class @Ignore should be that it doesn&#39;t execute any test (run count ==<br/>\n&gt; zero). The number of ignored tests should be up to the Runner (either<br/>\n&gt; ignore the suite or each test separately).<br/>\n&gt;<br/>\n&gt; Dawid<br/>\n&gt;<br/>\n&gt; On Sat, Apr 21, 2012 at 12:33 AM, Kevin Cooney &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:kcooney@...\">kcooney@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; &gt; **<br/>\n&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Not a perfect solution, but you could add your own custom annotation for<br/>\n&gt; &gt; this purpose. Your custom runner would check if the target class has this<br/>\n&gt; &gt; annotation, and if so, return child runners that do nothing but the<br/>\n&gt; &gt; reporting.<br/>\n&gt; &gt;<br/>\n&gt; &gt; -- Kevin<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; On Wed, Apr 18, 2012 at 3:54 PM, Dawid Weiss &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dawid.weiss@...\">dawid.weiss@...</a>&gt;<br/>\n&gt; &gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt; **<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; This would be Situation 2. I have a custom runner (not descending from<br/>\n&gt; &gt; &gt; JUnit) specifically to target things like reporting (that is -- I would<br/>\n&gt; &gt; &gt; like to know which tests were ignored if a suite is ignored, not just<br/>\n&gt; &gt; skip<br/>\n&gt; &gt; &gt; them silently). This is possible if somebody explicitly creates my<br/>\n&gt; runner<br/>\n&gt; &gt; &gt; with a suite class but not via factory (JUnitCore or Request) because<br/>\n&gt; &gt; then<br/>\n&gt; &gt; &gt; Ignore takes precedence over RunWith.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Dawid<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; On Wed, Apr 18, 2012 at 8:24 PM, David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:saff@...\">saff@...</a>&gt; wrote:<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; **<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Dawid,<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Which of these situations are you targeting?<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Situation 1:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; @RunWith(MyCustomSuite.class)<br/>\n&gt; &gt; &gt; &gt; @SuiteClasses({A.class, B.class, ...})<br/>\n&gt; &gt; &gt; &gt; public class Suite { ... }<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; @Ignore<br/>\n&gt; &gt; &gt; &gt; public class A { ... }<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Situation 2:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; @Ignore<br/>\n&gt; &gt; &gt; &gt; @RunWith(MyCustomRunner.class)<br/>\n&gt; &gt; &gt; &gt; public class A { ... }<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Thanks,<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; David Saff<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; On Wed, Apr 18, 2012 at 4:19 AM, Dawid Weiss &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dawid.weiss@...\">dawid.weiss@...</a>&gt;<br/>\n&gt; &gt; &gt; &gt; wrote:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; **<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Hi everyone,<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; So, AllDefaultPossibilitiesBuilder has ignoredBuilder() before<br/>\n&gt; &gt; &gt; &gt; &gt; annotated builder as shown here:<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; @Override<br/>\n&gt; &gt; &gt; &gt; &gt; public Runner runnerForClass(Class&lt;?&gt; testClass) throws Throwable {<br/>\n&gt; &gt; &gt; &gt; &gt; List&lt;RunnerBuilder&gt; builders= Arrays.asList(<br/>\n&gt; &gt; &gt; &gt; &gt; ignoredBuilder(),<br/>\n&gt; &gt; &gt; &gt; &gt; annotatedBuilder(),<br/>\n&gt; &gt; &gt; &gt; &gt; ...<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; I understand this was done to enforce consistent handling of<br/>\n&gt; @Ignore<br/>\n&gt; &gt; &gt; &gt; &gt; at class level but it sucks if you want to have a custom runner<br/>\n&gt; that<br/>\n&gt; &gt; &gt; &gt; &gt; wishes to handle @Ignore on class in a different manner. In<br/>\n&gt; &gt; &gt; &gt; &gt; particular, I&#39;m looking to report the descriptions of all ignored<br/>\n&gt; &gt; unit<br/>\n&gt; &gt; &gt; &gt; &gt; tests (rather than just skipping the entire class).<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Changing the order above will most likely break annotated runners<br/>\n&gt; &gt; that<br/>\n&gt; &gt; &gt; &gt; &gt; are not prepared to handle class-level @Ignore. Any other<br/>\n&gt; &gt; suggestions/<br/>\n&gt; &gt; &gt; &gt; &gt; options how this could be solved? This could be a tweak to<br/>\n&gt; &gt; &gt; &gt; &gt; IgnoredBuilder to delegate to a sub-runner if it sees @RunWith and<br/>\n&gt; &gt; &gt; &gt; &gt; then just fire ignore events for each individual test?<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Dawid<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 23850, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1335206463", 
    "canDelete": false, 
    "nextInTopic": 23852, 
    "prevInTopic": 23844, 
    "headers": {
        "inReplyToHeader": "PENBTTIxUnQ4OWZvdWV1THVfeEhxNkR6bUxCSno5TlhuK2M0R2txV2Y5U3RyMVBUay1Qd0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBTHJ3LVB4cERDbT1ScFk0cTZnU1V6NEVwdkJDMHRBZlp0eG9hczRWREdaQjZNeEo3d0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBTTIxUnRfOVZmbXlxVUdubnh0QkdaTmgxRjM0Mzg1VHJPS1VweFlIOTRncHJ3SDdqZ0BtYWlsLmdtYWlsLmNvbT4JPENBTHJ3LVB4UTljZDNoenM5RnBaNGMwZEF4N0ZrVjk4PTFablViYT1NeUpVd0Y9Q1FEQUBtYWlsLmdtYWlsLmNvbT4JPENBTTIxUnQ5b0I1b3MzVUs9OEI4aEFTenAySy1LYUpDSnBpaTM4dFFVc1FFVXlPNXY2Z0BtYWlsLmdtYWlsLmNvbT4JPENBQTNFK2VVTTlGaUwrZkMtSnBqM3ZYV3hDb1U2X1Z6eUE5LWhkYWZBVVp4d2lrPWQ5Z0BtYWlsLmdtYWlsLmNvbT4JPENBTTIxUnQ4OWZvdWV1THVfeEhxNkR6bUxCSno5TlhuK2M0R2txV2Y5U3RyMVBUay1Qd0BtYWlsLmdtYWlsLmNvbT4="
    }
}