{
    "numMessagesInTopic": 17, 
    "nextInTime": 21910, 
    "senderId": "OJC75t6OxQl3zhOWUlik1WerXWYFkIZAcFR_yGmPv8lOaBRZmaom04heYQCkFNc1pho46p0cAY5UDlwvw8tqgmK_ef4Z_QxGYQ5lcsQ6UsQ", 
    "systemMessage": false, 
    "subject": "Re: Rule annotation", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "It doesn t fit my scenario because I would essentially not want to engage the external resources, so I guess I could combine them the other way around and fail", 
    "msgId": 21909, 
    "profile": "yme0987654321", 
    "topicId": 21887, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "messageBody": "<div id=\"ygrps-yiv-61456471\">It doesn&#39;t fit my scenario because I would essentially not want to engage the external resources, so I guess I could combine them the other way around and fail with an assumeThat (would that work? Or would it report a crash?).<br/>\n<br/>\nBut anyway, after playing with this for a while, I just did an assumeThat in the @BeforeClass method, and that worked out fine. IDEA doesn&#39;t report the ignored tests as nicely, but that&#39;s life. I got to eliminate a lot of brittle complicated code around the runner, so it was worthwhile.<br/>\n<br/>\nI used the @Rule for the external resource, which really saved the @Before and @After inheritence issue (the fact that it doesn&#39;t inherit), so ultimately 4.7 really improved my testing code infrastructure.<br/>\n<br/>\nSo good job.<br/>\n<br/>\nThe thing that got my brain tied in knots is the expectation that rules interact, or have some kind of series to them. But that is just an association with the word &quot;rule&quot; and has nothing to do with how JUnit is doing the @Rule annotation, which is fine once you get it.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; I&#39;m trying to think this one through.  I&#39;m thinking I have:<br/>\n&gt; <br/>\n&gt; public ExternalResource myResource = new ExternalResource() {<br/>\n&gt;   // ...<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public MethodRule myConditionalIgnore = new MethodRule() {<br/>\n&gt;   // ...<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; public class CombinedRule implements MethodRule {<br/>\n&gt;         public final Statement apply(final Statement base,<br/>\n&gt; \t\t\tFrameworkMethod method, Object target) {<br/>\n&gt;             return myConditionalIgnore.apply(myResource.apply(base,<br/>\n&gt; method, target), method, target);<br/>\n&gt; \t}<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; Does that work?<br/>\n&gt; <br/>\n&gt;    David Saff<br/>\n&gt; <br/>\n&gt; On Thu, Aug 20, 2009 at 1:38 PM, yme0987654321&lt;yme0987654321@...&gt; wrote:<br/>\n&gt; &gt; For the big class hierarchy that I had, this worked out. I had to make one rule which composed and delegated to an ExternalResource rule and had its own before and after methods because ExternalResource does not allow the overriding of its apply method. I certainly understand the inclination to make it final, but I would suggest that it be reconsidered.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Regardless, going further replacing my custom runner, I did hit another wall, with @BeforeClass and @AfterClass. I assume there is nothing to do about those (other than an assumeThat in @BeforeClass)?<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; That&#39;s right: Rules can affect the processing after @Before and before<br/>\n&gt; &gt;&gt; @After.  Could you replace your setup/teardown with an<br/>\n&gt; &gt;&gt; ExternalResource rule?<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;    David Saff<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; On Thu, Aug 20, 2009 at 11:11 AM, yme0987654321&lt;yme0987654321@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt; OK, I figured out the problem. What happens is that I have a custom runner that suppresses the test (these are slow tests, so they are only run at check-in, not by the developer while developing).<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; However, when I replace that with a Rule, the setup method is still run (looks slow). So I guess the conclusion is that @Rule can&#39;t interrupt or override the setup and teardown process, so if you need to do that you are back to a Runner? (Or making your own setups rule-aware I guess).<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; Yishai,<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; I just ran a test, and the Rules in the superclass were picked up.<br/>\n&gt; &gt;&gt; &gt;&gt; Can you post a small example?  Thanks,<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt;    David Saff<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; On Thu, Aug 20, 2009 at 10:21 AM, David Saff&lt;david@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; Yishai,<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; Sounds like a bug.  Can you file it at github?  Sorry for the oversight,<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;   David Saff<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt; On Wed, Aug 19, 2009 at 8:26 PM, yme0987654321&lt;yme0987654321@&gt; wrote:<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; I&#39;m looking at the new Rule annotation in JUnit4. It&#39;s pretty nice, but it doesn&#39;t seem to inherit.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; That is if I have a super class that has the @Rule, sub class tests don&#39;t run the rule on its tests.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Combined with the requirement that the rules field be public, this is surprising.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; The practical effect for me is that it can&#39;t really replace my custom runner, as the @RunWith annotation is inherited by subclasses.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Am I missing something?<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Yishai.<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; ------------------------------------<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt; Yahoo! Groups Links<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; ------------------------------------<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21908, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1251256758", 
    "canDelete": false, 
    "nextInTopic": 21912, 
    "prevInTopic": 21908, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwODIxMDgyMmc2OThlMWRiMWphMDAwZWQ4ODc4MTIyYTdkQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGg3MjlqbStobGxsQGVHcm91cHMuY29tPg=="
    }
}