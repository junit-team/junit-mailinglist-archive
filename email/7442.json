{
    "numMessagesInTopic": 7, 
    "nextInTime": 7443, 
    "senderId": "I_R_Gp5C1qLfR_XkZwktpNKCV78ehcXIahiNj7pRd7J_bSTOcLLVP3SRzbkVz5-UHFyid7dt0KhIC10KbWEqosSGo4Nv6unlyYc", 
    "systemMessage": false, 
    "subject": "Re: [junit] Factory adaptor approach", 
    "from": "Kevin Klinemeier &lt;zipwow@...&gt;", 
    "authorName": "Kevin Klinemeier", 
    "msgSnippet": "... A good point.  What do you think about the comment at the end, whereby the factory would have only three static methods: public Factory getInstance(); ", 
    "msgId": 7442, 
    "profile": "zipwow", 
    "topicId": 7358, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 82914509, 
    "messageBody": "<div id=\"ygrps-yiv-2130339215\">--- Johannes Link &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:john.link@...\">john.link@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; Have other folks used this approach, or something similar?  What do<br/>\n&gt; you<br/>\n&gt; &gt; all think of this approach to the problem?<br/>\n&gt; <br/>\n&gt; My concern is twofold:<br/>\n&gt; a) You bring testing logic into your production code. It&#39;s reasonable<br/>\n&gt; to change your design to make it more testable but weaving testing<br/>\n&gt; *logic* into production code feels strange to me.<br/>\n<br/>\n </span></blockquote>A good point.  What do you think about the comment at the end, whereby<br/>\nthe factory would have only three static methods:<br/>\n<br/>\npublic Factory getInstance();<br/>\nprotected void setOverrideFactory(Factory testFactory);<br/>\nprotected void clearOverrideFactory();<br/>\n<br/>\nThis should limit the test specific code to the getInstance method,<br/>\nwhich would then look something like:<br/>\n<br/>\npublic Factory getInstance() {<br/>\n    if (overrideFactory!=null) {<br/>\n        return overrideFactory<br/>\n    } else {<br/>\n        //do the usual thing<br/>\n    }<br/>\n}<br/>\n<br/>\nThis would also allow classes to make their own MockFactories for<br/>\nwhatever they need.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; b) Having more than just one or two of those static factories raises<br/>\n&gt; chances to forget about initializing all override values in setUp and<br/>\n&gt; clearing them again in tearDown.<br/>\n<br/>\n </span></blockquote>I agree, a &quot;code smell&quot; is too many factories.  Two or three is a good<br/>\nthreshold number, I think.<br/>\n<br/>\nKevin<br/>\n<br/>\n__________________________________________________<br/>\nDo you Yahoo!?<br/>\nYahoo! Tax Center - File online, calculators, forms, and more<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://tax.yahoo.com\">http://tax.yahoo.com</a></div>", 
    "prevInTime": 7441, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1049304885", 
    "canDelete": false, 
    "nextInTopic": 7450, 
    "prevInTopic": 7441, 
    "headers": {
        "inReplyToHeader": "PDAxMzkwMWMyZjhmYyRiNjk4YTdlMCRmZTc4YThjMEBoYWliYWNoPg==", 
        "messageIdInHeader": "PDIwMDMwNDAyMTczNDQ1LjE0MDE1LnFtYWlsQHdlYjgwNDA1Lm1haWwueWFob28uY29tPg=="
    }
}