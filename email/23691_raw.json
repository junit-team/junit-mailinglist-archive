{
    "numMessagesInTopic": 11, 
    "nextInTime": 23692, 
    "senderId": "TqpgOzYsdlfyAC2Hf2nLOMxsQnQUFzg_hE8NDLiuSAvfz4_nje8vMPa1xeD8axN6uD7oHmX8ZX6tS9W3NgeGoktdi9qNFTo2czE", 
    "systemMessage": false, 
    "subject": "Re: Alphabetizing test method run order?", 
    "from": "&quot;mjfarwell&quot; &lt;matthew@...&gt;", 
    "authorName": "mjfarwell", 
    "msgSnippet": "... +10. ... I think this is a very good point. The ordering absolutely needs to be deterministic by default, so any problems are reproducible easily. ... I do", 
    "msgId": 23691, 
    "rawEmail": "Return-Path: &lt;matthew@...&gt;\r\nReceived: (qmail 20294 invoked by uid 7800); 22 Sep 2011 13:31:18 -0000\r\nX-Sender: matthew@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 82005 invoked from network); 22 Sep 2011 13:08:41 -0000\r\nX-Received: from unknown (98.137.35.161)\n  by m12.grp.sp2.yahoo.com with QMQP; 22 Sep 2011 13:08:41 -0000\r\nX-Received: from unknown (HELO n41b.bullet.mail.sp1.yahoo.com) (66.163.168.155)\n  by mta5.grp.sp2.yahoo.com with SMTP; 22 Sep 2011 13:08:41 -0000\r\nX-Received: from [69.147.65.150] by n41.bullet.mail.sp1.yahoo.com with NNFMP; 22 Sep 2011 13:08:40 -0000\r\nX-Received: from [98.137.34.51] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 22 Sep 2011 13:08:40 -0000\r\nDate: Thu, 22 Sep 2011 13:08:39 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;j5fc0n+i6a0@...&gt;\r\nIn-Reply-To: &lt;CAA3E+eW8k1HBAaj--t57ZQ4Hy-HZbJx49yE83MFDyxEg_TmAwQ@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;mjfarwell&quot; &lt;matthew@...&gt;\r\nSubject: Re: Alphabetizing test method run order?\r\nX-Yahoo-Group-Post: member; u=499556184; y=32eANyLezicwLw2h6OsmxT5yIg2FbxM7m-rkAqdFkYxkJxKL\r\nX-Yahoo-Profile: mjfarwell\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 22 Sep 2011 13:31:18 -0000\r\n\r\n\n\n--- In junit@yahoogroups.com, Kevin Cooney &lt;kcooney@...&gt; wrote:\n&gt;\n&gt; On Tu=\r\ne, Sep 20, 2011 at 3:07 AM, Dominik Dorn &lt;dorn@...&gt; wrote:\n&gt; \n&gt; &gt; **\n&gt; &gt;\n&gt; =\r\n&gt;\n&gt; &gt; Hmm... I think it would be even better to _ensure_ that the test case=\r\ns are\n&gt; &gt; run\n&gt; &gt; in a random order but provide a summary at the end of the=\r\n testrun where the\n&gt; &gt; order gets printed.\n&gt; &gt;\n&gt; \n&gt; -10\n&gt; \n&gt; A number of pr=\r\nojects I worked on used to do this. While this may initially\n&gt; seem like a =\r\ngood idea, it was problematic for us for a number of reasons.\n&gt; \n&gt; If the t=\r\nests are run in a random order, then a small change to a test or a\n&gt; class =\r\nunder test could cause a completely unrelated test to fail. Many\n&gt; develope=\r\nrs will assume that it is their change that caused the problem,\n&gt; leading t=\r\nhem in a wild goose chase trying to see which of their changes\n&gt; caused the=\r\n problems and why, and when they realize it is due to the test\n&gt; ordering, =\r\nthey need to do a big context switch back to their original\n&gt; task. This wo=\r\nuld be made worse by the fact that simply rerunning the tests\n&gt; would cause=\r\n them to pass again (or worse, cause a different test to fail).\n&gt; \n&gt; Note t=\r\nhat I don&#39;t think developers should be writing tests where the outcome\n&gt; de=\r\npends on the ordering that the test methods were run. I just don&#39;t think\n&gt; =\r\nwe should assume that fixing the tests with this problem is necessarily as\n=\r\n&gt; important as what the developer is trying to do.\n&gt; \n&gt; Making the test ord=\r\ner random by default also does not necessarily make it\n&gt; easier to track do=\r\nwn problems with ordering of tests, since if you ran the\n&gt; failing test sui=\r\nte again, you would get a different run order. JUnit could\n&gt; print out the =\r\nrandom seed used for that particular run, but then developers\n&gt; would have =\r\nto figure out how to pass the previous random seed back to the\n&gt; test (how =\r\nto do this would depend on which IDE or build system they used).\n\n+10.\n\n&gt; I=\r\nf developers want the ordering to be shuffled, they should use a custom\n&gt; r=\r\nunner that shuffles the tests. We used to do this in our JUnit3 tests with\n=\r\n&gt; a custom subclass of TestSuite. It used a random seed based on the\n&gt; Syst=\r\nem.currentTimeMillis() at midnight, so if a particular ordering caused\n&gt; th=\r\ne tests to fail, it was reproducible for the rest of the day.\n&gt; Unfortunate=\r\nly, developers often assumed that the breakage was caused by one\n&gt; of the c=\r\nhanges submitted since the most recent green run of\n&gt; the continuous build.=\r\n\n\nI think this is a very good point. The ordering absolutely needs to be de=\r\nterministic by default, so any problems are reproducible easily.\n\n&gt; Persona=\r\nlly, I don&#39;t need the test ordering to be defined, but I need it to\n&gt; be de=\r\nterministic. If I build the same code with the same JDK and run it in\n&gt; the=\r\n same JRE on the same kernel on a different day, the tests should run in\n&gt; =\r\nthe same order. We often re-run tests that failed earlier in the day, using=\r\n\n&gt; the same source code, to try to determine which failures were due to fla=\r\nky\n&gt; tests. Having the tests run in a different order would make it much mo=\r\nre\n&gt; difficult to do this analysis.\n\nI do use the ordering of junit tests, =\r\nnot because the tests are inter-dependent, but simply because I have slow t=\r\nests and fast tests. I use junit for integration tests, so I run a batch fr=\r\nom junit, and look at the results of the batch. Some tests have small datas=\r\nets (10-15 seconds) and some have large datasets (10 minutes). I put the sm=\r\nall ones first so I can either stop the test if the first fails, or do some=\r\nthing else for ten minutes.\n\nIf I have to run these tests using a different=\r\n Runner, then that&#39;s fine, but I would rather not have to change anything (=\r\nmajor).\n\n&gt; I suggest that JUnit4 order the tests by the hash code of the te=\r\nst method\n&gt; name. If there is a tie, JUnit could compare the test names usi=\r\nng the\n&gt; natural ordering defined by String.compareTo(String) (possibly in =\r\nreverse\n&gt; :-)\n\nI would suggest we use the principle of least surprise here.=\r\n If the hashCode is used as an ordering, yes it is deterministic, but it wi=\r\nll seem random. If you use the test name, it is less surprising. People are=\r\n used to tests being run in bytecode order.\n\nIf you change the order then a=\r\nt least change it so that if people have problems due to ordering they can =\r\neasily change the order. Yes, I know that their tests are broken, but they =\r\nprobably do too. If the order is based upon the hashCode, I have to either =\r\nrun that test with a custom Runner (and make sure that it&#39;s usable in Eclip=\r\nse, Jenkins, maven, etc. etc.)[*]. If the order is simply the name, then al=\r\nl I have to do to &#39;fix&#39; my problem is change the name.\n\nMatthew Farwell.\n\n[=\r\n*] Or change the hashCode. For instance, I could have two tests:\n\npublic vo=\r\nid testStuff()\npublic void testMoreStuff()\n\nThese run in order as above. If=\r\n the hashCode were used to order them, then we get testMoreStuff() then tes=\r\ntStuff(). So to keep the original order we have to change testMoreStuff to =\r\ntestMoreStuffTextToIncreaseHashCode() :-)\n\n\n", 
    "profile": "mjfarwell", 
    "topicId": 23671, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 499556184, 
    "prevInTime": 23690, 
    "contentTrasformed": false, 
    "postDate": "1316696919", 
    "canDelete": false, 
    "nextInTopic": 23693, 
    "prevInTopic": 23688, 
    "headers": {
        "inReplyToHeader": "PENBQTNFK2VXOGsxSEJBYWotLXQ1N1pRNEh5LUhaYkp4NDl5RTgzTUZEeXhFZ19UbUF3UUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGo1ZmMwbitpNmEwQGVHcm91cHMuY29tPg=="
    }
}