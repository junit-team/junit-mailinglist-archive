{
    "numMessagesInTopic": 4, 
    "nextInTime": 22755, 
    "senderId": "8-jKN9gXRTAG-PiFti3EXlVfEYVLLZFYwtWWcM9JZRBrtfB2JcftNA96aaUXSo6u9-RpsBYflE-Kw2FCzq7xx_2mar9gzjdn5tQqZpE", 
    "systemMessage": true, 
    "subject": "jUnit4 Expectation and Assertation with jMock2", 
    "from": "&quot;raja_s_patil&quot; &lt;kpr.rspatil@...&gt;", 
    "authorName": "raja_s_patil", 
    "msgSnippet": "Hi, I am new to java and doing my first project. The testcase is as given below, but the snippet where i need help is @Test(expected =", 
    "msgId": 22754, 
    "profile": "raja_s_patil", 
    "topicId": 22754, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 248151783, 
    "messageBody": "<div id=\"ygrps-yiv-859578775\">Hi,<br/>\n<br/>\nI am new to java and doing my first project.<br/>\nThe testcase is as given below, but the snippet where i need help is<br/>\n<br/>\n\t@Test(expected = java.sql.SQLException.class)<br/>\n\tpublic void testSetParameter() throws SQLException {<br/>\n<br/>\n\t\tcontext.checking(new Expectations() {<br/>\n\t\t\t{<br/>\n\t\t\t\toneOf(setter).setString(&quot;T&quot;);<br/>\n\t\t\t\toneOf(setter).setString(&quot;F&quot;);<br/>\n\t\t\t\t}<br/>\n\t\t\t});<br/>\n<br/>\n\t\tboolHandler.setParameter(setter, new Boolean(true));<br/>\n\t\tboolHandler.setParameter(setter, new Boolean(false));<br/>\n\t\tboolHandler.setParameter(setter, null);<br/>\n\t\t}<br/>\n<br/>\nThe test is running fine and giving me GREEN bar. But I would like to<br/>\nshow meaningful message when any of the above test fails. e.g. if <br/>\n<br/>\nboolHandler.setParameter(setter, new Boolean(false)); is changed to<br/>\nboolHandler.setParameter(setter, new Boolean(true)); then test fails<br/>\n<br/>\nbut the message is not precisely telling why it has failed as <br/>\ngetResult is doing. The message is also given below one has to search in this long message and conclude that setString(&quot;T&quot;) has been <br/>\ncalled once and it should be setString(&quot;F&quot;) for second time call.<br/>\n<br/>\nHow can I indicate a short precise message why test has failed.<br/>\n<br/>\nThanks and regards.<br/>\n<br/>\n<br/>\nRaja<br/>\n<br/>\n======================================================================<br/>\npublic class testBoolTypeHandler {<br/>\n<br/>\n\tprivate Mockery\t\t\t\tcontext;<br/>\n\tprivate ResultGetter\t\tgetter;<br/>\n\tprivate ParameterSetter\t\tsetter;<br/>\n\tprivate boolTypeHandlerTF\tboolHandler;<br/>\n\tprivate String\t\t\t\ts;<br/>\n<br/>\n\t@Before<br/>\n\tpublic void setUp() throws Exception {<br/>\n<br/>\n\t\tcontext\t\t= new JUnit4Mockery();<br/>\n\t\tgetter\t\t= context.mock(ResultGetter.class);<br/>\n\t\tsetter\t\t= context.mock(ParameterSetter.class);<br/>\n\t\tboolHandler\t= new boolTypeHandlerTF();<br/>\n<br/>\n\t\t}<br/>\n<br/>\n\t@After<br/>\n\tpublic void tearDown() throws Exception {}<br/>\n<br/>\n\t@Test(expected = java.sql.SQLException.class)<br/>\n\tpublic void testGetResult() throws SQLException {<br/>\n<br/>\n\t\tboolean\tresult;<br/>\n<br/>\n\t\tcontext.checking(new Expectations() {<br/>\n\t\t\t{<br/>\n\t\t\t\tatLeast(1).of(getter).getString();<br/>\n\t\t\t\twill(onConsecutiveCalls(returnValue(&quot;T&quot;), returnValue(&quot;F&quot;), returnValue(&quot; &quot;)\t// , returnValue(&#39;F&#39;)<br/>\n\t\t\t\t\t));<br/>\n\t\t\t\t}<br/>\n\t\t\t});<br/>\n<br/>\n\t\tresult\t= ((Boolean) (boolHandler.getResult(getter))).booleanValue();<br/>\n\t\tassertEquals(&quot;getter.getString() == &#39;T&#39; &quot;, true, result);<br/>\n<br/>\n\t\tresult\t= (Boolean) (boolHandler.getResult(getter));<br/>\n\t\tassertEquals(&quot;getter.getString() == &#39;F&#39; &quot;, false, result);<br/>\n<br/>\n\t\t// getter.getString() == &#39; &#39; Throws Exception<br/>\n\t\tresult\t= (Boolean) (boolHandler.getResult(getter));<br/>\n<br/>\n\t\t}<br/>\n<br/>\n\t@Test(expected = java.sql.SQLException.class)<br/>\n\tpublic void testSetParameter() throws SQLException {<br/>\n<br/>\n\t\tcontext.checking(new Expectations() {<br/>\n\t\t\t{<br/>\n\t\t\t\toneOf(setter).setString(&quot;T&quot;);<br/>\n\t\t\t\toneOf(setter).setString(&quot;F&quot;);<br/>\n\t\t\t\t}<br/>\n\t\t\t});<br/>\n<br/>\n\t\tboolHandler.setParameter(setter, new Boolean(true));<br/>\n\t\tboolHandler.setParameter(setter, new Boolean(false));<br/>\n\t\tboolHandler.setParameter(setter, null);<br/>\n\t\t}<br/>\n<br/>\n\t/**<br/>\n\t *<br/>\n\t * @Test<br/>\n\t * public void testValueOf() {<br/>\n\t *   fail(&quot;Not yet implemented&quot;);<br/>\n\t * }<br/>\n\t */<br/>\n\t}<br/>\n<br/>\n<br/>\n======================================================================<br/>\n<br/>\n<br/>\njava.lang.Exception: Unexpected exception, expected&lt;java.sql.SQLException&gt; but was&lt;java.lang.AssertionError&gt;<br/>\n\tat org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:29)<br/>\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)<br/>\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)<br/>\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:73)<br/>\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:46)<br/>\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:180)<br/>\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:41)<br/>\n\tat org.junit.runners.ParentRunner$1.evaluate(ParentRunner.java:173)<br/>\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)<br/>\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)<br/>\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:220)<br/>\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:46)<br/>\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)<br/>\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)<br/>\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)<br/>\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)<br/>\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)<br/>\nCaused by: java.lang.AssertionError: unexpected invocation: parameterSetter.setString(&quot;T&quot;)<br/>\nexpectations:<br/>\n  expected once, already invoked 1 time: parameterSetter.setString(&quot;T&quot;); returns a default value<br/>\n  expected once, never invoked: parameterSetter.setString(&quot;F&quot;); returns a default value<br/>\nwhat happened before this:<br/>\n  parameterSetter.setString(&quot;T&quot;)<br/>\n<br/>\n\tat org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:56)<br/>\n\tat org.jmock.Mockery.dispatch(Mockery.java:218)<br/>\n\tat org.jmock.Mockery.access$000(Mockery.java:43)<br/>\n\tat org.jmock.Mockery$MockObject.invoke(Mockery.java:258)<br/>\n\tat org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)<br/>\n\tat org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)<br/>\n\tat org.jmock.lib.JavaReflectionImposteriser$1.invoke(JavaReflectionImposteriser.java:33)<br/>\n\tat $Proxy7.setString(Unknown Source)<br/>\n\tat com.matrimony.utils.ibatis.boolTypeHandlerTF.setParameter(boolTypeHandlerTF.java:45)<br/>\n\tat com.matrimony.utils.ibatis.testBoolTypeHandler.testSetParameter(testBoolTypeHandler.java:89)<br/>\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>\n\tat java.lang.reflect.Method.invoke(Method.java:597)<br/>\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)<br/>\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)<br/>\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)<br/>\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)<br/>\n\tat org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:22)<br/>\n\t... 16 more</div>", 
    "prevInTime": 22753, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1276309137", 
    "canDelete": false, 
    "nextInTopic": 22756, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGh1dXFxaCtqcGh1QGVHcm91cHMuY29tPg=="
    }
}