{
    "numMessagesInTopic": 30, 
    "nextInTime": 24334, 
    "senderId": "_PuLAfAPoyZ6wj2SFqPC5OoLtWQTMERcKzUzaAbKKXjrubwyeT48y9PIwxLXmTTqAIkHvx735g-B7VZvNAQ3-fyw-e_h0g", 
    "systemMessage": true, 
    "subject": "Re: Feedback requested: Impending changes to RunListener", 
    "from": "&quot;tibord47&quot; &lt;tibord47@...&gt;", 
    "authorName": "tibord47", 
    "msgSnippet": "David, I can confirm that running annotated listener in 4.11 and compiled with 4.12 does not throw exception. So the annotation is winner in my eyes. Regarding", 
    "msgId": 24333, 
    "profile": "tibord47", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 507342950, 
    "messageBody": "<div id=\"ygrps-yiv-1141334527\">David, I can confirm that running annotated listener in 4.11 and compiled with 4.12 does not throw exception. So the annotation is winner in my eyes.<br/>\n<br/>\nRegarding the static inner annotation in RunListener, this would mean that other classes which will maybe later need the same name of annotation will just duplicate again.<br/>\n<br/>\nCheers,<br/>\nTibor<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Kevin Cooney  wrote:<br/>\n&gt;<br/>\n&gt; On Thu, Feb 14, 2013 at 8:38 AM, David Saff  wrote:<br/>\n&gt; <br/>\n&gt; &gt; Hi, all.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Kevin, thank you very much for the summary document.  I think that a<br/>\n&gt; &gt; JUnit-specific annotation, which is not name-confusable with a standard<br/>\n&gt; &gt; like @ThreadSafe, seems to be a pretty clear winner.  If we feel strongly<br/>\n&gt; &gt; that it should remain consonant with @ThreadSafe, we could make it a static<br/>\n&gt; &gt; inner annotation, and reference it as @....<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I&#39;m personally find with that as long as the JavaDoc for the annotation<br/>\n&gt; makes it clear that a RunListener implementation annotated with that<br/>\n&gt; interface will be treated differently than one not annotated with that<br/>\n&gt; interface when addListener() and removeListener() is called.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; &gt;  That might<br/>\n&gt; &gt; also have the advantage of making clear that it&#39;s a single-purpose<br/>\n&gt; &gt; annotation (I&#39;d rather not, at this point, start speculatively figuring out<br/>\n&gt; &gt; what other interfaces might try to pun meanings onto a general-purpose<br/>\n&gt; &gt; ThreadSafe annotation)<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;m a little curious about the third-party library implementation.  Let&#39;s<br/>\n&gt; &gt; say I write a package FooTest which is compiled against JUnit 4.12, and it<br/>\n&gt; &gt; contains a FooListener I&#39;d like to mark threadsafe.  A client wants to use<br/>\n&gt; &gt; it with JUnit 4.11 (she knows she won&#39;t get the concurrent performance<br/>\n&gt; &gt; boost, but wants it to just work).  The document seems to assume that if<br/>\n&gt; &gt; FooListener has a RunListener.TheadSafe annotation, then our client won&#39;t<br/>\n&gt; &gt; have a problem (unless, likely, she actually tries to instantiate all of<br/>\n&gt; &gt; the annotations from FooListener in her own code).<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Correct as of JDK 1.5.0_06. See<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime\">http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime</a><br/>\n&gt; <br/>\n&gt; It sounds that if the client wants to write code that extends FooListener<br/>\n&gt; then JUnit 4.12 will need to be on the compile-time classpath<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; &gt; However, the document<br/>\n&gt; &gt; assumes that declaring a marker interface ThreadSafeRunListener _would_<br/>\n&gt; &gt; break the client.  Is that true?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I believe it would result in a NoClassDefFoundError exception. It should be<br/>\n&gt; easy to verify.<br/>\n&gt; <br/>\n&gt; Note that it may be hard to write a library that has a compile-time<br/>\n&gt; dependency on JUnit 4.12 while being runtime compatible with 4.11 for other<br/>\n&gt; reasons.<br/>\n&gt; <br/>\n&gt;  Does FooListener fail at bytecode<br/>\n&gt; &gt; verification because the verifier wants to make sure that it implements all<br/>\n&gt; &gt; of ThreadSafeRunListener&#39;s methods?<br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; That would be my guess.<br/>\n&gt; <br/>\n&gt; -- Kevin<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 24332, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1360862847", 
    "canDelete": false, 
    "nextInTopic": 24334, 
    "prevInTopic": 24332, 
    "headers": {
        "messageIdInHeader": "PGtmajZwditqOTRjQGVHcm91cHMuY29tPg=="
    }
}