{
    "topicId": 870, 
    "postDate": "989863171", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "gdinwiddie@...", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "zbhwYymfhMjs70OAflWDAQmK-rGeUg4UkDGalpyd2HBPfRbzyufcNVJqXjyz6h6a7oiR6uvlaSOq", 
    "nextInTime": 1193, 
    "userId": 0, 
    "prevInTime": 1191, 
    "prevInTopic": 945, 
    "headers": {
        "inReplyToHeader": "PDMzQTVFNjk5REFDNEQ0MTE5N0MyMDA1MDhCQUY1MjE3MkE1N0JFQGF1Ym5tc3gwMS5xc2kuY29tLmF1Pg==", 
        "messageIdInHeader": "PDlkcDZlMytqNmQ1QGVHcm91cHMuY29tPg=="
    }, 
    "authorName": "gdinwiddie@min.net", 
    "numMessagesInTopic": 11, 
    "msgSnippet": "Robert, Coming back to an old topic, were you using container-managed or bean-managed persistence, here? The reason I ask is that my project has now mandated", 
    "contentTrasformed": false, 
    "msgId": 1192, 
    "nextInTopic": 1195, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;gdinwiddie@...&gt;\r\nX-Sender: gdinwiddie@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_1_3); 14 May 2001 17:59:50 -0000\r\nReceived: (qmail 89407 invoked from network); 14 May 2001 17:59:31 -0000\r\nReceived: from unknown (10.1.10.26) by l7.egroups.com with QMQP; 14 May 2001 17:59:31 -0000\r\nReceived: from unknown (HELO hi.egroups.com) (10.1.10.41) by mta1 with SMTP; 14 May 2001 17:59:31 -0000\r\nX-eGroups-Return: gdinwiddie@...\r\nReceived: from [10.1.10.99] by hi.egroups.com with NNFMP; 14 May 2001 17:59:31 -0000\r\nDate: Mon, 14 May 2001 17:59:31 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: Best practice with EJB\r\nMessage-ID: &lt;9dp6e3+j6d5@...&gt;\r\nIn-Reply-To: &lt;33A5E699DAC4D41197C200508BAF52172A57BE@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 2396\r\nX-Mailer: eGroups Message Poster\r\nFrom: gdinwiddie@...\r\n\r\nRobert,\n\nComing back to an old topic, were you using container-managed\nor bean-managed persistence, here?\n\nThe reason I ask is that my project has now mandated EJB 2.0\nCMP and I&#39;m trying to figure out how I can create instantiable\nobjects with the business logic, when access to the persistent\nfields are all abstract methods.\n\n - George\n\n--- In junit@y..., Robert Watkins &lt;robertw@q...&gt; wrote:\n&gt; Vera Peeters writes:\n&gt; &gt; Implement the important things in normal java classes. You \n&gt; &gt; can test those easily with JUnit.\n&gt; &gt; The EJB should be only a very THIN facade into this java \n&gt; &gt; package. The EJB doesn&#39;t do anything by itself, it only \n&gt; &gt; redirects the client requests. \n&gt; &gt; This way, it&#39;s still important that you test the EJBs, \n&gt; &gt; preferebly in such a way as Robert describes, but you can do\n&gt; &gt; most of the work by simply running simple JUnit tests on \n&gt; &gt; normal classes, without having to deploy anything.  \n&gt; \n&gt; This is a nice aim, but it&#39;s not always possible. That said, it&#39;s \nstill\n&gt; worth striving for.\n&gt; \n&gt; The main problem area is when you want your EJB to leverage the \ncontainer in\n&gt; some way. For example, you might want to lookup another EJB.\n&gt; \n&gt; A proto-pattern I&#39;m using for this is to implement a hierarchy like \nthis:\n&gt;      --- BaseRemote\n&gt;     /\n&gt; Base &lt;-- BaseImpl &lt;-- BaseEJB\n&gt; \n&gt; BaseHome\n&gt; \n&gt; \n&gt; The BaseImpl has all the business logic in it, and stub methods to \nhandle\n&gt; EJB services. It&#39;s instantiable and can be used in the test cases \n(which\n&gt; look at instances of Base, not BaseRemote or BaseImpl). The stub \nmethods\n&gt; don&#39;t do much.\n&gt; \n&gt; BaseEJB extends BaseImpl, and overrides the methods where the \nservice\n&gt; hook-ins are needed.\n&gt; \n&gt; Please note that it is _very_ important to run your unit tests in \nthe &#39;live&#39;\n&gt; EJB mode as well as the local mode. The behaviour changes can get \nyou in\n&gt; really subtle ways otherwise. Your acceptance tests should probably \nonly run\n&gt; in &#39;live&#39; mode. The aim here is not to abandon testing in the live \nmode;\n&gt; it&#39;s merely to get enough confidence, for a while, that your code \nworks to\n&gt; let you get along. I personally find it&#39;s okay to have about 80% \nconfidence\n&gt; for a few hours, periodically resetting back to the 99% confidence \nthat the\n&gt; full live tests give me. The increased confidence that running in a \nlive\n&gt; mode all the time is offset by the sheer pain and inconvenience of \nit. YMMV.\n&gt; \n&gt; Robert.\n\n\n", 
    "subject": "Re: Best practice with EJB"
}