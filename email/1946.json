{
    "numMessagesInTopic": 9, 
    "nextInTime": 1947, 
    "senderId": "9SbCqxIiV89XbcvvbliL1anKEKqBzcOydBjNR601XMlumtRfNxR43PlxZ286-TJ9diew2F9qVTjDersVAMvXx7GU085FdwB-ohHnZf-MosUIOj_97lZoRnI", 
    "systemMessage": false, 
    "subject": "RE: [junit] ClassCastException only using swing/awt ui", 
    "from": "=?us-ascii?Q?Mike_Lepine?= &lt;mike.lepine@...&gt;", 
    "authorName": "Mike Lepine", 
    "msgSnippet": "Thank goodness. I did finally come to the same conclusion that the swingui.TestRunner was responsible (and not the JNDI code) for the ClassCastExceptions I was", 
    "msgId": 1946, 
    "topicId": 1943, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-337937300\">Thank goodness. I did finally come to the same conclusion that the<br/>\nswingui.TestRunner was responsible (and not the JNDI code) for the<br/>\nClassCastExceptions I was getting when retrieving an object from JNDI. I<br/>\nhaven&#39;t looked through the TestRunner source to determine why this occurs<br/>\nbut am also interested to know the answer.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; -----Original Message-----<br/>\n&gt; From: John Pletka [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:John.Pletka@...\">John.Pletka@...</a>]<br/>\n&gt; Sent: Monday, July 16, 2001 1:00 PM<br/>\n&gt; To: &#39;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&#39;<br/>\n&gt; Subject: [junit] ClassCastException only using swing/awt ui<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; I&#39;m trying to use JUnit 3.7 to test my EJB beans on Orion 1.5.2  I setup a<br/>\n&gt; simple test case that connects to the server in the setUp() method, then<br/>\n&gt; does an JNDI lookup of the bean&#39;s home interface in the test method.  The<br/>\n&gt; test runs fine in the textui and when I run it outside the JUnit<br/>\n&gt; container,<br/>\n&gt; however when I try to run it using the awtui or the swingui, I get a<br/>\n&gt; ClassCastException when I try cast the remote interface.  Using<br/>\n&gt; reflection,<br/>\n&gt; I can examine the class that was returned and see that it is the correct<br/>\n&gt; class with all the correct methods -- I just can not cast it to the proper<br/>\n&gt; interface.<br/>\n&gt;<br/>\n&gt; Does the Visual UI runners have their own ClassLoader that may be causing<br/>\n&gt; this?<br/>\n&gt; Does anyone have any other idea why this may be happening?<br/>\n&gt; Has anyone been able to use JUnit with Orion?<br/>\n&gt;<br/>\n&gt; Thanks in advance for your help.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Here is my test case.  The testPoint() method works in textui but not<br/>\n&gt; swingui<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; import javax.naming.*;<br/>\n&gt; import java.io.*;<br/>\n&gt; import java.util.*;<br/>\n&gt; import javax.rmi.PortableRemoteObject;<br/>\n&gt;<br/>\n&gt; public class TestBusinessAssociateAPI extends junit.framework.TestCase<br/>\n&gt; {<br/>\n&gt; \tInitialContext ctx = null;<br/>\n&gt;<br/>\n&gt; \tpublic TestBusinessAssociateAPI(String name){<br/>\n&gt; \t\tsuper(name);<br/>\n&gt; \t}<br/>\n&gt; \tprotected void setUp() throws NamingException,<br/>\n&gt; FileNotFoundException, IOException<br/>\n&gt; \t{<br/>\n&gt; \t\tProperties serverProperties = new Properties();<br/>\n&gt; \t\t//serverProperties.load(new<br/>\n&gt; FileInputStream(&quot;ejbserver.properties&quot;));<br/>\n&gt;<br/>\n&gt; \t\tSystem.setProperty(Context.PROVIDER_URL,<br/>\n&gt; serverProperties.getProperty(&quot;url&quot;,&quot;ormi://appsvr/app&quot;));<br/>\n&gt; \t\tSystem.setProperty(Context.INITIAL_CONTEXT_FACTORY,<br/>\n&gt; serverProperties.getProperty(&quot;icf&quot;,&quot;com.evermind.server.Applicatio<br/>\n </span></blockquote>nClientIni<br/>\n<blockquote><span title=\"ireply\"> &gt; tialContextFactory&quot;));<br/>\n&gt;<br/>\n&gt; System.setProperty(Context.SECURITY_PRINCIPAL,serverProperties.get<br/>\n </span></blockquote>Property(&quot;<br/>\n<blockquote><span title=\"qreply\"> &gt; user&quot;,&quot;admin&quot;));<br/>\n&gt; \t\tSystem.setProperty(Context.SECURITY_CREDENTIALS,<br/>\n&gt; serverProperties.getProperty(&quot;password&quot;,&quot;password&quot;));<br/>\n&gt; \t\tctx = new InitialContext();<br/>\n&gt; \t\tSystem.out.println(&quot;Setup succeeded&quot;);<br/>\n&gt; \t}<br/>\n&gt; \tpublic void testPoint() throws Exception, java.rmi.RemoteException<br/>\n&gt; \t{<br/>\n&gt; \t\tPoint point;<br/>\n&gt; \t\tPointHome pointHome;<br/>\n&gt; \t\t//The next line works in textui, but throws<br/>\n&gt; ClassCastException in swingui<br/>\n&gt; \t\tpointHome = (PointHome)<br/>\n&gt; PortableRemoteObject.narrow(ctx.lookup(&quot;base/PointHome&quot;),PointHome.class);<br/>\n&gt; \t\tpoint = pointHome.create();<br/>\n&gt; \t\tSystem.out.println(point.getAbout());<br/>\n&gt;<br/>\n&gt; \t}<br/>\n&gt; \t/**<br/>\n&gt; \t * Executing this as a standalone class works<br/>\n&gt;     \t*/<br/>\n&gt; \tpublic static void main(String[] args) {<br/>\n&gt;         \t\tTestBusinessAssociateAPI quickTest = new<br/>\n&gt; TestBusinessAssociateAPI(&quot;TheTest&quot;);<br/>\n&gt; \t\ttry{<br/>\n&gt; \t\t\tquickTest.setUp();<br/>\n&gt; \t\t\tquickTest.testPoint();<br/>\n&gt; \t\t}catch(Exception ex){<br/>\n&gt; \t\t\tex.printStackTrace();<br/>\n&gt; \t\t}<br/>\n&gt;     \t}<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 1945, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "995309081", 
    "canDelete": false, 
    "nextInTopic": 1948, 
    "prevInTopic": 1943, 
    "headers": {
        "inReplyToHeader": "PEFDOEQ2NUU5QzhBREQzMTFBN0NGMDAwOEM3REY2MDhEMDNBREZBRTBAc3BhY2VsZXkuYWx0cmFuZXQuY29tPg==", 
        "messageIdInHeader": "PEtCRUpLTU9OSUdNT0NEQkVQSERLTUVPSENHQUEubWlrZS5sZXBpbmVAZXpnb3YuY29tPg=="
    }
}