{
    "numMessagesInTopic": 19, 
    "nextInTime": 21263, 
    "senderId": "N9bT92oV6E3L3wO0oj9i0ZIo0dCKipjxMqjxXNZqKGJFwketDXNaFo9rNMc2KfMfU6bK85O9QI2d_Tci-GvaoEnq5PAFWFjDWKnaFJUrE10g8HPl", 
    "systemMessage": false, 
    "subject": "Re: [junit] Priority of Assertion?", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "Yes closures would be nice... sigh :) if you can t change your language, change your language I guess :) On Mon, Jan 5, 2009 at 8:21 PM, Charlie Poole ... -- ", 
    "msgId": 21262, 
    "rawEmail": "Return-Path: &lt;joakim.ohlrogge@...&gt;\r\nX-Sender: joakim.ohlrogge@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 91561 invoked from network); 5 Jan 2009 20:21:25 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m51.grp.scd.yahoo.com with QMQP; 5 Jan 2009 20:21:25 -0000\r\nX-Received: from unknown (HELO yw-out-2324.google.com) (74.125.46.28)\n  by mta18.grp.scd.yahoo.com with SMTP; 5 Jan 2009 20:21:25 -0000\r\nX-Received: by yw-out-2324.google.com with SMTP id 3so2446961ywj.47\n        for &lt;junit@yahoogroups.com&gt;; Mon, 05 Jan 2009 12:21:24 -0800 (PST)\r\nX-Received: by 10.151.114.13 with SMTP id r13mr1053255ybm.70.1231186884733;\n        Mon, 05 Jan 2009 12:21:24 -0800 (PST)\r\nX-Received: by 10.151.117.16 with HTTP; Mon, 5 Jan 2009 12:21:24 -0800 (PST)\r\nMessage-ID: &lt;b9ee5e410901051221w1c0112b4tefff6dad0f9c7b23@...&gt;\r\nDate: Mon, 5 Jan 2009 21:21:24 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;001101c96f6a$ca4e5ec0$6401a8c0@ferrari&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;b9ee5e410901050621j1078cef8n8ec70e068c1e6829@...&gt;\n\t &lt;001101c96f6a$ca4e5ec0$6401a8c0@ferrari&gt;\r\nX-Google-Sender-Auth: 885d249c5fb1dcbc\r\nX-eGroups-Msg-Info: 2:4:8:0:2\r\nX-eGroups-From: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nFrom: &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;\r\nReply-To: joakim.ohlrogge@...\r\nSubject: Re: [junit] Priority of Assertion?\r\nX-Yahoo-Group-Post: member; u=261856052; y=R1whU6QkaTiv-E9Bbc5HyxUTQq-xG3eM9H5nuxLNHF8v_qq9\r\nX-Yahoo-Profile: j0hlrogge\r\n\r\nYes closures would be nice... sigh :)\n\nif you can&#39;t change your language, c=\r\nhange your language I guess :)\n\n\nOn Mon, Jan 5, 2009 at 8:21 PM, Charlie Po=\r\nole\n&lt;charlie@...&gt; wrote:\n&gt; Hi Joakim,\n&gt;\n&gt;&gt; In rMock we used=\r\n the following contruct:\n&gt;&gt;\n&gt;&gt; public void testSomething() {\n&gt;&gt; &lt;code that =\r\nwe don&#39;t expect to throw an exception&gt;\n&gt;&gt; expectThatExceptionThrown(isInsta=\r\nnceOf(SomeException.class));\n&gt;&gt; &lt;code that we expect to throw an exception&gt;=\r\n }\n&gt;&gt;\n&gt;&gt; I think that idea is what Charlies assertThrows suggestion\n&gt;&gt; hint=\r\ned towards.\n&gt;\n&gt; In NUnit, I wrote it as\n&gt; Assert.Throws( typeof(SomeExcepti=\r\non) ), &lt;delegate&gt; );\n&gt; where &lt;delegate&gt; can be a named delegate, the name o=\r\nf\n&gt; a method or an anonymous delegate depending on the\n&gt; version of .NET yo=\r\nu are using.\n&gt;\n&gt; Putting it in a single statement avoids the global issues\n=\r\n&gt; that David writes about, but the approach does require\n&gt; something like a=\r\n closure - a .NET delegate being basically\n&gt; a weak form of closure.\n&gt;\n&gt; Ch=\r\narlie\n&gt;\n&gt;&gt; While this freedom can be abused it allows to precisely\n&gt;&gt; pinpo=\r\nint what should throw an exception. Also, you could do\n&gt;&gt; all kind of hamcr=\r\nest checks on the exception instance that is\n&gt;&gt; not possible to do with ann=\r\notations. The underlying\n&gt;&gt; implementation in the rMock-case is that\n&gt;&gt; exp=\r\nectThatExceptionThrows primes the framework with an\n&gt;&gt; expection that any e=\r\nxception is checked against before the\n&gt;&gt; exception is rethrown as an error=\r\n (if the check passes the\n&gt;&gt; Exception is expected and not rethrown).\n&gt;&gt;\n&gt;&gt;=\r\n Jusr my 5 cents :)\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Wed, Dec 31, 2008 at 4:43 AM, David Saff &lt;d=\r\navid@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; &gt; Ilja,\n&gt;&gt; &gt;\n&gt;&gt; &gt; Thanks for thinking this thro=\r\nugh.\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; &gt; In my view, the behavior is in fact an artifact of an=\r\n\n&gt;&gt; implementation\n&gt;&gt; &gt; &gt; detail - namely that asserts indicate failures by=\r\n throwing an\n&gt;&gt; &gt; &gt; exception.\n&gt;&gt; &gt;\n&gt;&gt; &gt; I don&#39;t know that I can get behind=\r\n this. This test is\n&gt;&gt; always going to pass:\n&gt;&gt; &gt;\n&gt;&gt; &gt; @Test public void av=\r\noidThePainfulTruth() { try {\n&gt;&gt; assertTrue(false); }\n&gt;&gt; &gt; catch (Exception =\r\ne) { } }\n&gt;&gt; &gt;\n&gt;&gt; &gt; I can&#39;t think of a better way than exceptions to impleme=\r\nnt\n&gt;&gt; assertions,\n&gt;&gt; &gt; and I can&#39;t think of a way to hide that fact from us=\r\ners in\n&gt;&gt; all cases.\n&gt;&gt; &gt;\n&gt;&gt; &gt; David Saff\n&gt;&gt; &gt;\n&gt;&gt; &gt; On Tue, Dec 30, 2008 at=\r\n 11:18 AM, Ilja Preu=DF\n&gt;&gt; &gt; &lt;iljapreuss@...&lt;iljapreuss%40google=\r\nmail.com&gt;\n&gt;&gt; &gt; &gt;wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; &gt; Kent, I agree that it is expected behavi=\r\nor, technically.\n&gt;&gt; I think you\n&gt;&gt; &gt; &gt; could also make an argument that it =\r\nwould be better if\n&gt;&gt; the behavior\n&gt;&gt; &gt; &gt; was different.\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; In m=\r\ny view, the behavior is in fact an artifact of an\n&gt;&gt; implementation\n&gt;&gt; &gt; &gt; =\r\ndetail - namely that asserts indicate failures by throwing an\n&gt;&gt; &gt; &gt; except=\r\nion. It could be made the case that JUnit &quot;should&quot; report\n&gt;&gt; &gt; &gt; those fail=\r\ning asserts as failing asserts, not as\n&gt;&gt; unexpected exceptions.\n&gt;&gt; &gt; &gt; Bas=\r\nically, the current behavior masks the true test failure.\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Fra=\r\nnkly, I have a hunch that the best solution to this problem\n&gt;&gt; &gt; &gt; actually=\r\n is to split the test in two, that is, to not mix\n&gt;&gt; &quot;expected&quot;\n&gt;&gt; &gt; &gt; and =\r\n&quot;assert&quot; in the same test method.\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Cheers, Ilja\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; =\r\n2008/12/30 kentb &lt;kentb@... &lt;kentb%40earthlink.net&gt;\n&gt;&gt; &gt; &gt; &lt;kentb=\r\n%\n&gt;&gt; &gt; 40earthlink.net&gt;&gt;:\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Yosef,\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; The beha=\r\nvior you describe is what I would expect to see. In the\n&gt;&gt; &gt; &gt; &gt; test,\n&gt;&gt; &gt;=\r\n you\n&gt;&gt; &gt; &gt; &gt; declared that an ArrayIndexOutOfBounds exception would\n&gt;&gt; be =\r\nthrown.\n&gt;&gt; &gt; &gt; &gt; It\n&gt;&gt; &gt; was\n&gt;&gt; &gt; &gt; not\n&gt;&gt; &gt; &gt; &gt; thrown, so the test fails.=\r\n The error message says that\n&gt;&gt; the &quot;wrong&quot;\n&gt;&gt; &gt; &gt; exception\n&gt;&gt; &gt; &gt; &gt; that =\r\nwas thrown was an AssertionError, which is\n&gt;&gt; generated by the\n&gt;&gt; &gt; &gt; &gt; ass=\r\nertTrue(false). The &quot;expected=3D...&quot; means that a test\n&gt;&gt; can fail\n&gt;&gt; &gt; &gt; &gt;=\r\n if no exception is thrown or if the wrong exception is thrown.\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt;=\r\n &gt; &gt; &gt; Regards,\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Kent Beck\n&gt;&gt; &gt; &gt; &gt; Three Rivers Institute=\r\n\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; _____\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; From: junit@yahoogroups.com &lt;jun=\r\nit%40yahoogroups.com&gt; &lt;junit%\n&gt;&gt; &gt; 40yahoogroups.com&gt; [mailto:\n&gt;&gt; &gt; &gt; junit=\r\n@yahoogroups.com &lt;junit%40yahoogroups.com&gt;\n&gt;&gt; &gt; &gt; &lt;junit%40yahoogroups.com&gt;=\r\n]\n&gt;&gt; &gt; On Behalf Of\n&gt;&gt; &gt; &gt; &gt; yosefshariat\n&gt;&gt; &gt; &gt; &gt; Sent: Tuesday, December =\r\n30, 2008 1:10 AM\n&gt;&gt; &gt; &gt; &gt; To: junit@yahoogroups.com &lt;junit%40yahoogroups.co=\r\nm&gt; &lt;junit%\n&gt;&gt; &gt; 40yahoogroups.com&gt;\n&gt;&gt; &gt; &gt; &gt; Subject: [junit] Priority of As=\r\nsertion?\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Hi\n&gt;&gt; &gt; &gt; &gt; I use &quot;@Test(expected =3D AnyClassEx=\r\nception.class&quot;) and one\n&gt;&gt; &gt; &gt; &gt; &quot;assertTrue(false)&quot; together for example f=\r\nollowing code:\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; @Test(expected =3D ArrayIndexOutOfBoundsEx=\r\nception.class)\n&gt;&gt; &gt; &gt; &gt; public void test()\n&gt;&gt; &gt; &gt; &gt; {\n&gt;&gt; &gt; &gt; &gt; String s[] =\r\n=3D new String[]{&quot;1&quot;};\n&gt;&gt; &gt; &gt; &gt; assertTrue(false);\n&gt;&gt; &gt; &gt; &gt; System.out.prin=\r\ntln(s[10]);\n&gt;&gt; &gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; I expect to see an assertion but I=\r\n see following error:\n&gt;&gt; &gt; &gt; &gt; java.lang.Exception: Unexpected exception,\n&gt;=\r\n&gt; &gt; &gt; &gt; expected&lt;java.lang.ArrayIndexOutOfBoundsException&gt; but\n&gt;&gt; &gt; &gt; &gt; was=\r\n&lt;java.lang.AssertionError&gt;..\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; In your opinion, this test m=\r\nust be Assertion or Exception.\n&gt;&gt; &gt; &gt; &gt; In &quot;JUnit&quot; we cannot use &quot;@Test(exp=\r\nected =3D\n&gt;&gt; &gt; &gt; &gt; AnyClassException.class&quot;) and Assertion together at the\n=\r\n&gt;&gt; same time.\n&gt;&gt; &gt; &gt; &gt; In my opinion this test must be failed for &quot;assertio=\r\nn&quot;\n&gt;&gt; and not for\n&gt;&gt; &gt; &gt; &gt; ArrayIndexOutOfBoundsException.\n&gt;&gt; &gt; &gt; &gt; Is this=\r\n a bug in JUnit or my test is wrong and\n&gt;&gt; shouldn&#39;t use two\n&gt;&gt; &gt; &gt; &gt; item =\r\ntogether?\n&gt;&gt; &gt; &gt; &gt; Tanks.\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; [Non-text portions of this mess=\r\nage have been removed]\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; [Non-text =\r\nportions of this message have been removed]\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; --\n&gt;=\r\n&gt; -----------------------------------------------------\n&gt;&gt; Joakim Ohlrogge\n=\r\n&gt;&gt; Agical AB\n&gt;&gt; V=E4sterl=E5nggatan 79, 2 tr\n&gt;&gt; 111 29 Stockholm, SWEDEN\n&gt;&gt;=\r\n\n&gt;&gt; Mobile: +46-708-754004\n&gt;&gt; Blog: johlrogge.wordpress.com\n&gt;&gt; E-mail: joak=\r\nim.ohlrogge@...\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; [Non-text portions of this message have been=\r\n removed]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------\n&gt;&gt;\n&gt;&gt; Yahoo! Groups=\r\n Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt; \n\n\n\n-- \n--------------------------------------------=\r\n---------\nJoakim Ohlrogge\nAgical AB\nV=E4sterl=E5nggatan 79, 2 tr\n111 29 Sto=\r\nckholm, SWEDEN\n\nMobile: +46-708-754004\nBlog: johlrogge.wordpress.com\nE-mail=\r\n: joakim.ohlrogge@...\n\n", 
    "profile": "j0hlrogge", 
    "topicId": 21230, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "prevInTime": 21261, 
    "contentTrasformed": false, 
    "postDate": "1231186884", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21261, 
    "headers": {
        "inReplyToHeader": "PDAwMTEwMWM5NmY2YSRjYTRlNWVjMCQ2NDAxYThjMEBmZXJyYXJpPg==", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDkwMTA1MTIyMXcxYzAxMTJiNHRlZmZmNmRhZDBmOWM3YjIzQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGI5ZWU1ZTQxMDkwMTA1MDYyMWoxMDc4Y2VmOG44ZWM3MGUwNjhjMWU2ODI5QG1haWwuZ21haWwuY29tPgkgPDAwMTEwMWM5NmY2YSRjYTRlNWVjMCQ2NDAxYThjMEBmZXJyYXJpPg=="
    }
}