{
    "numMessagesInTopic": 22, 
    "nextInTime": 11605, 
    "senderId": "a_4L4HvnSOE-fNb0d2LSY8W5w2hCzLpUeuCyVavlIO4LXROApCZi0oeLr4-Y8oxCX0id7Ap0ROvPfCc5zyKGi5v-_xCx4yny33cKV72J4sQ", 
    "systemMessage": false, 
    "subject": "Using JMock, example of the after() MatchBuilder?", 
    "from": "&quot;cliftonccraig&quot; &lt;cliftonccraig@...&gt;", 
    "authorName": "cliftonccraig", 
    "msgSnippet": "I am trying to learn JMock and apply it to my unit testing. I m having trouble setting up some of the expectations. For example, I want to set an expectation", 
    "msgId": 11604, 
    "profile": "cliftonccraig", 
    "topicId": 11604, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190580959, 
    "messageBody": "<div id=\"ygrps-yiv-371918702\">I am trying to learn JMock and apply it to my unit testing. I&#39;m having<br/>\ntrouble setting up some of the expectations. For example, I want to<br/>\nset an expectation that a certain method be called exactly 5 times and<br/>\nset the return value for each invocation. Upon reading the docs I see<br/>\nan unclear example of how to do this with the onConsecutiveCalls()<br/>\nstub. So I&#39;ve come up with the following code on my mockController to<br/>\nexpect no more than 5 calls to the same nextDataModel method. (I threw<br/>\nin the RuntimeException to stop excessive calls on what works pretty<br/>\nmuch like an iterator. The real object doesn&#39;t throw on excessive calls.) <br/>\n<br/>\nmockParserController.expects(atLeastOnce()).method(&quot;nextDataModel&quot;)<br/>\n                .withNoArguments()<br/>\n                .will(onConsecutiveCalls(<br/>\n                        returnValue(stubbedZipcodeModel),<br/>\n                        returnValue(stubbedBusnpartModel),<br/>\n                        returnValue(stubbedAddressModel),<br/>\n                        onConsecutiveCalls(<br/>\n                                returnValue(stubbedCustomerModel),<br/>\n                                returnValue(null),<br/>\n                                throwException(new<br/>\nDTPRuntimeException(&quot;No more DataModels available in the stream.&quot;))<br/>\n                        )<br/>\n                ));<br/>\n<br/>\nIt looks pretty good. But what I&#39;m wondering is if this logic mandates<br/>\nthe method to be called 5 times or if it just set provisions for 5<br/>\ninvocations. I&#39;m thinking the latter. If so then how do I force the<br/>\nmock to check for exactly 5 invocations (and throw if less than 5)?  I<br/>\nsaw in the docs a mention of the after() method but I don&#39;t know<br/>\nexactly how to use it. It looks like the functionality that I need but<br/>\nI need an example of it&#39;s use.<br/>\n<br/>\nCliff</div>", 
    "prevInTime": 11603, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1090344176", 
    "canDelete": false, 
    "nextInTopic": 11607, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGNkamtkZytvMDZwQGVHcm91cHMuY29tPg=="
    }
}