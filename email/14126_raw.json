{
    "numMessagesInTopic": 3, 
    "nextInTime": 14127, 
    "senderId": "TJVZByFisJ25ul2J2QKrvEyW-4nbt5jUAkTXmwF139ScVF71_vE3bgghPLPCmOsTz8fUNY2SYgeVav9hpeU8qy3iFg0", 
    "systemMessage": false, 
    "subject": "TDD Design advice on an HTTPClient-driven service", 
    "from": "&quot;etl_dan&quot; &lt;etl_dan@...&gt;", 
    "authorName": "etl_dan", 
    "msgSnippet": "Hi all, I m facing some design issues and I ve hit a mental roadblock that s left me dazed and pondering by the side of the road... (better crashed wondering", 
    "msgId": 14126, 
    "rawEmail": "Return-Path: &lt;etl_dan@...&gt;\r\nX-Sender: etl_dan@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 99503 invoked from network); 15 Jul 2005 02:44:48 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m17.grp.scd.yahoo.com with QMQP; 15 Jul 2005 02:44:48 -0000\r\nReceived: from unknown (HELO n20a.bulk.scd.yahoo.com) (66.94.237.49)\n  by mta1.grp.scd.yahoo.com with SMTP; 15 Jul 2005 02:44:48 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.66.59] by n20.bulk.scd.yahoo.com with NNFMP; 15 Jul 2005 02:44:47 -0000\r\nReceived: from [66.218.66.86] by mailer8.bulk.scd.yahoo.com with NNFMP; 15 Jul 2005 02:44:47 -0000\r\nDate: Fri, 15 Jul 2005 02:44:46 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;db77uu+9gn4@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 1800\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;etl_dan&quot; &lt;etl_dan@...&gt;\r\nSubject: TDD Design advice on an HTTPClient-driven service\r\nX-Yahoo-Group-Post: member; u=86431363; y=BjBzWA37IcIJGcA1yQS9fJovD3F96SYcsdZs4Xp-RfecKQ\r\nX-Yahoo-Profile: etl_dan\r\n\r\nHi all,\n\nI&#39;m facing some design issues and I&#39;ve hit a mental roadblock that&#39;s\nleft me dazed and pondering by the side of the road... (better crashed\nwondering how to TDD than how to solve a production bug, I suppose!) \nAny advice is appreciated!\n\nI&#39;m building a component which must support a few use cases where a\nseries of HTTP POST messages must be sent, received, and processed to\na server.  I created a prototype to prove that I can use Jakarta\nCommons HttpClient to handle multiple request/response interactions,\nand now I&#39;d like to start over with this knowledge and use TDD to\ndesign this service.  (Preferably most/all of the tests won&#39;t require\na live container).\n\nThe problem I&#39;m facing is that I can&#39;t figure out at what level to\nstart testing/designing. \n\nThe top level seems easiest; one method might be something like:\n\n  String getWorkDataAsXml(...) throws RuntimeException;\n\nwhere the method ultimately makes four HTTP requests to a server,\nformats the response and returns, or throws an exception if the server\nis unavailable.  \n\nHowever, I&#39;m not really sure how to break it down below that level -\nand still be testable.  I know that the four requests must happen in\nsequence, so that&#39;s a clue.  Another immediate test I can see here is\nensuring that each request is set up with the correct name/value\nparameters; so this implies to me that each request might be its own\nclass, or at least each request&#39;s parameter map generator is its own\nclass or a unique static method.\n\nBeyond this I start to get lost.  An HttpClient is a class with no\nimplemented interface, so perhaps I could wrap its core required\nfunctionality in an interface without actually exposing the\nHttpClient, then substitute a mock in for testing? (Such as described\nin Michael Feathers&#39; book)\n\nThank you,\n\nDan \n\n\n\n", 
    "profile": "etl_dan", 
    "topicId": 14126, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 86431363, 
    "prevInTime": 14125, 
    "contentTrasformed": false, 
    "postDate": "1121395486", 
    "canDelete": false, 
    "nextInTopic": 14129, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGRiNzd1dSs5Z240QGVHcm91cHMuY29tPg=="
    }
}