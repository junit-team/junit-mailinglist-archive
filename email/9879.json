{
    "numMessagesInTopic": 4, 
    "nextInTime": 9880, 
    "senderId": "RMFv3qv4MFGH6JU_lai_D5KR6u7rP7sBVXUJOBj0sGsksGimeLoDYK-ki9CNnSbB3AhOlN6dRa_Qv1qfB1rapamDP2SIX91c", 
    "systemMessage": false, 
    "subject": "Re: [junit] Formatting results on a per suite basis", 
    "from": "Marc Tardif &lt;mtardif@...&gt;", 
    "authorName": "Marc Tardif", 
    "msgSnippet": "I saw this suggestion already posted in this group and mentioned it as my second approach to resolve this issue. However, my problem with this approach is that", 
    "msgId": 9879, 
    "profile": "mtardifsitepak", 
    "topicId": 9866, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 165745870, 
    "messageBody": "<div id=\"ygrps-yiv-924591647\">I saw this suggestion already posted in this group and mentioned it as <br/>\nmy second approach to resolve this issue. However, my problem with this <br/>\napproach is that it generates reports in the &quot;todir&quot; which must be <br/>\nviewed separately from the test process. Granted the reports may contain <br/>\nexactly the information I&#39;m looking for, but I&#39;d prefer immediate <br/>\nfeedback when running the tests from ant. That way, I can remain in the <br/>\nshell when frequently repeating the test and fix combination.<br/>\n<br/>\nI hope I missed something about the junitreport target and that I can <br/>\nindeed use it to display the text output in a readable format in the <br/>\nshell. Please let me know if this is possible.<br/>\n<br/>\nShane Duan wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Have you taken a look at the &#39;junitreport&#39; task?  It can take the file<br/>\n&gt; set you pass in and generate report.<br/>\n&gt;  <br/>\n&gt; So basically, you can use xml report to generate xml file on each test<br/>\n&gt; case class, then use the junitreport to group the ones you want<br/>\n&gt; to go together for the report.  We are doing that so that we can<br/>\n&gt; generate report based on each personl&#39;s reponsible packages.  Then we<br/>\n&gt; can also use a file set that includes all the xml files as the overall<br/>\n&gt; test report.  Here is a brief sample:<br/>\n&gt;  <br/>\n&gt;   &lt;target name=&quot;personalReport&quot;&gt;<br/>\n&gt;     &lt;junitreport&gt;<br/>\n&gt;       &lt;fileset refid=&quot;test.id&quot;/&gt;<br/>\n&gt;       &lt;report format=&quot;frames&quot; todir=&quot;${reports.tests}/${user}&quot;/&gt;<br/>\n&gt;     &lt;/junitreport&gt;<br/>\n&gt;   &lt;/target&gt;<br/>\n&gt; <br/>\n&gt;   &lt;target name=&quot;shaneReport&quot; description=&quot;Shane&#39;s test reports&quot;&gt;<br/>\n&gt;     &lt;fileset id=&quot;id&quot; dir=&quot;${reports.tests}&quot;&gt;<br/>\n&gt;       &lt;include name=&quot;TEST-package1.package2.TestCaseClass.xml&quot;/&gt;<br/>\n&gt;       &lt;include name=&quot;TEST-package1.package3.*.xml&quot;/&gt;<br/>\n&gt;       &lt;include name=&quot;TEST-package2.package4.xml&quot;/&gt;<br/>\n&gt;     &lt;/fileset&gt;<br/>\n&gt;     &lt;antcall target=&quot;personalReport&quot;&gt;<br/>\n&gt;       &lt;param name=&quot;user&quot; value=&quot;shane&quot;/&gt;<br/>\n&gt;       &lt;reference refid=&quot;id&quot; torefid=&quot;test.id&quot;/&gt;<br/>\n&gt;     &lt;/antcall&gt;<br/>\n&gt;   &lt;/target&gt;<br/>\n&gt;  <br/>\n&gt; Hope this is helps.<br/>\n&gt;  <br/>\n&gt; Shane<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; \t-----Original Message-----<br/>\n&gt; \tFrom: mtardifsitepak [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mtardif@...\">mtardif@...</a>] <br/>\n&gt; \tSent: Thursday, November 13, 2003 10:38 AM<br/>\n&gt; \tTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; \tSubject: [junit] Formatting results on a per suite basis<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \tI am calling JUnit from a task within ant (xml provided below).<br/>\n&gt; When I<br/>\n&gt; \trun ant for my entire suite of tests, I get output which looks<br/>\n&gt; like this:<br/>\n&gt; \t<br/>\n&gt; \t    [junit] Testcase: testRun took 1.979 sec<br/>\n&gt; \t    [junit] Testcase: testRun took 0.572 sec<br/>\n&gt; \t    [junit] Testcase: testRun took 0.451 sec<br/>\n&gt; \t    ...<br/>\n&gt; \t<br/>\n&gt; \tThe problem here is that I have different suites containing<br/>\n&gt; tests with<br/>\n&gt; \tthe same name. My setup is an extensive hierarchy of tests where<br/>\n&gt; each<br/>\n&gt; \tsubdirectory contains an AllTests class calling addTestSuite for<br/>\n&gt; each<br/>\n&gt; \tof the tests within the same directory and addTest for each<br/>\n&gt; AllTests<br/>\n&gt; \tclass in the first level of subdirectories. For example:<br/>\n&gt; \t<br/>\n&gt; \t    suite.addTest(test.com.sitepak.subdir.AllTests.suite());<br/>\n&gt; \t    suite.addTestSuite(test.com.sitepak.SSHTest.class);<br/>\n&gt; \t<br/>\n&gt; \tI have tried many approaches to solve this problem but none have<br/>\n&gt; been<br/>\n&gt; \tsatisfactory:<br/>\n&gt; \t<br/>\n&gt; \t1. I tried overriding the PlainJUnitResultFormatter class,<br/>\n&gt; giving my<br/>\n&gt; \town implementation of the methods defined in the<br/>\n&gt; JUnitResultFormatter<br/>\n&gt; \tinterface. Problem is, startTestSuite is only called once when<br/>\n&gt; running<br/>\n&gt; \tall the AllTests test in the root directory. The reason is<br/>\n&gt; probably<br/>\n&gt; \tthat when I call addTest and then addTestSuite, the tests are<br/>\n&gt; all<br/>\n&gt; \tbeing cumulated in what is considered the same suite.<br/>\n&gt; \t<br/>\n&gt; \t2. I then tried overridig the XMLJUnitResultFormatter, as stated<br/>\n&gt; in<br/>\n&gt; \tsome of the posting in this newsgroup. Once filtered through an<br/>\n&gt; XSLT<br/>\n&gt; \tfile, I&#39;m sure I could get the name of the test and its<br/>\n&gt; corresponding<br/>\n&gt; \tclass in the same line in a nicely formatted HTML file. However,<br/>\n&gt; I<br/>\n&gt; \tneed immediate feedback when calling ant from the command line.<br/>\n&gt; \t<br/>\n&gt; \t3. I finally tried calling each test individually, as suggested<br/>\n&gt; in the<br/>\n&gt; \tJUnit or Ant FAQ. This consists of providing the following XML<br/>\n&gt; in ant:<br/>\n&gt; \t<br/>\n&gt; \t  &lt;batchtest fork=&quot;yes&quot;&gt;<br/>\n&gt; \t    &lt;fileset dir=&quot;${src.tests}&quot;&gt;<br/>\n&gt; \t      &lt;include name=&quot;**/*Test*.java&quot;/&gt;<br/>\n&gt; \t      &lt;exclude name=&quot;**/AllTests.java&quot;/&gt;<br/>\n&gt; \t    &lt;/fileset&gt;<br/>\n&gt; \t  &lt;/batchtest&gt;<br/>\n&gt; \t<br/>\n&gt; \tThe problem with this approach is that tests are run<br/>\n&gt; individually<br/>\n&gt; \twhich makes it impossible to print a summary of the number of<br/>\n&gt; tests<br/>\n&gt; \twhich have failed during the run.<br/>\n&gt; \t<br/>\n&gt; \tIf anyone has other suggestions, please let me know. Here is<br/>\n&gt; context<br/>\n&gt; \tinformation which might be useful:<br/>\n&gt; \t<br/>\n&gt; \tAnt target:<br/>\n&gt; \t<br/>\n&gt; \t  &lt;target name=&quot;run_tests&quot; depends=&quot;init&quot;&gt;<br/>\n&gt; \t    &lt;property name=&quot;testcase&quot;<br/>\n&gt; value=&quot;test.com.sitepak.AllTests&quot;/&gt;<br/>\n&gt; \t    &lt;junit printSummary=&quot;yes&quot; fork=&quot;on&quot;&gt;<br/>\n&gt; \t      &lt;classpath refid=&quot;classpath.run&quot;/&gt;<br/>\n&gt; \t      &lt;jvmarg value=&quot;-Xmx128m&quot;/&gt;<br/>\n&gt; \t      &lt;formatter type=&quot;plain&quot; usefile=&quot;false&quot;/&gt;<br/>\n&gt; \t      &lt;test name=&quot;${testcase}&quot;/&gt;<br/>\n&gt; \t    &lt;/junit&gt;<br/>\n&gt; \t  &lt;/target&gt;<br/>\n&gt; \t<br/>\n&gt; \tVersions:<br/>\n&gt; \t<br/>\n&gt; \t  JUnit 3.8.1<br/>\n&gt; \t  Ant 1.6<br/>\n&gt; \t  Linux 2.4.21<br/>\n<br/>\n </span></blockquote>-- <br/>\nMarc Tardif<br/>\nSitepak<br/>\n(514) 866-8883</div>", 
    "prevInTime": 9878, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1068756724", 
    "canDelete": false, 
    "nextInTopic": 9881, 
    "prevInTopic": 9869, 
    "headers": {
        "inReplyToHeader": "PDA4QUU4ODU5MjA2OTRFNEQ5RDQ4QzREOEMyOTUwOTY3MTExNENEQFVTU1ZTLU1BSUwwMS5hbWVyLmJvcmwubmV0Pg==", 
        "messageIdInHeader": "PDNGQjNFRUY0LjUwNTA1QHNpdGVwYWsuY29tPg==", 
        "referencesHeader": "PDA4QUU4ODU5MjA2OTRFNEQ5RDQ4QzREOEMyOTUwOTY3MTExNENEQFVTU1ZTLU1BSUwwMS5hbWVyLmJvcmwubmV0Pg=="
    }
}