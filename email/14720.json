{
    "numMessagesInTopic": 125, 
    "nextInTime": 14721, 
    "senderId": "ufjL4AlSxjMJVdiRChR-zeQHcQaXcbjAA-mOFaAZL0omNKKQ33h0nTKKZ92iq6Ot33JEARKr7qV8FUlqPDTK5i5u17aVRG8J1QQVlEQyjA", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to test private methods in a class.", 
    "from": "Elliotte Harold &lt;elharo@...&gt;", 
    "authorName": "Elliotte Harold", 
    "msgSnippet": "... One thing strikes me about the arguments for making methods public. They re very much about the I or occasionally the We . In other words, it s about", 
    "msgId": 14720, 
    "topicId": 14490, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 12653864, 
    "messageBody": "<div id=\"ygrps-yiv-1774975910\">Robert Watkins wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I now have a new feature I want to write a test for. I look at the code, <br/>\n&gt; notice that there is a private method that does that work - that&#39;s where <br/>\n&gt; the new code will go. I can write a perfectly adequate test focused on <br/>\n&gt; that private method alone - but I can&#39;t test private methods. So I <br/>\n&gt; refactor to extract the method to an appropriate class (possibly new). I <br/>\n&gt; run existing tests. I then write the test I _really_ want against the <br/>\n&gt; newly exposed public method.<br/>\n<br/>\n </span></blockquote>One thing strikes me about the arguments for making methods public. <br/>\nThey&#39;re very much about the &quot;I&quot; or occasionally the &quot;We&quot;. In other <br/>\nwords, it&#39;s about convenience for the programmer doing the coding and <br/>\nwriting the class library. By their role, this developer sees and needs <br/>\nto see everything in the classes, private and public. Because the class <br/>\nprogrammer&#39;s view of the class includes everything, the public-private <br/>\ndistinction seems fairly unimportant.<br/>\n<br/>\nSwitch gears for a moment though, and consider the &quot;them&quot;. In other <br/>\nwords, think about the client programmer who uses the class but did not <br/>\nwrite it and doesn&#39;t want to write it.  What&#39;s important to them is that <br/>\nthe class do what it promises to do in a straight-forward and obvious <br/>\nway. The more cluttered the class or library is with public methods, the <br/>\nharder it is to understand and use the class. The class user doesn&#39;t <br/>\ncare if the code inside the class repeats itself or not. They don&#39;t care <br/>\nhow difficult it was to test all the private methods. They only care if <br/>\nthe class works in an intelligible way.<br/>\n<br/>\nEvery public method added to a class expands the complexity of the class <br/>\nmore than linearly. Every public class added to a library expands the <br/>\ncomplexity of the library more than linearly. Usable APIs need to place <br/>\nthe needs of the user ahead of the needs of the original developer. <br/>\nSimplicity is golden. Useful, usable APIs do one thing and do it well. <br/>\nThey have a laserlike focus on a particular domain. They are not mere <br/>\nagglomerations of random utilities one programmer developed at one time <br/>\nor another throughout their career. For a practical example, XOM is a <br/>\nlibrary for manipulating XML. Internally it&#39;s got a lot of code for <br/>\nhandling URLs and URIs that was necessary to accomplish various XML <br/>\ntasks. However, none of this code is exposed in the public API because <br/>\nit&#39;s not about processing XML. Furthermore because it&#39;s not exposed it <br/>\ncan take shortcuts and avoid edge conditions a fully general library <br/>\nwould have to handle. It&#39;s faster and simpler because it does just what <br/>\nXOM needs and no more. A fully general URI library wouldn&#39;t have that <br/>\nadvantage.<br/>\n<br/>\nThere&#39;s a real trade-off between making life easy for the developer or <br/>\neasy for the user, even when the user is a fellow developer. As the <br/>\nnumber of users grows relative to the number of developers, the <br/>\ncost-benefit ratio swings very much on the side of people writing the <br/>\nlibrary doing more work so people merely using the library can do less.<br/>\n<br/>\nPackage private access is sometimes a reasonable compromise position. It <br/>\nlets the API-writer reuse their own code without making it public. <br/>\nTaking full advantage of package private in Java 5 and earlier requires <br/>\nnot going overboard on package separation. In particular any sort of <br/>\ninternal package that clients aren&#39;t supposed to touch is a code smell. <br/>\nAlmost always the classes in these packages can and should be moved into <br/>\nnon-public classes in the external packages.<br/>\n<br/>\n-- <br/>\nï»¿Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\nXML in a Nutshell 3rd Edition Just Published!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</a></div>", 
    "prevInTime": 14719, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1126053956", 
    "canDelete": false, 
    "nextInTopic": 14721, 
    "prevInTopic": 14717, 
    "headers": {
        "inReplyToHeader": "PDQzMUUyQjMwLjQwMzAzMDNAdHdhc2luay5uZXQ+", 
        "messageIdInHeader": "PDQzMUUzODQ0LjQwNzAxMDhAbWV0YWxhYi51bmMuZWR1Pg==", 
        "referencesHeader": "PDExMjYwNDA4OTQuMzQyNi43MTcwNi5tNkB5YWhvb2dyb3Vwcy5jb20+IDw0MzFFMkIzMC40MDMwMzAzQHR3YXNpbmsubmV0Pg=="
    }
}