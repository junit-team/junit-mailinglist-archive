{
    "topicId": 5141, 
    "postDate": "1023783349", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Mark Meyers &lt;markm@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "RvsYZB5nYw2mZc_0aUtwzFhsjvIusi8st6u1Dr2SPJF1gTQc5ZiYk6c-FTndqeWlnAPSfDmlBI9sDOuNyUtg8HrRcA_MhUOHr-_9tzMZ", 
    "nextInTime": 5148, 
    "userId": 61568997, 
    "prevInTime": 5146, 
    "prevInTopic": 5141, 
    "headers": {
        "messageIdInHeader": "PEM0NTBEOTY2NjRDQkQzMTE4MkI2MDBBMEM5NzY2OEIxNjQ4MDc5QENBU0UwNTI+"
    }, 
    "authorName": "Mark Meyers", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "The problem is that all user interaction in a swing application, is done in a single event thread . Swing classes are not meant to be thread safe. So if you", 
    "contentTrasformed": false, 
    "msgId": 5147, 
    "nextInTopic": 5150, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;markm@...&gt;\r\nX-Sender: markm@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 11 Jun 2002 08:19:49 -0000\r\nReceived: (qmail 94933 invoked from network); 11 Jun 2002 08:19:49 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m6.grp.scd.yahoo.com with QMQP; 11 Jun 2002 08:19:49 -0000\r\nReceived: from unknown (HELO smtp1.pandora.be) (195.130.132.33)\n  by mta3.grp.scd.yahoo.com with SMTP; 11 Jun 2002 08:19:49 -0000\r\nReceived: (qmail 22813 invoked from network); 11 Jun 2002 08:19:48 -0000\r\nReceived: from unknown (HELO eos.telenet-ops.be) ([195.130.132.40]) (envelope-sender &lt;markm@...&gt;)\n          by hercules.telenet-ops.be (qmail-ldap-1.03) with SMTP\n          for &lt;junit@yahoogroups.com&gt;; 11 Jun 2002 08:19:48 -0000\r\nReceived: from localhost (localhost.localdomain [127.0.0.1])\n\tby eos.telenet-ops.be (Postfix) with SMTP id 19832203AD\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 11 Jun 2002 10:19:48 +0200 (CEST)\r\nReceived: from case052.minervasoftcare.com (D57679D1.kabel.telenet.be [213.118.121.209])\n\tby eos.telenet-ops.be (Postfix) with ESMTP id AC32A1FFF9\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 11 Jun 2002 10:19:42 +0200 (CEST)\r\nReceived: by CASE052 with Internet Mail Service (5.5.2448.0)\n\tid &lt;MWPJ51QD&gt;; Tue, 11 Jun 2002 10:15:50 +0200\r\nMessage-ID: &lt;C450D96664CBD31182B600A0C97668B1648079@CASE052&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Having trouble with junit architecture\r\nDate: Tue, 11 Jun 2002 10:15:49 +0200\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2448.0)\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nFrom: Mark Meyers &lt;markm@...&gt;\r\nX-Yahoo-Group-Post: member; u=61568997\r\n\r\nThe problem is that all user interaction in a swing application, is done in\na single &quot;event thread&quot;. Swing classes are not meant to be thread safe. So\nif you start your tests in your (JUnit&#39;s) main thread, and start actions\nfrom there, the implementation code is run in the &quot;main&quot; thread, and the\nautomatic repaints etc, are run in the default &quot;event thread&quot;.\n\nOne way to overcome that is by using a method of javax.swing.SwingUtilities,\ninvokeAndWait(Runnable). Then the code in the Runnable&#39;s run() method will\nbe executed in the event thread. invokeAndWait(...) is blocking, you\nprobably do not want invokeLater(...) because after the execution you might\nwant to do some asserts ?\nThe problem is that your actual testCode must be wrapped in a Runnable, and\nit is less straight forward.\nMaybe something like:\n\nclass MyTestCase extends TestCase{\n\tpublic static final Object[] NO_ARGS = new Object[0];\n\n\tpublic void testXxx(){\n\t\tnew MyInvoker(&quot;doTestXxx&quot;).doIt();\n\t}\n\tprivate void doTestXxx(){\n\t\t...\n\t\tassertXxx(...);\n\t\t...\n\t}\n\n\tclass MyInvoker implements Runnable{\n\t\tMethod method;\n\t\tMyInvoker(String methodName){\n\t\t\t...\n\t\t\tthis.method = doTestMethod;\n      \t}\n\t\tpublic void run(){\n\t\t\ttestMethod.invoke(MyTestCase.this, NO_ARGS);\n\t\t}\n\t\tpublic void doIt(){\n\t\t\tSwingUtilities.invokeAndWait(MyInvoker.this);\n\t\t}\n\t}\n}\n\nOn the other hand it seems to me the JFCTestCase (from JFCUnit ?) should\nprovide some solution to this threading issue, but I do not know it nor have\nI used it.\nHope this helps a little.\n\nMark\n\n&gt; -----Original Message-----\n&gt; From: thenoodle1974 [mailto:thenoodle1974@...]\n&gt; Subject: [junit] Having trouble with junit architecture\n&gt; \n&gt; \n&gt; I&#39;m using junit to test a swing program. \n&gt; \n&gt; I have written a bunch of helper functions: click this, enter this, \n&gt; find that, etc. I&#39;d like those functions to be available in every \n&gt; test case. Along with that I&#39;d like to only start the application \n&gt; once and run a suite. Then close the application.\n&gt; \n&gt; I&#39;ve made a subclass of JFCTestCase which has those helper functions. \n&gt; One helper function is startApplication. If I run each test \n&gt; individually, there is no problem. A testcase is created, I start the \n&gt; application, it runs. I close the application done.\n&gt; \n&gt; But if I try to separete starting the application I have threading \n&gt; issues. What I&#39;ve tried to do is startApplication, run the suite, \n&gt; then close the application. But each time my sublcass of JFCTestCase \n&gt; is created, a new thread is created by JFCTestCase. This thread is \n&gt; then run separately of the startApplication thread (not good). Does \n&gt; this make sense?\n&gt; \n&gt; My workaround was to create a class that passes in the reference to \n&gt; an object on this thread. Which works fine.\n&gt; \n&gt; So I now:\n&gt; \n&gt; Create MyTestCase (which does not extend JUnit in anyway.) It has \n&gt; it&#39;s own setUpo() and tearDown(). I then pass in a reference to XCase \n&gt; (which extends JUnit), and run the test. But now I&#39;m not really using \n&gt; JUnit at all. It&#39;s like I&#39;m creating my own suite object.\n&gt; \n&gt; Any ideas/help would be greatly appreciated.\n\n", 
    "subject": "RE: [junit] Having trouble with junit architecture"
}