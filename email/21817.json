{
    "numMessagesInTopic": 2, 
    "nextInTime": 21818, 
    "senderId": "wYmUbrWbKmDGlAtTy4dz83N5l-wcX4J1hHPTKFCWKB_l4iG7kHBBJaGZa3VKn417wAqCZLGLpmT8JdPQo3kxHGI0", 
    "systemMessage": false, 
    "subject": "Re: Rules in JUnit 4.7", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Oh, and don t forget the T-shirt: http://www.cafepress.com/3riversinst David Saff", 
    "msgId": 21817, 
    "profile": "dsaff", 
    "topicId": 21816, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1925259888\">Oh, and don&#39;t forget the T-shirt:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafepress.com/3riversinst\">http://www.cafepress.com/3riversinst</a><br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Thu, Jul 16, 2009 at 2:28 PM, David Saff&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:david@...\">david@...</a>&gt; wrote:<br/>\n&gt; All,<br/>\n&gt;<br/>\n&gt; JUnit 4.7 will include a new mechanism for changing the behavior and<br/>\n&gt; interpretation of test methods.  We are calling this feature Rules<br/>\n&gt; (replacing the earlier name Interceptors).  You can download a<br/>\n&gt; snapshot of this release from<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://github.com/KentBeck/junit/downloads.\">http://github.com/KentBeck/junit/downloads.</a>  We are planning no new<br/>\n&gt; feature for this version, and once the tagged bugs are resolved<br/>\n&gt; (<a rel=\"nofollow\" target=\"_blank\" href=\"http://github.com/KentBeck/junit/issues/labels/4.7)\">http://github.com/KentBeck/junit/issues/labels/4.7)</a>, we will issue an<br/>\n&gt; official release candidate, but early feedback is very, very welcome.<br/>\n&gt;<br/>\n&gt; Technical goodies follow.  Thanks,<br/>\n&gt;<br/>\n&gt;   David Saff<br/>\n&gt;<br/>\n&gt; There are already rules you&#39;re probably familiar with from way back in<br/>\n&gt; JUnit 4.0:<br/>\n&gt;<br/>\n&gt; - The fundamental rule of JUnit: a test method is executed on a new<br/>\n&gt; instance of its declaring class.  It passes if and only if it<br/>\n&gt; completes without throwing an exception.<br/>\n&gt; - The Before rule: a @Test method is preceded by all @Before methods<br/>\n&gt; in the same class.<br/>\n&gt; - The After rule: a @Test method is followed by all @After methods in<br/>\n&gt; the same class.<br/>\n&gt; - The timeout= rule: if a @Test annotation has a timeout= property, it<br/>\n&gt; fails if it does not complete in under the given number of<br/>\n&gt; milliseconds<br/>\n&gt; - The expected= rule: if a @Test annotation has an expected= property,<br/>\n&gt; it passes if it throws an exception of the given class name, and fails<br/>\n&gt; otherwise.<br/>\n&gt;<br/>\n&gt; Starting with 4.7, you can add additional rules to methods in a class<br/>\n&gt; by declaring public fields in the class annotated with @Rule.  For<br/>\n&gt; example, here&#39;s a test that uses the TemporaryFolder rule (&quot;All files<br/>\n&gt; created in the temporary folder during the test are deleted after the<br/>\n&gt; test completes.&quot;):<br/>\n&gt;<br/>\n&gt;  public static class HasTempFolder {<br/>\n&gt;    @Rule<br/>\n&gt;    public TemporaryFolder folder= new TemporaryFolder();<br/>\n&gt;<br/>\n&gt;    @Test<br/>\n&gt;    public void testUsingTempFolder() throws IOException {<br/>\n&gt;      File createdFile= folder.newFile(&quot;myfile.txt&quot;);<br/>\n&gt;      File createdFolder= folder.newFolder(&quot;subfolder&quot;);<br/>\n&gt;      // ...<br/>\n&gt;    }<br/>\n&gt;  }<br/>\n&gt;<br/>\n&gt; We&#39;re including implementations of the following Rules:<br/>\n&gt; - TemporaryFolder: delete temp files after test completion<br/>\n&gt; - ExternalResource: reliably set up and tear down an arbitrary external resource<br/>\n&gt; - ErrorCollector: collect multiple assertion failures per test method,<br/>\n&gt; and report all at the end<br/>\n&gt; - Verifier: turn a passing test to failing if an arbitrary condition<br/>\n&gt; is not met (all expected mock-object calls made, no ERROR lines in the<br/>\n&gt; logs)<br/>\n&gt; - TestWatchman: Perform an additional task before and after each test<br/>\n&gt; (a custom log, for example)<br/>\n&gt; - TestName: remember the name of each test method, and make it<br/>\n&gt; available during the test execution.<br/>\n&gt; - Timeout: like the timeout= rule, but applies to all methods in a<br/>\n&gt; class, and can take a run-time value.<br/>\n&gt; - ExpectedException: like the expected= rule, but can check exception<br/>\n&gt; messages, and other arbitrary assertions.<br/>\n&gt;<br/>\n&gt; For more on using these rules, please see the release notes:<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://github.com/dsaff/junit/blob/99a84a542f2ac532a8425fa0a77884902b1c01b0/doc/ReleaseNotes4.7.txt\">http://github.com/dsaff/junit/blob/99a84a542f2ac532a8425fa0a77884902b1c01b0/doc/ReleaseNotes4.7.txt</a><br/>\n&gt;<br/>\n&gt; In addition, you can implement your own Rules by implementing the<br/>\n&gt; MethodRule interface.  Here&#39;s a Rule that marks all tests as passing,<br/>\n&gt; as long as I&#39;m the one running them:<br/>\n&gt;<br/>\n&gt; public class DavidsAlwaysRight implements MethodRule {<br/>\n&gt;        public Statement apply(Statement base, FrameworkMethod method, Object target) {<br/>\n&gt;                if (&quot;saff&quot;.equals(System.getenv(&quot;USER&quot;)))<br/>\n&gt;                        return alwaysSuccess();<br/>\n&gt;                else<br/>\n&gt;                        return base;<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        private Statement alwaysSuccess() {<br/>\n&gt;                return new Statement() {<br/>\n&gt;                        @Override<br/>\n&gt;                        public void evaluate() throws Throwable {<br/>\n&gt;                                // do nothing: always success!<br/>\n&gt;                        }<br/>\n&gt;                };<br/>\n&gt;        }<br/>\n&gt; }<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21816, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1247770742", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21816, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwNzE2MTEyOHM0MjVkYjU5MG9lNzE1MTQ1MjUyZDQ2YTliQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkwNzE2MTE1OWw1Yjk0MGUxZnI5ZTZhOGQyMTRmNDc5ZmViQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDkwNzE2MTEyOHM0MjVkYjU5MG9lNzE1MTQ1MjUyZDQ2YTliQG1haWwuZ21haWwuY29tPg=="
    }
}