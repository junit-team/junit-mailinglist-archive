{
    "numMessagesInTopic": 4, 
    "nextInTime": 18343, 
    "senderId": "vsPbZwNZZy64e7HWKbockHF0PHnsYdZyVClfraX6H3cGEyYWegqSUX5NC2wqx9jyaE1layqEq6dczbnW6NkEPLix6miXiA_h6IpdPS-ralU", 
    "systemMessage": false, 
    "subject": "Re: [junit] When code refuses to be mocked", 
    "from": "&quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;", 
    "authorName": "Lasse Koskela", 
    "msgSnippet": "Hi Wendy, If you look at this snippet from your wiki page, you should be able to see the problem more clearly: // set up the mock UniFile ctrlUniFile =", 
    "msgId": 18342, 
    "rawEmail": "Return-Path: &lt;lasse.koskela@...&gt;\r\nX-Sender: lasse.koskela@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 19424 invoked from network); 13 Nov 2006 06:14:26 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m33.grp.scd.yahoo.com with QMQP; 13 Nov 2006 06:14:26 -0000\r\nReceived: from unknown (HELO nf-out-0910.google.com) (64.233.182.191)\n  by mta4.grp.scd.yahoo.com with SMTP; 13 Nov 2006 06:14:24 -0000\r\nReceived: by nf-out-0910.google.com with SMTP id x37so1808283nfc\n        for &lt;junit@yahoogroups.com&gt;; Sun, 12 Nov 2006 22:13:49 -0800 (PST)\r\nReceived: by 10.48.1.20 with SMTP id 20mr9351644nfa.1163398428245;\n        Sun, 12 Nov 2006 22:13:48 -0800 (PST)\r\nReceived: by 10.49.67.17 with HTTP; Sun, 12 Nov 2006 22:13:48 -0800 (PST)\r\nMessage-ID: &lt;3975e2d10611122213v732f719bw36366bed4d376a12@...&gt;\r\nDate: Mon, 13 Nov 2006 08:13:48 +0200\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;adba96190611121321u22fd4542r6bc3cb98b3d4f187@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;adba96190611121321u22fd4542r6bc3cb98b3d4f187@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Lasse Koskela&quot; &lt;lasse.koskela@...&gt;\r\nSubject: Re: [junit] When code refuses to be mocked\r\nX-Yahoo-Group-Post: member; u=190530936; y=MINh3RM2c6kxugokylDbFg1u3uGugDXmx-CtXM81pz29pesNuiRp\r\nX-Yahoo-Profile: lassekoskela\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nHi Wendy,\n\nIf you look at this snippet from your wiki page, you should be able to see\nthe problem more clearly:\n\n// set up the mock UniFile\nctrlUniFile = MockClassControl.createControl(UniFile.class, null, null);\nmockUniFile = (UniFile) ctrlUniSession.getMock();\n\n// set up the mock UniSession\nctrlUniSession = MockClassControl.createControl(UniSession.class, null, null);\nmockUniSession = (UniSession) ctrlUniSession.getMock();\n\nIn the above snippet, you&#39;re getting the mock instance for both UniFile and\nUniSession classes from the same ctrlUniSession MockControl. You should ask\nthe mockUniFile from ctrlUniFile instead.\n\nLasse\n\nOn 11/12/06, Wendy Smoak &lt;wsmoak@...&gt; wrote:\n&gt;\n&gt;   I&#39;m having trouble testing some code that sits on top of a 3rd party\n&gt; library.\n&gt;\n&gt; Think &quot;Spring JDBC&quot; only instead of JDBC, it&#39;s a proprietary API to an\n&gt; obscure database [1]. I&#39;m coming back to this project after several\n&gt; months, so if I&#39;m not making sense it&#39;s because I&#39;ve forgotten some\n&gt; details. Please point that out and I&#39;ll re-learn and clarify.\n&gt;\n&gt; Where I seem to have gotten stuck is that with EasyMock Class\n&gt; Extension, I tried this:\n&gt;\n&gt; // set up the mock UniFile\n&gt; ctrlUniFile = MockClassControl.createControl(UniFile.class, null, null);\n&gt; mockUniFile = (UniFile) ctrlUniSession.getMock();\n&gt;\n&gt; And I get:\n&gt;\n&gt; net.sf.cglib.core.CodeGenerationException:\n&gt; asjava.uniobjects.UniFileException--&gt;\n&gt; Cannot instantiate this object in this manner. Must use the UniSession\n&gt; object\n&gt;\n&gt; The UniSession object is analogous to a Connection. I&#39;m trying to\n&gt; avoid having to connect to the database to test the &#39;Spring UOJ&#39;\n&gt; framework code. All I need to know is that it called the read method\n&gt; on a UniFile, and got something back.\n&gt;\n&gt; The test class and stack trace are here:\n&gt; http://wiki.wsmoak.net/cgi-bin/wiki.pl?SpringUOJ/Test\n&gt;\n&gt; Any ideas, or do you see anything I&#39;m doing wrong?\n&gt;\n&gt; After this, it looks like I started to write concrete &#39;MockUniSession&#39;\n&gt; and &#39;MockUniFile&#39; classes. Before I continue down that path (or\n&gt; continue wandering aimlessly) I thought I&#39;d ask for help.\n&gt;\n&gt; [1] UniObjects for Java and IBM&#39;s UniData, respectively.\n&gt;\n&gt; Thanks,\n&gt; --\n&gt; Wendy\n&gt;\n&gt;  \n&gt;\n\n\n\n-- \nLasse Koskela\nJavaRanch Publisher Contact\nlasse@...\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "lassekoskela", 
    "topicId": 18341, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190530936, 
    "prevInTime": 18341, 
    "contentTrasformed": false, 
    "postDate": "1163398428", 
    "canDelete": false, 
    "nextInTopic": 18344, 
    "prevInTopic": 18341, 
    "headers": {
        "inReplyToHeader": "PGFkYmE5NjE5MDYxMTEyMTMyMXUyMmZkNDU0MnI2YmMzY2I5OGIzZDRmMTg3QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDM5NzVlMmQxMDYxMTEyMjIxM3Y3MzJmNzE5YnczNjM2NmJlZDRkMzc2YTEyQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGFkYmE5NjE5MDYxMTEyMTMyMXUyMmZkNDU0MnI2YmMzY2I5OGIzZDRmMTg3QG1haWwuZ21haWwuY29tPg=="
    }
}