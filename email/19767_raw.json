{
    "numMessagesInTopic": 6, 
    "nextInTime": 19768, 
    "senderId": "QV65R0MKX-3oNHorvpzESzGxVwW-TqRcMLJ0J-9VDgD0sYWCq2PfFVidb_3WxIERhQ1uCmZ1xZkiUjhYG4LUo_sFqzyj9E-Px0g5Znsz", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Junit 4 and Ant", 
    "from": "&quot;Colin Goudie&quot; &lt;colin.goudie@...&gt;", 
    "authorName": "Colin Goudie", 
    "msgSnippet": "Jan, That is exactly what we do however, not all classes in the test package are tests. There are Mocks, utility classes etc.. As well as Test classes that are", 
    "msgId": 19767, 
    "rawEmail": "Return-Path: &lt;colin.goudie@...&gt;\r\nReceived: (qmail 25477 invoked from network); 21 Aug 2007 06:40:32 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m46.grp.scd.yahoo.com with QMQP; 21 Aug 2007 06:40:32 -0000\r\nReceived: from unknown (HELO n32c.bullet.scd.yahoo.com) (66.94.237.10)\n  by mta14.grp.scd.yahoo.com with SMTP; 21 Aug 2007 06:40:32 -0000\r\nReceived: from [66.218.69.6] by n32.bullet.scd.yahoo.com with NNFMP; 21 Aug 2007 06:39:53 -0000\r\nReceived: from [66.218.66.81] by t6.bullet.scd.yahoo.com with NNFMP; 21 Aug 2007 06:39:53 -0000\r\nX-Sender: colin.goudie@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 58149 invoked from network); 20 Aug 2007 21:56:14 -0000\r\nReceived: from unknown (66.218.66.71)\n  by m48.grp.scd.yahoo.com with QMQP; 20 Aug 2007 21:56:14 -0000\r\nReceived: from unknown (HELO py-out-1112.google.com) (64.233.166.181)\n  by mta13.grp.scd.yahoo.com with SMTP; 20 Aug 2007 21:56:13 -0000\r\nReceived: by py-out-1112.google.com with SMTP id f31so3843252pyh\n        for &lt;junit@yahoogroups.com&gt;; Mon, 20 Aug 2007 14:55:18 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;\n        b=a4m1ZAPLxjEq98Uo5EF4H1xr1oGT+a1dbxRDDdAJ/ir9TAPvXZKOAAArkfjqC4ve72wWF8SXVjI0oubksZY66UJCCKkUEejX1dpDdZbYS+cZSzvj5pf5IH1l161UNs60gcKiarYTgXNx7a+sPpcdUzyCbXF34bU5vkL68ONOoH8=\r\nReceived: by 10.114.197.1 with SMTP id u1mr562656waf.1187646918392;\n        Mon, 20 Aug 2007 14:55:18 -0700 (PDT)\r\nReceived: by 10.114.177.6 with HTTP; Mon, 20 Aug 2007 14:55:13 -0700 (PDT)\r\nMessage-ID: &lt;4114432d0708201455m7d5194cevc408546f69024e58@...&gt;\r\nDate: Tue, 21 Aug 2007 07:55:13 +1000\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;facioa+sp72@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;4f7da6b90708200412ga2b066ek5c6632455c1e8a6d@...&gt;\n\t &lt;facioa+sp72@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Colin Goudie&quot; &lt;colin.goudie@...&gt;\r\nSubject: Re: [junit] Re: Junit 4 and Ant\r\nX-Yahoo-Group-Post: member; u=315126122; y=H76fb8AKTKczqOb0B0rE3n2gq_8t5UtwV1nWj51jTkAiv8RH\r\nX-Yahoo-Profile: gommo.geo\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 21 Aug 2007 06:39:51 -0000\r\n\r\nJan,\n\nThat is exactly what we do however, not all classes in the test package are\ntests. There are Mocks, utility classes etc.. As well as Test classes that\nare annotated with Test-NG. However, junit&#39;s ant task isn&#39;t smart enough to\ndistinguish the difference. I find that pretty horrible! What is the use of\na @Test annotation if it isn&#39;t used?? pretty crazy. Thanks for the help\nthough.\n\nOn 8/21/07, j_cumps &lt;j_cumps@...&gt; wrote:\n&gt;\n&gt;   Gommo,\n&gt;\n&gt; &gt; Is there any way out of the box to make Junit just run the tests\n&gt; that use\n&gt; &gt; org.junit.Test annoations ??\n&gt;\n&gt; What we (and several open source projects) typically do when using\n&gt; JUnit and Ant is:\n&gt; place your source files in a folder called src\n&gt; place your test classes in a folder called tst\n&gt;\n&gt; When running the junit ant task, let it look in the location of your\n&gt; test classes for tests it has to run.\n&gt;\n&gt; Example:\n&gt;\n&gt; sources:\n&gt; src/com/myproject/Foo.java\n&gt; src/com/myproject/Bar.java\n&gt;\n&gt; test sources:\n&gt; tst/com/myproject/FooTest.java\n&gt; tst/com/myproject/BarTest.java\n&gt;\n&gt; compile sources to destination build/bin, and tests to destination\n&gt; build/tst\n&gt;\n&gt; in build.xml:\n&gt;\n&gt; &lt;property name=&quot;build.dir&quot; value=&quot;build&quot;/&gt;\n&gt;\n&gt; &lt;!-- Testing Classpath --&gt;\n&gt; &lt;path id=&quot;junit.classpath&quot;&gt;\n&gt; &lt;pathelement location=&quot;${junit.jar}&quot;/&gt;\n&gt; &lt;pathelement location=&quot;${build.dir}/src&quot;/&gt;\n&gt; &lt;pathelement location=&quot;${build.dir}/tst&quot;/&gt;\n&gt; &lt;/path&gt;\n&gt;\n&gt; compilation part:\n&gt; ...\n&gt;\n&gt; &lt;target name=&quot;build&quot; depends....&quot;&gt;\n&gt; &lt;mkdir dir=&quot;${build.dir}/src&quot;/&gt;\n&gt; &lt;javac srcdir=&quot;src&quot;\n&gt; destdir=&quot;${build.dir}/src&quot;&gt;\n&gt; &lt;/javac&gt;\n&gt; &lt;mkdir dir=&quot;${build.dir}/tst&quot;/&gt;\n&gt; &lt;javac srcdir=&quot;tst&quot;\n&gt; destdir=&quot;${build.dir}/tst&quot; classpathref=&quot;junit.classpath&quot;\n&gt; debug=&quot;true&quot;&gt;\n&gt; &lt;/javac&gt;\n&gt; &lt;/target&gt;\n&gt;\n&gt; ...\n&gt;\n&gt; test part will only pick up your test classes in the tst subdir, and\n&gt; their class name has to contain Test in it.\n&gt;\n&gt; &lt;target name=&quot;test&quot;&gt;\n&gt;\n&gt; &lt;junit ...&gt;\n&gt; &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;\n&gt; &lt;classpath refid=&quot;junit.classpath&quot;/&gt;\n&gt;\n&gt; &lt;batchtest ...&gt;\n&gt; &lt;fileset dir=&quot;tst&quot;&gt;\n&gt; &lt;include name=&quot;**/*Test*.java&quot;/&gt;\n&gt; &lt;/fileset&gt;\n&gt; &lt;/batchtest&gt;\n&gt; &lt;/junit&gt;\n&gt;\n&gt;\n&gt; &lt;/target&gt;\n&gt;\n&gt; Regards, Jan\n&gt;\n&gt; --- In junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt;, &quot;David Saff&quot;\n&gt; &lt;saff@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Gommo,\n&gt; &gt;\n&gt; &gt; I am not an expert user of the junit ant task--I hope that someone\n&gt; &gt; else on this list is, and can provide more insight. You might want\n&gt; to\n&gt; &gt; look at the Johannes&#39; Links ClasspathSuite runner:\n&gt; &gt;\n&gt; &gt; http://johanneslink.net/cpsuite.html\n&gt; &gt;\n&gt; &gt; Using this, you&#39;d point ant at a single suite class, which would\n&gt; &gt; itself indicate the directory in which to search for tests. I&#39;ve\n&gt; &gt; found cpsuite remarkably fast for small-to-medium projects, but\n&gt; can&#39;t\n&gt; &gt; say how it scales to large or very large projects. Thanks,\n&gt; &gt;\n&gt; &gt; David Saff\n&gt; &gt;\n&gt; &gt; On 8/19/07, gommo &lt;colin.goudie@...&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; I&#39;ve been using TestNG for more unit and integration tests.\n&gt; However, I&#39;ve\n&gt; &gt; &gt; found that JUnit 4 and its eclipse plugin works faster and nicer.\n&gt; So I&#39;ve\n&gt; &gt; &gt; decided change all my unit tests to JUnit.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I have a runUnitTests ant target that is used to run (previously)\n&gt; the\n&gt; &gt; &gt; test-ng tests that are marked as &quot;UnitTests&quot;\n&gt; &gt; &gt;\n&gt; &gt; &gt; As a start, I have changed this ant target to run all tests in my\n&gt; tests\n&gt; &gt; &gt; target directory (i.e. using **/*.class)\n&gt; &gt; &gt;\n&gt; &gt; &gt; What I thought would happen was that JUnit would look at these\n&gt; classes, find\n&gt; &gt; &gt; the ones that are marked with the JUnit 4 @Test annotation and\n&gt; run them.\n&gt; &gt; &gt;\n&gt; &gt; &gt; What I&#39;m finding however is that it is attempting to run EVERY\n&gt; class in that\n&gt; &gt; &gt; folder as a test and they are either Test-NG tests or just other\n&gt; utility\n&gt; &gt; &gt; classes. As a result, JUnit is throwing errors\n&gt; &gt; &gt;\n&gt; &gt; &gt; e.g.\n&gt; &gt; &gt; Running au.tributech.tuxedo.beans.entity.PermissionTest$1\n&gt; &gt; &gt; [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed:\n&gt; 0.017 sec\n&gt; &gt; &gt; [junit] Test\n&gt; au.tributech.tuxedo.beans.entity.PermissionTest$1 FAILED\n&gt; &gt; &gt; [junit] Running\n&gt; &gt; &gt;\n&gt; au.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant\n&gt; &gt; &gt; [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed:\n&gt; 0.018 sec\n&gt; &gt; &gt; [junit] Test\n&gt; &gt; &gt;\n&gt; au.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant\n&gt; FAILED\n&gt; &gt; &gt;\n&gt; &gt; &gt; Is there any way out of the box to make Junit just run the tests\n&gt; that use\n&gt; &gt; &gt; org.junit.Test annoations ??\n&gt; &gt; &gt;\n&gt; &gt; &gt; What I have got working (but its slow) is to write a custom ANT\n&gt; selector.\n&gt; &gt; &gt; &lt;batchtest fork=&quot;yes&quot; todir=&quot;${test.report.dir}&quot;&gt;\n&gt; &gt; &gt; &lt;fileset dir=&quot;${test.fixtures.dir}&quot; includes=&quot;**/*.class&quot;&gt;\n&gt; &gt; &gt; &lt;custom classname=&quot;au.tributech.ant.JUnit4Selector&quot;\n&gt; &gt; &gt; classpathref=&quot;project.test.run.classpath&quot;/&gt;\n&gt; &gt; &gt; &lt;/fileset&gt;\n&gt; &gt; &gt; &lt;/batchtest&gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; The JUnit4Selector class I wrote simply reads in each file\n&gt; processed and\n&gt; &gt; &gt; uses ASM-3.0 to look for JUnit4 annotations (@Test, @RunsWith\n&gt; etc..). If\n&gt; &gt; &gt; they exist it processes that file otherwise skips it.\n&gt; &gt; &gt;\n&gt; &gt; &gt; This works but it is pretty slow and I can see it being painfully\n&gt; slow when\n&gt; &gt; &gt; there are hundreds of unit tests.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Surely I&#39;m missing something here and JUnit&#39;s ANT task is smarter\n&gt; than what\n&gt; &gt; &gt; it is appearing. I don&#39;t want to have to specify EVERY unit test\n&gt; when I add\n&gt; &gt; &gt; them. That is just a maintenance nightmare.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Thanks for any pointers\n&gt; &gt; &gt; --\n&gt; &gt; &gt; View this message in context: http://www.nabble.com/Junit-4-and-\n&gt; Ant-tf4289986.html#a12212626\n&gt; &gt; &gt; Sent from the JUnit - User mailing list archive at Nabble.com.\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt;\n&gt;  \n&gt;\n\n\n\n-- \nColin Goudie (B.CompSci,B.Eng Comp)\nTributech\nMB: 0412 014 851\nwww.tributech.com.au\nPO Box 380 Cardiff NSW 2285 Australia\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "gommo.geo", 
    "topicId": 19756, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 315126122, 
    "prevInTime": 19766, 
    "contentTrasformed": false, 
    "postDate": "1187646913", 
    "canDelete": false, 
    "nextInTopic": 19775, 
    "prevInTopic": 19763, 
    "headers": {
        "inReplyToHeader": "PGZhY2lvYStzcDcyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQxMTQ0MzJkMDcwODIwMTQ1NW03ZDUxOTRjZXZjNDA4NTQ2ZjY5MDI0ZTU4QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDcwODIwMDQxMmdhMmIwNjZlazVjNjYzMjQ1NWMxZThhNmRAbWFpbC5nbWFpbC5jb20+CSA8ZmFjaW9hK3NwNzJAZUdyb3Vwcy5jb20+"
    }
}