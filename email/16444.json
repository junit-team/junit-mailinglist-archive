{
    "numMessagesInTopic": 4, 
    "nextInTime": 16445, 
    "senderId": "qtwfW3WIGVXmtJx-v4rqXIvFSqImhXMPiRHrZKey6lB2nu8-T9VL45KqBfo35BNGNPSqMkc3yamaSO8UBHdgNk03pFHEX-MFGYM", 
    "systemMessage": false, 
    "subject": "Testing methods that implement factory pattern.", 
    "from": "Kamal Ahmed &lt;KAhmed@...&gt;", 
    "authorName": "Kamal Ahmed", 
    "msgSnippet": "Hi, I need some help here. I am testing a class WmJournalLogger . method under test: public final void log(Level inLevel, String inKey, Object inParam) { ", 
    "msgId": 16444, 
    "topicId": 16444, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 253370470, 
    "messageBody": "<div id=\"ygrps-yiv-1256548350\">Hi,<br/>\n<br/>\n <br/>\n<br/>\nI need some help here. <br/>\n<br/>\nI am testing a class &quot;WmJournalLogger&quot;. <br/>\n<br/>\n <br/>\n<br/>\nmethod under test: <br/>\n<br/>\n <br/>\n<br/>\npublic final void log(Level inLevel, String inKey, Object inParam) {<br/>\n<br/>\n <br/>\n<br/>\n        GlobalizedEvent event = _eventFactory.create(_bundleName, inKey,<br/>\n<br/>\n <br/>\n<br/>\n                inParam, getComponentId(), getSubcomponentId());<br/>\n<br/>\n <br/>\n<br/>\n        log(inLevel, event);<br/>\n<br/>\n <br/>\n<br/>\n    }<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\nNow as far as I understand:<br/>\n<br/>\nWhen we instantiate WmJournalLogger, and then call the log method with the<br/>\nparameters declared above, a globalized event is created using <br/>\n<br/>\nGlobalizedEventFactory instance.<br/>\n<br/>\nNow since this is a Factory pattern, hence beased on the parameters passed<br/>\nto the log() method, namely  log(Level inLevel, String inKey, Object<br/>\ninParam)<br/>\n<br/>\nThe create method :<br/>\n<br/>\n <br/>\n<br/>\n= _eventFactory.create(_bundleName, inKey,<br/>\n<br/>\n <br/>\n<br/>\n                inParam, getComponentId(), getSubcomponentId());<br/>\n<br/>\n <br/>\n<br/>\nis called, and generates the correct event.<br/>\n<br/>\nAnd following that , a log gets called with Level and event field.<br/>\n<br/>\nNow I am trying to figure out, how could I test this log method, Maybe:<br/>\n<br/>\n <br/>\n<br/>\nCreate a new WmJournalLogger <br/>\n<br/>\ncall (Level inLevel, String inKey, Object inParam) <br/>\n<br/>\nsomehow verify that a new GlobalizedEvent is created <br/>\n<br/>\nlog(inLevel, event); is called, which calls, log(Level inLevel,<br/>\nGlobalizedEvent inEvent), and eventually logger.log(inLevel, inEvent) <br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\nNow, My test method: (and this is where I need your help)<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\npublic void testlogLevelKeyParam() {<br/>\n<br/>\n <br/>\n<br/>\n                   subjectConsoleAppender = new ConsoleAppender();<br/>\n<br/>\n <br/>\n<br/>\n                   LoggerContext ctx = LoggerContext.getInstance();<br/>\n<br/>\n <br/>\n<br/>\n                   ProxyWmJournalLogger wml = new ProxyWmJournalLogger(ctx,<br/>\n_bundleName,<br/>\n<br/>\n <br/>\n<br/>\n                                      COMPONENT_ID, SUB_COMPONENT_ID);<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n                   subjectConsoleAppender.activateOptions();<br/>\n<br/>\n <br/>\n<br/>\n                   wml.log(Level.ERROR, LoggerContext.SOURCE_ID_PROP_KEY,<br/>\nMSG_PARAM_SET_A);<br/>\n<br/>\n <br/>\n<br/>\n                   wml.setLevel(Level.DEBUG);<br/>\n<br/>\n <br/>\n<br/>\n                   assertEquals(Level.DEBUG, wml.getLevel());<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\n          }<br/>\n<br/>\nSo I create a WmJournalLogger, then I need to call the appropriate log<br/>\nmethod:<br/>\n<br/>\nwml.log(Level.ERROR, LoggerContext.SOURCE_ID_PROP_KEY, MSG_PARAM_SET_A);<br/>\n<br/>\n <br/>\n<br/>\nnow I need to verify:<br/>\n<br/>\n <br/>\n<br/>\ncreation of a new GlobalizedEvent <br/>\n<br/>\n_logger.log(inLevel, inEvent); <br/>\n<br/>\n <br/>\n<br/>\nI am not sure how I would do this.<br/>\n<br/>\nCould you please give me some clue.<br/>\n<br/>\n <br/>\n<br/>\nThanks,<br/>\n<br/>\n <br/>\n<br/>\n-Kamal.<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 16443, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1144094622", 
    "canDelete": false, 
    "nextInTopic": 16447, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDVCMTBFNTBFMTRBNDU5NEVCMUI1NTY2QjY5QUQ5NDA3MEQ2OTEyMTJAbWFpbGVhc3Q+"
    }
}