{
    "topicId": 2070, 
    "postDate": "996121596", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Jeff Langr &lt;JLangr@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "oBhY2m9cN8Vfm3eGPi80sNvIEEvDtvsu6Mjm-ClHoQfda1TMr_WgNWR06vuyfn8n8436Zy6TLS1dp1AEo6xBRIsQpCGnT_dCxwRz", 
    "nextInTime": 2114, 
    "userId": 0, 
    "prevInTime": 2112, 
    "prevInTopic": 2104, 
    "headers": {
        "messageIdInHeader": "PEFGMDc3NzZEQjVEMUQyMTFCQzA3MDBBMEM5RTkyMzdGNUMwMTc2QG9iamVjbWVudG9yLmNvbT4="
    }, 
    "authorName": "Jeff Langr", 
    "numMessagesInTopic": 8, 
    "msgSnippet": "I agree with Mr. Duffy and would like to add my thoughts. Your test cases represent controlled contexts that you create.  You need to not only test all the", 
    "contentTrasformed": false, 
    "msgId": 2113, 
    "nextInTopic": 2115, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;jlangr@...&gt;\r\nX-Sender: jlangr@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 26 Jul 2001 04:22:38 -0000\r\nReceived: (qmail 8750 invoked from network); 26 Jul 2001 04:22:37 -0000\r\nReceived: from unknown (10.1.10.27) by l8.egroups.com with QMQP; 26 Jul 2001 04:22:37 -0000\r\nReceived: from unknown (HELO objectmentor.objectmentor.com) (65.194.52.68) by mta2 with SMTP; 26 Jul 2001 04:22:37 -0000\r\nReceived: by objecmentor.com with Internet Mail Service (5.5.2653.19) id &lt;P3FW121J&gt;; Wed, 25 Jul 2001 23:26:40 -0500\r\nMessage-ID: &lt;AF07776DB5D1D211BC0700A0C9E9237F5C0176@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Re: Errors and Exceptions\r\nDate: Wed, 25 Jul 2001 23:26:36 -0500\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nFrom: Jeff Langr &lt;JLangr@...&gt;\r\n\r\nI agree with Mr. Duffy and would like to add my thoughts.\n\nYour test cases represent controlled contexts that you create.  You need to\nnot only test all the &quot;happy path&quot; scenarios -- the ones where you expect no\nexceptions should be thrown -- but as well test the scenarios where you\n*expect* exceptions to be thrown. For example:\n\npublic void testTooManyPlayersOnField() {\n\tField field = new Field();\n\tfor (int i = 0; i &lt; 11; i++)\n\t\tfield.addPlayer();\n\ttry {\n\t\tfield.addPlayer();\n\t\tfail(&quot;should have thrown exception...&quot;);\n\t}\n\tcatch (TooManyPlayersException e) {\n\t\tassertTrue(true);  // ugh.  &quot;pass()&quot; would be nice\n\t}\n}\n\nFor the happy path tests, I don&#39;t care what exception is thrown -- it should\nnever happen under normal circumstances. (If it does, something&#39;s seriously\nwrong anyway, and JUnit will still catch it.)  So I just declare that my\ntest &quot;throws Exception&quot; where I have to (and use finally clauses when I need\nto).  That&#39;s the simplest thing that&#39;ll work in the light of Java&#39;s\ninsistence that you deal with the potential for an exception.  \n\nUsing throws on test methods is fine as long as you document how to deal\nwith all possible inappropriate things that *can* happen.  This\ndocumentation is through other tests that force and demonstrate these\ninappropriate things.  The nice part about this approach is that it pushes\ndevelopers to learn how to treat exceptions early on.  Kind of like ensuring\nthat you can actually restore from your backup tapes before you actually\nhave to.  Most non-XP code I&#39;ve seen does a poor job of organizing\nexceptions.  \n\nJeff L.\nObject Mentor, Inc.\n\n&gt; -----Original Message-----\n&gt; From: Mike Duffy [mailto:mduffy_lists@...]\n&gt; Sent: Wednesday, July 25, 2001 9:44 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Re: Errors and Exceptions\n&gt; \n&gt; \n&gt; I do see your point.  In general, I think that using &quot;throws\n&gt; Exception&quot; is bad coding.\n&gt; \n&gt; However, from the standpoint of maintaining a testing framework,\n&gt; using &quot;throws Exception&quot; might be acceptable.  When writing a test\n&gt; method the goal is to test a specific condition.  You can minimize\n&gt; your work and maintenance by letting the JUint framework handle the\n&gt; things that go wrong (catching exceptions and generating errors).\n&gt; \n&gt; If you have twenty test methods that test the method &quot;aMethod&quot; and\n&gt; each of these methods has a throws clause identical to the throws\n&gt; clause in aMethod, whenever the throws clause for aMethod changes you\n&gt; have twenty test methods to revise.  If each of your test methods\n&gt; &quot;throws Exception&quot;, a change in the throws clause of aMethod does not\n&gt; affect your test methods.\n&gt; \n&gt; Mike\n&gt; \n&gt; \n&gt; \n&gt; --- dfw1@... wrote:\n&gt; &gt; --- In junit@y..., Mike Duffy &lt;mduffy_lists@y...&gt; wrote:\n&gt; &gt; &gt; I have only been using JUnit for a few months and I am focusing\n&gt; &gt; on\n&gt; &gt; &gt; creating &quot;best practices&quot; templates for our development team.\n&gt; &gt; &gt; \n&gt; &gt; &gt; I would greatly appreciate the insight of more experienced users\n&gt; &gt; on\n&gt; &gt; &gt; the following issue.\n&gt; &gt; &gt; \n&gt; &gt; &gt; Because an exception caught by the JUnit framework is an error,\n&gt; &gt; when\n&gt; &gt; &gt; testing a method that throws exceptions, it is best to include\n&gt; &gt; those\n&gt; &gt; &gt; exceptions in the throws clause of the test method (or even add a\n&gt; &gt; &gt; &quot;throws Exception&quot; to most test methods).  \n&gt; &gt; \n&gt; &gt; Hi Mike,\n&gt; &gt; \n&gt; &gt; My team at a previous job tried just adding &quot;throws Exception&quot; to\n&gt; &gt; all\n&gt; &gt; our test method footprints. The problem we hit was that other\n&gt; &gt; developers down the line would use our test code as example code\n&gt; &gt; when\n&gt; &gt; they reused the code we were testing. (Unit test code makes poor\n&gt; &gt; example code in so many ways, but was consistenty what the\n&gt; &gt; developers\n&gt; &gt; down line tried to use. That continued even when we provided\n&gt; &gt; example\n&gt; &gt; code.)\n&gt; &gt; \n&gt; &gt; I found it much better to list out all the exceptions that a test\n&gt; &gt; could possibly throw in the throws clause. It adds a tiny amount of\n&gt; &gt; overhead to writing the test code, but adds greatly to the\n&gt; &gt; awareness\n&gt; &gt; of just what can go wrong. Otherwise, people who use your code down\n&gt; &gt; line are likely to include &quot;throws Exception&quot; (or worse,\n&gt; &gt; catch(Exception ex)) in everything that uses your code. Also, it\n&gt; &gt; will\n&gt; &gt; tip you off to changes in the throws clauses in your code at\n&gt; &gt; compile\n&gt; &gt; time.\n&gt; &gt; \n&gt; &gt; Since then, I&#39;ve added a patch to junit that adds a fail(Exception)\n&gt; &gt; method to Assert. See\n&gt; &gt;\n&gt; http://sourceforge.net/tracker/index.php?func=detail&aid=43569\n&gt; 9&group_id=15278&atid=315278\n&gt; &gt; (I feel like I&#39;m plugging a book in a talk show interview. :) )\n&gt; &gt; \n&gt; &gt; I personally prefer having try-catch-finally blocks in my tests,\n&gt; &gt; and\n&gt; &gt; this patch lets me do it. That reserves junit errors for\n&gt; &gt; RuntimeExceptions and Errors, and still gives me a full stack\n&gt; &gt; trace. \n&gt; &gt; \n&gt; &gt; Not everyone will want to run a patched junit 3.7, so listing out\n&gt; &gt; each\n&gt; &gt; exception seems a reasonable technique.\n&gt; &gt; \n&gt; &gt; &gt; public void testMethod() throws Exception {\n&gt; &gt; &gt; \n&gt; &gt; &gt;     returnValue = methodCall(args);\n&gt; &gt; &gt; \n&gt; &gt; &gt;     assertTrue(some condition);\n&gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; The following template would be less correct:\n&gt; &gt; &gt; \n&gt; &gt; &gt; public void testMethod() {\n&gt; &gt; &gt; \n&gt; &gt; &gt;     try {\n&gt; &gt; &gt;         returnValue = methodCall(args);\n&gt; &gt; &gt; \n&gt; &gt; &gt;     } catch (Exception e){\n&gt; &gt; &gt; \n&gt; &gt; &gt;         fail(&quot;Exception should not be thrown: &quot; + e);\n&gt; &gt; &gt;     }\n&gt; &gt; &gt;      \n&gt; &gt; &gt;     assertTrue(some condition);\n&gt; &gt; &gt; }\n&gt; &gt; \n&gt; &gt; Don&#39;t forget that your assertTrue(some condition); can also throw\n&gt; &gt; exceptions, so these two blocks are not interchangable.\n&gt; &gt; \n&gt; &gt; I prefer\n&gt; &gt; \n&gt; &gt; public void testMethod() throws SomeExceptionThatMethodCallThrows\n&gt; &gt; {\n&gt; &gt; \ttry\n&gt; &gt; \t{\n&gt; &gt; \t\treturnValue = methodCall(args);\n&gt; &gt; \t\tassertTrue(some condition);\n&gt; &gt; \t}\n&gt; &gt; \tfinally\n&gt; &gt; \t{\n&gt; &gt; \t\t//any code to clean up the mess\n&gt; &gt; \t}\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; or (even better)\n&gt; &gt; \n&gt; &gt; public void testMethod()\n&gt; &gt; {\n&gt; &gt; \ttry\n&gt; &gt; \t{\n&gt; &gt; \t\treturnValue = methodCall(args);\n&gt; &gt; \t\tassertTrue(some condition);\n&gt; &gt; \t}\n&gt; &gt; \tcatch(SomeExceptionThatMethodCallThrows setmct)\n&gt; &gt; \t{\n&gt; &gt; \t\tfail(setmct);\n&gt; &gt; \t}\n&gt; &gt; \tfinally\n&gt; &gt; \t{\n&gt; &gt; \t\t//any code to clean up the mess\n&gt; &gt; \t}\n&gt; &gt; }\n&gt; &gt; \n&gt; &gt; &gt; In general, test methods should be very lean and focus\n&gt; &gt; specifically\n&gt; &gt; &gt; on the condition being tested; let the framework handle the rest.\n&gt; &gt; \n&gt; &gt; so long as the code is easy to read, and encourages good practices\n&gt; &gt; down the line. I discourage &quot;throws Exception&quot;s anywhere I see\n&gt; &gt; them.\n&gt; &gt; \n&gt; &gt; Anyway, that&#39;s how I do it. Others take different approaches, and\n&gt; &gt; have\n&gt; &gt; reasons for it.\n&gt; &gt; \n&gt; &gt; Dave\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; \n&gt; \n&gt; __________________________________________________\n&gt; Do You Yahoo!?\n&gt; Make international calls for as low as $.04/minute with \n&gt; Yahoo! Messenger\n&gt; http://phonecard.yahoo.com/\n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor \n&gt; ---------------------~--&gt;\n&gt; Small business owners...\n&gt; Tell us what you think! \n&gt; http://promo2.yahoo.com/sbin/Yahoo!_BusinessNewsletter/survey.cgi\n&gt; http://us.click.yahoo.com/vO1FAB/txzCAA/ySSFAA/NhFolB/TM\n&gt; --------------------------------------------------------------\n&gt; -------~-&gt;\n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to \n&gt; http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n\n", 
    "subject": "RE: [junit] Re: Errors and Exceptions"
}