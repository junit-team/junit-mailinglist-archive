{
    "numMessagesInTopic": 20, 
    "nextInTime": 23700, 
    "senderId": "3SnyHh5xe2MmRFh2LWzwDq4u1m6RNIZtd_1ALVq_KDAtgKOmmzVPOIgeCguBrQ1ngFiw5Om-t6OZogOh7mQtpe0X5Os", 
    "systemMessage": false, 
    "subject": "Re: [junit] UI tests in Eclipse on MAC", 
    "from": "Dale Emery &lt;dale@...&gt;", 
    "authorName": "Dale Emery", 
    "msgSnippet": "Hi Shaun, You re calling methods that are described as not threadsafe. That is, while your method is running on one thread, some other thread (the Swing", 
    "msgId": 23699, 
    "rawEmail": "Return-Path: &lt;dale@...&gt;\r\nReceived: (qmail 49256 invoked by uid 7800); 23 Sep 2011 20:13:40 -0000\r\nX-Sender: dale@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 70142 invoked from network); 23 Sep 2011 18:39:02 -0000\r\nX-Received: from unknown (98.137.35.162)\n  by m9.grp.sp2.yahoo.com with QMQP; 23 Sep 2011 18:39:02 -0000\r\nX-Received: from unknown (HELO mail-pz0-f43.google.com) (209.85.210.43)\n  by mta6.grp.sp2.yahoo.com with SMTP; 23 Sep 2011 18:39:01 -0000\r\nX-Received: by pzd13 with SMTP id 13so8234623pzd.2\n        for &lt;junit@yahoogroups.com&gt;; Fri, 23 Sep 2011 11:39:01 -0700 (PDT)\r\nX-Received: by 10.68.22.105 with SMTP id c9mr11465034pbf.88.1316802906044;\n        Fri, 23 Sep 2011 11:35:06 -0700 (PDT)\r\nX-Received: from [192.168.0.199] (033.132-78-65.ftth.swbr.surewest.net. [65.78.132.33])\n        by mx.google.com with ESMTPS id 2sm25105598pbu.1.2011.09.23.11.35.04\n        (version=TLSv1/SSLv3 cipher=OTHER);\n        Fri, 23 Sep 2011 11:35:04 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v1244.3)\r\nDate: Fri, 23 Sep 2011 11:35:02 -0700\r\nIn-Reply-To: &lt;j5ifj9+mqgp@...&gt;\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;j5ifj9+mqgp@...&gt;\r\nMessage-Id: &lt;6FFA048C-4237-4D9D-8957-AB7808D0C4B4@...&gt;\r\nX-Mailer: Apple Mail (2.1244.3)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Dale Emery &lt;dale@...&gt;\r\nSubject: Re: [junit] UI tests in Eclipse on MAC\r\nX-Yahoo-Group-Post: member; u=5352550; y=xwB2tdTpLfbYOgzHy650OL8s-4_M9J2iFOxoHhjsWqbsxcZS4IH3kOJbu9Q\r\nX-Yahoo-Profile: dhemery@...\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via email; 23 Sep 2011 20:13:40 -0000\r\n\r\nHi Shaun,\n\nYou&#39;re calling methods that are described as not threadsafe. Tha=\r\nt is, while your method is running on one thread, some other thread (the Sw=\r\ning &quot;event&quot; thread) might come along and fiddle with the same component you=\r\n&#39;re fiddling with.\n\nI wonder if that&#39;s part of the problem. If it is, the w=\r\nay to solve the problem is to invoke the non-threadsafe methods via SwingUt=\r\nilities.invokeLater() or SwingUtilities.invokeAndWait().\nhttp://download.or=\r\nacle.com/javase/6/docs/api/javax/swing/SwingUtilities.html#invokeLater(java=\r\n.lang.Runnable)\n\nDale\n\nOn Sep 23, 2011, at 10:28 AM, shca08_junit wrote:\n\n&gt;=\r\n \n&gt; Mac OS 10.6.8\n&gt; Eclipse Helios\n&gt; JDK 1.6_26\n&gt; \n&gt; import java.awt.AWTExc=\r\neption;\n&gt; import java.awt.Robot;\n&gt; import java.awt.event.ActionEvent;\n&gt; imp=\r\nort java.awt.event.ActionListener;\n&gt; import java.awt.event.InputEvent;\n&gt; \n&gt;=\r\n import javax.swing.JButton;\n&gt; import javax.swing.JFrame;\n&gt; import javax.sw=\r\ning.JOptionPane;\n&gt; \n&gt; import junit.framework.TestCase;\n&gt; \n&gt; public class Fr=\r\nameTest extends TestCase\n&gt; {\n&gt; JFrame frame;\n&gt; \n&gt; @Override\n&gt; public void s=\r\netUp()\n&gt; {\n&gt; frame =3D new JFrame();\n&gt; frame.setDefaultCloseOperation(JFram=\r\ne.EXIT_ON_CLOSE);\n&gt; JButton btn =3D new JButton(&quot;click&quot;);\n&gt; btn.addActionLi=\r\nstener(new ActionListener()\n&gt; {\n&gt; @Override\n&gt; public void actionPerformed(A=\r\nctionEvent e)\n&gt; {\n&gt; JOptionPane.showMessageDialog(frame, &quot;Hello&quot;);\n&gt; }\n&gt; })=\r\n;\n&gt; frame.add(btn);\n&gt; frame.pack();\n&gt; }\n&gt; \n&gt; public void testShowFrame() th=\r\nrows AWTException\n&gt; {\n&gt; frame.setVisible(true);\n&gt; frame.setExtendedState(JF=\r\nrame.ICONIFIED);\n&gt; frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n&gt; Robot r=\r\nobot =3D new Robot();\n&gt; robot.delay(2000);\n&gt; robot.mouseMove(500, 500);\n&gt; r=\r\nobot.delay(2000);\n&gt; robot.mousePress(InputEvent.BUTTON1_MASK);\n&gt; robot.mous=\r\neRelease(InputEvent.BUTTON1_MASK);\n&gt; robot.delay(2000);\n&gt; }\n&gt; }\n&gt; \n&gt; If you=\r\n add a main() method and run as an App, it works. If you run it as a JUnit =\r\ntestcase, it works. But if you run it as a plugin test (which requires it t=\r\no be in a plugin project) using the default args, it always fails (in diff =\r\nways). Removing the args and any unnecessary plugins gets it mostly working=\r\n. However, a couple other things don&#39;t always work - like trying to select =\r\nsubmenus.\n&gt; \n&gt; --- In junit@yahoogroups.com, Marc Philipp &lt;mphilipp82@...&gt; =\r\nwrote:\n&gt; &gt;\n&gt; &gt; Can you please provide a minimal non-working example?\n&gt; &gt; \n&gt;=\r\n &gt; Am 22.09.2011 um 17:12 schrieb shca08_junit &lt;jacsmit09@...&gt;:\n&gt; &gt; \n&gt; &gt; \n&gt;=\r\n &gt; \n&gt; &gt; \n&gt; &gt; Hi Marc,\n&gt; &gt; \n&gt; &gt; Our app uses OSGi - so the different compone=\r\nnts are plugins. The only way to\n&gt; &gt; test it is to use JUnit plugin tests.\n=\r\n&gt; &gt; \n&gt; &gt; --- In junit@yahoogroups.com, Marc Philipp &lt;mphilipp82@&gt; wrote:\n&gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; Shaun,\n&gt; &gt; &gt;\n&gt; &gt; &gt; since you seem to be using FEST you must be us=\r\ning Swing not SWT, right?\n&gt; &gt; Why would you want to run such a test as a JU=\r\nnit plugin test?\n&gt; &gt; &gt;\n&gt; &gt; &gt; Marc\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Am 15.09.2011 um 16:58 =\r\nschrieb shca08_junit:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Hi Dale,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Thanks=\r\n for your reply. Ok so I wrote a simple test that shows a JFrame\n&gt; &gt; and us=\r\nes Java Robot to click on it. Works fine run in Eclipse on Mac as an\n&gt; &gt; ap=\r\nplication or JUnit test but fails when run as JUnit plugin test. Frame\n&gt; &gt; =\r\nwould show 1 out of 5 or so times. Removing all unneeded plugins resulted i=\r\nn\n&gt; &gt; frame always being shown but the click never seems to happen.\n&gt; &gt; &gt; &gt;=\r\n\n&gt; &gt; &gt; &gt; I also tried Window Licker and the included Calculator test(s) - s=\r\name\n&gt; &gt; thing... runs as a JUnit Test but fails as a JUnit Plugin Test. One=\r\n time the\n&gt; &gt; frame was shown, but nothing happened (so the test failed). T=\r\nhe other times,\n&gt; &gt; the frame didn&#39;t even show. Tried removing all VM args =\r\nand unnecessary\n&gt; &gt; plugins.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Is this related to the args th=\r\nat Eclipse uses to run plugin tests on\n&gt; &gt; Mac? Or the core plugins include=\r\nd to run the tests? Or...?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Shaun.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --- In ju=\r\nnit@yahoogroups.com, Dale Emery &lt;dale@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Hi whoev=\r\ner you are,\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; Hi - thanks for your reply. I&#39;m actually =\r\nusing Alex Ruiz&#39;s FEST for\n&gt; &gt; our testing and it works quite well on Windo=\r\nws. With or without FEST on the\n&gt; &gt; Mac, I can&#39;t seem to get any UI tests t=\r\no run. The initial frame/window comes\n&gt; &gt; up in some cases but I can&#39;t do m=\r\nuch more than that. When running JUnit\n&gt; &gt; tests (again with or without FES=\r\nT), I don&#39;t even see the frame.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; I&#39;ve gone through w=\r\nhat docs there are for FEST and have read the\n&gt; &gt; blog/article but I can&#39;t =\r\nfigure it out.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; I&#39;ve used FEST to test Swing c=\r\node on a toy project:\n&gt; &gt; &gt; &gt; &gt; https://github.com/dhemery/towers.dead\n&gt; &gt; =\r\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Later I restarted the project and used WindowLicker instead=\r\n:\n&gt; &gt; &gt; &gt; &gt; https://github.com/dhemery/Towers\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; It&#39;s been=\r\n a while since I visited either project, but I think the\n&gt; &gt; (few) UI tests=\r\n run. Neither version of the code does much, so there aren&#39;t\n&gt; &gt; many UI te=\r\nsts. The older one (which uses FEST) has more features and tests.\n&gt; &gt; &gt; &gt; &gt;=\r\n\n&gt; &gt; &gt; &gt; &gt; I wrote all of this code on Macs running Snow Leopard and Eclips=\r\ne\n&gt; &gt; Ganymede. I haven&#39;t tried it on Lion or Helios.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; D=\r\nale\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; --\n&gt; &gt; &gt; &gt; &gt; Dale Emery\n&gt; &gt; &gt; &gt; &gt; Consultant to sof=\r\ntware teams and leaders\n&gt; &gt; &gt; &gt; &gt; http://dhemery.com\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; =\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; [Non-text portions of this message have been re=\r\nmoved]\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text portions=\r\n of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-text=\r\n portions of this message have been removed]\n&gt; &gt;\n&gt; \n&gt; \n\n--\nDale Emery\nConsu=\r\nltant to software teams and leaders\nhttp://dhemery.com\n\n\n\n\n[Non-text portio=\r\nns of this message have been removed]\n\n\n", 
    "profile": "dhemery@ymail.com", 
    "topicId": 23594, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 5352550, 
    "prevInTime": 23698, 
    "contentTrasformed": false, 
    "postDate": "1316802902", 
    "canDelete": false, 
    "nextInTopic": 23700, 
    "prevInTopic": 23698, 
    "headers": {
        "inReplyToHeader": "PGo1aWZqOSttcWdwQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDZGRkEwNDhDLTQyMzctNEQ5RC04OTU3LUFCNzgwOEQwQzRCNEBkaGVtZXJ5LmNvbT4=", 
        "referencesHeader": "PGo1aWZqOSttcWdwQGVHcm91cHMuY29tPg=="
    }
}