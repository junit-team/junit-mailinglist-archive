{
    "numMessagesInTopic": 2, 
    "nextInTime": 12511, 
    "senderId": "JTFjjP1_mEi3HcvL4Zr9ptpcryrLWSzpz7O706MrTdwe36YqVaj9HfHWikh8jJvmMzWPq04KIbdd77tMZSGtoCg6ShKtO5tenfAXWXBRpw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Regarding forking a new vm and forkmode", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... If you need tests to run in separate class loaders or separate VMs, because of reliance on global data of any kind, then you can fork per test. Any", 
    "msgId": 12510, 
    "profile": "nails762", 
    "topicId": 12508, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-174029148\">buatapa2004 wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; <br/>\n&gt; What are the benefits/downfalls of having a new vm for each test vs<br/>\n&gt; one vm for all tests (other than speed)? Some people recommended to<br/>\n&gt; have a new vm for each test so that a tested class does not depends<br/>\n&gt; on the ant environment, what does that actually mean? Can someone<br/>\n&gt; pleas explain? I recently changed the forkmode=&quot;once&quot; in my ant and<br/>\n&gt; hope that it would speed up the build, but somehow a few UTs got<br/>\n&gt; NullPointerExceptions on certain objects when they are not supposed<br/>\n&gt; to. And it seems like it has something to do with delegation. Can<br/>\n&gt; someone help me clarify this?<br/>\n<br/>\n </span></blockquote>If you need tests to run in separate class loaders or separate VMs, <br/>\nbecause of reliance on global data of any kind, then you can fork per <br/>\ntest. Any singletons that your tests try to reinitialize might not <br/>\nproperly work if you run all tests in the same VM.<br/>\n<br/>\nThat said, if your tests can&#39;t run in the same VM, then you might have a <br/>\ndesign problem (reliance on global data) that you should try to solve. <br/>\nWell-isolated tests, for the most part, don&#39;t need to reload classes to <br/>\nwork.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing</div>", 
    "prevInTime": 12509, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1103570386", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 12508, 
    "headers": {
        "inReplyToHeader": "PGNxNG5jcCszbHMwQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQxQzcyNUQyLjYwMTAzMDdAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGNxNG5jcCszbHMwQGVHcm91cHMuY29tPg=="
    }
}