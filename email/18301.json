{
    "numMessagesInTopic": 3, 
    "nextInTime": 18302, 
    "senderId": "Pc5SOI0X3OLYKgyF5Btf_w3nmZFzK3ZUYEEcObs_5NSTGyqsgnBSDkf1ClnNIOapAJjrGaGboZfEJ8YjEhEEataR_Q", 
    "systemMessage": false, 
    "subject": "Re: Test FAILED Eclipse and build.xml", 
    "from": "&quot;Magnus&quot; &lt;t703093@...&gt;", 
    "authorName": "Magnus", 
    "msgSnippet": "I am sorry, but I totaly forgot to state the problem that occurs: When running the build.xml file (actually the entire project), the unit test fails. What is", 
    "msgId": 18301, 
    "profile": "t703093", 
    "topicId": 18297, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 286622440, 
    "messageBody": "<div id=\"ygrps-yiv-2046311826\">I am sorry, but I totaly forgot to state the problem that occurs:<br/>\n<br/>\nWhen running the build.xml file (actually the entire project), the <br/>\nunit test fails.<br/>\nWhat is funny is that when I run the JUnit test in eclipse just <br/>\nstandalone (without build.xml) it works fine, but when I use <br/>\nbuild.xml to do the same it doesn&#39;t work.<br/>\nI guess this indicates that the junit &quot;calls&quot; in my build.xml file <br/>\nisn&#39;t correct?<br/>\n<br/>\nAnyone experinced this before?<br/>\n<br/>\nThanks....<br/>\n<br/>\n<br/>\nMagnus<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Magnus&quot; &lt;t703093@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Hello, I am using eclipse IDE and I want to run unit tests as part <br/>\nof <br/>\n&gt; the build.xml file.<br/>\n&gt; Currently my build.xml file looks like this:<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; &lt;project name=&quot;MyProject&quot; default=&quot;dist&quot; basedir=&quot;.&quot;&gt;<br/>\n&gt;     &lt;description&gt;<br/>\n&gt;         Mitt forste bygg i Eclipse<br/>\n&gt;     &lt;/description&gt;<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \t&lt;property name=&quot;cobertura.dir&quot; value=&quot;C:/cobertura-1.8-<br/>\n&gt; bin/cobertura-1.8&quot; /&gt;<br/>\n&gt; <br/>\n&gt; \t&lt;path id=&quot;cobertura.classpath&quot;&gt;<br/>\n&gt; \t    &lt;fileset dir=&quot;${cobertura.dir}&quot;&gt;<br/>\n&gt; \t        &lt;include name=&quot;cobertura.jar&quot; /&gt;<br/>\n&gt; \t        &lt;include name=&quot;lib/**/*.jar&quot; /&gt;<br/>\n&gt; \t    &lt;/fileset&gt;<br/>\n&gt; \t&lt;/path&gt;<br/>\n&gt; <br/>\n&gt; \t&lt;taskdef classpath=&quot;cobertura.classpath&quot; <br/>\n&gt; resource=&quot;tasks.properties&quot; /&gt;<br/>\n&gt; <br/>\n&gt; \t<br/>\n&gt; \t&lt;!-- set global properties for this build --&gt;<br/>\n&gt;   &lt;property name=&quot;src&quot; location=&quot;src&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;build&quot; location=&quot;build&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;dist&quot;  location=&quot;dist&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;classes&quot;  location=&quot;classes&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;instrumented&quot;  location=&quot;instrumented&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;xmlreports&quot;  location=&quot;xmlreports&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;htmlreports&quot;  location=&quot;htmlreports&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;xmlcoverage&quot;  location=&quot;xmlcoverage&quot;/&gt;<br/>\n&gt;   &lt;property name=&quot;htmlcoverage&quot;  location=&quot;htmlcoverage&quot;/&gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt;   &lt;target name=&quot;init&quot;&gt;<br/>\n&gt;     &lt;!-- Create the time stamp --&gt;<br/>\n&gt;     &lt;tstamp/&gt;<br/>\n&gt;     &lt;!-- Create the build directory structure used by compile --&gt;<br/>\n&gt;     &lt;mkdir dir=&quot;${build}&quot;/&gt;<br/>\n&gt;   \t<br/>\n&gt;   \t &lt;!-- Cobertura add in --&gt;<br/>\n&gt;   \t&lt;mkdir dir=&quot;${classes}&quot;/&gt;<br/>\n&gt;   \t&lt;mkdir dir=&quot;${instrumented}&quot;/&gt;<br/>\n&gt;   \t&lt;mkdir dir=&quot;${xmlreports}&quot;/&gt;<br/>\n&gt;   \t&lt;mkdir dir=&quot;${htmlreports}&quot;/&gt;<br/>\n&gt;   \t&lt;mkdir dir=&quot;${xmlcoverage}&quot;/&gt;<br/>\n&gt;   \t&lt;mkdir dir=&quot;${htmlcoverage}&quot;/&gt;<br/>\n&gt;   &lt;/target&gt;<br/>\n&gt; <br/>\n&gt;   &lt;target name=&quot;compile&quot; depends=&quot;init&quot;<br/>\n&gt;         description=&quot;compile the source &quot; &gt;<br/>\n&gt;     &lt;!-- Compile the java code from ${src} into ${build} --&gt;<br/>\n&gt;     &lt;javac srcdir=&quot;${basedir}&quot; destdir=&quot;${build}&quot;/&gt;<br/>\n&gt;   \t<br/>\n&gt;   \t &lt;!-- Cobertura add in --&gt;<br/>\n&gt;   \t&lt;javac srcdir=&quot;${basedir}&quot; destdir=&quot;${classes}&quot; debug=&quot;yes&quot;&gt;<br/>\n&gt;   \t&lt;classpath refid=&quot;cobertura.classpath&quot; /&gt;<br/>\n&gt;     &lt;/javac&gt;<br/>\n&gt;   &lt;/target&gt;<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \t&lt;!-- Cobertura add in --&gt;<br/>\n&gt; \t&lt;target name=&quot;instrument&quot; depends=&quot;init,compile&quot;&gt;<br/>\n&gt; \t\t&lt;!--<br/>\n&gt; \t\t\tRemove the coverage data file and any old <br/>\n&gt; instrumentation.<br/>\n&gt; \t\t--&gt;<br/>\n&gt; \t\t&lt;delete file=&quot;cobertura.ser&quot;/&gt;<br/>\n&gt; \t\t&lt;delete dir=&quot;${instrumented}&quot; /&gt;<br/>\n&gt; <br/>\n&gt; \t<br/>\n&gt; <br/>\n&gt; \t\t<br/>\n&gt; \t\t&lt;!--<br/>\n&gt; \t\t\tInstrument the application classes, writing <br/>\n&gt; the<br/>\n&gt; \t\t\tinstrumented classes into <br/>\n&gt; ${build.instrumented.dir}.<br/>\n&gt; \t\t--&gt;<br/>\n&gt; \t\t&lt;cobertura-instrument todir=&quot;${instrumented}&quot;&gt;<br/>\n&gt; \t\t\t&lt;!--<br/>\n&gt; \t\t\t\tThe following line causes instrument <br/>\n&gt; to ignore any<br/>\n&gt; \t\t\t\tsource line containing a reference to <br/>\n&gt; log4j, for the<br/>\n&gt; \t\t\t\tpurposes of coverage reporting.<br/>\n&gt; \t\t\t--&gt;<br/>\n&gt; \t\t\t&lt;ignore regex=&quot;org.apache.log4j.*&quot; /&gt;<br/>\n&gt; <br/>\n&gt; \t\t\t&lt;fileset dir=&quot;${classes}&quot;&gt;<br/>\n&gt; \t\t\t\t&lt;!--<br/>\n&gt; \t\t\t\t\tInstrument all the <br/>\n&gt; application classes, but<br/>\n&gt; \t\t\t\t\tdon&#39;t instrument the test <br/>\n&gt; classes.<br/>\n&gt; \t\t\t\t--&gt;<br/>\n&gt; \t\t\t\t&lt;include name=&quot;**/*.class&quot; /&gt;<br/>\n&gt; \t\t\t\t&lt;exclude name=&quot;**/*Test.class&quot; /&gt;<br/>\n&gt; \t\t\t&lt;/fileset&gt;<br/>\n&gt; \t\t&lt;/cobertura-instrument&gt;<br/>\n&gt; \t&lt;/target&gt;<br/>\n&gt; \t<br/>\n&gt; \t&lt;!-- Cobertura add in --&gt;<br/>\n&gt; \t&lt;target name=&quot;test&quot; depends=&quot;init,compile&quot;&gt;<br/>\n&gt; \t\t&lt;junit fork=&quot;yes&quot; forkmode=&quot;once&quot; dir=&quot;${basedir}&quot; <br/>\n&gt; failureProperty=&quot;test.failed&quot;&gt;<br/>\n&gt; \t\t\t<br/>\n&gt; \t\t\t<br/>\n&gt; \t\t\t<br/>\n&gt; \t\t\t&lt;!--<br/>\n&gt; \t\t\t\tNote the classpath order: <br/>\n&gt; instrumented classes are before the<br/>\n&gt; \t\t\t\toriginal (uninstrumented) classes.  <br/>\n&gt; This is important.<br/>\n&gt; \t\t\t--&gt;<br/>\n&gt; \t\t\t&lt;classpath location=&quot;${instrumented}&quot; /&gt;<br/>\n&gt; \t\t\t&lt;classpath location=&quot;${classes}&quot; /&gt;<br/>\n&gt; <br/>\n&gt; \t\t\t&lt;!--<br/>\n&gt; \t\t\t\tThe instrumented classes reference <br/>\n&gt; classes used by the<br/>\n&gt; \t\t\t\tCobertura runtime, so Cobertura and <br/>\n&gt; its dependencies<br/>\n&gt; \t\t\t\tmust be on your classpath.<br/>\n&gt; \t\t\t--&gt;<br/>\n&gt; \t\t\t&lt;classpath refid=&quot;cobertura.classpath&quot; /&gt;<br/>\n&gt; \t\t<br/>\n&gt; <br/>\n&gt; \t\t\t&lt;formatter type=&quot;xml&quot; /&gt;<br/>\n&gt; \t\t\t&lt;test name=&quot;${testcase}&quot; <br/>\n&gt; todir=&quot;${xmlreports}&quot; if=&quot;testcase&quot; /&gt;<br/>\n&gt; \t\t\t&lt;batchtest todir=&quot;${xmlreports}&quot; <br/>\n&gt; unless=&quot;testcase&quot;&gt;<br/>\n&gt; \t\t\t\t&lt;fileset dir=&quot;${basedir}&quot;&gt;<br/>\n&gt; \t\t\t\t\t&lt;include <br/>\n&gt; name=&quot;**/*Test.java&quot; /&gt;<br/>\n&gt; \t\t\t\t&lt;/fileset&gt;<br/>\n&gt; \t\t\t&lt;/batchtest&gt;<br/>\n&gt; \t\t&lt;/junit&gt;<br/>\n&gt; <br/>\n&gt; \t\t&lt;junitreport todir=&quot;${xmlreports}&quot;&gt;<br/>\n&gt; \t\t\t&lt;fileset dir=&quot;${xmlreports}&quot;&gt;<br/>\n&gt; \t\t\t\t&lt;include name=&quot;TEST-*.xml&quot; /&gt;<br/>\n&gt; \t\t\t&lt;/fileset&gt;<br/>\n&gt; \t\t\t&lt;report format=&quot;frames&quot; <br/>\n&gt; todir=&quot;${htmlreports}&quot; /&gt;<br/>\n&gt; \t\t&lt;/junitreport&gt;<br/>\n&gt; \t&lt;/target&gt;<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; \t\t&lt;target name=&quot;coverage-report&quot;&gt;<br/>\n&gt; \t\t\t&lt;!--<br/>\n&gt; \t\t\t\tGenerate an XML file containing the <br/>\n&gt; coverage data using<br/>\n&gt; \t\t\t\tthe &quot;srcdir&quot; attribute.<br/>\n&gt; \t\t\t--&gt;<br/>\n&gt; \t\t\t&lt;cobertura-report srcdir=&quot;${basedir}&quot; <br/>\n&gt; destdir=&quot;${xmlcoverage}&quot; format=&quot;xml&quot; /&gt;<br/>\n&gt; \t\t&lt;/target&gt;<br/>\n&gt; <br/>\n&gt; \t\t&lt;target name=&quot;alternate-coverage-report&quot;&gt;<br/>\n&gt; \t\t\t&lt;!--<br/>\n&gt; \t\t\t\tGenerate a series of HTML files <br/>\n&gt; containing the coverage<br/>\n&gt; \t\t\t\tdata in a user-readable form using <br/>\n&gt; nested source filesets.<br/>\n&gt; \t\t\t--&gt;<br/>\n&gt; \t\t\t&lt;cobertura-report destdir=&quot;${htmlcoverage}&quot;&gt;<br/>\n&gt; \t\t\t\t&lt;fileset dir=&quot;${basedir}&quot;&gt;<br/>\n&gt; \t\t\t\t\t&lt;include name=&quot;**/*.java&quot;/&gt;<br/>\n&gt; \t\t\t\t&lt;/fileset&gt;<br/>\n&gt; \t\t\t&lt;/cobertura-report&gt;<br/>\n&gt; \t\t&lt;/target&gt;<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \t&lt;!-- Cobertura add in --&gt;<br/>\n&gt; \t<br/>\n&gt; \t&lt;target name=&quot;coverage-check&quot;&gt;<br/>\n&gt; \t\t\t&lt;!--&lt;cobertura-check branchrate=&quot;54&quot; <br/>\n&gt; totallinerate=&quot;100&quot; /&gt;--&gt;<br/>\n&gt; \t\t<br/>\n&gt; \t\t&lt;/target&gt;<br/>\n&gt; \t<br/>\n&gt; \t<br/>\n&gt; \t&lt;target name=&quot;clean&quot; description=&quot;Remove all files created by <br/>\n&gt; the build/test process.&quot;&gt;<br/>\n&gt; \t\t&lt;delete dir=&quot;${classes}&quot; /&gt;<br/>\n&gt; \t\t&lt;delete dir=&quot;${instrumented}&quot; /&gt;<br/>\n&gt; \t\t&lt;delete dir=&quot;${reports.dir}&quot; /&gt;<br/>\n&gt; \t\t&lt;delete file=&quot;cobertura.log&quot; /&gt;<br/>\n&gt; \t\t&lt;delete file=&quot;cobertura.ser&quot; /&gt;<br/>\n&gt; \t\t<br/>\n&gt; \t\t  <br/>\n&gt; \t\t    &lt;!-- Delete the ${build} and ${dist} directory <br/>\n&gt; trees --&gt;<br/>\n&gt; \t\t    &lt;delete dir=&quot;${build}&quot;/&gt;<br/>\n&gt; \t\t    &lt;delete dir=&quot;${dist}&quot;/&gt;<br/>\n&gt; \t\t<br/>\n&gt; \t\t<br/>\n&gt; \t&lt;/target&gt;<br/>\n&gt; <br/>\n&gt; \t&lt;target name=&quot;coverage&quot; <br/>\n&gt; depends=&quot;compile,instrument,test,coverage-report,alternate-coverage-<br/>\n&gt; report&quot; description=&quot;Compile, instrument ourself, run the tests and <br/>\n&gt; generate JUnit and coverage reports.&quot;/&gt;<br/>\n&gt; <br/>\n&gt; \t<br/>\n&gt; <br/>\n&gt;   &lt;target name=&quot;dist&quot; depends=&quot;compile&quot;<br/>\n&gt;         description=&quot;generate the distribution&quot; &gt;<br/>\n&gt;     &lt;!-- Create the distribution directory --&gt;<br/>\n&gt;     &lt;mkdir dir=&quot;${dist}/lib&quot;/&gt;<br/>\n&gt; <br/>\n&gt;     &lt;!-- Put everything in ${build} into the MyProject-<br/>\n${DSTAMP}.jar <br/>\n&gt; file --&gt;<br/>\n&gt;     &lt;jar jarfile=&quot;${dist}/lib/MyProject-${DSTAMP}.jar&quot; <br/>\n&gt; basedir=&quot;${build}&quot;/&gt;<br/>\n&gt;   &lt;/target&gt;<br/>\n&gt; &lt;/project&gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; But when building my project in eclipse I get an error message lik <br/>\n&gt; this:<br/>\n&gt; .<br/>\n&gt; .<br/>\n&gt; .<br/>\n&gt; compile:<br/>\n&gt; test:<br/>\n&gt;     [junit] Test XTest FAILED<br/>\n&gt; [junitreport] Transform time: 831ms<br/>\n&gt; coverage-check:<br/>\n&gt; .<br/>\n&gt; .<br/>\n&gt; .<br/>\n&gt; as you can se the junit test fails.<br/>\n&gt; <br/>\n&gt; I have also included my two classes (original class and junit test <br/>\n&gt; class):<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ______________________________________________________________<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; public class X {<br/>\n&gt; \t<br/>\n&gt; \t public int met (int number) {<br/>\n&gt; \t\t\tint num = number;<br/>\n&gt; \t\t\tif (num &lt;= 1)<br/>\n&gt; \t\t\t    return num*2;<br/>\n&gt; \t\t\t\t\telse{<br/>\n&gt; \t\t\t    return 666;<br/>\n&gt; \t\t\t\t\t}<br/>\n&gt; \t }<br/>\n&gt; \t <br/>\n&gt; \t <br/>\n&gt; \t public static void main (String args[]){<br/>\n&gt; \t\t System.out.println(&quot;magnus...&quot;);<br/>\n&gt; \t }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; .................................................................<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; import static org.junit.Assert.*;<br/>\n&gt; <br/>\n&gt; import org.junit.Test;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; public class XTest {<br/>\n&gt; <br/>\n&gt; \t@Test<br/>\n&gt; \tpublic void testMet() {<br/>\n&gt; \t\tassertEquals(2, new X().met(1));<br/>\n&gt; \t\t//assertEquals(666, new X().met(2));<br/>\n&gt; \t}<br/>\n&gt; <br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; _______________________________________________________________<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Anyone who knows why this error occurs and how i Can solve it?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Magnus :-)<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 18300, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1162494022", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 18299, 
    "headers": {
        "inReplyToHeader": "PGVpY3A2MCs1azY4QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGVpZGY4Nis0NzVyQGVHcm91cHMuY29tPg=="
    }
}