{
    "numMessagesInTopic": 10, 
    "nextInTime": 23745, 
    "senderId": "MOaMLM5iAJ7V60bI04TIvE9k20qgxnMJoHuad-KHPwhytNUgbvHO3-z97iEWluAl_9XEa-h8jzZqcCcAO0Jel1zTFwPi2bTWKBo", 
    "systemMessage": true, 
    "subject": "Re: [junit] Open up Description class to allow arbitrary test hierarchies?", 
    "from": "Dawid Weiss &lt;dawid.weiss@...&gt;", 
    "authorName": "Dawid Weiss", 
    "msgSnippet": "Hi David, Thanks for your reply. I admit I wasn t aiming at larger refactorings, only at slight changes to make Description a bit more permissive (and these", 
    "msgId": 23744, 
    "topicId": 23742, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 223548916, 
    "messageBody": "<div id=\"ygrps-yiv-683464566\">Hi David,<br/>\n<br/>\nThanks for your reply. I admit I wasn&#39;t aiming at larger refactorings, only<br/>\nat slight changes to make Description a bit more permissive (and these goals<br/>\nshould be easy to achieve). I read the discussion you mentioned in your<br/>\npost. Annotation-based approach seems to add another layer of complexity to<br/>\nme; whether this would be useful in practice I have no idea. In my<br/>\nexperience all tests are somehow connected to a concrete method in some way<br/>\n(this is true even for generative runners like the parameterized runner). I<br/>\ndon&#39;t have an opinion on removing getMethod/Class from Description -- can&#39;t<br/>\nsay if it&#39;s a good or bad idea, really.<br/>\n<br/>\nBtw. where does it say that Description is serializable? :) Does it need to<br/>\nbe, really?<br/>\n<br/>\nDawid<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Fri, Oct 28, 2011 at 8:34 PM, David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:david@...\">david@...</a>&gt; wrote:<br/>\n<br/>\n&gt; **<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Dawid,<br/>\n&gt;<br/>\n&gt; The design of Description has several challenges, and I welcome the<br/>\n&gt; chance to move towards a better solution. I think that<br/>\n&gt; getTestClass(), getMethodName() and getClassName() are currently<br/>\n&gt; implemented wrong: see <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/KentBeck/junit/issues/198\">https://github.com/KentBeck/junit/issues/198</a><br/>\n&gt; for how I&#39;d rather approach it. In short, I&#39;d like for Description to<br/>\n&gt; remain a serializeable, final, value class, but allow for custom<br/>\n&gt; Runners to have full control over what data gets put into that value<br/>\n&gt; structure. Would that work for you? If so, want to produce a patch<br/>\n&gt; for this?<br/>\n&gt;<br/>\n&gt; Separate from this are the problems that arise from Description<br/>\n&gt; containing both the test structure graph, and the metadata for each<br/>\n&gt; node in that graph, but that doesn&#39;t seem to be your current<br/>\n&gt; challenge.<br/>\n&gt;<br/>\n&gt; On the subject of error messages for Assume.*: Oops. :-) Patches<br/>\n&gt; definitely welcome.<br/>\n&gt;<br/>\n&gt; David Saff<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; On Thu, Oct 27, 2011 at 5:05 PM, Dawid Weiss &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dawid.weiss@...\">dawid.weiss@...</a>&gt;<br/>\n&gt; wrote:<br/>\n&gt; &gt; Hi everyone.<br/>\n&gt; &gt;<br/>\n&gt; &gt; My name is Dawid Weiss, I&#39;m a committer to Apache Lucene/Solr. Lucene<br/>\n&gt; &gt; and Solr use a custom runner to randomize test execution extensively.<br/>\n&gt; &gt; This works great and I&#39;ve decided to try to pull a custom JUnit runner<br/>\n&gt; &gt; out of Lucene so that it can be reused without relying on the rest of<br/>\n&gt; &gt; Lucene&#39;s infrastructure. So... I wrote a custom runner and on the way<br/>\n&gt; &gt; I came across a problem: I would really like to have a hierarchy of<br/>\n&gt; &gt; Descriptions to indicate something meaningful, in particular contain<br/>\n&gt; &gt; the random seed for a suite group, then for individual tests, etc. I<br/>\n&gt; &gt; believe a similar situation could also be useful for<br/>\n&gt; &gt; ParameterizedRunner...<br/>\n&gt; &gt;<br/>\n&gt; &gt; Unfortunately, the problem is that Description is sealed and does not<br/>\n&gt; &gt; allow much in terms of flexibility (the constructor is private, static<br/>\n&gt; &gt; factory methods).<br/>\n&gt; &gt;<br/>\n&gt; &gt; The design of this class leads me to believe that Description should<br/>\n&gt; &gt; be a contract (interface or a class, but with the possibility of<br/>\n&gt; &gt; subclassing) so that getDisplayName() returns something meaningful (as<br/>\n&gt; &gt; in the example above), but getTestClass(), getMethodName() and<br/>\n&gt; &gt; getClassName() can still point IDEs and report writers to the right<br/>\n&gt; &gt; place. Or at least allow a custom display name not related to the<br/>\n&gt; &gt; method name/ class of the test case?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Another burning issue we have in Lucene is that Assume.* methods don&#39;t<br/>\n&gt; &gt; take any explanation message. Why is this so? I mean: an assumption<br/>\n&gt; &gt; can fail, but just like with failures it&#39;d be nice to be actually able<br/>\n&gt; &gt; to explain why a given assumption wasn&#39;t met...<br/>\n&gt; &gt;<br/>\n&gt; &gt; Let me know what you think. I can provide a patch (several ones :),<br/>\n&gt; &gt; but I wanted to hear what people think first.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Dawid<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 23743, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1319833791", 
    "canDelete": false, 
    "nextInTopic": 23753, 
    "prevInTopic": 23743, 
    "headers": {
        "inReplyToHeader": "PENBQ2o4QnVQTDZtS3ZjPUZVOXF2X1Mwa1RmS3lGV2NvSnZCa1dqNHJNQ09MZEtEN3lQQUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBTTIxUnQ5VmZUeml0M3J4RGhGaXQwelE1aXk5bXlOMzkxNXhFNWMxd1QyeVBxLUJEUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBTTIxUnQ4MkwzMUVrNXVGYktDYXZuWnRvWF81K2tMQ2RQM0g5OWRuVVBlNE05OVd5UUBtYWlsLmdtYWlsLmNvbT4gPENBQ2o4QnVQTDZtS3ZjPUZVOXF2X1Mwa1RmS3lGV2NvSnZCa1dqNHJNQ09MZEtEN3lQQUBtYWlsLmdtYWlsLmNvbT4="
    }
}