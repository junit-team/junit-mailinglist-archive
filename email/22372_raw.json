{
    "numMessagesInTopic": 7, 
    "nextInTime": 22373, 
    "senderId": "6kIcOuZmp5K7jxOjtNIoZXBIdLmocfHAzvKZoaDjMFPMPWwYhTkSp_tF6FpmRuCYSsZVBZNIUB9rKbZ9_YyW8tBA1RXVueDLbuDh5Foy", 
    "systemMessage": true, 
    "subject": "Re: Re: [junit] Using JUnit 4 to drive a test DSL", 
    "from": "Peter Niederwieser &lt;pniederw@...&gt;", 
    "authorName": "Peter Niederwieser", 
    "msgSnippet": "See this thread: http://old.nabble.com/Upgrading-from-3.8.1-to-4.x--to27153980.html#a27169769 Cheers, Peter ... -- View this message in context:", 
    "msgId": 22372, 
    "rawEmail": "Return-Path: &lt;pniederw@...&gt;\r\nReceived: (qmail 65625 invoked from network); 6 Feb 2010 23:39:54 -0000\r\nReceived: from unknown (66.196.94.105)\n  by m11.grp.re1.yahoo.com with QMQP; 6 Feb 2010 23:39:54 -0000\r\nReceived: from unknown (HELO n43d.bullet.mail.sp1.yahoo.com) (66.163.169.157)\n  by mta1.grp.re1.yahoo.com with SMTP; 6 Feb 2010 23:39:54 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1265499593; bh=/Uq+WfXoEjR7ysnARgjwZ9tv0vEh6RAIIUlvJ7JeSRw=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:Message-ID:Date:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Nabble-From:References:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=Mq1BtvporUc7G9fHuz7yohplUqLoWG/HzdrnKBAneAYDcQb5vUJw++6o+d8hV4Ju7YLlsgEXRDzXpzp8e8295U8eK+sza3kFDIrFm83TKrtTuJFsd9k3EPGTF+x0s0Jj\r\nReceived: from [69.147.65.174] by n43.bullet.mail.sp1.yahoo.com with NNFMP; 06 Feb 2010 23:39:53 -0000\r\nReceived: from [98.137.34.184] by t12.bullet.mail.sp1.yahoo.com with NNFMP; 06 Feb 2010 23:39:53 -0000\r\nX-Sender: pniederw@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 75353 invoked from network); 6 Feb 2010 13:41:38 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m5.grp.sp2.yahoo.com with QMQP; 6 Feb 2010 13:41:38 -0000\r\nX-Received: from unknown (HELO kuber.nabble.com) (216.139.236.158)\n  by mta2.grp.re1.yahoo.com with SMTP; 6 Feb 2010 13:41:38 -0000\r\nX-Received: from isper.nabble.com ([192.168.236.156])\n\tby kuber.nabble.com with esmtp (Exim 4.63)\n\t(envelope-from &lt;pniederw@...&gt;)\n\tid 1Ndku3-0000l7-IM\n\tfor junit@yahoogroups.com; Sat, 06 Feb 2010 05:40:51 -0800\r\nMessage-ID: &lt;27479704.post@...&gt;\r\nDate: Sat, 6 Feb 2010 05:40:51 -0800 (PST)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;e6dd5ba31002051442j1cefaf87n9d656a597282e6ab@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nX-Nabble-From: pniederw@...\r\nReferences: &lt;e6dd5ba31002051308y1a8ecc2fl60e3e5b04196f5c1@...&gt; &lt;hki39d+3u73@...&gt; &lt;e6dd5ba31002051442j1cefaf87n9d656a597282e6ab@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Peter Niederwieser &lt;pniederw@...&gt;\r\nSubject: Re: Re: [junit] Using JUnit 4 to drive a test DSL\r\nX-Yahoo-Group-Post: member; u=316799131; y=_ujxFvB39CAJXA0rF2-5fR0ctCWivobQLSAfDe465LbvJIo\r\nX-Yahoo-Profile: pniederw\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 06 Feb 2010 23:39:53 -0000\r\n\r\n\nSee this thread:\nhttp://old.nabble.com/Upgrading-from-3.8.1-to-4.x--to27153980.html#a27169769\n\nCheers,\nPeter\n\n\nEdson Tirelli-4 wrote:\n&gt; \n&gt;     Hmmm, it seems you are right actually. I will do some research on how\n&gt; surefire is handling that.\n&gt; \n&gt;     Thanks,\n&gt;       Edson\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; 2010/2/5 krosenvold &lt;kristian@...&gt;\n&gt; \n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Is NodeTest actually a test class ? I think you may be victim of a hotly\n&gt;&gt; debated issue in surefire, where surefire by default assumes every class\n&gt;&gt; ending with &quot;Test&quot; is a test-case.\n&gt;&gt;\n&gt;&gt; Kristian\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; --- In junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt;, Edson Tirelli\n&gt;&gt; &lt;ed.tirelli@...&gt; wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; Hi all,\n&gt;&gt; &gt;\n&gt;&gt; &gt; Facing a problem a could not find an answer for yet.\n&gt;&gt; &gt;\n&gt;&gt; &gt; We use JUnit as the testing framework for Drools (\n&gt;&gt; &gt; http://www.jboss.org/drools/). It happens, though, that some of the\n&gt;&gt; internal\n&gt;&gt; &gt; low level stuff are really hard to test using pure java code, so, we\n&gt;&gt; created\n&gt;&gt; &gt; a DSL to define some of our low level tests. Example here (but it does\n&gt;&gt; not\n&gt;&gt; &gt; really matter for the problem at hand):\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; http://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/resources/org/drools/reteoo/test/AccumulateNodeAssertRetractTest.nodeTestCase\n&gt;&gt; &gt;\n&gt;&gt; &gt; The DSL follows a simplified test structure, similar to previous JUnit\n&gt;&gt; &gt; versions, i.e., each file is a test case that might have a setup and\n&gt;&gt; &gt; teardown sections, plus a bunch of tests. Simple and works fine for us.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Now, since we use JUnit to drive all our tests, I would like to use\n&gt;&gt; junit\n&gt;&gt; &gt; to drive these DSL test cases as well during our build (maven), to keep\n&gt;&gt; all\n&gt;&gt; &gt; reports, etc integrated. So, I created a test runner class:\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; http://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/java/org/drools/reteoo/test/JUnitNodeTestRunner.java\n&gt;&gt; &gt;\n&gt;&gt; &gt; And then I created a bootstrap class (not sure if there is a way to\n&gt;&gt; avoid\n&gt;&gt; &gt; having the bootstrap class):\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; http://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/java/org/drools/reteoo/test/NodeTestsSuite.java\n&gt;&gt; &gt;\n&gt;&gt; &gt; As you can see, the bootstrap class has the annotation:\n&gt;&gt; &gt; @RunWith(JUnitNodeTestRunner.class)\n&gt;&gt; &gt;\n&gt;&gt; &gt; Now, when I right click that class and choose &quot;Run as... JUnit test\n&gt;&gt; case&quot;\n&gt;&gt; &gt; in eclipse, the class loads and executes all tests defined in our dsl\n&gt;&gt; test\n&gt;&gt; &gt; files without any problem. It shows all tests with success/error\n&gt;&gt; messages\n&gt;&gt; in\n&gt;&gt; &gt; the eclipse junit view, etc. BUT, when I run the tests from our maven\n&gt;&gt; build,\n&gt;&gt; &gt; I get the following error:\n&gt;&gt; &gt;\n&gt;&gt; &gt; Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.005\n&gt;&gt; sec\n&gt;&gt; &gt; &lt;&lt;&lt; FAILURE!\n&gt;&gt; &gt; initializationError(org.drools.reteoo.test.dsl.NodeTest) Time elapsed:\n&gt;&gt; 0\n&gt;&gt; &gt; sec &lt;&lt;&lt; ERROR!\n&gt;&gt; &gt; java.lang.IllegalArgumentException: Test class can only have one\n&gt;&gt; constructor\n&gt;&gt; &gt; at org.junit.runners.model.TestClass.&lt;init&gt;(TestClass.java:32)\n&gt;&gt; &gt; at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:54)\n&gt;&gt; &gt; ...\n&gt;&gt; &gt;\n&gt;&gt; &gt; I am at a loss right now, so any insights on how to fix that (or even\n&gt;&gt; if\n&gt;&gt; &gt; we are using the wrong approach here) are most appreciated.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Thanks,\n&gt;&gt; &gt; Edson\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; --\n&gt;&gt; &gt; Edson Tirelli\n&gt;&gt; &gt; JBoss Drools Core Development\n&gt;&gt; &gt; JBoss by Red Hat @ www.jboss.com\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; [Non-text portions of this message have been removed]\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt;  \n&gt;&gt;\n&gt; \n&gt; \n&gt; \n&gt; -- \n&gt;  Edson Tirelli\n&gt;  JBoss Drools Core Development\n&gt;  JBoss by Red Hat @ www.jboss.com\n&gt; \n&gt; \n&gt; [Non-text portions of this message have been removed]\n&gt; \n&gt; \n&gt; \n\n-- \nView this message in context: http://old.nabble.com/Using-JUnit-4-to-drive-a-test-DSL-tp27474049p27479704.html\nSent from the JUnit - User mailing list archive at Nabble.com.\n\n\n", 
    "profile": "pniederw", 
    "topicId": 22366, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 316799131, 
    "prevInTime": 22371, 
    "contentTrasformed": false, 
    "postDate": "1265463651", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 22371, 
    "headers": {
        "inReplyToHeader": "PGU2ZGQ1YmEzMTAwMjA1MTQ0MmoxY2VmYWY4N245ZDY1NmE1OTcyODJlNmFiQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDI3NDc5NzA0LnBvc3RAdGFsay5uYWJibGUuY29tPg==", 
        "referencesHeader": "PGU2ZGQ1YmEzMTAwMjA1MTMwOHkxYThlY2MyZmw2MGUzZTViMDQxOTZmNWMxQG1haWwuZ21haWwuY29tPiA8aGtpMzlkKzN1NzNAZUdyb3Vwcy5jb20+IDxlNmRkNWJhMzEwMDIwNTE0NDJqMWNlZmFmODduOWQ2NTZhNTk3MjgyZTZhYkBtYWlsLmdtYWlsLmNvbT4="
    }
}