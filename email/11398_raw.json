{
    "numMessagesInTopic": 1, 
    "nextInTime": 11399, 
    "senderId": "NhytY1MkvvnjRlAweF2Wqu1NC0Lcfnv_vJZeeWU0COV5tSSNBsbCtYnQqw2Jl0eBBGqKNf3chjCQyB72yIc3OMRjpuOvL-NW", 
    "systemMessage": false, 
    "subject": "Help regarding new instance of test object every test", 
    "from": "&quot;cypherfox&quot; &lt;cypherfox@...&gt;", 
    "authorName": "cypherfox", 
    "msgSnippet": "Greetings, So I wanted to create a suite of tests against a message management class that talks to a server (IMAP in my case).  So there are methods like: ", 
    "msgId": 11398, 
    "rawEmail": "Return-Path: &lt;cypherfox@...&gt;\r\nReceived: (qmail 49669 invoked from network); 10 Jul 2004 14:20:57 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m10.grp.scd.yahoo.com with QMQP; 10 Jul 2004 14:20:57 -0000\r\nReceived: from unknown (HELO n25.grp.scd.yahoo.com) (66.218.66.81)\n  by mta6.grp.scd.yahoo.com with SMTP; 10 Jul 2004 14:20:56 -0000\r\nX-eGroups-Return: cypherfox@...\r\nReceived: from [66.218.67.140] by n25.grp.scd.yahoo.com with NNFMP; 10 Jul 2004 14:20:49 -0000\r\nX-Sender: cypherfox@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 16158 invoked from network); 10 Jul 2004 02:42:27 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m25.grp.scd.yahoo.com with QMQP; 10 Jul 2004 02:42:27 -0000\r\nReceived: from unknown (HELO n10.grp.scd.yahoo.com) (66.218.66.65)\n  by mta6.grp.scd.yahoo.com with SMTP; 10 Jul 2004 02:42:27 -0000\r\nReceived: from [66.218.67.175] by n10.grp.scd.yahoo.com with NNFMP; 10 Jul 2004 02:42:26 -0000\r\nDate: Sat, 10 Jul 2004 02:42:24 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;ccnl2g+7qjg@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 4354\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-eGroups-Remote-IP: 66.218.66.65\r\nFrom: &quot;cypherfox&quot; &lt;cypherfox@...&gt;\r\nSubject: Help regarding new instance of test object every test\r\nX-Yahoo-Group-Post: member; u=174888704\r\nX-Yahoo-Profile: cypherfox\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 10 Jul 2004 14:20:48 -0000\r\nX-eGroups-Remote-IP: 66.218.66.81\r\n\r\nGreetings,\nSo I wanted to create a suite of tests against a message management\nclass that talks to a server (IMAP in my case).  So there are methods\nlike:\n\ncreateUser(...)\ncreateMessage(...)\nreadMessage(...)\ndeleteMessage(...)\ndeleteUser(...)\n\nHowever, these tests (this is where it gets complex) are being run\nunder around a hundred threads.  So the message id that comes back is\nnot generally predictable, nor should I care what it is during\ncompilation.  The tests themselves care, however, as I&#39;ll describe.\n\nMy test class consists of a number of seperate tests (many more than\nabove), each testing one of the calls.  However, I need a certain\namount of &#39;state&#39; between each call, so I know (for example) what the\nmessage id that was created was, so that I can read it, and then\ndelete it, validating that the content is correct, not just that the\ncalls succeed.  (I need more state than this for tracking comment ids,\nto determine that they&#39;re right, and everything, but the simplest case\nis the message id.)\n\nI discovered, to my chagrin, that the sample testing code (and all the\n&#39;use this class&#39; test functions) appear to create a new test object\nevery time it calls the next test function.\n\nMy first solution, when building the tests at first, while I was\nwriting the actual functions, was to build a static member that said\nwhat message id had been returned, and another for the server\nconnection, since the idea wasn&#39;t to test re-opening the connection\n&#39;n&#39; times where &#39;n&#39; is the number of test methods written.  Of course,\nthese failed miserably when I started running a hundred threads, as\nthe statics were being overwritten constantly.  (It was a &#39;DUH!&#39;\nmoment, complete with very red face...)\n\nMy current solution sucks equally, though.  I extracted the\ntest-calling to an object of its own, which creates an object of the\nappropriate type (storageTest in this case), and calls each of the\ntests itself.  If any of the tests fail, the &#39;uber test&#39; object fails.\n Unfortunately, there&#39;s no way to identify WHICH test failed, because\nthey are being called &#39;by hand&#39; in the uber test.  It also appears I\ncan&#39;t merge TestResults back in any reasonable way, so the threading\nresults are an &#39;all or nothing&#39; result, which really doesn&#39;t help at\nall if things fail.  (Which they have at times, and my debugging has\nbeen reduced to &#39;duhhhhh...println?&#39; at that point.)\n\nFor the multithreading, I&#39;m using code based on a\nMultiThreadedTestCase class that I saw up online (iirc it&#39;s based on\nthe one I found on java.net), but it doesn&#39;t have any solution for the\nproblem of Results merging back together.\n\nOptimally, I&#39;d like the following, and since some very smart people\nspecifically didn&#39;t implement them, what I guess I&#39;m looking for here\nis to have it explained why these aren&#39;t a good idea:\n\nThe ability to create a test that creates the object once, runs\nsetUp() once, iterates over all the test*() methods on an object, and\nthen tearDown() once.  This differs from the one-setup/one-teardown\ndescribed in the FAQ in that the object is not re-created every test\ncall, it&#39;s re-used.  Personally, it seems to me this allows for\ntesting to mirror actual use a lot better.  What am I missing?\n\n(minor) The ability to name a result set (so that merged results don&#39;t\nblur together too much), and (major) merge result sets together. \n(Perhaps as simple as &#39;resultSet.append(latestSet)&#39;.)\n\nA third, and less necessary (but still very useful imo) feature would\nbe to be able to do something like this (putting it all together):\n\nTestSuite once = new TestSuite();\nTestSuite many = new TestSuite();\nTestSuite last = new TestSuite();\nMyTestClass mtc = new MyTestClass();\nTestResult results;\nonce.add(mtc, &quot;testCreateUser&quot;);\nresults = once.run();\n\nmany.add(mtc, &quot;testWriteMessage&quot;);\nmany.add(mtc, &quot;testReadMessage&quot;);\nmany.add(mtc, &quot;testDeleteMessage&quot;);\n\nfor(i = 0; i&lt;20; i++) results.append(many.run());\n\nlast.add(mtc, &quot;testDeleteUser&quot;);\n\nresults.append(last.run());\n\nNow picture a test process that kicks off a hundred threads, each\ndoing that, where &#39;results&#39; on each thread gets put into a static\nresult set, and then when all the threads are reaped, a &#39;main&#39; test,\naccumulates all the result sets into one complete one, and returns it.\n\nNice?\n\nSo...\n\nWhat have I missed, and/or why is some JUnit functionality like this a\nbad idea?\n\n--  Morgan Schweers\n\n\n\n", 
    "profile": "cypherfox", 
    "topicId": 11398, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 174888704, 
    "prevInTime": 11397, 
    "contentTrasformed": false, 
    "postDate": "1089427344", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGNjbmwyZys3cWpnQGVHcm91cHMuY29tPg=="
    }
}