{
    "numMessagesInTopic": 3, 
    "nextInTime": 24072, 
    "senderId": "KjtOjVUxIXocFOGBq_euzqlRVFlvCNV-9diBmEKLqcpckdNghMK-LnX8t-ESXcN4l-GZC6QYfnb44doXvvxHX9DZl-Ncyq5MYrTEytDLVU86G6zifg", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit and Spring configuration", 
    "from": "Malte Finsterwalder &lt;malte@...&gt;", 
    "authorName": "Malte Finsterwalder", 
    "msgSnippet": "Spring can t load, because some bean get s a failure, when initialized. That has nothing to do with JUnit, but only with Spring. Ask somewhere, where you can", 
    "msgId": 24071, 
    "profile": "maltefinsterwalder", 
    "topicId": 24041, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 199072473, 
    "messageBody": "<div id=\"ygrps-yiv-1559639391\">Spring can&#39;t load, because some bean get&#39;s a failure, when initialized.<br/>\nThat has nothing to do with JUnit, but only with Spring.<br/>\nAsk somewhere, where you can get Spring help.<br/>\n<br/>\nGreetings,<br/>\n   Malte<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 27 September 2012 22:51, Metain &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:metaingegnere@...\">metaingegnere@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; Hello everyone, I&#39;m trying to configure JUnit to work with Spring, but I<br/>\n&gt; cannot.<br/>\n&gt;<br/>\n&gt; I create a test class this way:<br/>\n&gt; -------------------------------------------------<br/>\n&gt; @RunWith(SpringJUnit4ClassRunner.class)<br/>\n&gt; @ContextConfiguration(locations = {&quot;classpath:/web-application-config.xml&quot;})<br/>\n&gt; public class MyControllerToTest {<br/>\n&gt;         @Autowired<br/>\n&gt;         private MyController ctr;<br/>\n&gt;<br/>\n&gt;         @Test<br/>\n&gt; ....<br/>\n&gt; }<br/>\n&gt; -------------------------------------------------<br/>\n&gt; In classpath, I inserted src/main/resources, where the<br/>\n&gt; web-application-config.xml is located. Here its content:<br/>\n&gt; -------------------------------------------------<br/>\n&gt;<br/>\n&gt; &lt;beans xmlns=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans&quot;\">http://www.springframework.org/schema/beans&quot;</a><br/>\n&gt;        xmlns:xsi=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.w3.org/2001/XMLSchema-instance&quot;\">http://www.w3.org/2001/XMLSchema-instance&quot;</a><br/>\n&gt;        xmlns:context=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/context&quot;\">http://www.springframework.org/schema/context&quot;</a><br/>\n&gt;        xsi:schemaLocation=&quot;<br/>\n&gt;            <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans\">http://www.springframework.org/schema/beans</a><br/>\n&gt;            <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</a><br/>\n&gt;            <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/context\">http://www.springframework.org/schema/context</a><br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;\">http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;</a>&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- Scans for application @Components to deploy --&gt;<br/>\n&gt;         &lt;context:component-scan base-package=&quot;com.infoone.mycontrollerpackage&quot;/&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- Imports the configurations of the different infrastructure systems of<br/>\n&gt; the application --&gt;<br/>\n&gt;         &lt;import resource=&quot;webflow-config.xml&quot; /&gt;<br/>\n&gt;         &lt;import resource=&quot;webmvc-config.xml&quot; /&gt;<br/>\n&gt;         &lt;import resource=&quot;data-access-config.xml&quot; /&gt;<br/>\n&gt;         &lt;import resource=&quot;repository-config.xml&quot; /&gt;<br/>\n&gt;         &lt;import resource=&quot;security-config.xml&quot; /&gt;<br/>\n&gt; &lt;/beans&gt;<br/>\n&gt; -------------------------------------------------<br/>\n&gt; When I run as JUnit the MyControllerToTest class, I get the following:<br/>\n&gt; -------------------------------------------------<br/>\n&gt; ERROR: org.springframework.test.context.TestContextManager - Caught<br/>\n&gt; exception while allowing TestExecutionListener<br/>\n&gt; [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6419fa]<br/>\n&gt; to prepare test instance [com.infoone.myapp.MyControllerToTest@10036f2]<br/>\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext<br/>\n&gt; ...<br/>\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error<br/>\n&gt; creating bean with name &#39;flowExecutor&#39;: Cannot resolve reference to bean<br/>\n&gt; &#39;flowRegistry&#39; while setting bean property &#39;flowDefinitionLocator&#39;; nested<br/>\n&gt; exception is org.springframework.beans.factory.BeanCreationException: Error<br/>\n&gt; creating bean with name &#39;flowRegistry&#39;: Invocation of init method failed;<br/>\n&gt; nested exception is java.lang.IllegalStateException: An I/O Exception<br/>\n&gt; occurred resolving the flow location pattern &#39;/**/*-flow.xml&#39;<br/>\n&gt; ...<br/>\n&gt;  aused by: org.springframework.beans.factory.BeanCreationException: Error<br/>\n&gt; creating bean with name &#39;flowRegistry&#39;: Invocation of init method failed;<br/>\n&gt; nested exception is java.lang.IllegalStateException: An I/O Exception<br/>\n&gt; occurred resolving the flow location pattern &#39;/**/*-flow.xml&#39;<br/>\n&gt; ...4<br/>\n&gt; Caused by: java.lang.IllegalStateException: An I/O Exception occurred<br/>\n&gt; resolving the flow location pattern &#39;/**/*-flow.xml&#39;<br/>\n&gt; ...<br/>\n&gt; Caused by: java.io.FileNotFoundException: class path resource<br/>\n&gt; [WEB-INF/flows/] cannot be resolved to URL because it does not exist<br/>\n&gt; -------------------------------------------------<br/>\n&gt; Maybe, you also need my web-flow-config file, also located in<br/>\n&gt; src/main/resources (whereas my flows are in WEB-INF/flows/**/*.xml):<br/>\n&gt; -------------------------------------------------<br/>\n&gt;<br/>\n&gt; &lt;beans xmlns=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans&quot;\">http://www.springframework.org/schema/beans&quot;</a><br/>\n&gt;        xmlns:xsi=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.w3.org/2001/XMLSchema-instance&quot;\">http://www.w3.org/2001/XMLSchema-instance&quot;</a><br/>\n&gt;        xmlns:webflow=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/webflow-config&quot;\">http://www.springframework.org/schema/webflow-config&quot;</a><br/>\n&gt;        xmlns:faces=&quot;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/faces&quot;\">http://www.springframework.org/schema/faces&quot;</a><br/>\n&gt;        xsi:schemaLocation=&quot;<br/>\n&gt;            <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans\">http://www.springframework.org/schema/beans</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</a><br/>\n&gt;            <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/webflow-config\">http://www.springframework.org/schema/webflow-config</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd\">http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd</a><br/>\n&gt;            <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/faces\">http://www.springframework.org/schema/faces</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.springframework.org/schema/faces/spring-faces-2.2.xsd&quot;\">http://www.springframework.org/schema/faces/spring-faces-2.2.xsd&quot;</a>&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- Executes flows: the central entry point into the Spring Web Flow<br/>\n&gt; system --&gt;<br/>\n&gt;         &lt;webflow:flow-executor id=&quot;flowExecutor&quot;&gt;<br/>\n&gt;                 &lt;webflow:flow-execution-listeners&gt;<br/>\n&gt;                         &lt;webflow:listener ref=&quot;facesContextListener&quot;/&gt;<br/>\n&gt;                         &lt;webflow:listener ref=&quot;securityFlowExecutionListener&quot; /&gt;<br/>\n&gt;             &lt;webflow:listener ref=&quot;icefacesFlowListener&quot; /&gt;<br/>\n&gt;                         &lt;webflow:listener ref=&quot;myFlowListener&quot; /&gt;<br/>\n&gt;             &lt;webflow:listener ref=&quot;myExceptionListener&quot; /&gt;<br/>\n&gt;                 &lt;/webflow:flow-execution-listeners&gt;<br/>\n&gt;         &lt;/webflow:flow-executor&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- The registry of executable flow definitions --&gt;<br/>\n&gt;         &lt;webflow:flow-registry id=&quot;flowRegistry&quot;<br/>\n&gt; flow-builder-services=&quot;facesFlowBuilderServices&quot; base-path=&quot;/WEB-INF/flows&quot;&gt;<br/>\n&gt;                 &lt;webflow:flow-location-pattern value=&quot;/**/*-flow.xml&quot; /&gt;<br/>\n&gt;         &lt;/webflow:flow-registry&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- Configures the Spring Web Flow JSF integration --&gt;<br/>\n&gt;         &lt;faces:flow-builder-services id=&quot;facesFlowBuilderServices&quot;<br/>\n&gt; development=&quot;true&quot; /&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- Installs a listener that creates and releases the FacesContext for<br/>\n&gt; each request. --&gt;<br/>\n&gt;         &lt;bean id=&quot;facesContextListener&quot;<br/>\n&gt; class=&quot;org.springframework.faces.webflow.FlowFacesContextLifecycleListener&quot;/&gt;<br/>\n&gt;<br/>\n&gt;         &lt;!-- Installs a listener to apply Spring Security authorities --&gt;<br/>\n&gt;         &lt;bean id=&quot;securityFlowExecutionListener&quot;<br/>\n&gt; class=&quot;org.springframework.webflow.security.SecurityFlowExecutionListener&quot;<br/>\n&gt; /&gt;<br/>\n&gt;<br/>\n&gt;     &lt;bean id=&quot;icefacesFlowListener&quot;<br/>\n&gt; class=&quot;com.icesoft.spring.security.WebflowListener&quot; /&gt;<br/>\n&gt;<br/>\n&gt;     &lt;bean id=&quot;myFlowListener&quot;<br/>\n&gt; class=&quot;com.infoone.myapp.spring.webflow.AutowiringFlowExecutionListener&quot; /&gt;<br/>\n&gt;<br/>\n&gt;     &lt;bean id=&quot;myExceptionListener&quot;<br/>\n&gt; class=&quot;com.infoone.myapp.exception.MyExceptionListener&quot; /&gt;<br/>\n&gt;<br/>\n&gt; &lt;/beans&gt;<br/>\n&gt; -------------------------------------------------<br/>\n&gt; Please consider that I&#39;m also using JSF and Icefaces (which I don&#39;t want to<br/>\n&gt; test via JUnit at the moment).<br/>\n&gt;<br/>\n&gt; Thank you!<br/>\n&gt; --<br/>\n&gt; View this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://old.nabble.com/JUnit-and-Spring-configuration-tp34480553p34480553.html\">http://old.nabble.com/JUnit-and-Spring-configuration-tp34480553p34480553.html</a><br/>\n&gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 24070, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1351108852", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24070, 
    "headers": {
        "inReplyToHeader": "PDM0NDgwNTUzLnBvc3RAdGFsay5uYWJibGUuY29tPg==", 
        "messageIdInHeader": "PENBTFMxMi1QS3VLT0RMQUh5QThuZHd6alBTYmhuNVVIS2poUW4tSi1qMTNwb1hzN1UxQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDM0NDgwNTUzLnBvc3RAdGFsay5uYWJibGUuY29tPg=="
    }
}