{
    "numMessagesInTopic": 2, 
    "nextInTime": 21818, 
    "senderId": "9hCCPAo6scOhkEGiMyh7iu1pV8HnWbTN53dG-9TGEG4E1lH5styC9qxogcv42EXJU9fqOZdG73aFzl8zp4uEiR-_", 
    "systemMessage": false, 
    "subject": "Re: Rules in JUnit 4.7", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Oh, and don t forget the T-shirt: http://www.cafepress.com/3riversinst David Saff", 
    "msgId": 21817, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 26495 invoked from network); 16 Jul 2009 18:59:09 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m4.grp.sp2.yahoo.com with QMQP; 16 Jul 2009 18:59:09 -0000\r\nX-Received: from unknown (HELO mail-ew0-f223.google.com) (209.85.219.223)\n  by mta3.grp.sp2.yahoo.com with SMTP; 16 Jul 2009 18:59:09 -0000\r\nX-Received: by ewy23 with SMTP id 23so388426ewy.19\n        for &lt;junit@yahoogroups.com&gt;; Thu, 16 Jul 2009 11:59:03 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.210.110.5 with SMTP id i5mr9897121ebc.58.1247770742743; Thu, \n\t16 Jul 2009 11:59:02 -0700 (PDT)\r\nIn-Reply-To: &lt;4f7da6b90907161128s425db590oe715145252d46a9b@...&gt;\r\nReferences: &lt;4f7da6b90907161128s425db590oe715145252d46a9b@...&gt;\r\nDate: Thu, 16 Jul 2009 14:59:02 -0400\r\nX-Google-Sender-Auth: c08bedf41946dcb0\r\nMessage-ID: &lt;4f7da6b90907161159l5b940e1fr9e6a8d214f479feb@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: Rules in JUnit 4.7\r\nX-Yahoo-Group-Post: member; u=341876227; y=MjAAgzydJkVZMHl1p3vW3lb-QbYcUkzB8gw6CPpvDFw\r\nX-Yahoo-Profile: dsaff\r\n\r\nOh, and don&#39;t forget the T-shirt:\n\nhttp://www.cafepress.com/3riversinst\n\n  =\r\n David Saff\n\nOn Thu, Jul 16, 2009 at 2:28 PM, David Saff&lt;david@...&gt; wr=\r\note:\n&gt; All,\n&gt;\n&gt; JUnit 4.7 will include a new mechanism for changing the beh=\r\navior and\n&gt; interpretation of test methods. =A0We are calling this feature =\r\nRules\n&gt; (replacing the earlier name Interceptors). =A0You can download a\n&gt; =\r\nsnapshot of this release from\n&gt; http://github.com/KentBeck/junit/downloads.=\r\n =A0We are planning no new\n&gt; feature for this version, and once the tagged =\r\nbugs are resolved\n&gt; (http://github.com/KentBeck/junit/issues/labels/4.7), w=\r\ne will issue an\n&gt; official release candidate, but early feedback is very, v=\r\nery welcome.\n&gt;\n&gt; Technical goodies follow. =A0Thanks,\n&gt;\n&gt; =A0 David Saff\n&gt;\n=\r\n&gt; There are already rules you&#39;re probably familiar with from way back in\n&gt; =\r\nJUnit 4.0:\n&gt;\n&gt; - The fundamental rule of JUnit: a test method is executed o=\r\nn a new\n&gt; instance of its declaring class. =A0It passes if and only if it\n&gt;=\r\n completes without throwing an exception.\n&gt; - The Before rule: a @Test meth=\r\nod is preceded by all @Before methods\n&gt; in the same class.\n&gt; - The After ru=\r\nle: a @Test method is followed by all @After methods in\n&gt; the same class.\n&gt;=\r\n - The timeout=3D rule: if a @Test annotation has a timeout=3D property, it=\r\n\n&gt; fails if it does not complete in under the given number of\n&gt; millisecond=\r\ns\n&gt; - The expected=3D rule: if a @Test annotation has an expected=3D proper=\r\nty,\n&gt; it passes if it throws an exception of the given class name, and fail=\r\ns\n&gt; otherwise.\n&gt;\n&gt; Starting with 4.7, you can add additional rules to metho=\r\nds in a class\n&gt; by declaring public fields in the class annotated with @Rul=\r\ne. =A0For\n&gt; example, here&#39;s a test that uses the TemporaryFolder rule (&quot;All=\r\n files\n&gt; created in the temporary folder during the test are deleted after =\r\nthe\n&gt; test completes.&quot;):\n&gt;\n&gt; =A0public static class HasTempFolder {\n&gt; =A0 =\r\n=A0@Rule\n&gt; =A0 =A0public TemporaryFolder folder=3D new TemporaryFolder();\n&gt;=\r\n\n&gt; =A0 =A0@Test\n&gt; =A0 =A0public void testUsingTempFolder() throws IOExcepti=\r\non {\n&gt; =A0 =A0 =A0File createdFile=3D folder.newFile(&quot;myfile.txt&quot;);\n&gt; =A0 =\r\n=A0 =A0File createdFolder=3D folder.newFolder(&quot;subfolder&quot;);\n&gt; =A0 =A0 =A0//=\r\n ...\n&gt; =A0 =A0}\n&gt; =A0}\n&gt;\n&gt; We&#39;re including implementations of the following=\r\n Rules:\n&gt; - TemporaryFolder: delete temp files after test completion\n&gt; - Ex=\r\nternalResource: reliably set up and tear down an arbitrary external resourc=\r\ne\n&gt; - ErrorCollector: collect multiple assertion failures per test method,\n=\r\n&gt; and report all at the end\n&gt; - Verifier: turn a passing test to failing if=\r\n an arbitrary condition\n&gt; is not met (all expected mock-object calls made, =\r\nno ERROR lines in the\n&gt; logs)\n&gt; - TestWatchman: Perform an additional task =\r\nbefore and after each test\n&gt; (a custom log, for example)\n&gt; - TestName: reme=\r\nmber the name of each test method, and make it\n&gt; available during the test =\r\nexecution.\n&gt; - Timeout: like the timeout=3D rule, but applies to all method=\r\ns in a\n&gt; class, and can take a run-time value.\n&gt; - ExpectedException: like =\r\nthe expected=3D rule, but can check exception\n&gt; messages, and other arbitra=\r\nry assertions.\n&gt;\n&gt; For more on using these rules, please see the release no=\r\ntes:\n&gt;\n&gt; http://github.com/dsaff/junit/blob/99a84a542f2ac532a8425fa0a778849=\r\n02b1c01b0/doc/ReleaseNotes4.7.txt\n&gt;\n&gt; In addition, you can implement your o=\r\nwn Rules by implementing the\n&gt; MethodRule interface. =A0Here&#39;s a Rule that =\r\nmarks all tests as passing,\n&gt; as long as I&#39;m the one running them:\n&gt;\n&gt; publ=\r\nic class DavidsAlwaysRight implements MethodRule {\n&gt; =A0 =A0 =A0 =A0public =\r\nStatement apply(Statement base, FrameworkMethod method, Object target) {\n&gt; =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (&quot;saff&quot;.equals(System.getenv(&quot;USER&quot;)))\n&gt; =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0return alwaysSuccess();\n&gt; =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0else\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0return base;\n&gt; =A0 =A0 =A0 =A0}\n&gt;\n&gt; =A0 =A0 =A0 =A0private State=\r\nment alwaysSuccess() {\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0return new Statemen=\r\nt() {\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0@Override\n&gt; =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0public void evaluate() throws Throwa=\r\nble {\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// d=\r\no nothing: always success!\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0}\n&gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0};\n&gt; =A0 =A0 =A0 =A0}\n&gt; }\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 21816, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 21816, 
    "contentTrasformed": false, 
    "postDate": "1247770742", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21816, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwNzE2MTEyOHM0MjVkYjU5MG9lNzE1MTQ1MjUyZDQ2YTliQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkwNzE2MTE1OWw1Yjk0MGUxZnI5ZTZhOGQyMTRmNDc5ZmViQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDkwNzE2MTEyOHM0MjVkYjU5MG9lNzE1MTQ1MjUyZDQ2YTliQG1haWwuZ21haWwuY29tPg=="
    }
}