{
    "numMessagesInTopic": 38, 
    "nextInTime": 22259, 
    "senderId": "J4qpkla7NFr5XSFDkSk4hd4NRKzApJUAKX6n0YfJ9GfC6d0ta2fj3lII6IsklqriQpQRP0wDgkWDwsii3dBELTdY", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Order of execution for tests", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "... I m not sure whether to classify this as a bug or a feature.  Do you have a real-world example of a three-or-more-level-deep dependency graph to look at?", 
    "msgId": 22258, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 46169 invoked from network); 5 Jan 2010 16:28:42 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 5 Jan 2010 16:28:42 -0000\r\nX-Received: from unknown (HELO mail-px0-f179.google.com) (209.85.216.179)\n  by mta3.grp.sp2.yahoo.com with SMTP; 5 Jan 2010 16:28:42 -0000\r\nX-Received: by pxi9 with SMTP id 9so12687749pxi.32\n        for &lt;junit@yahoogroups.com&gt;; Tue, 05 Jan 2010 08:27:42 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.12.4 with SMTP id p4mr4204700rvi.102.1262708862401; Tue, \n\t05 Jan 2010 08:27:42 -0800 (PST)\r\nIn-Reply-To: &lt;hhnt81+cn9k@...&gt;\r\nReferences: &lt;4f7da6b91001011851g52b9bde9g3c61f8e364411525@...&gt;\n\t &lt;hhnt81+cn9k@...&gt;\r\nDate: Tue, 5 Jan 2010 11:27:42 -0500\r\nX-Google-Sender-Auth: 8aa16d032ae98ef5\r\nMessage-ID: &lt;4f7da6b91001050827n12a7805fw7d03df34aa03ccfc@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: Order of execution for tests\r\nX-Yahoo-Group-Post: member; u=341876227; y=mC4N620emlG1OiFiJYd9B-nDsE_Zl_b1jlk4Jl7S91s\r\nX-Yahoo-Profile: dsaff\r\n\r\nOn Sat, Jan 2, 2010 at 11:45 AM, adrian.kuhn &lt;akuhn@...&gt; wrote:\n&gt;\n=\r\n&gt;\n&gt; Theories are indeed awesome!\n&gt;\n&gt; What I like most is that they open up =\r\nthe door for dynamic n:n dependencies\n&gt; =A0between tests. That is something=\r\n I never liked wrt JExample: dependencies are\n&gt; =A0limited to hardwired dec=\r\nlarations in the code.\n&gt;\n&gt; My concern with the theories of JUnit 4.4 =A0is =\r\nthat they introduce two\n&gt; =A0abstractions, @DataPoint and @Theory, and that=\r\n none of these two abstractions\n&gt; =A0returns reusable instances of the clas=\r\ns under tests. To speak in JExample\n&gt; =A0lingo you got pure producers and p=\r\nure consumers only (with more flexible\n&gt; =A0links between both though!) As =\r\na consequence, theories are limited to\n&gt; =A0dependency hierarchies of two l=\r\nevels only, while JExample can be used to\n&gt; =A0express dependency graphs of=\r\n any depth.\n\nI&#39;m not sure whether to classify this as a bug or a feature.  =\r\nDo you\nhave a real-world example of a three-or-more-level-deep dependency\ng=\r\nraph to look at?\n\n&gt; (Furthermore, of the two abstractions only theories are=\r\n tests, so we cannot\n&gt; =A0assert the validity of data points before returni=\r\nng them. This should be\n&gt; =A0fairly simple to solve though.)\n&gt;\n&gt; Imagine th=\r\nat @Theory were able to return reusable instances of the class under\n&gt; =A0t=\r\nests, then @DataPoint would become a theory without input. Then we could\n&gt; =\r\n=A0rewrite our working example as\n&gt;\n&gt; =A0@RunWith(Examples.class)\n&gt; =A0publ=\r\nic class ExampleStack {\n&gt; =A0 =A0@Example public Stack empty() {\n&gt; =A0 =A0 =\r\n=A0Stack s =3D new Stack();\n&gt; =A0 =A0 =A0assertEquals(true, s.isEmpty());\n&gt;=\r\n =A0 =A0 =A0return s;\n&gt; =A0 =A0}\n&gt; =A0 =A0@Example public Object FOO =3D &quot;F=\r\noo&quot;;\n&gt; =A0 =A0@Example public Object BAR =3D &quot;Bar&quot;;\n&gt; =A0 =A0@Example publi=\r\nc Stack shouldPushItemToTheTop(Stack s, Object item) {\n&gt; =A0 =A0 =A0s.push(=\r\nitem);\n&gt; =A0 =A0 =A0assertEquals(false, s.isEmpty());\n&gt; =A0 =A0 =A0assertEq=\r\nuals(item, s.top());\n&gt; =A0 =A0 =A0assertEquals(false, s.isEmpty());\n&gt; =A0 =\r\n=A0 =A0return s;\n&gt; =A0 =A0}\n&gt; =A0 =A0@Example public Stack shouldPopPushedI=\r\ntem(Stack s, Object item) {\n&gt; =A0 =A0 =A0assumeFalse(s.isEmpty());\n&gt; =A0 =\r\n=A0 =A0stack.push(item);\n&gt; =A0 =A0 =A0assertEquals(item, s.pop());\n&gt; =A0 =\r\n=A0 =A0return s;\n&gt; =A0 =A0}\n&gt; =A0 =A0@Example public Stack shouldPopTopItem=\r\n(Stack s) {\n&gt; =A0 =A0 =A0assumeFalse(s.isEmpty());\n&gt; =A0 =A0 =A0Object item=\r\n =3D s.top();\n&gt; =A0 =A0 =A0assertEquals(item, s.pop());\n&gt; =A0 =A0 =A0return=\r\n s;\n&gt; =A0 =A0}\n&gt; =A0}\n&gt;\n&gt; Running this will start without available input a=\r\nnd thus run all theories\n&gt; =A0(above called @Example so users dont attempt =\r\nto run this code in JUnit)\n&gt; =A0without input, once inputs are available we=\r\n can run turn by turn all theories\n&gt; =A0on all input. In fact, what we got =\r\nnow is a grammar for the creation of valid\n&gt; =A0instances of the class unde=\r\nr test.\n&gt;\n&gt; However, since the number of valid stack instances is infinite =\r\n(as is the case\n&gt; =A0for any non-trivial class) we have to stop somewhere i=\r\nf the test shall not\n&gt; =A0run forever.\n&gt;\n&gt; What I&#39;d like to emphasize is th=\r\nat JExample is not about dependencies only,\n&gt; =A0its other major focus is *=\r\ncomposable tests*. When writing tests (or\n&gt; =A0experimenting on a REPL, ala=\r\ns we have none in Java...) you should be able to\n&gt; =A0just say &quot;gimme a val=\r\nid instance of a stack with 3 elements&quot; and the\n&gt; =A0framework goes and cre=\r\nates one for you. So the above example is maybe even\n&gt; =A0closer to my init=\r\nial vision of JExample than what we have now. Using an\n&gt; =A0assumptions to =\r\nexpress that condition seems more flexile, whereas in JExample\n&gt; =A0you wou=\r\nld need to depend by name on another test that explicitly creates an\n&gt; =A0e=\r\nlements with three instances. So that seems to confirm your &quot;assumption\n&gt; =\r\n=A0sufficiency&quot; hypothesis, given there were composable theories.\n&gt;\n&gt; Perso=\r\nnally I do not consider dependencies the major contribution of JExample\n&gt; =\r\n=A0(even though it is a nice selling point) but *composable tests* thanks t=\r\no\n&gt; =A0return values. The very idea that tests produce valid instances of t=\r\nhe class\n&gt; =A0under tests and that these instances should be reused by othe=\r\nr tests. (Which\n&gt; =A0of course opens up the Pandora&#39;s box of having to clon=\r\ne examples to avoid\n&gt; =A0quadratic runtime and side-effects.)\n&gt;\n&gt; cheers,\n&gt;=\r\n AA\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n=\r\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22219, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22257, 
    "contentTrasformed": false, 
    "postDate": "1262708862", 
    "canDelete": false, 
    "nextInTopic": 22259, 
    "prevInTopic": 22257, 
    "headers": {
        "inReplyToHeader": "PGhobnQ4MStjbjlrQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMTA1MDgyN24xMmE3ODA1Znc3ZDAzZGYzNGFhMDNjY2ZjQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MTAwMTAxMTg1MWc1MmI5YmRlOWczYzYxZjhlMzY0NDExNTI1QG1haWwuZ21haWwuY29tPgkgPGhobnQ4MStjbjlrQGVHcm91cHMuY29tPg=="
    }
}