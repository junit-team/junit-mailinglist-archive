{
    "numMessagesInTopic": 3, 
    "nextInTime": 2043, 
    "senderId": "V_qvrKWw8UQVDid9dqivyNO2TZzLVnLyrTw5v7J7HmQxENWpD_44d_UrUoNKKXSHOj-VteJYxUYIaGwGeQ2BAko", 
    "systemMessage": false, 
    "subject": "Re: Junit manipulating exceptions", 
    "from": "Frank Enos &lt;fenos@...&gt;", 
    "authorName": "Frank Enos", 
    "msgSnippet": "Hi Jason. Thanks for responding. It s definitely not reaching the catch block. The assertions aren t being checked, and even adding a System.out.println( help", 
    "msgId": 2042, 
    "topicId": 2042, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1474258138\">Hi Jason. Thanks for responding.<br/>\n<br/>\nIt&#39;s definitely not reaching the catch block. The assertions aren&#39;t being <br/>\nchecked, and even adding a System.out.println(&quot;help me&quot;) or what have you, <br/>\nor a System.exit(); to the catch block has no effect. For some reason the <br/>\ncatch block is not catching the SQLException, even though if I catch the <br/>\nsuperclass Exception (as in my example testBadWrite2()), e.getClass() <br/>\nreturns the expected java.sql.SQLException. One of my initial thoughts was <br/>\nthat perhaps the Exception was being held somewhere in a Collection when <br/>\nthe test methods are executed (there&#39;s a lot of reflection going on, and <br/>\nI&#39;m not sure I know exactly what&#39;s happening) and implicitly upcast to <br/>\nException, but the attempt to cast the caught Exception to SQLException <br/>\nthrows a ClassCastException. I&#39;m mystified.<br/>\n<br/>\nBTW, toString(), when called on a subclass of Throwable returns the <br/>\nconcatenation of : the full name of the class, &quot;: &quot;, and the result of <br/>\ngetMessage(). If the Throwable was created without a message, it simply <br/>\nreturns  the name of the class.<br/>\n<br/>\nTake care.<br/>\nFrank<br/>\n<blockquote><span title=\"qreply\"> &gt;________________________________________________________________________<br/>\n&gt;<br/>\n&gt;Message: 9<br/>\n&gt;    Date: Fri, 20 Jul 2001 16:24:45 -0400<br/>\n&gt;    From: &quot;Jason Rogers&quot; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jason.rogers@...\">jason.rogers@...</a>&gt;<br/>\n&gt;Subject: RE: Junit manipulating exceptions?<br/>\n&gt;<br/>\n&gt;Frank,<br/>\n&gt;<br/>\n&gt;Are you sure that it isn&#39;t getting into the catch block?  Also, I didn&#39;t<br/>\n&gt;know that e.toString() returned the same thing as e.getMessage().  Is that<br/>\n&gt;so?<br/>\n&gt;<br/>\n&gt;-Jason<br/>\n&gt;<br/>\n&gt;     &gt; -----Original Message-----<br/>\n&gt;     &gt; From: Frank Enos [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:fenos@...\">fenos@...</a>]<br/>\n&gt;     &gt; Sent: Friday, July 20, 2001 3:13 PM<br/>\n&gt;     &gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt;     &gt; Subject: [junit] Junit manipulating exceptions?<br/>\n&gt;     &gt;<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; I&#39;ve provided coded examples below. My basic question is<br/>\n&gt;     &gt; this: Does Junit<br/>\n&gt;     &gt; (3.7) manipulate exceptions in some way that would<br/>\n&gt;     &gt; prevent an exception<br/>\n&gt;     &gt; from being caught in a normal try/catch block? The<br/>\n&gt;     &gt; behavior I&#39;m seeing is<br/>\n&gt;     &gt; that if I attempt to catch the specific exception thrown<br/>\n&gt;     &gt; by a method (e.g.<br/>\n&gt;     &gt; catch (java.sql.SQLException e), the catch block fails to<br/>\n&gt;     &gt; catch it and<br/>\n&gt;     &gt; Junit logs it as an error. If I use catch (Exception e),<br/>\n&gt;     &gt; the exception is<br/>\n&gt;     &gt; caught as I would expect. I find that I can call<br/>\n&gt;     &gt; getClass() on the caught<br/>\n&gt;     &gt; Exception and that it returns the expected SQLException,<br/>\n&gt;     &gt; whereas using<br/>\n&gt;     &gt; instanceof fails.<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; Examples (behaves the same using other methods throwing<br/>\n&gt;     &gt; other exception types)<br/>\n&gt;     &gt; methods are from:<br/>\n&gt;     &gt; public class PersistenceTest extends TestCase {...}<br/>\n&gt;     &gt;<br/>\n&gt;     &gt;    public static void main(String[] args) {<br/>\n&gt;     &gt;   try {<br/>\n&gt;     &gt;        PersistenceManager.singleton().write(&quot;insert into<br/>\n&gt;     &gt; noSuchTable<br/>\n&gt;     &gt; values(&#39;junk&#39;)&quot;);<br/>\n&gt;     &gt;     System.out.println(&quot;No exception writing to<br/>\n&gt;     &gt; non-existent table&quot;);<br/>\n&gt;     &gt;   } catch (SQLException e) {<br/>\n&gt;     &gt;     System.out.println(e.getClass().toString());<br/>\n&gt;     &gt;   }<br/>\n&gt;     &gt;    }<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; If I simply invoke this main()  method which I have added<br/>\n&gt;     &gt; to the test<br/>\n&gt;     &gt; class, it behaves as expected, printing the expected name<br/>\n&gt;     &gt; of the class and<br/>\n&gt;     &gt; exiting normally.<br/>\n&gt;     &gt;<br/>\n&gt;     &gt;    public void testBadWrite() {<br/>\n&gt;     &gt;   try {<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; PersistenceManager.singleton().write(&quot;insert into noSuchTable<br/>\n&gt;     &gt; values(&#39;hey&#39;)&quot;);<br/>\n&gt;     &gt;           fail(&quot;No exception writing to non-existent table&quot;);<br/>\n&gt;     &gt;   } catch (SQLException e) {<br/>\n&gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);<br/>\n&gt;     &gt;   }<br/>\n&gt;     &gt;    }<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; This test method fails to catch the SQLException, passing<br/>\n&gt;     &gt; it upwards and<br/>\n&gt;     &gt; logging an error.<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; The following test passes, however:<br/>\n&gt;     &gt;<br/>\n&gt;     &gt;    public void testBadWrite2() {<br/>\n&gt;     &gt;   try {<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; PersistenceManager.singleton().write(&quot;insert into noSuchTable<br/>\n&gt;     &gt; values(&#39;hey&#39;)&quot;);<br/>\n&gt;     &gt;           fail(&quot;No exception writing to non-existent table&quot;);<br/>\n&gt;     &gt;   } catch (Exception e) {<br/>\n&gt;     &gt;     assertEquals(&quot;java.sql.SQLException&quot;, e.getClass().getName())<br/>\n&gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);<br/>\n&gt;     &gt;   }<br/>\n&gt;     &gt;    }<br/>\n&gt;     &gt;<br/>\n&gt;     &gt; What am I missing?<br/>\n&gt;     &gt; Thanks,<br/>\n&gt;     &gt; Frank<br/>\n&gt;     &gt; </span></blockquote></div>", 
    "prevInTime": 2041, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "995729953", 
    "canDelete": false, 
    "nextInTopic": 2044, 
    "prevInTopic": 0, 
    "headers": {
        "inReplyToHeader": "PDk5NTcxMDU2My41MTguMjg5NTIubDEwQHlhaG9vZ3JvdXBzLmNvbT4=", 
        "messageIdInHeader": "PDUuMS4wLjE0LjAuMjAwMTA3MjExMTIxMjYuMDBhZTI1YThAbWFpbC5tbmguY29tPg=="
    }
}