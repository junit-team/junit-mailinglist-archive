{
    "numMessagesInTopic": 4, 
    "nextInTime": 15429, 
    "senderId": "0YcMOAayOrdBBDlC9kIGeaGjyFXqEgqvnuBT8dfwMiHCQQg3JSIwT8FhL6tu-RHo2NhvHLu7H01POG-l_j_kuyidCmvCNugI", 
    "systemMessage": false, 
    "subject": "RE: [junit] testing ant failure", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Thomas, I had to test a custom Ant task and the best strategy I could figure out was the kind of textual pattern matching you describe. Kent Beck Three Rivers", 
    "msgId": 15428, 
    "profile": "kentlbeck", 
    "topicId": 15396, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-225086568\">Thomas,<br/>\n<br/>\nI had to test a custom Ant task and the best strategy I could figure out was<br/>\nthe kind of textual pattern matching you describe.<br/>\n<br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; -----Original Message-----<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On <br/>\n&gt; Behalf Of Thomas L Roche<br/>\n&gt; Sent: Friday, November 11, 2005 1:34 PM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:user@...\">user@...</a>; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: [junit] testing ant failure<br/>\n&gt; <br/>\n&gt; &lt;Apologies in advance for cross-posting, but I couldn&#39;t decide which<br/>\n&gt; list was more appropriate.&gt;<br/>\n&gt; <br/>\n&gt; How to test that an ant script fails appropriately? Specifically:<br/>\n&gt; <br/>\n&gt; I&#39;m working on a build app (a java app for building lots of different<br/>\n&gt; things in lots of different places) that basically {creates, shleps,<br/>\n&gt; invokes} ant scripts. I have a few JUnit tests on the app (and am<br/>\n&gt; writing more). I&#39;m hooking in a scanner that causes a build to fail if<br/>\n&gt; a build prerequisite is not found. I know the scanner works because I<br/>\n&gt; can manually<br/>\n&gt; <br/>\n&gt; * move a prereq file so that it&#39;s not where the build expects it<br/>\n&gt; <br/>\n&gt; * see the BUILD FAILED message corresponds to the message attribute of<br/>\n&gt;   the appropriate &lt;fail&gt; task<br/>\n&gt; <br/>\n&gt; (Unfortunately existing, downstream tests in the current suite (that<br/>\n&gt; look for the appropriate build outputs) don&#39;t fail: they greenbar (in<br/>\n&gt; eclipse&#39;s runner), presumably because they don&#39;t run.)<br/>\n&gt; <br/>\n&gt; I&#39;d prefer to automate this, e.g. to create one or more separate<br/>\n&gt; suites with<br/>\n&gt; <br/>\n&gt; * setUp() that sets up the prereqs not-quite-correctly, then invokes<br/>\n&gt;   the build<br/>\n&gt; <br/>\n&gt; * a testBuildFailed() that checks for failure<br/>\n&gt; <br/>\n&gt; * a testBuildFailedAppropriately() that checks for appropriate failure<br/>\n&gt; <br/>\n&gt; What&#39;s the &quot;best way&quot; to test for appropriate failure? The only thing<br/>\n&gt; that comes to my mind is to parse the logfile, e.g.<br/>\n&gt; <br/>\n&gt; * check for a &quot;BUILD FAILED&quot; line<br/>\n&gt; <br/>\n&gt; * check that a line after the &quot;BUILD FAILED&quot; line contains the<br/>\n&gt;   appropriate failure message.<br/>\n&gt; <br/>\n&gt; Is there an easier/better way? Note that I do have access to the app<br/>\n&gt; code and scripts, and I am more-than-willing to instrument them for<br/>\n&gt; testability. </span></blockquote></div>", 
    "prevInTime": 15427, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1132005067", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15411, 
    "headers": {
        "inReplyToHeader": "PE9GQzkwNzUyNTAuMzdBREEwRDctT044NzI1NzBCNi4wMDc0MkY5MC04NTI1NzBCNi4wMDc2NTdBMUB1cy5pYm0uY29tPg==", 
        "messageIdInHeader": "PEUxRWJtRUotMDAwMVp4LTc0QHNtdHBhdXRoMDgubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}