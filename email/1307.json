{
    "numMessagesInTopic": 26, 
    "nextInTime": 1308, 
    "senderId": "Bn8QRT9axCJR30M8MdqRdyZnprSjhB3qcQtogRrqz8N5uDM8Z_4O8on_Au3TNyvZRCiLTSC4CUU5Y1qMQGa13HMdy_jtVvvf2zVmsAI50vsdwtgUgtwun7xf5q4", 
    "systemMessage": false, 
    "subject": "AW: [junit] How to test protected and private methods/ fields?", 
    "from": "=?US-ASCII?Q?Ilja_Preu=3F?= &lt;I.Preuss@...&gt;", 
    "authorName": "Ilja Preu?", 
    "msgSnippet": "... I have recently used a similar technique for legacy code I wanted to test but had no chance to refactor. Because my tests reside in their own packages and", 
    "msgId": 1307, 
    "topicId": 1267, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-2132452714\"><blockquote><span title=\"ireply\">&gt; The technique is one that I have found useful at least once,<br/>\n&gt; which is to put a public static inner class that extends<br/>\n&gt; junit.framework.TestCase in the<br/>\n&gt; class under test.  This gives the inner class full access to the outer<br/>\n&gt; class&#39;s private methods and members, while allowing the inner<br/>\n&gt; class to be an<br/>\n&gt; instance of a JUnit test case.  I sent an example of this to<br/>\n&gt; this list a few<br/>\n&gt; weeks ago.  Another handy thing is that when you compile the<br/>\n&gt; outer class,<br/>\n&gt; the inner test case is produced in a separate class file<br/>\n&gt; which can be safely<br/>\n&gt; deleted when packaging the outer class for production<br/>\n&gt; (because the outer<br/>\n&gt; class makes no references to the static inner class).<br/>\n<br/>\n </span></blockquote>I have recently used a similar technique for legacy code I wanted to test<br/>\nbut had no chance to refactor. Because my tests reside in their own packages<br/>\nand I didn&#39;t want to break this pattern, I decided to implement a test<br/>\ninterface as an inner class:<br/>\n<br/>\npublic class ClassToTest {<br/>\n  private void methodToTest() {<br/>\n    ...<br/>\n  }<br/>\n<br/>\n  public class TestInterface {<br/>\n    public void testMethod() {<br/>\n      methodToTest();<br/>\n    }<br/>\n}<br/>\n<br/>\nThis way I can call the private method via<br/>\n<br/>\n(instanceToTest.new TestInterface()).testMethod();<br/>\n<br/>\nI have to admit that this code is somewhat ugly, but I am happy with this -<br/>\nafter all I think it *is* a code smell... ;-)<br/>\n<br/>\nciao, Ilja</div>", 
    "prevInTime": 1306, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "990780492", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 1306, 
    "headers": {
        "inReplyToHeader": "PEMzODQzQkQxQjgzREQyMTE5RDc5MDAwMDkyQTdCQUQ0MDVGNDkxQTZAcGxhdGludW0uYWxsYWlyZS5jb20+", 
        "messageIdInHeader": "PDAwMDQwMWMwZTRmNyQ2ZWRhNGZmMCQwZGZmYThjMEBLYXNwZXI+"
    }
}