{
    "topicId": 1943, 
    "postDate": "997430109", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;David Roussel&quot; &lt;dir@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "22p6xLjoYLHyAjeU-e76Gz8QCo4l6e1rby9-p-T9GSpJDvSTwWO0XXa-ban8L92sxKQJuoaaeTqHPjeF-mHi-Gjmg8HCQfo", 
    "nextInTime": 2329, 
    "userId": 0, 
    "prevInTime": 2327, 
    "prevInTopic": 2321, 
    "headers": {
        "messageIdInHeader": "PEM2RDFCRDQzMDRCMDdGNEU5NjQyMjNCQUU1RDQ1RTJCMDlFQ0M3QGhlcm1lcy5ianNzLmNvLnVrPg=="
    }, 
    "authorName": "David Roussel", 
    "numMessagesInTopic": 9, 
    "msgSnippet": "I gather that JDK 1.4 will allow class reloading without the use of a custom class loader.  I m not sure by what mechanism this works, but it should help solve", 
    "contentTrasformed": false, 
    "msgId": 2328, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;david.roussel@...&gt;\r\nX-Sender: david.roussel@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_3_1); 10 Aug 2001 07:55:11 -0000\r\nReceived: (qmail 56478 invoked from network); 10 Aug 2001 07:55:10 -0000\r\nReceived: from unknown (10.1.10.26)\n  by l9.egroups.com with QMQP; 10 Aug 2001 07:55:10 -0000\r\nReceived: from unknown (HELO hermes.bjss.co.uk) (194.152.80.78)\n  by mta1 with SMTP; 10 Aug 2001 07:55:10 -0000\r\ncontent-class: urn:content-classes:message\r\nSubject: RE: [junit] Re: ClassCastException only using swing/awt ui\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nDate: Fri, 10 Aug 2001 08:55:09 +0100\r\nMessage-ID: &lt;C6D1BD4304B07F4E964223BAE5D45E2B09ECC7@...&gt;\r\nX-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] Re: ClassCastException only using swing/awt ui\r\nThread-Index: AcEhGO0teKPiJuo1R9et4FqgCTyZOgAWKv8A\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nX-eGroups-From: &quot;David Roussel&quot; &lt;david.roussel@...&gt;\r\nFrom: &quot;David Roussel&quot; &lt;dir@...&gt;\r\n\r\nI gather that JDK 1.4 will allow class reloading without the use of a\ncusto=\r\nm class loader.  I&#39;m not sure by what mechanism this works, but it\nshould h=\r\nelp solve these problems.\n\n-----Original Message-----\nFrom: Eric George [ma=\r\nilto:zymurgist2@...]\nSent: 09 August 2001 22:18\nTo: junit@yahoogroups.=\r\ncom\nSubject: Re: [junit] Re: ClassCastException only using swing/awt ui\n\n\nT=\r\nhe solution here is to make sure the shared classes are in the\n*classpath*\n=\r\nof the JUnit.\n\nThe problem is actually caused by the hierarchical class loa=\r\nding\nmechanism\nin JDK 1.3+.  Since JUnit uses a custom class loader, and RM=\r\nI uses a\ncustom\nclass loader, any class that is loaded by JUnit *and* loade=\r\nd\nautomatically\nduring a remote call will come from two different class loa=\r\nders and will\nfail a class comparison.  It is a bizarre thing, but I have c=\r\nome accross\nit\nmay times when RMI client classes are loaded by any custom c=\r\nlassloader.\nIt\nhappens often with RMI clients that are servlets since servl=\r\nets are\nusually\nloaded by the servlet containers&#39; custom class loader.\n\nThe=\r\n real solution would be to set the RMIClassLoader&#39;s parent\nclassloader to\nt=\r\nhat of the JUnit custom class loader.  This is not possible however, so\nthe=\r\n\nRMIClassLoader&#39;s parent is *always* the system classloader.  There are\nsev=\r\neral bugs logged against the RMI subsystem because of this.\n\nIn the meantim=\r\ne, the only workaround is to ensure all classes that are\nshared between the=\r\n server and the custom-class-loaded client are\navailable\nin the client&#39;s cl=\r\nasspath.\n\n----- Original Message -----\nFrom: &lt;reply_das@...&gt;\nTo: &lt;jun=\r\nit@yahoogroups.com&gt;\nSent: Thursday, August 09, 2001 1:54 PM\nSubject: [junit=\r\n] Re: ClassCastException only using swing/awt ui\n\n\n&gt; --- In junit@y..., Sco=\r\ntt Stirling &lt;sstirling@m...&gt; wrote:\n&gt; &gt; The solution would be to exclude yo=\r\nur EJB&#39;s interface classes\n&gt; &gt; from being\n&gt; &gt; loaded by the JUnit custom cl=\r\nass loader by adding them to the\n&gt; &gt; excluded.properties in junit.jar.  Gra=\r\nnted, not a very nice\n&gt; &gt; solution unless,\n&gt; &gt; perhaps, it were easier to m=\r\nodify the exclusion list.  I hear\n&gt; &gt; in JUnit 4.0\n&gt; &gt; that one idea is to =\r\nmake it easy to define exclusions in TestCases\n&gt; &gt; themselves.\n&gt;\n&gt; Hi,\n&gt; I =\r\nwas getting a ClassCastException with my EJBHome stubs and came\n&gt; across th=\r\nis mail. It solved this particular problem. Thanks!\n&gt;\n&gt; Of course I have an=\r\nother problem. My client and EJB classes share\n&gt; some common classes. When =\r\nthe client makes an EJB call and the bean\n&gt; returns these common classes, I=\r\n get another ClassCastException. These\n&gt; are not home stubs but just ordina=\r\nry Java classes.\n&gt;\n&gt; You had mentioned in your solution that we need to exc=\r\nlude the EJB\n&gt; interface classes. Does this mean I should exclude the EJB i=\r\nnterface\n&gt; classes *alone*. Currently I&#39;m excluding every class in the EJB\n=\r\n&gt; package from being loaded under the assumption that what is true for\n&gt; th=\r\ne EJB interfaces should be valid for the other classes too ... Or\n&gt; am I wr=\r\nong?\n&gt;\n&gt; Also, is this behavior specific to the JUnit 3.7 release?\n&gt; Any in=\r\nput would be appreciated!\n&gt; Thanks,\n&gt; --Das\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from thi=\r\ns group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your u=\r\nse of Yahoo! Groups is subject to\nhttp://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n\n\n\n=\r\nTo unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogr=\r\noups.com\n \n\nYour use of Yahoo! Groups is subject to\nhttp://docs.yahoo.com/i=\r\nnfo/terms/ \n\n\n\n", 
    "subject": "RE: [junit] Re: ClassCastException only using swing/awt ui"
}