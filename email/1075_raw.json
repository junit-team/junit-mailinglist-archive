{
    "topicId": 1073, 
    "postDate": "988718348", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "kumar@...", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "2C2moH5dBfRVuUmQuoRY-wYJ30FbZWvFXIzNTLVCN1Th0xNbHiBEcl3XX_919nIS56cyEtFAngo", 
    "nextInTime": 1076, 
    "userId": 0, 
    "prevInTime": 1074, 
    "prevInTopic": 1073, 
    "headers": {
        "inReplyToHeader": "PDNBRURCQkIzLjQ0MTlBNThDQGRpZ2l0YWxzZXNhbWUuY29tPg==", 
        "messageIdInHeader": "PDljbThlYyszdDUxQGVHcm91cHMuY29tPg=="
    }, 
    "authorName": "kumar@bigfoot.com", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "Dear All, Firstly i was happy to see david s detailed mail on this problem, i hv been facing a similar issue, and was wondering how to go about it, i hv", 
    "contentTrasformed": false, 
    "msgId": 1075, 
    "nextInTopic": 1076, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;kumar@...&gt;\r\nX-Sender: kumar@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_1_2); 1 May 2001 13:20:12 -0000\r\nReceived: (qmail 47391 invoked from network); 1 May 2001 12:35:02 -0000\r\nReceived: from unknown (10.1.10.26) by l9.egroups.com with QMQP; 1 May 2001 12:35:02 -0000\r\nReceived: from unknown (HELO ch.egroups.com) (10.1.10.51) by mta1 with SMTP; 1 May 2001 12:34:58 -0000\r\nX-eGroups-Return: kumar@...\r\nReceived: from [10.1.2.91] by ch.egroups.com with NNFMP; 01 May 2001 11:59:10 -0000\r\nDate: Tue, 01 May 2001 11:59:08 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: On extending JUnit with AspectJ...\r\nMessage-ID: &lt;9cm8ec+3t51@...&gt;\r\nIn-Reply-To: &lt;3AEDBBB3.4419A58C@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 4322\r\nX-Mailer: eGroups Message Poster\r\nFrom: kumar@...\r\n\r\nDear All,\n\nFirstly i was happy to see david&#39;s detailed mail on this problem, \n\ni hv been facing a similar issue, and was wondering how to go about \nit, i hv started using junitee ,or the servlet that comes along with \nthat... my server side unit tests are deployed as part of the server \nprocess. \n\nI would love to be able to test it from client classes? \nIs it possible to make my test programs run in the same server vm??\nbut not be part of the weblogic server process??? Most of the tests \nare server side ejb- test programs.\n\n\nProblem::\nI am on weblogic 5 everytime i change my unit tests i hv to restart \nweblogic, weblogic 6 is supposed to have a dynamic classloader, that \nreloads ordinary java classes,  but is there a simpler solution, than \nmigrating??.. and getting all the travails of weblogic 6.\n\nhow does one de-couple the unit tests from the server & make them \nseparate, and easily changeable..\n\nI was wondering if you have found a solution / work around for the \nsame?\n\nHope to hear from you folks,\n\nMany thanks Once again,\n\nregards\nKrishna Kumar\n(Singapore)\n\n--- In junit@y..., David Li &lt;david@d...&gt; wrote:\n&gt; Hi,\n&gt; \n&gt;   I think I just found a solution to my long time problem with \nJUnit. We\n&gt; do development mostly on server side components and most of these \nserver\n&gt; side classes need to run with the server context properly setup. \n&gt; \n&gt;   Setting up these server contxt often involve using specialized\n&gt; classloader to load the class. Using JUnit&#39;s native test runner \noften\n&gt; conflict with these classloader. ;( \n&gt; \n&gt;   We end up have to write our implementation of TestRunner for each \nof\n&gt; these environment and we often have to implement all three \nTestRunners.\n&gt; The work is tedious and this makes tracking new version of JUnit a \nlot\n&gt; harder. :(\n&gt; \n&gt;   There doesn&#39;t seem to be a good Object Oriented Java based \nsolution to\n&gt; this problem. The problem of having to adapt each TestRunner to \nspecific\n&gt; environment will requires extending all three TestRunner at the same\n&gt; time and have to call the class different names. \n&gt; \n&gt;   Aspect Oriented Programming (www.aspectj.org) seem to solve this\n&gt; problem elegantly. The following is a quick sample codes on adapting\n&gt; Log4J into JUnit which extending all three TestRunner in one file. \n&gt; \n&gt;   The problem: We use Log4J in our components and JUnit to unit \ntest of\n&gt; the components. The problem is that Log4J need to be initialized at\n&gt; least once from the main method. Doing it in a OO way will require \nus to\n&gt; extending all three TestRunner to something like \n&gt; \n&gt; public class TestRunnerWithLog4J extends junit.awtui.TestRunner\n&gt; {\n&gt;     public static void main(String[] args) {\n&gt;         Log4J_INIT_CODES_HERE;\n&gt;         super.main(args);\n&gt;     }\n&gt; }\n&gt; \n&gt;   Second problem we are having is that we need to document the fact \nand\n&gt; make our developers aware what TestRunner to be use with what \nframework.\n&gt; We now have three versions of TestRunner:\n&gt; \n&gt; TestRunnerWithEnhydra, TestRunnerWithOzone and TestRunnerWithLog4. \n&gt; \n&gt; In this case, Ozone uses Log4J as well. The list grows very fast \nand the\n&gt; extensions codes become a big tangled codes and maintaince hell!\n&gt; \n&gt; AspectJ seems to provide a very elegant solution to this. The \nfollowing\n&gt; is my first try to use AspectJ to solve this problem:\n&gt; \n&gt; ---\n&gt; package junit.aspect;\n&gt; \n&gt; aspect Log4JRunner {\n&gt; \n&gt;     pointcut runnerMain():\n&gt;         executions(public static void\n&gt; junit.awtui.TestRunner.main(String[])) ||\n&gt;         executions(public static void\n&gt; junit.textui.TestRunner.main(String[])) ||\n&gt;         executions(public static void\n&gt; junit.swingui.TestRunner.main(String[]));\n&gt; \n&gt;     before(): runnerMain() {\n&gt;         org.apache.log4j.BasicConfigurator.configure();\n&gt;        \n&gt; org.apache.log4j.Category.getRoot().setPriority\n(org.apache.log4j.Priority.DEBUG);\n&gt;     }\n&gt; }\n&gt; ---\n&gt; \n&gt; This aspect simply extending the main method in each TestRunner to\n&gt; properly initialize the Log4J. This extension gives three main\n&gt; advantages:\n&gt; \n&gt; 1. No modification to the original JUnit codes\n&gt; 2. No messy subclass of TestRunner to maintaine.\n&gt; 3. No special documents for each TestRunner for each environment.\n&gt; \n&gt; I&#39;d like to get the opinion of the JUnit users and developers on \nusing\n&gt; AOP as the extension proramming for JUnit.\n&gt; \n&gt; Thanks.\n&gt; \n&gt; David Li\n&gt; DigitalSesame\n\n\n", 
    "subject": "Re: On extending JUnit with AspectJ..."
}