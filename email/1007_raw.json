{
    "topicId": 1003, 
    "postDate": "987789328", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Logan, Daniel (ING)&quot; &lt;logand@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "MHSFHw28S2nvQbWNy01LYjMDyBWTaQsE6qH_nqaES85qQnhXP94Olnn6dZXAjOlZjurbd1EYy4oSnda_E7hL3AiGfMgdJ9eHuKIk1vmF-bRo", 
    "nextInTime": 1008, 
    "userId": 0, 
    "prevInTime": 1006, 
    "prevInTopic": 1005, 
    "headers": {
        "messageIdInHeader": "PEZEQjAyNDBDQjE5RUQzMTFCRDhEMDA1MDhCNUJGNzRCMDcyQTEwNTNAVFdSUC1FWENILTAwMT4="
    }, 
    "authorName": "Logan, Daniel (ING)", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "Thanks for the help!  Your response made me rethink the implementation of the message box dialog. When I first did it, i used the", 
    "contentTrasformed": false, 
    "msgId": 1007, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;LoganD@...&gt;\r\nX-Sender: LoganD@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_1_2); 20 Apr 2001 18:01:01 -0000\r\nReceived: (qmail 89543 invoked from network); 20 Apr 2001 18:00:55 -0000\r\nReceived: from unknown (10.1.10.142) by l9.egroups.com with QMQP; 20 Apr 2001 18:00:55 -0000\r\nReceived: from unknown (HELO w3.aetna.COM) (206.213.209.23) by mta3 with SMTP; 20 Apr 2001 18:00:55 -0000\r\nReceived: from winfire3.aetna.com (root@localhost) by w3.aetna.COM with ESMTP id OAA08724 for &lt;junit@yahoogroups.com&gt;; Fri, 20 Apr 2001 14:00:54 -0400 (EDT)\r\nReceived: from twrp-exch-910.aetna.com (twrp-exch-910.aetna.com [172.29.8.80]) by winfire3.aetna.com with ESMTP id OAA08714 for &lt;junit@yahoogroups.com&gt;; Fri, 20 Apr 2001 14:00:54 -0400 (EDT)\r\nReceived: by twrp-exch-910.aetna.com with Internet Mail Service (5.5.2650.21) id &lt;HP82MSKQ&gt;; Fri, 20 Apr 2001 14:00:53 -0400\r\nMessage-ID: &lt;FDB0240CB19ED311BD8D00508B5BF74B072A1053@TWRP-EXCH-001&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Testing JOptionPane\r\nDate: Fri, 20 Apr 2001 13:55:28 -0400\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2650.21)\r\nContent-Type: text/plain; charset=&quot;iso-8859-1&quot;\r\nFrom: &quot;Logan, Daniel (ING)&quot; &lt;logand@...&gt;\r\n\r\nThanks for the help!  Your response made me rethink the implementation of\nthe message box dialog.\n\nWhen I first did it, i used the JOptionPane.showMessageDialog(...)  which is\neasy to code but did not result in something testable since you can&#39;t get\nahold of the JOptionPane or the JDialog that is generated from the call.\n\nTo implement the test I had to have my application panel keep a reference to\na JOptionPane and keep resetting it and showing it in a Dialog when needed.\n\ne.g.\n\nprotected JOptionPane messageOptionPane=JOptionPane();  //instance variable\n.\n.\n.\n//later on in the method that wants to display a message dialog \n.\nmessageOptionPane.setMessage(&quot;My message&quot;);\nmessageOptionPane.setValue(JOptionPane.UNINITIALIZED_VALUE);\nJOptionDialog dialog = messageOptionPane.createDialog(this,&quot;My Title&quot;);\ndialog.setVisible(true);\n\n\nThis then allows my test code to inspect the state of the messageOptionPane\nvia tests like:\nassertEquals(&quot;Did not pick the OK Button&quot;,new\nInteger(JOptionPane.OK_OPTION), messageOptionPane.getValue() );\n\n\nAlthough not quite as easy easy as a one line implementation the 3 or four\nlines to pop-up the dialog is not bad, and has the big side benefit of being\ntestable, and maybe even a small side benefit of being more memory freindly\nsince I don&#39;t create a new JOptionPane every time.\n\nThanks again.\n\n-----Original Message-----\nFrom: Joi Ellis [mailto:joi@...]\nSent: Friday, April 20, 2001 10:08 AM\nTo: &#39;junit@yahoogroups.com&#39;\nSubject: Re: [junit] Testing JOptionPane\n\n\nOn Fri, 20 Apr 2001, Logan, Daniel (ING) wrote:\n\n&gt; Since the JOptionPane.showMessageDialog(...) method presents a modal\ndialog\n&gt; and the thread halts execution until a user intervenes how can I test\nthis?\n\nI&#39;d stick the showMessageDialog() call within a SwingUtilities.invokeLater()\ncall.  This allows your test thread to continue operating.\n\n&gt; \n&gt; here is the test case I am struggling with:\n&gt; \n&gt; public void testInformationMessage( )\n&gt; {\n&gt; \tMyPanel panel = new MyPanel();\n&gt; \tpanel.someButton.doClick();   //MyPanel will listen for button click\n&gt; and show info message\n\nEek.  doClick() is not thread-safe.  I ended up writing a static clicker\nmethod:\n\n /**\n   * Safely call doClick() on the specified JButton.\n   * @param button The button to doClick().\n   */\n  public static void safeDoClick(final JButton button) {\n    try {\n      SwingUtilities.invokeAndWait(\n        new Runnable() {\n          public void run() {\n            button.doClick();\n          }\n        }\n      );\n    }\n    catch (Exception ex) {\n      ex.printStackTrace();\n    }\n  }\n\nI&#39;d do something like this pseudo-code:\n  \n  safeShowMessageDialog( panel );\n  sleep(1 second);\n  assert(panel.isVisible());\n  safeDoClick(panel.button);\n  sleep(1 second);\n  assert(! panel.isVisible());\n  assert(&quot;whatever happens after button is clicked&quot;,...);\n\nI don&#39;t like using sleep() since it&#39;s fragile but I haven&#39;t had any\ntrouble with it in a year&#39;s testing, so...  I prefer turning the test class\ninto an event listener and having it wait for events to arrive before\nproceeding.  I have an extension class that implements a bunch of \nlisteners and stuffs events into a queue for later inspection.\n\n&gt; \t// assert????????   what do I assert here....after returning from\n&gt; doClick it is to late because\n&gt; \t//the JOptionPane would be closed\n&gt; \t//furthermore...how will I even automate the click on the OK button\n&gt; within the JOptionPane\n&gt; \t//so it does not just hang indefinitely?\n&gt; }\n-- \nJoi Ellis                    Software Engineer\nAravox Technologies          joi@..., gyles19@...\n\nNo matter what we think of Linux versus FreeBSD, etc., the one thing I\nreally like about Linux is that it has Microsoft worried.  Anything\nthat kicks a monopoly in the pants has got to be good for something.\n           - Chris Johnson\n\n\n\nTo unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogroups.com\n \n\nYour use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ \n\n\n", 
    "subject": "RE: [junit] Testing JOptionPane"
}