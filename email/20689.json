{
    "numMessagesInTopic": 7, 
    "nextInTime": 20690, 
    "senderId": "NxugIZF1oGS1LcTr-DA9h9tUplhdVzgeUjy0p3-K_KiWS8p9-82S0KCnzNvFl8346BN1ycSKpzLp2cpZqqAPLJjFHn-OoM8K", 
    "systemMessage": false, 
    "subject": "RE: [junit] Parameterized Tests, a proposal", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Malte, I don t have a better idea for parameterized tests. The current interface requires a lot of syntactic noise . We re open to proposals that simplify the", 
    "msgId": 20689, 
    "profile": "kentlbeck", 
    "topicId": 20667, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-472131561\">Malte,<br/>\n <br/>\nI don&#39;t have a better idea for parameterized tests. The current interface<br/>\nrequires a lot of syntactic &quot;noise&quot;. We&#39;re open to proposals that simplify<br/>\nthe API.<br/>\n <br/>\nAs far as having multiple fixtures in a single class, I don&#39;t see the value<br/>\nof moving away from the current model. Users can already apply inheritance<br/>\nto factor out common fixturing. It&#39;s true that &quot;one class=one fixture&quot;<br/>\nhasn&#39;t been very effectively communicated, but that&#39;s something we can work<br/>\non. I&#39;d like to see sets of real concrete tests that would be made simpler<br/>\nby allowing different parameters for different tests in the same class.<br/>\n <br/>\nOverall, I think what we have here is one of those design decisions that can<br/>\nreasonably go either way, depending on the underlying values of the project<br/>\ndevelopers. We&#39;ve always chosen simplicity of the API over flexibility if<br/>\nthe two are in conflict. Other projects have other values and decide<br/>\ndifferently.<br/>\n <br/>\nRegards,<br/>\n <br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\n<br/>\n  _____  <br/>\n<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\nMalte Finsterwalder<br/>\nSent: Monday, July 14, 2008 2:01 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: Re: [junit] Parameterized Tests, a proposal<br/>\n<br/>\n<br/>\n<br/>\nHi Kent,<br/>\n<br/>\nKent Beck wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; I agree that the current arrangement for parameterized tests is clunky.<br/>\n<br/>\n </span></blockquote>Do you have other ideas about how to improve it?<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; However, the solution you propose--different tests in the same class being<br/>\n&gt; parameterized by different (or even no) data, contradicts a fundamental<br/>\n&gt; element of JUnit&#39;s design: one class/one fixture.<br/>\n&gt;<br/>\n&gt; Your proposal is akin, it<br/>\n&gt; seems to me, to having different tests in the same class use different<br/>\n </span></blockquote>sets<br/>\n<blockquote><span title=\"ireply\"> &gt; of @Befores. You could do that using a similar syntax to that outlined<br/>\n&gt; below, but it would make it harder to read tests declaratively. With the<br/>\n&gt; current design, if I want to know what data a test will have available, I<br/>\n&gt; read the @Befores (and @Parameters). Then I can read all the tests<br/>\n </span></blockquote>assuming<br/>\n<blockquote><span title=\"ireply\"> &gt; those are the conditions under which it will execute. If I have a<br/>\n </span></blockquote>diffferent<br/>\n<blockquote><span title=\"ireply\"> &gt; fixture, I go to a different class.<br/>\n&gt; <br/>\n&gt; Can you tell me a little more about what benefits you see from your<br/>\n </span></blockquote>proposed<br/>\n<blockquote><span title=\"ireply\"> &gt; arrangement and in which circumstances it would be superior to having<br/>\n </span></blockquote>tests<br/>\n<blockquote><span title=\"ireply\"> &gt; with different fixtures in different classes?<br/>\n<br/>\n </span></blockquote>I don&#39;t think that the parameterization and the test fixture are the same.<br/>\n<br/>\nAnd I think it&#39;s normal to have part of my test fixture shared in a <br/>\nBefore-Method. And then I extend (or modify) this setup slightly inside <br/>\nmy different test methods.<br/>\n<br/>\nI want to do some tests with a customer object, for example how the <br/>\ncustomer responds to billing differnt items to his account.<br/>\nSome of theses tests can be parameterized, some can&#39;t.<br/>\n<br/>\ne.g. I want to write a test that billing &quot;null&quot; is not allowed and <br/>\nthrows an exception. This test is not parameterized.<br/>\nThen I want to bill different goods and I want to see, that the customer <br/>\nresponds correctly by say calculating a correct bonus, according to his <br/>\nstate. To check this, I need to bill 10 different goods, cause some of <br/>\nthem have a bonus, some don&#39;t, etc.<br/>\nThese 10 tests can be parameterized with a good to bill and the <br/>\nresulting bonus. They still use the same fixture, namely the customer <br/>\nobject.<br/>\n<br/>\nI would like all these tests in the same class, since they use the same <br/>\nfixture and test a coherent set of functionality.<br/>\n<br/>\nDoes that make more sense now?<br/>\n<br/>\nBTW: I learned, that testNG uses an approach like the one I proposed.<br/>\nAns reading up on Theries, I noticed, that they have a somewhat similar <br/>\napproach as well.<br/>\n<br/>\nRegard,<br/>\nMalte<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; From: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com<br/>\n </span></blockquote>&lt;mailto:junit%40yahoogroups.com&gt; <br/>\n<blockquote><span title=\"ireply\"> &gt; [mailto:junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com<br/>\n </span></blockquote>&lt;mailto:junit%40yahoogroups.com&gt;] On Behalf Of<br/>\n<blockquote><span title=\"ireply\"> &gt; Malte Finsterwalder<br/>\n&gt; Sent: Wednesday, July 09, 2008 12:01 AM<br/>\n&gt; To: junit YahooGroup<br/>\n&gt; Subject: [junit] Parameterized Tests, a proposal<br/>\n&gt; <br/>\n&gt; Hi,<br/>\n&gt; <br/>\n&gt; I just got around to looking into parameterized tests a little more.<br/>\n&gt; But it confirmed the impression I got when they came out with JUnit 4.<br/>\n&gt; They are sooo clunky, that I rather write a test that calls a<br/>\n&gt; helper-method with parameters instead.<br/>\n&gt; <br/>\n&gt; But this time I had time to ask myself: Why is it so clunky?<br/>\n&gt; In what way could it be better.<br/>\n&gt; <br/>\n&gt; So I came up with an idea, how I would like it to be.<br/>\n&gt; And here is an example:<br/>\n&gt; <br/>\n&gt; @RunWith(Parameterized.class)<br/>\n&gt; public class MyParameterizedTest {<br/>\n&gt; <br/>\n&gt; private Object[] data = new Object[][] {<br/>\n&gt; {&quot;param1&quot;, 2, 3},<br/>\n&gt; {&quot;other&quot;, 5, 99},<br/>\n&gt; {&quot;more&quot;, 234, 5875727343}<br/>\n&gt; };<br/>\n&gt; <br/>\n&gt; // The parameter given as &quot;data&quot; here, specifies that<br/>\n&gt; // attribute, that contains the parameters for the test<br/>\n&gt; @ParameterizedTest(&quot;data&quot;)<br/>\n&gt; public void testWhatever(String str, int i, long j) {<br/>\n&gt; // This method gets called 3 times<br/>\n&gt; // once for each line in the above Object[]<br/>\n&gt; <br/>\n&gt; // do whatever here<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; @Test<br/>\n&gt; public void plainNonParameterizedTest() {<br/>\n&gt; // this is a normal unit test that is<br/>\n&gt; // called just once<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; I think it&#39;s a lot easier this way.<br/>\n&gt; It allows mixing of parameterized tests and non parameterized tests, if<br/>\n&gt; you like.<br/>\n&gt; I allows for several parameterized tests in a single class.<br/>\n&gt; And I don&#39;t see disadvantages.<br/>\n&gt; <br/>\n&gt; It could be even simpler, if it were incorporated into the existing<br/>\n&gt; JUnit Test-annotation, like so:<br/>\n&gt; <br/>\n&gt; // no @RunWith-Annotation here<br/>\n&gt; public class MyParameterizedTest {<br/>\n&gt; <br/>\n&gt; private Object[] data = new Object[][] {<br/>\n&gt; {&quot;param1&quot;, 2, 3},<br/>\n&gt; {&quot;other&quot;, 5, 99},<br/>\n&gt; {&quot;more&quot;, 234, 5875727343}<br/>\n&gt; };<br/>\n&gt; <br/>\n&gt; // The parameter given as &quot;data&quot; here, specifies that<br/>\n&gt; // attribute, that contains the parameters for the test<br/>\n&gt; // Use of standard Test-annotation with a new parameter<br/>\n&gt; @Test(parameterized=&quot;data&quot;)<br/>\n&gt; public void testWhatever(String str, int i, long j) {<br/>\n&gt; // This method gets called 3 times<br/>\n&gt; // once for each line in the above Object[]<br/>\n&gt; <br/>\n&gt; // do whatever here<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; What do you think?<br/>\n&gt; <br/>\n&gt; I already tried to implement the first version, since it&#39;s non<br/>\n&gt; intrusive, but looking into extending JUnit, I found that it&#39;s a pain in<br/>\n&gt; the behind, if you don&#39;t want to extends internals-stuff.<br/>\n&gt; But maybe I&#39;m just misunderstanding or missing things.<br/>\n&gt; But that&#39;s another story for another post... shortly...<br/>\n&gt; <br/>\n&gt; Greetings,<br/>\n&gt; Malte<br/>\n<br/>\n<br/>\n<br/>\n <br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 20688, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1216146076", 
    "canDelete": false, 
    "nextInTopic": 20696, 
    "prevInTopic": 20685, 
    "headers": {
        "inReplyToHeader": "PDQ4N0IxNURELjEwOTA4MDhAZmluc3RlcndhbGRlci5uYW1lPg==", 
        "messageIdInHeader": "PDAwZmMwMWM4ZTZhNyQ5MmJlNDg5MCQ4MzAzYThjMEBrZW50c3BhdmlsaW9uPg==", 
        "referencesHeader": "PDQ4NzQ2MjExLjMwNjAxMDBAZmluc3RlcndhbGRlci5uYW1lPiA8MDE5YzAxYzhlMmJkJGY4OGYzNDEwJDQwMDBhOGMwQGtlbnRzcGF2aWxpb24+IDw0ODdCMTVERC4xMDkwODA4QGZpbnN0ZXJ3YWxkZXIubmFtZT4="
    }
}