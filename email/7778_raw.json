{
    "numMessagesInTopic": 14, 
    "nextInTime": 7779, 
    "senderId": "-KK14fy5oOPczJ_4LBLX-LJWDG7gN9W8hRypdrC_rb_EyHS04I25-OMVXZ-ccelUqCq4qziNDzvJ5A3oT81YoUsY2Iav8kD1r1WOqxCbRw", 
    "systemMessage": false, 
    "subject": "RE: [junit] A test to verify that an event is generated", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "That s an interesting approach. It s slightly different from what I would do. Why a MockService? Is the service not the thing you re testing? I always get", 
    "msgId": 7778, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 18 Apr 2003 18:31:24 -0000\r\nReceived: (qmail 95630 invoked from network); 18 Apr 2003 18:31:22 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m9.grp.scd.yahoo.com with QMQP; 18 Apr 2003 18:31:22 -0000\r\nReceived: from unknown (HELO fep04-mail.bloor.is.net.cable.rogers.com) (66.185.86.74)\n  by mta2.grp.scd.yahoo.com with SMTP; 18 Apr 2003 18:31:23 -0000\r\nReceived: from quincy ([24.156.202.2])\n          by fep04-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030418183120.HRZG380483.fep04-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Fri, 18 Apr 2003 14:31:20 -0400\r\nMessage-ID: &lt;200304181431200615.002B0881@...&gt;\r\nIn-Reply-To: &lt;4A798B3E3B58794FB40A47DFCE728BA80914BA@...&gt;\r\nReferences: &lt;4A798B3E3B58794FB40A47DFCE728BA80914BA@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Fri, 18 Apr 2003 14:31:20 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: RE: [junit] A test to verify that an event is generated\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep04-mail.bloor.is.net.cable.rogers.com from [24.156.202.2] using ID &lt;jbrains@...&gt; at Fri, 18 Apr 2003 14:31:20 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\nThat&#39;s an interesting approach. It&#39;s slightly different from what I would d=\r\no.\n\nWhy a MockService? Is the service not the thing you&#39;re testing? I alway=\r\ns get nervous when I have to mock the thing I&#39;m testing. Since you&#39;re testi=\r\nng the event source, I would recommend rewriting this test so that the even=\r\nt source you test is an actual event source, and not some subclass (however=\r\n trivial) of it.\n\nDoes it matter in this particular situation? Likely not. =\r\nWould it matter in some other, similar situation? It may. I would take the =\r\nopportunity to learn something about your design.\n\nFor example: factor out =\r\nthe event source from the abstract class, then test the event source on its=\r\n own.\n\nAlso, here is a code sample from what I meant. Perhaps it will work =\r\nfor you.\n\npublic void testEventFired() {\n    EventSource eventSource =3D ne=\r\nw EventSource();\n    SpyEventListener spyEventListener =3D new SpyEventList=\r\nener();\n    eventSource.addEventListener(spyEventListener);\n\n    eventSourc=\r\ne.methodThatFiresEvent();\n\n    ExpectedEvent expectedEvent =3D new Expected=\r\nEvent();\n    assertEquals(Collections.singletonList(expectedEvent),\n       =\r\n          spyEventListener.getEventsFired());\n}\n\nSpyEventListener...\n    Li=\r\nst getEventsFired() { ... }\n\nAny better for you? Take care.\n\n&gt;So said Kris =\r\nHenderson on 4/17/2003 --------------------\n&gt;&gt; From: J. B. Rainsberger [mai=\r\nlto:jbrains@...] \n&gt;&gt; Q: Is threading required to verify generating t=\r\nhe event? \n&gt;&gt; Avoiding it would be better.\n&gt;\n&gt;That&#39;s kind of what I was thi=\r\nnking but I was having a hard time figuring\n&gt;out how to do it.\n&gt;\n&gt;Thankyou =\r\nVladimir, Manuel, and J.B.  I rewrote my test taking your\n&gt;suggestions into=\r\n account and my test is much more elegant now.\n&gt;\n&gt;Here&#39;s what my test looks=\r\n like after I rewrote it:\n&gt;\n&gt;    public void testEvents()\n&gt;    {\n&gt;        f=\r\ninal DeviceDescriptor device =3D new\n&gt;DeviceDescriptor(DeviceType.PRINTER, =\r\n&quot;Name&quot;, &quot;Address&quot;);\n&gt;\n&gt;        class MockService extends AbstractDeviceList=\r\nService\n&gt;        {\n&gt;            public MockService()\n&gt;            {\n&gt;      =\r\n      }        \n&gt;        }\n&gt;\n&gt;        class MockListener implements DeviceL=\r\nistListener\n&gt;        {\n&gt;            public int addCount =3D 0;\n&gt;           =\r\n public int removeCount =3D 0;\n&gt;            \n&gt;            public void devic=\r\neAdded(DeviceListEvent event)\n&gt;            {\n&gt;                addCount +=3D=\r\n 1;\n&gt;                assertEquals(event.getDevice(), device);\n&gt;            =\r\n}\n&gt;            public void deviceRemoved(DeviceListEvent event)\n&gt;          =\r\n  {\n&gt;                removeCount +=3D 1;\n&gt;                assertEquals(even=\r\nt.getDevice(), device);\n&gt;            }\n&gt;        }\n&gt;        \n&gt;        MockSe=\r\nrvice service =3D new MockService();\n&gt;        MockListener listener =3D new=\r\n MockListener();\n&gt;\n&gt;        service.addDeviceListListener(listener);\n&gt;\n&gt;   =\r\n     service.addDevice(device);\n&gt;        assertEquals(listener.addCount, 1)=\r\n;\n&gt;\n&gt;        service.removeDevice(device, 0);\n&gt;        assertEquals(listene=\r\nr.removeCount, 1);\n&gt;    }\n&gt;\n&gt;Kris\n&gt;\n&gt;Yahoo! Groups Sponsor\n&gt;\n&gt;\n&gt;\n&gt;To unsubs=\r\ncribe from this group, send an email to:\n&gt;junit-unsubscribe@yahoogroups.com=\r\n\n&gt;\n&gt;\n&gt;Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.\n=\r\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s write softwar=\r\ne that people understand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416=\r\n 791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 7751, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 7777, 
    "contentTrasformed": false, 
    "postDate": "1050690680", 
    "canDelete": false, 
    "nextInTopic": 7779, 
    "prevInTopic": 7775, 
    "headers": {
        "inReplyToHeader": "PDRBNzk4QjNFM0I1ODc5NEZCNDBBNDdERkNFNzI4QkE4MDkxNEJBQFNUUjFWRVhDMDAyLkNUSEVTLkNPTT4=", 
        "messageIdInHeader": "PDIwMDMwNDE4MTQzMTIwMDYxNS4wMDJCMDg4MUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDRBNzk4QjNFM0I1ODc5NEZCNDBBNDdERkNFNzI4QkE4MDkxNEJBQFNUUjFWRVhDMDAyLkNUSEVTLkNPTT4="
    }
}