{
    "numMessagesInTopic": 38, 
    "nextInTime": 5937, 
    "senderId": "3UY2oETyibAfCUW3PUPRX0uNJdxWc7y5GFuz5QTa6KEnk7QSJxtjskpxLsN-O6xo-OiCOJU8jGLyAD3p6OW_844Ot91nyS2rNdXYhA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Do JUnit internals suck?!?", 
    "from": "Berin Loritsch &lt;bloritsch@...&gt;", 
    "authorName": "Berin Loritsch", 
    "msgSnippet": "... The whole Name thing is irrelevant at this point.  If a Test implements the TestFixture interface, then it will use reflection to pull all the interfaces.", 
    "msgId": 5936, 
    "rawEmail": "Return-Path: &lt;bloritsch@...&gt;\r\nX-Sender: bloritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_1_1_4); 3 Oct 2002 19:22:34 -0000\r\nReceived: (qmail 69442 invoked from network); 3 Oct 2002 19:17:36 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m11.grp.scd.yahoo.com with QMQP; 3 Oct 2002 19:17:36 -0000\r\nReceived: from unknown (HELO www1.kc.aoindustries.com) (209.15.201.70)\n  by mta2.grp.scd.yahoo.com with SMTP; 3 Oct 2002 19:17:35 -0000\r\nReceived: from apache.org ([65.105.132.131])\n\tby www1.kc.aoindustries.com (8.11.6/8.11.0) with ESMTP id g93JHM302332\n\tfor &lt;junit@yahoogroups.com&gt;; Thu, 3 Oct 2002 14:17:24 -0500\r\nMessage-ID: &lt;3D9C994F.30608@...&gt;\r\nDate: Thu, 03 Oct 2002 15:23:59 -0400\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.1) Gecko/20020826\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Re: Do JUnit internals suck?!?\r\nReferences: &lt;ani3lv+q2cq@...&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Berin Loritsch &lt;bloritsch@...&gt;\r\nX-Yahoo-Group-Post: member; u=64910131\r\nX-Yahoo-Profile: bloritsch\r\n\r\nkentlbeck wrote:\n&gt; --- In junit@y..., Berin Loritsch &lt;bloritsch@a...&gt; wrote:\n&gt; \n&gt;&gt;How about starting by associating the TestCase/TestSuite contracts \n&gt; \n&gt; with\n&gt; \n&gt;&gt;explicit interfaces.  That way you strengthen the API, removing\n&gt;&gt;dependencies on those two classes.\n&gt; \n&gt; \n&gt; What would you like to see in the interfaces? For TestCase, I see:\n&gt; \tint countTestCases() // Makes sense\n&gt; \tTestResult run() // Utility method, not general enough for \n&gt; an interface\n&gt; \trun(TestResult result) // Makes sense\n&gt; \trunBare() throws Throwable // Used internally\n&gt; \tString toString() // Already in Object\n&gt; \tString getName() // Makes sense\n&gt; \tsetName(String name) // Used internally\n\n\nThe whole Name thing is irrelevant at this point.  If a Test\nimplements the TestFixture interface, then it will use reflection\nto pull all the interfaces.  So the interface should be something\nlike this:\n\ninterface TestFixture\n{}\n\nWhen the Test Collector/Test Runner runs across any Class\nimplementing TestFixture, it is converted into a group of\nTest objects.  In fact, you can use JDK 1.3 dynamic proxies\nto generate them.\n\nIt is a simple marker interface that tells the Test Runner/\nSuite/ etc. that the class is really a bunch of individual\ntests.\n\nI have played with a dynamic Delegate framework that really\nworks well, and can perform the function of converting the\nindividual methods into a Test for you.\n\n\n&gt; For TestSuite, I see:\n&gt; \taddTest(Test test) // Makes sense for the composite\n&gt; \taddTestSuite(Class testClass) // Really belongs in another \n&gt; class\n&gt; \tint countTestCases() // Makes sense\n&gt; \trun(TestResult result) // Makes sense\n&gt; \trunTest(Test test, TestResult result) // Used internally\n&gt; \tTest testAt(int index) // Makes sense for the composite\n&gt; \tint testCount() // Used in the tree model\n&gt; \tEnumeration tests() // Also used in the tree model\n&gt; \tString toString() // Already in Object\n&gt; \tsetName(String name) // Used internally\n&gt; \tString getName() // Makes sense\n\n\nFor TestSuite, I see another very simple interface:\n\ninterface Suite\n{\n     void addTest( Test test );\n     int countTestCases();\n     Iterator tests();\n}\n\nWith an extenal Static utility class that performs the &quot;multi-add&quot;\nfunctionality of the addTestSuite( Class testClass ):\n\nclass TestUtil\n{\n      Test[] processTestFixture( TestFixture fixture )\n      { /* .... reflection code here */ }\n\n      void addTestSuite( Suite suite, Test test )\n      {\n          suite.addTest( test );\n      }\n\n      void addTestSuite( Suite suite, TestFixture fixture )\n      {\n          Test[] tests = processTestFixture( fixture );\n\n          for( int i = 0; i &lt; tests.length; i++ )\n          {\n              suite.addTest( tests[i] );\n          }\n      }\n\n      void addTestSuite( Suite suite, Suite newSuite )\n      {\n          Iterator it = newSuite.tests();\n\n          while ( it.hasNext() )\n          {\n              suite.addTest( (Test) it.next() );\n          }\n      }\n}\n\n\nThat way you are always working with the Test interface in\nthe Runner.\n\n\n&gt; There is a common interface, which is the same as Test with the \n&gt; addition of getName(), and there is the possibility of a second \n&gt; interface to represent a composite of tests.\n\nIf you add getName() to Test, then the Utility can auto-generate\nthe test names.\n\n\n&gt; The compression of fixtures and single test cases into one class is \n&gt; regrettable, but better than any of the alternatives we explored. \n&gt; You can still write a single test case per class if you want. In \n&gt; answer to an earlier comment, an instance of TestCase is always a \n&gt; leaf, never an interior node in the Composite. The class is used as \n&gt; a token in building suites, true, but never an instance.\n\nWhat do you think about the outline above?\n\nI am of the opinion that the logic to run a test should be completely\ninside the TestRunner, and not as a part of the Test.\n\nIn this infrastructure we have the most flexibility we can hope to\noffer for JUnit, and still provide some backwards compatibility.\n\n\n-- \n\n&quot;They that give up essential liberty to obtain a little temporary safety\n  deserve neither liberty nor safety.&quot;\n                 - Benjamin Franklin\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 5875, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 64910131, 
    "prevInTime": 5935, 
    "contentTrasformed": false, 
    "postDate": "1033673039", 
    "canDelete": false, 
    "nextInTopic": 5939, 
    "prevInTopic": 5935, 
    "headers": {
        "messageIdInHeader": "PDNEOUM5OTRGLjMwNjA4QGFwYWNoZS5vcmc+", 
        "referencesHeader": "PGFuaTNsditxMmNxQGVHcm91cHMuY29tPg=="
    }
}