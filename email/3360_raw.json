{
    "numMessagesInTopic": 19, 
    "nextInTime": 3361, 
    "senderId": "2kgEoUWPLB8Z_cDq6m1UHz65GI2rHVoPcL_WEovstWtLRzSNU8-cmcwdKjf0doLNMocQ5Zx_KLae", 
    "systemMessage": false, 
    "subject": "Re: [junit] RE: [Junit-devel] Making JUnit more pluggable for add-ons", 
    "from": "&lt;evought@...&gt;", 
    "authorName": "evought@qlue.com", 
    "msgSnippet": "I m a little confused. If you are using an instrumented VM, why would you want the TestRunner to launch it? Don t you normally launch the TestRunner from", 
    "msgId": 3360, 
    "rawEmail": "Return-Path: &lt;evought@...&gt;\r\nX-Sender: evought@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_0_1); 27 Nov 2001 21:15:21 -0000\r\nReceived: (qmail 28233 invoked from network); 27 Nov 2001 21:15:20 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m9.grp.snv.yahoo.com with QMQP; 27 Nov 2001 21:15:20 -0000\r\nReceived: from unknown (HELO ral.qlue.com) (65.201.137.7)\n  by mta1.grp.snv.yahoo.com with SMTP; 27 Nov 2001 21:15:20 -0000\r\nReceived: from brain.qlue-lan (brain.qlue-lan [192.168.1.55])\n\tby ral.qlue.com (Postfix) with ESMTP\n\tid 181011C629; Tue, 27 Nov 2001 16:15:18 -0500 (EST)\r\nDate: Tue, 27 Nov 2001 16:15:16 -0500 (EST)\r\nX-Sender:  &lt;adfh@...-lan&gt;\r\nTo: &quot;Junit@Yahoogroups. Com&quot; &lt;junit@yahoogroups.com&gt;\r\nCc: &lt;junit-devel@...&gt;\r\nSubject: Re: [junit] RE: [Junit-devel] Making JUnit more pluggable for add-ons\r\nIn-Reply-To: &lt;NDBBJEFKMDGFIBEKKELEEECADJAA.msilverstein@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.30.0111271550480.18887-100000@...-lan&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: &lt;evought@...&gt;\r\nX-Yahoo-Profile: eric_vought\r\n\r\nI&#39;m a little confused. If you are using an instrumented VM, why would you\nwant the TestRunner to launch it? Don&#39;t you normally launch the TestRunner\nfrom within a VM?\n\njava junit.textui.TestRunner\n\nbecomes:\n\nmyvm junit.textui.TestRunner\n\nIt&#39;s easy enough to use an &lt;exec&gt; statement in ANT or use ANT&#39;s extension\nmechanism to have it use a different VM for your unit test target.\n\nAre you looking to have the TestRunner run in a different VM from the\ntestcases? In that case, a good generic mechansim would be to have a\nTestCaseProxy or some such which causes a test case to be invoked in a\ndifferent VM. I have had to do something like that in the past for a\nclient&#39;s project. The TestCaseProxy invoked a set of tests in a remote VM\nvia RMI. Unfortunately, this was using a different test harness and the\ncode is not available to me now.\n\nOn Tue, 27 Nov 2001, Michael Silverstein wrote:\n\n&gt; &lt; at the request of several people, I&#39;m continuing to cross-post. Anyway,\n&gt; junit-devel@... seems to have a lot of noise from build\n&gt; updates that are probably not interesting to most people and would\n&gt; discourage them from subscribing &gt;\n&gt;\n&gt; ....\n&gt;\n&gt; In http://www.geocrawler.com/archives/3/8174/2001/7/0/6256758/ there is a\n&gt; description of a TestRunListener interface that would accomplish what I need\n&gt; for being notified when a test starts and ends. The thing I didn&#39;t mention\n&gt; is that for the purpose of profiling I will be launching the test in an\n&gt; instrumented VM, so I need to completely override the present test execution\n&gt; scheme.\n&gt;\n&gt; At first blush, one might approach this by implementing a new TestRunner\n&gt; that launches an instrumented VM, but I would have to do this several times\n&gt; to support each TestRunner presentation, which is not practical.  That&#39;s why\n&gt; I proposed a simple decorator, because it requires the least rework of the\n&gt; existing architecture (simplest thing that could possibly work). Perhaps\n&gt; once the model and view have been sufficiently separated, the TestRunner\n&gt; approach will become more practical.\n&gt;\n&gt; ^^^^^^^^^^^^^^^^^^^^^^^^^\n&gt; Mike Silverstein\n&gt; SilverMark, Inc.\n&gt; The object testing company\n&gt; http://www.silvermark.com\n&gt;\n&gt; &gt; -----Original Message-----\n&gt; &gt;\n&gt; &gt; Problem statement\n&gt; &gt; -----------------\n&gt; &gt; I am adding some additional profiling and metrics to JUnit test execution.\n&gt; &gt; In order to do this I need to plug in to JUnit in such a way as to perform\n&gt; &gt; some operations before and after test execution, and to extend the test\n&gt; &gt; results to contain the new metrics. Presently the framework does not allow\n&gt; &gt; me to do this without altering it.\n&gt; &gt;\n&gt; &gt; Process\n&gt; &gt; -------\n&gt; &gt; I can either graft a new branch on to the JUnit source tree that contains\n&gt; &gt; various extensions built in and give it a new name (like JUnit XYZ or\n&gt; &gt; whatever) or provide some tweaks to the present framework that satisfy my\n&gt; &gt; needs in the hope they are accepted as part of the next version.\n&gt; &gt; The purpose\n&gt; &gt; of this email is to start a discussion about this so that whatever changes\n&gt; &gt; are necessary fit in with the architectural spirit of JUnit and\n&gt; &gt; are suitable\n&gt; &gt; for inclusion in a base release. If possible, I&#39;d like to wrap this up and\n&gt; &gt; make it publicly available by the end of the year.\n&gt; &gt;\n&gt; &gt; Note: I realize test cases are the recognized currency for\n&gt; &gt; articulating new\n&gt; &gt; functionality, so once there is agreement in principle to an\n&gt; &gt; approach, I can\n&gt; &gt; provide test cases to provide more detail.\n&gt; &gt;\n&gt; &gt; Wrapping test execution\n&gt; &gt; -----------------------\n&gt; &gt; I need to be able to start profiling immediately before a user test starts\n&gt; &gt; and end profiling immediately afterward. One approach is to wrap the user\n&gt; &gt; test class that is presently instantiated in\n&gt; &gt; junit.runner.BaseTestRunner.getTest(String) with a TestDecorator subclass\n&gt; &gt; instance that manages profiling during test execution. Creating the\n&gt; &gt; decorator sounds like a job for factory method [Gamma95].\n&gt; &gt;\n&gt; &gt; Extending the results\n&gt; &gt; ---------------------\n&gt; &gt; This is presently not easy because all the various test runners\n&gt; &gt; (subclasses\n&gt; &gt; of BaseTestRunner) implement their own createTestResult() method,\n&gt; &gt; where the\n&gt; &gt; reference to the TestResult class is hard coded. I&#39;d like to be able to\n&gt; &gt; specify that dynamically as well. This also sounds like a job for factory\n&gt; &gt; method [Gamma95].\n&gt; &gt;\n&gt; &gt; Toward a unified pluggable configuration approach\n&gt; &gt; -------------------------------------------------\n&gt; &gt; A possible approach is to employ the abstract factory pattern [Gamma95]\n&gt; &gt; where the concrete factory class contains factory methods for the above\n&gt; &gt; classes and others, is specified in the preferences file or\n&gt; &gt; elsewhere. This\n&gt; &gt; sort of architectural change would substantially enable the sort of\n&gt; &gt; pluggability that I&#39;m after.\n&gt; &gt;\n&gt; &gt; Some questions and observations about the framework\n&gt; &gt; ---------------------------------------------------\n&gt; &gt; Having spent some time digging into JUnit I have the following\n&gt; &gt; questions and\n&gt; &gt; comments:\n&gt; &gt;\n&gt; &gt; - The preferences file is read in more than one place:\n&gt; &gt;   - junit.runner.BaseTestRunner.readPreferences()\n&gt; &gt;   - junit.runner.TestCaseClassLoader.readExcludedPackages()\n&gt; &gt;   I could be wrong but it seems like this is redundant execution,\n&gt; &gt; especially\n&gt; &gt; since the preferences is kept in a static variable.\n&gt; &gt;\n&gt; &gt; - The preferences (junit.runner.BaseTestRunner.fPreferences) is static. It\n&gt; &gt; strikes me that this hampers testability of the framework because it makes\n&gt; &gt; it difficult to isolate the framework preferences from the preferences for\n&gt; &gt; instances of framework classes under test.\n&gt; &gt;\n&gt; &gt; - The TestResult class provides semantics for running and stopping tests.\n&gt; &gt; This seems like a stretch for a results class, which I would imagine is\n&gt; &gt; primarily a container for execution metrics and other downstream\n&gt; &gt; information.\n&gt; &gt;\n&gt; &gt; - The TestRunner variants are very tied to presentation layer. I see this\n&gt; &gt; has been discussed at length in the past so I won&#39;t belabor it.\n&gt; &gt;\n&gt; &gt; - It seems that since all the methods in junit.framework.Assert are static\n&gt; &gt; and it does not hold any state, there is really no need to make this class\n&gt; &gt; the root of all tests, except for the convenience of not\n&gt; &gt; prefixing assertion\n&gt; &gt; methods with &#39;junit.framework.Assert&#39;. I&#39;m sure I&#39;m missing\n&gt; &gt; something here.\n&gt; &gt;\n&gt; &gt; References\n&gt; &gt; ----------\n&gt; &gt; [Gamma95] Erich Gamma et al. &quot;Design Patterns - Elements of Rusable\n&gt; &gt; Object-Oriented Software&quot;, Addison-Wesley, Reading, MA, 1995.\n&gt; &gt;\n&gt; &gt; ^^^^^^^^^^^^^^^^^^^^^^^^^\n&gt; &gt; Mike Silverstein\n&gt; &gt; SilverMark, Inc.\n&gt; &gt; The object testing company\n&gt; &gt; http://www.silvermark.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; _______________________________________________\n&gt; &gt; Junit-devel mailing list\n&gt; &gt; Junit-devel@...\n&gt; &gt; https://lists.sourceforge.net/lists/listinfo/junit-devel\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n-- \nEric Vought\nChief Technical Officer - QLUE Consulting, Inc.\n\nevought@... toll-free: 888-771-3538  RTP area: 919-816-9901\n\n\n", 
    "profile": "eric_vought", 
    "topicId": 3350, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "prevInTime": 3359, 
    "contentTrasformed": false, 
    "postDate": "1006895716", 
    "canDelete": false, 
    "nextInTopic": 3361, 
    "prevInTopic": 3358, 
    "headers": {
        "inReplyToHeader": "PE5EQkJKRUZLTURHRklCRUtLRUxFRUVDQURKQUEubXNpbHZlcnN0ZWluQHNpbHZlcm1hcmsuY29tPg==", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMzAuMDExMTI3MTU1MDQ4MC4xODg4Ny0xMDAwMDBAYnJhaW4ucWx1ZS1sYW4+"
    }
}