{
    "numMessagesInTopic": 9, 
    "nextInTime": 16050, 
    "senderId": "wvQmfuFhSO62lY33wT6FN2xmcSWpTyagLZYAPOQdAbzlnp0Il9bMdbwgBADWA5izz2VmGbNgAyZXtA0z9lRw4XT6dHXnNmGgChOTHW1OLg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: testing private methods in Struts Actions ?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Yes. But be careful: separate business logic from application logic. Application logic is code you write because you are a web application using Struts. ", 
    "msgId": 16049, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 24348 invoked from network); 10 Feb 2006 02:38:39 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m32.grp.scd.yahoo.com with QMQP; 10 Feb 2006 02:38:39 -0000\r\nReceived: from unknown (HELO chilco.textdrive.com) (207.7.108.242)\n  by mta8.grp.scd.yahoo.com with SMTP; 10 Feb 2006 02:38:39 -0000\r\nReceived: from [172.17.198.244] (unknown [208.255.117.67])\n\tby chilco.textdrive.com (Postfix) with ESMTP id A584FDBB15\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 10 Feb 2006 02:38:40 +0000 (UTC)\r\nMessage-ID: &lt;43EBFCAB.1020102@...&gt;\r\nDate: Thu, 09 Feb 2006 21:38:35 -0500\r\nUser-Agent: Thunderbird 1.5 (Macintosh/20051201)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;dsff8k+t7qj@...&gt;\r\nIn-Reply-To: &lt;dsff8k+t7qj@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Re: testing private methods in Struts Actions ?\r\nX-Yahoo-Group-Post: member; u=127224993; y=fWWxPIWrJrl1vDj_HJ3GsDA4-kU-Z0l0dl_q2cY1IQgky6o\r\nX-Yahoo-Profile: nails762\r\n\r\nfrank zou wrote:\n\n&gt; This way, it seems for every action we have a biz delegate class. Is\n&gt; that you intend to do ?\n\nYes. But be careful: separate business logic from application logic.\n\nApplication logic is code you write because you are a web application \nusing Struts.\n\nBusiness logic is code you write because of the business problem you&#39;re \nsolving.\n\nI would always design business logic to run in standalone classes and \nhave my application use those classes, so that I can verify the business \nbehavior quickly and easily. I might not always do that for application \nlogic, since it might be less costly to validate that behavior in the \ncontext of running the application.\n\nSo I would start with 1 business delegate per action. As the business \ndelegates begin to show some duplication, I refactor them into an \nincreasingly rich domain model.\n\n&gt; [Frank] Another concern is about clearUserRelatedCookies(...) and\n&gt; handleSessionAndToken(...). These 2 private methods do their work on\n&gt; Web layer and it seems difficult to take them as any biz logic. so it\n&gt; seems not appropriate to put them into any separate biz class. If so,\n&gt; how should I test them ? Or should I make them protected / public,\n&gt; just in order to make the testing easier ?\n\nThey are not business logic, so you must decide whether it&#39;s costlier to \ntest them inside the action or outside the action. For that, you must \ntry some experiments and measure the results. Everyone sees this \ndifferently.\n\n&gt; [Frank] I am not sure how you would do it here. What I was trying to\n&gt; do is to use StrutsTestCase to test the execute(...) method as a\n&gt; whole, meanwhile mocking out the biz logic using JMock. Since java\n&gt; does not allowed us to inherit 2 parent classes, I wrote a wrapper for\n&gt; StrusTestCase and merge JMock function into it. This way, I can run my\n&gt; StrutsTestCase in isolation of biz / DAO code.\n&gt; \n&gt; How do you like this apporach ? Or do you think when using\n&gt; StrutsTestCase, there is no need to mock out biz code ? Or do you\n&gt; think  StrusTestCase does not even do a Unit Testing and is not worth\n&gt; doing.\n\nI like this approach, although I must say that I never used StrutsTestCase.\n\n&gt; [Frank] Maybe the issue is that sometimes I feel it is not so clear\n&gt; what is real biz logic code and what is not. If I do not get you\n&gt; wrong, you may extract everything possible to other separate classes,\n&gt; so that there seem nothing interesting left for Action classes\n&gt; themselves. Is that right ?\n\nHere&#39;s how to know it&#39;s business logic: &quot;Would I do this even if I \ndidn&#39;t have a computer?&quot; That&#39;s business logic. The rest is application \nlogic. :)\n\n&gt; English is just my second language. I am not sure whether I express\n&gt; myself clear enough. :(\n\nVery clearly. Which is your first language?\n-- \nJ. B. (Joe) Rainsberger :: http://www.jbrains.info\nYour guide to software craftsmanship\nJUnit Recipes: Practical Methods for Programmer Testing\n2005 Gordon Pask Award for contribution Agile Software Practice\n\n", 
    "profile": "nails762", 
    "topicId": 16019, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 16048, 
    "contentTrasformed": false, 
    "postDate": "1139539115", 
    "canDelete": false, 
    "nextInTopic": 16084, 
    "prevInTopic": 16037, 
    "headers": {
        "inReplyToHeader": "PGRzZmY4ayt0N3FqQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQzRUJGQ0FCLjEwMjAxMDJAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGRzZmY4ayt0N3FqQGVHcm91cHMuY29tPg=="
    }
}