{
    "topicId": 1943, 
    "postDate": "997391892", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Eric George&quot; &lt;zymurgist2@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "Y5BJz1jEtVYtW6t0f9n56CWwZuJknPJyaVo73b2tjg0uX7Rfg7--YMTAGbntRVFnm6AtncXBUjA7hznuhaS4dwiew7mzhiQJirE", 
    "nextInTime": 2317, 
    "userId": 0, 
    "prevInTime": 2315, 
    "prevInTopic": 2314, 
    "headers": {
        "messageIdInHeader": "PDAwMTUwMWMxMjExOCRjYmYwNzYzMCRmODk3YjMxOEBkZW5jb3JwLnRmc20uY29tPg==", 
        "referencesHeader": "PDlrdXBwbituZXR2QGVHcm91cHMuY29tPg=="
    }, 
    "authorName": "Eric George", 
    "numMessagesInTopic": 9, 
    "msgSnippet": "The solution here is to make sure the shared classes are in the *classpath* of the JUnit. The problem is actually caused by the hierarchical class loading", 
    "contentTrasformed": false, 
    "msgId": 2316, 
    "nextInTopic": 2321, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;zymurgist2@...&gt;\r\nX-Sender: zymurgist2@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_3_1); 9 Aug 2001 21:19:00 -0000\r\nReceived: (qmail 37750 invoked from network); 9 Aug 2001 21:18:15 -0000\r\nReceived: from unknown (10.1.10.26)\n  by m8.onelist.org with QMQP; 9 Aug 2001 21:18:15 -0000\r\nReceived: from unknown (HELO femail17.sdc1.sfba.home.com) (24.0.95.144)\n  by mta1 with SMTP; 9 Aug 2001 21:18:15 -0000\r\nReceived: from egeorgeden ([24.179.151.248]) by femail17.sdc1.sfba.home.com\n          (InterMail vM.4.01.03.20 201-229-121-120-20010223) with SMTP\n          id &lt;20010809211814.JBSE10065.femail17.sdc1.sfba.home.com@egeorgeden&gt;\n          for &lt;junit@yahoogroups.com&gt;; Thu, 9 Aug 2001 14:18:14 -0700\r\nMessage-ID: &lt;001501c12118$cbf07630$f897b318@...&gt;\r\nReply-To: &quot;Eric George&quot; &lt;zymurgist2@...&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;9kuppn+netv@...&gt;\r\nSubject: Re: [junit] Re: ClassCastException only using swing/awt ui\r\nDate: Thu, 9 Aug 2001 15:18:12 -0600\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.50.4133.2400\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400\r\nFrom: &quot;Eric George&quot; &lt;zymurgist2@...&gt;\r\n\r\nThe solution here is to make sure the shared classes are in the *classpath*\nof the JUnit.\n\nThe problem is actually caused by the hierarchical class loading mechanism\nin JDK 1.3+.  Since JUnit uses a custom class loader, and RMI uses a custom\nclass loader, any class that is loaded by JUnit *and* loaded automatically\nduring a remote call will come from two different class loaders and will\nfail a class comparison.  It is a bizarre thing, but I have come accross it\nmay times when RMI client classes are loaded by any custom classloader.  It\nhappens often with RMI clients that are servlets since servlets are usually\nloaded by the servlet containers&#39; custom class loader.\n\nThe real solution would be to set the RMIClassLoader&#39;s parent classloader to\nthat of the JUnit custom class loader.  This is not possible however, so the\nRMIClassLoader&#39;s parent is *always* the system classloader.  There are\nseveral bugs logged against the RMI subsystem because of this.\n\nIn the meantime, the only workaround is to ensure all classes that are\nshared between the server and the custom-class-loaded client are available\nin the client&#39;s classpath.\n\n----- Original Message -----\nFrom: &lt;reply_das@...&gt;\nTo: &lt;junit@yahoogroups.com&gt;\nSent: Thursday, August 09, 2001 1:54 PM\nSubject: [junit] Re: ClassCastException only using swing/awt ui\n\n\n&gt; --- In junit@y..., Scott Stirling &lt;sstirling@m...&gt; wrote:\n&gt; &gt; The solution would be to exclude your EJB&#39;s interface classes\n&gt; &gt; from being\n&gt; &gt; loaded by the JUnit custom class loader by adding them to the\n&gt; &gt; excluded.properties in junit.jar.  Granted, not a very nice\n&gt; &gt; solution unless,\n&gt; &gt; perhaps, it were easier to modify the exclusion list.  I hear\n&gt; &gt; in JUnit 4.0\n&gt; &gt; that one idea is to make it easy to define exclusions in TestCases\n&gt; &gt; themselves.\n&gt;\n&gt; Hi,\n&gt; I was getting a ClassCastException with my EJBHome stubs and came\n&gt; across this mail. It solved this particular problem. Thanks!\n&gt;\n&gt; Of course I have another problem. My client and EJB classes share\n&gt; some common classes. When the client makes an EJB call and the bean\n&gt; returns these common classes, I get another ClassCastException. These\n&gt; are not home stubs but just ordinary Java classes.\n&gt;\n&gt; You had mentioned in your solution that we need to exclude the EJB\n&gt; interface classes. Does this mean I should exclude the EJB interface\n&gt; classes *alone*. Currently I&#39;m excluding every class in the EJB\n&gt; package from being loaded under the assumption that what is true for\n&gt; the EJB interfaces should be valid for the other classes too ... Or\n&gt; am I wrong?\n&gt;\n&gt; Also, is this behavior specific to the JUnit 3.7 release?\n&gt; Any input would be appreciated!\n&gt; Thanks,\n&gt; --Das\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n\n\n", 
    "subject": "Re: [junit] Re: ClassCastException only using swing/awt ui"
}