{
    "numMessagesInTopic": 9, 
    "nextInTime": 22495, 
    "senderId": "sN96Hvj7L2aO87Kd9kb9BVm_WeKMLAWEdCxgVlLc_yLnRteqY6iKZjh8VkyfqhW9Mo8M3GUB37_0NNwE7gS4A-k5w2OhrZSjRa7z7sBAauVEOg", 
    "systemMessage": false, 
    "subject": "Re: Spring in JUnit (was RE: [junit] [RT] JUnit Core, Parallelism, Documentation)", 
    "from": "Kristian Rosenvold &lt;kristian@...&gt;", 
    "authorName": "Kristian Rosenvold", 
    "msgSnippet": "Just for the record; Spring s SpringJUnit4ClassRunner is not thread safe without the patch in http://jira.springframework.org/browse/SPR-5863 (vote please!). ", 
    "msgId": 22494, 
    "rawEmail": "Return-Path: &lt;kristian@...&gt;\r\nX-Sender: kristian@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 5257 invoked from network); 2 Mar 2010 14:31:28 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m11.grp.re1.yahoo.com with QMQP; 2 Mar 2010 14:31:28 -0000\r\nX-Received: from unknown (HELO server135.penguinhost.net) (69.65.9.110)\n  by mta3.grp.sp2.yahoo.com with SMTP; 2 Mar 2010 14:31:28 -0000\r\nX-Received: from [127.0.0.1] (helo=server139.advancednetworkhosting.com)\n\tby server135.penguinhost.net with esmtpa (Exim 4.69)\n\t(envelope-from &lt;kristian@...&gt;)\n\tid 1NmT87-0007Vk-90\n\tfor junit@yahoogroups.com; Tue, 02 Mar 2010 08:31:27 -0600\r\nX-Received: from [192.168.1.2] ([81.191.25.199] helo=[192.168.1.2]) with\n\tIPv4:25 by server139.advancednetworkhosting.com; 2 Mar 2010 08:31:21 -0600\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;75F5ED8A5A553646A46E00E6EC854FA3044B9893@...-ais.com&gt;\r\nReferences:\n\t &lt;75F5ED8A5A553646A46E00E6EC854FA3044B97F2@...-ais.com&gt;\n\t &lt;53874ec01003020035p3eb483d5p5bfe22543de235ab@...&gt;\n\t &lt;75F5ED8A5A553646A46E00E6EC854FA3044B9845@...-ais.com&gt;\n\t &lt;53874ec01003020449n1e797247w872c74a4d10366ac@...&gt;\n\t &lt;75F5ED8A5A553646A46E00E6EC854FA3044B9893@...-ais.com&gt;\r\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\r\nDate: Tue, 02 Mar 2010 15:32:41 +0100\r\nMessage-ID: &lt;1267540361.15742.63.camel@office&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Evolution 2.28.2 \r\nContent-Transfer-Encoding: quoted-printable\r\nX-Assp-Whitelisted: Yes\r\nX-Assp-Envelope-From: kristian@...\r\nX-Assp-Intended-For: junit@yahoogroups.com\r\nX-AntiAbuse: This header was added to track abuse, please include it with any abuse report\r\nX-AntiAbuse: Primary Hostname - server135.penguinhost.net\r\nX-AntiAbuse: Original Domain - yahoogroups.com\r\nX-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]\r\nX-AntiAbuse: Sender Address Domain - rosenvold.com\r\nX-Source: \r\nX-Source-Args: \r\nX-Source-Dir: \r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kristian Rosenvold &lt;kristian@...&gt;\r\nSubject: Re: Spring in JUnit (was RE: [junit] [RT] JUnit Core, Parallelism,\n Documentation)\r\nX-Yahoo-Group-Post: member; u=403861045; y=laUo5ep07PwXybOklmWVTQewWokdkUf1iu_JIlk58DEpClW9Tw\r\nX-Yahoo-Profile: krosenvold\r\n\r\nJust for the record; Spring&#39;s SpringJUnit4ClassRunner is not thread safe\nwi=\r\nthout the patch in http://jira.springframework.org/browse/SPR-5863\n(vote pl=\r\nease!). \n\nWe use stub-wired spring tests for running unit tests of gui-laye=\r\nr\ncontrols, which is a really nice way to avoid 10 tons of mocks and/or\nred=\r\nundant construction of &quot;hard to construct&quot; classes. We also use\nspring in o=\r\nur selenium tests. So there are different use cases that may\nhave value wit=\r\nh spring; we run all of these tests concurrently.\n\nJudging by this discussi=\r\non it seems to me like documentation on the\nconcurrency features probably n=\r\needs to be created/updated, since the\nvisibility of these features seem to =\r\nbe limited. I am also not sure if\nthe design is final in any real way.\n\nAs =\r\nfor the design; I think the current implementation allows a\n&quot;ParalellComput=\r\ner&quot; to choose between a &quot;queue of tasks&quot; approach or any\nother solution. I =\r\nthink this is a real benefit; I can easily see \nscenarios where an external=\r\n source actually wants to control the \nallocation of threading resources to=\r\n a given test runner ( a concurrent\nmulti-module maven build would be one s=\r\nuch case, where an external \nscheduler would prioritize different modules)\n=\r\n \nAs usual; here&#39;s a little blogpost on spring/junit;\n\nhttp://incodewetrust=\r\ninc.blogspot.com/2010/01/run-your-junit-tests-concurrently-with.html\n\nKrist=\r\nian\n\n\nti., 02.03.2010 kl. 08.31 -0500, skrev Loritsch, Berin C.:\n&gt;   \n&gt; Tha=\r\nt brings up a good point about Spring. I personally would prefer\n&gt; not\n&gt; to=\r\n set up a Spring environment in my code for the purpose of testing,\n&gt; but S=\r\npring has so many goodies that add to the desired function of\n&gt; what\n&gt; you =\r\nare writing you can&#39;t do otherwise.\n&gt; \n&gt; For example, the Spring/Hibernate =\r\nintegration is a pretty common\n&gt; solution for most folks. The problem is th=\r\nat ThreadSafe bound\n&gt; transaction manager. Maybe I just need to know how to=\r\n configure the\n&gt; transaction manager to always roll back the transaction at=\r\n the end of\n&gt; a\n&gt; test, but essentially this combination forces you down th=\r\ne road of\n&gt; performing integration tests when all you want to do is perform=\r\n unit\n&gt; tests. There&#39;s a really good video out there on why &quot;Integration Te=\r\nsts\n&gt; are a Scam&quot;, which describes in pretty simple terms the problem of\n&gt; =\r\nthis\n&gt; approach.\n&gt; \n&gt; I really am not a fan of frameworks that don&#39;t let yo=\r\nu do perform\n&gt; simple\n&gt; unit testing. At the same time these frameworks are=\r\n very useful and\n&gt; help solve problems more quickly. I just want my cake an=\r\nd eat it too.\n&gt; \n&gt; From: junit@yahoogroups.com [mailto:junit@...=\r\nm] On Behalf\n&gt; Of\n&gt; Malte Finsterwalder\n&gt; Sent: Tuesday, March 02, 2010 7:5=\r\n0 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] [RT] JUnit Core, Pa=\r\nrallelism, Documentation\n&gt; \n&gt; On 2 March 2010 13:27, Loritsch, Berin C. &lt;be=\r\nrin.loritsch@...\n&gt; &lt;mailto:berin.loritsch%40gd-ais.com&gt; &gt; wrote:\n&gt; &gt;=\r\n Right. I wouldn&#39;t necessarily suggest making parallel execution the\n&gt; &gt; de=\r\nfault, and your observation is the same as mine.\n&gt; &gt;\n&gt; &gt; Spring code is thr=\r\neadsafe, or at least designed to work in a heavily\n&gt; &gt; threaded environment=\r\n like serving up web pages. There are ways of\n&gt; &gt; enforcing a perceived ord=\r\ner, even if the actual order is different.\n&gt; &gt; That&#39;s basically how Tomcat =\r\nand Apache operate with the non-blocking\n&gt; IO.\n&gt; \n&gt; That&#39;s not what I meant=\r\n.\n&gt; I know that Spring itself is thread safe, but since Spring uses mostly\n=\r\n&gt; singletons, my spring beans have to be thread safe. And if I execute n\n&gt; =\r\ntests in parallel in any random order and they all execute on the same\n&gt; ob=\r\nject (singleton spring bean), this might result in problems.\n&gt; Maybe that&#39;s=\r\n just part of a good test, because my beans need to be\n&gt; thread safe anyhow=\r\n.\n&gt; But maybe not.\n&gt; \n&gt; Greetings,\n&gt; Malte\n&gt; \n&gt; [Non-text portions of this =\r\nmessage have been removed]\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n\n\n\n", 
    "profile": "krosenvold", 
    "topicId": 22487, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 403861045, 
    "prevInTime": 22493, 
    "contentTrasformed": false, 
    "postDate": "1267540361", 
    "canDelete": false, 
    "nextInTopic": 22497, 
    "prevInTopic": 22493, 
    "headers": {
        "inReplyToHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDQ0Qjk4OTNAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "messageIdInHeader": "PDEyNjc1NDAzNjEuMTU3NDIuNjMuY2FtZWxAb2ZmaWNlPg==", 
        "referencesHeader": "CSA8NzVGNUVEOEE1QTU1MzY0NkE0NkUwMEU2RUM4NTRGQTMwNDRCOTdGMkB2YWZmMDEtbWFpbDAxLmFkLmdkLWFpcy5jb20+CSA8NTM4NzRlYzAxMDAzMDIwMDM1cDNlYjQ4M2Q1cDViZmUyMjU0M2RlMjM1YWJAbWFpbC5nbWFpbC5jb20+CSA8NzVGNUVEOEE1QTU1MzY0NkE0NkUwMEU2RUM4NTRGQTMwNDRCOTg0NUB2YWZmMDEtbWFpbDAxLmFkLmdkLWFpcy5jb20+CSA8NTM4NzRlYzAxMDAzMDIwNDQ5bjFlNzk3MjQ3dzg3MmM3NGE0ZDEwMzY2YWNAbWFpbC5nbWFpbC5jb20+CSA8NzVGNUVEOEE1QTU1MzY0NkE0NkUwMEU2RUM4NTRGQTMwNDRCOTg5M0B2YWZmMDEtbWFpbDAxLmFkLmdkLWFpcy5jb20+"
    }
}