{
    "numMessagesInTopic": 46, 
    "nextInTime": 4907, 
    "senderId": "Osukanur9k-685EV5Yt1PAEL4Vq9CNA85V1pqrlU61psrX4OQWDvS-teeM3CJlMn6TddCQlFPsUQArgNCrcSKlBeC3FqhbBUg0IhE-ZqkItZTS29", 
    "systemMessage": false, 
    "subject": "Re: [junit] Which tests to write?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... This is a very fine line, Johannes. It is reasonable to assume that a sort method, in general, works on collections of any size; otherwise, it should be ", 
    "msgId": 4906, 
    "profile": "nails762", 
    "topicId": 4836, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "messageBody": "<div id=\"ygrps-yiv-2003185551\"><blockquote><span title=\"ireply\">&gt; &gt; Suppose you wrote the sort methods. That means that they have tests,<br/>\n&gt; &gt; and damn good ones. As a result, a method like this can&#39;t break on its<br/>\n&gt; &gt; own:<br/>\n&gt; &gt;<br/>\n&gt; &gt; if myCollection.size &lt; 20<br/>\n&gt; &gt;     myCollection.sortWith(SortAlgorithms.bubbleSort)<br/>\n&gt; &gt; else if myCollection.size &lt; 100<br/>\n&gt; &gt;     myCollection.sortWith(SortAlgorithms.quickSort)<br/>\n&gt; &gt; else<br/>\n&gt; &gt;     myCollection.sortWith(SortAlgorithms.mergeSort)<br/>\n&gt; &gt; end<br/>\n&gt; <br/>\n&gt; There&#39;s a way the method can break: e.g. if the merge sort implementation<br/>\n&gt; does not work with collections under a certain size (precondition) <br/>\n&gt; and the threshold in the sort method was chosen incorrectly. <br/>\n<br/>\n </span></blockquote>This is a very fine line, Johannes. It is reasonable to assume that a sort <br/>\nmethod, in general, works on collections of any size; otherwise, it should be <br/>\nnamed something other than &quot;sort&quot;. Perhaps it should be <br/>\nnamed &quot;sortCollectionsOfSizeLessThanTwenty&quot;. This is a design issue; not a <br/>\ntesting issue.<br/>\n<br/>\nIf the bubbleSort algorithm doesn&#39;t work with collections smaller than twenty <br/>\nitems, then it&#39;s bubbleSort that&#39;s broken, not this method. That was my <br/>\noriginal point.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Or the changed<br/>\n&gt; implementation of merge sort changed the threshold. The underlying <br/>\n&gt; pre- and postconditions can change without noticing as long as they <br/>\n&gt; are not formalized and proven to hold.<br/>\n<br/>\n </span></blockquote>I don&#39;t think these are likely to happen in a sort method. The underlying <br/>\nassumption I made is that &quot;sort&quot; works: that is, it works for any collection <br/>\nof any size and any kinds of objects that can be compared with each other for <br/>\nordering. If that&#39;s not true, then I would probably need Learning Tests to <br/>\ncodify the unexpected pre- and post-conditions -- those would be tests on the <br/>\nsort algorithms, though, and not necessarily on my method. :)<br/>\n<br/>\nIf I really needed to test my method, I&#39;d change the design so that the sort <br/>\nalgorithms can easily be mocked; then I&#39;d write tests that ensured that the <br/>\nmethod tried to call the appropriate sort algorithm on the appropriate <br/>\nconditions.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; But probably you are right and the sort example is not as good as I thought<br/>\n&gt; in the beginning. So I declare myself defeated until I come up with <br/>\n&gt; an example that makes sense as is and not only when considered in an <br/>\n&gt; abstract way.<br/>\n<br/>\n </span></blockquote>I&#39;m happy to see it when you come up with it. I don&#39;t always practice what I <br/>\npreach, because I&#39;m not good enough at it yet. More examples to try to <br/>\nunderstand would help. :) I just notice a bunch of duplicated tests in my <br/>\ncurrent projects; I&#39;d like to remove that duplication.<br/>\n--<br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603</div>", 
    "prevInTime": 4905, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1020862491", 
    "canDelete": false, 
    "nextInTopic": 4909, 
    "prevInTopic": 4904, 
    "headers": {
        "inReplyToHeader": "PDAwMmQwMWMxZjY2YiQ0Nzk1ZmNiMCRhNTA5YWNkNEBoYWliYWNoPg==", 
        "messageIdInHeader": "PDIwMDIwNTA4MDY1NDUxLk00NTYyMkBkaWFzcGFyc29mdHdhcmUuY29tPg==", 
        "referencesHeader": "PEQ1Nzc2RDA5RDA4NEE3NDBCNUQ3RjI5MjY2ODBGQ0YzRkUwNDE2QG11czAwMW11bGxldC5tZXJjYXRvci5jb20+IDwyMDAyMDUwNzE4NDYyOTA3ODkuMDZBMjZFQTVAc210cDEuc3ltcGF0aWNvLmNhPiA8MDAyZDAxYzFmNjZiJDQ3OTVmY2IwJGE1MDlhY2Q0QGhhaWJhY2g+"
    }
}