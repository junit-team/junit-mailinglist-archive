{
    "numMessagesInTopic": 48, 
    "nextInTime": 19688, 
    "senderId": "8xb_O8yIkXg9J-gK7scBm6wVxKRkj3Dv529G44yvYAfg4HLZk-5akOYuSFLepNd_qpm9qthsNlYzqJB2XUQ-MmHrEevJ5iaT", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Test Grouping/Partitioning", 
    "from": "&quot;Nat Pryce&quot; &lt;nat.pryce@...&gt;", 
    "authorName": "Nat Pryce", 
    "msgSnippet": "I ve just thought of another categorisation of tests: whether they are regression tests or work in progress. We write tests for the functionality to be", 
    "msgId": 19687, 
    "rawEmail": "Return-Path: &lt;nat.pryce@...&gt;\r\nX-Sender: nat.pryce@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 99812 invoked from network); 2 Aug 2007 16:18:20 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m46.grp.scd.yahoo.com with QMQP; 2 Aug 2007 16:18:20 -0000\r\nReceived: from unknown (HELO wr-out-0506.google.com) (64.233.184.231)\n  by mta10.grp.scd.yahoo.com with SMTP; 2 Aug 2007 16:18:20 -0000\r\nReceived: by wr-out-0506.google.com with SMTP id i4so216148wra\n        for &lt;junit@yahoogroups.com&gt;; Thu, 02 Aug 2007 09:07:45 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;\n        b=jJpuumngNXh+6+wqOiReS+9RnSvdrigZwOR8BI7SPZsed6Lg0lXiaGmMLeGcupCNdRgEYXqxsSHJ7oRY6MhUz2Or6jEufK9oylqvBI+7mim2iUythIFVYarsgDtXa+uTl6jX2mxh9NBIolrfP62XMTKm7Xa2UH6QGEPZPjTIeBY=\r\nReceived: by 10.78.147.6 with SMTP id u6mr586898hud.1186070264621;\n        Thu, 02 Aug 2007 08:57:44 -0700 (PDT)\r\nReceived: by 10.78.200.1 with HTTP; Thu, 2 Aug 2007 08:57:44 -0700 (PDT)\r\nMessage-ID: &lt;17fa53d0708020857y465d5b02rdc2c96606da681f6@...&gt;\r\nDate: Thu, 2 Aug 2007 16:57:44 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;003101c7cfd5$aff5e560$6701a8c0@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;AcfJzX+fUTyYOYMsTPmUxFy0ThwooQBInQlgATlqtsA=&gt;\n\t &lt;003101c7cfd5$aff5e560$6701a8c0@kentspavilion&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Nat Pryce&quot; &lt;nat.pryce@...&gt;\r\nSubject: Re: [junit] Re: Test Grouping/Partitioning\r\nX-Yahoo-Group-Post: member; u=216973656; y=jGJUc3HQuf-c4BCcNfaZnRbIlhMtWbSSb2qOhT4dSbNX4z77\r\nX-Yahoo-Profile: nat_pryce\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nI&#39;ve just thought of another categorisation of tests: whether they are\nregression tests or work in progress.\n\nWe write tests for the functionality to be delivered in the upcoming\niteration.  Those tests will initially fail.  As we go through the iteration\nmore and more of them will pass as we complete the work.  However, we can&#39;t\nlet the failing tests stop us checking in changes.  So we categorise tests\nas &quot;work-in-progress&quot; or &quot;regression&quot;.  Work-in-progress tests are allowed\nto fail without breaking the CI build.  A failing regression test breaks the\nbuild and must be fixed immediately before further changes can be checked\nin.\n\nAt the end of the iteration, passing &quot;work-in-progress&quot; tests are\nrecategorised as regression tests.If new work requires changes to existing\nfunctionality, the regression tests for that  functionality are\nrecategorised as &quot;work-in-progress&quot; until the new work is done.\n\nAt the moment we just move tests between different source folders.  That\nworks smoothly enough.\n\n--Nat\n\nOn 26/07/07, Kent Beck &lt;kentb@...&gt; wrote:\n&gt;\n&gt;   All,\n&gt;\n&gt; It seems clear to me that some sort of test classification scheme is a\n&gt; reasonable thing to add to JUnit. However, rather than simply copy one of\n&gt; the models out there we&#39;re going to go back to first principles and try to\n&gt; derive a model for classification that is concise, useful, flexible, and,\n&gt; above all, easy to use.\n&gt;\n&gt; I&#39;ve heard two purposes for classification:\n&gt; * Performance\n&gt; * Assumptions\n&gt;\n&gt; Performance\n&gt;\n&gt; If you have tests that run for longer than your attention span (my limits\n&gt; are 1 second for the inner loop of programming and 10 minutes for\n&gt; integration), running a subset of the tests can give you some assurance\n&gt; that\n&gt; the software is working. Classification is one way to reduce test run\n&gt; time--just this one test, all tests in this class, all tests in this\n&gt; package, all tests labeled &quot;quick&quot;, etc.\n&gt;\n&gt; There are other ways of reducing test run time. For example, you could\n&gt; have\n&gt; a runner that runs 1 second worth of the tests that have failed most\n&gt; recently or a runner that runs half a second of recently failed tests plus\n&gt; half a second of randomly selected tests.\n&gt;\n&gt; In the end I think the systemic solution to test run times is to improve\n&gt; design and testing techniques to dramatically increase the assurance/CPU\n&gt; cycle ratio.\n&gt;\n&gt; I remember a friend&#39;s story of an early project that used tests\n&gt; extensively.\n&gt; After three years they had a carefully tuned suite that took ten minutes\n&gt; to\n&gt; run. When the test runtime increased beyond ten minutes, they would work\n&gt; on\n&gt; the design of the system and/or the design of the tests to improve the\n&gt; assurance/CPU cycle ratio and get the runtime back under ten minutes. Then\n&gt; most of the original team left.\n&gt;\n&gt; A few years later my friend was shown the system. The programmer proudly\n&gt; explained that the test suites now took 24 hours to run, even though the\n&gt; system had grown little in functionality. They had stopped paying\n&gt; attention\n&gt; to designing for testability. Every time they added a new axis of\n&gt; variability they blindly ran the cross product of the existing tests with\n&gt; all the alternatives for the new axis. Yes they had more tests, but A/C\n&gt; had\n&gt; dropped by several orders of magnitude.\n&gt;\n&gt; In short, I see using classification to reduce test runtime as a bandage\n&gt; masking the real problem which is low A/C. Using classification to reduce\n&gt; test runtime really is a hack and I hope people will continue working to\n&gt; improve design for testability. We will still provide some classification\n&gt; mechanism, but that doesn&#39;t make it not a hack.\n&gt;\n&gt; Assumptions\n&gt;\n&gt; The second reason I&#39;ve heard for classification is to avoid a slew of\n&gt; misleadingly failing tests. If my development machine doesn&#39;t have access\n&gt; to\n&gt; the database, then if I run the database tests I&#39;ll get a bunch of\n&gt; failures\n&gt; even though the system is really working (or, to be more precise, I don&#39;t\n&gt; have any information about whether the system is really working or not).\n&gt;\n&gt; Classification is one way to express assumptions. When I say &quot;@Test(groups\n&gt; =\n&gt; {&quot;database&quot;})&quot; I have declared something about this test. However, this\n&gt; expression seems limited and error-prone to me. I&#39;d prefer to have the\n&gt; power\n&gt; of a programming language to express my assumptions.\n&gt;\n&gt; In the JUnit 4.4 you can use assumeThat() to express assumptions. For\n&gt; example, you can say:\n&gt;\n&gt; public class DatabaseTest {\n&gt; @BeforeClass public static void isDatabaseAccessible() {\n&gt; User result= Database.login(&quot;kent&quot;);\n&gt; assumeThat(not(isError(result));\n&gt; }\n&gt; ...\n&gt; }\n&gt;\n&gt; This is a bit of a workaround because runner don&#39;t yet handle failed\n&gt; assumptions as anything other than successful tests, but it gives you a\n&gt; richer language to express assumptions than a textual classification\n&gt; scheme.\n&gt;\n&gt; The Point\n&gt;\n&gt; So now the point of this long post. Are there other uses of classification\n&gt; that I&#39;ve missed? Is the above way of expressing assumptions (or something\n&gt; derived from it like an explicit @Assumption) sufficient?\n&gt;\n&gt; Regards,\n&gt;\n&gt; Kent Beck\n&gt; Three Rivers Institute\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "nat_pryce", 
    "topicId": 19521, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 216973656, 
    "prevInTime": 19686, 
    "contentTrasformed": false, 
    "postDate": "1186070264", 
    "canDelete": false, 
    "nextInTopic": 19692, 
    "prevInTopic": 19650, 
    "headers": {
        "inReplyToHeader": "PDAwMzEwMWM3Y2ZkNSRhZmY1ZTU2MCQ2NzAxYThjMEBrZW50c3BhdmlsaW9uPg==", 
        "messageIdInHeader": "PDE3ZmE1M2QwNzA4MDIwODU3eTQ2NWQ1YjAycmRjMmM5NjYwNmRhNjgxZjZAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PEFjZkp6WCtmVVR5WU9ZTXNUUG1VeEZ5MFRod29vUUJJblFsZ0FUbHF0c0E9PgkgPDAwMzEwMWM3Y2ZkNSRhZmY1ZTU2MCQ2NzAxYThjMEBrZW50c3BhdmlsaW9uPg=="
    }
}