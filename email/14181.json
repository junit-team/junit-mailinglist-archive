{
    "numMessagesInTopic": 8, 
    "nextInTime": 14182, 
    "senderId": "b_c1GWN7502EYCHuLWW8UzhQDk7S3aA5a44vsCsEx29Fe-WXvS3cnO9NiIpxm-T_I7cqap2379eCxD0q1ieUjocHtcKw6qmd", 
    "systemMessage": false, 
    "subject": "RE: [junit] &quot;Bug in JUnit MoneyBag.java example?&quot; found by Jamie Andrews", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Elliotte, The defect is that implementations of IMoney are supposed to be immutable and appendTo() allows callers to side effect the parameter. Fixing it ", 
    "msgId": 14181, 
    "profile": "kentlbeck", 
    "topicId": 14067, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-1670775006\">Elliotte,<br/>\n<br/>\nThe defect is that implementations of IMoney are supposed to be immutable<br/>\nand appendTo() allows callers to side effect the parameter. Fixing it<br/>\n&quot;properly&quot;, however, would require a private interface or an abstract class,<br/>\nneither of which seem warranted to me in this situation. <br/>\n<br/>\nI&#39;m interested in the tool that discovered the defect. Does anyone have more<br/>\ninformation?<br/>\n<br/>\nTake care,<br/>\n<br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; -----Original Message-----<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On <br/>\n&gt; Behalf Of Elliotte Harold<br/>\n&gt; Sent: Friday, July 15, 2005 5:50 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] &quot;Bug in JUnit MoneyBag.java example?&quot; <br/>\n&gt; found by Jamie Andrews<br/>\n&gt; <br/>\n&gt; I&#39;m not sure I understand the actual bug here. (Does anyone <br/>\n&gt; have a URL <br/>\n&gt; for the actual description of the bug, not just the <br/>\n&gt; newsgroup?) but the <br/>\n&gt; fix smells pretty bad to me. Most Java code exposes far more <br/>\n&gt; methods as <br/>\n&gt; public than it should. If indeed this method should not be <br/>\n&gt; part of the <br/>\n&gt; API, then it should not be public. Documenting that it <br/>\n&gt; shouldn&#39;t be used <br/>\n&gt; is an inadequate response.<br/>\n&gt; <br/>\n&gt; Often overuse of public reflects a failure to use package protected <br/>\n&gt; methods, often because the application has been divided into packages <br/>\n&gt; and yet the subpackages need to be able to access the <br/>\n&gt; internal parts of <br/>\n&gt; the superpackages. Possibly Java 6 will fix this at a language level. <br/>\n&gt; Until this is fixed most applications and libraries should <br/>\n&gt; use a single <br/>\n&gt; package, even if that package ends up containing a rather <br/>\n&gt; large number <br/>\n&gt; of classes.<br/>\n&gt; <br/>\n&gt; Another common problem is the tendency of many programmers <br/>\n&gt; and tools to <br/>\n&gt; make methods public by default. Conservative design dictates that <br/>\n&gt; methods should start their lives with the most restrictive access <br/>\n&gt; possible. If a need is discovered to make a private method public, <br/>\n&gt; that&#39;s easy to change. The reverse operation can be impossible though.<br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\n&gt; XML in a Nutshell 3rd Edition Just Published!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/</a><br/>\n </span></blockquote>ref=nosim<br/>\n<blockquote><span title=\"qreply\"> &gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 14180, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1121791614", 
    "canDelete": false, 
    "nextInTopic": 14187, 
    "prevInTopic": 14138, 
    "headers": {
        "inReplyToHeader": "PDQyRDdCMTEwLjIwMDA2QG1ldGFsYWIudW5jLmVkdT4="
    }
}