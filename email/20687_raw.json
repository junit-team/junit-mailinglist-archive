{
    "numMessagesInTopic": 4, 
    "nextInTime": 20688, 
    "senderId": "iQbEEMh5ZkD_TASLbzNUIR7iBnfGcESyryXQtHu5uq3cFOOESf69xbbhUdir6_JmtVXUCQUqL_WjSiQxQfKgyIX75_g", 
    "systemMessage": false, 
    "subject": "Re: [junit] which is the best way to obtain test method execution time", 
    "from": "&quot;David Saff&quot; &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Shubha, In JUnit 4.4, you can subclass JUnit4ClassRunner, and override invokeTestMethod.  This works in 4.4, and works, but is deprecated in 4.5. Do you want", 
    "msgId": 20687, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 99210 invoked from network); 15 Jul 2008 15:33:09 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m49.grp.scd.yahoo.com with QMQP; 15 Jul 2008 15:33:09 -0000\r\nX-Received: from unknown (HELO qw-out-2122.google.com) (74.125.92.25)\n  by mta17.grp.scd.yahoo.com with SMTP; 15 Jul 2008 15:33:09 -0000\r\nX-Received: by qw-out-2122.google.com with SMTP id 3so152211qwe.39\n        for &lt;junit@yahoogroups.com&gt;; Tue, 15 Jul 2008 08:33:08 -0700 (PDT)\r\nX-Received: by 10.150.139.15 with SMTP id m15mr446470ybd.132.1216135988573;\n        Tue, 15 Jul 2008 08:33:08 -0700 (PDT)\r\nX-Received: by 10.150.138.6 with HTTP; Tue, 15 Jul 2008 08:33:08 -0700 (PDT)\r\nMessage-ID: &lt;4f7da6b90807150833g66e33c1dp6cf5fc73aa0dfd1f@...&gt;\r\nDate: Tue, 15 Jul 2008 11:33:08 -0400\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;835103.53938.qm@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;835103.53938.qm@...&gt;\r\nX-Google-Sender-Auth: 60cac6ba2b27c3c9\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;David Saff&quot; &lt;david@...&gt;\r\nSubject: Re: [junit] which is the best way to obtain test method execution time\r\nX-Yahoo-Group-Post: member; u=341876227; y=9zYnVzcns8EpXWLhgj0B0XfVvytAznhmhcrISwtjEOI\r\nX-Yahoo-Profile: dsaff\r\n\r\nShubha,\n\nIn JUnit 4.4, you can subclass JUnit4ClassRunner, and override\ninvokeTestMethod.  This works in 4.4, and works, but is deprecated in\n4.5.\n\nDo you want to execute the method many times on different instances of\na class, or on the same instance?\n\n   David Saff\n\nOn Sun, Jul 13, 2008 at 9:47 PM, Shubha B S &lt;mailtoshubha@...&gt; wrote:\n&gt; Hello Kent,\n&gt;\n&gt; Do we have a way to achieve this with Junit 4.4?\n&gt;\n&gt; Thanks\n&gt; Shubha\n&gt;\n&gt; ----- Original Message ----\n&gt; From: Kent Beck &lt;kentb@...&gt;\n&gt; To: junit@yahoogroups.com\n&gt; Sent: Friday, 11 July, 2008 1:53:41 AM\n&gt; Subject: RE: [junit] which is the best way to obtain test method execution\n&gt; time\n&gt;\n&gt; Dear Shubha,\n&gt;\n&gt; Here is one way to solve your problem in JUnit 4.5. The key is understanding\n&gt; that in 4.5 every test is run by a &quot;block&quot; of &quot;statements&quot; (see\n&gt; http://threeriversi nstitute. org/TwoMoreImple mentationPattern s.htm for\n&gt; more\n&gt; details). Befores and afters are run by statements high up in the block. The\n&gt; last statement in the block just invokes the test method. You can modify\n&gt; this behavior by wrapping this statement in a statement that measures time.\n&gt; Here&#39;s an overview of the sample code below:\n&gt; * NanoTimer is a little utility to measure time (at the end we&#39;ll make\n&gt; sure that timing just the test takes less than half the time of timing the\n&gt; test including @Before and @After)\n&gt; * MeasuringInvoker wraps a Statement and times it. You will probably want\n&gt; to save your timing measurements somewhere for later reporting.\n&gt; * The MeasuringRunner extends the default BlockJUnit4ClassRun ner by\n&gt; wrapping the superclass&#39; default invoker with our MeasuringInvoker.\n&gt;\n&gt; That&#39;s the body of the extension.. What follows is a self-test of the code.\n&gt; The sample class has a @Before and @After to start and end measuring the\n&gt; overall time. The test ensures that the time required for just the test\n&gt; method is less than half of the time required for the whole test including\n&gt; befores and afters.\n&gt;\n&gt; I hope this helps.\n&gt;\n&gt; Regards,\n&gt;\n&gt; Kent Beck\n&gt; Three Rivers Institute\n&gt; public class MeasureTestOnlyTime Test {\n&gt;\n&gt; static class NanoTimer {\n&gt; private long start;\n&gt; private long end;\n&gt; public void start() { start= System.nanoTime( ); }\n&gt; public void end() { end= System.nanoTime( ); }\n&gt; public long duration() { return end - start; }\n&gt; }\n&gt;\n&gt; static NanoTimer all= new NanoTimer();\n&gt; static NanoTimer justTest= new NanoTimer();\n&gt;\n&gt; static class MeasuringInvoker extends Statement {\n&gt; private final Statement invoker;\n&gt;\n&gt; public MeasuringInvoker( Statement invoker) {\n&gt; this.invoker= invoker;\n&gt; }\n&gt;\n&gt; @Override\n&gt; public void evaluate() throws Throwable {\n&gt; justTest.start( );\n&gt; invoker.evaluate( );\n&gt; justTest.end( );\n&gt; }\n&gt; }\n&gt;\n&gt; public static class MeasuringRunner extends BlockJUnit4ClassRun ner {\n&gt; public MeasuringRunner( Class&lt; ? &gt; klass) throws InitializationError {\n&gt; super(klass) ;\n&gt; }\n&gt;\n&gt; @Override\n&gt; protected Statement invoke(FrameworkMet hod method, Object test) {\n&gt; return new MeasuringInvoker( super.invoke( method, test));\n&gt; }\n&gt; }\n&gt;\n&gt; @RunWith(MeasuringR unner.class)\n&gt; public static class LongBeforeAndAfter {\n&gt; @Before public void before() {\n&gt; all.start();\n&gt; }\n&gt; @After public void after() {\n&gt; all.end();\n&gt; }\n&gt; @Test public void test() {\n&gt; }\n&gt; }\n&gt;\n&gt; @Test public void dontMeasureBeforeAn dAfter() {\n&gt; JUnitCore.runClasse s(LongBeforeAndA fter.class) ;\n&gt; assertTrue(all. duration( ) &gt; justTest.duration( ) * 2);\n&gt; }\n&gt; }\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt; Download prohibited? No problem. CHAT from any browser, without download. Go\n&gt; to http://in.messenger.yahoo.com/webmessengerpromo.php/\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt; \n\n", 
    "profile": "dsaff", 
    "topicId": 20672, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 20686, 
    "contentTrasformed": false, 
    "postDate": "1216135988", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20681, 
    "headers": {
        "inReplyToHeader": "PDgzNTEwMy41MzkzOC5xbUB3ZWI5NDgwMy5tYWlsLmluMi55YWhvby5jb20+", 
        "messageIdInHeader": "PDRmN2RhNmI5MDgwNzE1MDgzM2c2NmUzM2MxZHA2Y2Y1ZmM3M2FhMGRmZDFmQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDgzNTEwMy41MzkzOC5xbUB3ZWI5NDgwMy5tYWlsLmluMi55YWhvby5jb20+"
    }
}