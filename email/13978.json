{
    "numMessagesInTopic": 1, 
    "nextInTime": 13979, 
    "senderId": "Ei6VUvauUbrsL5Sp1bA3Z0wgD_X5FCsGd7kD_PGIvKSyGT6svtI0XY9Xwwg7BDW5okAYv8eQeIz2rBaXr2AWdL7FQw1NgW-yd8xrk5o", 
    "systemMessage": false, 
    "subject": "Test Advice Where Expected Object is an Object[][] of Numbers", 
    "from": "Shane Mingins &lt;shanemingins@...&gt;", 
    "authorName": "Shane Mingins", 
    "msgSnippet": "Hi I am working on a piece of code that currently does a calculation based on some parameters and returns an array (table) of results. For example: public void", 
    "msgId": 13978, 
    "profile": "shanemingins", 
    "topicId": 13978, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 154456095, 
    "messageBody": "<div id=\"ygrps-yiv-1158115704\">Hi<br/>\n<br/>\nI am working on a piece of code that currently does a<br/>\ncalculation based on some parameters and returns an<br/>\narray (table) of results.<br/>\n<br/>\nFor example:<br/>\n<br/>\n    public void<br/>\ntestCalculation_AllBasicParametersSetToZero()<br/>\n    {<br/>\n        Object[][] expectedDetails = new<br/>\nObject[][]{{0, 0, 0.0, 0, 0, 0, 0, 0, 0, 0}};<br/>\n<br/>\n        parameters.age = 0;<br/>\n        parameters.retirementAge = 0;<br/>\n        parameters.longevity = 0;<br/>\n        parameters.annualSavings = 0;<br/>\n        parameters.preRetirementReturn = 0.00;<br/>\n        parameters.annualDrawings = 0;<br/>\n        parameters.postRetirementReturn = 0.00;<br/>\n        parameters.investmentAssets = 0.00;<br/>\n<br/>\n        Projection projection = new Projection();<br/>\n        projection.setParameters(parameters);<br/>\n<br/>\n        Object[][] details = projection.getDetails();<br/>\n        for (int i = 0; i &lt; expectedDetails.length;<br/>\ni++)<br/>\n        {<br/>\n            Object[] expectedDetail =<br/>\nexpectedDetails[i];<br/>\n            ArrayAssert.assertEquals(expectedDetail,<br/>\ndetails[i]);<br/>\n        }<br/>\n    }<br/>\n<br/>\nAnd then I wrote one with the parameters set to values<br/>\nand asserted that the Object[][] returned matched the<br/>\nexpected results.<br/>\n<br/>\nObject[][] expectedDetails = new Object[][]<br/>\n{<br/>\n{50, 1000000, 2.00, 50000, 0, 0, 0, 0, 16942,<br/>\n1066942},<br/>\n{51, 1066942, 3.00, 0, 10000, 0, 0, 0, 28180,<br/>\n1085121},<br/>\n{52, 1085121, 3.00, 0, 10000, 0, 0, 0, 28706,<br/>\n1103828},<br/>\n};<br/>\n<br/>\n<br/>\nNow a couple of things are bothering me about where to<br/>\ngo to next ....<br/>\n<br/>\n1.  The numbers I need back actually should be real<br/>\nnumbers and not integers.  For example in the first<br/>\nrow, the last value should be 1066941.666667 not<br/>\n1066942.   This column is actually the closing balance<br/>\nthat then feeds into the calculation for the next row<br/>\nso should not be rounded.  But typing expectedResults<br/>\nlike <br/>\n<br/>\nObject[][] expectedDetails = new Object[][]<br/>\n        {<br/>\n            {50, 1000000, 2.00, 50000, 0, 0, 0, 0,<br/>\n16942, 1066941.666667 },<br/>\n<br/>\nlooks a bit ugly.<br/>\n<br/>\nAny suggestions?<br/>\n<br/>\n2.  Given that the closing balance of each row feeds<br/>\ninto the next row as the opening balance, if I test<br/>\nthat the last column in the last row equals the<br/>\nexpected result I could possibly test that 1. the<br/>\nnumber of rows is the expected number (this is based<br/>\non the age parameters) and 2. that the last closing<br/>\nbalance equals the expected value.<br/>\n<br/>\nE.g.<br/>\n<br/>\nassertEquals(3, details.length);<br/>\nassertEquals(1103827.5593172999, details[2][9]);<br/>\n<br/>\nBecause of the various parameters that can be set for<br/>\nthis calculation I need to write a few tests to drive<br/>\nthe calculation<br/>\n<br/>\nShould I be concerned that they may all use an<br/>\nObject[][] of expected results with long decimal<br/>\nplaces?<br/>\n<br/>\nAny pointers/suggestions/comments?<br/>\n<br/>\nCheers<br/>\nShane<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nShane Mingins<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:shanemingins@...\">shanemingins@...</a><br/>\n<br/>\nplease remove clothes before emailing<br/>\n<br/>\n<br/>\n<br/>\n\t\t<br/>\n__________________________________ <br/>\nYahoo! Mail Mobile <br/>\nTake Yahoo! Mail with you! Check email on your mobile phone. <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://mobile.yahoo.com/learn/mail\">http://mobile.yahoo.com/learn/mail</a></div>", 
    "prevInTime": 13977, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1119302956", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDIwMDUwNjIwMjEyOTE2LjYxNTY2LnFtYWlsQHdlYjYwMjI0Lm1haWwueWFob28uY29tPg=="
    }
}