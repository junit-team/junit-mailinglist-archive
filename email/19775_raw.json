{
    "numMessagesInTopic": 6, 
    "nextInTime": 19776, 
    "senderId": "DZ5fM9QOOXu0LpScIaHT1EXFbBMrhbpkwn1eAK-jlhUjxkzt8QvW3urEOwEU5cDDhJoRyU0Ng29FinaDRoGvpcvU", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Junit 4 and Ant", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Colin, Is it easy for a human scanning the class names to figure out which are test classes? In case you d like to submit a feature request, you ll need to do", 
    "msgId": 19775, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 33959 invoked from network); 21 Aug 2007 11:43:36 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m45.grp.scd.yahoo.com with QMQP; 21 Aug 2007 11:43:36 -0000\r\nReceived: from unknown (HELO wx-out-0506.google.com) (66.249.82.229)\n  by mta8.grp.scd.yahoo.com with SMTP; 21 Aug 2007 11:43:32 -0000\r\nReceived: by wx-out-0506.google.com with SMTP id h29so1395358wxd\n        for &lt;junit@yahoogroups.com&gt;; Tue, 21 Aug 2007 04:43:29 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;\n        b=b827d4TQFMTd1BAs/V983OYMuFfGfevmFy3bgQmIg2N88Tp8qMh2kErWqXSqEs3etX7+r6In3wzKtkVrQAxjeheq9yxbuhtJXecu+Sxxen0fPR6EiDYm3fBM9T08jD1dzuxl7wiS0hJWQrGIb0snAxo0NedDqs1WImDDVKgE5rY=\r\nReceived: by 10.90.102.20 with SMTP id z20mr1722458agb.1187696608836;\n        Tue, 21 Aug 2007 04:43:28 -0700 (PDT)\r\nReceived: by 10.90.93.19 with HTTP; Tue, 21 Aug 2007 04:43:28 -0700 (PDT)\r\nMessage-ID: &lt;4f7da6b90708210443m2130ad69q748567a468cd1b5a@...&gt;\r\nDate: Tue, 21 Aug 2007 07:43:28 -0400\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;4114432d0708201455m7d5194cevc408546f69024e58@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;4f7da6b90708200412ga2b066ek5c6632455c1e8a6d@...&gt;\n\t &lt;facioa+sp72@...&gt;\n\t &lt;4114432d0708201455m7d5194cevc408546f69024e58@...&gt;\r\nX-Google-Sender-Auth: e2036d76b5516274\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;David Saff&quot; &lt;saff@...&gt;\r\nSubject: Re: [junit] Re: Junit 4 and Ant\r\nX-Yahoo-Group-Post: member; u=139771899; y=wYrizVvbwqM1bhWVG4fDC6JGXr7Kw7h40o_m1pS56sA\r\nX-Yahoo-Profile: dsaff\r\n\r\nColin,\n\nIs it easy for a human scanning the class names to figure out which\nare test classes?\n\nIn case you&#39;d like to submit a feature request, you&#39;ll need to do it\non the ant side: it&#39;s ant&#39;s junit task, not junit&#39;s ant task.  :-)\n\n   David\n\nOn 8/20/07, Colin Goudie &lt;colin.goudie@...&gt; wrote:\n&gt; Jan,\n&gt;\n&gt; That is exactly what we do however, not all classes in the test package are\n&gt; tests. There are Mocks, utility classes etc.. As well as Test classes that\n&gt; are annotated with Test-NG. However, junit&#39;s ant task isn&#39;t smart enough to\n&gt; distinguish the difference. I find that pretty horrible! What is the use of\n&gt; a @Test annotation if it isn&#39;t used?? pretty crazy. Thanks for the help\n&gt; though.\n&gt;\n&gt; On 8/21/07, j_cumps &lt;j_cumps@...&gt; wrote:\n&gt; &gt;\n&gt; &gt;   Gommo,\n&gt; &gt;\n&gt; &gt; &gt; Is there any way out of the box to make Junit just run the tests\n&gt; &gt; that use\n&gt; &gt; &gt; org.junit.Test annoations ??\n&gt; &gt;\n&gt; &gt; What we (and several open source projects) typically do when using\n&gt; &gt; JUnit and Ant is:\n&gt; &gt; place your source files in a folder called src\n&gt; &gt; place your test classes in a folder called tst\n&gt; &gt;\n&gt; &gt; When running the junit ant task, let it look in the location of your\n&gt; &gt; test classes for tests it has to run.\n&gt; &gt;\n&gt; &gt; Example:\n&gt; &gt;\n&gt; &gt; sources:\n&gt; &gt; src/com/myproject/Foo.java\n&gt; &gt; src/com/myproject/Bar.java\n&gt; &gt;\n&gt; &gt; test sources:\n&gt; &gt; tst/com/myproject/FooTest.java\n&gt; &gt; tst/com/myproject/BarTest.java\n&gt; &gt;\n&gt; &gt; compile sources to destination build/bin, and tests to destination\n&gt; &gt; build/tst\n&gt; &gt;\n&gt; &gt; in build.xml:\n&gt; &gt;\n&gt; &gt; &lt;property name=&quot;build.dir&quot; value=&quot;build&quot;/&gt;\n&gt; &gt;\n&gt; &gt; &lt;!-- Testing Classpath --&gt;\n&gt; &gt; &lt;path id=&quot;junit.classpath&quot;&gt;\n&gt; &gt; &lt;pathelement location=&quot;${junit.jar}&quot;/&gt;\n&gt; &gt; &lt;pathelement location=&quot;${build.dir}/src&quot;/&gt;\n&gt; &gt; &lt;pathelement location=&quot;${build.dir}/tst&quot;/&gt;\n&gt; &gt; &lt;/path&gt;\n&gt; &gt;\n&gt; &gt; compilation part:\n&gt; &gt; ...\n&gt; &gt;\n&gt; &gt; &lt;target name=&quot;build&quot; depends....&quot;&gt;\n&gt; &gt; &lt;mkdir dir=&quot;${build.dir}/src&quot;/&gt;\n&gt; &gt; &lt;javac srcdir=&quot;src&quot;\n&gt; &gt; destdir=&quot;${build.dir}/src&quot;&gt;\n&gt; &gt; &lt;/javac&gt;\n&gt; &gt; &lt;mkdir dir=&quot;${build.dir}/tst&quot;/&gt;\n&gt; &gt; &lt;javac srcdir=&quot;tst&quot;\n&gt; &gt; destdir=&quot;${build.dir}/tst&quot; classpathref=&quot;junit.classpath&quot;\n&gt; &gt; debug=&quot;true&quot;&gt;\n&gt; &gt; &lt;/javac&gt;\n&gt; &gt; &lt;/target&gt;\n&gt; &gt;\n&gt; &gt; ...\n&gt; &gt;\n&gt; &gt; test part will only pick up your test classes in the tst subdir, and\n&gt; &gt; their class name has to contain Test in it.\n&gt; &gt;\n&gt; &gt; &lt;target name=&quot;test&quot;&gt;\n&gt; &gt;\n&gt; &gt; &lt;junit ...&gt;\n&gt; &gt; &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;\n&gt; &gt; &lt;classpath refid=&quot;junit.classpath&quot;/&gt;\n&gt; &gt;\n&gt; &gt; &lt;batchtest ...&gt;\n&gt; &gt; &lt;fileset dir=&quot;tst&quot;&gt;\n&gt; &gt; &lt;include name=&quot;**/*Test*.java&quot;/&gt;\n&gt; &gt; &lt;/fileset&gt;\n&gt; &gt; &lt;/batchtest&gt;\n&gt; &gt; &lt;/junit&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &lt;/target&gt;\n&gt; &gt;\n&gt; &gt; Regards, Jan\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt;, &quot;David Saff&quot;\n&gt; &gt; &lt;saff@...&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Gommo,\n&gt; &gt; &gt;\n&gt; &gt; &gt; I am not an expert user of the junit ant task--I hope that someone\n&gt; &gt; &gt; else on this list is, and can provide more insight. You might want\n&gt; &gt; to\n&gt; &gt; &gt; look at the Johannes&#39; Links ClasspathSuite runner:\n&gt; &gt; &gt;\n&gt; &gt; &gt; http://johanneslink.net/cpsuite.html\n&gt; &gt; &gt;\n&gt; &gt; &gt; Using this, you&#39;d point ant at a single suite class, which would\n&gt; &gt; &gt; itself indicate the directory in which to search for tests. I&#39;ve\n&gt; &gt; &gt; found cpsuite remarkably fast for small-to-medium projects, but\n&gt; &gt; can&#39;t\n&gt; &gt; &gt; say how it scales to large or very large projects. Thanks,\n&gt; &gt; &gt;\n&gt; &gt; &gt; David Saff\n&gt; &gt; &gt;\n&gt; &gt; &gt; On 8/19/07, gommo &lt;colin.goudie@...&gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I&#39;ve been using TestNG for more unit and integration tests.\n&gt; &gt; However, I&#39;ve\n&gt; &gt; &gt; &gt; found that JUnit 4 and its eclipse plugin works faster and nicer.\n&gt; &gt; So I&#39;ve\n&gt; &gt; &gt; &gt; decided change all my unit tests to JUnit.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I have a runUnitTests ant target that is used to run (previously)\n&gt; &gt; the\n&gt; &gt; &gt; &gt; test-ng tests that are marked as &quot;UnitTests&quot;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; As a start, I have changed this ant target to run all tests in my\n&gt; &gt; tests\n&gt; &gt; &gt; &gt; target directory (i.e. using **/*.class)\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; What I thought would happen was that JUnit would look at these\n&gt; &gt; classes, find\n&gt; &gt; &gt; &gt; the ones that are marked with the JUnit 4 @Test annotation and\n&gt; &gt; run them.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; What I&#39;m finding however is that it is attempting to run EVERY\n&gt; &gt; class in that\n&gt; &gt; &gt; &gt; folder as a test and they are either Test-NG tests or just other\n&gt; &gt; utility\n&gt; &gt; &gt; &gt; classes. As a result, JUnit is throwing errors\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; e.g.\n&gt; &gt; &gt; &gt; Running au.tributech.tuxedo.beans.entity.PermissionTest$1\n&gt; &gt; &gt; &gt; [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed:\n&gt; &gt; 0.017 sec\n&gt; &gt; &gt; &gt; [junit] Test\n&gt; &gt; au.tributech.tuxedo.beans.entity.PermissionTest$1 FAILED\n&gt; &gt; &gt; &gt; [junit] Running\n&gt; &gt; &gt; &gt;\n&gt; &gt; au.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant\n&gt; &gt; &gt; &gt; [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed:\n&gt; &gt; 0.018 sec\n&gt; &gt; &gt; &gt; [junit] Test\n&gt; &gt; &gt; &gt;\n&gt; &gt; au.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant\n&gt; &gt; FAILED\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Is there any way out of the box to make Junit just run the tests\n&gt; &gt; that use\n&gt; &gt; &gt; &gt; org.junit.Test annoations ??\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; What I have got working (but its slow) is to write a custom ANT\n&gt; &gt; selector.\n&gt; &gt; &gt; &gt; &lt;batchtest fork=&quot;yes&quot; todir=&quot;${test.report.dir}&quot;&gt;\n&gt; &gt; &gt; &gt; &lt;fileset dir=&quot;${test.fixtures.dir}&quot; includes=&quot;**/*.class&quot;&gt;\n&gt; &gt; &gt; &gt; &lt;custom classname=&quot;au.tributech.ant.JUnit4Selector&quot;\n&gt; &gt; &gt; &gt; classpathref=&quot;project.test.run.classpath&quot;/&gt;\n&gt; &gt; &gt; &gt; &lt;/fileset&gt;\n&gt; &gt; &gt; &gt; &lt;/batchtest&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The JUnit4Selector class I wrote simply reads in each file\n&gt; &gt; processed and\n&gt; &gt; &gt; &gt; uses ASM-3.0 to look for JUnit4 annotations (@Test, @RunsWith\n&gt; &gt; etc..). If\n&gt; &gt; &gt; &gt; they exist it processes that file otherwise skips it.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; This works but it is pretty slow and I can see it being painfully\n&gt; &gt; slow when\n&gt; &gt; &gt; &gt; there are hundreds of unit tests.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Surely I&#39;m missing something here and JUnit&#39;s ANT task is smarter\n&gt; &gt; than what\n&gt; &gt; &gt; &gt; it is appearing. I don&#39;t want to have to specify EVERY unit test\n&gt; &gt; when I add\n&gt; &gt; &gt; &gt; them. That is just a maintenance nightmare.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Thanks for any pointers\n&gt; &gt; &gt; &gt; --\n&gt; &gt; &gt; &gt; View this message in context: http://www.nabble.com/Junit-4-and-\n&gt; &gt; Ant-tf4289986.html#a12212626\n&gt; &gt; &gt; &gt; Sent from the JUnit - User mailing list archive at Nabble.com.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;\n&gt;\n&gt; --\n&gt; Colin Goudie (B.CompSci,B.Eng Comp)\n&gt; Tributech\n&gt; MB: 0412 014 851\n&gt; www.tributech.com.au\n&gt; PO Box 380 Cardiff NSW 2285 Australia\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 19756, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "prevInTime": 19774, 
    "contentTrasformed": false, 
    "postDate": "1187696608", 
    "canDelete": false, 
    "nextInTopic": 19802, 
    "prevInTopic": 19767, 
    "headers": {
        "inReplyToHeader": "PDQxMTQ0MzJkMDcwODIwMTQ1NW03ZDUxOTRjZXZjNDA4NTQ2ZjY5MDI0ZTU4QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwODIxMDQ0M20yMTMwYWQ2OXE3NDg1NjdhNDY4Y2QxYjVhQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDcwODIwMDQxMmdhMmIwNjZlazVjNjYzMjQ1NWMxZThhNmRAbWFpbC5nbWFpbC5jb20+CSA8ZmFjaW9hK3NwNzJAZUdyb3Vwcy5jb20+CSA8NDExNDQzMmQwNzA4MjAxNDU1bTdkNTE5NGNldmM0MDg1NDZmNjkwMjRlNThAbWFpbC5nbWFpbC5jb20+"
    }
}