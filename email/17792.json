{
    "numMessagesInTopic": 287, 
    "nextInTime": 17793, 
    "senderId": "y1Gyw6sV8zDKv46vaJXF3fswQRmPz-XowjW0H84gVNJXQP7IS1_ZD9zIF0Golo0m_2qc3n3HDbo1mjTIExs0z4yUqUKxGeS0tb1yqMp_mw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Test-friendly, but not caller-friendly?", 
    "from": "Elliotte Harold &lt;elharo@...&gt;", 
    "authorName": "Elliotte Harold", 
    "msgSnippet": "... True. That s why I agree with Meyer that postconditions do not need to be checked at runtime, and can be replaced by tests. Meyer s quite clear that", 
    "msgId": 17792, 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 12653864, 
    "messageBody": "<div id=\"ygrps-yiv-1175445783\">Michael Feathers wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I think the line is fuzzier than that.  Postconditions don&#39;t verify the <br/>\n&gt; client. <br/>\n&gt; <br/>\n<br/>\n </span></blockquote>True. That&#39;s why I agree with Meyer that postconditions do not need to <br/>\nbe checked at runtime, and can be replaced by tests. Meyer&#39;s quite clear <br/>\nthat postconditions and preconditions are quite different things. A <br/>\nprecondition failure is a client bug. A postcondition failure is a <br/>\nprovider bug. Provider bugs can be addressed by provider testing. Client <br/>\n  bugs cannot be.<br/>\n<br/>\nClass invariants, I suppose, can fall in either camp. If the class <br/>\nmaintains its invariants provided all preconditions are satisfied, then <br/>\nit doesn&#39;t need to be verified except through testing. However, if <br/>\nmethod invocations that satisfy individual preconditions can together <br/>\nviolate the class invariant, then you&#39;d need to check the invariant at <br/>\nruntime. For example, imagine a Money class with both a setDollars and a <br/>\nsetCents method. Both dollars and cents can be negative, zero, or <br/>\npositive. However, if one is negative the other must be nonPositive and <br/>\nif one is positive, the other must be nonNegative. There the invariant <br/>\ncrosses the boundaries between the methods. I prefer to avoid this if <br/>\npossible, but sometimes it happens.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; The sneaky thing about DbC is that if you want to use its assertions <br/>\n&gt; essentially as tests you have to exercise your code.  It&#39;s not just a <br/>\n&gt; matter of writing the assertions.  When you test, the code that you <br/>\n&gt; write is the exercising code, and you can test both clients and <br/>\n&gt; providers.  Not saying that DbC is bad, just that I wouldn&#39;t want to <br/>\n&gt; rely on its assertion mechanism rather than tests.  <br/>\n<br/>\n </span></blockquote>One of the things I write unit tests for is the proper behavior of the <br/>\nmethods in the face of a precondition violation. (Usually that&#39;s <br/>\nthrowing an exception.)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; On the other hand, I <br/>\n&gt; feel oddly comfortable writing code with lots of tests and no embedded <br/>\n&gt; DbC constructs.<br/>\n<br/>\n </span></blockquote>You&#39;re perhaps not worrying about other programmers using your code with <br/>\nno tests, or other programmers trying to break your security and do bad <br/>\nthings with your code. I am quite uncomfortable thinking about such <br/>\nthings. That&#39;s why I check my preconditions rigorously.<br/>\n<br/>\n-- <br/>\nï»¿Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\nJava I/O 2nd Edition Just Published!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeaulait.org/books/javaio2/\">http://www.cafeaulait.org/books/javaio2/</a><br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/\">http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/</a></div>", 
    "prevInTime": 17791, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1157453155", 
    "canDelete": false, 
    "nextInTopic": 17793, 
    "prevInTopic": 17791, 
    "headers": {
        "inReplyToHeader": "PDQ0RkNBREE0LjUwNDA2QG1pbmRzcHJpbmcuY29tPg==", 
        "messageIdInHeader": "PDQ0RkQ1NTYzLjgwMzA5MDhAbWV0YWxhYi51bmMuZWR1Pg==", 
        "referencesHeader": "PGI4NmI2YTljMDYwOTA0MDkzOW0xM2M3OWQ0OXg4OGU4YzAxNTYyZTkyODQ4QG1haWwuZ29vZ2xlLmNvbT4JIDwyMDA2MDkwNDIwNTcxNi42MTk4OS5xbWFpbEB3ZWI2MDcxNC5tYWlsLnlhaG9vLmNvbT4gPGI4NmI2YTljMDYwOTA0MTUxMHY0OGEzZDI0M2plZDM0N2I1MTBjMTUwM2FlQG1haWwuZ29vZ2xlLmNvbT4gPDQ0RkNBOUJFLjgwMzA1MDBAbWV0YWxhYi51bmMuZWR1PiA8NDRGQ0FEQTQuNTA0MDZAbWluZHNwcmluZy5jb20+"
    }
}