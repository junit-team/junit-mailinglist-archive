{
    "numMessagesInTopic": 11, 
    "nextInTime": 23681, 
    "senderId": "O-44ME3ieUHQAOV8WPO635Hk1WwXY_0sTlVADwR9lxg5vK59Eu1ta35hziegLLbRhIFOE0I_vqq5-xqsXZb3HG3buFPMveoO", 
    "systemMessage": true, 
    "subject": "Re: [junit] Alphabetizing test method run order?", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "... -10 A number of projects I worked on used to do this. While this may initially seem like a good idea, it was problematic for us for a number of reasons. If", 
    "msgId": 23680, 
    "profile": "kevincooney2000", 
    "topicId": 23671, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "messageBody": "<div id=\"ygrps-yiv-740765822\">On Tue, Sep 20, 2011 at 3:07 AM, Dominik Dorn &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dorn@...\">dorn@...</a>&gt; wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; **<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Hmm... I think it would be even better to _ensure_ that the test cases are<br/>\n&gt; run<br/>\n&gt; in a random order but provide a summary at the end of the testrun where the<br/>\n&gt; order gets printed.<br/>\n&gt;<br/>\n<br/>\n </span></blockquote>-10<br/>\n<br/>\nA number of projects I worked on used to do this. While this may initially<br/>\nseem like a good idea, it was problematic for us for a number of reasons.<br/>\n<br/>\nIf the tests are run in a random order, then a small change to a test or a<br/>\nclass under test could cause a completely unrelated test to fail. Many<br/>\ndevelopers will assume that it is their change that caused the problem,<br/>\nleading them in a wild goose chase trying to see which of their changes<br/>\ncaused the problems and why, and when they realize it is due to the test<br/>\nordering, they need to do a big context switch back to their original<br/>\ntask. This would be made worse by the fact that simply rerunning the tests<br/>\nwould cause them to pass again (or worse, cause a different test to fail).<br/>\n<br/>\nNote that I don&#39;t think developers should be writing tests where the outcome<br/>\ndepends on the ordering that the test methods were run. I just don&#39;t think<br/>\nwe should assume that fixing the tests with this problem is necessarily as<br/>\nimportant as what the developer is trying to do.<br/>\n<br/>\nMaking the test order random by default also does not necessarily make it<br/>\neasier to track down problems with ordering of tests, since if you ran the<br/>\nfailing test suite again, you would get a different run order. JUnit could<br/>\nprint out the random seed used for that particular run, but then developers<br/>\nwould have to figure out how to pass the previous random seed back to the<br/>\ntest (how to do this would depend on which IDE or build system they used).<br/>\n<br/>\nIf developers want the ordering to be shuffled, they should use a custom<br/>\nrunner that shuffles the tests. We used to do this in our JUnit3 tests with<br/>\na custom subclass of TestSuite. It used a random seed based on the<br/>\nSystem.currentTimeMillis() at midnight, so if a particular ordering caused<br/>\nthe tests to fail, it was reproducible for the rest of the day.<br/>\nUnfortunately, developers often assumed that the breakage was caused by one<br/>\nof the changes submitted since the most recent green run of<br/>\nthe continuous build.<br/>\n<br/>\n<br/>\nPersonally, I don&#39;t need the test ordering to be defined, but I need it to<br/>\nbe deterministic. If I build the same code with the same JDK and run it in<br/>\nthe same JRE on the same kernel on a different day, the tests should run in<br/>\nthe same order. We often re-run tests that failed earlier in the day, using<br/>\nthe same source code, to try to determine which failures were due to flaky<br/>\ntests. Having the tests run in a different order would make it much more<br/>\ndifficult to do this analysis.<br/>\n<br/>\n<br/>\nI suggest that JUnit4 order the tests by the hash code of the test method<br/>\nname. If there is a tie, JUnit could compare the test names using the<br/>\nnatural ordering defined by String.compareTo(String) (possibly in reverse<br/>\n:-)<br/>\n<br/>\n-- Kevin<br/>\n<br/>\nIn that way, people would be urged to create independent tests and if it<br/>\n<blockquote><span title=\"ireply\"> &gt; happens<br/>\n&gt; that the tests are not independent (and this is discovered through a<br/>\n&gt; different ordering)<br/>\n&gt; they can diagnose the problem and fix their tests.<br/>\n&gt;<br/>\n&gt; On Tue, Sep 20, 2011 at 10:10 AM, Stephen Connolly &lt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:stephen.alan.connolly@...\">stephen.alan.connolly@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; &gt; **<br/>\n&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; At present if you create a Request, the tests will be unsorted, but you<br/>\n&gt; can<br/>\n&gt; &gt; call<br/>\n&gt; &gt;<br/>\n&gt; &gt; Request r;<br/>\n&gt; &gt; r.sort( new Comparator() { ... } );<br/>\n&gt; &gt;<br/>\n&gt; &gt; to have the tests sorted.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Additionally, a Runner has the ability to sort its tests initially,<br/>\n&gt; &gt; though IMHO there is a tad missing in terms of sorting if your Runner<br/>\n&gt; &gt; extends from ParentRunner as the entire list of tests is hidden from<br/>\n&gt; &gt; the Sortable interface and child classes of ParentRunner... thus you<br/>\n&gt; &gt; are relying on Collections.sort to establish your sorting with the<br/>\n&gt; &gt; comparator.<br/>\n&gt; &gt;<br/>\n&gt; &gt; i.e. Some sorting requirements may need as many as N*N/2 comparisons<br/>\n&gt; &gt; to establish the correct sorting, while Collections.sort will<br/>\n&gt; &gt; typically only perform N*log(N) comparisons.<br/>\n&gt; &gt;<br/>\n&gt; &gt; See <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/KentBeck/junit/pull/316\">https://github.com/KentBeck/junit/pull/316</a><br/>\n&gt; &gt;<br/>\n&gt; &gt; Something similar to <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/KentBeck/junit/pull/316\">https://github.com/KentBeck/junit/pull/316</a> will<br/>\n&gt; &gt; probably be needed if/as more people use the Request#sort(Comparator)<br/>\n&gt; &gt; method.<br/>\n&gt; &gt;<br/>\n&gt; &gt; On 20 September 2011 08:44, Malte Finsterwalder<br/>\n&gt; &gt;<br/>\n&gt; &gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:malte@...\">malte@...</a>&gt; wrote:<br/>\n&gt; &gt; &gt; +1<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; keep ordering undefined.<br/>\n&gt; &gt; &gt; Allow ordering though a custom Annotation, a Runner or a Rule (or a<br/>\n&gt; &gt; &gt; combination thereof, whatever makes sense).<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ------------------------------------<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 23679, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1316538581", 
    "canDelete": false, 
    "nextInTopic": 23685, 
    "prevInTopic": 23676, 
    "headers": {
        "inReplyToHeader": "PENBQkhNNzZXa3lwbjJIQTRyS1lzRlJSTVYtYUgtUVZEeXNVMjRIOVV5NnJQMjZBX1RFUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQTNFK2VXOGsxSEJBYWotLXQ1N1pRNEh5LUhaYkp4NDl5RTgzTUZEeXhFZ19UbUF3UUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ2o4QnVNdStWRHJTeG1GNUFyUmYrQ3QrSmc5QmpCSDR2TUFMazFoeEV2VzFyOGZHd0BtYWlsLmdtYWlsLmNvbT4gPENBTGdBZjgyYjY9emE9WVVwWEN5MDJTZjZwWjFkaWJBTF9KTmlMNTkxNjJtOGdadVNHd0BtYWlsLmdtYWlsLmNvbT4gPENBTFMxMi1OZFhLbW83YjZ6N0tHdTkremE2N2hqS2owWmI0QmFOVyt6b1BvUEw5dS02UUBtYWlsLmdtYWlsLmNvbT4gPENBK25Qbk14cE1UUXpkV1lTcD0rck1UNGVoZExEWktoY1RuaDVUMGpzK3doTjY3QzU9d0BtYWlsLmdtYWlsLmNvbT4gPENBQkhNNzZXa3lwbjJIQTRyS1lzRlJSTVYtYUgtUVZEeXNVMjRIOVV5NnJQMjZBX1RFUUBtYWlsLmdtYWlsLmNvbT4="
    }
}