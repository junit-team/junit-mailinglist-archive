{
    "numMessagesInTopic": 7, 
    "nextInTime": 20458, 
    "senderId": "rQK1O9NaiN3ANI99hZMdiPGHXYOo8139UeWH9QPyZCPvSQCNvhwG35EBBNzmQIfe7zpsBoOBTHrAEIl6dtxHOdjM", 
    "systemMessage": true, 
    "subject": "Re: testing interfaces only and dependecy injection in test cases", 
    "from": "&quot;jensnz&quot; &lt;jensnz@...&gt;", 
    "authorName": "jensnz", 
    "msgSnippet": "... What I am trying to avoid are explicit references to implementation classes in test cases, like in assertAddingAnElementIncreasesTheSizeByOne(new", 
    "msgId": 20457, 
    "profile": "jensnz", 
    "topicId": 20454, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 344091775, 
    "messageBody": "<div id=\"ygrps-yiv-32152641\">--- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Nat Pryce&quot; &lt;nat.pryce@...&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; 2008/4/23 jensnz &lt;jensnz@...&gt;:<br/>\n&gt; &gt; Sorry if this is a question that has already been discussed (it<br/>\n&gt; &gt;  probably has because its so obvious, but I could not find anything<br/>\n&gt; &gt;  about it). I want to write test cases that reference interfaces only<br/>\n&gt; &gt;  as I want to publish them as part of a spec Â– they are to define the<br/>\n&gt; &gt;  semantics of classes.<br/>\n&gt; <br/>\n&gt; When faced with this situation in the past I separated the tests into<br/>\n&gt; &quot;white box&quot; and &quot;black box&quot; parts.<br/>\n&gt; <br/>\n&gt; The black box parts I implemented as assertions about the behaviour<br/>\n&gt; implied by the interface.<br/>\n&gt; <br/>\n&gt; The white box parts I implemented as unit tests that put a known<br/>\n&gt; implementation into a known (significant) state and then passed it to<br/>\n&gt; a black-box assertion.<br/>\n&gt; <br/>\n&gt; E.g. I might have two implementations of List: LinkedList and ArrayList.<br/>\n&gt; <br/>\n&gt; I would have assertions that I can add an element onto the end of the<br/>\n&gt; list and retrieve the last element, adding an element increases the<br/>\n&gt; size by one, etc. etc..<br/>\n&gt; <br/>\n&gt; I would have tests for the implementations that exercised specific<br/>\n&gt; internal states.  For example, for an ArrayList I would have tests<br/>\n&gt; that added an element to an empty list, to a list that has a full<br/>\n&gt; array that needs to be expanded, etc.  Those tests would call the<br/>\n&gt; assertions.  Something like:<br/>\n&gt; <br/>\n&gt;   import static ListAssert.assertAddingAnElementIncreasesTheSizeByOne;<br/>\n&gt; <br/>\n&gt;   ...<br/>\n&gt; <br/>\n&gt;   @Test public void<br/>\n&gt;   addingAnElementIncreasesTheSizeByOne() {<br/>\n&gt;        assertAddingAnElementIncreasesTheSizeByOne(new ArrayList());<br/>\n&gt; <br/>\n&gt;        List listAtCapacity = new ArrayList(4);<br/>\n&gt;        listAtCapacity.addAll(Arrays.asList(1,2,3,4));<br/>\n&gt;        assertAddingAnElementIncreasesTheSizeByOne(listAtCapacity);<br/>\n&gt;    }<br/>\n&gt; <br/>\n&gt; If those tests got too large (as above), I&#39;d break them into separate<br/>\n&gt; test methods.<br/>\n&gt; <br/>\n&gt; --Nat<br/>\n&gt;<br/>\n </span></blockquote>What I am trying to avoid are explicit references to implementation<br/>\nclasses in test cases, like in<br/>\nassertAddingAnElementIncreasesTheSizeByOne(new ArrayList());. <br/>\n<br/>\nThe background of my question is the following: I want to use tests in<br/>\na scenario where interfaces describe services (like in OSGI). When a<br/>\nservice becomes available (a class implementing the interface), I want<br/>\nto run all tests for this service at runtime (!) to verify that the<br/>\nservice has the correct behaviour. I cannot do this at build time as<br/>\nthe service is discovered dynamically and I don&#39;t own the<br/>\nimplementation. So I somehow have to inject the service implementation<br/>\ninto the test case before setUp is executed.<br/>\n<br/>\nJens</div>", 
    "prevInTime": 20456, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1208987805", 
    "canDelete": false, 
    "nextInTopic": 20458, 
    "prevInTopic": 20456, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwODA0MjMxMzU5ZzdmMjE4YTcwcmUzODg2MTVkZWZlYjljZDdAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGZ1b2JhdCtucmthQGVHcm91cHMuY29tPg=="
    }
}