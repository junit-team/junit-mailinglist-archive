{
    "numMessagesInTopic": 2, 
    "nextInTime": 23885, 
    "senderId": "vL3Tr4JTvNRZZ6OvmKWgztyu2pLHwoaSVRN5TohH633QIM7-tTy4TKrA-Bd5_19FxyLt7zHiwd3ByDioMRUpL-SJFw", 
    "systemMessage": true, 
    "subject": "Re: [junit] Testing of OSGi declarative services", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Rene, Sorry for the late reply.  Unfortunately, I don t have a lot of experience with declarative services, so I can t be a lot of help.  Are there ", 
    "msgId": 23884, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nReceived: (qmail 38163 invoked from network); 10 May 2012 14:06:03 -0000\r\nReceived: from unknown (98.137.34.45)\n  by m15.grp.sp2.yahoo.com with QMQP; 10 May 2012 14:06:03 -0000\r\nReceived: from unknown (HELO ng13-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.216)\n  by mta2.grp.sp2.yahoo.com with SMTP; 10 May 2012 14:06:02 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1336658762; bh=z0HMiXTAgs9ZJWn9yKMYSwnBwHt4bA3nq+gnsYWZLFM=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Google-DKIM-Signature:X-Received:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:Message-ID:To:X-System-Of-Record:X-Gm-Message-State:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Content-Type:Content-Transfer-Encoding:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=aVTvneH9KriMK/1rlZjlBnOyTQDlnGs4W4yBkCVk/HvyKWWwd1M3030N1xgyW2eOlKzGIyC0igASlolq+/7FpCvyMc2XwbtgA4x0L5rB9Qhnc8KvaTnY46dD+wye65st\r\nReceived: from [98.138.217.178] by ng13.bullet.mail.ne1.yahoo.com with NNFMP; 10 May 2012 14:06:02 -0000\r\nReceived: from [98.137.34.73] by tg3.bullet.mail.ne1.yahoo.com with NNFMP; 10 May 2012 14:06:02 -0000\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 43203 invoked from network); 10 May 2012 13:34:37 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m6.grp.sp2.yahoo.com with QMQP; 10 May 2012 13:34:37 -0000\r\nX-Received: from unknown (HELO mail-ob0-f179.google.com) (209.85.214.179)\n  by mta2.grp.sp2.yahoo.com with SMTP; 10 May 2012 13:34:36 -0000\r\nX-Received: by obbup19 with SMTP id up19so1916308obb.38\n        for &lt;junit@yahoogroups.com&gt;; Thu, 10 May 2012 06:34:32 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:in-reply-to:references:from:date:message-id:subject:to\n         :content-type:x-system-of-record:x-gm-message-state;\n        bh=jj0++YciY48J3wmL/FxPi5utz/AoBpV1VTFvjNZ1Lvw=;\n        b=LDQoHxjA32Y0hEmCy8/dYE9o1iPTHSlPfV5bfrBY4nbgnwWL3Ot3JkWG+/V0n5ebqi\n         l4i+xP40g46ZaUWGbRhS7AGeBhxw4eh2yhdxo5RO/UURvhdgZAaTNOzhR6rciTyW26Di\n         gUQdQgh2dCFP6rDFbEWrZN4o9EpCv1DNPwOBCE36ftA8dpp6XE0lAIcCSvOO7YDJccJn\n         QsNTbgf0xt8gXoP354wfQUNdbDpidoMKk4o/hb15FeAkO8N3CSSzmvsipXMBX6WC3OK2\n         u1M1ZORD3BVf/3dT6pr23iADuGEfHfpg7LGQN02e+8W71uWRTBM3Rivo4mN7WPMyFf/l\n         MZIA==\r\nX-Received: by 10.182.38.1 with SMTP id c1mr3047905obk.18.1336656872454;\n        Thu, 10 May 2012 06:34:32 -0700 (PDT)\r\nX-Received: by 10.182.38.1 with SMTP id c1mr3047887obk.18.1336656872274; Thu, 10\n May 2012 06:34:32 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.61.138 with HTTP; Thu, 10 May 2012 06:34:12 -0700 (PDT)\r\nIn-Reply-To: &lt;4F9BFC69.1000409@...&gt;\r\nReferences: &lt;4F9BFC69.1000409@...&gt;\r\nDate: Thu, 10 May 2012 09:34:12 -0400\r\nMessage-ID: &lt;CALrw-PxaJj267zxXKOyXwz4Zgao2Mezn+p1i6LkrdD6YCYArHA@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-System-Of-Record: true\r\nX-Gm-Message-State: ALoCoQmKILDUSJvhvNCiwMcVom23xJDSaEoBOXTisYTOhK7PY19efiZw93z+svleO6WwuUWDKxEoU+ttJdhVkUHG8cpaOX/loEfNqjNHz8wk0TSLwjHERGpgoOQbvtkfjqsygUkML7l4CR6JZXA3tVX6f1FvK16M9w==\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] Testing of OSGi declarative services\r\nX-Yahoo-Group-Post: member; u=525765722; y=4u6C-xw5IofPT_icy0Yd7XvPxP3FBoN6WUKWUBAEWvjXBGaP6rK6oaVzw9fGg6SnVhZ7Fno5wwAaf4k\r\nX-Yahoo-Profile: saffatgoogle\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 10 May 2012 14:06:00 -0000\r\n\r\nRene,\n\nSorry for the late reply.  Unfortunately, I don&#39;t have a lot of experience\nwith declarative services, so I can&#39;t be a lot of help.  Are there\nOSGi-related lists that might be more helpful?  Have you found a solution?\n\n   David\n\nOn Sat, Apr 28, 2012 at 10:19 AM, . &lt;tesco@...&gt; wrote:\n\n&gt; Hi,\n&gt;\n&gt; I&#39;m not able to test a OSGi declarative service with a JUnit Plugin Test\n&gt; in Eclipse.\n&gt;\n&gt; Although all necessary bundles (especially the Service, the Consumer\n&gt; with the JUnit Test class, org.eclipse.equinox.ds,\n&gt; org.eclipse.equinox.util, org.eclipse.jdt.junit.runtime and\n&gt; org.eclipse.pde.junit.runtime) are added to the Run Configuration of the\n&gt; Plugin Test and the bind/unbind methods are defined in the test class it\n&gt; comes to an Null Pointer Exception (the bind method seems to be not\n&gt; executed), if I access the Service attribute (e.g. public static\n&gt; IMyService myService) in a JUnit Test method.\n&gt;\n&gt; According to this site\n&gt;\n&gt; http://stackoverflow.com/questions/7161338/using-osgi-declarative-services-in-the-context-of-a-junit-test\n&gt; the reason for this exception is that the OSGi framework is in a race\n&gt; condition with the JUnit tests runner context. The solution there to use\n&gt; a Count Down Latch that waits in a @Before method until the needed\n&gt; service (that should be tested) is binded, seems to be not working for\n&gt; me. In my case the await() method blocks infinitely, so the test will be\n&gt; never executed. On the other hand, if I define a maximum time to wait,\n&gt; e.g. await(10, TimeUnit.SECONDS), it comes after this time again to the\n&gt; Null Pointer Exception.\n&gt;\n&gt; What is the correct way to test a OSGi declarative service with JUnit?\n&gt;\n&gt; Any help is appreciated.\n&gt;\n&gt; Regards,\n&gt; Rene\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "saffatgoogle", 
    "topicId": 23873, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "prevInTime": 23883, 
    "contentTrasformed": false, 
    "postDate": "1336656852", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23873, 
    "headers": {
        "inReplyToHeader": "PDRGOUJGQzY5LjEwMDA0MDlAZ214LmluZm8+", 
        "messageIdInHeader": "PENBTHJ3LVB4YUpqMjY3enhYS095WHd6NFpnYW8yTWV6bitwMWk2TGtyZEQ2WUNZQXJIQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PDRGOUJGQzY5LjEwMDA0MDlAZ214LmluZm8+"
    }
}