{
    "topicId": 622, 
    "postDate": "984056917", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "robert.worth@...", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "XAu4JoWupEmKmraNg4TkFopb64ZQIkFXTZSKo5ej6s1uCde8bBzABadukzH-sbJHIzEXAYf-irbO3ii1Hw", 
    "nextInTime": 623, 
    "userId": 0, 
    "prevInTime": 621, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDk4ODA4bCttYnVAZUdyb3Vwcy5jb20+"
    }, 
    "authorName": "robert.worth@chase.com", 
    "numMessagesInTopic": 1, 
    "msgSnippet": "Hi all, I have a class in my project group called SingletonHolder and I have written a test for it called TestSingletonHolder. Find the sources for both below.", 
    "contentTrasformed": false, 
    "msgId": 622, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;robert.worth@...&gt;\r\nX-Sender: robert.worth@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_0_4); 8 Mar 2001 13:08:42 -0000\r\nReceived: (qmail 19128 invoked from network); 8 Mar 2001 13:08:42 -0000\r\nReceived: from unknown (10.1.10.26) by l10.egroups.com with QMQP; 8 Mar 2001 13:08:42 -0000\r\nReceived: from unknown (HELO mr.egroups.com) (10.1.1.37) by mta1 with SMTP; 8 Mar 2001 13:08:42 -0000\r\nX-eGroups-Return: robert.worth@...\r\nReceived: from [10.1.10.106] by mr.egroups.com with NNFMP; 08 Mar 2001 13:08:42 -0000\r\nDate: Thu, 08 Mar 2001 13:08:37 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Rerun swingui with Systems.getProperties() error\r\nMessage-ID: &lt;98808l+mbu@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 1833\r\nX-Mailer: eGroups Message Poster\r\nFrom: robert.worth@...\r\n\r\nHi all,\n\nI have a class in my project group called SingletonHolder and I have \nwritten a test for it called TestSingletonHolder. Find the sources \nfor both below.\n\nWhen I run TestSingletonHolder, which uses the \njunit.swingui.TestRunner, it runs fine. However, if I hit either of \nthe &quot;run&quot; buttons I get a ClassCastException on the line\n\ninstance= (SingletonHolder) props.get( &quot;SingletonHolder&quot;);\n\nof SingletonHolder.\n\nWhen I get the class of the object returned by the props.get() \nmethod, it tells me it is a SingletonHolder.\n\nPlease can someone help. I don&#39;t know if it the test, the code, the \nSystem properties or the swingui stuff.\n\n/////////SingletonHolder\nimport java.util.*;\n\npublic class SingletonHolder {\n   public static synchronized SingletonHolder getInstance() {\n\t    SingletonHolder instance= null;\n\n\t    Properties props= System.getProperties();\n\n\t    if(props.get(&quot;SingletonHolder&quot;) == null) {\n\t\t    instance = new SingletonHolder();\n\n\t        props.put( &quot;SingletonHolder&quot;, instance);\n\t    } else {\n\t\t\tinstance = (SingletonHolder)props.get\n( &quot;SingletonHolder&quot;);\n\t    }\n\n\t    return instance;\n    }\n}\n\n/////////SingletonHolder end\n\n////////TestSingletonHolder\nimport junit.framework.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class TestSingletonHolder extends TestCase {\n    public static void main(String[] args) {\n        junit.swingui.TestRunner.run(TestSingletonHolder.class);\n    }\n\n    public void testSingleton() {\n        SingletonHolder sin1 = SingletonHolder.getInstance();\n        SingletonHolder sin2 = SingletonHolder.getInstance();\n\n        assert(sin1 != null);\n        assert(sin2 != null);\n        assert(sin1 == sin2);\n\n        sin1 = null;\n        sin2 = null;\n    }\n\n    public TestSingletonHolder(String name) {\n        super(name);\n    }\n}\n/////////TestSingletonHolder end\n\nThanks,\n\nRob\n\n\n", 
    "subject": "Rerun swingui with Systems.getProperties() error"
}