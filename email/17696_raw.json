{
    "numMessagesInTopic": 21, 
    "nextInTime": 17697, 
    "senderId": "T4P_BAjgd8EM_2neacpFsuY6yXSy1DbZMeOp0g2eFVmBq14DADy-YBvsQcQ_YNnwb-aN33swRYHV3VQLj1gFcZnt5YLmW7yVch7dCJzLtTTdFt9wZcaNb4DwWA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing a void method....", 
    "from": "Andrew McDonagh &lt;yahoogroups@...&gt;", 
    "authorName": "Andrew McDonagh", 
    "msgSnippet": "My team have just created two daemon applications within 6 weeks. Both do similar things, poll for data in a db interface view, transform it in some way and", 
    "msgId": 17696, 
    "rawEmail": "Return-Path: &lt;yahoogroups@...&gt;\r\nX-Sender: yahoogroups@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 41361 invoked from network); 29 Aug 2006 17:22:26 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m26.grp.scd.yahoo.com with QMQP; 29 Aug 2006 17:22:26 -0000\r\nReceived: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)\n  by mta9.grp.scd.yahoo.com with SMTP; 29 Aug 2006 17:22:25 -0000\r\nReceived: from [192.168.1.100] (i-83-67-4-97.freedom2surf.net [83.67.4.97])\n\tby outmail.freedom2surf.net (Postfix) with ESMTP id 26F219576B\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 29 Aug 2006 18:22:14 +0100 (BST)\r\nMessage-ID: &lt;44F4779C.8030303@...&gt;\r\nDate: Tue, 29 Aug 2006 18:21:32 +0100\r\nUser-Agent: Thunderbird 1.5.0.5 (Windows/20060719)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;E9DE7963E5EA6546B42A979EC28B4D01290DA8F2@...&gt;\t &lt;375e8d880608270240i307b83bfs74261b429479a9c0@...&gt;\t &lt;b86b6a9c0608280717o221c486i7605320d0e788229@...&gt;\t &lt;44F36434.4040104@...&gt;\t &lt;b86b6a9c0608281454n6dd1e1b6qcff3df2103a1b121@...&gt;\t &lt;44F444B0.6070004@...&gt; &lt;b86b6a9c0608290711m3e053d43s120e03183758a516@...&gt;\r\nIn-Reply-To: &lt;b86b6a9c0608290711m3e053d43s120e03183758a516@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Andrew McDonagh &lt;yahoogroups@...&gt;\r\nSubject: Re: [junit] Testing a void method....\r\nX-Yahoo-Group-Post: member; u=234174584; y=9uK1RM5aoreuCIDknUPgEoELC9Rb0XewPMHRSoqsnFObE-eMkQJAfw\r\nX-Yahoo-Profile: andy_ipaccess\r\n\r\n\nMy team have just created two daemon applications within 6 weeks. Both \ndo similar things, poll for data in a db &#39;interface&#39; view, transform it \nin some way and write the results out to another systems db. With a \ntotal of around 250 unit tests, not one of those tests use a real JDBC \nobject or connection. We created our own mocks for Connection, \nResultSet, PreparedStatement and Statement. Those tests take 3.9 seconds \nto run.\n\nOur Acceptance Tests run against a real Oracle DB and so real versions \nof those mocked classes are used. The 60 or so AT we have, take around \n12 minutes to run.\n\nThe speed increase of the unitests running with mocks, soon pays for the \ncost of creating them. We run all unit tests all the time - we might as \nwell, they go so fast\n\nThe mocks also allow us to very simply test all exception handling. We \nhave Exception raising Mocks for each of the JDBC classes.\n\ne.g.(off top of head)\n\nvoid testConnectionIsClosedEvenWhenCreatingStatementFails() {\nExceptionRaisingStatement statement = new ExceptionRaisingStatement();\nconnection.setStatementToUse(statement);\n\ntry {\nclassUnderTest.doSomethingThatWouldCreateStatement(connection);\nfail(&quot;Exception Not thrown!&quot;);\ncatch (SQLException e) {\nassertTrue(connection.isClosed() );\n}\n\n}\n\nCédric Beust ♔ wrote:\n&gt;\n&gt; On 8/29/06, Michael Feathers &lt;mfeathers@... \n&gt; &lt;mailto:mfeathers%40mindspring.com&gt;&gt; wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt;It will probably make your unit tests smaller, but when the bug \n&gt; happens,\n&gt; &gt; it\n&gt; &gt; &gt;will take you longer to isolate it because only your acceptance tests\n&gt; &gt; will\n&gt; &gt; &gt;fail, and probably in mysterious ways (such as leaking connections).\n&gt; &gt; &gt;\n&gt; &gt; &gt;I prefer for my tests to catch bugs as soon as possible (especially in\n&gt; &gt; this\n&gt; &gt; &gt;case, where invoking close() will not make them that much slower).\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; It&#39;s not like that, though. Really, if you make your UTs look like ATs,\n&gt; &gt; i.e., they run all of these external subsystems, you&#39;ve just pushed the\n&gt; &gt; issue of isolating the problem into the UTs. If you write your UTs\n&gt; &gt; isolated, you have a binary chop. When your UTs pass and your ATs fail,\n&gt; &gt; it helps you figure out where to look.\n&gt;\n&gt; We&#39;re talking about a JDBC connection here, though. Are you saying you\n&gt; would write a battery of unit tests that all work on a fake JDBC\n&gt; connection? This seems like an abuse of mock objects for two reasons:\n&gt;\n&gt; - JDBC queries can be very fast.\n&gt; - It&#39;s not very hard nor costly to instantiate a JDBC connection, so\n&gt; the use of mocks is ovekill, IMO.\n&gt;\n&gt; If you have a class that does nothing but issues SQL queries, unit testing\n&gt; it means making sure these queries work...\n&gt;\n&gt; -- \n&gt; Cédric\n&gt; http://testng.org &lt;http://testng.org&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt; \n&gt; ------------------------------------------------------------------------\n&gt;\n&gt; No virus found in this incoming message.\n&gt; Checked by AVG Free Edition.\n&gt; Version: 7.1.405 / Virus Database: 268.11.6/430 - Release Date: 28/08/2006\n&gt;   \n\n\n", 
    "profile": "andy_ipaccess", 
    "topicId": 17653, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 234174584, 
    "prevInTime": 17695, 
    "contentTrasformed": false, 
    "postDate": "1156872092", 
    "canDelete": false, 
    "nextInTopic": 17719, 
    "prevInTopic": 17689, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDYwODI5MDcxMW0zZTA1M2Q0M3MxMjBlMDMxODM3NThhNTE2QG1haWwuZ29vZ2xlLmNvbT4=", 
        "messageIdInHeader": "PDQ0RjQ3NzlDLjgwMzAzMDNAYW5kcmV3bWNkb25hZ2guZjJzLmNvbT4=", 
        "referencesHeader": "PEU5REU3OTYzRTVFQTY1NDZCNDJBOTc5RUMyOEI0RDAxMjkwREE4RjJAaG91LWV4LTAyLmFkcHJvZC5ibWMuY29tPgkgPDM3NWU4ZDg4MDYwODI3MDI0MGkzMDdiODNiZnM3NDI2MWI0Mjk0NzlhOWMwQG1haWwuZ21haWwuY29tPgkgPGI4NmI2YTljMDYwODI4MDcxN28yMjFjNDg2aTc2MDUzMjBkMGU3ODgyMjlAbWFpbC5nb29nbGUuY29tPgkgPDQ0RjM2NDM0LjQwNDAxMDRAYW5kcmV3bWNkb25hZ2guZjJzLmNvbT4JIDxiODZiNmE5YzA2MDgyODE0NTRuNmRkMWUxYjZxY2ZmM2RmMjEwM2ExYjEyMUBtYWlsLmdvb2dsZS5jb20+CSA8NDRGNDQ0QjAuNjA3MDAwNEBtaW5kc3ByaW5nLmNvbT4gPGI4NmI2YTljMDYwODI5MDcxMW0zZTA1M2Q0M3MxMjBlMDMxODM3NThhNTE2QG1haWwuZ29vZ2xlLmNvbT4="
    }
}