{
    "numMessagesInTopic": 1, 
    "nextInTime": 14196, 
    "senderId": "mg-adHFmoVGc16fsjdj87RxT10wfF0q-GE1x5ijjdyPCXWm83Gmq4HzNCqu_cJY77yS95q1TE7QBRapAMYN9k_QfEvU", 
    "systemMessage": true, 
    "subject": "TestingHibernateWithDBUnit", 
    "from": "&quot;naav_t&quot; &lt;naav_t@...&gt;", 
    "authorName": "naav_t", 
    "msgSnippet": "package com.das.dbunit; import java.io.File; import java.io.FileInputStream; import java.sql.Connection; import java.sql.DriverManager; import", 
    "msgId": 14195, 
    "rawEmail": "Return-Path: &lt;naav_t@...&gt;\r\nReceived: (qmail 22025 invoked from network); 21 Jul 2005 19:35:08 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m25.grp.scd.yahoo.com with QMQP; 21 Jul 2005 19:35:08 -0000\r\nReceived: from unknown (HELO n5a.bulk.scd.yahoo.com) (66.94.237.39)\n  by mta1.grp.scd.yahoo.com with SMTP; 21 Jul 2005 19:35:08 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.3] by n5.bulk.scd.yahoo.com with NNFMP; 21 Jul 2005 19:35:08 -0000\r\nReceived: from [66.218.66.71] by mailer3.bulk.scd.yahoo.com with NNFMP; 21 Jul 2005 19:35:08 -0000\r\nX-Sender: naav_t@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 86884 invoked from network); 21 Jul 2005 14:25:59 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m27.grp.scd.yahoo.com with QMQP; 21 Jul 2005 14:25:59 -0000\r\nReceived: from unknown (HELO n6.bulk.dcn.yahoo.com) (216.155.201.59)\n  by mta6.grp.scd.yahoo.com with SMTP; 21 Jul 2005 14:25:59 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [216.155.201.64] by n6.bulk.dcn.yahoo.com with NNFMP; 21 Jul 2005 14:25:35 -0000\r\nReceived: from [66.218.69.1] by mailer1.bulk.dcn.yahoo.com with NNFMP; 21 Jul 2005 14:25:35 -0000\r\nReceived: from [66.218.66.79] by mailer1.bulk.scd.yahoo.com with NNFMP; 21 Jul 2005 14:25:35 -0000\r\nDate: Thu, 21 Jul 2005 14:25:35 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;dbob8v+91de@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3922\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;naav_t&quot; &lt;naav_t@...&gt;\r\nSubject: TestingHibernateWithDBUnit\r\nX-Yahoo-Group-Post: member; u=226000672; y=pKFa6jJOS9TQlzjK3mWtpVe2Snh56rjgTDe81L5JmIEK\r\nX-Yahoo-Profile: naav_t\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 21 Jul 2005 19:35:07 -0000\r\n\r\npackage com.das.dbunit;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\nimport org.dbunit.Assertion;\nimport org.dbunit.DatabaseTestCase;\nimport org.dbunit.database.*;\nimport org.dbunit.dataset.IDataSet;\nimport org.dbunit.dataset.ITable;\nimport org.dbunit.dataset.xml.FlatXmlDataSet;\nimport org.dbunit.operation.DatabaseOperation;\nimport org.hibernate.*;\nimport org.hibernate.cfg.Configuration;\n\npublic class SampleTest extends DatabaseTestCase {\n    public SampleTest(String name) {\n        super(name);\n    }\n\n    protected IDatabaseConnection getConnection() throws Exception {\n        Class driverClass = Class.forName(&quot;org.hsqldb.jdbcDriver&quot;);\n        Connection jdbcConnection = DriverManager.getConnection(\n                &quot;jdbc:hsqldb:C:&#92;&#92;DAS&#92;&#92;HBM&#92;&#92;HibPg&#92;&#92;src&#92;&#92;db&quot;,\n                &quot;sa&quot;, &quot;&quot;);\n        return new DatabaseConnection(jdbcConnection);\n    }\n\n    protected IDataSet getDataSet() throws Exception {\n        return new FlatXmlDataSet(new FileInputStream(&quot;initial.xml&quot;));\n    }\n\n    protected DatabaseOperation getSetUpOperation() throws Exception {\n        return DatabaseOperation.REFRESH;\n    }\n\n    protected DatabaseOperation getTearDownOperation() throws \nException {\n        return DatabaseOperation.DELETE;\n    }\n    /**\n     * @@... \n(org.jboss.aspects.tx.TxType.REQUIRED)\n     */\n    public void testMe() throws Exception {\n        // Execute the tested code that modify the database here\n\n            SessionFactory factory = new Configuration().configure\n().buildSessionFactory();\n            Session hsess = factory.openSession();\n        Query q = hsess.createQuery(&quot;delete from AuthUser where \nuserSeq  like &#39;%999956789&#39; &quot;);\n        int updateCount = q.executeUpdate();\n        hsess.flush();\n        System.out.println(&quot; The Count is &quot;+ updateCount);\n        assertEquals(updateCount,5);\n        // Fetch database data after executing your code\n        QueryDataSet partialDataSet = new QueryDataSet(getConnection\n());\n        partialDataSet.addTable(&quot;Auth_User&quot;,&quot;Select * from Auth_User \nwhere  user_Seq  like &#39;%56789&#39;&quot;);\n\n        ITable actualTable =  partialDataSet.getTable(&quot;Auth_User&quot;);\n        // Load expected data from an XML dataset\n        IDataSet expectedDataSet = new FlatXmlDataSet(new File(\n                &quot;partialafter.xml&quot;));\n        ITable expectedTable = expectedDataSet.getTable(&quot;Auth_User&quot;);\n\n        // Assert actual database table match expected table\n        Assertion.assertEquals(expectedTable, actualTable);\n    }\n    \n}\n\n\n\n-----------------------  initial.xml ---------------------\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\n&lt;dataset&gt;\n  &lt;AUTH_USER USER_SEQ=&quot;123456789&quot; USER_ID=&quot;validuser@testco&quot; \nPASSWORD=&quot;8fc67a2687ffc837&quot; COMPANY_SEQ=&quot;123456789&quot; \nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;\n  &lt;AUTH_USER USER_SEQ=&quot;223456789&quot; USER_ID=&quot;validSIuser@testco&quot; \nPASSWORD=&quot;bc52a070c1b23783&quot; COMPANY_SEQ=&quot;123456789&quot; \nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;\n  &lt;AUTH_USER USER_SEQ=&quot;323456789&quot; USER_ID=&quot;user@test3p&quot; \nPASSWORD=&quot;d7cca196269ea5d3&quot; COMPANY_SEQ=&quot;223456789&quot; \nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;\n  &lt;AUTH_USER USER_SEQ=&quot;423456789&quot; USER_ID=&quot;user@testn3p&quot; \nPASSWORD=&quot;5ab01cbfdbc0c195&quot; COMPANY_SEQ=&quot;323456789&quot; \nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;\n  &lt;AUTH_USER USER_SEQ=&quot;999956789&quot; USER_ID=&quot;newuser@testco&quot; \nPASSWORD=&quot;7b6cc3922639bea9&quot; COMPANY_SEQ=&quot;123456789&quot; \nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;\n&lt;/dataset&gt;\n\n----------------------------  partialafter.xml -----------------------\n-----------\n\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\n&lt;dataset&gt;\n  &lt;AUTH_USER USER_SEQ=&quot;999956789&quot; USER_ID=&quot;newuser@testco&quot; \nPASSWORD=&quot;7b6cc3922639bea9&quot; COMPANY_SEQ=&quot;123456789&quot; \nINVALID_PSWD_ATTEMPTS=&quot;0&quot;/&gt;\n&lt;/dataset&gt;  \n\n\n----------------------------------------------------------------------\n------------------------------------------\n\n\nPlease let me know if i am correct in my approach of testing the \nhibernate code with DBUnit.\n\nThanks in Advance,\nNaveen\n\n\n\n\n\n\n", 
    "profile": "naav_t", 
    "topicId": 14195, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 226000672, 
    "prevInTime": 14194, 
    "contentTrasformed": false, 
    "postDate": "1121955935", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGRib2I4dis5MWRlQGVHcm91cHMuY29tPg=="
    }
}