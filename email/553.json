{
    "numMessagesInTopic": 4, 
    "nextInTime": 554, 
    "senderId": "6k6_lmm3gvsEEu7lYbFREmr1cFBN9Bfa3NnD1rSikMr5Xn-jCUQYXeqmRvBV5RV6SR5y1j-c2x-AaLjGuwDJJGMv", 
    "systemMessage": false, 
    "subject": "Re: running an EJB client as a JUnit TestCase", 
    "from": "chuck.herrick@...", 
    "authorName": "chuck.herrick@agedwards.com", 
    "msgSnippet": "Thanks Mike, Do you have to tweak the source to get JUnit to run without a customized class loader, or is there a commandline switch/parameter? Thanks for you", 
    "msgId": 553, 
    "topicId": 551, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1424176080\">Thanks Mike,<br/>\nDo you have to tweak the source to get JUnit to run without<br/>\na customized class loader, or is there a commandline<br/>\nswitch/parameter?<br/>\n<br/>\nThanks for you quick response!<br/>\n<br/>\n  Chuck<br/>\n<blockquote><span title=\"qreply\"> --- In junit@y..., mrettig@h... wrote:<br/>\n&gt; <br/>\n&gt; Chuck Herrick wrote:<br/>\n&gt; &gt;Hello,<br/>\n&gt; I&gt; may have a ClassLoader problem. Running the same code, from a <br/>\nmain()<br/>\n&gt; which calls setUp() and mimics TestRunner, runs just fine from the<br/>\n&gt; &gt;commandline as well as from insdide TogetherJ. In fact, if I <br/>\ncut&#39;n&#39;paste<br/>\n&gt; the -classpath from these, I still get the cast exception from a run <br/>\nvia<br/>\n&gt; TestRunner.<br/>\n&gt; &gt;java.lang.Object o = ctx.lookup(&quot;JNDI_NAME&quot;) ;<br/>\n&gt; &gt;System.out.println(o.getClass().getName()) ;<br/>\n&gt; &gt;System.out.println(o instanceof FoobarHome) ;<br/>\n&gt; &gt;should echo first the classname of the WebLogic-generated stub and <br/>\nthen<br/>\n&gt; the word true.<br/>\n&gt; <br/>\n&gt; You are probably right about the class loader. Junit uses a <br/>\ncustomized<br/>\n&gt; class loader. The ctx.lookup() uses a different class loader. To <br/>\ncheck this<br/>\n&gt; put the following assert in your code.<br/>\n&gt; <br/>\n&gt; java.lang.Object o = ctx.lookup(&quot;JNDI_NAME&quot;) ;<br/>\n&gt; assertEquals(o.getClass().getClassLoader(), <br/>\nthis.getClass().getClassLoader<br/>\n&gt; ());<br/>\n&gt; <br/>\n&gt; You can run junit without a customized class loader, and this will <br/>\nsolve<br/>\n&gt; your problem.<br/>\n&gt; <br/>\n&gt; Mike </span></blockquote></div>", 
    "prevInTime": 552, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "983210151", 
    "canDelete": false, 
    "nextInTopic": 554, 
    "prevInTopic": 552, 
    "headers": {
        "inReplyToHeader": "PE9GMDlBRjZBQ0QuRkZFOTQ3MDgtT044NjI1NjlGRi4wMDYyMkFDOUB0aG91Z2h0d29ya3MuY29tPg==", 
        "messageIdInHeader": "PDk3ZTViNytzaGFrQGVHcm91cHMuY29tPg=="
    }
}