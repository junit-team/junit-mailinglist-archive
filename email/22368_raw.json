{
    "numMessagesInTopic": 7, 
    "nextInTime": 22369, 
    "senderId": "vc44jsoBTPZbS2wv3xgpgax7YDjHm_VPNtFc0cb3y-CCCHvgDF3AdNYFUu99x5I73746uAAZOZDx15TCb6y9bkf6s_fBKvD6q5Vw", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Using JUnit 4 to drive a test DSL", 
    "from": "Edson Tirelli &lt;ed.tirelli@...&gt;", 
    "authorName": "Edson Tirelli", 
    "msgSnippet": "Hmmm, it seems you are right actually. I will do some research on how surefire is handling that. Thanks, Edson 2010/2/5 krosenvold  ...", 
    "msgId": 22368, 
    "rawEmail": "Return-Path: &lt;ed.tirelli@...&gt;\r\nReceived: (qmail 67768 invoked from network); 5 Feb 2010 22:52:29 -0000\r\nReceived: from unknown (66.196.94.106)\n  by m12.grp.re1.yahoo.com with QMQP; 5 Feb 2010 22:52:29 -0000\r\nReceived: from unknown (HELO n43d.bullet.mail.sp1.yahoo.com) (66.163.169.157)\n  by mta2.grp.re1.yahoo.com with SMTP; 5 Feb 2010 22:52:29 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1265410349; bh=v9T/i3508UqiAz4dNxttcjMYSv6MaKDFu+A3+98pr3I=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:Message-ID:To:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Content-Type:Content-Transfer-Encoding:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=K9xuRPv+/wztAUc+CvABnAukZEKL4dUX7nnr1JzB85MLvywQl32/S8P1I8YbbgQqre0RfiUYO5nVgLPxkgYYi+sKtngqvRRyB0xh1k08ohXFjGXbZ3sei2in8OvKLSm7\r\nReceived: from [69.147.65.173] by n43.bullet.mail.sp1.yahoo.com with NNFMP; 05 Feb 2010 22:52:29 -0000\r\nReceived: from [98.137.34.35] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 05 Feb 2010 22:52:29 -0000\r\nX-Sender: ed.tirelli@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 47051 invoked from network); 5 Feb 2010 22:42:12 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m11.grp.re1.yahoo.com with QMQP; 5 Feb 2010 22:42:12 -0000\r\nX-Received: from unknown (HELO mail-ew0-f224.google.com) (209.85.219.224)\n  by mta1.grp.sp2.yahoo.com with SMTP; 5 Feb 2010 22:42:12 -0000\r\nX-Received: by mail-ew0-f224.google.com with SMTP id 24so4338316ewy.16\n        for &lt;junit@yahoogroups.com&gt;; Fri, 05 Feb 2010 14:42:11 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.216.85.130 with SMTP id u2mr1870300wee.135.1265409731723; Fri, \n\t05 Feb 2010 14:42:11 -0800 (PST)\r\nIn-Reply-To: &lt;hki39d+3u73@...&gt;\r\nReferences: &lt;e6dd5ba31002051308y1a8ecc2fl60e3e5b04196f5c1@...&gt;\n\t &lt;hki39d+3u73@...&gt;\r\nDate: Fri, 5 Feb 2010 17:42:11 -0500\r\nMessage-ID: &lt;e6dd5ba31002051442j1cefaf87n9d656a597282e6ab@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Edson Tirelli &lt;ed.tirelli@...&gt;\r\nSubject: Re: [junit] Re: Using JUnit 4 to drive a test DSL\r\nX-Yahoo-Group-Post: member; u=303667645; y=RxNLXwyuDGDGZSMj49iyZTiENvYtr3_IuODBBqr4cLC28Y1yG-gu\r\nX-Yahoo-Profile: edsontirelli\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 05 Feb 2010 22:52:27 -0000\r\n\r\n    Hmmm, it seems you are right actually. I will do some research on how\ns=\r\nurefire is handling that.\n\n    Thanks,\n      Edson\n\n\n\n\n2010/2/5 krosenvold =\r\n&lt;kristian@...&gt;\n\n&gt;\n&gt;\n&gt; Is NodeTest actually a test class ? I think=\r\n you may be victim of a hotly\n&gt; debated issue in surefire, where surefire b=\r\ny default assumes every class\n&gt; ending with &quot;Test&quot; is a test-case.\n&gt;\n&gt; Kris=\r\ntian\n&gt;\n&gt;\n&gt; --- In junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt;, Edson Ti=\r\nrelli\n&gt; &lt;ed.tirelli@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi all,\n&gt; &gt;\n&gt; &gt; Facing a problem a =\r\ncould not find an answer for yet.\n&gt; &gt;\n&gt; &gt; We use JUnit as the testing frame=\r\nwork for Drools (\n&gt; &gt; http://www.jboss.org/drools/). It happens, though, th=\r\nat some of the\n&gt; internal\n&gt; &gt; low level stuff are really hard to test using=\r\n pure java code, so, we\n&gt; created\n&gt; &gt; a DSL to define some of our low level=\r\n tests. Example here (but it does\n&gt; not\n&gt; &gt; really matter for the problem a=\r\nt hand):\n&gt; &gt;\n&gt; &gt;\n&gt; http://anonsvn.jboss.org/repos/labs/labs/jbossrules/bran=\r\nches/true_modify_20100104/drools-core/src/test/resources/org/drools/reteoo/=\r\ntest/AccumulateNodeAssertRetractTest.nodeTestCase\n&gt; &gt;\n&gt; &gt; The DSL follows a=\r\n simplified test structure, similar to previous JUnit\n&gt; &gt; versions, i.e., e=\r\nach file is a test case that might have a setup and\n&gt; &gt; teardown sections, =\r\nplus a bunch of tests. Simple and works fine for us.\n&gt; &gt;\n&gt; &gt; Now, since we =\r\nuse JUnit to drive all our tests, I would like to use junit\n&gt; &gt; to drive th=\r\nese DSL test cases as well during our build (maven), to keep\n&gt; all\n&gt; &gt; repo=\r\nrts, etc integrated. So, I created a test runner class:\n&gt; &gt;\n&gt; &gt;\n&gt; http://an=\r\nonsvn.jboss.org/repos/labs/labs/jbossrules/branches/true_modify_20100104/dr=\r\nools-core/src/test/java/org/drools/reteoo/test/JUnitNodeTestRunner.java\n&gt; &gt;=\r\n\n&gt; &gt; And then I created a bootstrap class (not sure if there is a way to av=\r\noid\n&gt; &gt; having the bootstrap class):\n&gt; &gt;\n&gt; &gt;\n&gt; http://anonsvn.jboss.org/rep=\r\nos/labs/labs/jbossrules/branches/true_modify_20100104/drools-core/src/test/=\r\njava/org/drools/reteoo/test/NodeTestsSuite.java\n&gt; &gt;\n&gt; &gt; As you can see, the=\r\n bootstrap class has the annotation:\n&gt; &gt; @RunWith(JUnitNodeTestRunner.class=\r\n)\n&gt; &gt;\n&gt; &gt; Now, when I right click that class and choose &quot;Run as... JUnit te=\r\nst case&quot;\n&gt; &gt; in eclipse, the class loads and executes all tests defined in =\r\nour dsl\n&gt; test\n&gt; &gt; files without any problem. It shows all tests with succe=\r\nss/error messages\n&gt; in\n&gt; &gt; the eclipse junit view, etc. BUT, when I run the=\r\n tests from our maven\n&gt; build,\n&gt; &gt; I get the following error:\n&gt; &gt;\n&gt; &gt; Tests=\r\n run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.005 sec\n&gt; &gt; &lt;&lt;=\r\n&lt; FAILURE!\n&gt; &gt; initializationError(org.drools.reteoo.test.dsl.NodeTest) Tim=\r\ne elapsed: 0\n&gt; &gt; sec &lt;&lt;&lt; ERROR!\n&gt; &gt; java.lang.IllegalArgumentException: Tes=\r\nt class can only have one\n&gt; constructor\n&gt; &gt; at org.junit.runners.model.Test=\r\nClass.&lt;init&gt;(TestClass.java:32)\n&gt; &gt; at org.junit.runners.ParentRunner.&lt;init=\r\n&gt;(ParentRunner.java:54)\n&gt; &gt; ...\n&gt; &gt;\n&gt; &gt; I am at a loss right now, so any in=\r\nsights on how to fix that (or even if\n&gt; &gt; we are using the wrong approach h=\r\nere) are most appreciated.\n&gt; &gt;\n&gt; &gt; Thanks,\n&gt; &gt; Edson\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --\n&gt; &gt; Eds=\r\non Tirelli\n&gt; &gt; JBoss Drools Core Development\n&gt; &gt; JBoss by Red Hat @ www.jbo=\r\nss.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message have been removed]\n&gt; =\r\n&gt;\n&gt;\n&gt;  \n&gt;\n\n\n\n-- \n Edson Tirelli\n JBoss Drools Core Development\n JBoss by Re=\r\nd Hat @ www.jboss.com\n\n\n[Non-text portions of this message have been remove=\r\nd]\n\n\n", 
    "profile": "edsontirelli", 
    "topicId": 22366, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 303667645, 
    "prevInTime": 22367, 
    "contentTrasformed": false, 
    "postDate": "1265409731", 
    "canDelete": false, 
    "nextInTopic": 22369, 
    "prevInTopic": 22367, 
    "headers": {
        "inReplyToHeader": "PGhraTM5ZCszdTczQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGU2ZGQ1YmEzMTAwMjA1MTQ0MmoxY2VmYWY4N245ZDY1NmE1OTcyODJlNmFiQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGU2ZGQ1YmEzMTAwMjA1MTMwOHkxYThlY2MyZmw2MGUzZTViMDQxOTZmNWMxQG1haWwuZ21haWwuY29tPgkgPGhraTM5ZCszdTczQGVHcm91cHMuY29tPg=="
    }
}