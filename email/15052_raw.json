{
    "numMessagesInTopic": 47, 
    "nextInTime": 15053, 
    "senderId": "Uas_BHpyNjFNRIq7h2yONn1jdPbVk_hB__RYAmHxwQEJndT1ayGtt1g71ufFq7HfOn3hkZDcVCJwGfgcsqpzB0ooEas", 
    "systemMessage": true, 
    "subject": "Re: [junit] Proposed parameterized test syntax for JUnit 4", 
    "from": "Eugene Kuleshov &lt;eu@...&gt;", 
    "authorName": "Eugene Kuleshov", 
    "msgSnippet": "Hi Kent, Please see my comments below. regards, Eugene ... As I mentioned, passing params in the constructor assume that all test methods require the same", 
    "msgId": 15052, 
    "rawEmail": "Return-Path: &lt;eu@...&gt;\r\nReceived: (qmail 90238 invoked from network); 4 Oct 2005 15:33:51 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m9.grp.scd.yahoo.com with QMQP; 4 Oct 2005 15:33:51 -0000\r\nReceived: from unknown (HELO n5a.bulk.scd.yahoo.com) (66.94.237.39)\n  by mta1.grp.scd.yahoo.com with SMTP; 4 Oct 2005 15:33:48 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.66.59] by n5.bulk.scd.yahoo.com with NNFMP; 04 Oct 2005 15:26:01 -0000\r\nReceived: from [66.218.66.80] by mailer8.bulk.scd.yahoo.com with NNFMP; 04 Oct 2005 15:25:58 -0000\r\nX-Sender: eu@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 95558 invoked from network); 4 Oct 2005 04:15:54 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m33.grp.scd.yahoo.com with QMQP; 4 Oct 2005 04:15:54 -0000\r\nReceived: from unknown (HELO god.md.pp.ru) (64.56.237.27)\n  by mta6.grp.scd.yahoo.com with SMTP; 4 Oct 2005 04:15:53 -0000\r\nReceived: from d141-208-169.home.cgocable.net ([24.141.208.169] helo=[192.168.1.101])\n\tby god.md.pp.ru with esmtpsa (TLSv1:AES256-SHA:256)\n\t (Exim 4.50 #1)\n\tid 1EMeDX-0007pm-KV\n\tfor junit@yahoogroups.com; Tue, 04 Oct 2005 00:15:52 -0400\r\nMessage-ID: &lt;434201DD.2010305@...&gt;\r\nDate: Tue, 04 Oct 2005 00:15:25 -0400\r\nUser-Agent: Mozilla Thunderbird 1.0+ (Windows/20050531)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;E1EMWUx-0003FE-UA@...&gt;\r\nIn-Reply-To: &lt;E1EMWUx-0003FE-UA@...&gt;\r\nX-Spam-Score: 0.1 (/)\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Eugene Kuleshov &lt;eu@...&gt;\r\nSubject: Re: [junit] Proposed parameterized test syntax for JUnit 4\r\nX-Yahoo-Group-Post: member; u=150395705; y=bAg3KBRx652Hqi-65qEePvp691djyEV91RKcgmokOHjDPmRD\r\nX-Yahoo-Profile: ekuleshov\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 04 Oct 2005 15:25:57 -0000\r\n\r\nHi Kent,\n\n  Please see my comments below.\n\n  regards,\n  Eugene\n\n\nKent Beck wrote:\n\n&gt;Thank you for your comments. Followup below--\n&gt;  \n&gt;\n&gt;&gt; First of all you are forcing test runner to create new \n&gt;&gt;class instance \n&gt;&gt;for each test, which is probably good thing from the point of \n&gt;&gt;unit test \n&gt;&gt;isolation enforcement, but from other hand it put a huge \n&gt;&gt;limitation for \n&gt;&gt;tools and will have memory and performance hit as well. So, it would \n&gt;&gt;make sense to have these parameters passed to the test method \n&gt;&gt;(like it \n&gt;&gt;is done in TestNG).\n&gt;&gt;    \n&gt;&gt;\n&gt;I think the performance problems can be solved other ways, and I still like\n&gt;encouraging test isolation by executing tests in separate instances. The\n&gt;JUnit 4 runner creates the instances immediately in advance of invoking the\n&gt;test method. The current design requires less duplication than passing the\n&gt;parameters to the test methods, since the parameters only appear in the\n&gt;constructor. \n&gt;\n  As I mentioned, passing params in the constructor assume that all test \nmethods require the same parameters which is not always the case. Can \nyou please explain where will be code duplication if test methods will \nhave all the params as a method parameters but not fileds? Do you refer \nto same method params that would repeated for several methods? I \nwouldn&#39;t say it is that big duplication, but it would give a better test \nisolation and eliminate illusion that test case is statefull. \n\n&gt;It might be better for the @Parameters method to return an\n&gt;Iterator, allowing the lazy creation of substantial data structures,\n&gt;however.\n&gt;  @Parameters static Iterator&lt;Object[]&gt; data() ...\n&gt;  \n&gt;\n  Iterator won&#39;t allow to jump directly to the specific test. It would \nbe useful for IDE runners if user would like to restart only specific \ntest case (this scenario us currently not supported in Eclipse&#39;s JUnit \nrunner).\n\n&gt;&gt;  Second limitation is that user don&#39;t have will have to \n&gt;&gt;declaratively \n&gt;&gt;specify test data sets without writing custom @Parameters \n&gt;&gt;method and use \n&gt;&gt;some system property to differentiate between tests. Perhaps \n&gt;&gt;you can add \n&gt;&gt;some &quot;name&quot; property to Parameters annotation, so test runner \n&gt;&gt;can match \n&gt;&gt;this name with declared test data. Such name property would \n&gt;&gt;also allow \n&gt;&gt;to have multiple @Parameters methods and match them with \n&gt;&gt;@Test methods \n&gt;&gt;if you&#39;ll have same name there too. The last would allow to \n&gt;&gt;have several \n&gt;&gt;test methods with different kinds of test parameters without creating \n&gt;&gt;separate test classes (so you&#39;ll have single test class for \n&gt;&gt;class under \n&gt;&gt;testing).\n&gt;&gt;    \n&gt;&gt;\n&gt;I don&#39;t understand this objection. Can you write an example of what you\n&gt;would like to see?\n&gt;  \n&gt;\n  Ok. I may have several data sets (e.g. small one for smoke testing and \na really huge one for complete regression testing) and I want to choose \nbetween them from the runner. For instance:\n\n@Parameters(name=&quot;smoke&quot;) public static Object[] data() {\n  return new int[][] {{0, 0}, {1, 1}};\n}\n\n@Parameters(name=&quot;full&quot;) public static Object[] data() {\n  // load data from external file or generate permutations\n  return data;\n}\n\n  Then you&#39;ll specify test type &quot;smoke&quot; or &quot;full&quot; on a runner and it \nwill choose an appropriate set of the test data.\n\n&gt;&gt;  The last thing I&#39;d like to mention is that current \n&gt;&gt;@Parameters methods \n&gt;&gt;won&#39;t scale to large data sets (the same limitation also exists in \n&gt;&gt;TestNG). I&#39;ve seen JUnit3 suite() methods that produced thousands of \n&gt;&gt;test permutations and that required lots of memory memory \n&gt;&gt;when running \n&gt;&gt;tests. So, It think that it would make sense to introduce an \n&gt;&gt;interface \n&gt;&gt;similar to JDBC ResultSet, so test runner can create iterate \n&gt;&gt;trough test \n&gt;&gt;data without loading it completely into memory and also have \n&gt;&gt;option to \n&gt;&gt;get number of tests as well as jump to Nth test. You can also \n&gt;&gt;provide an \n&gt;&gt;adapter that will take Object[][] and provide all that \n&gt;&gt;functionality for \n&gt;&gt;users who don&#39;t want to create test data dynamically.\n&gt;&gt;    \n&gt;&gt;\n&gt;Would the Iterator version satisfy the need to handle large data sets?\n&gt;  \n&gt;\n  The limitation of the iterator is that it does not provide a random \naccess. This would make difficult to rerun only selected test case (e.g. \nfailed one)\n\n  regards,\n  Eugene\n\n\n\n\n[Non-text portions of this message have been removed]\n\n\n\n\n", 
    "profile": "ekuleshov", 
    "topicId": 14820, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 150395705, 
    "prevInTime": 15051, 
    "contentTrasformed": false, 
    "postDate": "1128399325", 
    "canDelete": false, 
    "nextInTopic": 15054, 
    "prevInTopic": 15051, 
    "headers": {
        "inReplyToHeader": "PEUxRU1XVXgtMDAwM0ZFLVVBQHNtdHBhdXRoMDgubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4=", 
        "messageIdInHeader": "PDQzNDIwMURELjIwMTAzMDVAbWQucHAucnU+", 
        "referencesHeader": "PEUxRU1XVXgtMDAwM0ZFLVVBQHNtdHBhdXRoMDgubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}