{
    "numMessagesInTopic": 38, 
    "nextInTime": 22243, 
    "senderId": "iqGyW7zKAZ5DtRGaJOqsIqYiWwv2FzMzAswVHIUC7yBQY1r_NnmeZVMXzlECSaeO3nAhdb0qFC1agqvZg9oSWfo34fAruXiyjJCmH0mV7v0p1ZMy", 
    "systemMessage": false, 
    "subject": "RE: [junit] Order of execution for tests", 
    "from": "&quot;Charlie Poole&quot; &lt;charlie@...&gt;", 
    "authorName": "Charlie Poole", 
    "msgSnippet": "Hi Kent, ... As far as I know, coverage tools deal well with direct dependencies but not with logical (interpretive) dependency. For example, if we have Test A", 
    "msgId": 22242, 
    "profile": "cpoole98370", 
    "topicId": 22219, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212099090, 
    "messageBody": "<div id=\"ygrps-yiv-124365597\">Hi Kent, <br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; It seems to me that a coverage tool like Clover could <br/>\n&gt; discover this information dynamically with[out] the user having to <br/>\n&gt; specify more meta-information about tests that could be wrong <br/>\n&gt; and would need maintenance. Isn&#39;t removing tedium why we have <br/>\n&gt; computers in the first place?<br/>\n<br/>\n </span></blockquote>As far as I know, coverage tools deal well with direct dependencies<br/>\nbut not with logical (interpretive) dependency.<br/>\n<br/>\nFor example, if we have<br/>\n<br/>\n  Test A --&gt; SUT A --&gt; SUT B<br/>\n  Test B --&gt; SUT B<br/>\n<br/>\nEven in this simple case, coverage analysis won&#39;t tell us anything <br/>\nabout the relationship between A and B, although we could make some<br/>\ndeductions by examining the results.<br/>\n<br/>\nIf there were some way to tell the framework &quot;Test A depends<br/>\non functionality, which is tested directly by B&quot; then I can<br/>\nimagine several good outcomes:<br/>\n<br/>\n1) The test result output could be made much clearer - by<br/>\nemphasizing the B result when both tests had failed. Some<br/>\napproaches I can think include subordinating the A result <br/>\nto that of B, highlighting B, not showing A at all and<br/>\nmarking A as inconclusive.<br/>\n<br/>\n2) Users would be discouraged from seeking annotations that<br/>\nprovide for direct ordering of tests or the actual &quot;hard&quot;<br/>\ndependencies.<br/>\n<br/>\n3) Less important, but as an optimization, the framework<br/>\ncould suppress running of A if B had already failed.<br/>\n<br/>\nCharlie<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; Kent<br/>\n&gt; <br/>\n&gt; On Dec 29, 2009, at 2:28 PM, Pigneri, Rocco wrote:<br/>\n&gt; <br/>\n&gt; &gt; Charlie,<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt;As a framework author, I can see that allowing the user to specify <br/>\n&gt; &gt; &gt;ordering is a simpler implementation. But I think it&#39;s more <br/>\n&gt; &gt; &gt;interesting to imagine the user specifying the nature of the <br/>\n&gt; &gt; &gt;dependencies and allowing the framework to figure out a strategy.<br/>\n&gt; &gt; <br/>\n&gt; &gt; I am very much with you on this one. In my experience, <br/>\n&gt; there have been a lot of times when functions under test <br/>\n&gt; within the same class depend upon each other, and it would <br/>\n&gt; have been great to have the test harness know that <br/>\n&gt; information. When I was refactoring code for a new framework <br/>\n&gt; package, I would have loved to have the UI to display <br/>\n&gt; non-dependent tests first as it would have shown me very <br/>\n&gt; clearly the source of the problem.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Specifying only the relationships in code and leaving the <br/>\n&gt; display strategy to the test harness would allow more <br/>\n&gt; flexible display and execution of these tests based upon the <br/>\n&gt; user&#39;s goals rather than upon the dependencies themselves. I <br/>\n&gt; could imagine myself asking the UI only to display the least <br/>\n&gt; dependent functions&#39; errors and to hide all other errors for <br/>\n&gt; quick debugging on sweeping optimizations. I could also want <br/>\n&gt; to see the dependent tests in a tree in case I am changing a <br/>\n&gt; single class and want to understand the effects of what I am <br/>\n&gt; touching. I could also want to see all tests in a single list <br/>\n&gt; with the least dependent at the top and the most dependent on <br/>\n&gt; the bottom when running regression tests. As you can see, the <br/>\n&gt; chosen view depends more upon what I am doing than upon the <br/>\n&gt; test dependencies themselves.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Finally, being able to list dependencies between test <br/>\n&gt; classes in addition to test cases would also JUnit to report <br/>\n&gt; which components of the system depend upon each other. This <br/>\n&gt; simple extension would greatly increase the power of the <br/>\n&gt; dependency models for larger systems (particularly regression tests).<br/>\n&gt; &gt; <br/>\n&gt; &gt; Thank you,<br/>\n&gt; &gt; <br/>\n&gt; &gt; Rocco<br/>\n&gt; &gt; <br/>\n&gt; &gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] <br/>\n&gt; On Behalf <br/>\n&gt; &gt; Of Charlie Poole<br/>\n&gt; &gt; Sent: Thursday, December 24, 2009 12:09 AM<br/>\n&gt; &gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; Subject: RE: [junit] Order of execution for tests<br/>\n&gt; &gt; <br/>\n&gt; &gt; Hi Cédric,<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt; &gt; On another list, I identified the same variations of dependency <br/>\n&gt; &gt; &gt; &gt; but with the variation that for case 1. We might run B <br/>\n&gt; anyway but <br/>\n&gt; &gt; &gt; &gt; could highlight the error in A in some way. That <br/>\n&gt; approach doesn&#39;t <br/>\n&gt; &gt; &gt; &gt; require ordering the tests in any particular way, which <br/>\n&gt; has some advantages.<br/>\n&gt; &gt; &gt; &gt; It still promotes developer efficiency while not worrying about <br/>\n&gt; &gt; &gt; &gt; execution efficiency.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Yes, we call these &quot;soft dependencies&quot;.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; If &quot;b&quot; has a hard dependency on &quot;a&quot; and &quot;a&quot; fails, &quot;a&quot; will be <br/>\n&gt; &gt; &gt; marked &quot;FAILED&quot; and b &quot;SKIPPED&quot;.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; If &quot;b&quot; has a soft dependency on &quot;a&quot;, &quot;b&quot; will still run <br/>\n&gt; even if &quot;a&quot; <br/>\n&gt; &gt; &gt; fails but a warning could be displayed in the log.<br/>\n&gt; &gt; <br/>\n&gt; &gt; This is an implementation-based view of the tests: i.e. they will <br/>\n&gt; &gt; either be run or not run.<br/>\n&gt; &gt; <br/>\n&gt; &gt; The distinction I was trying to make - and I think David as <br/>\n&gt; well - is <br/>\n&gt; &gt; based on the cause and nature of the dependency.<br/>\n&gt; &gt; For the sake of argument, I&#39;ll try to redefine what you&#39;re calling <br/>\n&gt; &gt; Hard and Soft along those lines.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Hard: Test A does something (sets state) upon which B depends.<br/>\n&gt; &gt; For example, A may write to a data store and B might try to <br/>\n&gt; read the <br/>\n&gt; &gt; information back. Or A might create a complex object and B <br/>\n&gt; might try <br/>\n&gt; &gt; to call a method on that object. If we allow this sort of <br/>\n&gt; thing, then <br/>\n&gt; &gt; there is no choice but to run A first and it makes sense to <br/>\n&gt; not run B <br/>\n&gt; &gt; at all if A fails. However, I would not want a unit test <br/>\n&gt; framework to <br/>\n&gt; &gt; allow it.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Soft: Test A tests some functionality upon which some other <br/>\n&gt; &gt; functionality, tested by B, depends. Therefore, if test A <br/>\n&gt; fails, Test <br/>\n&gt; &gt; B will either fail as well or be inconclusive, so nothing <br/>\n&gt; further can <br/>\n&gt; &gt; be learned from test B. In this case, a testing framework could <br/>\n&gt; &gt; respond in a number of ways to the dependency:<br/>\n&gt; &gt; 1) Run the tests in order, skipping B if A fails.<br/>\n&gt; &gt; 2) Run the tests in an arbitrary order, but skip B if A already ran <br/>\n&gt; &gt; and failed.<br/>\n&gt; &gt; 3) Run the tests in an arbitrary order, not skipping any of <br/>\n&gt; them but <br/>\n&gt; &gt; organize reporting in such a way that a failure of A takes <br/>\n&gt; precedence <br/>\n&gt; &gt; over a failure of B.<br/>\n&gt; &gt; <br/>\n&gt; &gt; As a framework author, I can see that allowing the user to specify <br/>\n&gt; &gt; ordering is a simpler implementation. But I think it&#39;s more <br/>\n&gt; &gt; interesting to imagine the user specifying the nature of the <br/>\n&gt; &gt; dependencies and allowing the framework to figure out a strategy.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Charlie<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt; Every time we have discussed this potential feature for <br/>\n&gt; TestNG, the <br/>\n&gt; &gt; &gt; discussion ended up being non conclusive on the real interest and <br/>\n&gt; &gt; &gt; the existing ability to mark certain methods as <br/>\n&gt; &quot;alwaysRun&quot; already <br/>\n&gt; &gt; &gt; fills a big part of this scenario, so I always ended up <br/>\n&gt; punting on <br/>\n&gt; &gt; &gt; it, but I&#39;d be happy to hear if someone can come up with <br/>\n&gt; a good use <br/>\n&gt; &gt; &gt; case for soft dependencies...<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; --<br/>\n&gt; &gt; &gt; ***Cédric<br/>\n&gt; &gt; &gt; *<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ------------------------------------<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt; <br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; ------------------------------------<br/>\n&gt; <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22241, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1262203865", 
    "canDelete": false, 
    "nextInTopic": 22243, 
    "prevInTopic": 22241, 
    "headers": {
        "inReplyToHeader": "PDM5MUVBNTJFLUFEODEtNDY3Ny04REY5LURBNDc4MTZENTQ3NEBlYXJ0aGxpbmsubmV0Pg==", 
        "messageIdInHeader": "PDAwM2QwMWNhODk4YyQzOTFkOWZmMCQ3MjAxYThjMEBmZXJyYXJpPg=="
    }
}