{
    "numMessagesInTopic": 6, 
    "nextInTime": 15107, 
    "senderId": "uNdNFJtjsxm438pBYa2ADNavilfvjA4eQhpoRMwsqntCV7ReNFoM8mS8DQIEd4Tn_W51spYCb-N8KP-OrAVBmcHPoi-NUESjBo8", 
    "systemMessage": false, 
    "subject": "Re: [junit] Boxes Full of Mud (Untested Monolith, Eclipse, SWT, and Database questions)", 
    "from": "James Abley &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... Not in vanilla JUnit 3.8.2, unless I ve missed something. 1.1. If I write a TestSuite and/or TestRunner, will this become apparent? I m not sure I", 
    "msgId": 15106, 
    "rawEmail": "Return-Path: &lt;james.abley@...&gt;\r\nX-Sender: james.abley@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 26229 invoked from network); 9 Oct 2005 22:10:03 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m32.grp.scd.yahoo.com with QMQP; 9 Oct 2005 22:10:03 -0000\r\nReceived: from unknown (HELO nproxy.gmail.com) (64.233.182.199)\n  by mta6.grp.scd.yahoo.com with SMTP; 9 Oct 2005 22:10:03 -0000\r\nReceived: by nproxy.gmail.com with SMTP id a4so399219nfc\n        for &lt;junit@yahoogroups.com&gt;; Sun, 09 Oct 2005 15:10:02 -0700 (PDT)\r\nReceived: by 10.48.226.10 with SMTP id y10mr259096nfg;\n        Sun, 09 Oct 2005 15:10:02 -0700 (PDT)\r\nReceived: by 10.48.108.5 with HTTP; Sun, 9 Oct 2005 15:10:02 -0700 (PDT)\r\nMessage-ID: &lt;23fce8e60510091510v17d7faf9n@...&gt;\r\nDate: Sun, 9 Oct 2005 23:10:02 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;434691FE.80304@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;434691FE.80304@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: James Abley &lt;james.abley@...&gt;\r\nSubject: Re: [junit] Boxes Full of Mud (Untested Monolith, Eclipse, SWT, and Database questions)\r\nX-Yahoo-Group-Post: member; u=212683928; y=GSGpF94GqST97736uA038kW0FbwzzWmkMi-zSl1dyNm2eUo9\r\nX-Yahoo-Profile: taboozizi\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nOn 07/10/05, David Brady &lt;junit_list@...&gt; wrote:\n&gt;\n&gt;  Hi All,\n&gt;\n&gt; I&#39;ve just been plopped into a &quot;ball of mud&quot; project: it&#39;s poorly\n&gt; isolated, has little or no class hierarchy/organization, everything\n&gt; depends on everything else, and it has no tests. It&#39;s a Java SWT\n&gt; application, developed with heavy dependence on Eclipse. (I&#39;m not even\n&gt; sure anyone inhouse knows how to build the project outside of Eclipse.)\n&gt; I am a long-time lover of unit testing, having used phpUnit and Ruby&#39;s\n&gt; Test::Unit, though I am hardly an expert. I am new to Eclipse, Java,\n&gt; SWT and JUnit.\n&gt;\n&gt; Thanks to the lovely wizards in Eclipse, I have been able to establish a\n&gt; set of beachhead tests that run and report good data on a small handful\n&gt; of classes. I&#39;m not trying to refactor everything at once, so a lot of\n&gt; what I&#39;ve done is &quot;take a ball of mud, slice it in two and put the\n&gt; halves in clean boxes.&quot; End result is I am getting more and more boxes\n&gt; full of mud. :-) One or two boxes, however, are small, and those are\n&gt; the ones under test, so they&#39;re pretty clean. I hope to work my way\n&gt; through the rest of the application this way. Two months from now it\n&gt; will all be under test, neatly divided, building and running integration\n&gt; tests nightly. (Or else it won&#39;t. But I&#39;m moderately confident as the\n&gt; project is only 10k LOC, and the team has so far been open to my unit\n&gt; testing sermons.)\n&gt;\n&gt; Because our application was written monolithically, one box of mud is\n&gt; the startup code. Everything depends on everything else. To get JUnit\n&gt; working, for the nonce I made the decision to just wad all the startup\n&gt; code into setUp(). Pushed that up into a new superclass, and all of our\n&gt; TestCases now inherit from it. Seems to work fine.\n&gt;\n&gt; Enter a new wrinkle: the ball of mud in setUp includes some code from\n&gt; ApplicationStartup.main(). That method has a CommandLineParser that\n&gt; reads the option to change databases, e.g. &quot;-d localhost&quot; or &quot;-d\n&gt; &lt;remote_server_name&gt;&quot;. Our setUp() method just picks one as a hardcode\n&gt; and uses that. It&#39;s now come time where I am actually bringing the\n&gt; database classes under test, and I need to be able to tell the unit test\n&gt; framework to switch databases.\n&gt;\n&gt; I mentioned my general newness to JUnit, and that this is a &quot;divide the\n&gt; ball of mud&quot; approach. I have only ever written TestCases, I haven&#39;t\n&gt; even written a TestSuite or any kind of TestRunner. Apologies if these\n&gt; are stupid questions:\n&gt;\n&gt; 1. Is there a good way to catch command-line args when running JUnit?\n\n\nNot in vanilla JUnit 3.8.2, unless I&#39;ve missed something.\n\n1.1. If I write a TestSuite and/or TestRunner, will this become apparent?\n\n\nI&#39;m not sure I understand the question. If this is referring to the command\nline, then yes, your TestRunner is just a normal Java class with a main\nmethod.\n\n1.2. Is this a bad question entirely? I.e. Am I in a state of sin for\n&gt; wanting to switch around my unit tests from a command line?\n\n\nPossibly ;-), I&#39;ve never felt the need to do it, but I&#39;ve been lucky enough\nto avoid a ball of mud that big. I&#39;m fairly sure there are other ways,\nData-Driven Tests with a custom test suite might be a better option. I&#39;m\nsure Cedric can suggest how TestNG provides for this.\n\n1.3. I am doing this to cut the database object code free of the ball of\n&gt; mud, so I can test those objects. Should I just be mocking the Db stuff\n&gt; outright?\n\n\nIdeally you should be able to fake or mock the DB interfaces, but life isn&#39;t\nalways ideal. I seem to remember JUnit Recipes has some coverage of this,\nalthough my copy has gone walkabout again.\n\n1.4. One of our remote servers is VERY remote, such that accessing it is\n&gt; very slow. We need to be able to switch over to that server to test\n&gt; performance over slow networks. So I do think I need to be able to\n&gt; switch the db server somehow.\n&gt;\n&gt; 1.4.1. I overheard something about a performance testing tool for\n&gt; JUnit. I confess I haven&#39;t Googled hard for it, though. Anyone know of\n&gt; a good tool for this that integrates cleanly with JUnit?\n\n\n\nPossibly Mike Clark&#39;s JUnitPerf?\n\n 2. Is there a good way to test SWT?\n\n\nDon&#39;t know, never had to do it. Obviously, you can test SWT since Java gives\nyou that level of control. What do you want to test here? Ideally there\nshould be the separation of GUI code and model code. Like you say, it sounds\nlike it&#39;s painfully entwined in this instance.\n\nGoogle so far says &#39;not really&#39;. I&#39;ve made some painful conclusions and\n&gt; design decisions from this. Chief among them has been, &quot;if you need to\n&gt; test the UI, you&#39;ve probably got model code in your view classes. Fix\n&gt; that first.&quot; This approach so far has worked, but it&#39;s difficult\n&gt; because I have to refactor the code BEFORE I can test. Ideally I would\n&gt; like to be able to grab the UI, fill in some boxes and click some\n&gt; buttons, then test the UI changes. This would allow the model/view\n&gt; refactorings to proceed under test.\n\n\n\nI&#39;d highly recommend Micheal Feather&#39;s book about legacy code (just\ngenerally an excellent book), but specifically for the safest ways to get it\nunder test.\n\nThank you in advance for any advice or input you might provide. I am\n&gt; open to a discussion of why my entire approach may be wrong.\n&gt;\n&gt; Cheers,\n&gt;\n&gt; -dB\n&gt; --\n&gt; David Brady\n&gt; junit_list@...\n&gt; Sometimes you gotta break a few eggs to make the chickens pay the\n&gt; protection money.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;  SPONSORED LINKS\n&gt;   Basic programming language&lt;http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw&gt;  C\n&gt; programming language&lt;http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw&gt;  Computer\n&gt; programming languages&lt;http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ&gt;   The\n&gt; c programming language&lt;http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q&gt;  C\n&gt; programming language&lt;http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ&gt;  List\n&gt; of programming languages&lt;http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA&gt;\n&gt;  ------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;\n&gt;    - Visit your group &quot;junit &lt;http://groups.yahoo.com/group/junit&gt;&quot; on\n&gt;    the web.\n&gt;     - To unsubscribe from this group, send an email to:\n&gt;    junit-unsubscribe@yahoogroups.com&lt;junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;     - Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;    Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt;  ------------------------------\n&gt;\n\nSorry I wasn&#39;t able to provide more concrete help!\n\nJames\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "taboozizi", 
    "topicId": 15104, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "prevInTime": 15105, 
    "contentTrasformed": false, 
    "postDate": "1128895802", 
    "canDelete": false, 
    "nextInTopic": 15107, 
    "prevInTopic": 15104, 
    "headers": {
        "inReplyToHeader": "PDQzNDY5MUZFLjgwMzA0QHNoaW55Yml0LmNvbT4=", 
        "messageIdInHeader": "PDIzZmNlOGU2MDUxMDA5MTUxMHYxN2Q3ZmFmOW5AbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDQzNDY5MUZFLjgwMzA0QHNoaW55Yml0LmNvbT4="
    }
}