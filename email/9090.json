{
    "numMessagesInTopic": 9, 
    "nextInTime": 9091, 
    "senderId": "2D6RtWjX_7y6ObQo_oC6XnPxFkLMKZS-R0xJcRl5-xK5s4Wj8XEEwngpmmJm0kU__7p6LqfuuAJisYaKQHiZo1RilCMRTiYYyexV4cWobw", 
    "systemMessage": false, 
    "subject": "Re: [junit] JNI (Shudder!)", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "Where is the *.dll in relation to the location of the *.class file on the file system? The only thing that s different, it appears, is the *.dll s path", 
    "msgId": 9090, 
    "profile": "nails762", 
    "topicId": 9086, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-499545950\">Where is the *.dll in relation to the location of the *.class file on the file system? The only thing that&#39;s different, it appears, is the *.dll&#39;s path relative to the *.class file.<br/>\n<br/>\nIs the *.dll picked up through the system PATH?<br/>\n<br/>\nTake care.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;So said Mike Clark on 2003-08-11 --------------------<br/>\n&gt;OK, I&#39;m stumped.  When a test class that loads a DLL is not in a <br/>\n&gt;package, it runs successfully.  When the test class is put into a <br/>\n&gt;package -- as all good classes should be -- it fails to load the DLL. <br/>\n&gt;(The same holds true if the test class delegates to another non-test <br/>\n&gt;class that loads the DLL.)<br/>\n&gt;<br/>\n&gt;Example that works:<br/>\n&gt;<br/>\n&gt;----<br/>\n&gt;<br/>\n&gt;import junit.framework.*;<br/>\n&gt;<br/>\n&gt;public class MyTestCase extends TestCase {<br/>\n&gt;<br/>\n&gt;     public static native void runMyDLL();<br/>\n&gt;<br/>\n&gt;     static {<br/>\n&gt;         System.loadLibrary(&quot;MyDLL&quot;) ;<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     public void testRun() {<br/>\n&gt;         runMyDLL() ;<br/>\n&gt;     }<br/>\n&gt;}<br/>\n&gt;<br/>\n&gt;&gt; java junit.textui.TestRunner MyTestCase<br/>\n&gt;<br/>\n&gt;..<br/>\n&gt;Time: 0.01<br/>\n&gt;OK (1 test)<br/>\n&gt;<br/>\n&gt;----<br/>\n&gt;<br/>\n&gt;Example that doesn&#39;t work:<br/>\n&gt;<br/>\n&gt;package com.xyz;<br/>\n&gt;<br/>\n&gt;import junit.framework.*;<br/>\n&gt;<br/>\n&gt;public class MyTestCasePackaged extends TestCase {<br/>\n&gt;<br/>\n&gt;     public static native void runMyDLL();<br/>\n&gt;<br/>\n&gt;     static {<br/>\n&gt;         System.loadLibrary(&quot;MyDLL&quot;) ;<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     public void testRun() {<br/>\n&gt;         runMyDLL() ;<br/>\n&gt;     }<br/>\n&gt;}<br/>\n&gt;<br/>\n&gt;&gt; java junit.textui.TestRunner com.xyz.MyTestCasePackaged<br/>\n&gt;<br/>\n&gt;..E<br/>\n&gt;Time: 0.01<br/>\n&gt;There was 1 error:<br/>\n&gt;1) testRun(com.xyz.MyTestCasePackaged)java.lang.UnsatisfiedLinkError:<br/>\n&gt;    runMyDLL<br/>\n&gt;    at com.xyz.MyTestCasePackaged.runMyDLL(Native Method)<br/>\n&gt;    at com.xyz.MyTestCasePackaged.testRun(MyTestCasePackaged.java:14)<br/>\n&gt;    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n&gt;    at sun.reflect.NativeMethodAccessorImpl.<br/>\n&gt;         invoke(NativeMethodAccessorImpl.java:39)<br/>\n&gt;    at sun.reflect.DelegatingMethodAccessorImpl.<br/>\n&gt;         invoke(DelegatingMethodAccessorImpl.java:25)<br/>\n&gt;<br/>\n&gt;FAILURES!!!<br/>\n&gt;Tests run: 1,  Failures: 0,  Errors: 1<br/>\n&gt;<br/>\n&gt;----<br/>\n&gt;<br/>\n&gt;Is this a known problem with JUnit or a known problem with my <br/>\n&gt;understanding of JNI?<br/>\n&gt;<br/>\n&gt;I really want to think it&#39;s the latter. I&#39;m going to be really surprised <br/>\n&gt;if I&#39;m the first person to run into this.  The list archives contain one <br/>\n&gt;mention of an Oracle thick driver suffering a similar problem, but a <br/>\n&gt;search of &quot;UnsatisfiedLinkError&quot; didn&#39;t turn up much.  And I&#39;ve played <br/>\n&gt;the excluded.properties tricks - adding &quot;com.xyz.*&quot; to the list.<br/>\n&gt;<br/>\n&gt;Anyway, I&#39;m prepared to be educated by someone.<br/>\n&gt;<br/>\n&gt;Thanks!<br/>\n&gt;<br/>\n&gt;Mike<br/>\n&gt;<br/>\n&gt;-- <br/>\n&gt;Mike Clark<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://clarkware.com\">http://clarkware.com</a><br/>\n&gt;(303) 589-3812<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt;Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.<br/>\n </span></blockquote>J. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603</div>", 
    "prevInTime": 9089, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1060692025", 
    "canDelete": false, 
    "nextInTopic": 9092, 
    "prevInTopic": 9086, 
    "headers": {
        "inReplyToHeader": "PDNGMzdDMUI4LjkwNDAwMDRAY2xhcmt3YXJlLmNvbT4=", 
        "messageIdInHeader": "PDIwMDMwODEyMDc0MDI1MDk5NC4wMDE0RjVBRkBkaWFzcGFyc29mdHdhcmUuY29tPg==", 
        "referencesHeader": "PDNGMzdDMUI4LjkwNDAwMDRAY2xhcmt3YXJlLmNvbT4="
    }
}