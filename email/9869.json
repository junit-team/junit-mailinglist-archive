{
    "numMessagesInTopic": 4, 
    "nextInTime": 9870, 
    "senderId": "mjrImIt-xxJtanvuggDyhWB_b4ABo3TLS2KJLALN4NwXJKG3Qm-6CILxmq-zoBSOBNcm9mTyjHLE0VAsKVFTF5wAnV-KCJxFbQSaZw", 
    "systemMessage": false, 
    "subject": "RE: [junit] Formatting results on a per suite basis", 
    "from": "&quot;Shane Duan&quot; &lt;shane.duan@...&gt;", 
    "authorName": "Shane Duan", 
    "msgSnippet": "Have you taken a look at the junitreport task?  It can take the file set you pass in and generate report. So basically, you can use xml report to generate", 
    "msgId": 9869, 
    "profile": "shaneduan", 
    "topicId": 9866, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 162327822, 
    "messageBody": "<div id=\"ygrps-yiv-1673091333\">Have you taken a look at the &#39;junitreport&#39; task?  It can take the file<br/>\nset you pass in and generate report.<br/>\n <br/>\nSo basically, you can use xml report to generate xml file on each test<br/>\ncase class, then use the junitreport to group the ones you want<br/>\nto go together for the report.  We are doing that so that we can<br/>\ngenerate report based on each personl&#39;s reponsible packages.  Then we<br/>\ncan also use a file set that includes all the xml files as the overall<br/>\ntest report.  Here is a brief sample:<br/>\n <br/>\n  &lt;target name=&quot;personalReport&quot;&gt;<br/>\n    &lt;junitreport&gt;<br/>\n      &lt;fileset refid=&quot;test.id&quot;/&gt;<br/>\n      &lt;report format=&quot;frames&quot; todir=&quot;${reports.tests}/${user}&quot;/&gt;<br/>\n    &lt;/junitreport&gt;<br/>\n  &lt;/target&gt;<br/>\n<br/>\n  &lt;target name=&quot;shaneReport&quot; description=&quot;Shane&#39;s test reports&quot;&gt;<br/>\n    &lt;fileset id=&quot;id&quot; dir=&quot;${reports.tests}&quot;&gt;<br/>\n      &lt;include name=&quot;TEST-package1.package2.TestCaseClass.xml&quot;/&gt;<br/>\n      &lt;include name=&quot;TEST-package1.package3.*.xml&quot;/&gt;<br/>\n      &lt;include name=&quot;TEST-package2.package4.xml&quot;/&gt;<br/>\n    &lt;/fileset&gt;<br/>\n    &lt;antcall target=&quot;personalReport&quot;&gt;<br/>\n      &lt;param name=&quot;user&quot; value=&quot;shane&quot;/&gt;<br/>\n      &lt;reference refid=&quot;id&quot; torefid=&quot;test.id&quot;/&gt;<br/>\n    &lt;/antcall&gt;<br/>\n  &lt;/target&gt;<br/>\n <br/>\nHope this is helps.<br/>\n <br/>\nShane<br/>\n<br/>\n<br/>\n\t-----Original Message-----<br/>\n\tFrom: mtardifsitepak [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mtardif@...\">mtardif@...</a>] <br/>\n\tSent: Thursday, November 13, 2003 10:38 AM<br/>\n\tTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n\tSubject: [junit] Formatting results on a per suite basis<br/>\n\t<br/>\n\t<br/>\n\tI am calling JUnit from a task within ant (xml provided below).<br/>\nWhen I<br/>\n\trun ant for my entire suite of tests, I get output which looks<br/>\nlike this:<br/>\n\t<br/>\n\t    [junit] Testcase: testRun took 1.979 sec<br/>\n\t    [junit] Testcase: testRun took 0.572 sec<br/>\n\t    [junit] Testcase: testRun took 0.451 sec<br/>\n\t    ...<br/>\n\t<br/>\n\tThe problem here is that I have different suites containing<br/>\ntests with<br/>\n\tthe same name. My setup is an extensive hierarchy of tests where<br/>\neach<br/>\n\tsubdirectory contains an AllTests class calling addTestSuite for<br/>\neach<br/>\n\tof the tests within the same directory and addTest for each<br/>\nAllTests<br/>\n\tclass in the first level of subdirectories. For example:<br/>\n\t<br/>\n\t    suite.addTest(test.com.sitepak.subdir.AllTests.suite());<br/>\n\t    suite.addTestSuite(test.com.sitepak.SSHTest.class);<br/>\n\t<br/>\n\tI have tried many approaches to solve this problem but none have<br/>\nbeen<br/>\n\tsatisfactory:<br/>\n\t<br/>\n\t1. I tried overriding the PlainJUnitResultFormatter class,<br/>\ngiving my<br/>\n\town implementation of the methods defined in the<br/>\nJUnitResultFormatter<br/>\n\tinterface. Problem is, startTestSuite is only called once when<br/>\nrunning<br/>\n\tall the AllTests test in the root directory. The reason is<br/>\nprobably<br/>\n\tthat when I call addTest and then addTestSuite, the tests are<br/>\nall<br/>\n\tbeing cumulated in what is considered the same suite.<br/>\n\t<br/>\n\t2. I then tried overridig the XMLJUnitResultFormatter, as stated<br/>\nin<br/>\n\tsome of the posting in this newsgroup. Once filtered through an<br/>\nXSLT<br/>\n\tfile, I&#39;m sure I could get the name of the test and its<br/>\ncorresponding<br/>\n\tclass in the same line in a nicely formatted HTML file. However,<br/>\nI<br/>\n\tneed immediate feedback when calling ant from the command line.<br/>\n\t<br/>\n\t3. I finally tried calling each test individually, as suggested<br/>\nin the<br/>\n\tJUnit or Ant FAQ. This consists of providing the following XML<br/>\nin ant:<br/>\n\t<br/>\n\t  &lt;batchtest fork=&quot;yes&quot;&gt;<br/>\n\t    &lt;fileset dir=&quot;${src.tests}&quot;&gt;<br/>\n\t      &lt;include name=&quot;**/*Test*.java&quot;/&gt;<br/>\n\t      &lt;exclude name=&quot;**/AllTests.java&quot;/&gt;<br/>\n\t    &lt;/fileset&gt;<br/>\n\t  &lt;/batchtest&gt;<br/>\n\t<br/>\n\tThe problem with this approach is that tests are run<br/>\nindividually<br/>\n\twhich makes it impossible to print a summary of the number of<br/>\ntests<br/>\n\twhich have failed during the run.<br/>\n\t<br/>\n\tIf anyone has other suggestions, please let me know. Here is<br/>\ncontext<br/>\n\tinformation which might be useful:<br/>\n\t<br/>\n\tAnt target:<br/>\n\t<br/>\n\t  &lt;target name=&quot;run_tests&quot; depends=&quot;init&quot;&gt;<br/>\n\t    &lt;property name=&quot;testcase&quot;<br/>\nvalue=&quot;test.com.sitepak.AllTests&quot;/&gt;<br/>\n\t    &lt;junit printSummary=&quot;yes&quot; fork=&quot;on&quot;&gt;<br/>\n\t      &lt;classpath refid=&quot;classpath.run&quot;/&gt;<br/>\n\t      &lt;jvmarg value=&quot;-Xmx128m&quot;/&gt;<br/>\n\t      &lt;formatter type=&quot;plain&quot; usefile=&quot;false&quot;/&gt;<br/>\n\t      &lt;test name=&quot;${testcase}&quot;/&gt;<br/>\n\t    &lt;/junit&gt;<br/>\n\t  &lt;/target&gt;<br/>\n\t<br/>\n\tVersions:<br/>\n\t<br/>\n\t  JUnit 3.8.1<br/>\n\t  Ant 1.6<br/>\n\t  Linux 2.4.21<br/>\n\t<br/>\n\t<br/>\n\t<br/>\n\t<br/>\nYahoo! Groups Sponsor\t<br/>\nADVERTISEMENT<br/>\nClick to learn more...<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://rd.yahoo.com/SIG=12cnbdg9a/M=243273.4156324.5364586.1261774/D=eg\">http://rd.yahoo.com/SIG=12cnbdg9a/M=243273.4156324.5364586.1261774/D=eg</a><br/>\nroupweb/S=1705006905:HM/EXP=1068839461/A=1750744/R=0/*<a rel=\"nofollow\" target=\"_blank\" href=\"http://servedby.ad\">http://servedby.ad</a><br/>\nvertising.com/click/site=552006/bnum=1068753061039791&gt; \t<br/>\n <br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.adserver.yahoo.com/l?M=243273.4156324.5364586.1261774/D=egrou\">http://us.adserver.yahoo.com/l?M=243273.4156324.5364586.1261774/D=egrou</a><br/>\npmail/S=:HM/A=1750744/rand=636568133&gt; \t<br/>\n<br/>\n\tTo unsubscribe from this group, send an email to:<br/>\n\t<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n\t<br/>\n\t<br/>\n\tYour use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\nService &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt; . <br/>\n\t<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 9868, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1068753637", 
    "canDelete": false, 
    "nextInTopic": 9879, 
    "prevInTopic": 9866, 
    "headers": {
        "messageIdInHeader": "PDA4QUU4ODU5MjA2OTRFNEQ5RDQ4QzREOEMyOTUwOTY3MTExNENEQFVTU1ZTLU1BSUwwMS5hbWVyLmJvcmwubmV0Pg=="
    }
}