{
    "topicId": 24605, 
    "postDate": "1414098772", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Stefan Bechtold &lt;stefan.bechtold@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "cXM9W0rqqxHeTlocZvOI8E-OU2PyEKBo-9-SZoQ_DPx3UJQJILtyIBvTDs4AWU2QFd7ZMqQgJKC1f5g5qqE6QHTuwLmjES9tqy_u02xSJQ", 
    "nextInTime": 24609, 
    "userId": 558173103, 
    "prevInTime": 24607, 
    "prevInTopic": 24607, 
    "headers": {
        "inReplyToHeader": "PDU0NDkzRUFDLjUwNDAzMDBAZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDgyQzIyMUEzLTM1QjctNDQyQy1CMTBGLTJGNjNENDM1RUM3QUBtZS5jb20+", 
        "referencesHeader": "PG0yYTJqYStsN29qcnBAWWFob29Hcm91cHMuY29tPiA8NTQ0OTNFQUMuNTA0MDMwMEBnbWFpbC5jb20+"
    }, 
    "authorName": "Stefan Bechtold", 
    "numMessagesInTopic": 6, 
    "msgSnippet": "There are a lot of opinions, and great ideas for a new flexible testing framework going on here. IÃ†d also like to give my five cents: I was playing around", 
    "contentTrasformed": false, 
    "msgId": 24608, 
    "nextInTopic": 24609, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;stefan.bechtold@...&gt;\r\nReceived: (qmail 871 invoked by uid 7800); 23 Oct 2014 23:43:31 -0000\r\nX-Sender: stefan.bechtold@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 4737 invoked by uid 102); 23 Oct 2014 22:13:05 -0000\r\nX-Received: from unknown (HELO mtaq6.grp.bf1.yahoo.com) (10.193.84.37)\n  by m2.grp.bf1.yahoo.com with SMTP; 23 Oct 2014 22:13:05 -0000\r\nX-Received: (qmail 24490 invoked from network); 23 Oct 2014 22:13:04 -0000\r\nX-Received: from unknown (HELO nk11p03mm-asmtp001.mac.com) (98.138.100.119)\n  by mtaq6.grp.bf1.yahoo.com with SMTP; 23 Oct 2014 22:13:04 -0000\r\nX-Received: from c12218.fritz.box ([37.24.35.59]) by nk11p03mm-asmtp001.mac.com\n (Oracle Communications Messaging Server 7u4-27.10(7.0.4.27.9) 64bit (built Jun\n  6 2014)) with ESMTPSA id &lt;0NDX005VV1LHVOB0@...&gt; for\n junit@yahoogroups.com; Thu, 23 Oct 2014 21:12:56 +0000 (GMT)\r\nX-Proofpoint-Virus-Version: vendor=fsecure\n engine=2.50.10432:5.12.52,1.0.28,0.0.0000\n definitions=2014-10-23_07:2014-10-23,2014-10-23,1970-01-01 signatures=0\r\nX-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0\n suspectscore=1 phishscore=0 adultscore=0 bulkscore=0 classifier=spam adjust=0\n reason=mlx scancount=1 engine=7.0.1-1408290000 definitions=main-1410230139\r\nMessage-id: &lt;82C221A3-35B7-442C-B10F-2F63D435EC7A@...&gt;\r\nMIME-version: 1.0 (Mac OS X Mail 7.3 &#92;(1878.6&#92;))\r\nDate: Thu, 23 Oct 2014 23:12:52 +0200\r\nReferences: &lt;m2a2ja+l7ojrp@...&gt; &lt;54493EAC.5040300@...&gt;\r\nTo: junit@yahoogroups.com\r\nIn-reply-to: &lt;54493EAC.5040300@...&gt;\r\nX-Mailer: Apple Mail (2.1878.6)\r\nSubject: Re: [junit] Quo Vadis JUnit\r\nX-Yahoo-Group-Post: member; u=558173103\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Original-From: Stefan Bechtold &lt;stefan.bechtold@...&gt;\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 23 Oct 2014 23:43:31 -0000\r\nFrom: Stefan Bechtold &lt;stefan.bechtold@...&gt;\r\n\r\nThere are a lot of opinions, and great ideas for a new flexible testing fra=\r\nmework going on here. I=92d also like to give my five cents:\n\nI was playing=\r\n around with the new features of Java 8 and when it came to lambdas I start=\r\ned to think about how useful they are when it comes to testing. I always wa=\r\nnted to exercise how it would be to create a testing framework that is test=\r\ned by itself. So after visiting the XP Days this year, I started to sit dow=\r\nn and to play around with it.\n\nWhen I started I made 3 clear assumptions:\n1=\r\n) I don=92t want to write any kind of assertions, at least not those that c=\r\nome for free with Hamcrest.\n2) I do want to use as much of pure Java as pos=\r\nsible, especially as lambdas add a hole level of expressiveness\n3) I wanted=\r\n to place something like a global application context to configure the test=\r\n system and allow plugins to register themselves for the test run\n\n\nWhile n=\r\number 1 was very easy to pick up, I was wondering how to express tests such=\r\n that they read much nicer, but still by having pure Java code. I came up w=\r\nith the following rules:\na) Use Java classes to create test classes\nb) Use =\r\ninner Java classes annotated by @Context to create hierarchical contexts (l=\r\nike supported by the hierarchical context runner, see https://github.com/be=\r\nchte/junit-hierarchicalcontextrunner/wiki)\nc) Use Java methods annotated by=\r\n @Test to represent tests\nd) All types of Tests (groups, hierarchies, metho=\r\nds) implement a single interface, called Testable\ne) The Testable has metho=\r\nds to get a name, a unique identifier and to run the test returning a TestR=\r\nesult object\nf) Use a TestableFactory to create the Testable objects by han=\r\nding in any kind of Object (a class, method, a name, etc.)\ng) Allow plugins=\r\n to register themselves with the TestableFactory to allow them to participa=\r\nte in the process of finding a Testable\nh) This also allows plugins to load=\r\n any kind of &quot;type=93 of tests, from any kind of location (could be a Java =\r\nclass, a text-file, or what have you=85)\ni) Use a global application contex=\r\nt to load all the configurations which are provided by annotation on the te=\r\nst class and loaded by the framework\nj) Instead of Rules, use Java8 lambdas=\r\n to express these kind of concepts (see examples below)\nk) Use default meth=\r\nods on interfaces to express global/shared concepts among classes / test ca=\r\nses\n\n\nFrom these points, I would extract the following requirements:\n- Test=\r\n names: Within Java, they should conform to the Java Naming Conventions. Ou=\r\ntside, it could be anything the according plugin parser can evaluate. :-)\n-=\r\n Runners: Runners should not be limited to one per class. Indeed, the Testa=\r\nbleFactory would allow to have multiple runners for a test, such that you c=\r\nan have a class that runs its methods as tests and resolves additional test=\r\ns from a test-file or so. Think of it as possibility to have your setup and=\r\n teardown in Java methods while the tests cases are specified at another fi=\r\nle.\n- Reporting: Runners should notify Listeners during the test run and re=\r\nturn a TestResult to the framework, which should gather all results and rep=\r\nort them to Reports at the end of the run. These two concept allow mostly e=\r\nvery kind of reporting that might be necessary, I think. We should get rid =\r\nof these kind of Description thing and there should be no need to create a =\r\n&quot;tree structure=93 of the tests and their children right before the start. =\r\nI think the runners should return their results and it may be combined into=\r\n a tree like structure in order to represent hierarchies of tests.\n- Moreov=\r\ner, the TestResult class should be as abstract as possible. When talking ab=\r\nout &quot;Jump to Source=93 we should think of it like an URL. The source of a T=\r\nestable could be almost everything, like a class, a method, a txt-file or c=\r\nucumber test, or what have you. Therefore, Jump to Source should point to a=\r\n unique name, an unique identifier that must be resolved by the IDE, that w=\r\nants to link back to the code / file / etc. Therefore, use the default nami=\r\nng conventions and schemas, which should reflect almost everything which is=\r\n needed.\n- Rules: There is nothing like a Rule needed. Global startup / ini=\r\ntialization / teardown can be performed by the hook within the application =\r\ncontext, once for a suite / test class / whatever. Rule for handling except=\r\nions, run in parallel, run multiple times, or to test timing behavior can b=\r\ne easily represented by the lambdas mentioned in j). Here are two examples =\r\nof how this might read (you can find it at https://github.com/bechte/JUT/tr=\r\nee/master/src/main/java/de/bechte/jut/matchers)\n\nExample 1: Exception Handl=\r\ning\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D\n\n@Test\npublic void someExceptionTest throws Exception {\n  expectExcepti=\r\non(MyException.class).withMessage(&quot;Some error message!=93).in(() -&gt; {\n    /=\r\n/ here goes your test code without exception handling\n    service.call(&quot;wha=\r\ntever=93);\n  });\n}\n\nExample 2: Run multiple times (parallel):\n=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D\n\n@Test\npublic void multipleRunTest throws Exception {\n  runMultipleT=\r\nimes(10).inParallel().withTimeout(1, TimeUnit.SECONDS).run(() -&gt; {\n    // h=\r\nere goes your long running test code\n    service.call(&quot;whatever=93);\n  });\n=\r\n}\n\n- Filtering and Sorting: Filtering and Sorting should also be configured=\r\n during startup / bootstrapping the tests. The filters and sorters should b=\r\ne registered within the application context and should be used by the Testa=\r\nbleFactory when searching / resolving the Testable objects. This is the per=\r\nfect place to perform both, filtering & sorting.\n\n\nI=92ve put together all =\r\nthat I have in my little prototype and I really think it is worth to take a=\r\n closer look at it: https://github.com/bechte/JUT. Please don=92t take it t=\r\nhe wrong way, this is just my ideas expressed by code, as I think it is muc=\r\nh easier to understand some of the parts by looking at the code.\n\nI hope so=\r\nme of the ideas make sense and will help to create a great new version for =\r\nTesting in Java. :-)\n\n\nBtw. I really think that Java 8 comes with so many n=\r\new features and that the programming model has significally changed, such t=\r\nhat it would be a great idea to &quot;rethink=93 the former ideas of what Unit T=\r\nesting was all about and I wouldn=92t be to sad if we start all over and do=\r\n not support older versions with whatever will be the &quot;new=93 framework. Th=\r\ne changes in the Java language really allow to break downward compatibility=\r\n when creating something much better, I think.\n\nAll the best,\n\nStefan\n\n\n[No=\r\nn-text portions of this message have been removed]\n\n\n", 
    "subject": "Re: [junit] Quo Vadis JUnit"
}