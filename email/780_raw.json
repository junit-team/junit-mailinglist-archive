{
    "topicId": 747, 
    "postDate": "985618511", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Joi Ellis &lt;joi@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "zruFdRE05IzdCQCQKOyF7er0uzYsFScf6GAhV1sfWo5xSiP_0DUMM1kmmvYUfspmuEG56ucZErfESrY8dw4XYfs", 
    "nextInTime": 781, 
    "userId": 0, 
    "prevInTime": 779, 
    "prevInTopic": 772, 
    "headers": {
        "inReplyToHeader": "PERDRUZKTUxNR09QREtPR0VMSE5ESUVOUENBQUEuZW1lYWRlQGdlZWtmYXJtLm9yZz4=", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMjEuMDEwMzI2MDgzMjU1MC4yNjkxLTEwMDAwMEBqb2kuYXJhdm94LmNvbT4="
    }, 
    "authorName": "Joi Ellis", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "... I m not using Ant, I m using Gillmer Derge s AntlrTool in JBuilder. Works great!  It even adds syntax checking to JB4 s editor when I m working in a .g", 
    "contentTrasformed": false, 
    "msgId": 780, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;joi@...&gt;\r\nX-Sender: joi@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_0_4); 26 Mar 2001 15:00:08 -0000\r\nReceived: (qmail 37871 invoked from network); 26 Mar 2001 15:00:07 -0000\r\nReceived: from unknown (10.1.10.142) by l8.egroups.com with QMQP; 26 Mar 2001 15:00:07 -0000\r\nReceived: from unknown (HELO mail.aravox.com) (209.46.41.67) by mta3 with SMTP; 26 Mar 2001 16:01:11 -0000\r\nReceived: from linux.aravox.com (mail-gw.aravox.com [209.46.41.66]) by mail.aravox.com (Postfix) with ESMTP id 88C7B542D for &lt;junit@yahoogroups.com&gt;; Mon, 26 Mar 2001 09:00:06 -0600 (CST)\r\nReceived: from joi-10.aravox.com (IDENT:joi@... [10.0.0.28]) by linux.aravox.com (8.9.3/8.9.3) with ESMTP id IAA29879 for &lt;junit@yahoogroups.com&gt;; Mon, 26 Mar 2001 08:55:11 -0600\r\nDate: Mon, 26 Mar 2001 08:55:11 -0600 (CST)\r\nTo: junit@yahoogroups.com\r\nSubject: RE: [junit] Unit testing Antlr\r\nIn-Reply-To: &lt;DCEFJMLMGOPDKOGELHNDIENPCAAA.emeade@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.21.0103260832550.2691-100000@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: Joi Ellis &lt;joi@...&gt;\r\n\r\nOn Fri, 23 Mar 2001, Erik Meade wrote:\n\n&gt; I wrote some very simple tests for Ant&#39;s Antlr task.\n\nI&#39;m not using Ant, I&#39;m using Gillmer Derge&#39;s AntlrTool in JBuilder.\nWorks great!  It even adds syntax checking to JB4&#39;s editor when I&#39;m working\nin a .g grammar file.\n\nI ended up creating a junit.extensions class by subclassing TestCase\nand giving it a new constructor.   I pass in a File, a Lexer Class object,\na Parser Class object, and a String naming the topmost rule in the Parser.\n\nThe test uses reflection to identify the desired constructors and the\nmethod that corresponds with the rule, and then instantiates the parser\nto parse the provided File.  \n\nI have another class which looks for files which match &quot;input*.data&quot; and\nbuilds a suite of AntlrParserTestCase test objects, one for each input\nfile, using the parser and lexer classes I&#39;m testing.  I may turn this\ninto an extensions class later.\n\n  public static Test suite() {\n    TestSuite suite = new TestSuite( &quot;TestFcpConfigParser&quot; );\n    File file = null;\n    file = new File( inputPath );\n    if ( file.exists() ) {\n      parseFile( suite, file );\n    } else {\n      // @todo: make this a failure or exception so the test fails\n      System.out.println( &quot;File &quot; + file + &quot; skipped.&quot; );\n    }\n    return suite;\n  }\n\n  private static InputDataFilter idf = new InputDataFilter();\n\n  private static void parseFile( TestSuite suite, File file ) {\n    if ( file.isDirectory() ) {\n      File[] kids = file.listFiles( idf );\n      for ( int i = 0; i &lt; kids.length; i++ ) {\n        parseFile( suite, kids[i] );\n      }\n    } else {\n      suite.addTest( new AntlrParserTestCase( file, FcpConfigLexer.class,\n          FcpConfigParser.class, &quot;startRule&quot; )\n      );\n    }\n  }\n\nThe topmost unit test can inspect the resulting parser object&#39;s fields\nfor the expected content.  So far, what I have is a set of config files\nwhich should all produce an identical result object, so I defined a\nstatic reference constant in the data class to compare against.  That way\nwhen I change the data object, I can update the reference constant and\nnot have to go change code inside the test case to match.\n\nSince I&#39;m passing in the class objects, not instances, the JVM isn&#39;t\nbloating up with a bazillion instances of the lexer/parser stuff, just\ntest objects in the suite().  I haven&#39;t had the chance yet to instrument\nthis and see how much heap it consumes.  I only have 6 input files so far,\nbut I expect it to grow as I expand the grammar.\n\nI&#39;m still developing this setup.  Right now the AntlrParserTestCase\nextension assumes the topmost rule has neither parameters nor returns. \nI need to figure out how to accomodate that, probably with additional\nfields on the constructor. (Ick. Long parameter list smell!)\n\n-- \nJoi Ellis                    Software Engineer\nAravox Technologies          joi@..., gyles19@...\n\nNo matter what we think of Linux versus FreeBSD, etc., the one thing I\nreally like about Linux is that it has Microsoft worried.  Anything\nthat kicks a monopoly in the pants has got to be good for something.\n           - Chris Johnson\n\n\n", 
    "subject": "RE: [junit] Unit testing Antlr"
}