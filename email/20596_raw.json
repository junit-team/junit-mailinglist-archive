{
    "numMessagesInTopic": 8, 
    "nextInTime": 20597, 
    "senderId": "irMhBZhdaI4b3lcF7diJw76hlLAREzx7QFOMTNJ8ctlyS8VeKByErPdfmiVH2UQVOepNVoM--H_UFH9wbStLxwtiS07Eum0SG3gY", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing code that depends on today&#39;s date", 
    "from": "Steve Freeman &lt;smgfreeman@...&gt;", 
    "authorName": "Steve Freeman", 
    "msgSnippet": "It s interesting how introducing time properly as part of the domain model helps make the code clearer. On most projects, I find what s actually needed is a", 
    "msgId": 20596, 
    "rawEmail": "Return-Path: &lt;steve.freeman@...&gt;\r\nX-Sender: steve.freeman@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 70511 invoked from network); 18 Jun 2008 13:24:31 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m46.grp.scd.yahoo.com with QMQP; 18 Jun 2008 13:24:31 -0000\r\nX-Received: from unknown (HELO rs49.luxsci.com) (65.61.166.75)\n  by mta17.grp.scd.yahoo.com with SMTP; 18 Jun 2008 13:24:31 -0000\r\nX-Received: from rs49.luxsci.com (localhost [127.0.0.1])\n\tby rs49.luxsci.com (8.13.1/8.13.7) with ESMTP id m5IDOTrc027214\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 18 Jun 2008 08:24:29 -0500\r\nX-Received: (from root@localhost)\n\tby rs49.luxsci.com (8.13.1/8.13.7/Submit) id m5IDO2qs026101\n\tfor junit@yahoogroups.com; Wed, 18 Jun 2008 13:24:02 GMT\r\nMessage-Id: &lt;200806181324.m5IDO2qs026101@...&gt;\r\nX-Received: (from steve.freeman@...) by Lux Scientiae SMTP Processor; Wed, 18 Jun 2008 13:24:02 +0000\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;17fa53d0806180026r7c156fdeh681da564c053b466@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes\r\nContent-Transfer-Encoding: 7bit\r\nDate: Wed, 18 Jun 2008 14:23:22 +0100\r\nReferences: &lt;860D47F8904F6041AEEE55F9B684667F162D46EF05@...&gt; &lt;17fa53d0806180026r7c156fdeh681da564c053b466@...&gt;\r\nX-Comment: Lux Scientiae SMTP Processor Message ID - 1213795442-6281897.74116255\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Steve Freeman &lt;smgfreeman@...&gt;\r\nSubject: Re: [junit] Testing code that depends on today&#39;s date\r\nX-Yahoo-Group-Post: member; u=206880094; y=SU7R3LghOmbPLtwFX6z2knwurgUsPNAYBYsvFYQr6f8mKyhPdkQ\r\nX-Yahoo-Profile: smg_freeman\r\n\r\nIt&#39;s interesting how introducing time properly as part of the domain  \nmodel helps make the code clearer. On most projects, I find what&#39;s  \nactually needed is a Date (as in a day) rather than a Date (as in a  \nTimestamp) which Java confuses, so it&#39;s worth declaring project- \nspecific time types -- or at least using Joda date.\n\nS.\n\nOn 18 Jun 2008, at 08:26, Nat Pryce wrote:\n&gt; There are two things you can do.  A) separate code that performs\n&gt; calculations on dates from the code that gets the current date.  B)\n&gt; get the current date get it through an abstract interface.\n&gt;\n&gt; E.g. suppose I have a method like...\n&gt;\n&gt;   Money currentValue() {\n&gt;       Date today = new Date();\n&gt;       ...\n&gt;   }\n&gt;\n&gt; I&#39;d turn that into:\n&gt;\n&gt;    Money valueAt(Date date) {\n&gt;        ...\n&gt;    }\n&gt;\n&gt; and have another object decide what date to pass in.\n&gt;\n&gt; That other object can get the date through an abstract interface. (I\n&gt; usually call that interface &quot;Clock&quot; to avoid confusion with the\n&gt; existing java.util.Calendar class).  I find its usually one of the\n&gt; first things I write on every project -- if only it was in the\n&gt; standard library.\n&gt;\n&gt; I find that separating calculation with dates from the choice of date\n&gt; to use means I don&#39;t have to pass the clock around everywhere.  It\n&gt; also makes the code more flexible.  It can, if asked to, implement\n&gt; what-if calculations without major redesign, for example.\n&gt;\n&gt; --Nat\n&gt;\n\nSteve Freeman\nhttp://www.mockobjects.com\n\nWinner of the Agile Alliance Gordon Pask award 2006\n\n\n\n\n", 
    "profile": "smg_freeman", 
    "topicId": 20590, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 206880094, 
    "prevInTime": 20595, 
    "contentTrasformed": false, 
    "postDate": "1213795402", 
    "canDelete": false, 
    "nextInTopic": 20598, 
    "prevInTopic": 20594, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwODA2MTgwMDI2cjdjMTU2ZmRlaDY4MWRhNTY0YzA1M2I0NjZAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDIwMDgwNjE4MTMyNC5tNUlETzJxczAyNjEwMUByczQ5Lmx1eHNjaS5jb20+", 
        "referencesHeader": "PDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYyRDQ2RUYwNUBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPiA8MTdmYTUzZDA4MDYxODAwMjZyN2MxNTZmZGVoNjgxZGE1NjRjMDUzYjQ2NkBtYWlsLmdtYWlsLmNvbT4="
    }
}