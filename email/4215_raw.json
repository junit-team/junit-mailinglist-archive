{
    "numMessagesInTopic": 17, 
    "nextInTime": 4216, 
    "senderId": "oW2eCK0cxpsmKjVJf949anJTlNrZTDSOUcr7psl69u9qZSVEq66x0VPCTmIVtappsv81bkDnwLuQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Database Select query checks!! newbie", 
    "from": "&lt;evought@...&gt;", 
    "authorName": "evought@qlue.com", 
    "msgSnippet": "Sorry this reply is late in coming- I ve been swamped for the last few weeks. In our projects we use PostgreSQL for development and do have a test database per", 
    "msgId": 4215, 
    "rawEmail": "Return-Path: &lt;evought@...&gt;\r\nX-Sender: evought@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: unknown); 27 Feb 2002 15:54:10 -0000\r\nReceived: (qmail 19804 invoked from network); 27 Feb 2002 15:50:15 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m5.grp.snv.yahoo.com with QMQP; 27 Feb 2002 15:50:15 -0000\r\nReceived: from unknown (HELO ral.qlue.com) (65.201.137.7)\n  by mta1.grp.snv.yahoo.com with SMTP; 27 Feb 2002 15:50:15 -0000\r\nReceived: from kili.qlue-lan (kili.qlue-lan [192.168.1.65])\n\tby ral.qlue.com (Postfix) with ESMTP id 0B86D1C783\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 27 Feb 2002 10:49:40 -0500 (EST)\r\nDate: Wed, 27 Feb 2002 10:49:40 -0500 (EST)\r\nX-X-Sender:  &lt;adfh@...-lan&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: Re: [junit] Database Select query checks!! newbie\r\nIn-Reply-To: &lt;OE62crwPBhfgM4fGIC7000035fc@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.33.0202271045340.2784-100000@...-lan&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: &lt;evought@...&gt;\r\nX-Yahoo-Group-Post: member; u=77258944\r\nX-Yahoo-Profile: eric_vought\r\n\r\nSorry this reply is late in coming- I&#39;ve been swamped for the last few\nweeks.\n\nIn our projects we use PostgreSQL for development and do have a\ntest database per developer (or, actually, one per workstation, though it\nis easy enough to create more). The database is lightweight and rebuilds\nquickly. We have Ant tasks which drop, recreate, and reload the DB with an\nempty scheme before each test run. This is fully automated and only adds a\nfew seconds to a run. If someone is interested, I can send some sample\nscripts.\n\nOn Mon, 11 Feb 2002, Mathieu Gervais wrote:\n\n&gt; Hi,\n&gt;\n&gt; &gt;There is a line of thought that all you need to do is make sure your SQL\n&gt; &gt;is valid. beyond that you&#39;re testing your database, not your method...\n&gt;\n&gt;  I never got that one. It&#39;s like saying SQL code doesn&#39;t need testing as\n&gt; mush as java code.\n&gt;\n&gt; Programmer A:\n&gt; When I do unit testing, I just run my code in a couple of conditions and\n&gt; look if it&#39;s ok.\n&gt;\n&gt; XPer:\n&gt; You should really program those tests so they are repeatable, fast to run\n&gt; and don&#39;t need any human interaction to verify if they pass. Do automated\n&gt; unit testing! Use  JUnit!\n&gt;\n&gt; Why doesn&#39;t the same applies to SQL queries? In reality the programmer DOES\n&gt; test his SQL queries by trying them and looking at results. (&quot;make sure your\n&gt; SQL is valid&quot;) so why not automate it like the rest?\n&gt;\n&gt; I&#39;ve seen queries way more complex than some Java code. I&#39;m pretty sure\n&gt; everybody did. Don&#39;t you want that when somebody will need to modifiy the\n&gt; query (to add a filtering condition for example) they can press the button\n&gt; and run the tests to ensure the query is still ok?\n&gt;\n&gt; What I do is I connect to a special DB (with a replica of the schema of the\n&gt; real DB) populated with test data. I also dynamically add data (in setup)\n&gt; and delete it (in teardown) for some tests. Or check that my code really\n&gt; inserted a row, etc. Of course, if a query is like selectAll(), you might be\n&gt; influenced by other programmers using the same test DB at the same time, so\n&gt; you will want something like a test db per programmer. And then you start to\n&gt; find it hard to deal with this increasingly complex solution so you drop all\n&gt; of this and return to &quot;make sure your SQL is valid&quot; testing, no more\n&gt; automated tests for SQL.\n&gt;\n&gt; I would really like to have a tool that helped me test my SQL code and setup\n&gt; testcases as easily as the JUnit testcase for Java. I can&#39;t use a sql only\n&gt; test tool: I don&#39;t want to test the SQL outside the java code and then have\n&gt; the java code use those statements. Why? Because often what I want to test\n&gt; is if the transaction is correctly rolledback in a special case, stuff like\n&gt; that that needs java code and SQL. But really 10 lines of code and 3 lines\n&gt; of sql, so it is a &quot;unit&quot; difficult to break down further without loosing a\n&gt; lot of test cases. And what about testing failure of a DB connection at a\n&gt; critical point? Mock objects seem to be usefull for this. Really, there is a\n&gt; need for somebody to build a tool or documentatin explaining the best way to\n&gt; do all of this.\n&gt;\n&gt; I&#39;ve already tought about solutions for DB-interacting code testing  (see\n&gt; posts in archive) but all my ideas are going into direction where the\n&gt; infrastructure needed is heavy and difficult to maintain. Any brillant tool\n&gt; or ideas out there for all of this?\n&gt;\n&gt; mathieu\n&gt;\n&gt;\n&gt; PS: The original poster should also look at MockObjects to mock the results\n&gt; of the DB. They might help depending on what you want to do. But then you\n&gt; aren&#39;t testing the SQL since you are mocking the execution engine.\n&gt;\n&gt; ----- Original Message -----\n&gt; From: Nilesh Thali\n&gt; To: junit@yahoogroups.com\n&gt; Sent: Monday, February 11, 2002 5:01 PM\n&gt; Subject: Re: [junit] Database Select query checks!! newbie\n&gt;\n&gt;\n&gt; &gt; (2) Your tests are simple: populate the database with data, write News\n&gt; beans\n&gt; &gt; that represent that data, assert that getAllNews() answers the same Set\n&gt; (or\n&gt; &gt; List, if you care about order within the collection) of News beans. Do\n&gt; this\n&gt; &gt; with as many different datasets as you need to be confident that your\n&gt; method\n&gt; &gt; works.\n&gt;\n&gt;     only problem with testing queries like this is that your test will be\n&gt; time and\n&gt;     database dependent, because data (in this case the number of news beans)\n&gt;     may change over time, and you will see the red bar even though your\n&gt; method\n&gt;     works fine.\n&gt;     There is a line of thought that all you need to do is make sure your SQL\n&gt;     is valid. beyond that you&#39;re testing your database, not your method...\n&gt;\n&gt; regards,\n&gt; Nilesh\n&gt;\n&gt;\n&gt; Yahoo! Groups Sponsor\n&gt; ADVERTISEMENT\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n-- \nEric Vought\nChief Technical Officer - QLUE Consulting, Inc.\n\nevought@... toll-free: 888-771-3538  RTP area: 919-816-9901\n\n\n", 
    "profile": "eric_vought", 
    "topicId": 4008, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 77258944, 
    "prevInTime": 4214, 
    "contentTrasformed": false, 
    "postDate": "1014824980", 
    "canDelete": false, 
    "nextInTopic": 4216, 
    "prevInTopic": 4030, 
    "headers": {
        "inReplyToHeader": "PE9FNjJjcndQQmhmZ000ZkdJQzcwMDAwMzVmY0Bob3RtYWlsLmNvbT4=", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMzMuMDIwMjI3MTA0NTM0MC4yNzg0LTEwMDAwMEBraWxpLnFsdWUtbGFuPg=="
    }
}