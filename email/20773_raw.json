{
    "numMessagesInTopic": 12, 
    "nextInTime": 20774, 
    "senderId": "bsZ4nTDP-ATkxHmC5in8An1m5nhGr7Yv9qKpnihKtHzzJvTzRRUbfQaJo1wv0Eyzb_3CYptqRQ3074OrArokYgz7EbN9KyY", 
    "systemMessage": true, 
    "subject": "Re: [junit] Anyone help me to figure out the java.lang.StackOverflowError problem?", 
    "from": "Fuguo Wei &lt;tawqir_wei@...&gt;", 
    "authorName": "Fuguo Wei", 
    "msgSnippet": "Dear David staff, I am sure I tried the man funtion debugger. No problem for that. This situation only happens when I use JUnit.   wish you are lucky   WEI", 
    "msgId": 20773, 
    "rawEmail": "Return-Path: &lt;tawqir_wei@...&gt;\r\nReceived: (qmail 24848 invoked from network); 7 Aug 2008 11:38:25 -0000\r\nReceived: from unknown (66.218.67.96)\n  by m54.grp.scd.yahoo.com with QMQP; 7 Aug 2008 11:38:25 -0000\r\nReceived: from unknown (HELO n42a.bullet.mail.sp1.yahoo.com) (66.163.168.136)\n  by mta17.grp.scd.yahoo.com with SMTP; 7 Aug 2008 11:38:25 -0000\r\nReceived: from [216.252.122.219] by n42.bullet.mail.sp1.yahoo.com with NNFMP; 07 Aug 2008 11:38:25 -0000\r\nReceived: from [66.218.69.5] by t4.bullet.sp1.yahoo.com with NNFMP; 07 Aug 2008 11:38:25 -0000\r\nReceived: from [66.218.66.91] by t5.bullet.scd.yahoo.com with NNFMP; 07 Aug 2008 11:38:25 -0000\r\nX-Sender: tawqir_wei@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 48636 invoked from network); 7 Aug 2008 09:23:44 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m51.grp.scd.yahoo.com with QMQP; 7 Aug 2008 09:23:44 -0000\r\nX-Received: from unknown (HELO n63.bullet.mail.sp1.yahoo.com) (98.136.44.33)\n  by mta16.grp.scd.yahoo.com with SMTP; 7 Aug 2008 09:23:44 -0000\r\nX-Received: from [216.252.122.217] by n63.bullet.mail.sp1.yahoo.com with NNFMP; 07 Aug 2008 09:23:44 -0000\r\nX-Received: from [69.147.65.162] by t2.bullet.sp1.yahoo.com with NNFMP; 07 Aug 2008 09:23:44 -0000\r\nX-Received: from [127.0.0.1] by omp407.mail.sp1.yahoo.com with NNFMP; 07 Aug 2008 09:23:44 -0000\r\nX-Yahoo-Newman-Property: groups-system\r\nX-Yahoo-Newman-Id: 359595.1858.bm@...\r\nX-Received: (qmail 93587 invoked by uid 60001); 7 Aug 2008 09:23:44 -0000\r\nX-Received: from [202.185.109.240] by web44808.mail.sp1.yahoo.com via HTTP; Thu, 07 Aug 2008 02:23:41 PDT\r\nX-Mailer: YahooMailWebService/0.7.218.2\r\nDate: Thu, 7 Aug 2008 02:23:41 -0700 (PDT)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;4f7da6b90808060322h167d184eu87dd33a838894f10@...&gt;\r\nMIME-Version: 1.0\r\nMessage-ID: &lt;239346.92918.qm@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Fuguo Wei &lt;tawqir_wei@...&gt;\r\nReply-To: tawqir_wei@...\r\nSubject: Re: [junit] Anyone help me to figure out the java.lang.StackOverflowError problem?\r\nX-Yahoo-Group-Post: member; u=322916593; y=BpzkWsOkJHAenVOY61w-0-HDsKDAL6_SngevV2FWSbThkj5cdg\r\nX-Yahoo-Profile: tawqir_wei\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 07 Aug 2008 11:38:23 -0000\r\n\r\n\nDear David staff,\nI am sure I tried the man funtion debugger. No problem f=\r\nor that. This situation only happens when I use JUnit.\n=A0\nwish you are luc=\r\nky\n=A0\nWEI FUGUO\n\n--- On Wed, 8/6/08, David Saff &lt;david@...&gt; wrote:\n\nF=\r\nrom: David Saff &lt;david@...&gt;\nSubject: Re: [junit] Anyone help me to fig=\r\nure out the java.lang.StackOverflowError problem?\nTo: junit@yahoogroups.com=\r\n\nDate: Wednesday, August 6, 2008, 5:22 AM\n\n\n\n\n\n\nFuguo,\n\nI&#39;m sorry this has =\r\nbeen bugging you. It&#39;s difficult to understand how\nJUnit could be encounter=\r\ning a recursion loop that wasn&#39;t there in your\nproduction code. Have you tr=\r\nied writing a main() method that runs the\nsame test, but has no dependencie=\r\ns on JUnit? If it also fails with a\nStackOverflowError, then you can rest a=\r\nssured that JUnit is not the\nproblem.\n\nDavid Saff\n\nOn Tue, Aug 5, 2008 at 6=\r\n:29 AM, Fuguo Wei &lt;tawqir_wei@yahoo. com&gt; wrote:\n&gt;\n&gt;\n&gt; Dear all, I am so up=\r\nset about the problem I encountered. Wish any one could\n&gt; help me. Thank he=\r\nre first. It&#39;s the StackOverflowError problem. I thought\n&gt; It&#39;s because the=\r\n recursive program I did. Any way ,I don&#39;t know how to solve\n&gt; this problem=\r\n.\n&gt; Maybe I used it wrong. I was wandering where I am wrong for a few days.=\r\n I am\n&gt; confused. Kindly hope you could help me. here is the code.(in the a=\r\nttachment\n&gt; also) if you can not get it, you could check the group file fol=\r\nder as well.\n&gt; I uploaded them to there. By the way, I tried the debug my s=\r\nource code with\n&gt; Eclipse debugger. There is no problem.\n&gt;\n&gt;\n&gt; Best regards=\r\n\n&gt;\n&gt; WEI FUGUO\n&gt;\n&gt;\n&gt; (1) the test case is like this\n&gt;\n&gt; public void testCre=\r\nateTableClus ter() {\n&gt; mapper2.createTable Cluster() ;\n&gt; assertNotNull( map=\r\nper.getClassM ap().getTableClu ster());\n&gt; }\n&gt;\n&gt; (2) the createTableCluster(=\r\n ) source code is like this\n&gt;\n&gt; public void createTableCluster( ) {\n&gt; table=\r\nCluster. createMasterTabl e(tableName, classmap);\n&gt; }\n&gt;\n&gt; (3) the createMas=\r\nterTable( ) source code is like this\n&gt;\n&gt; public MasterTableMap createMaster=\r\nTable( String aTablename, ClassMap\n&gt; aClassmap)\n&gt; {\n&gt; return (MasterTableMa=\r\np) createTable( aTablename, aClassmap, &#39;masterTable&#39; );\n&gt; }\n&gt;\n&gt; (4) createT=\r\nable( ) source code\n&gt;\n&gt; public TableMap createTable( String aTablename, Cla=\r\nssMap aClassmap, String\n&gt; aTabletype)\n&gt; {\n&gt; pf.ColumnMap colummap=3Dnull;\n&gt;=\r\n TableMap result =3Dnull;\n&gt; if (aTabletype. equals(&#39;masterTa ble&#39;))\n&gt; {\n&gt; r=\r\nesult=3D new MasterTableMap( aTablename) ;\n&gt; this.set_masterTabl eMap(resul=\r\nt) ;\n&gt; }\n&gt; else if (aTabletype. equals(&#39;independ entTable&#39; ))\n&gt; result=3D n=\r\new IndependentTableMap (aTablename) ;\n&gt; else if (aTabletype. equals(&#39;depend=\r\nen tTable&#39;))\n&gt; result=3D new DependentTableMap( aTablename) ;\n&gt; setCurrentT=\r\nableMap( result);\n&gt; aClassmap.setMaster Table(result) ;\n&gt;\n&gt; java.util.List =\r\ntempList =3DaClassmap.getColum nMaps();\n&gt;\n&gt; Iterator tmpIter =3D tempList.i=\r\nterator( );\n&gt; while (tmpIter.hasNext( ))\n&gt; {\n&gt; colummap =3D (pf.ColumnMap) =\r\ntmpIter.next( );\n&gt; colummap.getAttribu teMapper( ).createTableSql Process(t=\r\nhis, colummap,\n&gt; aClassmap);\n&gt; }\n&gt; addTableMaps( result);\n&gt; return result;\n=\r\n&gt; }\n&gt; (5) one of createTableSqlProce ss() is like this. [many classes which=\r\n\n&gt; inherit from the same parent have createTableSqlProce ss]\n&gt;\n&gt; public voi=\r\nd createTableSqlProce ss(TableCluster aTablecluster, pf.ColumnMap\n&gt; aColumn=\r\nmap, pf.ClassMap aMasterClass) {\n&gt; ArrayColumnMap arrayColumnmap =3D (Array=\r\nColumnMap) aColumnmap;\n&gt; ClassMap classmap=3Dnull;\n&gt; pf.PersistenceClass pe=\r\nrsisClass=3D null;\n&gt; String tableName =3Dnull;\n&gt; configfiend. RelationshipI=\r\ntem relation=3Dnull;\n&gt; DependentTableMap depentable=3Dnull;\n&gt;\n&gt; String elem=\r\nentCategory=3D arrayColumnmap. getElementCatego ry();\n&gt; if (elementCategory=\r\n. equals(&#39;Complex&#39; ))\n&gt; {\n&gt; classmap =3DarrayColumnmap. getClassMap( );\n&gt; i=\r\nf (classmap=3D=3Dnull)\n&gt; {\n&gt; logger.debug( &#39;The array attribute &#39;+arrayColu=\r\nmnmap. getColumnName( )+&#39;&#39;s\n&gt; related class was not there, the system will =\r\nload it at once!&#39;);\n&gt; persisClass=3D PersistentClassM anager.loadPersi sten=\r\nceClass( arrayColumnmap.\n&gt; getFieldType( ));\n&gt; if (persisClass! =3Dnull)\n&gt; =\r\n{\n&gt; classmap=3DpersisClas s.getMapper( ).getClassMap( );\n&gt; }\n&gt; else\n&gt; {\n&gt; l=\r\nogger.debug( &#39;couldn&#39;t get the persistence class from peristence class\n&gt; li=\r\nb.. the process will be terminated&#39;) ;\n&gt; return;\n&gt; }\n&gt; }\n&gt; tableName=3Dclas=\r\nsmap. getTableName( );\n&gt; relation=3DarrayColum nmap.getRelation ship();\n&gt; i=\r\nf (arrayColumnmap. isReflectRelatio n())\n&gt; {\n&gt; if (relation!=3Dnull)\n&gt; {\n&gt; =\r\nif ((relation.getRelat ionshipType( ).equals( &#39;Composition&#39; ))||(relation..=\r\n\n&gt; getRelationshipT ype().equals( &#39;Strong Aggregation&#39; )))\n&gt; {\n&gt; depentable=\r\n=3DaTablecl uster.createDepe ndentTable( tableName, classmap);\n&gt; depentable=\r\n.setRefer enceTable( aMasterClass. getMasterTable( ));\n&gt; }\n&gt; else\n&gt; aTablec=\r\nluster. createIndependen tTable(tableName , classmap);\n&gt; }\n&gt; }\n&gt; else\n&gt; aTa=\r\nblecluster. createIndependen tTable(tableName , classmap);\n&gt; }\n&gt; else\n&gt; {\n&gt;=\r\n String fieldname=3DarrayColu mnmap.getFieldNa me();\n&gt; String fieldtype=3Da=\r\nrrayColu mnmap.getFieldTy pe();\n&gt; TableField tablefield=3Dnew TableField(fi=\r\neldnam e,fieldtype, aMasterClass..\n&gt; getDomainClass( ));\n&gt; aTablecluster. g=\r\netCurrentTableM ap().addField( tablefield) ;\n&gt;\n&gt; String tempstr =3DaMasterC=\r\nlass. getDomainClass( ).getName( ).substring(\n&gt; aMasterClass. getDomainClas=\r\ns( ).getName( ).lastIndexOf( &#39;.&#39;)+1)+&#39; oid&#39;;\n&gt; if (fieldname.toUpperC ase()=\r\n.indexOf( tempstr.toUpperC ase())!=3D- 1)\n&gt; aTablecluster. getCurrentTableM=\r\n ap().setPrimaryK ey(tablefield) ;\n&gt; }\n&gt; }\n&gt;\n&gt; as you can see the createTab=\r\nle method is invoked recursively in\n&gt; createTableSqlProce ss() [the bold st=\r\natement]\n&gt;\n&gt; the sourse code of createDependentTabl e() likes this\n&gt;\n&gt; publ=\r\nic DependentTableMap createDependentTabl e(String aTablename, ClassMap\n&gt; aC=\r\nlassmap) {\n&gt; return (DependentTableMap) createTable( aTablename, aClassmap,=\r\n\n&gt; &#39;dependentTable&#39; );\n&gt; }\n&gt;\n&gt; the sourse code of createIndependentTa ble()=\r\n likes this\n&gt;\n&gt; public IndependentTableMap createIndependentTa ble(String a=\r\nTablename,\n&gt; ClassMap aClassmap) {\n&gt; return (IndependentTableMa p)createTab=\r\nle( aTablename, aClassmap,\n&gt; &#39;independentTabl e&#39;);\n&gt; }\n&gt;\n&gt; the two methods =\r\nare like the createMasterTable( ) at the beginning of the\n&gt; source code I l=\r\nisted here.\n&gt;\n&gt; the createTable( ) is invoked recursively, as you can see. =\r\nI guess that&#39;s\n&gt; the point why JUnit wrong.\n&gt;\n&gt; the Junit errow message scr=\r\neen was captured in the attachement.\n&gt;\n&gt; ----------\n&gt;\n&gt; (1) the test case i=\r\ns like this\n&gt;\n&gt; public void testCreateTableClus ter() {\n&gt; mapper2.createTab=\r\nle Cluster() ;\n&gt; assertNotNull( mapper.getClassM ap().getTableClu ster());\n=\r\n&gt; }\n&gt;\n&gt; (2) the createTableCluster( ) source code is like this\n&gt;\n&gt; public v=\r\noid createTableCluster( ) {\n&gt; tableCluster. createMasterTabl e(tableName, c=\r\nlassmap);\n&gt; }\n&gt;\n&gt; (3) the createMasterTable( ) source code is like this\n&gt;\n&gt;=\r\n public MasterTableMap createMasterTable( String aTablename, ClassMap\n&gt; aCl=\r\nassmap)\n&gt; {\n&gt; return (MasterTableMap) createTable( aTablename, aClassmap, &#39;=\r\nmasterTable&#39; );\n&gt; }\n&gt;\n&gt; (4) createTable( ) source code\n&gt;\n&gt; public TableMap =\r\ncreateTable( String aTablename, ClassMap aClassmap, String\n&gt; aTabletype)\n&gt; =\r\n{\n&gt; pf.ColumnMap colummap=3Dnull;\n&gt; TableMap result =3Dnull;\n&gt; if (aTablety=\r\npe. equals(&#39;masterTa ble&#39;))\n&gt; {\n&gt; result=3D new MasterTableMap( aTablename)=\r\n ;\n&gt; this.set_masterTabl eMap(result) ;\n&gt; }\n&gt; else if (aTabletype. equals(&#39;=\r\nindepend entTable&#39; ))\n&gt; result=3D new IndependentTableMap (aTablename) ;\n&gt; =\r\nelse if (aTabletype. equals(&#39;dependen tTable&#39;))\n&gt; result=3D new DependentTa=\r\nbleMap( aTablename) ;\n&gt; setCurrentTableMap( result);\n&gt; aClassmap.setMaster =\r\nTable(result) ;\n&gt;\n&gt; java.util.List tempList =3DaClassmap.getColum nMaps();\n=\r\n&gt;\n&gt; Iterator tmpIter =3D tempList.iterator( );\n&gt; while (tmpIter.hasNext( ))=\r\n\n&gt; {\n&gt; colummap =3D (pf.ColumnMap) tmpIter.next( );\n&gt; colummap.getAttribu t=\r\neMapper( ).createTableSql Process(this, colummap,\n&gt; aClassmap);\n&gt; }\n&gt; addTa=\r\nbleMaps( result);\n&gt; return result;\n&gt; }\n&gt; (5) one of createTableSqlProce ss(=\r\n) is like this. [many classes which inherit\n&gt; from the same parent have cre=\r\nateTableSqlProce ss]\n&gt;\n&gt; public void createTableSqlProce ss(TableCluster aT=\r\nablecluster, pf.ColumnMap\n&gt; aColumnmap, pf.ClassMap aMasterClass) {\n&gt; Array=\r\nColumnMap arrayColumnmap =3D (ArrayColumnMap) aColumnmap;\n&gt; ClassMap classm=\r\nap=3Dnull;\n&gt; pf.PersistenceClass persisClass=3D null;\n&gt; String tableName =\r\n=3Dnull;\n&gt; configfiend. RelationshipItem relation=3Dnull;\n&gt; DependentTableM=\r\nap depentable=3Dnull;\n&gt;\n&gt; String elementCategory=3D arrayColumnmap. getElem=\r\nentCatego ry();\n&gt; if (elementCategory. equals(&#39;Complex&#39; ))\n&gt; {\n&gt; classmap =\r\n=3DarrayColumnmap. getClassMap( );\n&gt; if (classmap=3D=3Dnull)\n&gt; {\n&gt; logger.d=\r\nebug( &#39;The array attribute &#39;+arrayColumnmap. getColumnName( )+&#39;&#39;s\n&gt; related=\r\n class was not there, the system will load it at once!&#39;);\n&gt; persisClass=3D =\r\nPersistentClassM anager.loadPersi stenceClass( arrayColumnmap. getFieldType=\r\n( ));\n&gt; if (persisClass! =3Dnull)\n&gt; {\n&gt; classmap=3DpersisClas s.getMapper( =\r\n).getClassMap( );\n&gt; }\n&gt; else\n&gt; {\n&gt; logger.debug( &#39;couldn&#39;t get the persiste=\r\nnce class from peristence class lib.\n&gt; the process will be terminated&#39;) ;\n&gt;=\r\n return;\n&gt; }\n&gt; }\n&gt; tableName=3Dclassmap. getTableName( );\n&gt; relation=3Darra=\r\nyColum nmap.getRelation ship();\n&gt; if (arrayColumnmap. isReflectRelatio n())=\r\n\n&gt; {\n&gt; if (relation!=3Dnull)\n&gt; {\n&gt; if\n&gt; ((relation.getRelat ionshipType( ).=\r\nequals( &#39;Composition&#39; ))||(relation. getRelationshipT ype().equals( &#39;Strong=\r\n\n&gt; Aggregation&#39; )))\n&gt; {\n&gt; depentable=3DaTablecl uster.createDepe ndentTable=\r\n( tableName, classmap);\n&gt; depentable.setRefer enceTable( aMasterClass. getM=\r\nasterTable( ));\n&gt; }\n&gt; else\n&gt; aTablecluster. createIndependen tTable(tableNa=\r\nme , classmap);\n&gt; }\n&gt; }\n&gt; else\n&gt; aTablecluster. createIndependen tTable(tab=\r\nleName , classmap);\n&gt; }\n&gt; else\n&gt; {\n&gt; String fieldname=3DarrayColu mnmap.get=\r\nFieldNa me();\n&gt; String fieldtype=3DarrayColu mnmap.getFieldTy pe();\n&gt; Table=\r\nField tablefield=3Dnew\n&gt; TableField(fieldnam e,fieldtype, aMasterClass. get=\r\nDomainClass( ));\n&gt; aTablecluster. getCurrentTableM ap().addField( tablefiel=\r\nd) ;\n&gt;\n&gt; String tempstr\n&gt; =3DaMasterClass. getDomainClass( ).getName( ).sub=\r\nstring( aMasterClass. getDomainClass( ).getName( ).lastIndexOf( &#39;.&#39;)+1)+&#39; o=\r\nid&#39;;\n&gt; if (fieldname.toUpperC ase().indexOf( tempstr.toUpperC ase())!=3D- 1=\r\n)\n&gt; aTablecluster. getCurrentTableM ap().setPrimaryK ey(tablefield) ;\n&gt; }\n&gt;=\r\n }\n&gt;\n&gt; as you can see the createTable method is invoked recursively in\n&gt; cr=\r\neateTableSqlProce ss() [the bold statement]\n&gt;\n&gt; the sourse code of createDe=\r\npendentTabl e() likes this\n&gt;\n&gt; public DependentTableMap createDependentTabl=\r\n e(String aTablename, ClassMap\n&gt; aClassmap) {\n&gt; return\n&gt; (DependentTableMap=\r\n) createTable( aTablename, aClassmap, &#39;dependentTable&#39; );\n&gt; }\n&gt;\n&gt; the sours=\r\ne code of createIndependentTa ble() likes this\n&gt;\n&gt; public IndependentTableM=\r\nap createIndependentTa ble(String aTablename,\n&gt; ClassMap aClassmap) {\n&gt; ret=\r\nurn\n&gt; (IndependentTableMa p)createTable( aTablename, aClassmap, &#39;independen=\r\ntTabl e&#39;);\n&gt; }\n&gt;\n&gt;\n&gt;\n&gt; the two methods are like the createMasterTable( ) at=\r\n the beginning of the\n&gt; source code I listed here.\n&gt;\n&gt; the createTable( ) i=\r\ns invoked recursively, as you can see. I guess that&#39;s the\n&gt; point why JUnit=\r\n wrong.\n&gt; the Junit errow message screen was captured in the attachement.\n&gt;=\r\n\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt; \n \n\n\n\n\n\n\n\n\n\n\n\n=\r\n\n\n\n      \n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "tawqir_wei", 
    "topicId": 20751, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 322916593, 
    "prevInTime": 20772, 
    "contentTrasformed": false, 
    "postDate": "1218101021", 
    "canDelete": false, 
    "nextInTopic": 20776, 
    "prevInTopic": 20772, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDgwODA2MDMyMmgxNjdkMTg0ZXU4N2RkMzNhODM4ODk0ZjEwQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDIzOTM0Ni45MjkxOC5xbUB3ZWI0NDgwOC5tYWlsLnNwMS55YWhvby5jb20+"
    }
}