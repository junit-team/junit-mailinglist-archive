{
    "topicId": 2817, 
    "postDate": "1002119343", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Eric Vought &lt;evought@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "epKg58juru84OA20g5hHKXN88GWqoeJl3SX1qI8TbUYiT0G6yuRjn7umFVJmlxvUIsbZTrpRamAKpS1bY33Ef1l1o0U6", 
    "nextInTime": 2819, 
    "userId": 0, 
    "prevInTime": 2817, 
    "prevInTopic": 2817, 
    "headers": {
        "inReplyToHeader": "PE9GMTFBNDE1NTAuMDdGQTI3MTMtT05DMTI1NkFEQS4wMDMwRjNBOUBmcmFuY2UuaWJtLmNvbT4=", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMzAuMDExMDAzMTAwNTM1MC44NzQ3LTEwMDAwMEBicmFpbi5xbHVlLWxhbj4="
    }, 
    "authorName": "Eric Vought", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "I don t have any papers, but I can comment on personal experience. I ve found that in my projects, I tend to spend about 1/3 of total refactoring time on test", 
    "contentTrasformed": false, 
    "msgId": 2818, 
    "nextInTopic": 2819, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;evought@...&gt;\r\nX-Sender: evought@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_4_1); 3 Oct 2001 14:37:04 -0000\r\nReceived: (qmail 30911 invoked from network); 3 Oct 2001 14:37:03 -0000\r\nReceived: from unknown (10.1.10.27)\n  by 10.1.1.222 with QMQP; 3 Oct 2001 14:37:03 -0000\r\nReceived: from unknown (HELO ral.qlue.com) (65.201.137.7)\n  by mta2 with SMTP; 3 Oct 2001 14:37:03 -0000\r\nReceived: from brain.qlue-lan (brain.qlue-lan [192.168.1.28])\n\tby ral.qlue.com (Postfix) with ESMTP id 317DF1CE55\n\tfor &lt;junit@yahoogroups.com&gt;; Wed,  3 Oct 2001 10:34:34 -0400 (EDT)\r\nDate: Wed, 3 Oct 2001 10:29:03 -0400 (EDT)\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: Re: [junit] Refactoring and Test codes\r\nIn-Reply-To: &lt;OF11A41550.07FA2713-ONC1256ADA.0030F3A9@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.30.0110031005350.8747-100000@...-lan&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: Eric Vought &lt;evought@...&gt;\r\n\r\nI don&#39;t have any papers, but I can comment on personal experience.\n\nI&#39;ve found that in my projects, I tend to spend about 1/3 of\ntotal refactoring time on test case maintenance. This includes adjusting\nthe testcases for results of refactoring, clean up or minor improvements\nof test code, and adding missing tests to an already populated test suite.\nI probably spend about the same proportion of coding time on writing\ninitial testcases. A good number of the refactorings I perform have\nminimal impact on the testcases, although their are exceptions.\n\nOverall, the kind of refactrorings you want to do on test code should\nfocus on simplicity and readability. You don&#39;t (typically) subclass\ntestcode or use it in other packages, so you don&#39;t refactor for reuse\n(much). Occasionally, I&#39;ll see something that is somewhat complex and\nused a lot that I will bubble it out to our test utility package and write\nunit tests for, but I won&#39;t leave complex, untested utility code\nin a test suite (unless I get lazy, but then I useually pay for it...).\nIt&#39;s really a bummer to spend time debugging your test code.\n\nThe recent discussion on this list about one-time setup of test fixtures\nis probably a good example of design which enables your tests to change\nless. As Kent has pointed out several times, a desire to do one time\ninitialization (in unit testing) rather than per test setup, usually\npoints to a problem in your design. Additionally, the same sorts of design\nchanges in both your code and tests isolates the damage to your testcases\nfrom code changes.\n\nMore concretely, global data is bad for unit tests. Whether that data is\nin a Singleton or a configuration database or complex logging setup,\ndesign based on it makes for fragile test cases. If I pass a global\nconfiguration database to all of my tests, then a change to the design,\nthe structure, or even the contents of that database effects all the\ntestcases. If, instead, I pass just the information that a\nparticular class needs, my testcases are better isolated from change. In\nparticular, the same interface boundaries that allow the use of Mock\nObjects also improve test isolation.\n\nAlso as discussed recently, functional/integration testing is a different\nanimal. In integration testing, you are demonstrating that all the code\nplays well together, and therefore, your testcase setup must be more\ncomplex. If, however, most of your classes are passed directly what they\nneed rather than accessing the large configration database (maybe one\nclass or so per component acts as a bridge to the configuration system),\nyou should see many fewer problems that are specifically integrational and\nyour tests should respond to change about as well as possible.\n\nThis configuration problem is one I am specifically working on some good\npatterns for locally. We have a few projects where interdependencies\nthrough the configuration system are getting out of hand. We are already\nwriting testcases which pass in a custom instantiation of the\nconfiguration Map which only contains the values of interest to the\nparticular test, but we end up seeing problems at integration time which\ncould be avoided by a better design.\n\nOn Wed, 3 Oct 2001, Bruce Vinchon wrote:\n\n&gt; Hi all,\n&gt;\n&gt; i&#39;m seeking some documentation or papers about impacts of extensive code\n&gt; refactoring on testcode design.\n&gt; Are there some tricks you shouldn&#39;t do in your test code to be more\n&gt; flexible ?\n&gt; About your experience, how much time do you spend to refactor your test\n&gt; code versus your code ?\n&gt; What about mock objects strategy when you refactor your code a lot ?\n&gt; Are there invariants in testing design that allow to refactor your code\n&gt; and impact less your test code ?\n&gt;\n&gt; regards,\n&gt;\n&gt; bruce vinchon.\n\n-- \nEric Vought\nChief Technical Officer - QLUE Consulting, Inc.\n\nevought@... toll-free: 888-771-3538  RTP area: 919-816-9901\n\n\n", 
    "subject": "Re: [junit] Refactoring and Test codes"
}