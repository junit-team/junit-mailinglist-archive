{
    "numMessagesInTopic": 12, 
    "nextInTime": 20761, 
    "senderId": "42VyHWHe0ZoXRJ-Il7ReXd0sdbD3QyuBTRCt6WUhXdaitUxSBWLH0zhv6yHOZjgOihJXLa_n8OIucxquc6hifd8Cf-zyioI", 
    "systemMessage": true, 
    "subject": "Anyone help me to figure out the java.lang.StackOverflowError problem?", 
    "from": "Fuguo Wei &lt;tawqir_wei@...&gt;", 
    "authorName": "Fuguo Wei", 
    "msgSnippet": " \nDear all, I am so upset about the problem I encountered. Wish any one could help me. Thank here first. It s the StackOverflowError problem. I thought It s", 
    "msgId": 20760, 
    "rawEmail": "Return-Path: &lt;tawqir_wei@...&gt;\r\nReceived: (qmail 71254 invoked from network); 5 Aug 2008 11:34:18 -0000\r\nReceived: from unknown (66.218.67.95)\n  by m47.grp.scd.yahoo.com with QMQP; 5 Aug 2008 11:34:18 -0000\r\nReceived: from unknown (HELO n16b.bullet.sp1.yahoo.com) (69.147.64.122)\n  by mta16.grp.scd.yahoo.com with SMTP; 5 Aug 2008 11:34:18 -0000\r\nReceived: from [216.252.122.217] by n16.bullet.sp1.yahoo.com with NNFMP; 05 Aug 2008 11:34:16 -0000\r\nReceived: from [66.218.69.6] by t2.bullet.sp1.yahoo.com with NNFMP; 05 Aug 2008 11:34:16 -0000\r\nReceived: from [66.218.66.85] by t6.bullet.scd.yahoo.com with NNFMP; 05 Aug 2008 11:34:16 -0000\r\nX-Sender: tawqir_wei@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 74046 invoked from network); 5 Aug 2008 10:29:44 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m51.grp.scd.yahoo.com with QMQP; 5 Aug 2008 10:29:44 -0000\r\nX-Received: from unknown (HELO n67.bullet.mail.sp1.yahoo.com) (98.136.44.47)\n  by mta18.grp.scd.yahoo.com with SMTP; 5 Aug 2008 10:29:44 -0000\r\nX-Received: from [216.252.122.218] by n67.bullet.mail.sp1.yahoo.com with NNFMP; 05 Aug 2008 10:29:44 -0000\r\nX-Received: from [69.147.65.172] by t3.bullet.sp1.yahoo.com with NNFMP; 05 Aug 2008 10:29:44 -0000\r\nX-Received: from [127.0.0.1] by omp507.mail.sp1.yahoo.com with NNFMP; 05 Aug 2008 10:29:44 -0000\r\nX-Yahoo-Newman-Property: groups-system\r\nX-Yahoo-Newman-Id: 459138.84472.bm@...\r\nX-Received: (qmail 46907 invoked by uid 60001); 5 Aug 2008 10:29:44 -0000\r\nX-Received: from [202.185.109.240] by web44813.mail.sp1.yahoo.com via HTTP; Tue, 05 Aug 2008 03:29:43 PDT\r\nX-Mailer: YahooMailWebService/0.7.218\r\nDate: Tue, 5 Aug 2008 03:29:43 -0700 (PDT)\r\nTo: junit@yahoogroups.com\r\nMIME-Version: 1.0\r\nMessage-ID: &lt;255770.45518.qm@...&gt;\r\nX-eGroups-Msg-Info: 1:5:0:0:0\r\nFrom: Fuguo Wei &lt;tawqir_wei@...&gt;\r\nReply-To: tawqir_wei@...\r\nSubject: Anyone help me to figure out the java.lang.StackOverflowError problem?\r\nX-Yahoo-Group-Post: member; u=322916593; y=H5vfFyXmg7jd_hrbbr77cFdNy2N6WqlI4MZWmn7NvrN9Vl89dg\r\nX-Yahoo-Profile: tawqir_wei\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 05 Aug 2008 11:34:12 -0000\r\n\r\n\n=A0\nDear all, I am so upset about the problem I encountered.=A0Wish any on=\r\ne could help me.=A0Thank here first. It&#39;s the StackOverflowError problem. I=\r\n thought It&#39;s because the recursive program I did. Any way ,I don&#39;t know ho=\r\nw to solve this problem.\nMaybe I used it wrong. I was wandering where I am =\r\nwrong for a few days. I am confused. Kindly hope you could help me. here is=\r\n the code.(in the attachment also) if you can not get it, you could check t=\r\nhe group file folder as well. I uploaded them to there. By the way, I tried=\r\n the debug my source code with Eclipse debugger. There is no problem. \n=A0\n=\r\n=A0\nBest regards\n=A0\nWEI FUGUO\n\n=A0\n(1) the test case is like this\n\npublic =\r\nvoid testCreateTableClus ter() {\nmapper2.createTable Cluster() ;\nassertNotN=\r\null( mapper.getClassM ap().getTableClu ster());\n}\n\n(2) the createTableClust=\r\ner( ) source code is like this\n\npublic void createTableCluster( ) {\ntableCl=\r\nuster. createMasterTabl e(tableName, classmap);\n}\n\n(3) the createMasterTabl=\r\ne( ) source code is like this\n\npublic MasterTableMap createMasterTable( Str=\r\ning aTablename, ClassMap aClassmap) \n{\nreturn (MasterTableMap) createTable(=\r\n aTablename, aClassmap, &#39;masterTable&#39; );\n}\n\n(4) createTable( ) source code\n=\r\n\npublic TableMap createTable( String aTablename, ClassMap aClassmap, String=\r\n aTabletype) \n{\npf.ColumnMap colummap=3Dnull;\nTableMap result =3Dnull; \nif =\r\n(aTabletype. equals(&#39;masterTa ble&#39;))\n{\nresult=3D new MasterTableMap( aTable=\r\nname) ;\nthis.set_masterTabl eMap(result) ;\n}\nelse if (aTabletype. equals(&#39;i=\r\nndepend entTable&#39; ))\nresult=3D new IndependentTableMap (aTablename) ;\nelse =\r\nif (aTabletype. equals(&#39;dependen tTable&#39;))\nresult=3D new DependentTableMap(=\r\n aTablename) ;\nsetCurrentTableMap( result);\naClassmap.setMaster Table(resul=\r\nt) ; \n\njava.util.List tempList =3DaClassmap.getColum nMaps();\n\nIterator tmp=\r\nIter =3D tempList.iterator( );\nwhile (tmpIter.hasNext( )) \n{\ncolummap =3D (=\r\npf.ColumnMap) tmpIter.next( );\ncolummap.getAttribu teMapper( ).createTableS=\r\nql Process(this, colummap, aClassmap);\n}\naddTableMaps( result);\nreturn resu=\r\nlt;\n}\n(5) one of createTableSqlProce ss() is like this. [many classes which=\r\n inherit from the same parent have createTableSqlProce ss]\n\npublic void cre=\r\nateTableSqlProce ss(TableCluster aTablecluster, pf.ColumnMap aColumnmap, pf=\r\n.ClassMap aMasterClass) {\nArrayColumnMap arrayColumnmap =3D (ArrayColumnMap=\r\n) aColumnmap;\nClassMap classmap=3Dnull;\npf.PersistenceClass persisClass=3D =\r\nnull;\nString tableName =3Dnull;\nconfigfiend. RelationshipItem relation=3Dnu=\r\nll;\nDependentTableMap depentable=3Dnull; \n\nString elementCategory=3D arrayC=\r\nolumnmap. getElementCatego ry();\nif (elementCategory. equals(&#39;Complex&#39; ))\n{=\r\n\nclassmap =3DarrayColumnmap. getClassMap( );\nif (classmap=3D=3Dnull)\n{\nlogg=\r\ner.debug( &#39;The array attribute &#39;+arrayColumnmap. getColumnName( )+&#39;&#39;s relat=\r\ned class was not there, the system will load it at once!&#39;);\npersisClass=3D =\r\nPersistentClassM anager.loadPersi stenceClass( arrayColumnmap. getFieldType=\r\n( ));\nif (persisClass! =3Dnull)\n{\nclassmap=3DpersisClas s.getMapper( ).getC=\r\nlassMap( );\n}\nelse\n{\nlogger.debug( &#39;couldn&#39;t get the persistence class from=\r\n peristence class lib.. the process will be terminated&#39;) ;\nreturn;\n} \n}\ntab=\r\nleName=3Dclassmap. getTableName( );\nrelation=3DarrayColum nmap.getRelation =\r\nship();\nif (arrayColumnmap. isReflectRelatio n())\n{\nif (relation!=3Dnull)\n{=\r\n\nif ((relation.getRelat ionshipType( ).equals( &#39;Composition&#39; ))||(relation.=\r\n getRelationshipT ype().equals( &#39;Strong Aggregation&#39; )))\n{\ndepentable=3DaTa=\r\nblecl uster.createDepe ndentTable( tableName, classmap);\ndepentable.setRefe=\r\nr enceTable( aMasterClass. getMasterTable( ));\n}\nelse\naTablecluster. create=\r\nIndependen tTable(tableName , classmap);\n}\n}\nelse\naTablecluster. createInde=\r\npenden tTable(tableName , classmap);\n}\nelse\n{\nString fieldname=3DarrayColu =\r\nmnmap.getFieldNa me();\nString fieldtype=3DarrayColu mnmap.getFieldTy pe();\n=\r\nTableField tablefield=3Dnew TableField(fieldnam e,fieldtype, aMasterClass. =\r\ngetDomainClass( ));\naTablecluster. getCurrentTableM ap().addField( tablefie=\r\nld) ;\n\nString tempstr =3DaMasterClass. getDomainClass( ).getName( ).substri=\r\nng( aMasterClass. getDomainClass( ).getName( ).lastIndexOf( &#39;.&#39;)+1)+&#39; oid&#39;;=\r\n\nif (fieldname.toUpperC ase().indexOf( tempstr.toUpperC ase())!=3D- 1)\naTab=\r\nlecluster. getCurrentTableM ap().setPrimaryK ey(tablefield) ;\n}\n}\n\nas you c=\r\nan see the createTable method is invoked recursively in createTableSqlProce=\r\n ss() [the bold statement]\n\nthe sourse code of createDependentTabl e() like=\r\ns this\n\npublic DependentTableMap createDependentTabl e(String aTablename, C=\r\nlassMap aClassmap) {\nreturn (DependentTableMap) createTable( aTablename, aC=\r\nlassmap, &#39;dependentTable&#39; );\n}\n\nthe sourse code of createIndependentTa ble(=\r\n) likes this\n\npublic IndependentTableMap createIndependentTa ble(String aTa=\r\nblename, ClassMap aClassmap) {\nreturn (IndependentTableMa p)createTable( aT=\r\nablename, aClassmap, &#39;independentTabl e&#39;);\n}\n\nthe two methods are like the =\r\ncreateMasterTable( ) at the beginning of the source code I listed here.\n\nth=\r\ne createTable( ) is invoked recursively, as you can see. I guess that&#39;s the=\r\n point why JUnit wrong.\n\nthe Junit errow message screen was captured in the=\r\n attachement.\n\n\n\n      \n  ----------\n\n(1) the test case is like this\r\n=20\r\n public void testCreateTableCluster() {\r\n  mapper2.createTableCluster();\r\n  assertNotNull(mapper.getClassMap().getTableCluster());\r\n }\r\n\r\n(2) the createTableCluster() source code is like this\r\n\r\n public void createTableCluster() {\r\n  tableCluster.createMasterTable(tableName, classmap);\r\n }\r\n=20\r\n(3) the createMasterTable() source code is like this\r\n\r\n public MasterTableMap createMasterTable(String aTablename, ClassMap aClas=\r\nsmap)=20\r\n {\r\n  return (MasterTableMap)createTable(aTablename,aClassmap,&#39;masterTable&#39;);\r\n }\r\n\r\n(4) createTable() source code\r\n=20\r\n public TableMap createTable(String aTablename, ClassMap aClassmap, String=\r\n aTabletype)=20\r\n {\r\n  pf.ColumnMap colummap=3Dnull;\r\n  TableMap result =3Dnull;=20\r\n  if (aTabletype.equals(&#39;masterTable&#39;))\r\n  {\r\n   result=3D new MasterTableMap(aTablename);\r\n   this.set_masterTableMap(result);\r\n  }\r\n  else if (aTabletype.equals(&#39;independentTable&#39;))\r\n   result=3D new IndependentTableMap(aTablename);\r\n  else if (aTabletype.equals(&#39;dependentTable&#39;))\r\n   result=3D new DependentTableMap(aTablename);\r\n  setCurrentTableMap(result);\r\n  aClassmap.setMasterTable(result);=20\r\n =20\r\n  java.util.List tempList =3DaClassmap.getColumnMaps();\r\n =20\r\n  Iterator tmpIter =3D tempList.iterator();\r\n  while (tmpIter.hasNext())=20\r\n  {\r\n   colummap =3D (pf.ColumnMap)tmpIter.next();\r\n   colummap.getAttributeMapper().createTableSqlProcess(this, colummap, aCl=\r\nassmap);\r\n  }\r\n  addTableMaps(result);\r\n  return result;\r\n }\r\n(5) one of createTableSqlProcess() is like this. [many classes which inher=\r\nit from the same parent have createTableSqlProcess]\r\n=20\r\n public void createTableSqlProcess(TableCluster aTablecluster, pf.ColumnMa=\r\np aColumnmap, pf.ClassMap aMasterClass) {\r\n  ArrayColumnMap arrayColumnmap =3D (ArrayColumnMap)aColumnmap;\r\n  ClassMap classmap=3Dnull;\r\n  pf.PersistenceClass persisClass=3Dnull;\r\n  String tableName =3Dnull;\r\n  configfiend.RelationshipItem relation=3Dnull;\r\n  DependentTableMap depentable=3Dnull;=20\r\n =20\r\n  String elementCategory=3DarrayColumnmap.getElementCategory();\r\n  if (elementCategory.equals(&#39;Complex&#39;))\r\n  {\r\n   classmap =3DarrayColumnmap.getClassMap();\r\n   if (classmap=3D=3Dnull)\r\n   {\r\n    logger.debug(&#39;The array attribute &#39;+arrayColumnmap.getColumnName()+&#39;&#39;s=\r\n related class was not there, the system will load it at once!&#39;);\r\n    persisClass=3DPersistentClassManager.loadPersistenceClass(arrayColumnm=\r\nap.getFieldType());\r\n    if (persisClass!=3Dnull)\r\n    {\r\n     classmap=3DpersisClass.getMapper().getClassMap();\r\n    }\r\n    else\r\n    {\r\n     logger.debug(&#39;couldn&#39;t get the persistence class from peristence clas=\r\ns lib. the process will be terminated&#39;);\r\n     return;\r\n    }=20\r\n   }\r\n   tableName=3Dclassmap.getTableName();\r\n   relation=3DarrayColumnmap.getRelationship();\r\n   if (arrayColumnmap.isReflectRelation())\r\n   {\r\n    if (relation!=3Dnull)\r\n    {\r\n     if ((relation.getRelationshipType().equals(&#39;Composition&#39;))||(relation=\r\n.getRelationshipType().equals(&#39;Strong Aggregation&#39;)))\r\n     {\r\n      depentable=3DaTablecluster.createDependentTable(tableName, classmap)=\r\n;\r\n      depentable.setReferenceTable(aMasterClass.getMasterTable());\r\n     }\r\n     else\r\n      aTablecluster.createIndependentTable(tableName, classmap);\r\n    }\r\n   }\r\n   else\r\n    aTablecluster.createIndependentTable(tableName, classmap);\r\n  }\r\n  else\r\n  {\r\n   String fieldname=3DarrayColumnmap.getFieldName();\r\n   String fieldtype=3DarrayColumnmap.getFieldType();\r\n   TableField tablefield=3Dnew TableField(fieldname,fieldtype,aMasterClass=\r\n.getDomainClass());\r\n   aTablecluster.getCurrentTableMap().addField(tablefield);\r\n  =20\r\n      String tempstr =3DaMasterClass.getDomainClass().getName().substring(=\r\naMasterClass.getDomainClass().getName().lastIndexOf(&#39;.&#39;)+1)+&#39;oid&#39;;\r\n   if (fieldname.toUpperCase().indexOf(tempstr.toUpperCase())!=3D-1)\r\n    aTablecluster.getCurrentTableMap().setPrimaryKey(tablefield);\r\n  }\r\n }\r\n\r\nas you can see the createTable method is invoked recursively in createTabl=\r\neSqlProcess() [the bold statement]\r\n=20\r\nthe sourse code of createDependentTable() likes this\r\n=20\r\n public DependentTableMap createDependentTable(String aTablename, ClassMap=\r\n aClassmap) {\r\n  return (DependentTableMap)createTable(aTablename,aClassmap,&#39;dependentTab=\r\nle&#39;);\r\n }\r\n\r\nthe sourse code of createIndependentTable() likes this\r\n=20\r\n public IndependentTableMap createIndependentTable(String aTablename, Clas=\r\nsMap aClassmap) {\r\n  return (IndependentTableMap)createTable(aTablename,aClassmap,&#39;independen=\r\ntTable&#39;);\r\n }\r\n\r\n\r\n\r\nthe two methods are like the createMasterTable() at the beginning of the s=\r\nource code I listed here.\r\n=20\r\nthe createTable() is invoked recursively, as you can see. I guess that&#39;s t=\r\nhe point why JUnit wrong.\r\nthe Junit errow message screen was captured in the attachement.\r\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "tawqir_wei", 
    "topicId": 20751, 
    "spamInfo": {
        "reason": "5", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 322916593, 
    "prevInTime": 20759, 
    "contentTrasformed": false, 
    "postDate": "1217932183", 
    "canDelete": false, 
    "nextInTopic": 20761, 
    "prevInTopic": 20754, 
    "headers": {
        "messageIdInHeader": "PDI1NTc3MC40NTUxOC5xbUB3ZWI0NDgxMy5tYWlsLnNwMS55YWhvby5jb20+"
    }
}