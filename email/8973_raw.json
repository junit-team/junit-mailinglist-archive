{
    "numMessagesInTopic": 106, 
    "nextInTime": 8974, 
    "senderId": "hYYd-9Cp7iSIbTakCAsUIoU_ZmcpmbWtZP085WjpTb9CVq-ZWhu248wAFfG_H7EBcNNVeyCZBvTMeXohVfQnL7B1aGIRGVrBQRcmcImizQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] ClasspathWalker (even better)", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... I assumed that each different classpath variation gave rise to a collection of events, possibly diverse ones. That s why I jumped to the more granular", 
    "msgId": 8973, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 58530 invoked from network); 1 Aug 2003 17:42:28 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m14.grp.scd.yahoo.com with QMQP; 1 Aug 2003 17:42:28 -0000\r\nReceived: from unknown (HELO fep03-mail.bloor.is.net.cable.rogers.com) (66.185.86.73)\n  by mta1.grp.scd.yahoo.com with SMTP; 1 Aug 2003 17:42:28 -0000\r\nReceived: from barney ([24.156.43.226])\n          by fep03-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.12 201-253-122-126-112-20020820) with ESMTP\n          id &lt;20030801174227.XSHF468637.fep03-mail.bloor.is.net.cable.rogers.com@barney&gt;\n          for &lt;junit@yahoogroups.com&gt;; Fri, 1 Aug 2003 13:42:27 -0400\r\nMessage-ID: &lt;200308021342200422.00D6B50D@...&gt;\r\nIn-Reply-To: &lt;3F2A96CC.3070904@...&gt;\r\nReferences: &lt;007e01c357cb$1d56c7f0$2878160a@...&gt;\n &lt;1059742497.2163.85.camel@localhost&gt;\n &lt;200308021121480678.00560C8C@...&gt;\n &lt;3F2A8817.2000006@...&gt;\n &lt;200308021150590456.0070C386@...&gt;\n &lt;200308021206390327.007F1AE5@...&gt;\n &lt;3F2A96CC.3070904@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Sat, 02 Aug 2003 13:42:20 -0400\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] ClasspathWalker (even better)\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep03-mail.bloor.is.net.cable.rogers.com from [24.156.43.226] using ID &lt;jbrains@...&gt; at Fri, 1 Aug 2003 13:42:27 -0400\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\n\n&gt;So said Mike Clark on 2003-08-01 --------------------\n&gt;J. B. Rainsberger =\r\nwrote:\n&gt;&gt; It occurs to me that to test the second behavior does not require=\r\n\n&gt;mocking the classpath. We can have a degenerate event/listener design.\n&gt;&gt;=\r\n \n&gt;&gt; As the ClasspathWalker walks the classpath, it calls a method to signa=\r\nl\n&gt;that it found something on the classpath. (event source)\n&gt;&gt; \n&gt;&gt; This sig=\r\nnal handling method (event listener) then decides which kind of\n&gt;ClasspathE=\r\nvent to create and send to the registered\n&gt;ClasspathEventListeners.\n&gt;&gt; \n&gt;&gt; =\r\nIn this case, you can test the second behavior above without having to\n&gt;act=\r\nually walk the classpath. Much nicer.\n&gt;&gt; \n&gt;&gt; So the basic design is this:\n&gt;=\r\n&gt; \n&gt;&gt; ClasspathWalker\n&gt;&gt;     walkClasspath(classpathRoot):\n&gt;&gt;         // it=\r\nerate over classpath items under the root\n&gt;&gt;         // invoke foundSomethi=\r\nng() with each thing you find\n&gt;&gt; \n&gt;&gt;     ClasspathEvent makeClasspathEvent(=\r\nfoundThing):\n&gt;&gt;         // decide which kind of ClasspathEvent to generate\n=\r\n&gt;&gt;   \n&gt;&gt;     foundSomething(foundThing):\n&gt;&gt;         classpathEvent =3D make=\r\nClasspathEvent(foundThing);\n&gt;&gt;         notifyListeners(classpathEvent);\n&gt;&gt; =\r\n\n&gt;&gt; ClasspathWalkerListener\n&gt;&gt;     onClasspathEvent(classpathEvent)\n&gt;&gt; \n&gt;&gt; =\r\nMy tests would be like this.\n&gt;&gt; \n&gt;&gt; * One TestCase class to verify Classpat=\r\nhWalker.walkClasspath that tries\n&gt;various cases of classpath data; probably=\r\n a parameterized test case --\n&gt;however many special cases there are\n&gt;&gt; \n&gt;&gt; =\r\n* One TestCase class to verify ClasspathWalker.makeClasspathEvent for\n&gt;each=\r\n different kind of thing I&#39;d find on the classpath\n&gt;&gt; \n&gt;&gt; * foundSomething =\r\nis too simple to break\n&gt;&gt; \n&gt;&gt; * Tests for my implementation of ClasspathWal=\r\nkerListener: each test\n&gt;simply sends a ClasspathEvent and verifies the beha=\r\nvior of the listener\n&gt;&gt; \n&gt;\n&gt;I&#39;d probably create a MockClasspathWalkerListen=\r\ner, then write a test \n&gt;case that installs it into the ClassPathWalker, and=\r\n verifies various \n&gt;cases of classpath data.  For each variation, the test =\r\nwould ask the \n&gt;MockClasspathWalkerListener if it really received the event=\r\ns I was \n&gt;expecting for the variation, as in:\n&gt;\n&gt;public void testSomeClassp=\r\nathVariation() {\n&gt;            \n&gt;   ClasspathWalker walker =3D new Classpath=\r\nWalker();\n&gt;   MockClasspathWalkerListener listener =3D\n&gt;       new MockClas=\r\nspathWalkerListener();\n&gt;   walker.addListener(listener);\n&gt;\n&gt;   walker.walkC=\r\nlasspath(someClasspathVariation)\n&gt;            \n&gt;   assertTrue(listener.hear=\r\nd(someExpectedEvent));\n&gt;}\n&gt;\n&gt;Same intent, just a slightly more granular tes=\r\nt.  And if I saw red for \n&gt;more than a couple minutes, I&#39;d start taking sma=\r\nller steps by writing \n&gt;fine-grained tests such as those you mentioned.\n&gt;\n&gt;=\r\nOr maybe somebody already said this while I was heads-down coding...\n\nI ass=\r\numed that each different classpath variation gave rise to a collection of e=\r\nvents, possibly diverse ones. That&#39;s why I jumped to the more granular test=\r\ns. If each classpath variation maps to a single event, then there&#39;d be no n=\r\need to test &quot;when I find this I generate that event&quot; and it collapses to th=\r\ne above.\n\nNo. Nobody already said that. :)\n\nTake care.\n\n\nJ. B. Rainsberger,=\r\n\nPresident, Diaspar Software Services\nLet&#39;s write software that people unde=\r\nrstand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416 791-8603\n\n\n", 
    "profile": "nails762", 
    "topicId": 8807, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 8972, 
    "contentTrasformed": false, 
    "postDate": "1059846140", 
    "canDelete": false, 
    "nextInTopic": 8979, 
    "prevInTopic": 8972, 
    "headers": {
        "inReplyToHeader": "PDNGMkE5NkNDLjMwNzA5MDRAY2xhcmt3YXJlLmNvbT4=", 
        "messageIdInHeader": "PDIwMDMwODAyMTM0MjIwMDQyMi4wMEQ2QjUwREBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDAwN2UwMWMzNTdjYiQxZDU2YzdmMCQyODc4MTYwYUBzeWJhc2UuY29tPiA8MTA1OTc0MjQ5Ny4yMTYzLjg1LmNhbWVsQGxvY2FsaG9zdD4gPDIwMDMwODAyMTEyMTQ4MDY3OC4wMDU2MEM4Q0Bzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4gPDNGMkE4ODE3LjIwMDAwMDZAdGVhbWRla2FkZS5jb20+IDwyMDAzMDgwMjExNTA1OTA0NTYuMDA3MEMzODZAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDwyMDAzMDgwMjEyMDYzOTAzMjcuMDA3RjFBRTVAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDwzRjJBOTZDQy4zMDcwOTA0QGNsYXJrd2FyZS5jb20+"
    }
}