{
    "numMessagesInTopic": 10, 
    "nextInTime": 18211, 
    "senderId": "uOF3-avo0AZFBpF8s-cE2koajlm-vSxyztv5JQEehL83yjKL8RWVAY06RR8GruNWN21sgh-SG8pNtxerJY5jmbSFOsSu66PRI-RHWTzWk904Zx5e7Q", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Behavior of optional string messages for assert      methods?", 
    "from": "&quot;Jeff Nielsen&quot; &lt;jeff.nielsen@...&gt;", 
    "authorName": "Jeff Nielsen", 
    "msgSnippet": "Jason, I don t follow what you re saying.  In the source I have for JUnit 3.8, all of the assertEquals() methods that take primitives end up calling ", 
    "msgId": 18210, 
    "rawEmail": "Return-Path: &lt;jeff.nielsen@...&gt;\r\nX-Sender: jeff.nielsen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 74272 invoked from network); 24 Oct 2006 21:35:40 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m38.grp.scd.yahoo.com with QMQP; 24 Oct 2006 21:35:40 -0000\r\nReceived: from unknown (HELO mail11.simplicato.com) (207.99.47.70)\n  by mta4.grp.scd.yahoo.com with SMTP; 24 Oct 2006 21:35:40 -0000\r\nReceived: from mail11.simplicato.com (localhost.simplicato.com [127.0.0.1])\n\tby mail11.simplicato.com (Postfix) with ESMTP id ED0DAD4814E\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 24 Oct 2006 17:35:32 -0400 (EDT)\r\nReceived: from mail.digitalfocus.com (localhost.simplicato.com [127.0.0.1])\n\tby mail11.simplicato.com (Postfix) with SMTP id CE40FD4814B\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 24 Oct 2006 17:35:32 -0400 (EDT)\r\nReceived: from 208.9.213.10\n        (SquirrelMail authenticated user jeff.nielsen@...)\n        by zzz.mail14.simplicato.com with HTTP;\n        Tue, 24 Oct 2006 21:35:32 -0000 (UTC)\r\nMessage-ID: &lt;50935.208.9.213.10.1161725732.squirrel@...&gt;\r\nIn-Reply-To: &lt;453E5582.4050002@...&gt;\r\nReferences: &lt;ehiuq6+ls50@...&gt; &lt;453D3E72.1070002@...&gt;\n    &lt;453E5582.4050002@...&gt;\r\nDate: Tue, 24 Oct 2006 21:35:32 -0000 (UTC)\r\nTo: junit@yahoogroups.com\r\nUser-Agent: SquirrelMail/1.4.2\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nX-Priority: 3\r\nImportance: Normal\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Jeff Nielsen&quot; &lt;jeff.nielsen@...&gt;\r\nSubject: Re: [junit] Re: Behavior of optional string messages for assert \n     methods?\r\nX-Yahoo-Group-Post: member; u=65487161; y=Z98qiBZsAUzKn_tAfKMlqxq2JHbVlG-j1eB17BLbW2KNBIM7qBE\r\nX-Yahoo-Profile: jeffreymads\r\n\r\nJason, I don&#39;t follow what you&#39;re saying.  In the source I have for JUnit\n3.8, all of the assertEquals() methods that take primitives end up calling\nassertEquals(String message, Object expected, Object actual).  For\nexample, assertEquals(int, int) turns around and calls assertEquals(null,\nnew Integer(expected), new Integer(actual).\n\nThis in turn calls failNotEquals(message, expected, actual), which calls\nfail() with a properly formatted message that /does/ properly handle the\nnull.\n\n\tstatic private void failNotEquals(String message, Object expected, Object\nactual) {\n\t\tfail(format(message, expected, actual));\n\t}\n\n\tstatic String format(String message, Object expected, Object actual) {\n\t\tString formatted= &quot;&quot;;\n\t\tif (message != null)\n\t\t\tformatted= message+&quot; &quot;;\n\t\treturn formatted+&quot;expected:&lt;&quot;+expected+&quot;&gt; but was:&lt;&quot;+actual+&quot;&gt;&quot;;\n\t}\n\n\nI think the case you&#39;re talking about only happens when assertTrue() or\nassertFalse() are called without the optional string parameter.  This was\nthe example the OP gave.  Then you get fail() called with a null message. \nBut this is the only case AFAIK (unless your code directly calls the\nno-arg fail).\n\nJeff Nielsen\nDigital Focus\n\n\n&gt; I agree that it looks idiotic, but the behavior that the OP is seeing is\n&gt; exactly how JUnit 3.8.1 has always worked /for assertions of\n&gt; primitives/. Look at the source of the junit.framework.Assert class. All\n&gt; of the assert*()s that compare primitives ultimately call fail(), with a\n&gt; null message argument if no message was used as the first argument to\n&gt; assert*(). This is the &#39;null&#39; that you see in the test result printout.\n&gt; Is this horrible user feedback? Yes. Note that the assertions for\n&gt; Strings and Objects, instead of calling fail(), throw a\n&gt; ComparisonFailure object. This is an extension of AssertionFailedError\n&gt; that crafts an exception message string that&#39;s a bit more user-friendly\n&gt; (i.e. the infamous &quot;expected &lt;....&gt; but was &lt;...&gt;&quot; message).\n&gt;\n&gt; IIRC, the junit-addons package\n&gt; (http://sourceforge.net/projects/junit-addons) has an alternative Assert\n&gt; class that prints out much nicer exception messages.\n&gt;\n&gt;&gt; I&#39;ve never heard of such behaviour. What version of JUnit are you using?\n&gt;&gt; --\n&gt;&gt; Stephen Smith, MEng (Wales).\n&gt;&gt; http://www.stephen-smith.co.uk/ &lt;http://www.stephen-smith.co.uk/&gt;\n&gt;&gt;\n&gt;&gt; yogamatt1970 wrote:\n&gt;&gt;  &gt; If I leave it like this:\n&gt;&gt;  &gt; assertTrue(spannedString.indexOf(sample)&gt; -1);\n&gt;&gt;  &gt; I see the null message when the assertion fails but if I change it to\n&gt;&gt;  &gt; this:\n&gt;&gt;  &gt; assertTrue(&quot;hello&quot;,spannedString.indexOf(sample)&gt; -1);\n&gt;&gt;  &gt; I see the message hello get printed to stout.\n&gt;&gt;  &gt; This seems to happen with most (if not all) of the Junit assert\n&gt;&gt;  &gt; methods for me.\n&gt;&gt;  &gt;\n&gt;&gt;  &gt;\n&gt;&gt;  &gt; --- In junit@yahoogroups.com &lt;mailto:junit%40yahoogroups.com&gt;,\n&gt;&gt; didoss@... wrote:\n&gt;&gt;  &gt;&gt; What, exactly, does your assert look like your test?\n&gt;&gt;  &gt;&gt;\n&gt;&gt;  &gt;&gt; It sounds like you have used the signature that expects a string and\n&gt;&gt;  &gt; the assertion argument(s), instead of using the one with just the\n&gt;&gt;  &gt; assertion argument(s),...though I&#39;ve never tried it, to see if I get\n&gt;&gt;  &gt; the results you are seeing, and I&#39;ve never seen the results you are\n&gt;&gt;  &gt; seeing to know of another reason why you would get it.\n&gt;&gt;  &gt;&gt; Please paste your assertion, so that we can help you further.\n&gt;&gt;  &gt;&gt;\n&gt;&gt;  &gt;&gt;\n&gt;&gt;  &gt;&gt; thanks,\n&gt;&gt;  &gt;&gt; Dianne\n&gt;&gt;  &gt;&gt;\n&gt;&gt;  &gt;&gt; -------------- Original message --------------\n&gt;&gt;  &gt;&gt; From: &quot;yogamatt1970&quot; &lt;yogamatt1970@...&gt;\n&gt;&gt;  &gt;&gt; OK, apologies in advance if this has been asked before - I searched\n&gt;&gt;  &gt;&gt; around the forum here and could not find an answer to my question:\n&gt;&gt;  &gt;&gt;\n&gt;&gt;  &gt;&gt; I&#39;ve noticed that if I don&#39;t supply the optional string argument to\n&gt;&gt;  &gt;&gt; many (perhaps all) of Junit&#39;s assert methods, I get an error message\n&gt;&gt;  &gt;&gt; that looks like this:\n&gt;&gt;  &gt;&gt; [junit] null\n&gt;&gt;  &gt;&gt; [junit] junit.framework.AssertionFailedError\n&gt;&gt;  &gt;&gt;\n&gt;&gt;  &gt;&gt; I find this to be confusing. However, if I include the optional\n&gt;&gt;  &gt;&gt; string argument, then that message is displayed in the output.\n&gt;&gt;  &gt;&gt; I have a very high opinion of the Junit framework and find it hard\n&gt;&gt; to\n&gt;&gt;  &gt;&gt; believe that the null message is standard behavior. It feels so\n&gt;&gt;  &gt;&gt; clunky, almost as if Junit does not check to see if the optional\n&gt;&gt;  &gt;&gt; argument was passed or not. My guess is that there&#39;s a property\n&gt;&gt;  &gt;&gt; somewhere which allows me disable the null error but I can&#39;t find\n&gt;&gt; it.\n&gt;&gt;  &gt;&gt; My other option is to just add a string argument to all of the\n&gt;&gt;  &gt;&gt; asserts in all of my unit tests (at this point, not that many\n&gt;&gt; although\n&gt;&gt;  &gt;&gt; it would still be a pain and would probably take me at least a few\n&gt;&gt;  &gt; hours).\n&gt;&gt;  &gt;&gt; Any and all help is appreciated.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n", 
    "profile": "jeffreymads", 
    "topicId": 18190, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 65487161, 
    "prevInTime": 18209, 
    "contentTrasformed": false, 
    "postDate": "1161725732", 
    "canDelete": false, 
    "nextInTopic": 18211, 
    "prevInTopic": 18209, 
    "headers": {
        "inReplyToHeader": "PDQ1M0U1NTgyLjQwNTAwMDJAdmVyZGkuaWlzZC5zcmEuY29tPg==", 
        "messageIdInHeader": "PDUwOTM1LjIwOC45LjIxMy4xMC4xMTYxNzI1NzMyLnNxdWlycmVsQHp6ei5tYWlsMTQuc2ltcGxpY2F0by5jb20+", 
        "referencesHeader": "PGVoaXVxNitsczUwQGVHcm91cHMuY29tPiA8NDUzRDNFNzIuMTA3MDAwMkBzdGVwaGVuLXNtaXRoLmNvLnVrPiAgICA8NDUzRTU1ODIuNDA1MDAwMkB2ZXJkaS5paXNkLnNyYS5jb20+"
    }
}