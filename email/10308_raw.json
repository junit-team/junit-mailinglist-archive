{
    "numMessagesInTopic": 6, 
    "nextInTime": 10309, 
    "senderId": "xwIqA3ZL6TyXGX60-792z4nblwSt_d5DwcLw-2RJ60xUCvhJfW7LCeBkK0XF68jV4oBvwaOJT308UA-IRbQnFkDr36OwbOlwQhSYjCP8", 
    "systemMessage": false, 
    "subject": "RE: [junit] testing a MUltithreaded Code", 
    "from": "Jonathan Oddy &lt;j.oddy@...&gt;", 
    "authorName": "Jonathan Oddy", 
    "msgSnippet": "Refactor it, and stick the construction of IntegrityChecker into a factory somewhere.  Have the factory to return a mock IntegrityChecker and check its state", 
    "msgId": 10308, 
    "rawEmail": "Return-Path: &lt;J.Oddy@...&gt;\r\nReceived: (qmail 51976 invoked from network); 27 Jan 2004 16:29:53 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m3.grp.scd.yahoo.com with QMQP; 27 Jan 2004 16:29:53 -0000\r\nReceived: from unknown (HELO n10.grp.scd.yahoo.com) (66.218.66.65)\n  by mta6.grp.scd.yahoo.com with SMTP; 27 Jan 2004 16:29:52 -0000\r\nX-eGroups-Return: J.Oddy@...\r\nReceived: from [66.218.66.120] by n10.grp.scd.yahoo.com with NNFMP; 27 Jan 2004 16:28:03 -0000\r\nX-Sender: J.Oddy@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 35685 invoked from network); 27 Jan 2004 09:59:23 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m16.grp.scd.yahoo.com with QMQP; 27 Jan 2004 09:59:23 -0000\r\nReceived: from unknown (HELO mail57.messagelabs.com) (195.245.230.115)\n  by mta1.grp.scd.yahoo.com with SMTP; 27 Jan 2004 09:59:22 -0000\r\nX-VirusChecked: Checked\r\nX-Env-Sender: J.Oddy@...\r\nX-Msg-Ref: server-7.tower-57.messagelabs.com!1075197496!375445\r\nX-StarScan-Version: 5.1.15; banners=-,-,-\r\nReceived: (qmail 6544 invoked from network); 27 Jan 2004 09:58:16 -0000\r\nReceived: from mailgate.servicepower.com (195.8.178.34)\n  by server-7.tower-57.messagelabs.com with SMTP; 27 Jan 2004 09:58:16 -0000\r\nReceived: from ravel.sbs (ravel.sbs [172.16.2.13])\n\tby mailgate.servicepower.com (8.12.10/8.12.10) with ESMTP id i0R9wGIe004394\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 27 Jan 2004 09:58:16 GMT\r\nReceived: from nt-stoc-0.sbs (nt-stoc-0 [172.16.2.11])\n\tby ravel.sbs (8.11.6/8.11.6) with ESMTP id i0R9wGv22505\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 27 Jan 2004 09:58:16 GMT\r\nReceived: by nt-stoc-0.sbs with Internet Mail Service (5.5.2653.19)\n\tid &lt;YFFKFPHC&gt;; Tue, 27 Jan 2004 09:58:15 -0000\r\nMessage-ID: &lt;E5C79049D461D311B83100062950B54A0127C376@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nDate: Tue, 27 Jan 2004 09:58:14 -0000\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nX-eGroups-Remote-IP: 195.245.230.115\r\nFrom: Jonathan Oddy &lt;j.oddy@...&gt;\r\nSubject: RE: [junit] testing a MUltithreaded Code\r\nX-Yahoo-Group-Post: member; u=124029770\r\nX-Yahoo-Profile: jonathanoddy\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via web; 27 Jan 2004 16:28:03 -0000\r\nX-eGroups-Remote-IP: 66.218.66.65\r\n\r\nRefactor it, and stick the construction of IntegrityChecker into a factory\nsomewhere.  Have the factory to return a mock IntegrityChecker and check its\nstate after calling dispatchCommand.  For example:\n \n/** The class whose behaviour you want to test */\npublic class MyDispatchClass\n{\n  public void dispatchCommand(String args)\n  {\n      IntegrityChecker integrityChecker = getChecker(args[0], args[0]);\n      integrityChecker.start()\n  }\n}\n \n/** Method within some TestCase implementation */\npublic void testWasStarted()\n{\n  class MockChecker extends IntegrityChecker\n  {\n    boolean wasStarted = false;\n    public void start()\n    {\n      wasStarted = true;\n    }\n    void verify()\n    {\n      assertTrue(&quot;Method start should have been called&quot;, wasStarted);\n    }\n  }\n \n  final MockChecker mockChecker = new IntegrityChecker(&quot;1&quot;, &quot;mychecker&quot;);\n  MyDispatchClass mdc = new MyDispatchClass()\n  {\n    protected IntegrityChecker getChecker(String id, String name)\n    {\n      return myChecker;\n    }\n  };\n  mdc.dispatchCommand(&quot;xyz&quot;);\n  mockChecker.verify();\n}\n \nIf you don&#39;t like the idea of extending the class you&#39;re testing then look\nat making the factory external to it, or may be passing the IntegrityChecker\ninstance into your class some how.\n \nAlso if you really want to test whether IntegrityChecker.start does\nsomething useful itself, then write some tests for IntegrityChecker in\nisolation from the fact that its usage is embedded within another class.\n \nHope that helps\n \nJonathan\n\n-----Original Message-----\nFrom: mona_r_ahuja [mailto:mahuja@...]\nSent: 27 January 2004 00:49\nTo: junit@yahoogroups.com\nSubject: [junit] testing a MUltithreaded Code\n\n\nHi,\nI am not very familiar with Junit.I have a question regrading testing \nmultithreaded code\nI have the following method in a class\n\npublic void dispatchCommand(final String[] args) {\n        String integrityCheckerId = args[0];\n        String integrityCheckerName = args[0];\n        \n        IntegrityChecker integrityChecker = new IntegrityChecker\n              (this, integrityCheckerId, integrityCheckerName);\n        \n        integrityChecker.start();\n            \n        }\n\nI need to unit test this method i.e I need to make sure that it has \ninfact started the integrityChecker thread . How do I do this since \nthe the object integrityChecker is local to this method.\nCan anyone suggest something.\nMona\n\n\n\n\nYahoo! Groups Sponsor\t\n\nADVERTISEMENT\n \n&lt;http://rd.yahoo.com/SIG=12ccluqjt/M=267637.4116719.5338353.1261774/D=egroup\nweb/S=1705006905:HM/EXP=1075273960/A=1945638/R=0/*http://www.netflix.com/Def\nault?mqso=60178383&partid=4116719&gt; click here\t\n \n&lt;http://us.adserver.yahoo.com/l?M=267637.4116719.5338353.1261774/D=egroupmai\nl/S=:HM/A=1945638/rand=724913358&gt; \t\n\n\n  _____  \n\nYahoo! Groups Links\n\n\n*\tTo visit your group on the web, go to:\nhttp://groups.yahoo.com/group/junit/ &lt;http://groups.yahoo.com/group/junit/&gt; \n  \n\n*\tTo unsubscribe from this group, send an email to:\njunit-unsubscribe@yahoogroups.com\n&lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt; \n  \n\n*\tYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service\n&lt;http://docs.yahoo.com/info/terms/&gt; . \n\n\n\n\n[Non-text portions of this message have been removed]\n\n\n\n", 
    "profile": "jonathanoddy", 
    "topicId": 10301, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 124029770, 
    "prevInTime": 10307, 
    "contentTrasformed": false, 
    "postDate": "1075197494", 
    "canDelete": false, 
    "nextInTopic": 10319, 
    "prevInTopic": 10306, 
    "headers": {
        "messageIdInHeader": "PEU1Qzc5MDQ5RDQ2MUQzMTFCODMxMDAwNjI5NTBCNTRBMDEyN0MzNzZAbnQtc3RvYy0wLnNicz4="
    }
}