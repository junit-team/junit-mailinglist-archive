{
    "numMessagesInTopic": 12, 
    "nextInTime": 22382, 
    "senderId": "FcdKsrvxSvkVge93JdLNqYM1Zy4237-lWVy7mWt5VllQhPAotkfywGp5St-0Hhd42TKX6wFkGjgc_pEJk1EH31KHrbrkOjeyUG9X80y1uqeHegi6r67S", 
    "systemMessage": false, 
    "subject": "RE: [junit] Theories Usability", 
    "from": "&quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Loritsch, Berin C.", 
    "msgSnippet": "I have JUnit 4.7 which is the most recent available from Maven.  The parameters that caused the failure were not easily detectable from the stack trace. I ve", 
    "msgId": 22381, 
    "rawEmail": "Return-Path: &lt;prvs=1649fa904d=berin.loritsch@...&gt;\r\nX-Sender: prvs=1649fa904d=berin.loritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 25353 invoked from network); 8 Feb 2010 17:41:34 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m13.grp.re1.yahoo.com with QMQP; 8 Feb 2010 17:41:34 -0000\r\nX-Received: from unknown (HELO mnbm01-relay1.mnb.gd-ais.com) (137.100.120.43)\n  by mta2.grp.re1.yahoo.com with SMTP; 8 Feb 2010 17:41:34 -0000\r\nX-Received: from ([160.207.224.15])\n\tby mnbm01-relay1.mnb.gd-ais.com with SMTP  id 5202712.244874325;\n\tMon, 08 Feb 2010 11:40:58 -0600\r\nX-Received: from vaff01-mail01.ad.gd-ais.com ([10.13.13.20]) by mnbm01-fes01.ad.gd-ais.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Mon, 8 Feb 2010 11:40:57 -0600\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Mon, 8 Feb 2010 12:35:44 -0500\r\nMessage-ID: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C770@...-ais.com&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] Theories Usability\r\nThread-Index: Acqo2drH6DhvEnlxSuOoRhqhZw2e3AAC0l/l\r\nReferences: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76B@...-ais.com&gt;&lt;4f7da6b91002071848r3458f8c2ob7cda7cab6523ecc@...&gt;&lt;75F5ED8A5A553646A46E00E6EC854FA30378C76D@...-ais.com&gt; &lt;4f7da6b91002080813v3d97cdccye1f8879e80dbc396@...&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;,\n\t&lt;junit@yahoogroups.com&gt;\r\nReturn-Path: Berin.Loritsch@...\r\nX-OriginalArrivalTime: 08 Feb 2010 17:40:57.0964 (UTC) FILETIME=[DF3AF2C0:01CAA8E5]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;\r\nSubject: RE: [junit] Theories Usability\r\nX-Yahoo-Group-Post: member; u=428096731; y=vBAhyxKo9nOoEg40Tvr59Fl50LVIohQpLL2GEzmuByeqk_Rz\r\nX-Yahoo-Profile: bloritsch\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n\nI have JUnit 4.7 which is the most recent available from Maven.  The param=\r\neters that caused the failure were not easily detectable from the stack tra=\r\nce.\n\nI&#39;ve added a feature request, that would at least allow a theory to be=\r\n declared to be run as discrete.  AKA:\n\n@Theory(runAsDiscrete=3Dtrue)\n\nwhic=\r\nh would generate a new &quot;test&quot; for each combination of parameters.  The name=\r\n of the test would include the parameters (using the toString method on the=\r\n parameters of course).  It may generate 100+ test names, depending on the =\r\nnumber of data points and the combinations, but that works better for me th=\r\nan one name and one failure at a time.\n\n-----Original Message-----\nFrom: ju=\r\nnit@yahoogroups.com on behalf of David Saff\nSent: Mon 2/8/2010 11:13 AM\nTo:=\r\n junit@yahoogroups.com\nSubject: Re: [junit] Theories Usability\n \nBerin,\n\nI =\r\nwouldn&#39;t use Rules, either.\n\nOne failure per method is currently baked into=\r\n the architecture of the\nTheories runner--I&#39;d welcome a feature request for=\r\n the right way to\nmake that better.\n\nIn terms of knowing what failed, the T=\r\nheories runner should show in\nthe stack trace the parameters that triggered=\r\n the failure.  Is that\nnot happening?\n\n   David\n\nOn Mon, Feb 8, 2010 at 9:2=\r\n4 AM, Loritsch, Berin C.\n&lt;berin.loritsch@...&gt; wrote:\n&gt; I haven&#39;t log=\r\nged the feature request, mainly because I might not be using the right tool=\r\n for the job. =A0What I would like to see is what I described.\n&gt;\n&gt; With JUn=\r\nit 3, I adopted the test nomenclature of something on the order of:\n&gt;\n&gt; tes=\r\ntMyMethod_withNullParam1()\n&gt; testMyMethod_withXandYparams()\n&gt;\n&gt; etc.\n&gt;\n&gt; th=\r\nat would let me see within the test report (particularly a continuous integ=\r\nration test report) what exactly failed. =A0If the null parameter failed it=\r\ns check I&#39;d have to fix one thing (boundary checking), but if the XandYpara=\r\nms version failed then I knew something may be wrong with the algorithm.\n&gt;\n=\r\n&gt; With the particular Theory I&#39;ve written I need to know not only the class=\r\n that was tested, but the attribute that did not follow the contracts for u=\r\nsing the base class. =A0With only one failure that can&#39;t happen.\n&gt;\n&gt; I didn=\r\n&#39;t think Rules was the right way to go, because the MethodRule objects were=\r\n applied to the tests within that same class (unless I&#39;m missing something)=\r\n.\n&gt;\n&gt; Theories at least gives me the coverage and assurance I&#39;m after, but =\r\nI&#39;d like to get away from writing to System.out to figure out exactly what =\r\nfailed. =A0I would also like to be able to see all my failures at once inst=\r\nead of only after fixing the last failure.\n&gt;\n&gt;\n&gt; -----Original Message-----=\r\n\n&gt; From: junit@yahoogroups.com on behalf of David Saff\n&gt; Sent: Sun 2/7/2010=\r\n 9:48 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Theories Usabil=\r\nity\n&gt;\n&gt; Berin,\n&gt;\n&gt; I do think that we should eventually have a way to opera=\r\nte at least\n&gt; optionally in the way you describe. =A0Have you logged a feat=\r\nure request\n&gt; yet?\n&gt;\n&gt; =A0 Davi\n&gt;\n&gt; On Fri, Feb 5, 2010 at 3:27 PM, Loritsc=\r\nh, Berin C.\n&gt; &lt;berin.loritsch@...&gt; wrote:\n&gt;&gt; Thanks everyone for hel=\r\nping me work through the testing challenge I wanted to address. =A0I&#39;ve wri=\r\ntten a rudimentary ClassCollector that lets me specify a base package, what=\r\n base classes I need, any annotations I need applied, etc. =A0I supplimente=\r\nd that with a BeanAttributes class that will collect all the attributes (se=\r\ntters/getters) on the class. =A0It&#39;s working very well. =A0Unfortunately, t=\r\nhere are a few shortcomings with this approach:\n&gt;&gt;\n&gt;&gt; 1. I cannot easily de=\r\ntermine what the actual data point combination was that caused the failure.=\r\n =A0I have to write those values out to System.out because the test failure=\r\n does not do that for me.\n&gt;&gt;\n&gt;&gt; 2. It stops on the very first failure, hidi=\r\nng many more failures that may still be lurking beneath the service.\n&gt;&gt;\n&gt;&gt; =\r\n3. The theory is the only line shown in the test report, so there is no way=\r\n to differentiate runs which would handle the above concerns.\n&gt;&gt;\n&gt;&gt; What I =\r\nwould really like to see is that a new test name for each combination of da=\r\nta points. =A0For example if you had a @Theory named &quot;checkAddWorks&quot; that t=\r\nook two parameters and the data points [1,2] then I&#39;d like to see a set of =\r\ntest names that look like this in the test report:\n&gt;&gt;\n&gt;&gt; checkAddWorks(1,1)=\r\n\n&gt;&gt; checkAddWorks(1,2)\n&gt;&gt; checkAddWorks(2,2)\n&gt;&gt;\n&gt;&gt; That will address all of=\r\n the shortcomings I identified.\n&gt;&gt;\n&gt;&gt; My code looks like this:\n&gt;&gt;\n&gt;&gt; @RunWi=\r\nth(Theories.class)\n&gt;&gt; class TestMyTrackableContract {\n&gt;&gt; =A0 =A0@DataPoints=\r\n\n&gt;&gt; =A0 =A0BeanAttribute[] collectAllAttributesToTest() {\n&gt;&gt; =A0 =A0 =A0 =\r\n=A0ClassCollector collector =3D new ClassCollector();\n&gt;&gt; =A0 =A0 =A0 =A0col=\r\nlector.within(&quot;com.mycompany.incident.model&quot;).assignableTo(Trackable.class)=\r\n;\n&gt;&gt; =A0 =A0 =A0 =A0Collection&lt;Class&lt;?&gt;&gt; matchedClasses =3D collector.recur=\r\nse().collect();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0List&lt;BeanAttribute&gt; attributes =3D new=\r\n ArrayList&lt;BeanAttribute&gt;();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0for (Class&lt;?&gt; trackable :=\r\n matchedClasses) {\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0attributes.addAll(BeanAttribut=\r\ne.collectFrom(trackable));\n&gt;&gt; =A0 =A0 =A0 =A0}\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0return =\r\nattributes.toArray(new BeanAttribute[attributes.size()]);\n&gt;&gt; =A0 =A0}\n&gt;&gt;\n&gt;&gt;=\r\n =A0 =A0@Theory\n&gt;&gt; =A0 =A0public void checkSideEffectsOnAssign() throws Exc=\r\neption {\n&gt;&gt; =A0 =A0 =A0 =A0// This is designed to ensure that setters/gette=\r\nrs work in concert\n&gt;&gt; =A0 =A0 =A0 =A0// and that setters set the appropriat=\r\ne message is sent\n&gt;&gt; =A0 =A0 =A0 =A0if ( ! beanAttribute.hasSetter() || ! b=\r\neanAttribute.hasGetter() ) return;\n&gt;&gt; =A0 =A0 =A0 =A0beanAttribute.assertBa=\r\nlanced();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0Trackable entity =3D beanAttribute.getEntity=\r\nAs(Trackable.class);\n&gt;&gt; =A0 =A0 =A0 =A0// Unfortunately needed to determine=\r\n when things go bad\n&gt;&gt; =A0 =A0 =A0 =A0System.out.format(&quot;Testing %s&#92;n&quot;, bea=\r\nnAttribute);\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0Object original =3D beanAttribute.getValu=\r\ne();\n&gt;&gt; =A0 =A0 =A0 =A0Object testValue =3D beanAttribute.generateTestValue=\r\n(original);\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0// Ensure the setter works as expected\n&gt;&gt; =\r\n=A0 =A0 =A0 =A0beanAttribute.setValue(testValue);\n&gt;&gt; =A0 =A0 =A0 =A0assertE=\r\nquals(testValue, beanAttribute.getValue());\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0// Ensure =\r\nproperties are set and events were properly\n&gt;&gt; =A0 =A0 =A0 =A0Properties ch=\r\nanges =3D entity.getChanges();\n&gt;&gt; =A0 =A0 =A0 =A0assertEquals( String.value=\r\nOf(testValue),\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty(beanAttribute.=\r\ngetAttribute()));\n&gt;&gt; =A0 =A0 =A0 =A0assertEquals( String.valueOf(original),=\r\n\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty(beanAttribute.getAttribute()=\r\n + &quot;.old&quot;));\n&gt;&gt; =A0 =A0}\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; [Non-text portions of this message h=\r\nave been removed]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; ------------------------------------\n&gt;&gt;\n&gt;&gt; Ya=\r\nhoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message ha=\r\nve been removed]\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt; Yahoo! Gr=\r\noups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n[Non-text portions of this message have been removed]=\r\n\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "prevInTime": 22380, 
    "contentTrasformed": false, 
    "postDate": "1265650544", 
    "canDelete": false, 
    "nextInTopic": 22382, 
    "prevInTopic": 22380, 
    "headers": {
        "messageIdInHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NzBAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "referencesHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPjw0ZjdkYTZiOTEwMDIwNzE4NDhyMzQ1OGY4YzJvYjdjZGE3Y2FiNjUyM2VjY0BtYWlsLmdtYWlsLmNvbT48NzVGNUVEOEE1QTU1MzY0NkE0NkUwMEU2RUM4NTRGQTMwMzc4Qzc2REB2YWZmMDEtbWFpbDAxLmFkLmdkLWFpcy5jb20+IDw0ZjdkYTZiOTEwMDIwODA4MTN2M2Q5N2NkY2N5ZTFmODg3OWU4MGRiYzM5NkBtYWlsLmdtYWlsLmNvbT4="
    }
}