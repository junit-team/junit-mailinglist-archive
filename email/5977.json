{
    "numMessagesInTopic": 4, 
    "nextInTime": 5978, 
    "senderId": "aq-dUd8XS9UjkHAfxsXVW7IHikF97BKUoYHCsGig1SFPqKU13yqK4hm8b6D3PLs7ft4RgJO31LAqZN68tum7462Pk8a5itzdlOU", 
    "systemMessage": false, 
    "subject": "Re: [junit] fork=&quot;no&quot; unexpected behavior", 
    "from": "Shane Celis &lt;shane@...&gt;", 
    "authorName": "Shane Celis", 
    "msgSnippet": "Why not just roll them into one suite? package com.terraspring.hh.util; import junit.framework.*; public class AllTests { public static Test suite() { ", 
    "msgId": 5977, 
    "topicId": 5958, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 76541257, 
    "messageBody": "<div id=\"ygrps-yiv-1295230929\">Why not just roll them into one suite?<br/>\n<br/>\npackage com.terraspring.hh.util;<br/>\n<br/>\nimport junit.framework.*;<br/>\n<br/>\npublic class AllTests {<br/>\n<br/>\n     public static Test suite() {<br/>\n         TestSuite suite = new TestSuite();<br/>\n         suite.addTestSuite(SupplierTest.class);<br/>\n         suite.addTestSuite(ConsumerTest.class);<br/>\n         return suite;<br/>\n     }<br/>\n}<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Tuesday, October 8, 2002, at 03:44 PM, Steven Taschuk wrote:<br/>\n<br/>\n&gt; Quoth ktbarrett:<br/>\n&gt;&gt; I am trying to run more than one JUnit test from Ant which shares<br/>\n&gt;&gt; some static data through the VM. The following is an excerpt from my<br/>\n&gt;&gt; Ant script.<br/>\n&gt;   [...]<br/>\n&gt;&gt; The problem is, the VM seems to fork whether I tell it too or not. My<br/>\n&gt;&gt; first test (SupplierTest) is creating some static objects, and my<br/>\n&gt;&gt; second test (ConsumerTest) is trying to use those objects. The<br/>\n&gt;&gt; problem is that either Ant is creating a new VM or a new ClassLoader<br/>\n&gt;&gt; so my data is not available.<br/>\n&gt;&gt;<br/>\n&gt;&gt; Any ideas?<br/>\n&gt;<br/>\n&gt; First, have you tried the following?<br/>\n&gt; \t&lt;target name=&quot;test&quot;&gt;<br/>\n&gt; \t\t&lt;junit fork=&quot;no&quot;&gt;<br/>\n&gt; \t\t\t&lt;test name=&quot;SupplierTest&quot;/&gt;<br/>\n&gt; \t\t\t&lt;test name=&quot;ConsumerTest&quot;/&gt;<br/>\n&gt; \t\t&lt;/junit&gt;<br/>\n&gt; \t&lt;/target&gt;<br/>\n&gt;<br/>\n&gt; Second, a quick glance through the Ant 1.4.1 source makes me think<br/>\n&gt; Ant doesn&#39;t make a new VM if you say fork=&#39;no&#39;, but it does make<br/>\n&gt; its own ClassLoader regardless.  (Note that the &lt;junit&gt; task<br/>\n&gt; supports a nested &lt;classpath&gt; element, so I imagine this is<br/>\n&gt; necessary.)  I encourage you to study the source for more<br/>\n&gt; information, or to inquire on the Ant mailing list (which I assume<br/>\n&gt; to exist).  And you could always write your own Ant task if the<br/>\n&gt; out-of-the-box behaviour is not what you want.<br/>\n&gt;<br/>\n&gt; Third, is it possible your objects are being garbage-collected<br/>\n&gt; between the tests?<br/>\n&gt;<br/>\n&gt; Finally, it is usually considered desirable that tests not<br/>\n&gt; interact with one another.  It might be best to either (a) unify<br/>\n&gt; the two tests to use the same test fixture, or (b) to make the<br/>\n&gt; latter test do its own set up so it doesn&#39;t depend on the former<br/>\n&gt; being run.  What&#39;s the motivation for the inter-test dependency?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------ Yahoo! Groups Sponsor  <br/>\n&gt; ---------------------~--&gt;<br/>\n&gt; Get 128 Bit SSL Encryption!<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/JjlUgA/vN2EAA/H2RGAA/5cFolB/TM\">http://us.click.yahoo.com/JjlUgA/vN2EAA/H2RGAA/5cFolB/TM</a><br/>\n&gt; --------------------------------------------------------------------- <br/>\n&gt; ~-&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to  <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 5976, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1034283676", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 5967, 
    "headers": {
        "inReplyToHeader": "PDIwMDIxMDA4MTY0NDEzLkExODc0QHRpYmlhLmFtb3RscGFhLmJvZ3VzPg==", 
        "messageIdInHeader": "PDZBRkYwNEUxLURDOTMtMTFENi1BMDIyLTAwMzA2NUY5QTgwRUB0ZXJyYXNwcmluZy5jb20+"
    }
}