{
    "numMessagesInTopic": 9, 
    "nextInTime": 13257, 
    "senderId": "nzEmvLzMsj-LhYZEQboDEzwuuwPwhXJ6ZJUhDV7xEcydwooK5ITJ40gkfN3s09TtHCrbi_yzXOnwhxffbVRpaKyr4-SwhV3hu4uLTVMB-g", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to test this class ?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Right now you re using a BufferedReader that talks to System.in. If you had a BufferedReader that talks to a StringReader, then you could fake all the", 
    "msgId": 13256, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 80259 invoked from network); 9 Apr 2005 18:37:42 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m28.grp.scd.yahoo.com with QMQP; 9 Apr 2005 18:37:42 -0000\r\nReceived: from unknown (HELO smtp104.rog.mail.re2.yahoo.com) (206.190.36.82)\n  by mta4.grp.scd.yahoo.com with SMTP; 9 Apr 2005 18:37:41 -0000\r\nReceived: from unknown (HELO ?192.168.1.112?) (srainsberger5790@69.197.252.38 with plain)\n  by smtp104.rog.mail.re2.yahoo.com with SMTP; 9 Apr 2005 18:37:41 -0000\r\nMessage-ID: &lt;425820F4.1020108@...&gt;\r\nDate: Sat, 09 Apr 2005 14:37:40 -0400\r\nUser-Agent: Mozilla Thunderbird 0.9 (Macintosh/20041103)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;d37gje+93ed@...&gt;\r\nIn-Reply-To: &lt;d37gje+93ed@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] How to test this class ?\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\nrubbinio wrote:\n&gt; \n&gt; \n&gt; I need to test a class in which all the methods read via System.in.\n&gt; \n&gt; How can I fake the input so that I can automate my tests ?\n\nRight now you&#39;re using a BufferedReader that talks to System.in. If you \nhad a BufferedReader that talks to a StringReader, then you could fake \nall the input using Strings.\n\nRight now you&#39;re hardcoding the value of &quot;keyboard&quot; for each instance of \nthe class Input. You could introduce a parameter so that:\n  * your tests could pass in a StringReader\n  * your production code could pass in the InputStreamReader talking to \nSystem.in\n\nStep 1: Change everything in Input so it&#39;s no longer static.\nStep 2: Introduce this constructor:\n\npublic class Input(Reader source) {\n     this.keyboard = new BufferedReader(source);\n}\n\nStep 3: Consider renaming &quot;keyboard&quot; since it&#39;s no longer talking \n(necessarily) to a keyboard.\n\nNow, to use your class, write code like this:\n\nInput keyboardInput = new Input(new InputStreamReader(System.in));\n\nIn your tests, write code like this:\n\ntestReadInt() {\n     Input input = new Input(new StringReader(&quot;26&#92;n&quot;));\n     assertEquals(26, input.readInt());\n}\n\nThis is a specific example of refactoring code so that it doesn&#39;t depend \ndirectly on global data (System.in). In general, it&#39;s a good idea not to \ndepend directly on global data.\n\nI hope this helped.\n&#92;--\nJ. B. (Joe) Rainsberger\nDiaspar Software Services\nhttp://www.diasparsoftware.com\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing\n\n", 
    "profile": "nails762", 
    "topicId": 13253, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 13255, 
    "contentTrasformed": false, 
    "postDate": "1113071860", 
    "canDelete": false, 
    "nextInTopic": 13257, 
    "prevInTopic": 13253, 
    "headers": {
        "inReplyToHeader": "PGQzN2dqZSs5M2VkQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQyNTgyMEY0LjEwMjAxMDhAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGQzN2dqZSs5M2VkQGVHcm91cHMuY29tPg=="
    }
}