{
    "numMessagesInTopic": 10, 
    "nextInTime": 10635, 
    "senderId": "rgriRTDsLREYT5kVDS-LAzlJYJHA8puwt7fk6VU_frDM70mgQi1516HQTQknTpF6HQcJn0FY_8y_GXs5qesDs0F25HDO4gz6O4BZ", 
    "systemMessage": false, 
    "subject": "Query regarding Regarding Mock Objects", 
    "from": "Chanduram &lt;chanduram@...&gt;", 
    "authorName": "Chanduram", 
    "msgSnippet": "Hi, I have employed mockobject api MockHttpServletRequest from www.mockobjects.com.  My test code(attached bottom along with actual Implentation)  is giving", 
    "msgId": 10634, 
    "topicId": 10238, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 159484148, 
    "messageBody": "<div id=\"ygrps-yiv-1316735993\">Hi,<br/>\nI have employed mockobject api MockHttpServletRequest from <br/>\nwww.mockobjects.com.  My test code(attached bottom along with actual <br/>\nImplentation)  is giving the following exception :  Plz check  the <br/>\nmethod : testfailedLogin().   I neeed to check for a failed login, <br/>\nsuccessfull login .<br/>\nPlz give ur sugestions :<br/>\n<br/>\nThere was 1 failure:<br/>\n1) testfailedLogin(TestLoginForm)junit.framework.AssertionFailedError: <br/>\nparameters does not contain method<br/>\n    at <br/>\ncom.mockobjects.ReturnObjectBag.getNextReturnObject(ReturnObjectBag.java:109)<br/>\n    at <br/>\ncom.mockobjects.servlet.MockHttpServletRequest.getParameterValues(MockHttpServletRequest.java:185)<br/>\n    at <br/>\ncom.mockobjects.servlet.MockHttpServletRequest.getParameter(MockHttpServletRequest.java:169)<br/>\n    at okn.ap.ui.LoginForm.validate(LoginForm.java:91)<br/>\n    at TestLoginForm.testfailedLogin(TestLoginForm.java:56)<br/>\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n    at <br/>\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>\n    at <br/>\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>\n    at TestLoginForm.main(TestLoginForm.java:66)<br/>\n<br/>\nimport junit.framework.*;<br/>\nimport junit.textui.TestRunner;<br/>\n//import javax.servlet.http.HttpServletRequest;<br/>\n//import org.apache.struts.action.ActionError;<br/>\nimport org.apache.struts.action.ActionErrors;<br/>\n//import org.apache.struts.action.ActionForm;<br/>\nimport org.apache.struts.action.ActionMapping;<br/>\nimport com.mockobjects.servlet.MockHttpServletRequest;<br/>\n<br/>\n<br/>\npublic class TestLoginForm extends TestCase {<br/>\n    LoginForm _loginform ;<br/>\n    private String  _usr=null ;<br/>\n     private String _pass=null;<br/>\n     public TestLoginForm(String name) {<br/>\n    super(name);<br/>\n}<br/>\nprotected void setUp(){<br/>\n    _loginform = new LoginForm() ;<br/>\n    _usr = &quot;chandu&quot;  ;<br/>\n    _pass=&quot;password&quot;;<br/>\n}<br/>\nprotected void tearDown(){<br/>\n    _loginform=null;<br/>\n    _usr=null ;   <br/>\n}<br/>\npublic void testSetGetUsrId(){<br/>\n         assertTrue(_loginform instanceof  LoginForm) ;<br/>\n         _loginform.setUsrId(_usr) ;<br/>\n        assertEquals(_usr,_loginform.getUsrId());                   <br/>\n}<br/>\n<br/>\npublic void testSetGetPassWd(){<br/>\n   _loginform.setPwd(_pass);<br/>\n    assertEquals(_pass,_loginform.getPwd());                   <br/>\n}<br/>\npublic void testfailedLogin(){<br/>\n    MockHttpServletRequest mockrequest = new MockHttpServletRequest();<br/>\n    mockrequest.setupAddParameter(&quot;usrId&quot;, &quot;chandu1&quot;);<br/>\n    mockrequest.setupAddParameter(&quot;pwd&quot;, &quot;password1&quot;);<br/>\n    ActionMapping maping = new ActionMapping() ; // Is this rite and how <br/>\ncan I create a Mock for ActionMapping.<br/>\n    //ActionError errors= new ActionError(&quot;nvalidlogin&quot;);<br/>\n    ActionErrors errors = (ActionErrors)_loginform.validate( <br/>\nmaping,mockrequest );<br/>\n    assertEquals(&quot;invalidlogin&quot;, errors.get(ActionErrors.GLOBAL_ERROR));<br/>\n    }<br/>\n<br/>\npublic static Test suite(){<br/>\nTestSuite suite = new TestSuite(TestLoginForm.class);<br/>\nreturn suite ;<br/>\n}<br/>\n<br/>\npublic static void main(String[] args) {<br/>\nTestRunner.run(TestLoginForm.class);       <br/>\n}<br/>\n}<br/>\n<br/>\n<br/>\nimport java.io.Serializable;<br/>\nimport javax.servlet.http.HttpServletRequest;<br/>\nimport org.apache.struts.action.ActionError;<br/>\nimport org.apache.struts.action.ActionErrors;<br/>\nimport org.apache.struts.action.ActionForm;<br/>\nimport org.apache.struts.action.ActionMapping;<br/>\n<br/>\npublic class LoginForm extends ActionForm implements Serializable<br/>\n{<br/>\n    /**<br/>\n     * Represents user id for login<br/>\n     */<br/>\n    private String usrId = null;<br/>\n    /**<br/>\n     * Represents passward value for login<br/>\n     */<br/>\n    private String pwd = null ;<br/>\n    /**<br/>\n     *    This method used to return User name<br/>\n     * @return String user Id<br/>\n     */<br/>\n   <br/>\n    public String getUsrId()<br/>\n    {<br/>\n        System.out.println(&quot;UsrId : &quot;+ usrId);<br/>\n        return usrId;<br/>\n    } // end getUsrId       <br/>\n    /**<br/>\n     * Used to set user Id<br/>\n     *<br/>\n     * @param _usrId <br/>\n     */<br/>\n    public void setUsrId(String _usrId)<br/>\n    {<br/>\n        usrId = _usrId ;<br/>\n    } // end setUsrId       <br/>\n    /**<br/>\n     * This method used to return password value<br/>\n     *<br/>\n     * @return String pwd<br/>\n     */<br/>\n    public String getPwd()<br/>\n    {<br/>\n        System.out.println(&quot;pwd : &quot;+pwd);<br/>\n        return pwd;<br/>\n    } // end getPwd       <br/>\n    /**<br/>\n     * This method used to set password<br/>\n     *<br/>\n     * @param _pwd<br/>\n     */<br/>\n    public void setPwd(String _pwd)<br/>\n    {<br/>\n        pwd = _pwd;<br/>\n    } // end setPwd       <br/>\n    /**<br/>\n     *<br/>\n     * This method used to validate the user login. If finds improper <br/>\nuser name<br/>\n     * and password then leads to error page.<br/>\n     * @param mapping<br/>\n     * @param request<br/>\n     */<br/>\n    public ActionErrors validate(<br/>\n        ActionMapping mapping,<br/>\n        HttpServletRequest request)<br/>\n    {<br/>\n        String type = request.getParameter(&quot;method&quot;);<br/>\n        // Check for mandatory data<br/>\n        ActionErrors errors = new ActionErrors();<br/>\n        //System.out.println(&quot;type ==&gt; &quot;+type);<br/>\n        if ((!type.equals(&quot;editCancelLogin&quot;))<br/>\n            && (!type.equals(&quot;deleteCancelLogin&quot;))<br/>\n            && (!type.equals(&quot;sendToHubCancelLogin&quot;)))<br/>\n        {<br/>\n            if (usrId == null || usrId.equals(&quot;&quot;))<br/>\n            {<br/>\n                errors.add(&quot;usrId&quot;, new <br/>\nActionError(&quot;ap.login.error.invalid&quot;));<br/>\n                return errors;<br/>\n            }<br/>\n            if (pwd == null || pwd.equals(&quot;&quot;))<br/>\n            {<br/>\n                errors.add(&quot;pwd&quot;, new <br/>\nActionError(&quot;ap.login.error.invalid&quot;));<br/>\n                return errors;<br/>\n            }<br/>\n<br/>\n            // Check for valid user name and password<br/>\n            LoginCheck loginCheck = new LoginCheck();<br/>\n            if (!loginCheck.authenticate(usrId, pwd))<br/>\n            {<br/>\n                errors.add(<br/>\n                    &quot;invalidlogin&quot;,<br/>\n                    new ActionError(&quot;ap.login.error.invalid&quot;));<br/>\n                return errors;<br/>\n            }<br/>\n        }<br/>\n        return errors;<br/>\n    } // end validate       <br/>\n    /**<br/>\n     *<br/>\n     * This method used to reset the form values<br/>\n     * @param mapping<br/>\n     * @param request<br/>\n     */<br/>\n    public void reset(ActionMapping mapping, HttpServletRequest request)<br/>\n    {<br/>\n    } // end reset       <br/>\n} // end LoginForm</div>", 
    "prevInTime": 10633, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1079437439", 
    "canDelete": false, 
    "nextInTopic": 10657, 
    "prevInTopic": 10538, 
    "headers": {
        "inReplyToHeader": "PDQxQzY4RTkzLjcwNjA5MDdAb3B0ZW5ldC5jb20+", 
        "messageIdInHeader": "PDQwNTZFODdGLjYwMjA3MDhAbmF0dXJlc29mdC5uZXQ+", 
        "referencesHeader": "PDQwMEM3RkUxLjcwMDA0MDdAbXVuYXQuY29tPiA8NDFDNjhFOTMuNzA2MDkwN0BvcHRlbmV0LmNvbT4="
    }
}