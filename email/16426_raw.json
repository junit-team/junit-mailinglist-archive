{
    "numMessagesInTopic": 9, 
    "nextInTime": 16427, 
    "senderId": "h8EWbgOvjC0H3zV_X2nhlKODn-8CMWACWW4v36m9EgAe-P32sTxPt5It4wSm3f4MmTRkeWo1kFXSGP-xIOE9no8OGHYgUUChzZKzUKmmTA", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to test a recursive method", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Two steps: 1. Mock the action. Since Action is a class in Struts, you have to use the CGLIB-mock library. I hope Action has a default constructor. (I think", 
    "msgId": 16426, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 15966 invoked from network); 29 Mar 2006 12:52:50 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m33.grp.scd.yahoo.com with QMQP; 29 Mar 2006 12:52:50 -0000\r\nReceived: from unknown (HELO chilco.textdrive.com) (207.7.108.242)\n  by mta10.grp.scd.yahoo.com with SMTP; 29 Mar 2006 12:52:50 -0000\r\nReceived: from [172.17.198.244] (unknown [208.255.117.67])\n\tby chilco.textdrive.com (Postfix) with ESMTP id 3E59DDBEF4\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 29 Mar 2006 12:52:10 +0000 (UTC)\r\nMessage-ID: &lt;442A82F5.4030106@...&gt;\r\nDate: Wed, 29 Mar 2006 07:52:05 -0500\r\nUser-Agent: Thunderbird 1.5 (Macintosh/20051201)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;a03a20930603240948l792312a2tad48cb413dbc8a6b@...&gt;\t &lt;b86b6a9c0603252011m7a2ee362jf21371c2a9e3133a@...&gt; &lt;a03a20930603260322h13b5e280y54ee332f160a9849@...&gt;\r\nIn-Reply-To: &lt;a03a20930603260322h13b5e280y54ee332f160a9849@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] How to test a recursive method\r\nX-Yahoo-Group-Post: member; u=127224993; y=dPYfMI1u0AD5r-6hPE5tubHtbUPpxZXUwxCfxs2AD6lSGYg\r\nX-Yahoo-Profile: nails762\r\n\r\namine achergui wrote:\n&gt; Bonjour CÃ©dric,\n&gt; In fact, I want to have a black box test of my method.\n&gt; my method have this shape:\n&gt; \n&gt; Result execute (String actionName, confdata data){\n&gt; ....\n&gt; Action a = findAction(actionName);\n&gt; Result result = a.process (someohterdata);\n&gt; if (result.isLast())\n&gt;     retrun result;\n&gt; else\n&gt;     return process(result.getNextAction(), result.getData();\n&gt; \n&gt; }\n&gt; \n&gt; the execute method calls a.process method of the action depending on\n&gt; it&#39;s result the execute method will execute another action or will return\n&gt; the final result.\n&gt; for my tests i would mock the action a and the result .\n\nTwo steps:\n\n1. Mock the action. Since Action is a class in Struts, you have to use \nthe CGLIB-mock library. I hope Action has a default constructor. (I \nthink it does.)\n\n2. Subclass to test. Since execute() hardwires its dependency on the \nlookup table for the action, you need to override findAction(actionName) \nto return the proxy to the mocked action from step #1. To do this, use \nan anonymous subclass of your class-to-test and override findAction().\n\nThat would do for now.\n\nEventually, you&#39;ll want to Replace Subclass with Collaborator. (Google \nthat to get an article on it.) This will leave you with an object that \ndepends on an ActionLookupTable or FindActionStrategy that is easily \nmockable in the future.\n\nThat&#39;s what I would do.\n-- \nJ. B. (Joe) Rainsberger :: http://www.jbrains.info\nYour guide to software craftsmanship\nJUnit Recipes: Practical Methods for Programmer Testing\n2005 Gordon Pask Award for contribution Agile Software Practice\n\n", 
    "profile": "nails762", 
    "topicId": 16390, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 16425, 
    "contentTrasformed": false, 
    "postDate": "1143636725", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 16417, 
    "headers": {
        "inReplyToHeader": "PGEwM2EyMDkzMDYwMzI2MDMyMmgxM2I1ZTI4MHk1NGVlMzMyZjE2MGE5ODQ5QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ0MkE4MkY1LjQwMzAxMDZAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGEwM2EyMDkzMDYwMzI0MDk0OGw3OTIzMTJhMnRhZDQ4Y2I0MTNkYmM4YTZiQG1haWwuZ21haWwuY29tPgkgPGI4NmI2YTljMDYwMzI1MjAxMW03YTJlZTM2MmpmMjEzNzFjMmE5ZTMxMzNhQG1haWwuZ29vZ2xlLmNvbT4gPGEwM2EyMDkzMDYwMzI2MDMyMmgxM2I1ZTI4MHk1NGVlMzMyZjE2MGE5ODQ5QG1haWwuZ21haWwuY29tPg=="
    }
}