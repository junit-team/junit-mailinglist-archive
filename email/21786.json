{
    "numMessagesInTopic": 6, 
    "nextInTime": 21787, 
    "senderId": "PxFoVlunWMk5uiaANLBqZrmkdlkB5MfuwoTI3nRlf6olSgQqpSKOODQdRlG6duJFG1FdP9bofsH971LBP18Go79oo7QiT9B6xks", 
    "systemMessage": false, 
    "subject": "Re: [junit] unit testing clinet server applications?", 
    "from": "James Abley &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... Hi, I m aware of at least 2 approaches to this. The first is one that I use most frequently, with Jetty or HttpUnit PseudoServer running. The server gets", 
    "msgId": 21786, 
    "profile": "taboozizi", 
    "topicId": 21783, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "messageBody": "<div id=\"ygrps-yiv-98850897\">2009/6/29 Suresh Koya &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:surikoya@...\">surikoya@...</a>&gt;:<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt;<br/>\n&gt; Try to stub the classes you are testing. You can stub almost anything. If it<br/>\n&gt; is not possible to stub classes wrap them. This can happen if you work with<br/>\n&gt; a class that is declared final.<br/>\n&gt; My one advice would be not to actually create a server connection for unit<br/>\n&gt; tests. Your tests are supposed to be simple. Try to create Fake server<br/>\n&gt; connection and pass them across.<br/>\n&gt;<br/>\n&gt; Unit testing and refactoring should go hand in hand. If something is<br/>\n&gt; stopping you from unit testing, it would be a good time to start throwing<br/>\n&gt; away something. There is a problem here too. To ensure your refactoring is<br/>\n&gt; right you should have unit tests but then that is the purpose why you<br/>\n&gt; started refactoring. This is a chicken and egg problem. So start refactoring<br/>\n&gt; in small steps.<br/>\n&gt;<br/>\n&gt; There are some good articles in developerWorks featuring Unit testing. I<br/>\n&gt; have read the reviews of a book called &quot;Working Effectively with Legacy<br/>\n&gt; Code&quot;(<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/Working-Effectively-Legacy-Robert-Martin/dp/0131177052/ref=pd_bxgy_b_img_a)\">http://www.amazon.com/Working-Effectively-Legacy-Robert-Martin/dp/0131177052/ref=pd_bxgy_b_img_a)</a><br/>\n&gt; which seems to be useful. I did not get my hands yet on this book.<br/>\n&gt;<br/>\n&gt; I would suggest getting some hands on this book and something like this or<br/>\n&gt; taking a short training on agile training.<br/>\n&gt;<br/>\n&gt; regards,<br/>\n&gt; Suresh<br/>\n&gt;<br/>\n&gt; --- On Mon, 6/29/09, Bradley, Todd &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:todd.bradley@...\">todd.bradley@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; From: Bradley, Todd &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:todd.bradley@...\">todd.bradley@...</a>&gt;<br/>\n&gt; Subject: RE: [junit] unit testing clinet server applications?<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Date: Monday, June 29, 2009, 9:57 AM<br/>\n&gt;<br/>\n&gt; Is your application designed in such a way that you can test your code<br/>\n&gt;<br/>\n&gt; without starting another process (for your server)? I&#39;ve had better<br/>\n&gt;<br/>\n&gt; luck mocking out server-side code at a slightly higher layer. In other<br/>\n&gt;<br/>\n&gt; words, unless you don&#39;t trust the code that does your wire protocol and<br/>\n&gt;<br/>\n&gt; TCP/IP communication, include that in the mock. Then your mock can just<br/>\n&gt;<br/>\n&gt; be Java classes wired up at runtime, and you don&#39;t have to have the<br/>\n&gt;<br/>\n&gt; headaches with starting and stopping another process.<br/>\n&gt;<br/>\n&gt; Todd.<br/>\n&gt;<br/>\n&gt;&gt; -----Original Message-----<br/>\n&gt;<br/>\n&gt;&gt; From: junit@yahoogroups. com [mailto:junit@yahoogroups. com] On<br/>\n&gt;<br/>\n&gt;&gt; Behalf Of angeshwar<br/>\n&gt;<br/>\n&gt;&gt; Sent: Monday, June 29, 2009 3:19 AM<br/>\n&gt;<br/>\n&gt;&gt; To: junit@yahoogroups. com<br/>\n&gt;<br/>\n&gt;&gt; Subject: [junit] unit testing clinet server applications?<br/>\n&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;&gt; Hi,<br/>\n&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;&gt; I have a client server application. The client connects with<br/>\n&gt;<br/>\n&gt;&gt; a remote server (3rd party) and sends/receives different<br/>\n&gt;<br/>\n&gt;&gt; kinds of messages.<br/>\n&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;&gt; For my Junit test cases I am implementing my own server which<br/>\n&gt;<br/>\n&gt;&gt; simulates the behavior of the 3rd party server.<br/>\n&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;&gt; Whats the best approach to test this.<br/>\n&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;&gt; - Where do I include the code that actually launches my local<br/>\n&gt;<br/>\n&gt;&gt; test server (should this part of Junit test package)<br/>\n&gt;<br/>\n&gt;&gt; - For each message type (exchanged b/w client and my test<br/>\n&gt;<br/>\n&gt;&gt; server) that I will be testing, do I kick start / shut down<br/>\n&gt;<br/>\n&gt;&gt; the server (seperately for each test case)<br/>\n&gt;<br/>\n<br/>\n </span></blockquote>Hi,<br/>\n<br/>\nI&#39;m aware of at least 2 approaches to this. The first is one that I<br/>\nuse most frequently, with Jetty or HttpUnit PseudoServer running. The<br/>\nserver gets started up in an @Before method and cleaned up with an<br/>\n@After method.<br/>\nA test then has to do minimal setup to register any desired handlers<br/>\nfor each test. I don&#39;t see why you can&#39;t take a similar approach with<br/>\nyour code.<br/>\n<br/>\nThe other approach, that I came across reading Release It! by Michael<br/>\nT Nygard, is to create a server implementation on your network. Then<br/>\nyou know that port 3000 on host the-test-server will return a good<br/>\nresponse to request X, port 3001 will never return anything and<br/>\nsimulates an unresponsive server, port 3002 will abruptly close<br/>\nconnections without sending a response, etc. That does mean that your<br/>\ntests are tied to a particular network configuration, but can be<br/>\nuseful for certain types of tests.<br/>\n<br/>\nCheers,<br/>\n<br/>\nJames</div>", 
    "prevInTime": 21785, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1246363736", 
    "canDelete": false, 
    "nextInTopic": 21787, 
    "prevInTopic": 21785, 
    "headers": {
        "inReplyToHeader": "PDczNjExMy45ODg5NS5xbUB3ZWI4MDgwMy5tYWlsLm11ZC55YWhvby5jb20+", 
        "messageIdInHeader": "PDIzZmNlOGU2MDkwNjMwMDUwOGk2YTFkNTZmNHZjOWQ1NDA5ZWM1ZWM0NDhkQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDczNjExMy45ODg5NS5xbUB3ZWI4MDgwMy5tYWlsLm11ZC55YWhvby5jb20+"
    }
}