{
    "numMessagesInTopic": 14, 
    "nextInTime": 727, 
    "senderId": "W43XMCYffPJXz_CKOAAcOotjdO6SW0WE-35E6xbYd8k4U4oHMaipu4cxtUsi2R2_hBTsDOmhspgeThraRhpRqlq6Ghbt9rDG", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: JUnit 3.5 & Ant 1.3", 
    "from": "Fred Loney &lt;loney@...&gt;", 
    "authorName": "Fred Loney", 
    "msgSnippet": "I encountered this problem, and had to do the following: o add junit.jar to the classpath of the ant executable o add the ant optional jar to the classpath of", 
    "msgId": 726, 
    "topicId": 702, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-2082302280\">I encountered this problem, and had to do the following:<br/>\n<br/>\no add junit.jar to the classpath of the ant executable<br/>\no add the ant optional jar to the classpath of the ant executable<br/>\no aadd junit.jar to the classpath of the junit task<br/>\no explicitly define the junit task<br/>\n<br/>\nThe ant directives are shown below.<br/>\n<br/>\nHowever, given all of that, junit executes as expected and ant shows the summary result for each test (success or failure).  However, ant does not produce any output file under any circumstances or settings. Has anybody successfully used the junit task with ant 1.3 and junit 3.5? If so, could you post a sample?<br/>\n<br/>\n  &lt;!-- Add optional junit task; requires invoking ant with optional ant jar --&gt;<br/>\n  &lt;taskdef name=&quot;junit&quot; classname=&quot;org.apache.tools.ant.taskdefs.optional.junit.JUnitTask&quot; /&gt;<br/>\n    ...<br/>\n  &lt;path id=&quot;test.class.path&quot;&gt;<br/>\n    &lt;path refid=&quot;app.class.path&quot; /&gt;<br/>\n    &lt;pathelement location=&quot;${ext.lib}/junit.jar&quot; /&gt;<br/>\n  &lt;/path&gt;<br/>\n   ...<br/>\n  &lt;!-- Run the test suite --&gt;<br/>\n  &lt;target name=&quot;test&quot; depends=&quot;testbed&quot;&gt;<br/>\n    &lt;junit&gt;<br/>\n      &lt;classpath refid=&quot;test.class.path&quot; /&gt;<br/>\n      &lt;batchtest&gt;<br/>\n        &lt;fileset dir=&quot;${source}&quot; includes=&quot;${test.dir}/**/*.java&quot;&gt;<br/>\n        &lt;/fileset&gt;<br/>\n      &lt;/batchtest&gt;<br/>\n    &lt;/junit&gt;<br/>\n  &lt;/target&gt;<br/>\n<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:bugfix4u@...\">bugfix4u@...</a> wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Here is an update of what I have found so far.<br/>\n&gt;<br/>\n&gt; If I let Ant build my classpath at runtime to run my JUnit test I<br/>\n&gt; get the following error listed below. The odd thing is that when JUnit<br/>\n&gt; echos my classpath it list the junit.jar right there in the classpath<br/>\n&gt; statement. Anyone have a clue of what is going on?<br/>\n&gt;<br/>\n&gt;  run.tests:<br/>\n&gt;      [echo] Claspath for JUnit:<br/>\n&gt; /home/dchambers/apps/jakarta/tomcat/webapps/lolo/built_tests/classes:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/junit.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/classes:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/barracuda.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/xmlc.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/ant_xmlc.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/servlet.jar<br/>\n&gt;<br/>\n&gt; BUILD FAILED<br/>\n&gt;<br/>\n&gt; /home/dchambers/apps/jakarta/tomcat/webapps/lolo/src/build.xml:273:<br/>\n&gt; Could not create task of type: junit due to<br/>\n&gt; java.lang.NoClassDefFoundError: junit/framework/TestListener<br/>\n&gt; --- Nested Exception ---<br/>\n&gt; java.lang.NoClassDefFoundError: junit/framework/TestListener<br/>\n&gt;         at java.lang.ClassLoader.defineClass0(Native Method)<br/>\n&gt;         at java.lang.ClassLoader.defineClass(ClassLoader.java:486)<br/>\n&gt;         at<br/>\n&gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:111)<br/>\n&gt;         at<br/>\n&gt; java.net.URLClassLoader.defineClass(URLClassLoader.java:248)<br/>\n&gt;         at java.net.URLClassLoader.access$100(URLClassLoader.java:56)<br/>\n&gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:195)<br/>\n&gt;         at java.security.AccessController.doPrivileged(Native Method)<br/>\n&gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:188)<br/>\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:297)<br/>\n&gt;         at<br/>\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:286)<br/>\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:253)<br/>\n&gt;         at<br/>\n&gt; java.lang.ClassLoader.loadClassInternal(ClassLoader.java:313)<br/>\n&gt;         at java.lang.Class.newInstance0(Native Method)<br/>\n&gt;         at java.lang.Class.newInstance(Class.java:237)<br/>\n&gt;         at org.apache.tools.ant.Project.createTask(Project.java:439)<br/>\n&gt;         at<br/>\n&gt; org.apache.tools.ant.UnknownElement.maybeConfigure(UnknownElement.java:83)<br/>\n&gt;         at org.apache.tools.ant.Target.execute(Target.java:152)<br/>\n&gt;         at org.apache.tools.ant.Project.runTarget(Project.java:898)<br/>\n&gt;         at<br/>\n&gt; org.apache.tools.ant.Project.executeTarget(Project.java:536)<br/>\n&gt;         at<br/>\n&gt; org.apache.tools.ant.Project.executeTargets(Project.java:510)<br/>\n&gt;         at org.apache.tools.ant.Main.runBuild(Main.java:421)<br/>\n&gt;         at org.apache.tools.ant.Main.main(Main.java:149)<br/>\n&gt;<br/>\n&gt; --- In junit@y..., bugfix4u@y... wrote:<br/>\n&gt; &gt; Yes JUnit is definetly in the classpath. Like I said I use the same<br/>\n&gt; &gt; &lt;classpath refid=&quot;test.build.classpath&quot;/&gt; to compile all of my JUnit<br/>\n&gt; &gt; test with no problem. But when I use this line in the target that<br/>\n&gt; runs<br/>\n&gt; &gt; my Junit classes It can not find it. The difference here being that<br/>\n&gt; &gt; the javac task def has no problem understanding &lt;classpath<br/>\n&gt; &gt; refid=&quot;test.build.classpath&quot;/&gt; statement while the junit taskdef<br/>\n&gt; seem<br/>\n&gt; &gt; to ignore it. I could redefine my classpath using the form that you<br/>\n&gt; &gt; used in your example, but that defeats the purpose of me predefining<br/>\n&gt; &gt; my test classpath so that I can using over an over again in<br/>\n&gt; different<br/>\n&gt; &gt; targets.<br/>\n&gt; &gt;<br/>\n&gt; &gt; --- In junit@y..., Marc Pages &lt;marc.pages@m...&gt; wrote:<br/>\n&gt; &gt; &gt; I don&#39;t know anything about refid but is junit included in the<br/>\n&gt; &gt; classpath?<br/>\n&gt; &gt; &gt; See the example build file below. (Some of the junit stuff is<br/>\n&gt; &gt; derived from<br/>\n&gt; &gt; &gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www-106.ibm.com/developerworks/library/j-ant/?dwzone=java\">http://www-106.ibm.com/developerworks/library/j-ant/?dwzone=java</a>&gt;<br/>\n&gt; )<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Marc<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ============= build.xml begin<br/>\n&gt; &gt; &gt; &lt;?xml version=&quot;1.0&quot;?&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &lt;project name=&quot;xfiles&quot; default=&quot;jar&quot; basedir=&quot;.&quot;&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;init&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;name&quot; value=&quot;xfiles&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;src.dir&quot; value=&quot;src&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;lib.dir&quot; value=&quot;lib&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;build.dir&quot; value=&quot;build&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;dist.dir&quot; value=&quot;dist&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;build.compiler&quot; value=&quot;classic&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;property name=&quot;junit.dir&quot; value=&quot;../junit3.5/junit.jar&quot; /&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;JUNIT&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;available classname=&quot;junit.framework.TestCase&quot;<br/>\n&gt; &gt; &gt; classpath=&quot;${junit.dir}/&quot; property=&quot;junit.present&quot; /&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;clean&quot; depends=&quot;init&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;delete dir=&quot;${build.dir}&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;delete dir=&quot;${dist.dir}&quot; /&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;prepare&quot; depends=&quot;init&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;mkdir dir=&quot;${build.dir}&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;mkdir dir=&quot;${build.dir}/META-INF&quot; /&gt;<br/>\n&gt; &gt; &gt;     &lt;mkdir dir=&quot;${dist.dir}&quot; /&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;compile&quot; depends=&quot;prepare,JUNIT&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;javac srcdir=&quot;${src.dir}&quot;<br/>\n&gt; &gt; &gt;            destdir=&quot;${build.dir}/&quot;<br/>\n&gt; &gt; &gt;            classpath=&quot;${lib.dir}/:${junit.dir}/&quot;<br/>\n&gt; &gt; &gt;            includes=&quot;**&quot; /&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;runtests&quot; depends=&quot;compile&quot; if=&quot;junit.present&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;java fork=&quot;yes&quot; classname=&quot;junit.textui.TestRunner&quot;<br/>\n&gt; &gt; &gt;       taskname=&quot;junit&quot; failonerror=&quot;true&quot;&gt;<br/>\n&gt; &gt; &gt;       &lt;arg value=&quot;se.offex.jnitnpapi.MarketTest&quot;/&gt;<br/>\n&gt; &gt; &gt;       &lt;classpath&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement location=&quot;${build.dir}&quot;/&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement path=&quot;${junit.dir}/&quot; /&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement path=&quot;&quot;/&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement path=&quot;${java.class.path}&quot;/&gt;<br/>\n&gt; &gt; &gt;       &lt;/classpath&gt;<br/>\n&gt; &gt; &gt;     &lt;/java&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;launchjunit&quot; depends=&quot;compile&quot; if=&quot;junit.present&quot;&gt;<br/>\n&gt; &gt; &gt;     &lt;java fork=&quot;yes&quot; classname=&quot;junit.swingui.TestRunner&quot;<br/>\n&gt; &gt; &gt;       taskname=&quot;junit&quot; failonerror=&quot;true&quot;&gt;<br/>\n&gt; &gt; &gt;       &lt;classpath&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement location=&quot;${build.dir}&quot;/&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement path=&quot;${junit.dir}/&quot; /&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement path=&quot;&quot;/&gt;<br/>\n&gt; &gt; &gt;         &lt;pathelement path=&quot;${java.class.path}&quot;/&gt;<br/>\n&gt; &gt; &gt;       &lt;/classpath&gt;<br/>\n&gt; &gt; &gt;     &lt;/java&gt;<br/>\n&gt; &gt; &gt;   &lt;/target&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;   &lt;target name=&quot;lj&quot; depends=&quot;launchjunit&quot;/&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &lt;/project&gt;<br/>\n&gt; &gt; &gt; ============= build.xml end<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; -----Original Message-----<br/>\n&gt; &gt; &gt; From: Denny Chambers<br/>\n&gt; &gt; &gt; To: junit@y...<br/>\n&gt; &gt; &gt; Sent: 2001-03-15 19:34<br/>\n&gt; &gt; &gt; Subject: [junit] JUnit 3.5 & Ant 1.3<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; All,<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I am having a problem running my JUnit tests through Ant. I can<br/>\n&gt; &gt; build<br/>\n&gt; &gt; &gt; them fine using Ant. All of the classes are found properly.<br/>\n&gt; However<br/>\n&gt; &gt; when<br/>\n&gt; &gt; &gt; I try to run the test the JUnit classes can not be found on the<br/>\n&gt; &gt; &gt; classpath. I am using the same &lt;classpath<br/>\n&gt; &gt; refid=&quot;test.build.classpath&quot;<br/>\n&gt; &gt; &gt; /&gt; to run the tests that I am using to build. This makes me think<br/>\n&gt; &gt; that<br/>\n&gt; &gt; &gt; there is a bug with classpath refid in JUnit. I have seen postings<br/>\n&gt; &gt; on<br/>\n&gt; &gt; &gt; the Ant mailing list where people have had similar problems, but I<br/>\n&gt; &gt; &gt; haven&#39;t seen any real fixes. Can anyone help?<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Thanks,<br/>\n&gt; &gt; &gt; --<br/>\n&gt; &gt; &gt; Denny Chambers<br/>\n&gt; &gt; &gt; Linux Java Engineer<br/>\n&gt; &gt; &gt; Connex, Inc<br/>\n&gt; &gt; &gt; Voice: 770-455-7653<br/>\n&gt; &gt; &gt; Fax: 770-455-7325<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; To unsubscribe from this group, send an email to:<br/>\n&gt; &gt; &gt; junit-unsubscribe@y...<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Your use of Yahoo! Groups is subject to<br/>\n&gt; &gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n<br/>\n </span></blockquote>--<br/>\nFred Loney<br/>\nSpirited Software, Inc.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:loney@...\">loney@...</a></div>", 
    "prevInTime": 725, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "984763551", 
    "canDelete": false, 
    "nextInTopic": 727, 
    "prevInTopic": 725, 
    "headers": {
        "messageIdInHeader": "PDNBQjI0QzlFLjU2RDU1OUNBQHNwaXJpdGVkc3cuY29tPg==", 
        "referencesHeader": "PDk4dGJwcSticm1uQGVHcm91cHMuY29tPg=="
    }
}