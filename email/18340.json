{
    "numMessagesInTopic": 27, 
    "nextInTime": 18341, 
    "senderId": "W2f83TQ4x0TYwHBzIFkFfzYreuCSK-JXQNjfAlK4GyUAS0k1cH6fnWf-H7CG87GE0Xv1-x6LPmG0w9FWsfrtGSNQYwUGZR7wWrb4qeOFNuO2ktkfzw", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Mock and collections.", 
    "from": "&quot;Luiz Siqueira&quot; &lt;luiz.siqueira.neto@...&gt;", 
    "authorName": "Luiz Siqueira", 
    "msgSnippet": " Babelfish hem, hehehe.  ;)   Ok. Your approach looks like mine; please take a look in my", 
    "msgId": 18340, 
    "profile": "cybersamurai_br", 
    "topicId": 18229, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 279651816, 
    "messageBody": "<div id=\"ygrps-yiv-1341071809\">&lt;&lt; This is the same message changing the word abbordage to approach &gt;&gt;<br/>\n<br/>\nBabelfish hem, hehehe.  ;)   Ok.<br/>\n<br/>\nYour approach looks like mine; please take a look in my<br/>\nEntityIntrospectorTest.<br/>\n<br/>\nCode Begin<br/>\n------------------------------------------------------------------------------------------------------------------------------------<br/>\n<br/>\n<br/>\n/*<br/>\n * EntityIntrospectorTest.java<br/>\n * JUnit based test<br/>\n *<br/>\n * Created on 20 de Outubro de 2006, 16:50<br/>\n */<br/>\n<br/>\npackage br.com.cyberzen.fujiyama.tools;<br/>\n<br/>\nimport java.lang.reflect.InvocationTargetException ;<br/>\nimport junit.framework.*;<br/>\nimport br.com.cyberzen.fujiyama.model.DescriptionAnnotation;<br/>\nimport br.com.cyberzen.fujiyama.model.LabelAnnotation;<br/>\nimport br.com.cyberzen.fujiyama.model.PriorityAnnotation;<br/>\nimport java.beans.BeanInfo;<br/>\nimport java.beans.Introspector;<br/>\nimport java.beans.PropertyDescriptor;<br/>\nimport java.beans.IntrospectionException;<br/>\nimport java.lang.annotation.Annotation;<br/>\nimport java.lang.reflect.Method;<br/>\nimport java.util.ArrayList;<br/>\n<br/>\n/**<br/>\n *<br/>\n * @author luizn<br/>\n */<br/>\npublic class EntityIntrospectorTest extends TestCase {<br/>\n<br/>\n    EntityIntrospector _entityIntrospector = null;<br/>\n    StubEntity _stubEntity = null;<br/>\n<br/>\n    public EntityIntrospectorTest(String testName) {<br/>\n        super(testName);<br/>\n    }<br/>\n<br/>\n    protected void setUp()<br/>\n            throws Exception {<br/>\n<br/>\n        _stubEntity = new StubEntity();<br/>\n        _entityIntrospector = new EntityIntrospector(_stubEntity);<br/>\n<br/>\n    }<br/>\n<br/>\n    protected void tearDown()<br/>\n            throws Exception {<br/>\n    }<br/>\n<br/>\n    public static Test suite() {<br/>\n        TestSuite suite = new TestSuite( EntityIntrospectorTest.class);<br/>\n<br/>\n        return suite;<br/>\n    }<br/>\n<br/>\n    public void testGetDescription() {<br/>\n        System.out.println(&quot;getDescription&quot;);<br/>\n<br/>\n        EntityIntrospector instance = _entityIntrospector;<br/>\n<br/>\n        String expResult = &quot;A Entity for make a test in EntityPanel&quot;;<br/>\n        String result = instance.getDescription();<br/>\n        assertEquals(expResult, result);<br/>\n    }<br/>\n<br/>\n    public void testGetLabel() {<br/>\n        System.out.println(&quot;getLabel&quot;);<br/>\n<br/>\n        EntityIntrospector instance = _entityIntrospector;<br/>\n<br/>\n        String expResult = &quot;Stub Entity&quot;;<br/>\n        String result = instance.getLabel();<br/>\n        assertEquals(expResult, result);<br/>\n    }<br/>\n<br/>\n    public void testGetEntity() {<br/>\n        System.out.println(&quot;getEntity&quot;);<br/>\n<br/>\n        EntityIntrospector instance = _entityIntrospector;<br/>\n<br/>\n        Object expResult = _stubEntity;<br/>\n        Object result = instance.getEntity();<br/>\n        assertEquals(expResult, result);<br/>\n    }<br/>\n<br/>\n    public void testGetPropertiesGenerated()<br/>\n            throws<br/>\n            NoSuchMethodException,<br/>\n            IllegalAccessException,<br/>\n            InvocationTargetException,<br/>\n            IntrospectionException {<br/>\n<br/>\n        System.out.println(&quot;getProperties&quot;);<br/>\n<br/>\n        EntityIntrospector instance = new EntityIntrospector(_stubEntity);<br/>\n        final PropertyInfo[] result = instance.getProperties();<br/>\n        final PropertyInfo[] expResult = {<br/>\n            new PropertyInfo(_stubEntity),<br/>\n            new PropertyInfo(_stubEntity),<br/>\n            new PropertyInfo(_stubEntity)<br/>\n        };<br/>\n<br/>\n        TestTools.populateAllInfos(expResult, _stubEntity);<br/>\n<br/>\n        assertTrue(TestTools.isInfoEqual (expResult, result));<br/>\n    }<br/>\n<br/>\n    public void testSetProperties()<br/>\n            throws<br/>\n            NoSuchMethodException,<br/>\n            IllegalAccessException,<br/>\n            InvocationTargetException {<br/>\n<br/>\n        System.out.println(&quot;setProperties&quot;);<br/>\n<br/>\n        EntityIntrospector instance = _entityIntrospector;<br/>\n        PropertyInfo[] expResult = null;<br/>\n        PropertyInfo[] result = {<br/>\n            new PropertyInfo(_stubEntity),<br/>\n            new PropertyInfo(_stubEntity),<br/>\n            new PropertyInfo(_stubEntity)<br/>\n        };<br/>\n<br/>\n        TestTools.populateAllInfos(result, _stubEntity);<br/>\n<br/>\n        instance.setProperties(result);<br/>\n        expResult = instance.getProperties();<br/>\n<br/>\n        assertTrue(TestTools.isInfoEqual(expResult, result));<br/>\n    }<br/>\n<br/>\n    public void testSetPropertiesIndexed()<br/>\n            throws<br/>\n            NoSuchMethodException,<br/>\n            IllegalAccessException,<br/>\n            InvocationTargetException {<br/>\n<br/>\n        System.out.println(&quot;setPropertiesIndexed&quot;);<br/>\n<br/>\n        EntityIntrospector instance = _entityIntrospector;<br/>\n        int secondItem = 1;<br/>\n        PropertyInfo[] tempList = {<br/>\n            new PropertyInfo(_stubEntity),<br/>\n            new PropertyInfo(_stubEntity),<br/>\n            new PropertyInfo(_stubEntity)<br/>\n        };<br/>\n        PropertyInfo expResult = null;<br/>\n        PropertyInfo result = null;<br/>\n        TestTools.populateAllInfos(tempList, _stubEntity);<br/>\n<br/>\n        expResult = tempList[secondItem];<br/>\n        expResult.setValue(30);<br/>\n        instance.setProperties(secondItem, tempList[secondItem]);<br/>\n        result = instance.getProperties(secondItem);<br/>\n<br/>\n        assertEquals(expResult, result);<br/>\n    }<br/>\n<br/>\n    public void testEntityWithoutDescriptionAndLabelAnnotation()<br/>\n            throws<br/>\n            IntrospectionException,<br/>\n            NoSuchMethodException {<br/>\n        System.out.println(&quot;Entity without Description and Label<br/>\nAnnotation&quot;);<br/>\n<br/>\n        EntityWithoutLabelAndDescription invalidEntity =<br/>\n                new EntityWithoutLabelAndDescription();<br/>\n        EntityIntrospector entityIntrospector =<br/>\n                new EntityIntrospector(invalidEntity);<br/>\n<br/>\n        String expResult = &quot;&quot;;<br/>\n        String result = entityIntrospector.getDescription();<br/>\n        assertEquals(expResult, result);<br/>\n<br/>\n        expResult = &quot;EntityWithoutLabelAndDescription&quot;;<br/>\n        result = entityIntrospector.getLabel();<br/>\n        assertEquals(expResult, result);<br/>\n    }<br/>\n<br/>\n    public void testPropertyWith_is_steadOf_get_()<br/>\n            throws<br/>\n            IllegalAccessException,<br/>\n            InvocationTargetException {<br/>\n<br/>\n        System.out.println(&quot;Property with &#39;is&#39; stead of &#39;get&#39; &quot;);<br/>\n<br/>\n        EntityIntrospector instance = _entityIntrospector;<br/>\n        Boolean expResult = true;<br/>\n        Boolean result = (Boolean) instance.getProperties(4).getValue();<br/>\n        String expLabelResult = &quot;Client&quot;;<br/>\n        String labelResult = instance.getProperties(4).getLabel();<br/>\n<br/>\n        assertEquals(expResult, result);<br/>\n        assertEquals(expLabelResult, labelResult);<br/>\n    }<br/>\n<br/>\n}<br/>\n<br/>\nclass EntityWithoutLabelAndDescription {<br/>\n}<br/>\n<br/>\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Test Tools &quot;&gt;<br/>\nabstract class TestTools extends AbstractTestTools {<br/>\n<br/>\n    static private String _msg;<br/>\n<br/>\n    static public boolean isInfoEqual(<br/>\n            PropertyInfo[] propInfo,<br/>\n            PropertyInfo[] propInfo2)<br/>\n                    throws<br/>\n                    IllegalAccessException,<br/>\n                    InvocationTargetException {<br/>\n<br/>\n        boolean result = true;<br/>\n        _msg = &quot;&quot;;<br/>\n<br/>\n        for (Integer i = 0; i &lt; propInfo.length; i++) {<br/>\n            result = isLabelEqual(propInfo, propInfo2, i);<br/>\n            result = isDescriptionEqual(propInfo, propInfo2, i);<br/>\n            result = isPriorityEqual(propInfo, propInfo2, i);<br/>\n            result = isTypeEqual(propInfo, propInfo2, i);<br/>\n            result = isValueEqual(propInfo, propInfo2, i);<br/>\n        }<br/>\n<br/>\n        if(_msg.length() &gt; 0) {<br/>\n            printMessage();<br/>\n        }<br/>\n<br/>\n        return result;<br/>\n    }<br/>\n<br/>\n    static private boolean isLabelEqual(<br/>\n            PropertyInfo[] propInfo1,<br/>\n            PropertyInfo[] propInfo2,<br/>\n            Integer i) {<br/>\n<br/>\n        boolean result = true;<br/>\n        String label1 = propInfo1[i].getLabel();<br/>\n        String label2 = propInfo2[i].getLabel();<br/>\n<br/>\n        if(notEqual(label1, label2)) {<br/>\n            _msg += &quot;Label of index &quot;;<br/>\n            _msg += i.toString();<br/>\n            _msg += &quot; isn&#39;t equal.&#92;n&quot;;<br/>\n<br/>\n            result = false;<br/>\n        }<br/>\n        return result;<br/>\n    }<br/>\n<br/>\n    static private boolean isDescriptionEqual(<br/>\n            PropertyInfo[] propInfo1,<br/>\n            PropertyInfo[] propInfo2,<br/>\n            Integer i) {<br/>\n<br/>\n        boolean result = true;<br/>\n        String description1 = propInfo1[i].getDescription();<br/>\n        String description2 = propInfo2[i].getDescription();<br/>\n<br/>\n        if(notEqual(description1, description2)) {<br/>\n            _msg += &quot;Description of index &quot;;<br/>\n            _msg += i.toString();<br/>\n            _msg += &quot; isn&#39;t equal.&#92;n&quot;;<br/>\n            result = false;<br/>\n        }<br/>\n<br/>\n        return result;<br/>\n    }<br/>\n<br/>\n    static private boolean isValueEqual(<br/>\n            PropertyInfo[] propInfo1,<br/>\n            PropertyInfo[] propInfo2,<br/>\n            Integer i)<br/>\n                    throws<br/>\n                    IllegalAccessException,<br/>\n                    InvocationTargetException {<br/>\n<br/>\n        boolean result = true;<br/>\n<br/>\n        if(propInfo1[i].getValue() != propInfo2[i].getValue()) {<br/>\n            _msg += &quot;Type of index &quot; + i.toString() + &quot; isn&#39;t equal.&#92;n&quot;;<br/>\n            result = false;<br/>\n        }<br/>\n<br/>\n        return result;<br/>\n    }<br/>\n<br/>\n    static private boolean isPriorityEqual(<br/>\n            PropertyInfo[] propInfo1,<br/>\n            PropertyInfo[] propInfo2,<br/>\n            Integer i) {<br/>\n<br/>\n        boolean result = true;<br/>\n<br/>\n        if(propInfo1[i].getPriority() != propInfo2[i].getPriority()) {<br/>\n            _msg += &quot;Priority of index &quot; + i.toString() + &quot; isn&#39;t equal.&#92;n&quot;;<br/>\n            result = false;<br/>\n        }<br/>\n<br/>\n        return result;<br/>\n    }<br/>\n<br/>\n    static private boolean isTypeEqual(<br/>\n            PropertyInfo[] propInfo1,<br/>\n            PropertyInfo[] propInfo2,<br/>\n            Integer i) {<br/>\n<br/>\n        boolean result = true;<br/>\n<br/>\n        if(propInfo1[i].getType() != propInfo2[i].getType()) {<br/>\n            _msg += &quot;Type of index &quot; + i.toString() + &quot; isn&#39;t equal.&#92;n&quot;;<br/>\n            result = false;<br/>\n        }<br/>\n<br/>\n        return result;<br/>\n    }<br/>\n<br/>\n    static public void populateInfo(<br/>\n            PropertyInfo info,<br/>\n            StubEntity entt,<br/>\n            String label,<br/>\n            String desc,<br/>\n            int prty,<br/>\n            Class type,<br/>\n            String accessor,<br/>\n            String mutator,<br/>\n            Object value)<br/>\n                    throws<br/>\n                    NoSuchMethodException,<br/>\n                    IllegalAccessException,<br/>\n                    InvocationTargetException {<br/>\n<br/>\n        Class enttType = entt.getClass();<br/>\n        Class types[] = {type};<br/>\n<br/>\n        info.setLabel (label);<br/>\n        info.setDescription(desc);<br/>\n        info.setPriority(prty);<br/>\n        info.setType(type);<br/>\n        info.setAccessor(enttType.getMethod(accessor));<br/>\n        info.setMutator(enttType.getMethod(mutator, types));<br/>\n        info.setValue(value);<br/>\n    }<br/>\n<br/>\n    static void populateAllInfos(<br/>\n            PropertyInfo[] propertyInfoList,<br/>\n            StubEntity stubEntity)<br/>\n                    throws<br/>\n                    NoSuchMethodException,<br/>\n                    IllegalAccessException,<br/>\n                    InvocationTargetException {<br/>\n<br/>\n        final int PRIORITY = 0, PRIORITY2 = 5, PRIORITY3 = 10, PRIORITY4 =<br/>\n18;<br/>\n<br/>\n        TestTools.populateInfo (propertyInfoList[0], stubEntity, &quot;Name&quot;,<br/>\n                &quot;Entity Name&quot;, PRIORITY, String.class, &quot;getName&quot;, &quot;setName&quot;,<br/>\n                &quot;Luiz Siqueira Neto&quot;);<br/>\n        TestTools.populateInfo(propertyInfoList[1], stubEntity, &quot;Age&quot;,<br/>\n                &quot;Entity Age&quot;, PRIORITY2, Integer.class, &quot;getAge&quot;, &quot;setAge&quot;,<br/>\n29);<br/>\n        TestTools.populateInfo(propertyInfoList[2], stubEntity, &quot;Sex&quot;,<br/>\n                &quot;This is a sex gender&quot;, PRIORITY3, String.class,<br/>\n                &quot;getSex&quot;, &quot;setSex&quot;, &quot;Male&quot;);<br/>\n    }<br/>\n<br/>\n    private static void printMessage() {<br/>\n<br/>\n            System.out.print(&quot;*****************&quot;);<br/>\n            System.out.print(&quot; Problems found in PropertiesInfo &quot;);<br/>\n            System.out.print(&quot;*****************&#92;n&#92;n&quot;);<br/>\n            System.out.print(_msg);<br/>\n    }<br/>\n}<br/>\n// &lt;/editor-fold&gt;<br/>\n<br/>\n------------------------------------------------------------------------------------------------------------------------------------<br/>\nCode End<br/>\n<br/>\n<br/>\n2006/11/7, J. B. Rainsberger &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbrains762@...\">jbrains762@...</a>&gt;:<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt;   Luiz Siqueira Neto wrote:<br/>\n&gt;<br/>\n&gt; &gt; That is a simple and good test, but some times the &quot;state machine&quot;<br/>\n&gt; &gt; work with containers, in this cases I need know if all entities and<br/>\n&gt; &gt; properties is properly represented. The &quot;state machine&quot; uses the<br/>\n&gt; &gt; &quot;Entity Introspector&quot; as reference to know what to do. This<br/>\n&gt; &gt; introspector is the real focus in this case;<br/>\n&gt; &gt; Right now I&#39;m trying check all &quot;info entities&quot; and &quot;info properties&quot;<br/>\n&gt; &gt; supposed to be generated for a &quot;entity introspector&quot;. A &quot;info<br/>\n&gt; &gt; property&quot; and a &quot;info entity&quot; is &quot;meta-data&quot; generated by the &quot;Entity<br/>\n&gt; &gt; Introspector&quot;. For to do that I need create and populate all entities<br/>\n&gt; &gt; inside of some container and check the respective existence of some<br/>\n&gt; &gt; &quot;info property&quot; and &quot;info entity&quot; one-by-one; this is very tedious.<br/>\n&gt; &gt; For make this more affordable I&#39;m thinking in use generics in test<br/>\n&gt; cases.<br/>\n&gt;<br/>\n&gt; Two things:<br/>\n&gt;<br/>\n&gt; 1. If you a really testing the entity introspector, then I believe you<br/>\n&gt; should try to test it directly, instead of testing it with the state<br/>\n&gt; machine. What would that test look like?<br/>\n&gt;<br/>\n&gt; 2. Very often I try to generalize quickly, because I believe I<br/>\n&gt; understand a design concept. When I try to write the general case, I<br/>\n&gt; find it difficult, so I start by writing 3 specific cases, then observe<br/>\n&gt; the patterns, then extract the general case from them. I believe it<br/>\n&gt; takes less time for me to do that, compared to trying the general case<br/>\n&gt; and failing to do it correctly.<br/>\n&gt;<br/>\n&gt; &gt; Your Portuguese is perfect:D<br/>\n&gt;<br/>\n&gt; Nao, el portugues de /Babelfish/ e perfeito. :) [This was /my/<br/>\n&gt; Portuguese.]<br/>\n&gt;<br/>\n&gt; Take care.<br/>\n&gt; --<br/>\n&gt; J. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.ca\">http://www.jbrains.ca</a><br/>\n&gt; Your guide to software craftsmanship<br/>\n&gt; JUnit Recipes: Practical Methods for Programmer Testing<br/>\n&gt; 2005 Gordon Pask Award for contribution Agile Software Practice<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 18339, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1162917699", 
    "canDelete": false, 
    "nextInTopic": 18382, 
    "prevInTopic": 18338, 
    "headers": {
        "inReplyToHeader": "PDQ1NTA4RUU1LjkwODA1MDFAZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZhOGE5Y2IwMDYxMTA3MDg0MWs1MzdlZTg0Y242NjcxYzQ5ZGMxOWJjNGRAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGVpZDBpZis5ajBkQGVHcm91cHMuY29tPiA8NDU1MDhFRTUuOTA4MDUwMUBnbWFpbC5jb20+"
    }
}