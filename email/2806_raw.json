{
    "topicId": 2801, 
    "postDate": "1002049668", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Eric Vought &lt;evought@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "A-7Tu4mqhjfzE4pGOqr3iFSDqTFmuoR02rnhsS4l4WO7Cm8yo6R8Uu5R0San38qnhmO2a3BBB2X2maPKrTHNrY-gs8bE", 
    "nextInTime": 2807, 
    "userId": 0, 
    "prevInTime": 2805, 
    "prevInTopic": 2805, 
    "headers": {
        "inReplyToHeader": "PDNCQjlGQzM4LjdBMkY5MjUzQGFwYWNoZS5vcmc+", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMzAuMDExMDAyMTQ1MjQyMC44NzQ3LTEwMDAwMEBicmFpbi5xbHVlLWxhbj4="
    }, 
    "authorName": "Eric Vought", 
    "numMessagesInTopic": 12, 
    "msgSnippet": "I m not sure what Kent had in mind, but: In the first set of situations you mention (Logger hierarchies, config files, etc), these can often be dealt with by", 
    "contentTrasformed": false, 
    "msgId": 2806, 
    "nextInTopic": 2807, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;evought@...&gt;\r\nX-Sender: evought@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_4_1); 2 Oct 2001 19:13:38 -0000\r\nReceived: (qmail 8353 invoked from network); 2 Oct 2001 19:13:38 -0000\r\nReceived: from unknown (10.1.10.27)\n  by 10.1.1.220 with QMQP; 2 Oct 2001 19:13:38 -0000\r\nReceived: from unknown (HELO ral.qlue.com) (65.201.137.7)\n  by mta2 with SMTP; 2 Oct 2001 19:15:43 -0000\r\nReceived: from brain.qlue-lan (brain.qlue-lan [192.168.1.28])\n\tby ral.qlue.com (Postfix) with ESMTP id 517511CE59\n\tfor &lt;junit@yahoogroups.com&gt;; Tue,  2 Oct 2001 15:13:16 -0400 (EDT)\r\nDate: Tue, 2 Oct 2001 15:07:48 -0400 (EDT)\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: Re: [junit] Tangled design (Re: Test framework improvement)\r\nIn-Reply-To: &lt;3BB9FC38.7A2F9253@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.30.0110021452420.8747-100000@...-lan&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: Eric Vought &lt;evought@...&gt;\r\n\r\nI&#39;m not sure what Kent had in mind, but:\n\nIn the first set of situations you mention (Logger hierarchies, config\nfiles, etc), these can often be dealt with by stubbing out these\ncomponents.\n\nFor example, although an application may use a complex logging\nhierarchy which routes different classes of messages to different files or\nhosts, the testcases are handed a Logger with a single listener which\nsends output to a single local file which is appropriately labelled and\nfiled. Having this setup run for each test method does not slow my\ntestcases down appreciably. It doesn&#39;t matter to the testcases where the\nLogger actually sends its output to- just that there is something there to\naccept events. I have a LoggerTestCase which performs this setup for me\nand I just don&#39;t worry about it.\n\nThe issue is similar with config files. Most testcases don&#39;t care where\nthe configuration data comes from. I just create a Map as a fixture which\ncontains exactly what is needed for particular testcases. My code doesn&#39;t\ncare what mechanism was used to populate the Map or what 10 gazillion\nother values might be available. The actual process of interpreting the\nconfig files or database or whatever is in a separate package and\nindependently tested.\n\nI think the design issue is making your classes much less dependent on the\nglobal state. Singletons are just one aspect of that. If these components\nare hidden behind nice interfaces, then you have a lot of freedom to\ndecide just how much initialization is needed and can dumnmy out a lot of\nextra complexity.\n\nRMI *is* an issue and is one of the places I have had significant problems\nwith per-testcase fixtures. This and other testing issues led to me\ndramatically reducing my use of RMI.\n\nOn Tue, 2 Oct 2001, Berin Loritsch wrote:\n\n&gt; &quot;J. B. Rainsberger&quot; wrote:\n&gt; &gt;\n&gt; &gt; Kent:\n&gt; &gt;\n&gt; &gt; You&#39;ve made this suggestion a few times recently, and I was hoping you would\n&gt; &gt; elaborate on it. Do you have a specific example in mind of how a TestSetup\n&gt; &gt; indicated that something was wrong.\n&gt; &gt;\n&gt; &gt; I have written an article on how singletons can defeat unit testing. I have\n&gt; &gt; observed that if a test relies on the state of a singleton, then there may\n&gt; &gt; be a desire to do one-time setup code and *that* is the sign of a code\n&gt; &gt; smell. Can you offer a different example? I&#39;d really like the opportunity to\n&gt; &gt; learn from it.\n&gt;\n&gt; For me, it is not a question of testing singletons.  It is a question of waiting\n&gt; for a configuration file to be read, a logger hierarchy to be set up, a Component Manager\n&gt; to be populated, a Context to be popluated, the test to be run, and everything to be\n&gt; torn down.  This occurs for _every_ test in the testcase.  The framework in question\n&gt; is well tested and scalable, the tests are for the Components loaded into the Component\n&gt; Manager.\n&gt;\n&gt; Another example is testing RMI resources.  The testcase needs to set up the RMI\n&gt; server code once because you will inevitably get a SocketException claiming that\n&gt; the port you want to listen to is already bound.  In this case, the common TestCase\n&gt; class is not sufficient.\n&gt;\n&gt; &gt;\n&gt; &gt; Thanks,\n&gt; &gt; JBR.\n&gt; &gt;\n&gt; &gt; ----- Original Message -----\n&gt; &gt;  &gt; Your FAQ suggests that for one-time setup code you need to run\n&gt; &gt;  &gt; it in a TestSuite.\n&gt; &gt;\n&gt; &gt; This is what TestSetup is for. Wrap the suite in a subclass of\n&gt; &gt; TestSetup, override setUp() (and maybe tearDown()) in your subclass,\n&gt; &gt; and it only gets run once.\n&gt; &gt;\n&gt; &gt; Alternatively, you could consider how to untangle your design so you\n&gt; &gt; didn&#39;t need one-time setup.\n&gt; &gt;\n&gt; &gt; Kent\n&gt; &gt;\n&gt; &gt; _________________________________________________________________\n&gt; &gt; Get your FREE download of MSN Explorer at http://explorer.msn.com/intl.asp\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; To unsubscribe from this group, send an email to:\n&gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n-- \nEric Vought\nChief Technical Officer - QLUE Consulting, Inc.\n\nevought@... toll-free: 888-771-3538  RTP area: 919-816-9901\n\n\n\n", 
    "subject": "Re: [junit] Tangled design (Re: Test framework improvement)"
}