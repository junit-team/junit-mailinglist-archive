{
    "numMessagesInTopic": 52, 
    "nextInTime": 4566, 
    "senderId": "CqynEvvpSL_nN5njrY6klrVV_pJZHETrmN6NpHMFIM6gKK6if7g9Sjw8YuADnOP6iusgrZyhpe2b1emlh6jSGLLB6KcxE-SEEok", 
    "systemMessage": false, 
    "subject": "Re: FieldAccessor - was Re: [junit] testing private methods", 
    "from": "John Goodsen &lt;jgoodsen@...&gt;", 
    "authorName": "John Goodsen", 
    "msgSnippet": "You can rip out the copyrights also ... it s not rocket science what s going on ... -- John Goodsen           RADSoft / Rapid Software Delivery Specialists ", 
    "msgId": 4565, 
    "rawEmail": "Return-Path: &lt;jgoodsen@...&gt;\r\nX-Sender: jgoodsen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_1); 2 Apr 2002 21:43:59 -0000\r\nReceived: (qmail 7238 invoked from network); 2 Apr 2002 21:43:58 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m11.grp.scd.yahoo.com with QMQP; 2 Apr 2002 21:43:58 -0000\r\nReceived: from unknown (HELO radmail.icehouse.net) (198.107.233.83)\n  by mta3.grp.scd.yahoo.com with SMTP; 2 Apr 2002 21:43:58 -0000\r\nReceived: (qmail 11123 invoked from network); 2 Apr 2002 13:33:16 -0000\r\nReceived: from unknown (HELO there) (root@127.0.0.1)\n  by localhost with SMTP; 2 Apr 2002 13:33:16 -0000\r\nContent-Type: text/plain;\n  charset=&quot;iso-8859-1&quot;\r\nOrganization: RADSoft\r\nTo: junit@yahoogroups.com\r\nSubject: Re: FieldAccessor - was Re: [junit] testing private methods\r\nDate: Tue, 2 Apr 2002 13:42:20 -0800\r\nX-Mailer: KMail [version 1.3.1]\r\nReferences: &lt;F89OAnjLGXYB1J5NPAk00004c6e@...&gt; &lt;200204022143.g32Lh4c06685@...-hosting.com&gt;\r\nIn-Reply-To: &lt;200204022143.g32Lh4c06685@...-hosting.com&gt;\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: 8bit\r\nFrom: John Goodsen &lt;jgoodsen@...&gt;\r\nReply-To: jgoodsen@...\r\nX-Yahoo-Group-Post: member; u=29621510\r\nX-Yahoo-Profile: jgoodsen\r\n\r\nYou can rip out the copyrights also ... it&#39;s not rocket\nscience what&#39;s going on ...\n\n-- \nJohn Goodsen           RADSoft / Rapid Software Delivery Specialists\njgoodsen@...             eXtreme Java Internet Consultants\nhttp://www.radsoft.com           Toll Free: 866-RADSOFT (723-7638)\n\n&gt;\n&gt; I almost hate to do this, but here&#39;s a couple of classes that\n&gt; let you access private fields and invoke private methods.\n&gt; FieldAccessor and MethodAccessor, respectively.  I admit\n&gt; to helping write this code and since then, I try very hard\n&gt; to never use it.\n&gt;\n&gt; If you want to pop your brains out and you can handle the\n&gt; smell in your unit tests ... have at it! :-)\n&gt;\n&gt; ------- class Fieldccessor.java ------------\n&gt;\n&gt; //\n&gt; // (C) 1999-2001, RADSoft.  All Rights Reserved.\n&gt; // This code may be used freely as long as the above copyright is included.\n&gt; //\n&gt; import java.lang.reflect.Field;\n&gt;\n&gt; public final class FieldAccessor {\n&gt;\n&gt;     public static Object get(Object object, String fieldName) {\n&gt;         if (object == null) throw new IllegalArgumentException(&quot;Object\n&gt; passed to FieldAccessor.get is null&quot;);\n&gt;         Exception exception = null;\n&gt;         for (Class objectClass = object.getClass(); objectClass != null;\n&gt; objectClass = objectClass.getSuperclass()) {\n&gt;             try {\n&gt;                 Field field = objectClass.getDeclaredField(fieldName);\n&gt;                 field.setAccessible(true);\n&gt;                 Object obj = field.get(object);\n&gt;                 return obj;\n&gt;             } catch (Exception ex) {\n&gt;                 exception = ex;\n&gt;             }\n&gt;         }\n&gt;         throw new RuntimeException(&quot;Could get value for field &quot; +\n&gt; object.getClass().getName() + &quot;.&quot; + fieldName);\n&gt;     }\n&gt;\n&gt;     public static Object getStatic(Class clazz, String fieldName) {\n&gt;         Exception exception = null;\n&gt;         for (; clazz != null; clazz = clazz.getSuperclass()) {\n&gt;             try {\n&gt;                 Field field = clazz.getDeclaredField(fieldName);\n&gt;                 field.setAccessible(true);\n&gt;                 Object obj = field.get(clazz);\n&gt;                 return obj;\n&gt;             } catch (Exception ex) {\n&gt;                 exception = ex;\n&gt;             }\n&gt;         }\n&gt;         throw new RuntimeException(&quot;Could get value for static field &quot; +\n&gt; clazz.getName() + &quot;.&quot; + fieldName);\n&gt;     }\n&gt;\n&gt;     public static void set(Object object, String fieldName, Object value) {\n&gt;         if (object == null) throw new IllegalArgumentException(&quot;Object\n&gt; passed to FieldAccessor.set is null&quot;);\n&gt;         Class objectClass = object.getClass();\n&gt;         Exception exception = null;\n&gt;         for (; objectClass != null; objectClass =\n&gt; objectClass.getSuperclass()) try {\n&gt;                 Field field = objectClass.getDeclaredField(fieldName);\n&gt;                 field.setAccessible(true);\n&gt;                 field.set(object, value);\n&gt;                 return;\n&gt;             } catch (Exception ex) {\n&gt;                 exception = ex;\n&gt;             }\n&gt;         throw new RuntimeException(&quot;Could set value for field &quot; +\n&gt; object.getClass().getName() + &quot;.&quot; + fieldName);\n&gt;     }\n&gt;\n&gt;     public static void setStatic(Class clazz, String fieldName, Object\n&gt; value) {\n&gt;         if (clazz == null) throw new IllegalArgumentException(&quot;Object\n&gt; passed to FieldAccessor.setStatic\n&gt; is null&quot;);\n&gt;         Exception exception = null;\n&gt;         for (; clazz != null; clazz = clazz.getSuperclass()) {\n&gt;             try {\n&gt;                 Field field = clazz.getDeclaredField(fieldName);\n&gt;                 field.setAccessible(true);\n&gt;                 field.set(clazz, value);\n&gt;                 return;\n&gt;             } catch (Exception ex) {\n&gt;                 exception = ex;\n&gt;             }\n&gt;         }\n&gt;         throw new RuntimeException(&quot;Could set value for static field &quot; +\n&gt; clazz.getName() + &quot;.&quot; + fieldName);\n&gt;     }\n&gt; }\n&gt;\n&gt; ------- class MethodAccessor.java ------------\n&gt;\n&gt; //\n&gt; // (C) 1999-2001, RADSoft.  All Rights Reserved.\n&gt; // This code may be used freely as long as the above copyright is included.\n&gt; //\n&gt;\n&gt; import java.lang.reflect.Method;\n&gt;\n&gt; public final class MethodAccessor {\n&gt;\n&gt;     public static Object invoke(Object object, String methodName, Class\n&gt; parameterTypes[], Object parameters[]) {\n&gt;         try {\n&gt;             Method method = object.getClass().getDeclaredMethod(methodName,\n&gt; parameterTypes);\n&gt;             method.setAccessible(true);\n&gt;             Object obj = method.invoke(object, parameters);\n&gt;             return obj;\n&gt;         } catch (Exception ex) {\n&gt;             ex.printStackTrace();\n&gt;         }\n&gt;         throw new RuntimeException(&quot;Failed method invocation: &quot; +\n&gt; object.getClass().getName() + &quot;.&quot; + methodName + &quot;()&quot;);\n&gt;     }\n&gt;\n&gt;     public static Object invokeStatic(Class clazz, String methodName, Class\n&gt; parameterTypes[], Object parameters[]) {\n&gt;         try {\n&gt;             Method method = clazz.getDeclaredMethod(methodName,\n&gt; parameterTypes);\n&gt;             method.setAccessible(true);\n&gt;             Object obj = method.invoke(clazz, parameters);\n&gt;             return obj;\n&gt;         } catch (Exception ex) {\n&gt;             ex.printStackTrace();\n&gt;         }\n&gt;         throw new RuntimeException(&quot;Failed static method invocation: &quot; +\n&gt; clazz.getName() + &quot;.&quot; + methodName + &quot;()&quot;);\n&gt;     }\n&gt; }\n&gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n\n", 
    "profile": "jgoodsen", 
    "topicId": 3179, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 29621510, 
    "prevInTime": 4564, 
    "contentTrasformed": false, 
    "postDate": "1017783740", 
    "canDelete": false, 
    "nextInTopic": 4567, 
    "prevInTopic": 4564, 
    "headers": {
        "inReplyToHeader": "PDIwMDIwNDAyMjE0My5nMzJMaDRjMDY2ODVAbWFpbGhvc3Qud2ViLWhvc3RpbmcuY29tPg==", 
        "referencesHeader": "PEY4OU9BbmpMR1hZQjFKNU5QQWswMDAwNGM2ZUBob3RtYWlsLmNvbT4gPDIwMDIwNDAyMjE0My5nMzJMaDRjMDY2ODVAbWFpbGhvc3Qud2ViLWhvc3RpbmcuY29tPg=="
    }
}