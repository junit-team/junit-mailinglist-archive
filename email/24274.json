{
    "numMessagesInTopic": 30, 
    "nextInTime": 24275, 
    "senderId": "D0A_P8vO2a3gu7uyRDsd5jQNEWvgPv-27A_Fh--n_e-D6bwpRRiYWemTz8eX34O7b51RDwXcD_5Ks-FgHvDnLBDpMx0s4BA1", 
    "systemMessage": true, 
    "subject": "Feedback requested: Impending changes to RunListener", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "Hello, everyone Short version: we are thinking of adding an optional dependency from JUnit to jcip-annotations and are soliciting feedback. A few people have", 
    "msgId": 24274, 
    "profile": "kevincooney2000", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "messageBody": "<div id=\"ygrps-yiv-589218561\">Hello, everyone<br/>\n<br/>\nShort version: we are thinking of adding an optional dependency from JUnit<br/>\nto jcip-annotations and are soliciting feedback.<br/>\n<br/>\nA few people have noticed that when you use ParallelComputer, you got poor<br/>\nperformance because calls to registered RunListeners are synchronized. We<br/>\nwould like to fix this in the next release of JUnit.<br/>\n<br/>\nIn order to prevent affecting existing users, we are proposing having an<br/>\nannotation that can be added to RunListener implementations that can safely<br/>\nbe called concurrently from multiple threads. If a RunListener passed to a<br/>\nRunNotifier is not annotated with this annotation, JUnit will wrap it with<br/>\na decorator that does synchronization.<br/>\n<br/>\n<br/>\nWe would appreciate feedback on this new annotation.<br/>\n<br/>\nWe have two options:<br/>\n<br/>\na. Create our own annotation for this<br/>\nb. Use ThreadSafe (<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://grepcode.com/file/repo1.maven.org/maven2/net.jcip/jcip-annotations/1.0/net/jcip/annotations/ThreadSafe.java\">http://grepcode.com/file/repo1.maven.org/maven2/net.jcip/jcip-annotations/1.0/net/jcip/annotations/ThreadSafe.java</a><br/>\n)<br/>\n<br/>\nThe advantages to option b are:<br/>\n<br/>\n1. It&#39;s a well-known annotation<br/>\n2. Users that use JUnit can add this annotation to their thread-safe<br/>\nRunListener implementations today and get the benefits &quot;for free&quot; later.<br/>\n<br/>\nNote we can do this without requiring that all users of JUnit have the<br/>\njcip-annotations jar in their classpath as of JDK 1.5.0_06 (see<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime)\">http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime)</a>.<br/>\nIf jcip-annotations is not on the classpath then all RunListener<br/>\nimplementations will be treated as not thread-safe.<br/>\n<br/>\nAs a specific example, the Maven Surefire plugin would use this dependency<br/>\nand include jcip-annotations.<br/>\n<br/>\nCurrently, JUnit only depends on one third-party library (Hamcrest). This<br/>\nhas caused us some pain in the past when the Hamcrest code changed in ways<br/>\nthat broke existing users of JUnit. We believe this will not be an issue<br/>\nwith jcip-annotations because the JAR only contains annotations, not any<br/>\ncode.<br/>\n<br/>\nOne possible concern would be with other open source libraries that provide<br/>\nRunListener implementations (they would need to add jcip-annotations to<br/>\ntheir compile-time classpath if they have thread-safe annotations, and<br/>\ndocument this to their users).<br/>\n<br/>\nThoughts?<br/>\n<br/>\n-- Kevin<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 24273, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1360170411", 
    "canDelete": false, 
    "nextInTopic": 24275, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PENBQTNFK2VYcUY2RE5RYzByNUhla2oxZ0UtUHlCbnZqNF9UTmJWZ1JVbytFZWt4d2hqd0BtYWlsLmdtYWlsLmNvbT4="
    }
}