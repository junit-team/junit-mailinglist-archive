{
    "numMessagesInTopic": 7, 
    "nextInTime": 22036, 
    "senderId": "VT-nudvzTilp8irSeoWFf6lvRDXqp2wfcIAJQlTRm6fewGyYLGyNiFiNGyB4z_XUf4dIUM02pJR_PDb34E23_Hvw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: How to build a test suite automatically in Junit4?", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Yishai, Can you move the request to github?  I have an idea of a general way to handle things like this, but it looks like it ll take backseat to concurrency", 
    "msgId": 22035, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 65990 invoked from network); 29 Oct 2009 14:51:54 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m7.grp.re1.yahoo.com with QMQP; 29 Oct 2009 14:51:54 -0000\r\nX-Received: from unknown (HELO mail-iw0-f175.google.com) (209.85.223.175)\n  by mta1.grp.sp2.yahoo.com with SMTP; 29 Oct 2009 14:51:54 -0000\r\nX-Received: by iwn5 with SMTP id 5so1411162iwn.11\n        for &lt;junit@yahoogroups.com&gt;; Thu, 29 Oct 2009 07:51:54 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.122.208 with SMTP id m16mr398642ibr.16.1256827913991; Thu, \n\t29 Oct 2009 07:51:53 -0700 (PDT)\r\nIn-Reply-To: &lt;hc7hj7+tetq@...&gt;\r\nReferences: &lt;4f7da6b90910261132r47c24618j13db028725b28933@...&gt;\n\t &lt;hc7hj7+tetq@...&gt;\r\nDate: Thu, 29 Oct 2009 10:51:53 -0400\r\nX-Google-Sender-Auth: 07c75261191fdfcb\r\nMessage-ID: &lt;4f7da6b90910290751lbf503a6va73492df78ea5630@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: How to build a test suite automatically in Junit4?\r\nX-Yahoo-Group-Post: member; u=341876227; y=FZ7-cXn8kgDMZJ8qQI2C2AgzbmGz5VwAw-J3k-Zc_dc\r\nX-Yahoo-Profile: dsaff\r\n\r\nYishai,\n\nCan you move the request to github?  I have an idea of a general w=\r\nay\nto handle things like this, but it looks like it&#39;ll take backseat to\ncon=\r\ncurrency for at least a week.\n\n   David Saff\n\nOn Tue, Oct 27, 2009 at 3:27 =\r\nPM, yme0987654321 &lt;yme0987654321@...&gt; wrote:\n&gt; The way I do this curr=\r\nently is with a custom runner like this:\n&gt;\n&gt; public class CustomRunner exte=\r\nnds Suite {\n&gt;\n&gt; =A0 =A0public CustomRunner(Class&lt;?&gt; setupClass) throws Init=\r\nializationError {\n&gt; =A0 =A0 =A0 =A0super(setupClass, staticMethodWhichGetsT=\r\nheClassesAsAnArrayForTheSuite());\n&gt; =A0 =A0}\n&gt; }\n&gt;\n&gt; And then Run an arbitr=\r\nary class annotated with that Runner using @RunWith (I did it as a nested c=\r\nlass so it was all right there, just be sure to declare it static). In that=\r\n arbitrary class, you can do @BeforeClass and @AfterClass that might do int=\r\neresting things.\n&gt;\n&gt; I put in a request (http://sourceforge.net/tracker/ind=\r\nex.php?func=3Ddetail&aid=3D2786193&group%5Fid=3D15278&atid=3D365278) with m=\r\ny preferred way of resolving this, but I don&#39;t think anything was done on i=\r\nt.\n&gt;\n&gt; By the way, I&#39;d be happy to code up the implementation and submit it=\r\n as a patch if David/Kent would agree on the approach (a new runner, change=\r\ns to the current runner, whatever. I don&#39;t really care, I would just like t=\r\no see it as part of the framework).\n&gt;\n&gt; I think the above workaround is rea=\r\nsonable enough (although not really that obvious) that I can certainly unde=\r\nrstand not prioritizing addressing this.\n&gt;\n&gt; Yishai\n&gt;\n&gt; --- In junit@yahoog=\r\nroups.com, David Saff &lt;david@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; ju_10101,\n&gt;&gt;\n&gt;&gt; Ask tomorrow=\r\n for an ETA on the next release.\n&gt;&gt;\n&gt;&gt; =A0 =A0David\n&gt;&gt;\n&gt;&gt; On Fri, Oct 23, 2=\r\n009 at 11:50 AM, ju_10101 &lt;ju_10101@...&gt; wrote:\n&gt;&gt; &gt; I just got folks in th=\r\ne office to agree to upgrade - might be a harder battle to get a nightly bu=\r\nild, but I&quot;ll take a look.\n&gt;&gt; &gt;\n&gt;&gt; &gt; With the 4.7 release then, there&#39;s no =\r\nway to build a dynamic test suite? =A0Any estimate when the next release mi=\r\nght be? =A0I might just drop back down to 3.8 in the meantime.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Th=\r\nanks!\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; --- In junit@yahoogroups.com, David Saff &lt;david@&gt; wrot=\r\ne:\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; ju_10101,\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; Are you able to use pre-release code? =\r\n=A0HEAD at github includes a\n&gt;&gt; &gt;&gt; Category system, which you could combine=\r\n with Link&#39;s cpsuite runner to\n&gt;&gt; &gt;&gt; get what you want.\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; =A0 =A0=\r\nDavid Saff\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;&gt; On Thu, Oct 22, 2009 at 7:31 PM, ju_10101 &lt;ju_10101@=\r\n&gt; wrote:\n&gt;&gt; &gt;&gt; &gt; Hi,\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; I&#39;ve just updated to 4.7 from 3.8.2. =\r\n=A0I have a large project with a lot of classes and packages, but I also an=\r\nnotate tests for fast and slow. =A0I create my FastSuite to find all tests =\r\nclasses annotated with SmallTest. =A0That way, these can be run first in th=\r\ne continuous environment, and the slow ones run later, on a different machi=\r\nne, so I don&#39;t backup the queue, etc.\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; It seems the way to m=\r\nake suites in 4.7 is to explicitly list each classname as an annotation to =\r\nyour suite class, but I don&#39;t want to do that because a) I have a lot, and =\r\nb) I don&#39;t want to not run new tests because someone didn&#39;t go update the m=\r\nanual list of test classes somewhere.\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; My old way doesn&#39;t wo=\r\nrk anymore. =A0Can anyone tell me how to accomplish the same in junit 4.7??=\r\n\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; My code in 3.8.2 was (sorry for the formatting!):\n=\r\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; =A0 =A0public static Test suite() {\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0=\r\nfinal String smallTestName =3D SmallTest.class.getCanonicalName();\n&gt;&gt; &gt;&gt; &gt; =\r\n=A0 =A0 =A0 =A0TestSuite suite =3D new TestSuite();\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; =A0 =A0=\r\n =A0 =A0Enumeration testClasses =3D new LoadingTestCollector().collectTests=\r\n();\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0while (testClasses.hasMoreElements()) {\n&gt;&gt; &gt;&gt; &gt; =\r\n=A0 =A0 =A0 =A0 =A0 =A0final String className =3D testClasses.nextElement()=\r\n.toString();\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0try {\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0Annotation[] annotations =3D Class.forName(className=\r\n).getAnnotations();\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0for (Annotation =\r\na : annotations) {\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (a.ann=\r\notationType().getCanonicalName().equals(smallTestName)) {\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System.out.println(&quot;HELLOOO- working=\r\n on class &quot; + className);\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0suite.addTestSuite(Class.forName(className));\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0}\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}\n&gt;&gt; &gt;&gt;=\r\n &gt; =A0 =A0 =A0 =A0 =A0 =A0} =A0 =A0catch (ClassNotFoundException e) {\n&gt;&gt; &gt;&gt;=\r\n &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System.err.println(&quot;Error: Couldn&#39;t deal =\r\nwith &quot; + className);\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0}\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =\r\n=A0}\n&gt;&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0return suite;\n&gt;&gt; &gt;&gt; &gt; =A0 =A0}\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n=\r\n&gt;&gt; &gt;&gt; &gt; The compiler error is: addTestSuite(java.lang.Class&lt;? extends junit=\r\n.framework.TestCase&gt;) in junit.framework.TestSuite cannot be applied to (ja=\r\nva.lang.Class&lt;capture#337 of ?&gt;)\n&gt;&gt; &gt;&gt; &gt; =A0 =A0[javac] =A0 =A0 =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0 suite.addTestSuite(Class.forName(className));\n=\r\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; ---------------------------=\r\n---------\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt; Yahoo! Groups Links\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt; &gt;\n&gt;&gt; &gt;&gt;=\r\n &gt;\n&gt;&gt; &gt;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; ------------------------------------\n&gt;&gt; &gt;=\r\n\n&gt;&gt; &gt; Yahoo! Groups Links\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; ----------------=\r\n--------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 21994, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22034, 
    "contentTrasformed": false, 
    "postDate": "1256827913", 
    "canDelete": false, 
    "nextInTopic": 22036, 
    "prevInTopic": 22024, 
    "headers": {
        "inReplyToHeader": "PGhjN2hqNyt0ZXRxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkxMDI5MDc1MWxiZjUwM2E2dmE3MzQ5MmRmNzhlYTU2MzBAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDRmN2RhNmI5MDkxMDI2MTEzMnI0N2MyNDYxOGoxM2RiMDI4NzI1YjI4OTMzQG1haWwuZ21haWwuY29tPgkgPGhjN2hqNyt0ZXRxQGVHcm91cHMuY29tPg=="
    }
}