{
    "numMessagesInTopic": 6, 
    "nextInTime": 15971, 
    "senderId": "qhbgITvU0O-N8rX0IDe_4HTOCnsrXFXZdPb1RZJ3NQvW6mxYdEX_FXju57yJxosqCIsyvPmee78niOPbmW6dTAM3WyhSvCciI8AjIg", 
    "systemMessage": false, 
    "subject": "Reliability of Timeout", 
    "from": "&quot;Ben Maurer&quot; &lt;bmaurer@...&gt;", 
    "authorName": "Ben Maurer", 
    "msgSnippet": "Hey guys, On the junit4 I am using for the the testing server described in a previous email, I m noticing that the support for timeouts can be less than fully", 
    "msgId": 15970, 
    "rawEmail": "Return-Path: &lt;bmaurer@...&gt;\r\nX-Sender: bmaurer@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 67852 invoked from network); 6 Feb 2006 02:06:34 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m32.grp.scd.yahoo.com with QMQP; 6 Feb 2006 02:06:34 -0000\r\nReceived: from unknown (HELO n24.bullet.scd.yahoo.com) (66.94.237.53)\n  by mta3.grp.scd.yahoo.com with SMTP; 6 Feb 2006 02:06:33 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.6] by n24.bullet.scd.yahoo.com with NNFMP; 06 Feb 2006 02:06:29 -0000\r\nReceived: from [66.218.66.80] by t6.bullet.scd.yahoo.com with NNFMP; 06 Feb 2006 02:06:29 -0000\r\nDate: Mon, 06 Feb 2006 02:06:29 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;ds6av5+iqk9@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Ben Maurer&quot; &lt;bmaurer@...&gt;\r\nSubject: Reliability of Timeout\r\nX-Yahoo-Group-Post: member; u=256083789; y=2-UtqjqTsnJCQU_ikLCCpB-A5kJYIBnHapV7IXKn4KmrlgSomlJmkNWx3x4mrg\r\nX-Yahoo-Profile: benjamindavidmaurer\r\n\r\nHey guys,\n\nOn the junit4 I am using for the the testing server described in=\r\n a\nprevious email, I&#39;m noticing that the support for timeouts can be less\nt=\r\nhan fully reliable. My server has an OS level protection system that\nkicks =\r\nin a ulimit-like functionality in Windows to protect against\nfailures in Ja=\r\nva. However, the down-side of this failsafe is that it\nmakes it impossible =\r\nto recover junit information.\n\nI think this is due to the way junit aborts =\r\nthreads:\n\nboolean terminated =3D service.awaitTermination(timeout,\n\tTimeUni=\r\nt.MILLISECONDS);\n\tif (!terminated)\n\t\tservice.shutdownNow();\n\nBy tracing thr=\r\nough the java code, it seems that the shutdownNow method\nends up calling th=\r\nread.interrupt. This *only* aborts the thread if it\nis caught in a sleep/wa=\r\nit/etc. In my case, the thread stays in some\ncpu intensive loop, causing ot=\r\nher tests to timeout, or possibly\ncausing a kick-in of the OS level protect=\r\nion.\n\nA few options that I can see:\n\n- Provide an option to call .stop on n=\r\non-responsive threads. My\nunderstanding is that stop uses the same method t=\r\nhat the GC does to\nsuspend threads.\n\n- Set the priority of a run-away threa=\r\nd to be as low as possible to\nminimize damage.\n\n- In the Assert api, poll (=\r\nevery N calls) for a command to stop. If\nthe program in question is slow (b=\r\nut not completely out of control),\nthis may allow junit to safely stop.\n\nIn=\r\n any case, if the functionaliy of the timeout api can&#39;t be correct\nfor most=\r\n programs, I&#39;m not exactly sure what value it provides.\n\n-- Ben\n\n\n\n\n", 
    "profile": "benjamindavidmaurer", 
    "topicId": 15970, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 256083789, 
    "prevInTime": 15969, 
    "contentTrasformed": false, 
    "postDate": "1139191589", 
    "canDelete": false, 
    "nextInTopic": 16000, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGRzNmF2NStpcWs5QGVHcm91cHMuY29tPg=="
    }
}