{
    "numMessagesInTopic": 3, 
    "nextInTime": 19357, 
    "senderId": "2ODrPn_5moARzeTg209CQEam71NRywpcvMII6tjNJ2ji5DpFFp8jlR67QHC9HeIRKDuMNcSTiWRJX2vpMwbGn-NgnxGRLHelxlrH9b5KIJEkK1E", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing An Inherited Class", 
    "from": "&quot;Andrew McDonagh&quot; &lt;andrewmcdonagh@...&gt;", 
    "authorName": "Andrew McDonagh", 
    "msgSnippet": "I think the real issue here is using Inheritance when its not suitable. We are having to test the logic of the derived classes by using the functioanlity of", 
    "msgId": 19356, 
    "rawEmail": "Return-Path: &lt;andrewmcdonagh@...&gt;\r\nX-Sender: andrewmcdonagh@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 51286 invoked from network); 14 May 2007 15:26:29 -0000\r\nReceived: from unknown (66.218.66.68)\n  by m45.grp.scd.yahoo.com with QMQP; 14 May 2007 15:26:29 -0000\r\nReceived: from unknown (HELO wr-out-0506.google.com) (64.233.184.227)\n  by mta11.grp.scd.yahoo.com with SMTP; 14 May 2007 15:26:28 -0000\r\nReceived: by wr-out-0506.google.com with SMTP id i4so2033080wra\n        for &lt;junit@yahoogroups.com&gt;; Mon, 14 May 2007 08:26:23 -0700 (PDT)\r\nDKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;\n        d=gmail.com; s=beta;\n        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;\n        b=pFR5few1AfH5f0SwODOyhw1m2jxwTWAZzFeOisd0989SiCu9gX+Y/+bokSKnj4V0MHW7sT6PpmJ6SSFjTeWthaJ5mkziC3s7ixjGP/qY4uHlvtzbPjSprY4rS+4wykmmbyvcHrPc/j4fLsBObwtQBbzet4hp2lx+ZKlThBeAJ7Y=\r\nReceived: by 10.114.15.1 with SMTP id 1mr1032348wao.1179155779033;\n        Mon, 14 May 2007 08:16:19 -0700 (PDT)\r\nReceived: by 10.114.153.5 with HTTP; Mon, 14 May 2007 08:16:18 -0700 (PDT)\r\nMessage-ID: &lt;35c507d30705140816n480a2877p8107a912b097c72d@...&gt;\r\nDate: Mon, 14 May 2007 16:16:18 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;23fce8e60705140650h37dccf77n8821590a87926a72@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;f220oo+sai5@...&gt;\n\t &lt;23fce8e60705140650h37dccf77n8821590a87926a72@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Andrew McDonagh&quot; &lt;andrewmcdonagh@...&gt;\r\nSubject: Re: [junit] Testing An Inherited Class\r\nX-Yahoo-Group-Post: member; u=283773244; y=0JMXeX3DDBD3AzLQjcOVLDFqd4IUGvnO49PUaMVR_K260ZFJYgzRUg\r\nX-Yahoo-Profile: andy_ipaccess\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nI think the real issue here is using Inheritance when its not suitable.\n\nWe are having to test the logic of the derived classes by using the\nfunctioanlity of the base class to parse the xml files.\n\nUsing a Delegation design, the unit tests can be created that test a class\nparses the xml file correctly, by having that class delegate each node type\nto a stand-alone separate class, not an inherited method.\n\nThis way you can use Mock Node handlers to see if the parsing class called\nthem correctly and with the right data.\n\nThen the node handling classes can be unit test on their own, without the\nneed to load an XML file...just provide them the data they need.\n\nIn other words, Google &#39;replace conditional with strategy&#39;\n\nRegards\n\nAndrew\n\nOn 5/14/07, James Abley &lt;james.abley@...&gt; wrote:\n&gt;\n&gt;   On 11/05/07, melvinmah &lt;melvinmah@... &lt;melvinmah%40yahoo.com&gt;&gt;\n&gt; wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I have created a class that literally inherits other classes. This new\n&gt; &gt; class is specifically written to read my new XML nodes that I have\n&gt; &gt; introduced in the new file. This is done to avoid creating potential\n&gt; &gt; complications or shall I say dependency problems from adding material\n&gt; &gt; to an existing class.\n&gt; &gt;\n&gt; &gt; The class reads this setting from this file called config.xml\n&gt; &gt;\n&gt; &gt; &lt;section-manage&gt;\n&gt; &gt; &lt;display section_id=&quot;accession&quot; order=&quot;asc&quot; sort_column=&quot;1&quot; /&gt;\n&gt; &gt; &lt;display section_id=&quot;serials&quot; order=&quot;asc&quot; sort_column=&quot;2&quot; /&gt;\n&gt; &gt; &lt;/section-manage&gt;\n&gt; &gt;\n&gt; &gt; So my new class literally reads as follows:\n&gt; &gt;\n&gt; &gt; Class name is: SectionManageHandler\n&gt; &gt; The following is the main method of how it reads the XML node.\n&gt; &gt;\n&gt; &gt; protected void readFullDisplayLinkabilityConfig(Element elmDisplay) {\n&gt; &gt; lDisplayTags = new Vector();\n&gt; &gt; Element[] aelmFull =\n&gt; &gt; DOMUtils.getChildElementsByTagName(elmDisplay, &quot;full-display&quot;);\n&gt; &gt; if (aelmFull != null) {\n&gt; &gt; Element[] aelmSectionView =\n&gt; &gt; DOMUtils.getChildElementsByTagName(aelmFull[0],\n&gt; &gt; &quot;section-manage&quot;);\n&gt; &gt; Element[] aelmSectionDisplay =\n&gt; &gt; DOMUtils.getChildElementsByTagName(aelmSectionView[0],\n&gt; &gt; &quot;display&quot;);\n&gt; &gt; for (int i=0; i &lt;\n&gt; &gt; ArrayLengthCounter.countLength(aelmSectionDisplay); i++) {\n&gt; &gt; String szSectionId =\n&gt; &gt; aelmSectionDisplay[i].getAttribute(&quot;section_id&quot;);\n&gt; &gt; if (szSectionId.equalsIgnoreCase(&quot;acquisition&quot;)) {\n&gt; &gt; szSectionId = &quot;acquisition&quot;;\n&gt; &gt; } else if (szSectionId.equalsIgnoreCase(&quot;serials&quot;)) {\n&gt; &gt; szSectionId = &quot;serials&quot;;\n&gt; &gt; } else if (szSectionId.equalsIgnoreCase(&quot;accession&quot;)) {\n&gt; &gt; szSectionId = &quot;accession&quot;;\n&gt; &gt; }\n&gt; &gt; lDisplayTags.add(szSectionId);\n&gt; &gt; String szSortOrder =\n&gt; &gt; aelmSectionDisplay[i].getAttribute(&quot;order&quot;);\n&gt; &gt; if (szSortOrder != null) {\n&gt; &gt; if (szSortOrder.equalsIgnoreCase(&quot;asc&quot;)){\n&gt; &gt; szSortOrder = &quot;ASC&quot;;\n&gt; &gt; } else if (szSortOrder.equalsIgnoreCase(&quot;desc&quot;)) {\n&gt; &gt; szSortOrder = &quot;DESC&quot;;\n&gt; &gt; }\n&gt; &gt; } else {\n&gt; &gt; szSortOrder = &quot;ASC&quot;;\n&gt; &gt; }\n&gt; &gt; lDisplayTags.add(&quot;szSortOrder&quot;);\n&gt; &gt; int iSortColumn =\n&gt; &gt; Integer.parseInt(aelmSectionDisplay[i].getAttribute(&quot;sort_column&quot;));\n&gt; &gt; if(iSortColumn &lt; 1) {\n&gt; &gt; iSortColumn = 1;\n&gt; &gt; } else if (iSortColumn &gt; 10) {\n&gt; &gt; iSortColumn = 1;\n&gt; &gt; }\n&gt; &gt; lDisplayTags.add(iSortColumn);\n&gt; &gt; }\n&gt; &gt; }\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; I want to make sure that the class work so it means that I have to\n&gt; &gt; write a Test class file. I tried writing various ways but without\n&gt; &gt; success. My test conditions are:\n&gt; &gt;\n&gt; &gt; 1. Only proceeds to read the node if section_id is not null.\n&gt;\n&gt; public void testSectionWithNullIdIsIgnored() {\n&gt; Config config = Config.readXML(&quot;/path/to/some/xml&quot;);\n&gt; assertEquals(0, config.getSections().length);\n&gt; }\n&gt;\n&gt; Where the XML has a suitably null section id and getSections() returns\n&gt; an array of Section objects.\n&gt;\n&gt; &gt; 2. If value of order is incorrect or blank, default value &quot;asc&quot; will\n&gt; &gt; be used in place.\n&gt;\n&gt; public void testSectionWithBlankOrderIsAscending() {\n&gt; Config config = Config.readXML\n&gt; (&quot;/path/to/some/xml/with/unspecified/order&quot;);\n&gt; assertEquals(Order.ASCENDING, config.getSections()[0].getOrder());\n&gt; }\n&gt;\n&gt; pubilc void testSectionWithInvalidOrderIsAscending() {\n&gt; Config config = Config.readXML(&quot;/path/to/some/xml/with/invalid/order&quot;);\n&gt; assertEquals(Order.ASCENDING, config.getSections()[0].getOrder());\n&gt; }\n&gt;\n&gt; &gt; 3. If value of sort_column is blank or it is either less than 1 or\n&gt; &gt; more than 10, the value 1 will be used.\n&gt;\n&gt; Similar to my second answer.\n&gt;\n&gt; I hope this gives you some avenues of thought to explore.\n&gt;\n&gt; Cheers,\n&gt;\n&gt; James\n&gt;\n&gt; &gt;\n&gt; &gt; Pls advise or suggest workaround solutions to this -seriously I need\n&gt; &gt; help. Thanks.\n&gt; &gt;\n&gt; &gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "andy_ipaccess", 
    "topicId": 19351, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 283773244, 
    "prevInTime": 19355, 
    "contentTrasformed": false, 
    "postDate": "1179155778", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 19355, 
    "headers": {
        "inReplyToHeader": "PDIzZmNlOGU2MDcwNTE0MDY1MGgzN2RjY2Y3N244ODIxNTkwYTg3OTI2YTcyQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDM1YzUwN2QzMDcwNTE0MDgxNm40ODBhMjg3N3A4MTA3YTkxMmIwOTdjNzJkQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGYyMjBvbytzYWk1QGVHcm91cHMuY29tPgkgPDIzZmNlOGU2MDcwNTE0MDY1MGgzN2RjY2Y3N244ODIxNTkwYTg3OTI2YTcyQG1haWwuZ21haWwuY29tPg=="
    }
}