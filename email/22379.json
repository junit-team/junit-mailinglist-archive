{
    "numMessagesInTopic": 12, 
    "nextInTime": 22380, 
    "senderId": "-8ROpVGUV3U9z0A3aROgmNJlnCUXNTUTfi7ZgZvgdawSalV6nkc0itTkPf1VFFkk79gwBxYtNiykK9hNHO6mXqlb0dPSOVXlqoIsa4zEs2xQ0w4jmcHa", 
    "systemMessage": false, 
    "subject": "RE: [junit] Theories Usability", 
    "from": "&quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Loritsch, Berin C.", 
    "msgSnippet": "I haven t logged the feature request, mainly because I might not be using the right tool for the job.  What I would like to see is what I described. With JUnit", 
    "msgId": 22379, 
    "profile": "bloritsch", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "messageBody": "<div id=\"ygrps-yiv-1372757114\">I haven&#39;t logged the feature request, mainly because I might not be using the right tool for the job.  What I would like to see is what I described.<br/>\n<br/>\nWith JUnit 3, I adopted the test nomenclature of something on the order of:<br/>\n<br/>\ntestMyMethod_withNullParam1()<br/>\ntestMyMethod_withXandYparams()<br/>\n<br/>\netc.<br/>\n<br/>\nthat would let me see within the test report (particularly a continuous integration test report) what exactly failed.  If the null parameter failed its check I&#39;d have to fix one thing (boundary checking), but if the XandYparams version failed then I knew something may be wrong with the algorithm.<br/>\n<br/>\nWith the particular Theory I&#39;ve written I need to know not only the class that was tested, but the attribute that did not follow the contracts for using the base class.  With only one failure that can&#39;t happen.<br/>\n<br/>\nI didn&#39;t think Rules was the right way to go, because the MethodRule objects were applied to the tests within that same class (unless I&#39;m missing something).<br/>\n<br/>\nTheories at least gives me the coverage and assurance I&#39;m after, but I&#39;d like to get away from writing to System.out to figure out exactly what failed.  I would also like to be able to see all my failures at once instead of only after fixing the last failure.<br/>\n<br/>\n<br/>\n-----Original Message-----<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> on behalf of David Saff<br/>\nSent: Sun 2/7/2010 9:48 PM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: Re: [junit] Theories Usability<br/>\n <br/>\nBerin,<br/>\n<br/>\nI do think that we should eventually have a way to operate at least<br/>\noptionally in the way you describe.  Have you logged a feature request<br/>\nyet?<br/>\n<br/>\n   Davi<br/>\n<br/>\nOn Fri, Feb 5, 2010 at 3:27 PM, Loritsch, Berin C.<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:berin.loritsch@...\">berin.loritsch@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Thanks everyone for helping me work through the testing challenge I wanted to address.  I&#39;ve written a rudimentary ClassCollector that lets me specify a base package, what base classes I need, any annotations I need applied, etc.  I supplimented that with a BeanAttributes class that will collect all the attributes (setters/getters) on the class.  It&#39;s working very well.  Unfortunately, there are a few shortcomings with this approach:<br/>\n&gt;<br/>\n&gt; 1. I cannot easily determine what the actual data point combination was that caused the failure.  I have to write those values out to System.out because the test failure does not do that for me.<br/>\n&gt;<br/>\n&gt; 2. It stops on the very first failure, hiding many more failures that may still be lurking beneath the service.<br/>\n&gt;<br/>\n&gt; 3. The theory is the only line shown in the test report, so there is no way to differentiate runs which would handle the above concerns.<br/>\n&gt;<br/>\n&gt; What I would really like to see is that a new test name for each combination of data points.  For example if you had a @Theory named &quot;checkAddWorks&quot; that took two parameters and the data points [1,2] then I&#39;d like to see a set of test names that look like this in the test report:<br/>\n&gt;<br/>\n&gt; checkAddWorks(1,1)<br/>\n&gt; checkAddWorks(1,2)<br/>\n&gt; checkAddWorks(2,2)<br/>\n&gt;<br/>\n&gt; That will address all of the shortcomings I identified.<br/>\n&gt;<br/>\n&gt; My code looks like this:<br/>\n&gt;<br/>\n&gt; @RunWith(Theories.class)<br/>\n&gt; class TestMyTrackableContract {<br/>\n&gt;    @DataPoints<br/>\n&gt;    BeanAttribute[] collectAllAttributesToTest() {<br/>\n&gt;        ClassCollector collector = new ClassCollector();<br/>\n&gt;        collector.within(&quot;com.mycompany.incident.model&quot;).assignableTo(Trackable.class);<br/>\n&gt;        Collection&lt;Class&lt;?&gt;&gt; matchedClasses = collector.recurse().collect();<br/>\n&gt;<br/>\n&gt;        List&lt;BeanAttribute&gt; attributes = new ArrayList&lt;BeanAttribute&gt;();<br/>\n&gt;<br/>\n&gt;        for (Class&lt;?&gt; trackable : matchedClasses) {<br/>\n&gt;            attributes.addAll(BeanAttribute.collectFrom(trackable));<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        return attributes.toArray(new BeanAttribute[attributes.size()]);<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;    @Theory<br/>\n&gt;    public void checkSideEffectsOnAssign() throws Exception {<br/>\n&gt;        // This is designed to ensure that setters/getters work in concert<br/>\n&gt;        // and that setters set the appropriate message is sent<br/>\n&gt;        if ( ! beanAttribute.hasSetter() || ! beanAttribute.hasGetter() ) return;<br/>\n&gt;        beanAttribute.assertBalanced();<br/>\n&gt;<br/>\n&gt;        Trackable entity = beanAttribute.getEntityAs(Trackable.class);<br/>\n&gt;        // Unfortunately needed to determine when things go bad<br/>\n&gt;        System.out.format(&quot;Testing %s&#92;n&quot;, beanAttribute);<br/>\n&gt;<br/>\n&gt;        Object original = beanAttribute.getValue();<br/>\n&gt;        Object testValue = beanAttribute.generateTestValue(original);<br/>\n&gt;<br/>\n&gt;        // Ensure the setter works as expected<br/>\n&gt;        beanAttribute.setValue(testValue);<br/>\n&gt;        assertEquals(testValue, beanAttribute.getValue());<br/>\n&gt;<br/>\n&gt;        // Ensure properties are set and events were properly<br/>\n&gt;        Properties changes = entity.getChanges();<br/>\n&gt;        assertEquals( String.valueOf(testValue),<br/>\n&gt;            changes.getProperty(beanAttribute.getAttribute()));<br/>\n&gt;        assertEquals( String.valueOf(original),<br/>\n&gt;            changes.getProperty(beanAttribute.getAttribute() + &quot;.old&quot;));<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 22378, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1265639083", 
    "canDelete": false, 
    "nextInTopic": 22380, 
    "prevInTopic": 22378, 
    "headers": {
        "messageIdInHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkRAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "referencesHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPiA8NGY3ZGE2YjkxMDAyMDcxODQ4cjM0NThmOGMyb2I3Y2RhN2NhYjY1MjNlY2NAbWFpbC5nbWFpbC5jb20+"
    }
}