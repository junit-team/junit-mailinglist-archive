{
    "numMessagesInTopic": 8, 
    "nextInTime": 20599, 
    "senderId": "gZ7eygqguODSdS9MbbgycN8iOQnr7SqGv20Eg0eJFoftIV0F8xi70QYDpVNGspJzC0I6V6QUErwGrZ4-WU0myiezIiQuDELlWCG4cNY", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing code that depends on today&#39;s date", 
    "from": "&quot;Mike Hill&quot; &lt;mike@...&gt;", 
    "authorName": "Mike Hill", 
    "msgSnippet": "The today issue is a well established annoyance.  A simple extract method on the logic code to separate it from the today-fetching code is really all that s", 
    "msgId": 20598, 
    "profile": "uly562000", 
    "topicId": 20590, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 266284897, 
    "messageBody": "<div id=\"ygrps-yiv-709251973\">The &#39;today&#39; issue is a well established annoyance.  A simple extract<br/>\nmethod on the logic code to separate it from the today-fetching code<br/>\nis really all that&#39;s needed.<br/>\n<br/>\nI don&#39;t usually write a fake clock.  I do usually have some handy<br/>\nutility laying around that lets me easily do the +30 days, etc.  Thus<br/>\nmy test case takes a &#39;now&#39; and manipulates it to construct the test<br/>\ndata.  Of course, the stuff that&#39;s actually executed on the if branch<br/>\nis itself already extracted and testable through the direct<br/>\ninvocation.  I wind up with two tests, one against the predicate, one<br/>\nagainst the branch body.<br/>\n<br/>\nThis is one of those things, like, say, quickly dropping the command<br/>\npattern into a controller, that you eventually begin to do *as you<br/>\nroll the code*, without much design-ish thinking.  At my house we have<br/>\na motto, based on the truly extraordinary number of times I have badly<br/>\nbashed my head while fetching firewood from the triangle under the<br/>\nstairs where we keep it:  &quot;Fool me once, shame on you.  Fool me three<br/>\nhundred and fourteen consecutive times, shame on me.&quot;  I now crouch<br/>\nthroughout the process.<br/>\n<br/>\nHave fun!<br/>\nHill<br/>\nWant to learn TDD fast?  &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.industriallogic.com/elearning\">http://www.industriallogic.com/elearning</a>&gt;</div>", 
    "prevInTime": 20597, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1213806515", 
    "canDelete": false, 
    "nextInTopic": 20600, 
    "prevInTopic": 20596, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwODA2MTgwMDI2cjdjMTU2ZmRlaDY4MWRhNTY0YzA1M2I0NjZAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDY4MGU0NTRlMDgwNjE4MDkyOG8zN2M1NmZmM3hhODBmMjg2NjFiMDQwZjM5QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDg2MEQ0N0Y4OTA0RjYwNDFBRUVFNTVGOUI2ODQ2NjdGMTYyRDQ2RUYwNUBFWENIQU5HRS1WUzEuZWhhcm1vbnkuY29tPgkgPDE3ZmE1M2QwODA2MTgwMDI2cjdjMTU2ZmRlaDY4MWRhNTY0YzA1M2I0NjZAbWFpbC5nbWFpbC5jb20+"
    }
}