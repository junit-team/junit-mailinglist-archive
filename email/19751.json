{
    "numMessagesInTopic": 5, 
    "nextInTime": 19752, 
    "senderId": "8gGIlRbDtbePO7ONKE_UjLZhFuqn8X-S4In_4h8-zLhquWLx7X9OqmrfNImHz4-Bwg1No_uGK9FyIybRLPNgZDy3", 
    "systemMessage": true, 
    "subject": "Re: JUnit 4.4 released", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Anyone trying out the new features?  Compliments?  Comments? Complaints?  Thanks, David Saff", 
    "msgId": 19751, 
    "profile": "dsaff", 
    "topicId": 19590, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-119364493\">Anyone trying out the new features?  Compliments?  Comments?<br/>\nComplaints?  Thanks,<br/>\n<br/>\n  David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 7/18/07, David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:saff@...\">saff@...</a>&gt; wrote:<br/>\n&gt; All,<br/>\n&gt;<br/>\n&gt; We&#39;re very pleased to announce the release of JUnit 4.4.  This release<br/>\n&gt; is the biggest since JUnit 4.0.  More information below (taken from<br/>\n&gt; the release notes).  To download, please go to<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/project/showfiles.php?group_id=15278&package_id=12472&release_id=524119\">http://sourceforge.net/project/showfiles.php?group_id=15278&package_id=12472&release_id=524119</a><br/>\n&gt;<br/>\n&gt; Thanks to all of the bug reports, feature requests, and good<br/>\n&gt; conversation so far.  We hope this release will provoke more of the<br/>\n&gt; same.<br/>\n&gt;<br/>\n&gt;    David Saff and Kent Beck<br/>\n&gt;<br/>\n&gt; ## Summary of Changes in version 4.4 ##<br/>\n&gt;<br/>\n&gt; JUnit is designed to efficiently capture developers&#39; intentions about<br/>\n&gt; their code, and quickly check their code matches those intentions.<br/>\n&gt; Over the last year, we&#39;ve been talking about what things developers<br/>\n&gt; would like to say about their code that have been difficult in the<br/>\n&gt; past, and how we can make them easier.<br/>\n&gt;<br/>\n&gt; ### assertThat ###<br/>\n&gt;<br/>\n&gt; Two years ago, Joe Walnes built a [new assertion mechanism][walnes] on<br/>\n&gt; top of what was<br/>\n&gt; then [JMock 1][].  The method name was `assertThat`, and the syntax<br/>\n&gt; looked like this:<br/>\n&gt;<br/>\n&gt; [walnes]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://joe.truemesh.com/blog/000511.html\">http://joe.truemesh.com/blog/000511.html</a><br/>\n&gt; [JMock 1]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jmock.org/download.html\">http://www.jmock.org/download.html</a><br/>\n&gt;<br/>\n&gt;     assertThat(x, is(3));<br/>\n&gt;     assertThat(x, is(not(4)));<br/>\n&gt;     assertThat(responseString,<br/>\n&gt; either(containsString(&quot;color&quot;)).or(containsString(&quot;colour&quot;)));<br/>\n&gt;     assertThat(myList, hasItem(&quot;3&quot;));<br/>\n&gt;<br/>\n&gt; More generally:<br/>\n&gt;<br/>\n&gt;     assertThat([value], [matcher statement]);<br/>\n&gt;<br/>\n&gt; Advantages of this assertion syntax include:<br/>\n&gt;<br/>\n&gt; - More readable and typeable: this syntax allows you to think in terms<br/>\n&gt; of subject, verb, object<br/>\n&gt;   (assert &quot;x is 3&quot;) rather than `assertEquals`, which uses verb,<br/>\n&gt; object, subject (assert &quot;equals 3 x&quot;)<br/>\n&gt;<br/>\n&gt; - Combinations: any matcher statement `s` can be negated (`not(s)`),<br/>\n&gt; combined (`either(s).or(t)`),<br/>\n&gt;   mapped to a collection (`each(s)`), or used in custom combinations<br/>\n&gt; (`afterFiveSeconds(s)`)<br/>\n&gt;<br/>\n&gt; - Readable failure messages.  Compare<br/>\n&gt;<br/>\n&gt;         assertTrue(responseString.contains(&quot;color&quot;) ||<br/>\n&gt; responseString.contains(&quot;colour&quot;));<br/>\n&gt;         // ==&gt; failure message:<br/>\n&gt;         // java.lang.AssertionError:<br/>\n&gt;<br/>\n&gt;         assertThat(responseString, anyOf(containsString(&quot;color&quot;),<br/>\n&gt; containsString(&quot;colour&quot;)));<br/>\n&gt;         // ==&gt; failure message:<br/>\n&gt;         // java.lang.AssertionError:<br/>\n&gt;         // Expected: (a string containing &quot;color&quot; or a string<br/>\n&gt; containing &quot;colour&quot;)<br/>\n&gt;         //      got: &quot;Please choose a font&quot;<br/>\n&gt;<br/>\n&gt; - Custom Matchers.  By implementing the `Matcher` interface yourself,<br/>\n&gt; you can get all of the<br/>\n&gt;   above benefits for your own custom assertions.<br/>\n&gt;<br/>\n&gt; - For a more thorough description of these points, see [Joe Walnes&#39;s<br/>\n&gt;   original post][walnes].<br/>\n&gt;<br/>\n&gt; We have decided to include this API directly in JUnit.<br/>\n&gt; It&#39;s an extensible and readable syntax, and it enables<br/>\n&gt; new features, like [assumptions][] and [theories][].<br/>\n&gt;<br/>\n&gt; [assumptions]: #assumptions<br/>\n&gt; [theories]: #theories<br/>\n&gt;<br/>\n&gt; Some notes:<br/>\n&gt;<br/>\n&gt; - The old assert methods are never, ever, going away.  Developers may<br/>\n&gt;   continue using the old `assertEquals`, `assertTrue`, and so on.<br/>\n&gt; - The second parameter of an `assertThat` statement is a `Matcher`.<br/>\n&gt;   We include the Matchers we want as static imports, like this:<br/>\n&gt;<br/>\n&gt;         import static org.hamcrest.CoreMatchers.is;<br/>\n&gt;<br/>\n&gt;   or:<br/>\n&gt;<br/>\n&gt;         import static org.hamcrest.CoreMatchers.*;<br/>\n&gt;<br/>\n&gt; - Manually importing `Matcher` methods can be frustrating.  [Eclipse<br/>\n&gt; 3.3][] includes the ability to<br/>\n&gt;   define<br/>\n&gt;   &quot;Favorite&quot; classes to import static methods from, which makes it easier<br/>\n&gt;   (Search for &quot;Favorites&quot; in the Preferences dialog).<br/>\n&gt;   We expect that support for static imports will improve in all Java<br/>\n&gt; IDEs in the future.<br/>\n&gt;<br/>\n&gt; [Eclipse 3.3]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.eclipse.org/downloads/\">http://www.eclipse.org/downloads/</a><br/>\n&gt;<br/>\n&gt; - To allow compatibility with a wide variety of possible matchers,<br/>\n&gt;   we have decided to include the classes from hamcrest-core,<br/>\n&gt;   from the [Hamcrest][] project.  This is the first time that<br/>\n&gt;   third-party classes have been included in JUnit.<br/>\n&gt;<br/>\n&gt; [Hamcrest]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://code.google.com/p/hamcrest/\">http://code.google.com/p/hamcrest/</a><br/>\n&gt;<br/>\n&gt; - JUnit currently ships with a few matchers, defined in<br/>\n&gt;   `org.hamcrest.CoreMatchers` and `org.junit.matchers.JUnitMatchers`.<br/>\n&gt;   To use many, many more, consider downloading the [full hamcrest package][].<br/>\n&gt;<br/>\n&gt; [full hamcrest package]:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://hamcrest.googlecode.com/files/hamcrest-all-1.1.jar\">http://hamcrest.googlecode.com/files/hamcrest-all-1.1.jar</a><br/>\n&gt;<br/>\n&gt; - JUnit contains special support for comparing string and array<br/>\n&gt;   values, giving specific information on how they differ.  This is not<br/>\n&gt;   yet available using the `assertThat` syntax, but we hope to bring<br/>\n&gt;   the two assert methods into closer alignment in future releases.<br/>\n&gt;<br/>\n&gt; &lt;a name=&quot;assumptions&quot; /&gt;<br/>\n&gt; ### Assumptions ###<br/>\n&gt;<br/>\n&gt; Ideally, the developer writing a test has control of all of the forces<br/>\n&gt; that might cause a test to fail.<br/>\n&gt; If this isn&#39;t immediately possible, making dependencies explicit can<br/>\n&gt; often improve a design.<br/>\n&gt; For example, if a test fails when run in a different locale than the<br/>\n&gt; developer intended,<br/>\n&gt; it can be fixed by explicitly passing a locale to the domain code.<br/>\n&gt;<br/>\n&gt; However, sometimes this is not desirable or possible.<br/>\n&gt; It&#39;s good to be able to run a test against the code as it is currently written,<br/>\n&gt; implicit assumptions and all, or to write a test that exposes a known bug.<br/>\n&gt; For these situations, JUnit now includes the ability to express &quot;assumptions&quot;:<br/>\n&gt;<br/>\n&gt;     import static org.junit.Assume.*<br/>\n&gt;<br/>\n&gt;     @Test public void filenameIncludesUsername() {<br/>\n&gt;        assumeThat(File.separatorChar, is(&#39;/&#39;));<br/>\n&gt;        assertThat(new User(&quot;optimus&quot;).configFileName(),<br/>\n&gt; is(&quot;configfiles/optimus.cfg&quot;));<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt;     @Test public void correctBehaviorWhenFilenameIsNull() {<br/>\n&gt;        assumeTrue(bugFixed(&quot;13356&quot;));  // bugFixed is not included in JUnit<br/>\n&gt;        assertThat(parse(null), is(new NullDocument()));<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt; With this release, a failed assumption will lead to the test being<br/>\n&gt; marked as passing,<br/>\n&gt; regardless of what the code below the assumption may assert.<br/>\n&gt; In the future, this may change, and a failed assumption may lead to<br/>\n&gt; the test being ignored:<br/>\n&gt; however, third-party runners do not currently allow this option.<br/>\n&gt;<br/>\n&gt; We have included `assumeTrue` for convenience, but thanks to the<br/>\n&gt; inclusion of Hamcrest, we do not need to create `assumeEquals`,<br/>\n&gt; `assumeSame`, and other analogues to the `assert*` methods.  All of<br/>\n&gt; those functionalities are subsumed in `assumeThat`, with the appropriate<br/>\n&gt; matcher.<br/>\n&gt;<br/>\n&gt; &lt;a name=&quot;theories&quot; /&gt;<br/>\n&gt; ### Theories ###<br/>\n&gt;<br/>\n&gt; More flexible and expressive assertions, combined with the ability to<br/>\n&gt; state assumptions clearly, lead to a new kind of statement of intent,<br/>\n&gt; which we call a &quot;Theory&quot;.  A test captures the intended behavior in<br/>\n&gt; one particular scenario.  A theory captures some aspect of the<br/>\n&gt; intended behavior in possibly<br/>\n&gt; infinite numbers of potential scenarios.  For example:<br/>\n&gt;<br/>\n&gt;     @RunWith(Theories.class)<br/>\n&gt;     public class UserTest {<br/>\n&gt;       @DataPoint public static String GOOD_USERNAME = &quot;optimus&quot;;<br/>\n&gt;       @DataPoint public static String USERNAME_WITH_SLASH = &quot;optimus/prime&quot;;<br/>\n&gt;<br/>\n&gt;       @Theory public void filenameIncludesUsername(String username) {<br/>\n&gt;         assumeThat(username, not(containsString(&quot;/&quot;)));<br/>\n&gt;         assertThat(new User(username).configFileName(),<br/>\n&gt; containsString(username));<br/>\n&gt;       }<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt; This makes it clear that the user&#39;s filename should be included in the<br/>\n&gt; config file name, only if it doesn&#39;t contain a slash.  Another test<br/>\n&gt; or theory might define what happens when a username does contain a slash.<br/>\n&gt;<br/>\n&gt; `UserTest` will attempt to run `filenameIncludesUsername` on<br/>\n&gt; every compatible `DataPoint` defined in the class.  If any of the<br/>\n&gt; assumptions fail, the data point is silently ignored.  If all of the<br/>\n&gt; assumptions pass, but an assertion fails, the test fails.<br/>\n&gt;<br/>\n&gt; The support for Theories has been absorbed from the [Popper][]<br/>\n&gt; project, and [more complete documentation][popper-docs] can be found<br/>\n&gt; there.<br/>\n&gt;<br/>\n&gt; [Popper]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://popper.tigris.org\">http://popper.tigris.org</a><br/>\n&gt; [popper-docs]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://popper.tigris.org/tutorial.html\">http://popper.tigris.org/tutorial.html</a><br/>\n&gt;<br/>\n&gt; Defining general statements in this way can jog the developer&#39;s memory<br/>\n&gt; about other potential data points and tests, also allows [automated<br/>\n&gt; tools][junit-factory] to [search][my-blog] for new, unexpected data<br/>\n&gt; points that expose bugs.<br/>\n&gt;<br/>\n&gt; [junit-factory]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.junitfactory.org\">http://www.junitfactory.org</a><br/>\n&gt; [my-blog]: <a rel=\"nofollow\" target=\"_blank\" href=\"http://shareandenjoy.saff.net/2007/04/popper-and-junitfactory.html\">http://shareandenjoy.saff.net/2007/04/popper-and-junitfactory.html</a><br/>\n&gt;<br/>\n&gt; ### Other changes ###<br/>\n&gt;<br/>\n&gt; This release contains other bug fixes and new features.  Among them:<br/>\n&gt;<br/>\n&gt; - Annotated descriptions<br/>\n&gt;<br/>\n&gt;   Runner UIs, Filters, and Sorters operate on Descriptions of test<br/>\n&gt;   methods and test classes.  These Descriptions now include the<br/>\n&gt;   annotations on the original Java source element, allowing for richer<br/>\n&gt;   display of test results, and easier development of annotation-based<br/>\n&gt;   filters.<br/>\n&gt;<br/>\n&gt; - Bug fix (1715326): assertEquals now compares all Numbers using their<br/>\n&gt;   native implementation of `equals`.  This assertion, which passed in<br/>\n&gt;   4.3, will now fail:<br/>\n&gt;<br/>\n&gt;         assertEquals(new Integer(1), new Long(1));<br/>\n&gt;<br/>\n&gt;   Non-integer Numbers (Floats, Doubles, BigDecimals, etc),<br/>\n&gt;   which were compared incorrectly in 4.3, are now fixed.<br/>\n&gt;<br/>\n&gt; - `assertEquals(long, long)` and `assertEquals(double, double)` have<br/>\n&gt;   been re-introduced to the `Assert` class, to take advantage of<br/>\n&gt;   Java&#39;s native widening conversions.  Therefore, this still passes:<br/>\n&gt;<br/>\n&gt;         assertEquals(1, 1L);<br/>\n&gt;<br/>\n&gt; - The default runner for JUnit 4 test classes has been refactored.<br/>\n&gt;   The old version was named `TestClassRunner`, and the new is named<br/>\n&gt;   `JUnit4ClassRunner`.  Likewise, `OldTestClassRunner` is now<br/>\n&gt;   `JUnit3ClassRunner`.  The new design allows variations in running<br/>\n&gt;   individual test classes to be expressed with fewer custom classes.<br/>\n&gt;   For a good example, see the source to<br/>\n&gt;   `org.junit.experimental.theories.runner.api.Theories`.<br/>\n&gt;<br/>\n&gt; - The rules for determining which runner is applied by default to a<br/>\n&gt;   test class have been simplified:<br/>\n&gt;<br/>\n&gt;   1. If the class has a `@RunWith` annotation, the annotated runner<br/>\n&gt;      class is used.<br/>\n&gt;<br/>\n&gt;   2. If the class can be run with the JUnit 3 test runner (it<br/>\n&gt;      subclasses `TestCase`, or contains a `public static Test suite()`<br/>\n&gt;      method), JUnit38ClassRunner is used.<br/>\n&gt;<br/>\n&gt;   3. Otherwise, JUnit4ClassRunner is used.<br/>\n&gt;<br/>\n&gt;   This default guess can always be overridden by an explicit<br/>\n&gt;   `@RunWith(JUnit4ClassRunner.class)` or<br/>\n&gt;   `@RunWith(JUnit38ClassRunner.class)` annotation.<br/>\n&gt;<br/>\n&gt;   The old class names `TestClassRunner` and `OldTestClassRunner`<br/>\n&gt;   remain as deprecated.<br/>\n&gt;<br/>\n&gt; - Bug fix (1739095): Filters and Sorters work correctly on test<br/>\n&gt;   classes that contain a `suite` method like:<br/>\n&gt;<br/>\n&gt;         public static junit.framework.Test suite() {<br/>\n&gt;           return new JUnit4TestAdapter(MyTest.class);<br/>\n&gt;         }<br/>\n&gt;<br/>\n&gt; - Bug fix (1745048): @After methods are now correctly called<br/>\n&gt;   after a test method times out.<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19750, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1186677369", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 19629, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwNzE4MTM1N3k1ZGQzOTcyOW0xNzI3YmYzZmVlYzUyNmE2QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwODA5MDkzNnIxZGQ5NjJmYnJlZjhiMGM3NWY5ZWFlYzliQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MDcwNzE4MTM1N3k1ZGQzOTcyOW0xNzI3YmYzZmVlYzUyNmE2QG1haWwuZ21haWwuY29tPg=="
    }
}