{
    "numMessagesInTopic": 30, 
    "nextInTime": 24304, 
    "senderId": "e4nelZ2LO3zymx-Fa8noenSQh4TNLA0IKMJRIzIacMLFzoCcyoMrmy3sjXKB6urc5cQT_1EhUTh4KSwPK4h6pw0djR8iCA", 
    "systemMessage": true, 
    "subject": "Re: Feedback requested: Impending changes to RunListener", 
    "from": "&quot;tibord47&quot; &lt;tibord47@...&gt;", 
    "authorName": "tibord47", 
    "msgSnippet": "Hi all junit guys, Let me turn back to the original problem. We knew that it s a good idea to let the users to annotated a custom listener by @ThreadSafe if", 
    "msgId": 24303, 
    "rawEmail": "Return-Path: &lt;tibord47@...&gt;\r\nReceived: (qmail 30911 invoked from network); 12 Feb 2013 01:15:01 -0000\r\nReceived: from unknown (10.193.84.151)\n  by m12.grp.bf1.yahoo.com with QMQP; 12 Feb 2013 01:15:01 -0000\r\nReceived: from unknown (HELO ng9-vm5.bullet.mail.gq1.yahoo.com) (98.136.219.109)\n  by mta5.grp.bf1.yahoo.com with SMTP; 12 Feb 2013 01:15:00 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1360631700; bh=lEVglN74aceerOLRTlPFr6PWIjvA2pROgP+gd+Zoh1Q=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=G5SMf0lhr6p1CPwEmamB4ptwVnrYIcdYgKhMaqxnwb1k4AFpdUuwxk0jC4Y23Zc7zufwuxSpId19L7WLPB+PHmT5y/VHKwbWJqAxtutlkLoox9jW/Q/pd2o1M8L9St1z+TGKSBiErt7aGdB3FmnrzMwkbjNlfn42DXonHL0ySK0=\r\nReceived: from [98.137.0.86] by ng9.bullet.mail.gq1.yahoo.com with NNFMP; 12 Feb 2013 01:15:00 -0000\r\nReceived: from [10.193.94.108] by tg6.bullet.mail.gq1.yahoo.com with NNFMP; 12 Feb 2013 01:15:00 -0000\r\nX-Sender: tibord47@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 20676 invoked from network); 11 Feb 2013 22:50:17 -0000\r\nX-Received: from unknown (10.193.84.150)\n  by m5.grp.bf1.yahoo.com with QMQP; 11 Feb 2013 22:50:17 -0000\r\nX-Received: from unknown (HELO ng1-vm5.bullet.mail.gq1.yahoo.com) (98.136.219.5)\n  by mta2.grp.bf1.yahoo.com with SMTP; 11 Feb 2013 22:50:17 -0000\r\nX-Received: from [98.137.0.82] by ng1.bullet.mail.gq1.yahoo.com with NNFMP; 11 Feb 2013 22:50:16 -0000\r\nX-Received: from [10.193.94.44] by tg2.bullet.mail.gq1.yahoo.com with NNFMP; 11 Feb 2013 22:50:16 -0000\r\nDate: Mon, 11 Feb 2013 22:50:14 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;kfbsj6+j5i3@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;tibord47&quot; &lt;tibord47@...&gt;\r\nSubject: Re: Feedback requested: Impending changes to RunListener\r\nX-Yahoo-Group-Post: member; u=507342950; y=W2oj5RNUOoXvSrb7vgpmLbva8_Qwjd5XAhvYlttPrjgSvXI\r\nX-Yahoo-Profile: tibord47\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 12 Feb 2013 01:14:58 -0000\r\n\r\nHi all junit guys,\n\nLet me turn back to the original problem.\n\nWe knew that=\r\n it&#39;s a good idea to let the users to annotated a custom listener by @Threa=\r\ndSafe if it&#39;s really thread-safe.\n\nIn every other case the given listener i=\r\ns wrapped in synchronized listener which is package private class.\n\nI am co=\r\nnvinced that we should not make synchronized listener public since this is =\r\nour internal patch.\n\nThe user may have whatever thread-safe listener depend=\r\ning on implementation and still not having it synchronized. Thus s/he can a=\r\nnnotated the clas by @ThreadSafe.\nWe are synchronizing the listener&#39;s metho=\r\nds internally in the patch only because the user&#39;s implementation is unknow=\r\nn -listener in not annotated yet.\n\nBack to jcip-annotations license. Such l=\r\nibrary is under Creative Commons Attribution License (http://creativecommon=\r\ns.org/licenses/by/2.5).\n\nIf we use Maven dependency, we are free to share, =\r\ndistribute and transmit.\nSo there is no legal issue for the JUnit.\n\nAny obj=\r\nections to this lincense?\n\nThx, Tibor\n\n\n\n--- In junit@yahoogroups.com, &quot;ssc=\r\nhroev&quot;  wrote:\n&gt;\n&gt; I understand your concerns w.r.t. the intended semantics=\r\n of third-party @ThreadSafe annotations. For that reason I could certainly =\r\nget behind a differently-named annotation such as @Concurrent. Adding one m=\r\nore annotation is cheap, after all ;)\n&gt; \n&gt; Cheers,\n&gt; Stephan\n&gt; \n&gt; --- In ju=\r\nnit@yahoogroups.com, Kevin Cooney  wrote:\n&gt; &gt;\n&gt; &gt; On Wed, Feb 6, 2013 at 10=\r\n:06 AM, sschroev  wrote:\n&gt; &gt; \n&gt; &gt; &gt; **\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; I like the idea, a=\r\n lot!\n&gt; &gt; &gt;\n&gt; &gt; &gt; But would like to ask that only the *simple name* of the =\r\nannotation is\n&gt; &gt; &gt; considered, without regard for the package in which it =\r\nresides.\n&gt; &gt; &gt;\n&gt; &gt; Interesting idea.\n&gt; &gt; \n&gt; &gt; It looks like Guice uses this=\r\n strategy for @Nullable (\n&gt; &gt; https://code.google.com/p/google-guice/wiki/U=\r\nseNullable)\n&gt; &gt; \n&gt; &gt; That would require us to iterate through all of the cl=\r\nass&#39;s annotations, vs\n&gt; &gt; a simple getAnnotation() call, but listeners are =\r\nnot added and removed very\n&gt; &gt; often.\n&gt; &gt; \n&gt; &gt; &gt;  This way one can:\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; 1. Use an alternative third-party annotation, such as\n&gt; &gt; &gt; javax.anno=\r\ntation.concurrent.ThreadSafe from libraries like\n&gt; &gt; &gt; com.google.code.find=\r\nbugs:jsr305:1.3.9 and\n&gt; &gt; &gt; com.google.code.findbugs:annotations:2.0.1.\n&gt; &gt;=\r\n &gt; 2. Define a private annotation, without adding _any_ additional dependen=\r\ncy.\n&gt; &gt; &gt;\n&gt; &gt; Alternatively, we could add a JUnit-specific annotation (poss=\r\nibly named\n&gt; &gt; &quot;Concurrent&quot;) and you could annotate your class with both an=\r\nnotations (ob\n&gt; &gt; meme: http://www.quickmeme.com/meme/3svo5h/)\n&gt; &gt; \n&gt; &gt; One=\r\n reservation I have with using @ThreadSafe is that usually the\n&gt; &gt; jcip-ann=\r\notations documents behavior (sure, it is used by findbugs to find\n&gt; &gt; poten=\r\ntial bugs, but that&#39;s validation based on behavior documented in\n&gt; &gt; annota=\r\ntions). Here we are proposing using @ThreadSafe to modify behavior.\n&gt; &gt; Som=\r\neone might not expect by simply adding an annotation to a class they are\n&gt; =\r\n&gt; changing the behavior of code that uses instances of the class.\n&gt; &gt; \n&gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; I use javax.annotation.concurrent.ThreadSafe quite a lot in my own =\r\ncode,\n&gt; &gt; &gt; so (1) is quite important from my perspective. There are preced=\r\nents for\n&gt; &gt; &gt; this approach: IIRC, Eclipse does something like this for va=\r\nriations on\n&gt; &gt; &gt; @Nullable and @Nonnull, whereas (again, IIRC) Findbugs ha=\r\nndles two\n&gt; &gt; &gt; instances of @SuppressWarnings.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Cheers,\n&gt; &gt; &gt; S=\r\ntephan\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In junit@yahoogroups.com, Kevin Cooney wrote:\n=\r\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Hello, everyone\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Short version: we are think=\r\ning of adding an optional dependency from\n&gt; &gt; &gt; JUnit\n&gt; &gt; &gt; &gt; to jcip-annot=\r\nations and are soliciting feedback.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; A few people have notic=\r\ned that when you use ParallelComputer, you got\n&gt; &gt; &gt; poor\n&gt; &gt; &gt; &gt; performan=\r\nce because calls to registered RunListeners are synchronized. We\n&gt; &gt; &gt; &gt; wo=\r\nuld like to fix this in the next release of JUnit.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; In order=\r\n to prevent affecting existing users, we are proposing having an\n&gt; &gt; &gt; &gt; an=\r\nnotation that can be added to RunListener implementations that can\n&gt; &gt; &gt; sa=\r\nfely\n&gt; &gt; &gt; &gt; be called concurrently from multiple threads. If a RunListener=\r\n passed to\n&gt; &gt; &gt; a\n&gt; &gt; &gt; &gt; RunNotifier is not annotated with this annotatio=\r\nn, JUnit will wrap it\n&gt; &gt; &gt; with\n&gt; &gt; &gt; &gt; a decorator that does synchronizat=\r\nion.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; We would appreciate feedback on this new annot=\r\nation.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; We have two options:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; a. Create our o=\r\nwn annotation for this\n&gt; &gt; &gt; &gt; b. Use ThreadSafe (\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; http://gre=\r\npcode.com/file/repo1.maven.org/maven2/net.jcip/jcip-annotations/1.0/net/jci=\r\np/annotations/ThreadSafe.java\n&gt; &gt; &gt; &gt; )\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The advantages to o=\r\nption b are:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; 1. It&#39;s a well-known annotation\n&gt; &gt; &gt; &gt; 2. Use=\r\nrs that use JUnit can add this annotation to their thread-safe\n&gt; &gt; &gt; &gt; RunL=\r\nistener implementations today and get the benefits &quot;for free&quot; later.\n&gt; &gt; &gt; =\r\n&gt;\n&gt; &gt; &gt; &gt; Note we can do this without requiring that all users of JUnit hav=\r\ne the\n&gt; &gt; &gt; &gt; jcip-annotations jar in their classpath as of JDK 1.5.0_06 (s=\r\nee\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; http://stackoverflow.com/questions/3567413/why-doesnt-a-mi=\r\nssing-annotation-cause-a-classnotfoundexception-at-runtime\n&gt; &gt; &gt; ).\n&gt; &gt; &gt; &gt;=\r\n If jcip-annotations is not on the classpath then all RunListener\n&gt; &gt; &gt; &gt; i=\r\nmplementations will be treated as not thread-safe.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; As a spe=\r\ncific example, the Maven Surefire plugin would use this\n&gt; &gt; &gt; dependency\n&gt; =\r\n&gt; &gt; &gt; and include jcip-annotations.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Currently, JUnit only d=\r\nepends on one third-party library (Hamcrest). This\n&gt; &gt; &gt; &gt; has caused us so=\r\nme pain in the past when the Hamcrest code changed in\n&gt; &gt; &gt; ways\n&gt; &gt; &gt; &gt; th=\r\nat broke existing users of JUnit. We believe this will not be an issue\n&gt; &gt; =\r\n&gt; &gt; with jcip-annotations because the JAR only contains annotations, not an=\r\ny\n&gt; &gt; &gt; &gt; code.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; One possible concern would be with other op=\r\nen source libraries that\n&gt; &gt; &gt; provide\n&gt; &gt; &gt; &gt; RunListener implementations =\r\n(they would need to add jcip-annotations to\n&gt; &gt; &gt; &gt; their compile-time clas=\r\nspath if they have thread-safe annotations, and\n&gt; &gt; &gt; &gt; document this to th=\r\neir users).\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Thoughts?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; -- Kevin\n&gt; &gt; &gt; &gt;\n&gt; &gt; =\r\n&gt; &gt;\n&gt; &gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt; &gt;\n&gt;=\r\n &gt; &gt;\n&gt; &gt; &gt;  \n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-text portions of this message have be=\r\nen removed]\n&gt; &gt;\n&gt;\n\n\n", 
    "profile": "tibord47", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 507342950, 
    "prevInTime": 24302, 
    "contentTrasformed": false, 
    "postDate": "1360623014", 
    "canDelete": false, 
    "nextInTopic": 24304, 
    "prevInTopic": 24290, 
    "headers": {
        "messageIdInHeader": "PGtmYnNqNitqNWkzQGVHcm91cHMuY29tPg=="
    }
}