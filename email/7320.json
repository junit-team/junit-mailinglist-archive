{
    "numMessagesInTopic": 9, 
    "nextInTime": 7321, 
    "senderId": "MsPNqo67H8aSvphjy0T727NQsfnmbzf4CfssGLBKc-ERpMaQ-2yOyd6Y2zIxpEpQBY7tsbLoWIEU6vKV3bq979cfKYJrOTTz0jQg6w", 
    "systemMessage": false, 
    "subject": "Re: [junit] ThreadLocal", 
    "from": "David Corbin &lt;dcorbin@...&gt;", 
    "authorName": "David Corbin", 
    "msgSnippet": "... There s no doubt about that.  It s a question of how to solve the smell. ...  ... Well, as near as I can tell there are 4 choices on how something is", 
    "msgId": 7320, 
    "profile": "david_corbin", 
    "topicId": 7316, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 35064267, 
    "messageBody": "<div id=\"ygrps-yiv-280610971\">Jason Rogers wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;On Sun, 23 Mar 2003 14:23:30 -0500, &quot;David Corbin&quot;<br/>\n&gt;&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dcorbin@...\">dcorbin@...</a>&gt; said:<br/>\n&gt;  <br/>\n&gt;<br/>\n&gt;&gt;   I&#39;m getting tired of having to pass some objects through 6-8 methods,<br/>\n&gt;&gt;   and it&#39;s making method signatures very ugly.<br/>\n&gt;&gt;   The question is, what do folks think about using ThreadLocal to create<br/>\n&gt;&gt;   &quot;per   request  singleton-like&quot;  objects.   By  using  a  common  base<br/>\n&gt;&gt;   TestCase,<br/>\n&gt;&gt;   I could set up the TLS easily enough without overburdening the unit<br/>\n&gt;&gt;   tests, I think.<br/>\n&gt;&gt;   David<br/>\n&gt;&gt;    <br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;I think was you are sensing is a &quot;code smell.&quot; <br/>\n&gt;<br/>\n </span></blockquote>There&#39;s no doubt about that.  It&#39;s a question of how to solve the smell.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I don&#39;t have an opinion<br/>\n&gt;about the TLS you mentioned but I would suggest using this &quot;pain&quot; to<br/>\n&gt;force yourself to refactor some more.  For instance, you could use<br/>\n&gt;Factories, Delegators|Facades, or Proxies instead polluting your API with<br/>\n&gt;unneeded args.<br/>\n&gt;  <br/>\n&gt;<br/>\n </span></blockquote>&lt;snip&gt;<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;In some cases, that may be the thing to do, in<br/>\n&gt;others however it makes more sense for the object you are testing to have<br/>\n&gt;those things implicitly available -- your situation sounds a lot like the<br/>\n&gt;latter.<br/>\n&gt;  <br/>\n&gt;<br/>\n </span></blockquote>Well, as near as I can tell there are 4 choices on how something is made <br/>\navailable:<br/>\n<br/>\n1) at construction<br/>\n2) as an argument<br/>\n3) as a global/singleton<br/>\n4) as ThreadLocal (similar to #3, but more flexible, certainly in the <br/>\nweb environment)<br/>\n<br/>\n#2 is what I&#39;ve been doing, and has created the smell<br/>\n#1 generally doesn&#39;t work well, because the &quot;something&quot; may not be very <br/>\ntightly bound to the object being constucted.<br/>\nThat leaves #3 and #4.  I have a long-standing global-phobia.  Perhaps <br/>\nit&#39;s too strong. #4 of course, isn&#39;t that differrent from #3 ( think of <br/>\nthem as semi-global).<br/>\n<br/>\nHave a missed a choice?<br/>\n<br/>\nDavid.</div>", 
    "prevInTime": 7319, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1048511396", 
    "canDelete": false, 
    "nextInTopic": 7326, 
    "prevInTopic": 7317, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMzI0MDMxMjE0Ljk1REVCMUI2RTZAd3d3LmZhc3RtYWlsLmZtPg==", 
        "messageIdInHeader": "PDNFN0YwM0E0LjMwNDAxQG1hY2h0dXJ0bGUuY29tPg==", 
        "referencesHeader": "PDNFN0UwOUIyLjgwMTA1MDVAbWFjaHR1cnRsZS5jb20+IDwyMDAzMDMyNDAzMTIxNC45NURFQjFCNkU2QHd3dy5mYXN0bWFpbC5mbT4="
    }
}