{
    "numMessagesInTopic": 30, 
    "nextInTime": 24288, 
    "senderId": "CkUXQOlOMQl1FUGHaNeilzOxtw-NQbe8IGKU7tFWGYr41E_ovPrXZbp9rJh8ZtsnP571Fwh3P-0dgNvTKK8gw1AGvTmq2nJb", 
    "systemMessage": false, 
    "subject": "Re: [junit] Feedback requested: Impending changes to RunListener", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "Sorry in advance if this is too wordy . Getting an API correct is hard work, and the discussion helps. ... Given the thread so far, I d be highly surprised if", 
    "msgId": 24287, 
    "rawEmail": "Return-Path: &lt;kcooney@...&gt;\r\nReceived: (qmail 96938 invoked by uid 7800); 7 Feb 2013 18:37:08 -0000\r\nX-Sender: kcooney@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 25610 invoked from network); 7 Feb 2013 17:59:57 -0000\r\nX-Received: from unknown (10.193.84.168)\n  by m11.grp.bf1.yahoo.com with QMQP; 7 Feb 2013 17:59:57 -0000\r\nX-Received: from unknown (HELO mail-ie0-f176.google.com) (209.85.223.176)\n  by mta6.grp.bf1.yahoo.com with SMTP; 7 Feb 2013 17:59:57 -0000\r\nX-Received: by mail-ie0-f176.google.com with SMTP id k13so3872570iea.21\n        for &lt;junit@yahoogroups.com&gt;; Thu, 07 Feb 2013 09:59:57 -0800 (PST)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=x-received:mime-version:in-reply-to:references:from:date:message-id\n         :subject:to:content-type:x-gm-message-state;\n        bh=NvxAdKo3YnL/CmeKGx89NIyijYvUKGlAfq9DP8XH4LQ=;\n        b=W7IMtgYyqmGz9cYD16xbBU87OAtVMF8o2iVnMNjUfI8+oBkPoyERvjUKyPHEwtcdrQ\n         Rhc2t0bvQRQOenMMMjMChyEYhhSfNXiX4J1jt+2AK6OemDUKzn0+TgOMgTtYdezgEYxJ\n         UYjPGPcS9Br3VRAkiF3NCIhr7yM0DMaRpAzyCRNKVkCd6lh33FkBww36Q6+XfyU6Jwte\n         qTPapdDL/g0YRqEvC/XL8mNCSzeCuXi7Oht02KwFLPVR7pcSWBMs4eMctSl7WMN91l9k\n         smMDFzvK+r7dIhmZ7t1A5viaEnfD9cUUyC2fc5sU4P37vYHFMplN+jWQWVAD2rEXEuO6\n         d/dg==\r\nX-Received: by 10.50.7.135 with SMTP id j7mr16596939iga.82.1360259997249; Thu,\n 07 Feb 2013 09:59:57 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.43.12.195 with HTTP; Thu, 7 Feb 2013 09:59:26 -0800 (PST)\r\nIn-Reply-To: &lt;CADLR5XJJH4+O7U1oht1dG4WpXhrb=xj5E=u0dOiKScmpS=YxqQ@...&gt;\r\nReferences: &lt;CAA3E+eXqF6DNQc0r5Hekj1gE-PyBnvj4_TNbVgRUo+Eekxwhjw@...&gt;\n &lt;CADLR5XJJH4+O7U1oht1dG4WpXhrb=xj5E=u0dOiKScmpS=YxqQ@...&gt;\r\nDate: Thu, 7 Feb 2013 09:59:26 -0800\r\nMessage-ID: &lt;CAA3E+eXkGmfrBfXgNuUF=oFu_538dpXbSi-dgb=FSWVNxXzV+A@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Gm-Message-State: ALoCoQnXfLqYrzkq6arCRZZUUo2OGgnvI8I+6fCiPqc6TuDXEQEjtATnFQBR2f4lIXL3S6RVbBszbaJJS5mz6yrG44swZkfIlLYSln/sowA4IqsjR6PqvaYLNu+dVBFpbs2TdhJ/hpJZqUBMyKePDQqgBecraSyksifmeDgJd5EyK6nIIbyGmsIvS9ahQSbI5pis07BCaDGy\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kevin Cooney &lt;kcooney@...&gt;\r\nSubject: Re: [junit] Feedback requested: Impending changes to RunListener\r\nX-Yahoo-Group-Post: member; u=475263748; y=0vTDXoIir-FzCxKt10yWe1G8Hv7Zr96hznsRousVScaKBbRjrdot67lxEJXZwQWe7iFF9IAr4HB9IFE\r\nX-Yahoo-Profile: kevincooney2000\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 7 Feb 2013 18:37:08 -0000\r\n\r\nSorry in advance if this is &quot;too wordy&quot;. Getting an API correct is hard\nwork, and the discussion helps.\n\nOn Thu, Feb 7, 2013 at 6:28 AM, Gilles Scokart &lt;gscokart@...&gt; wrote:\n\n&gt; Why not simply add an optional interface ThreadSafeRunListener (with the\n&gt; same method name or without method)?  The burdon on the provider is even\n&gt; smaller than with the annotation (they just have to add an implements\n&gt; clause, and don&#39;t need to add a dependency).\n&gt;\n\nGiven the thread so far, I&#39;d be highly surprised if we decided to add a new\ndependency. If we go with using an annotation, we would have an annotation\nprovided with JUnit that you could use. Does that change your view?\n\nRunListener is an abstract class, not an interface (which has been handy\nwhen we&#39;ve wanted to add new notification methods) so I&#39;m not sure if\nhaving a ThreadSafeRunListener interface makes sense. We could have\nThreadSafeRunListener which is a subclass of RunListener with no additional\nmethods.\n\n\n&gt;\n&gt; But before, you should be sure that the trouble is on having multiple\n&gt; concurrent calls to a single listener, or not having trouble iterating\n&gt; throught the list of listners concurrently.\n&gt;\n\nFixing one without fixing the other is actually harder than fixing them\nboth. If there&#39;s a concern that we could break existing uses, we can ping\nthe thread when the changes stabilize a bit more.\n\n\n&gt;\n&gt; Note also that it is usually a bad idea to call a &quot;Listener&quot; while holding\n&gt; a lock.  So the ThreadSafe listener should be strongly recommended and the\n&gt; non thread safe version should be deprecated.\n&gt;\n\nI&#39;m not sure I agree (but I&#39;m very interested in others thoughts). JUnit is\nused by all types of users, from novice to advanced. It is often the first\nand only third-party library a novice user uses. Novice users are highly\nlikely to not handle thread-safety issues. Thread-safety issues in a\nlistener could lead to all sorts of confusing results. I think we need to\nmake it easy for novice users to add listeners without worrying about\nthread-safety issues, and possible for advanced users to have thread-safe\nlisteners.\n\nWe could limit the scope of the lock we use for non-thread-safe listeners.\nCurrently, it&#39;s essentially a global lock. We could make the lock\nper-listener, but that might result in user-visible behavior changes.\n\nThanks for the feedback. Keep it coming!\n\n-- Kevin\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "kevincooney2000", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "prevInTime": 24286, 
    "contentTrasformed": false, 
    "postDate": "1360259966", 
    "canDelete": false, 
    "nextInTopic": 24288, 
    "prevInTopic": 24282, 
    "headers": {
        "inReplyToHeader": "PENBRExSNVhKSkg0K083VTFvaHQxZEc0V3BYaHJiPXhqNUU9dTBkT2lLU2NtcFM9WXhxUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQTNFK2VYa0dtZnJCZlhnTnVVRj1vRnVfNTM4ZHBYYlNpLWRnYj1GU1dWTnhYelYrQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQTNFK2VYcUY2RE5RYzByNUhla2oxZ0UtUHlCbnZqNF9UTmJWZ1JVbytFZWt4d2hqd0BtYWlsLmdtYWlsLmNvbT4gPENBRExSNVhKSkg0K083VTFvaHQxZEc0V3BYaHJiPXhqNUU9dTBkT2lLU2NtcFM9WXhxUUBtYWlsLmdtYWlsLmNvbT4="
    }
}