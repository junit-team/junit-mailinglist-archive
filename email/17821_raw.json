{
    "numMessagesInTopic": 287, 
    "nextInTime": 17822, 
    "senderId": "TJ4cxYfchEjXx4d8Y3KGZMS2_M2KMIT_a_J_Z3IZ1dKTO65TChJjwoQwtJ14QtxurKd_MEgRuLNFdw8w5_g9s0bVaSwNNhYI7es", 
    "systemMessage": true, 
    "subject": "Re: Test-friendly, but not caller-friendly?", 
    "from": "&quot;belugabrain&quot; &lt;bob@...&gt;", 
    "authorName": "belugabrain", 
    "msgSnippet": "... receive ... or you ... have ... The point ... to ... defective ... sensible ... specific ... leads ... that my ... all the ... best ROI ... me, I ... cost", 
    "msgId": 17821, 
    "rawEmail": "Return-Path: &lt;bob@...&gt;\r\nReceived: (qmail 50026 invoked from network); 6 Sep 2006 08:39:03 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m31.grp.scd.yahoo.com with QMQP; 6 Sep 2006 08:39:03 -0000\r\nReceived: from unknown (HELO n29.bullet.scd.yahoo.com) (66.94.237.22)\n  by mta10.grp.scd.yahoo.com with SMTP; 6 Sep 2006 08:39:03 -0000\r\nReceived: from [66.218.69.3] by n29.bullet.scd.yahoo.com with NNFMP; 06 Sep 2006 08:38:28 -0000\r\nReceived: from [66.218.66.76] by t3.bullet.scd.yahoo.com with NNFMP; 06 Sep 2006 08:38:28 -0000\r\nX-Sender: bob@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 56273 invoked from network); 6 Sep 2006 08:06:15 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m24.grp.scd.yahoo.com with QMQP; 6 Sep 2006 08:06:15 -0000\r\nReceived: from unknown (HELO n19c.bullet.sc5.yahoo.com) (66.163.187.210)\n  by mta7.grp.scd.yahoo.com with SMTP; 6 Sep 2006 08:06:15 -0000\r\nReceived: from [66.163.187.121] by n19.bullet.sc5.yahoo.com with NNFMP; 06 Sep 2006 08:05:20 -0000\r\nReceived: from [66.218.69.6] by t2.bullet.sc5.yahoo.com with NNFMP; 06 Sep 2006 08:05:20 -0000\r\nReceived: from [66.218.66.74] by t6.bullet.scd.yahoo.com with NNFMP; 06 Sep 2006 08:05:20 -0000\r\nDate: Wed, 06 Sep 2006 08:05:19 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;edlvfv+ktcm@...&gt;\r\nIn-Reply-To: &lt;44FE3CE0.2090402@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;belugabrain&quot; &lt;bob@...&gt;\r\nSubject: Re: Test-friendly, but not caller-friendly?\r\nX-Yahoo-Group-Post: member; u=226843231; y=9DuBkqX5pqpO30_sgmGX3mzVxpyfCt5SCtgmkcrs3BuAo2HuK_M\r\nX-Yahoo-Profile: belugabrain\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 06 Sep 2006 08:38:27 -0000\r\n\r\n--- In junit@yahoogroups.com, Michael Feathers &lt;mfeathers@...&gt; wrote:\n&gt;\n&gt; J=\r\n. B. Rainsberger wrote:\n&gt; \n&gt; &gt;Michael Feathers wrote:\n&gt; &gt;  \n&gt; &gt;\n&gt; &gt;&gt;But bac=\r\nk to your original point: &quot;It might sometimes be a\n&gt; &gt;&gt;NullPointerException=\r\n or something else instead, but advertising a\n&gt; &gt;&gt;precondition is not an ex=\r\ncuse for misbehavior just because you \nreceive\n&gt; &gt;&gt;bad data.&quot; Under DbC, it=\r\n is. Fact is, if your precondition fails \nor you\n&gt; &gt;&gt;get a NullPointerExcep=\r\ntion, there&#39;s a bug in the client. You can \nhave\n&gt; &gt;&gt;checking enabled, or n=\r\not, but checking is not error handling. \nThe point\n&gt; &gt;&gt;of DbC is to build s=\r\noftware robust enough so that you don&#39;t have \nto\n&gt; &gt;&gt;write error handling c=\r\node at each level. Relevant section is 11.6\n&gt; &gt;&gt;&quot;Assertions are not an inpu=\r\nt checking mechanism.&quot;\n&gt; &gt;&gt;    \n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;Indeed. If I violate your preco=\r\nndition, then I am writing \ndefective\n&gt; &gt;code. There are a few remedies:\n&gt; =\r\n&gt;\n&gt; &gt;1. Be nice and tolerate my indiscretion, say by substituting \nsensible=\r\n\n&gt; &gt;default values and continuing.\n&gt; &gt;\n&gt; &gt;2. Telling me directly, &quot;You shou=\r\nldn&#39;t do that,&quot; by throwing a \nspecific\n&gt; &gt;exception that explains my mista=\r\nke.\n&gt; &gt;\n&gt; &gt;3. Telling me indirectly, by failing is some deterministic, by\n&gt;=\r\n &gt;non-obvious way.\n&gt; &gt;\n&gt; &gt;4. Providing me examples of how not to violate yo=\r\nur precondition.\n&gt; &gt;\n&gt; &gt;5. Documenting the precondition and warning me that=\r\n violating it \nleads \n&gt; &gt;to &quot;undefined behavior&quot;.\n&gt; &gt;\n&gt; &gt;6. Providing Contr=\r\nact Tests that I can inherit to help me know \nthat my \n&gt; &gt;code won&#39;t violat=\r\ne your precondition.\n&gt; &gt;\n&gt; &gt;There are others, I&#39;m sure.\n&gt; &gt;\n&gt; &gt;It looks as =\r\nthough you reject #5 out of hand, and I agree, but \nall the \n&gt; &gt;others are =\r\nviable choices. I would choose the one providing the \nbest ROI \n&gt; &gt;for the =\r\nsituation. In a language that checks preconditions for \nme, I \n&gt; &gt;would get=\r\n #2 for free. In Java, which doesn&#39;t, it depends on the \ncost of \n&gt; &gt;violat=\r\ning the precondition. If it&#39;s anything like persistent data \n&gt; &gt;corruption =\r\nall the way up to loss of life, I would probably \ninsist on \n&gt; &gt;#2. If it&#39;s=\r\n nothing worse than having to retry one of a batch of \n&gt; &gt;transactions, I m=\r\night go with #1. Still, I would probably insist \non #4 \n&gt; &gt;and prefer #6.\n&gt;=\r\n &gt;  \n&gt; &gt;\n&gt; Joe,\n&gt; \n&gt; I&#39;ll answer this assuming that you&#39;re talking about AP=\r\nI code, not \n&gt; application code.  If that&#39;s not the case, let me know.\n&gt; \n&gt;=\r\n In some systems #1 is the best answer, but those situations are \nrare \n&gt; a=\r\nnd, as a strategy, it can lead to misunderstandings..  #2 and #4 \nare \n&gt; gr=\r\neat strategies and I like #6 as well. \n&gt; \n&gt; I think it&#39;s interesting to tal=\r\nk about #5, though.    In nearly \nevery \n&gt; other area of life, we deal with=\r\n warranties and license agreements \nin \n&gt; which we explicitly assume respon=\r\nsibility for our use of products \nand \n&gt; services.  In software we often tr=\r\ny to protect clients from \nthemselves \n&gt; and don&#39;t consider notice a fair g=\r\nrant of responsibility.\n&gt; \n&gt; The fact is, it isn&#39;t universally true.  Lots =\r\nof luck having Win32 \nsave \n&gt; you from violations of its preconditions, for=\r\n instance. :-)\n&gt; \n&gt; Frankly, I wouldn&#39;t want to have only #5 at the API lev=\r\nel, but I \nthink \n&gt; that this tendency we have to believe that we can not h=\r\nave an \nagreement \n&gt; with users that is not enforced by code leads to a gre=\r\nat deal of \n&gt; trouble. Particularly in the area of visibility.. many develo=\r\npers \nassume \n&gt; that no written agreement can be sufficient if something is=\r\n made \n&gt; public.  I think that the issue is that we are not used to \nthinki=\r\nng \n&gt; about agreements beyond the code and we&#39;re not used to holding \npeopl=\r\ne to \n&gt; them.\n&gt; \n&gt; There are some exceptions.  One is the Eclipse API Rules=\r\n of \nEngagement: \n&gt; http://www.eclipse.org/articles/Article-API%20use/eclip=\r\nse-api-\nusage-rules.html\n&gt; \n&gt; It&#39;s a contract above the code and it has som=\r\ne great ideas.  I \nreally \n&gt; like the idea of &quot;soft final&quot; for instance.  I=\r\nt&#39;s like a license \n&gt; agreement.. you can do this (subclass and override, e=\r\ntc) and we \nwon&#39;t \n&gt; prevent you, but if you break the rules we can&#39;t be re=\r\nsponsible \nfor you.\n&gt; \n&gt; Michael Feathers\n&gt; www.objectmentor.com\n&gt;\n\n#1 does=\r\nn&#39;t help anybody, in the long-term.\nIt doesn&#39;t inform the client that they =\r\nmessed up, but merely lulls \nthem into a false sense of security that their=\r\n code is fine.\nThere&#39;s not often a sensible default to use - and if there w=\r\nas, it \nprobably wouldn&#39;t be to the client&#39;s liking anyway.\nThe best exampl=\r\ne I can think of for how meeting criteria #1 can \nbackfire is the behaviour=\r\n of Internet Explorer. Give it some HTML \nwith a missing &lt;/td&gt; tag and it w=\r\nill silently provide one for you.\nAll this has done is to relieve thousands=\r\n of web developers from the \nresponsibility of ensuring that they produce c=\r\norrect markup.\nIt really is a case of treating the symptoms whilst allowing=\r\n the \ndisease to spread in an unchecked manner.\n#5 covers a vast majority o=\r\nf cases - as Michael points our, we deal \nwith &#39;terms and conditions&#39; in so=\r\n many other parts of our life, why \nnot do so whlst carry out our chosen pr=\r\nofession.\n\nBob\n\nP.S. If we were to implement #1, surely it would be documen=\r\nted by #5?\n\n\n\n\n\n\n\n\n\n\n\n", 
    "profile": "belugabrain", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 226843231, 
    "prevInTime": 17820, 
    "contentTrasformed": false, 
    "postDate": "1157529919", 
    "canDelete": false, 
    "nextInTopic": 17822, 
    "prevInTopic": 17820, 
    "headers": {
        "inReplyToHeader": "PDQ0RkUzQ0UwLjIwOTA0MDJAbWluZHNwcmluZy5jb20+", 
        "messageIdInHeader": "PGVkbHZmditrdGNtQGVHcm91cHMuY29tPg=="
    }
}