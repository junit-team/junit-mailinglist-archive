{
    "numMessagesInTopic": 2, 
    "nextInTime": 10530, 
    "senderId": "CfhhUNBFi1D9FIY66bxhG2LqNDVki85uoyXQ2znEYow3vyIzQpEJ3nOs-aGhFr-jSu3LjLKedYB0K5cdZt5KfJjckNWVBSY8JzSe2TVKaiCBv8Y", 
    "systemMessage": false, 
    "subject": "Testing Data Access Layer", 
    "from": "&quot;Ahuja, Mona R&quot; &lt;mona.r.ahuja@...&gt;", 
    "authorName": "Ahuja, Mona R", 
    "msgSnippet": "Hi, I have to test the data access layer for which i need to pass a mock connection object . here is my class public class JdbcDataAccess implements", 
    "msgId": 10529, 
    "profile": "mona_r_ahuja", 
    "topicId": 10529, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 175701550, 
    "messageBody": "<div id=\"ygrps-yiv-572519970\">Hi,<br/>\nI have to test the data access layer for which i need to pass a mock<br/>\nconnection object .<br/>\nhere is my class<br/>\n<br/>\npublic class JdbcDataAccess implements IDataAccess {<br/>\n    private static JdbcDataAccess s_instance = null;<br/>\n    private PooledConnection m_connectionPool;<br/>\n<br/>\n    public static final JdbcDataAccess getInstance(final IApplication<br/>\napplication) {<br/>\n        if (s_instance == null) {<br/>\n            s_instance = new JdbcDataAccess(application);<br/>\n        }<br/>\n        return s_instance;<br/>\n    }<br/>\n   // public JdbcDataAccess(){}<br/>\n    private JdbcDataAccess(final IApplication application) {<br/>\n        try {<br/>\n            createContext(application);  // initialized by someone else?<br/>\n            ConnectionPoolDataSource dataSource = (ConnectionPoolDataSource)<br/>\ngetDataSource(application);<br/>\n            m_connectionPool = dataSource.getPooledConnection();<br/>\n        } catch (NamingException ex) {<br/>\n            throw new CheckedExceptionWrapper(new<br/>\nDataAccessException(ex.getMessage(), ex));<br/>\n        } catch (SQLException ex) {<br/>\n            throw new CheckedExceptionWrapper(new<br/>\nDataAccessException(ex.getMessage(), ex));<br/>\n        }<br/>\n    }<br/>\n    public Collection executeQuery(final String sqlQuery, final Object[]<br/>\nparameters) {<br/>\n        Connection connection = null;<br/>\n        PreparedStatement preparedStatement = null;<br/>\n        ResultSet resultSet = null;<br/>\n        RowSetDynaClass rowSetDynaClass = null;<br/>\n<br/>\n        try {<br/>\n            connection = getConnection();  // SQLException<br/>\n            preparedStatement = connection.prepareStatement(sqlQuery);<br/>\n            if (parameters != null) {<br/>\n                for (int i = 0; i &lt; parameters.length; i++) {<br/>\n                    preparedStatement.setObject(i + 1, parameters[i]);<br/>\n                }<br/>\n            }<br/>\n            resultSet = preparedStatement.executeQuery();<br/>\n            rowSetDynaClass = new RowSetDynaClass(resultSet);<br/>\n        } catch (SQLException ex) {<br/>\n            throw new CheckedExceptionWrapper(new<br/>\nDataAccessException(ex.getMessage(), ex));<br/>\n        } <br/>\n        }<br/>\n    }<br/>\n}<br/>\n<br/>\nI need to test the executeQuery method of this class . How  do I Pass the<br/>\nmock  connection object to this class.<br/>\nI cannot extend this class since this has a private constructor.Extending<br/>\nthis class and adding a setter function function for connection should be<br/>\nthe ideal thing to do .But since the constructor is private I cannot do that<br/>\n.Even composition willnot help since connection is a private variable of<br/>\nthis class.<br/>\nAny suggestions<br/>\nThankYou<br/>\nMona</div>", 
    "prevInTime": 10528, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1077733398", 
    "canDelete": false, 
    "nextInTopic": 10530, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDY3RkU5N0I3Rjk2NEEzNDJBM0NGN0U4QjgxNDcwNjhEM0YyM0UyQEVYTkpNQjI0Lm5hbS5uc3Jvb3QubmV0Pg=="
    }
}