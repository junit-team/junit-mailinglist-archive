{
    "numMessagesInTopic": 7, 
    "nextInTime": 20704, 
    "senderId": "NXjLtIzLVzV8fAYFFvJCIFYe132SO8lMdlJlASBsx9c41Hi6esrgJ0vAXCoLPxkNiUsMxWJjEFOCwD9DkYLt_hGuFwdzJLh8n7RgwZFOmdvqxeBZ1uiedtcXUOj96H34HSPuXEHfT9zC", 
    "systemMessage": false, 
    "subject": "RE: [junit] Newbie wants to take some JUnit group. Some basic questions.", 
    "from": "=?iso-8859-1?Q?B=F6hm=2C_Martin?= &lt;martin.boehm@...&gt;", 
    "authorName": "BÃ¶hm, Martin", 
    "msgSnippet": "Hi, you are on the right way, because testing starts with asking ;-) Nevertheless I would recommend you http://xunitpatterns.com/ The subtitle may suggest", 
    "msgId": 20703, 
    "rawEmail": "Return-Path: &lt;martin.boehm@...&gt;\r\nX-Sender: martin.boehm@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 28066 invoked from network); 22 Jul 2008 08:32:36 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m52.grp.scd.yahoo.com with QMQP; 22 Jul 2008 08:32:36 -0000\r\nX-Received: from unknown (HELO mail.salt-solutions.de) (217.7.51.164)\n  by mta18.grp.scd.yahoo.com with SMTP; 22 Jul 2008 08:32:35 -0000\r\nX-Received: from sdrexc1.salt-solutions.de (sdrexc1.salt-solutions.de [10.193.0.8])\n\tby mail.salt-solutions.de (Postfix) with ESMTP id 2194D1EBF2C\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 22 Jul 2008 10:32:35 +0200 (CEST)\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nDate: Tue, 22 Jul 2008 10:32:34 +0200\r\nMessage-ID: &lt;149C8D4C7CD6D44FB9E26CDEF4469D2E01FF4C80@...-solutions.de&gt;\r\nIn-Reply-To: &lt;g62neb+55it@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] Newbie wants to take some JUnit group. Some basic questions.\r\nThread-Index: Acjrg4mkvkYZvCF1TKyLjNl8VVWLTQASYJ4g\r\nReferences: &lt;g62neb+55it@...&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: =?iso-8859-1?Q?B=F6hm=2C_Martin?= &lt;martin.boehm@...&gt;\r\nSubject: RE: [junit] Newbie wants to take some JUnit group. Some basic questions.\r\nX-Yahoo-Group-Post: member; u=334026059; y=TftSwH0Lp7ZVje4FUAz0cx3cIkTZbSTPC1S7L57Y5taaKaXRIGunuINaEEkDoy0\r\nX-Yahoo-Profile: martinboehmsonneberg\r\n\r\nHi,\n\nyou are on the right way, because testing starts with asking ;-)\n\nNeve=\r\nrtheless I would recommend you http://xunitpatterns.com/\nThe subtitle may s=\r\nuggest that&#39;s only about refactoring and\ntuning test code but moreover it p=\r\nresents excellent examples\nfor the well known testing problems dbs, network=\r\n and so on.\n\n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com [ma=\r\nilto:junit@yahoogroups.com] On \n&gt; Behalf Of serethos_0\n&gt; Sent: Montag, 21. =\r\nJuli 2008 21:19\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Newbie wants=\r\n to take some JUnit group. Some \n&gt; basic questions.\n&gt; \n&gt; Hello!\n&gt; \n&gt; I am a=\r\nn quite experienced programmer but new to the \n&gt; philosophy of unit testing=\r\n. An issue I want to change.\n&gt; I read some articles and took some orientati=\r\non on Frank \n&gt; Westphal&#39;s very good book about that topic. But in practice,=\r\n \n&gt; I always run into similar problems, which seem to disturb my \n&gt; view of=\r\n unit testing. So some thought and questions I would \n&gt; like to discuss.\n&gt; =\r\n\n&gt; 1. Recently I read that a unit test is no one if you have to \n&gt; touch ne=\r\ntwork, db or filesystem. I understand the point that \n&gt; these accesses real=\r\nly can slow the tests down and usually \n&gt; need extra work of configuration,=\r\n but how to avoid this?\n&gt; An example of my daily work. I have quite a commo=\r\nn task: \n&gt; Fetch some xmls from an ftp server, parse the content and map \n&gt;=\r\n it into db and vice versa. So the business logic is quite \n&gt; thin. More im=\r\nportant is good exception handling and the \n&gt; transport of all data in the =\r\nright structures. \n\nFetch, parse, map and persist the output are all differ=\r\nent\ntasks. Maybe its not only a testing problem just as well a\noo-design-is=\r\nsue. -- Because testing is thinking about design\nand testabilty depends on =\r\ndesign, I&#39; m sure it&#39;s a problem ;-)\n\nTo do all the steps, I think its impo=\r\nrtant to identify the\nprocess, its outpu and input and the subordinate proc=\r\nesses as\nwell.\nSo you get very finegrained units for different concerns\ndoi=\r\nng different work. And therefore you are able to mock each\nother piece of u=\r\nnit, that cumbers you in testing your unit under\ntest in isolation.\n\n&gt; Actu=\r\nally the slowdown of a real ftp transport and the \n&gt; configuration and inje=\r\nction overhead of the db-connection is \n&gt; a major drawback. But on the othe=\r\nr hand I see no good way to \n&gt; mock the behaviour of these endpoints. \n&gt; I =\r\ncould try to mock a database, but how to test, if an \n&gt; sql-statement is co=\r\nrrect (especially for a wider range of queries)?\n\nLet&#39;s assume you have to =\r\noptions:\n- On a restricted range of sql-Queries validation of sql:\n  So you=\r\n have to test the validator and the database connection.\n\n- On the full ran=\r\nge of sql-Queries catch the output of the\n  wrong sqls.\n  So you have to te=\r\nst your error catcher to react and handle\n  appropriatly on sql-exceptions.=\r\n\n\nGet it correct and/or react on inconsistency.\nCan you see the different c=\r\noncerns?\n\n&gt; It also is a very hard work to write stubs or mocks, which \n&gt; c=\r\nan answer with all error-states an ftp-server/network can \n&gt; generate (time=\r\nout, access denied, authentication etc) to test \n&gt; the correct error handli=\r\nng of my code.\n\nHave you tried out Mock-Frameworks like jMock or EasyMock?\n=\r\n\n&gt; 2. Another question points to a basic principle of unit \n&gt; testing: the =\r\nopening of a class in small and public methods. \n&gt; I see an advantage in th=\r\ne possibility to inject every aspect \n&gt; of a class (manually or e.g.\n&gt; via =\r\nspring) and the code can benefit from a better \n&gt; readability through a cha=\r\nin of self-explanatory method calls.\n&gt; But in some cases I want to hide imp=\r\nlementation details from the user.\n\nFirst I would ask you, why you want to =\r\nhide the implementation details?\nWhen you try to hide them, then I assume t=\r\nhats not important for the\nuser and so I also assume its not a concern of t=\r\nhe class under\ntest. Its the odd man out.\nThen maybe its only a subtask or =\r\na task to delegate.\n\n&gt; Taking my Importer/Exporter example a second time, i=\r\nt is more \n&gt; a cron script than an application: Doing a defined job in a \n&gt;=\r\n robust and understandable manner but neither designed as a \n&gt; basis for wi=\r\nde enhancements nor for ultimate flexibility. \n&gt; So there are methods which=\r\n start the whole work of an \n&gt; importer over the whole lifecycle (connect, =\r\nfetch data, map \n&gt; data etc). Methods, which are necessary for getting the =\r\n\n&gt; object in a usable state (e.g.\n&gt; connection established) are hidden away=\r\n. To ensure that there \n&gt; must be the correct state before executing the ma=\r\nin task I \n&gt; can lead the user with parameterized constructors (e.g. \n&gt; MyI=\r\nmporter(host, port)).\n\n&quot;Whole&quot; sounds like a megajob, thats not a good prac=\r\ntice in\nunit testing. Maybe the lifecycle is a separate object that\ncontrol=\r\ns different tasks; the connections and fetchers are\nserviceobjects that do =\r\nsomething with your data objects.\n\nAll objects/units are easilier to test i=\r\nf they have one\nobjectiv, that you can test separatly.\n\n&gt; To say it more ge=\r\nnerally I think that it is a common way to \n&gt; restrict the use of classes w=\r\nhich need to be handled in \n&gt; correct order because of their state. This sa=\r\nves a lot of \n&gt; additional exception handling (e.g. executing before connec=\r\nting). \n&gt; But following this thought it gets very hard to isolate testing u=\r\nnits.\n&gt; Even when I separate the tasks within the class to units \n&gt; (connec=\r\nting, disconnecting etc) they would be not accessible \n&gt; and would need to =\r\nbe tested from within.\n\nWhy you would test from within? If the units do the=\r\nir thing,\nthey do it also within. To ensure that they do it, test it\nin iso=\r\nlation, to be sure, that they do it really.\n\n&gt; This is only a very simple a=\r\nnd not a perfect example but I \n&gt; think my point should be clear. I hope th=\r\nat some of you take \n&gt; some time to read it. I really would appreciate some=\r\n thoughts!\n\nHelps you to think about it?\n\nBest Regards\n\n&gt;  \n&gt; \n\n", 
    "profile": "martinboehmsonneberg", 
    "topicId": 20700, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 334026059, 
    "prevInTime": 20702, 
    "contentTrasformed": false, 
    "postDate": "1216715554", 
    "canDelete": false, 
    "nextInTopic": 20705, 
    "prevInTopic": 20702, 
    "headers": {
        "inReplyToHeader": "PGc2Mm5lYis1NWl0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDE0OUM4RDRDN0NENkQ0NEZCOUUyNkNERUY0NDY5RDJFMDFGRjRDODBAc2RyZXhjMS5zYWx0LXNvbHV0aW9ucy5kZT4=", 
        "referencesHeader": "PGc2Mm5lYis1NWl0QGVHcm91cHMuY29tPg=="
    }
}