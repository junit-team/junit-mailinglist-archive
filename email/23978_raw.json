{
    "numMessagesInTopic": 12, 
    "nextInTime": 23979, 
    "senderId": "yDVWXE2QZMdSN77Y_OvJgQv1G5i764bLtjAySg9QKVcMTkoH7byXmhXc6fJSvNEbmhZyVP9st9IY7ICrh5fqeUUklwxnE2WmrWhvA48DUiqv2oY", 
    "systemMessage": false, 
    "subject": "Re: [junit] Tests starting before Logback initialisation complete when run in parallel", 
    "from": "Mirko Friedenhagen &lt;mfriedenhagen@...&gt;", 
    "authorName": "Mirko Friedenhagen", 
    "msgSnippet": "Hello, wild guess: do you have both commons-logging as well as jcl-over-slf4j in your test class path? Regards Mirko ... [Non-text portions of this message", 
    "msgId": 23978, 
    "rawEmail": "Return-Path: &lt;mfriedenhagen@...&gt;\r\nReceived: (qmail 99712 invoked by uid 7800); 5 Sep 2012 14:45:33 -0000\r\nX-Sender: mfriedenhagen@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 94694 invoked from network); 5 Sep 2012 14:42:13 -0000\r\nX-Received: from unknown (98.137.35.160)\n  by m7.grp.sp2.yahoo.com with QMQP; 5 Sep 2012 14:42:13 -0000\r\nX-Received: from unknown (HELO mail-ob0-f170.google.com) (209.85.214.170)\n  by mta4.grp.sp2.yahoo.com with SMTP; 5 Sep 2012 14:42:13 -0000\r\nX-Received: by obbwc18 with SMTP id wc18so332539obb.29\n        for &lt;junit@yahoogroups.com&gt;; Wed, 05 Sep 2012 07:42:12 -0700 (PDT)\r\nX-Received: by 10.60.26.133 with SMTP id l5mr17684256oeg.60.1346856132508; Wed,\n 05 Sep 2012 07:42:12 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.57.199 with HTTP; Wed, 5 Sep 2012 07:41:52 -0700 (PDT)\r\nIn-Reply-To: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\r\nReferences: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\r\nDate: Wed, 5 Sep 2012 16:41:52 +0200\r\nMessage-ID: &lt;CAK8jvqzb_aBckeV54PcNg2bbNWQ+F2NaCa=PyC6sMXTKEaxKeA@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Mirko Friedenhagen &lt;mfriedenhagen@...&gt;\r\nSubject: Re: [junit] Tests starting before Logback initialisation complete\n when run in parallel\r\nX-Yahoo-Group-Post: member; u=501184715; y=2npopyGPrM9mEVgZXNdX5V-PuRX05iBMK2xqNvFgGeu28pBbaNrArjjqN_S8jfuHbyk0TcdMW9EAqMM\r\nX-Yahoo-Profile: mirkokarlsruhe\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 5 Sep 2012 14:45:33 -0000\r\n\r\nHello,\n\nwild guess: do you have both commons-logging as well as jcl-over-sl=\r\nf4j in\nyour test class path?\n\nRegards Mirko\n\nOn Mon, Sep 3, 2012 at 9:51 PM=\r\n, Brett Delle Grazie &lt;bdellegrazie@...&gt;wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; I&#39;m u=\r\nsing JUnit 4.10 with Maven 3.0.4, Surefire 2.12.3, JDK 1.6.0_35\n&gt; on Window=\r\ns 7\n&gt; Surefire is configured with parallel=3Dmethods and threadCount=3D10\n&gt;=\r\n For logging, I&#39;m using SLF4J to Logback, initialised by default method\n&gt; (=\r\ni.e. configuration file logback-test.xml is on the test classpath)\n&gt;\n&gt; I ha=\r\nve an order of initialisation problem in that:\n&gt; (1) Some unit tests test c=\r\nlasses that use commons-logging (and logback\n&gt; via jcl-slf4j) but are endin=\r\ng up with\n&gt; Null loggers.\n&gt; (2) jcl-slf4j is not initialised _until_ those =\r\nclasses are called.\n&gt;\n&gt; If I disable parallelism the code works correctly, =\r\nimplying an order\n&gt; of initialisation issue.\n&gt;\n&gt; According to the most rece=\r\nnt FAQ on Junit.org (Section 5, #3) I could\n&gt; use @BeforeClass and @AfterCl=\r\nass at the class\n&gt; level but I&#39;m talking about at the global level, somethi=\r\nng that needs\n&gt; to be executed even if only a single test is run.\n&gt;\n&gt; What =\r\nis the correct method to add global, one-time, setup / tear-down\n&gt; hooks? I=\r\nn this case they would need to execute and\n&gt; complete (i.e. blocking) befor=\r\ne any parallel tests are run.\n&gt; Is it simplest to override the Runner and i=\r\nnitialise the logging in code\n&gt; there?\n&gt;\n&gt; Thanks,\n&gt;\n&gt; Best Regards,\n&gt;\n&gt; Br=\r\nett\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "mirkokarlsruhe", 
    "topicId": 23967, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 501184715, 
    "prevInTime": 23977, 
    "contentTrasformed": false, 
    "postDate": "1346856112", 
    "canDelete": false, 
    "nextInTopic": 23979, 
    "prevInTopic": 23977, 
    "headers": {
        "inReplyToHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBSzhqdnF6Yl9hQmNrZVY1NFBjTmcyYmJOV1ErRjJOYUNhPVB5QzZzTVhUS0VheEtlQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4="
    }
}