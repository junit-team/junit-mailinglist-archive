{
    "numMessagesInTopic": 4, 
    "nextInTime": 15397, 
    "senderId": "on1Vbx0EryUTByS-YdEiADoL3ndof6napeHEaC4hApFXO_GIwyY-fMyDoOQYy2_6Lw67WvE9VXhrY3UUhdbToQfZs6M3e4mdEmI", 
    "systemMessage": false, 
    "subject": "testing ant failure", 
    "from": "Thomas L Roche &lt;tlroche@...&gt;", 
    "authorName": "Thomas L Roche", 
    "msgSnippet": "", 
    "msgId": 15396, 
    "profile": "tlroche", 
    "topicId": 15396, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 112010592, 
    "messageBody": "<div id=\"ygrps-yiv-1414939751\">&lt;Apologies in advance for cross-posting, but I couldn&#39;t decide which<br/>\nlist was more appropriate.&gt;<br/>\n<br/>\nHow to test that an ant script fails appropriately? Specifically:<br/>\n<br/>\nI&#39;m working on a build app (a java app for building lots of different<br/>\nthings in lots of different places) that basically {creates, shleps,<br/>\ninvokes} ant scripts. I have a few JUnit tests on the app (and am<br/>\nwriting more). I&#39;m hooking in a scanner that causes a build to fail if<br/>\na build prerequisite is not found. I know the scanner works because I<br/>\ncan manually<br/>\n<br/>\n* move a prereq file so that it&#39;s not where the build expects it<br/>\n<br/>\n* see the BUILD FAILED message corresponds to the message attribute of<br/>\n  the appropriate &lt;fail&gt; task<br/>\n<br/>\n(Unfortunately existing, downstream tests in the current suite (that<br/>\nlook for the appropriate build outputs) don&#39;t fail: they greenbar (in<br/>\neclipse&#39;s runner), presumably because they don&#39;t run.)<br/>\n<br/>\nI&#39;d prefer to automate this, e.g. to create one or more separate<br/>\nsuites with<br/>\n<br/>\n* setUp() that sets up the prereqs not-quite-correctly, then invokes<br/>\n  the build<br/>\n<br/>\n* a testBuildFailed() that checks for failure<br/>\n<br/>\n* a testBuildFailedAppropriately() that checks for appropriate failure<br/>\n<br/>\nWhat&#39;s the &quot;best way&quot; to test for appropriate failure? The only thing<br/>\nthat comes to my mind is to parse the logfile, e.g.<br/>\n<br/>\n* check for a &quot;BUILD FAILED&quot; line<br/>\n<br/>\n* check that a line after the &quot;BUILD FAILED&quot; line contains the<br/>\n  appropriate failure message.<br/>\n<br/>\nIs there an easier/better way? Note that I do have access to the app<br/>\ncode and scripts, and I am more-than-willing to instrument them for<br/>\ntestability.</div>", 
    "prevInTime": 15395, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1131744857", 
    "canDelete": false, 
    "nextInTopic": 15398, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PE9GQzkwNzUyNTAuMzdBREEwRDctT044NzI1NzBCNi4wMDc0MkY5MC04NTI1NzBCNi4wMDc2NTdBMUB1cy5pYm0uY29tPg=="
    }
}