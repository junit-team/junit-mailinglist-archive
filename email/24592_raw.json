{
    "numMessagesInTopic": 4, 
    "nextInTime": 24593, 
    "senderId": "xAJWLPyWqLjc9PqwJnWYPIslsRCu4-Pvbv21MpJSE0wcLkUHo22oSXmH9jb-W2J3EwiqQ6LzqpmLwdeI-eUSXjvsYA", 
    "systemMessage": false, 
    "subject": "JUnit compatibility (was: Re: [junit] Re: JUnit 4.12-beta-1 is released)", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Stefan, Thanks for your mail.  The original thread is indeed about whether a particular release has breaking changes, an important topic, so I forked a new", 
    "msgId": 24592, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 49704 invoked by uid 102); 13 Aug 2014 15:38:21 -0000\r\nX-Received: from unknown (HELO mtaq3.grp.bf1.yahoo.com) (10.193.84.142)\n  by m6.grp.bf1.yahoo.com with SMTP; 13 Aug 2014 15:38:21 -0000\r\nX-Received: (qmail 10162 invoked from network); 13 Aug 2014 15:38:21 -0000\r\nX-Received: from unknown (HELO mail-qg0-f52.google.com) (98.139.245.164)\n  by mtaq3.grp.bf1.yahoo.com with SMTP; 13 Aug 2014 15:38:21 -0000\r\nX-Received: by mail-qg0-f52.google.com with SMTP id f51so10624574qge.25\n        for &lt;junit@yahoogroups.com&gt;; Wed, 13 Aug 2014 08:38:20 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=1e100.net; s=20130820;\n        h=x-gm-message-state:mime-version:from:date:message-id:subject:to\n         :content-type;\n        bh=vRZ7ByiHery5psN/PHRzlYeRa1BAiRwnLBiZX9nvhzQ=;\n        b=RUswDeQ5OzWMvIefsvrJsfTB4QfwBVbudn1b4ntFVhT8T/JS5Xd3e/IP22yWPD8lPD\n         tXp829xuPXsbnz4+9IZbn3/jta7Wo/tqqPo0E9z8xI/NohGUdYnbWBuUJmyBuLv5heJd\n         8yKm9WCwHdjZ3Wbs4p+P8FK6x/GS49Z6ft6f8E6/wmnzcPcZc7QCEKS1n6Oo4WWybTZb\n         F3LCUGBOz+h6LEEEO65nqtgdiNQRdIpOKymrT/eqftPJ1zk6jJCQdS9bAFfwW2CdIeV0\n         cPj+fwnMy6J84ZZwyuMrz6dBdL+Patuukl7Mrzn7yckunqSF4TJ/Bf5FE1QclOnnIbeO\n         hXVg==\r\nX-Gm-Message-State: ALoCoQl0kyBdUfd85yB9ifcIFrPrrq/bl1zxqxTH4TXrC/IyTa9T7z8foE7VCK6xBJBllsvs1RVP\r\nX-Received: by 10.224.127.133 with SMTP id g5mr3440811qas.67.1407944300474;\n Wed, 13 Aug 2014 08:38:20 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.229.30.134 with HTTP; Wed, 13 Aug 2014 08:37:59 -0700 (PDT)\r\nDate: Wed, 13 Aug 2014 11:37:59 -0400\r\nMessage-ID: &lt;CALrw-PyojGJojOEH7w3tZz52Y7ZVr43Vc8GSyEFMCCPmHzbp3w@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=001a11c2af5ce571fe050084939e\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nSubject: JUnit compatibility (was: Re: [junit] Re: JUnit 4.12-beta-1 is released)\r\nX-Yahoo-Group-Post: member; u=525765722; y=5r_pyxo7ODShXQ78HPMBWzzzTZsAvYQobOODWWbQ9IF4ez5QggRhXqvcb6wQMgR_gyW31q1FFgeYib0\r\nX-Yahoo-Profile: saffatgoogle\r\nFrom: David Saff &lt;saff@...&gt;\r\n\r\n\r\n--001a11c2af5ce571fe050084939e\r\nContent-Type: text/plain; charset=ISO-8859-1\r\n\r\nStefan,\n\nThanks for your mail.  The original thread is indeed about whether a\nparticular release has breaking changes, an important topic, so I forked a\nnew thread to address the more general questions you raise.\n\nIn general, JUnit 4 has indeed striven for semantic versioning.  Since\nwe&#39;ve been on 4.x for some 9-ish years now, that&#39;s meant trying to maintain\nbackwards compatibility across a wide codebase, sometimes at considerable\ncost to effort and design coherence, but it&#39;s still been a primary goal of\nmy involvement.  I&#39;m not sure what it would mean to have an &quot;explicit\ncompatibility policy&quot;; if there&#39;s another open-source project that has a\ngreat posted policy, that&#39;s something I&#39;d consider.\n\nThe two historical examples you speak of are both mistakes.  The change\nfrom JUnit 4.4 to 4.5 was the movement of AssumptionViolatedException,\nunless there&#39;s another change you have in mind (\nhttps://jira.spring.io/browse/SPR-5145).  Issue 357 was a mess that I\ncaused.  I hope we can avoid making such mistakes going forward, which is\nwhy I&#39;m glad that this latest beta surfaced the JUnit4ClassRunner\nincompatibility.\n\n   David Saff\n\nOn Tue, Aug 12, 2014 at 5:18 PM, Stefan stefan@... [junit] &lt;\njunit@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; I agree with Arie that the whole discussion should turn from a discussion\n&gt; about backward compatibility of a release to a discussion about a\n&gt; compatibility policy. In my opinion semantic versioning is not only about\n&gt; version numbers but about a clear compatibility policy that will be\n&gt; guaranteed by the authors of the library.\n&gt;\n&gt; As far as I know for JUnit there is no compatibility policy at all -\n&gt; neither formally agreed upon nor informal. On the one hand JUnit 4 ships\n&gt; with a JUnit 3 compatibility layer that will not be removed in order to\n&gt; keep &quot;old legacy code bases alive&quot;. On the other hand there have been\n&gt; incompatible changes in JUnit minor versions that forced test-support\n&gt; library developers and excessive JUnit users to adopt. For example the\n&gt; runner structure changed between 4.4 and 4.5 causing projects like spring\n&gt; to develop workarounds and reflection magic to support both versions. From\n&gt; 4.9 to 4.10 test rule implementation was changed (see\n&gt; https://github.com/junit-team/junit/issues/357) and there might be more\n&gt; examples I&#39;m not aware of.\n&gt;\n&gt; So why do you maintain classes from a version that had it&#39;s end of life 8\n&gt; years ago to keep tests running written more than 8 years ago while\n&gt; breaking code that has been developed months or days ago?\n&gt;\n&gt; Personally I did not suffer from the breaking changes in 4.5 nor will I\n&gt; suffer from the planned changes in 4.12 - but the test rule implementation\n&gt; change in 4.10 was a lot of effort for me and some of my collegues (see\n&gt; github issue for details).\n&gt; 4.10 was released in 2011 and I had to maintain two versions of our\n&gt; test-support library to support projects using JUnit 4.8 and 4.9 on the one\n&gt; hand and newer or updated projects using JUnit 4.10 and 4.11 on the other.\n&gt; Some months ago our last active developed project migrated from JUnit 4.8.2\n&gt; to JUnit 4.11 and I could finally stop supporting and developing the old\n&gt; branch of the test-support library.\n&gt;\n&gt;\n&gt; To sum up: I&#39;d love to have a compatibility policy for JUnit that every\n&gt; one can rely on. Semantic versioning would be a good choice.\n&gt;\n&gt; Regards,\n&gt; Stefan\n&gt;\n&gt;\n&gt; Am 12.08.2014 um 21:06 schrieb David Saff saff@... [junit]:\n&gt;\n&gt;\n&gt; Henrik,\n&gt;\n&gt;  Thanks for the update.  We&#39;re considering a solution very close to what\n&gt; you recommend below; I&#39;ll report back.\n&gt;\n&gt;     David\n&gt;\n&gt;\n&gt;  On Tue, Aug 12, 2014 at 1:53 PM, hkaipe@... [junit] &lt;\n&gt; junit@yahoogroups.com&gt; wrote:\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Hi DavidI have tried 4.12-beta-1 on a number of problem scenarios. There\n&gt;&gt; will be some problems with publicly available 3rd-party runners but the\n&gt;&gt; most serious consequences (for end-users) will probably show up where they\n&gt;&gt; have some customized in-house runner ...public class\n&gt;&gt; Somebodies_Inhouse_Runner extends JUnit4ClassRunner {  public\n&gt;&gt; Someones_Inhourse_Runner(Class&lt;?&gt; testClass) {super(testClass);}}... and a\n&gt;&gt; common test super-class ...@ RunWith(Somebodies_Inhouse_Runner.class)public\n&gt;&gt; abstract TestSuperClass { /* Common test-utils go here! */ }... both of\n&gt;&gt; which class-files are available on the test class-path (perhaps in a\n&gt;&gt; separate jar-file).A test that extends TestSuperClass ...public class\n&gt;&gt; BrokenTest extends TestSuperClass {  @ Test  public void myTestMethod()\n&gt;&gt; {}}... will compile and run as expected with JUnit-4.11. With 4.12-beta-1\n&gt;&gt; it will still compile (without warnings!) but the test-run will result in\n&gt;&gt; this error message:&quot;Type [unknown] not present&quot;(I have verified this\n&gt;&gt; scenario with JDK-7)My opinion on this:Keeping JUnit4ClassRunner - and\n&gt;&gt; finalize its deprecation by having its constructor throw an understandable\n&gt;&gt; error-message - would leave the JUnit community with a maintenance burden\n&gt;&gt; that is insignificant compared to the burden of finding out the meaning of\n&gt;&gt; &quot;Type [unknown] not present&quot;!BR /Henrik Kaipe\n&gt;&gt;\n&gt;\n&gt;\n&gt;  \n&gt;\n\r\n--001a11c2af5ce571fe050084939e\r\nContent-Type: text/html; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;Stefan,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks for your mail. &nbsp;The=\r\n original thread is indeed about whether a particular release has breaking =\r\nchanges, an important topic, so I forked a new thread to address the more g=\r\neneral questions you raise.&lt;/div&gt;\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In general, JUnit 4 =\r\nhas indeed striven for semantic versioning. &nbsp;Since we&#39;ve been on 4=\r\n.x for some 9-ish years now, that&#39;s meant trying to maintain backwards =\r\ncompatibility across a wide codebase, sometimes at considerable cost to eff=\r\nort and design coherence, but it&#39;s still been a primary goal of my invo=\r\nlvement. &nbsp;I&#39;m not sure what it would mean to have an &quot;explici=\r\nt compatibility policy&quot;; if there&#39;s another open-source project th=\r\nat has a great posted policy, that&#39;s something I&#39;d consider.&lt;/div&gt;\n=\r\n\n&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The two historical examples you speak of are both mist=\r\nakes. &nbsp;The change from JUnit 4.4 to 4.5 was the movement of Assumption=\r\nViolatedException, unless there&#39;s another change you have in mind (&lt;a h=\r\nref=3D&quot;https://jira.spring.io/browse/SPR-5145&quot;&gt;https://jira.spring.io/brows=\r\ne/SPR-5145&lt;/a&gt;). &nbsp;Issue 357 was a mess that I caused. &nbsp;I hope we =\r\ncan avoid making such mistakes going forward, which is why I&#39;m glad tha=\r\nt this latest beta surfaced the JUnit4ClassRunner incompatibility.&lt;/div&gt;\n\n&lt;=\r\ndiv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp; &nbsp;David Saff&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div cl=\r\nass=3D&quot;gmail_extra&quot;&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Tue, Aug 12, 2014 at 5:18=\r\n PM, Stefan &lt;a href=3D&quot;mailto:stefan@...&quot;&gt;stefan@...&lt;/a&gt; =\r\n[junit] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:junit@yahoogroups.com&quot; targ=\r\net=3D&quot;_blank&quot; class=3D&quot;cremed&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;=\r\nbr&gt;\n\n&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0px 0px 0px 0.8ex;bo=\r\nrder-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:so=\r\nlid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;background-color:=\r\nrgb(255,255,255)&quot;&gt;\n&lt;span&gt;&nbsp;&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n      \n =\r\n     \n      &lt;p&gt;\n  \n  \n    Hi,&lt;br&gt;\n    &lt;br&gt;\n    I agree with Arie that the w=\r\nhole discussion should turn from a\n    discussion about backward compatibil=\r\nity of a release to a discussion\n    about a compatibility policy. In my op=\r\ninion semantic versioning is\n    not only about version numbers but about a=\r\n clear compatibility\n    policy that will be guaranteed by the authors of t=\r\nhe library.&lt;br&gt;\n    &lt;br&gt;\n    As far as I know for JUnit there is no compati=\r\nbility policy at all -\n    neither formally agreed upon nor informal. On th=\r\ne one hand JUnit 4\n    ships with a JUnit 3 compatibility layer that will n=\r\not be removed in\n    order to keep &quot;old legacy code bases alive&quot;.=\r\n On the other hand there\n    have been incompatible changes in JUnit minor =\r\nversions that forced\n    test-support library developers and excessive JUni=\r\nt users to adopt.\n    For example the runner structure changed between 4.4 =\r\nand 4.5 causing\n    projects like spring to develop workarounds and reflect=\r\nion magic to\n    support both versions. From 4.9 to 4.10 test rule implemen=\r\ntation was\n    changed (see &lt;a href=3D&quot;https://github.com/junit-team/junit/=\r\nissues/357&quot; target=3D&quot;_blank&quot; class=3D&quot;cremed&quot;&gt;https://github.com/junit-tea=\r\nm/junit/issues/357&lt;/a&gt;) and\n    there might be more examples I&#39;m not aw=\r\nare of.&lt;br&gt;\n    &lt;br&gt;\n    So why do you maintain classes from a version that=\r\n had it&#39;s end of\n    life 8 years ago to keep tests running written mor=\r\ne than 8 years ago\n    while breaking code that has been developed months o=\r\nr days ago?&lt;br&gt;\n    &lt;br&gt;\n    Personally I did not suffer from the breaking =\r\nchanges in 4.5 nor\n    will I suffer from the planned changes in 4.12 - but=\r\n the test rule\n    implementation change in 4.10 was a lot of effort for me=\r\n and some of\n    my collegues (see github issue for details).&lt;br&gt;\n    4.10 =\r\nwas released in 2011 and I had to maintain two versions of our\n    test-sup=\r\nport library to support projects using JUnit 4.8 and 4.9 on\n    the one han=\r\nd and newer or updated projects using JUnit 4.10 and 4.11\n    on the other.=\r\n Some months ago our last active developed project\n    migrated from JUnit =\r\n4.8.2 to JUnit 4.11 and I could finally stop\n    supporting and developing =\r\nthe old branch of the test-support\n    library.&lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    T=\r\no sum up: I&#39;d love to have a compatibility policy for JUnit that\n    ev=\r\nery one can rely on. Semantic versioning would be a good choice.&lt;br&gt;\n    &lt;b=\r\nr&gt;\n    Regards,&lt;br&gt;\n    Stefan &lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;/p&gt;&lt;div&gt;Am 12.08=\r\n.2014 um 21:06 schrieb David\n      Saff &lt;a href=3D&quot;mailto:saff@...&quot; =\r\ntarget=3D&quot;_blank&quot; class=3D&quot;cremed&quot;&gt;saff@...&lt;/a&gt; [junit]:&lt;br&gt;\n    &lt;/d=\r\niv&gt;&lt;div class=3D&quot;&quot;&gt;\n    &lt;blockquote type=3D&quot;cite&quot;&gt; &lt;span&gt;&nbsp;&lt;/span&gt;\n    =\r\n  \n          &lt;div&gt;\n            &lt;div dir=3D&quot;ltr&quot;&gt;&lt;span style=3D&quot;font-family:=\r\narial,sans-serif;font-size:13px&quot;&gt;Henrik,&lt;/span&gt;&lt;br&gt;\n              &lt;div&gt;&lt;spa=\r\nn style=3D&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;\n              =\r\n  &lt;/span&gt;&lt;/div&gt;\n              &lt;div&gt;&lt;span style=3D&quot;font-family:arial,sans-se=\r\nrif;font-size:13px&quot;&gt;Thanks\n                  for the update. &nbsp;We&#39;r=\r\ne considering a solution very\n                  close to what you recommend=\r\n below; I&#39;ll report back.&lt;/span&gt;&lt;/div&gt;\n              &lt;div&gt;&lt;span style=\r\n=3D&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;\n                &lt;/spa=\r\nn&gt;&lt;/div&gt;\n              &lt;div&gt;&lt;span style=3D&quot;font-family:arial,sans-serif;fon=\r\nt-size:13px&quot;&gt;&nbsp;\n                  &nbsp;David&lt;/span&gt;&lt;/div&gt;\n            =\r\n&lt;/div&gt;\n            &lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;\n              &lt;br&gt;\n     =\r\n         &lt;div class=3D&quot;gmail_quote&quot;&gt;\n                On Tue, Aug 12, 2014 a=\r\nt 1:53 PM, &lt;a href=3D&quot;mailto:hkaipe@...&quot; target=3D&quot;_blank&quot; class=3D&quot;c=\r\nremed&quot;&gt;hkaipe@...&lt;/a&gt;\n                [junit] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;=\r\na href=3D&quot;mailto:junit@yahoogroups.com&quot; target=3D&quot;_blank&quot; class=3D&quot;cremed&quot;&gt;=\r\njunit@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt;\n                wrote:&lt;br&gt;\n           =\r\n     &lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;border-left-width:1px;borde=\r\nr-left-color:rgb(204,204,204);border-left-style:solid&quot;&gt;\n                  &lt;=\r\ndiv style=3D&quot;background-color:rgb(255,255,255)&quot;&gt;\n                    &lt;span&gt;=\r\n&nbsp;&lt;/span&gt;\n                    &lt;div&gt;\n                      &lt;div&gt;\n       =\r\n                 &lt;div&gt;\n                          &lt;p&gt;Hi DavidI have tried 4.=\r\n12-beta-1 on a\n                            number of problem scenarios. The=\r\nre will be\n                            some problems with publicly availabl=\r\ne\n                            3rd-party runners but the most serious\n      =\r\n                      consequences (for end-users) will probably\n          =\r\n                  show up where they have some customized\n                 =\r\n           in-house runner ...public class\n                            Some=\r\nbodies_Inhouse_Runner extends\n                            JUnit4ClassRunner=\r\n {&nbsp; public\n                            Someones_Inhourse_Runner(Class&=\r\nlt;?&gt;\n                            testClass) {super(testClass);}}... and=\r\n a\n                            common test super-class ...@\n               =\r\n             RunWith(Somebodies_Inhouse_Runner.class)public\n               =\r\n             abstract TestSuperClass { /* Common\n                          =\r\n  test-utils go here! */ }... both of which\n                            cla=\r\nss-files are available on the test\n                            class-path (=\r\nperhaps in a separate\n                            jar-file).A test that ext=\r\nends TestSuperClass\n                            ...public class BrokenTest =\r\nextends\n                            TestSuperClass {&nbsp; @ Test&nbsp; pub=\r\nlic void\n                            myTestMethod() {}}... will compile and=\r\n run\n                            as expected with JUnit-4.11. With\n        =\r\n                    4.12-beta-1 it will still compile (without\n            =\r\n                warnings!) but the test-run will result in\n                =\r\n            this error message:&quot;Type [unknown] not\n                   =\r\n         present&quot;(I have verified this scenario with\n                 =\r\n           JDK-7)My opinion on this:Keeping\n                            JUn=\r\nit4ClassRunner - and finalize its\n                            deprecation b=\r\ny having its constructor throw\n                            an understandabl=\r\ne error-message - would\n                            leave the JUnit communi=\r\nty with a maintenance\n                            burden that is insignific=\r\nant compared to the\n                            burden of finding out the m=\r\neaning of &quot;Type\n                            [unknown] not present&quot=\r\n;!BR /Henrik Kaipe&lt;/p&gt;\n                        &lt;/div&gt;\n                     =\r\n   &lt;div&gt; &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n   =\r\n               &lt;/div&gt;\n                &lt;/blockquote&gt;\n              &lt;/div&gt;\n  =\r\n            &lt;br&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          \n      \n    =\r\n  \n    &lt;/blockquote&gt;\n    &lt;br&gt;\n  \n\n&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n     \n\n    \n   =\r\n &lt;div style=3D&quot;color:rgb(255,255,255);min-height:0px&quot;&gt;&lt;/div&gt;\n\n\n&lt;/div&gt;\n\n\n\n  =\r\n\n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n\r\n--001a11c2af5ce571fe050084939e--\r\n\n", 
    "profile": "saffatgoogle", 
    "topicId": 24592, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "prevInTime": 24591, 
    "contentTrasformed": false, 
    "postDate": "1407944279", 
    "canDelete": false, 
    "nextInTopic": 24593, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PENBTHJ3LVB5b2pHSm9qT0VIN3czdFp6NTJZN1pWcjQzVmM4R1N5RUZNQ0NQbUh6YnAzd0BtYWlsLmdtYWlsLmNvbT4="
    }
}