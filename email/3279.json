{
    "numMessagesInTopic": 31, 
    "nextInTime": 3280, 
    "senderId": "YWNjbW52NtPBtLmx9vkNy_9piG8_O7j6cCJm2UUQ4W4Cxif5RZU4UmnUIENpNs-NATi7pvu6Rq8d6anIBSYDwvIqv-S7a1zitlBVaGJk", 
    "systemMessage": false, 
    "subject": "RE: [junit] Anyone know of a decent debugger?", 
    "from": "Mark Meyers &lt;markm@...&gt;", 
    "authorName": "Mark Meyers", 
    "msgSnippet": "Why not use an instance of ResultSet that throws Exceptions whenever YOU want ? Write your own implementation of the ResultSet interface... Well, it s not very", 
    "msgId": 3279, 
    "topicId": 3259, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1664376148\">Why not use an instance of ResultSet that throws Exceptions whenever YOU<br/>\nwant ? Write your own implementation of the ResultSet interface... <br/>\nWell, it&#39;s not very practical since that means implementing 129 methods.<br/>\nThere is a way in Jdk 1.3: dynamic proxy, just try it. It even works<br/>\n(slightly modified) in JUnit ;)<br/>\n<br/>\n<br/>\npackage testproxy;<br/>\n<br/>\nimport java.sql.*;<br/>\nimport java.lang.reflect.*;<br/>\n/**<br/>\n *<br/>\n * @author  M. Meyers<br/>\n */<br/>\npublic class ResultSetTestDelegate extends Object implements<br/>\nInvocationHandler{<br/>\n<br/>\n    /** Creates new ResultSetTestDelegate */<br/>\n    public ResultSetTestDelegate() {<br/>\n    }<br/>\n    <br/>\n    public Object failMethod(String methodName)throws SQLException{<br/>\n        throw new SQLException(&quot;JUnit testing&quot;, methodName);<br/>\n    }<br/>\n    public Object failMethod(Method method)throws SQLException{<br/>\n        return failMethod(method.getName());<br/>\n    }<br/>\n    public Object invoke(Object proxy, Method method, Object[] args) throws<br/>\nThrowable{<br/>\n        //do testing here to return something under certain conditions<br/>\n(method, arguments)...<br/>\n        if(method.getName().equals(&quot;findColumn&quot;)){<br/>\n            return new Integer(23);<br/>\n        }<br/>\n        return failMethod(method);<br/>\n    }<br/>\n}<br/>\n<br/>\n<br/>\npackage testproxy;<br/>\n<br/>\nimport java.sql.*;<br/>\nimport java.lang.reflect.*;<br/>\n/**<br/>\n *<br/>\n * @author  M. Meyers<br/>\n * @version<br/>\n */<br/>\npublic class ProxyDemo extends Object {<br/>\n    public static ResultSet createTestResultSet(){<br/>\n        try{<br/>\n            return<br/>\n(ResultSet)Proxy.newProxyInstance(ClassLoader.getSystemClassLoader(), new<br/>\nClass[]{ResultSet.class}, new ResultSetTestDelegate());<br/>\n        }catch(IllegalArgumentException e){<br/>\n            System.err.println(&quot;Sorry, does not work...&quot;);<br/>\n            e.printStackTrace(System.err);<br/>\n            return null;<br/>\n        }<br/>\n    }<br/>\n   <br/>\n    public static void main (String args[]) {<br/>\n        try{<br/>\n            ResultSet resultSet = createTestResultSet();<br/>\n         <br/>\n            int index = resultSet.findColumn(&quot;somename&quot;);<br/>\n            System.out.print(&quot;Should get here&quot;);<br/>\n         <br/>\n            resultSet.getArray(&quot;someothercolumn&quot;);<br/>\n            System.out.print(&quot;Should NEVER get here&quot;);<br/>\n         <br/>\n        }catch(Exception e){<br/>\n            System.out.println(&quot;OK, it works just fine.&quot;);<br/>\n            e.printStackTrace();<br/>\n        }<br/>\n    }<br/>\n    <br/>\n}</div>", 
    "prevInTime": 3278, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1005902040", 
    "canDelete": false, 
    "nextInTopic": 3282, 
    "prevInTopic": 3278, 
    "headers": {
        "messageIdInHeader": "PEM0NTBEOTY2NjRDQkQzMTE4MkI2MDBBMEM5NzY2OEIxMzA2QTI5QENBU0UwNTI+"
    }
}