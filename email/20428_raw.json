{
    "numMessagesInTopic": 7, 
    "nextInTime": 20429, 
    "senderId": "TIxKY5pgAGm4gextaffdsFR9Z9-wYRALSnIrk31kOcjNyy3hBG0ywFiKHyWugnRKGsskRRI_Wena872y-nz881HEACevX0SAW7U3PQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Running parallel tests in JUnit4.4+", 
    "from": "&quot;James Abley&quot; &lt;james.abley@...&gt;", 
    "authorName": "James Abley", 
    "msgSnippet": "... Hi Daniel, Nice thinking. Did you consider using java.util.concurrent.CountDownLatch and maybe the Executor framework? That might better communicate the", 
    "msgId": 20428, 
    "rawEmail": "Return-Path: &lt;james.abley@...&gt;\r\nX-Sender: james.abley@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 23029 invoked from network); 3 Apr 2008 19:51:11 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m49.grp.scd.yahoo.com with QMQP; 3 Apr 2008 19:51:11 -0000\r\nX-Received: from unknown (HELO yw-out-2324.google.com) (74.125.46.29)\n  by mta16.grp.scd.yahoo.com with SMTP; 3 Apr 2008 19:51:11 -0000\r\nX-Received: by yw-out-2324.google.com with SMTP id 9so454796ywe.3\n        for &lt;junit@yahoogroups.com&gt;; Thu, 03 Apr 2008 12:51:10 -0700 (PDT)\r\nX-Received: by 10.142.141.21 with SMTP id o21mr314666wfd.84.1207252270761;\n        Thu, 03 Apr 2008 12:51:10 -0700 (PDT)\r\nX-Received: by 10.142.192.12 with HTTP; Thu, 3 Apr 2008 12:51:10 -0700 (PDT)\r\nMessage-ID: &lt;23fce8e60804031251h3ea5f8e8n11f3524ab878eb9f@...&gt;\r\nDate: Thu, 3 Apr 2008 20:51:10 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;1207234461.18347.40.camel@daniel-kubuntu&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\nReferences: &lt;1207234461.18347.40.camel@daniel-kubuntu&gt;\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;James Abley&quot; &lt;james.abley@...&gt;\r\nSubject: Re: [junit] Running parallel tests in JUnit4.4+\r\nX-Yahoo-Group-Post: member; u=212683928; y=10A7ERIC9JdjpRWEgb9d910U2atN2TzjzoNrYIJvppBZmtyP\r\nX-Yahoo-Profile: taboozizi\r\n\r\nOn 03/04/2008, Daniel Brolund &lt;daniel.brolund@...&gt; wrote:\n&gt;\n&gt; Hi all,\n&gt;\n&gt;  I&#39;ve been looking around a bit for some sort of parallel execution of\n&gt;  JUnit 4.4+ tests, but I didn&#39;t find much.\n&gt;\n&gt;  So, I tried a few things myself and came up with the two examples below;\n&gt;  one is a parallel suite, and the other is for running parameterized test\n&gt;  instances in parallel. It is almost too simple for me to really believe\n&gt;  in it. ;-)\n&gt;\n&gt;  I would really like some feedback on it; things I&#39;ve missed, cases where\n&gt;  it won&#39;t work etc.\n&gt;\n&gt;  ===========================================\n&gt;\n&gt;  package com.agical.junit;\n&gt;\n&gt;  import java.util.List;\n&gt;\n&gt;  import org.junit.internal.runners.InitializationError;\n&gt;  import org.junit.runner.Runner;\n&gt;  import org.junit.runner.notification.RunNotifier;\n&gt;  import org.junit.runners.Suite;\n&gt;\n&gt;  public class ParallelSuite extends Suite {\n&gt;\n&gt;  public ParallelSuite(Class&lt;?&gt; klass) throws InitializationError {\n&gt;          super(klass);\n&gt;      }\n&gt;\n&gt;  public ParallelSuite(Class&lt;?&gt; klass, Class&lt;?&gt;[] annotatedClasses)\n&gt;              throws InitializationError {\n&gt;          super(klass, annotatedClasses);\n&gt;      }\n&gt;\n&gt;  @Override\n&gt;      protected void runChildren(final RunNotifier runNotifier) {\n&gt;          final List&lt;Runner&gt; runners = getRunners();\n&gt;          runRunnersInParallel(runNotifier, runners);\n&gt;      }\n&gt;\n&gt;  public static void runRunnersInParallel(final RunNotifier\n&gt;  runNotifier,\n&gt;              final List&lt;Runner&gt; runners) {\n&gt;          Thread[] threads = new Thread[runners.size()];\n&gt;          for (int i = 0; i &lt; threads.length; i++) {\n&gt;              final int index = i;\n&gt;              threads[i] = new Thread(new Runnable() {\n&gt;                  public void run() {\n&gt;                      runners.get(index).run(runNotifier);\n&gt;                  }});\n&gt;              threads[i].start();\n&gt;          }\n&gt;          for (int i = 0; i &lt; threads.length; i++) {\n&gt;              try {\n&gt;                  threads[i].join();\n&gt;              } catch (InterruptedException e) {\n&gt;                  throw new RuntimeException(&quot;Couldn&#39;t join thread\n&gt;  nicely&quot;, e);\n&gt;              }\n&gt;          }\n&gt;      }\n&gt;  }\n&gt;\n&gt;  ===========================================\n&gt;\n&gt;  package com.agical.junit;\n&gt;\n&gt;  import java.util.List;\n&gt;\n&gt;  import org.junit.runner.Runner;\n&gt;  import org.junit.runner.notification.RunNotifier;\n&gt;  import org.junit.runners.Parameterized;\n&gt;\n&gt;  public class ParallelAndParameterized extends Parameterized {\n&gt;\n&gt;  public ParallelAndParameterized(Class&lt;?&gt; klass) throws Exception {\n&gt;          super(klass);\n&gt;      }\n&gt;\n&gt;  @Override\n&gt;      protected void runChildren(final RunNotifier runNotifier) {\n&gt;          final List&lt;Runner&gt; runners = getRunners();\n&gt;          ParallelSuite.runRunnersInParallel(runNotifier, runners);\n&gt;      }\n&gt;  }\n&gt;\n&gt;  ===========================================\n&gt;\n&gt;  There is still some work needed to be done, but I would like to hear if\n&gt;  I&#39;m totally on the wrong path.\n&gt;\n&gt;  Cheers\n&gt;  Daniel\n&gt;\n\n\nHi Daniel,\n\nNice thinking. Did you consider using\njava.util.concurrent.CountDownLatch and maybe the Executor framework?\nThat might better communicate the intention.\n\nRegards,\n\nJames\n\n", 
    "profile": "taboozizi", 
    "topicId": 20427, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212683928, 
    "prevInTime": 20427, 
    "contentTrasformed": false, 
    "postDate": "1207252270", 
    "canDelete": false, 
    "nextInTopic": 20452, 
    "prevInTopic": 20427, 
    "headers": {
        "inReplyToHeader": "PDEyMDcyMzQ0NjEuMTgzNDcuNDAuY2FtZWxAZGFuaWVsLWt1YnVudHU+", 
        "messageIdInHeader": "PDIzZmNlOGU2MDgwNDAzMTI1MWgzZWE1ZjhlOG4xMWYzNTI0YWI4NzhlYjlmQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDEyMDcyMzQ0NjEuMTgzNDcuNDAuY2FtZWxAZGFuaWVsLWt1YnVudHU+"
    }
}