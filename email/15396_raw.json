{
    "numMessagesInTopic": 4, 
    "nextInTime": 15397, 
    "senderId": "dtxYr8VqgQZL38bxmv0ardcvvq6xJN4WQp82ju7VH3JN17vFXfVoWv6sW1_oL63H1gG_0D9Ts_Bp90I9BGAct2HWC9jryUglJSA", 
    "systemMessage": false, 
    "subject": "testing ant failure", 
    "from": "Thomas L Roche &lt;tlroche@...&gt;", 
    "authorName": "Thomas L Roche", 
    "msgSnippet": "", 
    "msgId": 15396, 
    "rawEmail": "Return-Path: &lt;tlroche@...&gt;\r\nX-Sender: tlroche@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 16275 invoked from network); 11 Nov 2005 21:32:39 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m24.grp.scd.yahoo.com with QMQP; 11 Nov 2005 21:32:39 -0000\r\nReceived: from unknown (HELO e32.co.us.ibm.com) (32.97.110.150)\n  by mta5.grp.scd.yahoo.com with SMTP; 11 Nov 2005 21:32:39 -0000\r\nReceived: from d03relay04.boulder.ibm.com (d03relay04.boulder.ibm.com [9.17.195.106])\n\tby e32.co.us.ibm.com (8.12.11/8.12.11) with ESMTP id jABLWck5019304\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 11 Nov 2005 16:32:38 -0500\r\nReceived: from d03av03.boulder.ibm.com (d03av03.boulder.ibm.com [9.17.195.169])\n\tby d03relay04.boulder.ibm.com (8.12.10/NCO/VERS6.8) with ESMTP id jABLXpVX048298\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 11 Nov 2005 14:33:51 -0700\r\nReceived: from d03av03.boulder.ibm.com (loopback [127.0.0.1])\n\tby d03av03.boulder.ibm.com (8.12.11/8.13.3) with ESMTP id jABLWcrk030468\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 11 Nov 2005 14:32:38 -0700\r\nReceived: from d03nm120.boulder.ibm.com (d03nm120.boulder.ibm.com [9.17.195.146])\n\tby d03av03.boulder.ibm.com (8.12.11/8.12.11) with ESMTP id jABLWcNK030463\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 11 Nov 2005 14:32:38 -0700\r\nTo: user@..., junit@yahoogroups.com\r\nMIME-Version: 1.0\r\nX-Mailer: Lotus Notes Release 6.0.2CF2 July 23, 2003\r\nMessage-ID: &lt;OFC9075250.37ADA0D7-ON872570B6.00742F90-852570B6.007657A1@...&gt;\r\nDate: Fri, 11 Nov 2005 16:34:17 -0500\r\nX-MIMETrack: Serialize by Router on D03NM120/03/M/IBM(Release 6.53HF654 | July 22, 2005) at\n 11/11/2005 14:34:18,\n\tSerialize complete at 11/11/2005 14:34:18\r\nContent-Type: text/plain; charset=&quot;US-ASCII&quot;\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Thomas L Roche &lt;tlroche@...&gt;\r\nSubject: testing ant failure\r\nX-Yahoo-Group-Post: member; u=112010592; y=JHH0jZLjrX7AuQvTYn7EkqmPryPz8cvoHepAvR5frzDwdQ\r\nX-Yahoo-Profile: tlroche\r\n\r\n&lt;Apologies in advance for cross-posting, but I couldn&#39;t decide which\nlist was more appropriate.&gt;\n\nHow to test that an ant script fails appropriately? Specifically:\n\nI&#39;m working on a build app (a java app for building lots of different\nthings in lots of different places) that basically {creates, shleps,\ninvokes} ant scripts. I have a few JUnit tests on the app (and am\nwriting more). I&#39;m hooking in a scanner that causes a build to fail if\na build prerequisite is not found. I know the scanner works because I\ncan manually\n\n* move a prereq file so that it&#39;s not where the build expects it\n\n* see the BUILD FAILED message corresponds to the message attribute of\n  the appropriate &lt;fail&gt; task\n\n(Unfortunately existing, downstream tests in the current suite (that\nlook for the appropriate build outputs) don&#39;t fail: they greenbar (in\neclipse&#39;s runner), presumably because they don&#39;t run.)\n\nI&#39;d prefer to automate this, e.g. to create one or more separate\nsuites with\n\n* setUp() that sets up the prereqs not-quite-correctly, then invokes\n  the build\n\n* a testBuildFailed() that checks for failure\n\n* a testBuildFailedAppropriately() that checks for appropriate failure\n\nWhat&#39;s the &quot;best way&quot; to test for appropriate failure? The only thing\nthat comes to my mind is to parse the logfile, e.g.\n\n* check for a &quot;BUILD FAILED&quot; line\n\n* check that a line after the &quot;BUILD FAILED&quot; line contains the\n  appropriate failure message.\n\nIs there an easier/better way? Note that I do have access to the app\ncode and scripts, and I am more-than-willing to instrument them for\ntestability.\n\n\n", 
    "profile": "tlroche", 
    "topicId": 15396, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 112010592, 
    "prevInTime": 15395, 
    "contentTrasformed": false, 
    "postDate": "1131744857", 
    "canDelete": false, 
    "nextInTopic": 15398, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PE9GQzkwNzUyNTAuMzdBREEwRDctT044NzI1NzBCNi4wMDc0MkY5MC04NTI1NzBCNi4wMDc2NTdBMUB1cy5pYm0uY29tPg=="
    }
}