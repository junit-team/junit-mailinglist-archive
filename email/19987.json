{
    "numMessagesInTopic": 2, 
    "nextInTime": 19988, 
    "senderId": "6Wnd29Dn96bEDb7aFCaqeARCRs86NQQlEIlcy-wPmOnEyXzR9Z54CchDaLo5mCSUDp8-tnkREqhZ261ss-vDCPMw", 
    "systemMessage": false, 
    "subject": "Re: [junit] problem with providing Method Exec time for Junit 3.8 test case", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Shubha, Could you get the same effect without modifying TestCase directly, but by subclassing it (say, as TimedTestCase)?  Then could you say what your", 
    "msgId": 19987, 
    "profile": "dsaff", 
    "topicId": 19984, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1233618612\">Shubha,<br/>\n<br/>\nCould you get the same effect without modifying TestCase directly, but<br/>\nby subclassing it (say, as TimedTestCase)?  Then could you say what<br/>\nyour notWorkingTest is currently doing, exactly--with real output, if<br/>\npossible, and what you would rather it do?  Thanks,<br/>\n<br/>\n   David<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 10/15/07, Shubha B S &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mailtoshubha@...\">mailtoshubha@...</a>&gt; wrote:<br/>\n&gt; Hi,<br/>\n&gt;<br/>\n&gt; I am using Junit 3.8,<br/>\n&gt; my objective is &quot;To  get the exact time taken by a test method which should not include setup and teardown time.&quot;<br/>\n&gt; To achieve this, I have modified junit.framework.TestCase and junit.framework.TestSuite.<br/>\n&gt;<br/>\n&gt; in TestCase, I have modified runBare() method<br/>\n&gt;<br/>\n&gt;  public void runBare() throws Throwable {<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;                 setUp();<br/>\n&gt;             try {<br/>\n&gt;                 //Warm up the test<br/>\n&gt;     long startTime = System.currentTimeMillis();<br/>\n&gt;<br/>\n&gt;                 runTest();<br/>\n&gt;             } catch (AssertionFailedError e) {<br/>\n&gt;                 _failure = true;<br/>\n&gt;                 // to store the records for functional failure<br/>\n&gt;                 throw e;<br/>\n&gt;             }catch (Throwable e) {<br/>\n&gt;                 _failure = true;<br/>\n&gt;                 throw e;<br/>\n&gt;             }finally {<br/>\n&gt;        System.out.println(&quot;Method Execution taken:&quot; + (System.currentTimeMillis() - startTime))          ;<br/>\n&gt;                 tearDown();<br/>\n&gt;             }<br/>\n&gt;<br/>\n&gt;     }<br/>\n&gt;<br/>\n&gt; this works fine for a testcase like this:<br/>\n&gt; class validTest extends TestCase{<br/>\n&gt; public void testValid(){<br/>\n&gt; calculator.add(10);<br/>\n&gt; calculator.multiply(10);<br/>\n&gt; assertEquals(calculator.getResult(), 100);<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; But it will not work for a testcase like this<br/>\n&gt;<br/>\n&gt; class notWorkingTest extends TestCase{<br/>\n&gt; public void testNotWorking()<br/>\n&gt; {<br/>\n&gt; TestCase success= new TestCase(&quot;success&quot;) {<br/>\n&gt; protected void runTest() {<br/>\n&gt; }<br/>\n&gt; };<br/>\n&gt; verifySuccess(success);<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; void verifySuccess(TestCase test) {<br/>\n&gt; junit.framework.TestResult result = test.run();<br/>\n&gt; assertTrue(result.runCount() == 1);<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; Reason being, runBare() method of TestCase is reinvoked. I will end up providing wrong &quot;Method Execution Time&quot;.<br/>\n&gt; with this logic, for testNotWorking() method,  I will be providing the Execution Time of  &quot;success&quot;.  If have 10 such test.run() invoked from the<br/>\n&gt; test method, I will be providing time taken for last test.run().<br/>\n&gt;<br/>\n&gt; Can anybody provide inputs to solve this problem..<br/>\n&gt;<br/>\n&gt; thanks<br/>\n&gt; Shubha<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ____________________________________________________________________________________<br/>\n&gt; Be a better Heartthrob. Get better relationship answers from someone who knows. Yahoo! Answers - Check it out.<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://answers.yahoo.com/dir/?link=list&sid=396545433\">http://answers.yahoo.com/dir/?link=list&sid=396545433</a><br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19986, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1192454281", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 19984, 
    "headers": {
        "inReplyToHeader": "PDQ2NTcwOS4zOTc2LnFtQHdlYjU0NDA5Lm1haWwueWFob28uY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcxMDE1MDYxOG0xMDc4MTRhYXI0ZGMxMzExMjdkZTU3MjcxQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDQ2NTcwOS4zOTc2LnFtQHdlYjU0NDA5Lm1haWwueWFob28uY29tPg=="
    }
}