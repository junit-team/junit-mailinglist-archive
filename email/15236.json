{
    "numMessagesInTopic": 5, 
    "nextInTime": 15237, 
    "senderId": "VPJx31hRxpvmwa6O01oSzmfkP55Ge9XR8aRg0wrWg6O_NxuJV4gBt5gfsfd8ECVZy6Db4mjcBjrkRnGUbTsJ3fMTjs70YEka", 
    "systemMessage": false, 
    "subject": "Re: [junit] Mocking Static Classes?", 
    "from": "Russell Gold &lt;russgold@...&gt;", 
    "authorName": "Russell Gold", 
    "msgSnippet": "... I have found it useful to convert the static into a singleton under the covers. The static methods can remain, but now call the singleton object. That way,", 
    "msgId": 15236, 
    "profile": "russgold", 
    "topicId": 15191, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190065409, 
    "messageBody": "<div id=\"ygrps-yiv-1968505805\">On 10/18/05, David Brady &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit_list@...\">junit_list@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; We use a bunch of static methods on various classes to provide<br/>\n&gt; functionality. Today I realized I have no idea how to mock these<br/>\n&gt; classes. Objects yes, classes no.<br/>\n&gt;<br/>\n&gt; Is there a good refactoring to fix this?<br/>\n&gt;<br/>\n&gt; Example:<br/>\n&gt;<br/>\n&gt; public class DbAccess {<br/>\n&gt; public static ResultSet query(DbQuery query) {<br/>\n&gt; // ...creates the necessary Db objects and returns a ResultSet<br/>\n&gt; object.<br/>\n&gt; }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; If I want to mock the database access, I&#39;m going to need to either swap<br/>\n&gt; DbAccess to DbAccessMock, or I&#39;ll need DbAccess.query() to redirect<br/>\n&gt; through an interceptable (mockable) interface.<br/>\n&gt;<br/>\n&gt; Is there a standard refactoring for this?<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>I have found it useful to convert the static into a singleton under the<br/>\ncovers. The static methods can remain, but now call the singleton object.<br/>\nThat way, I can also change the code I want to test to invoke the actual<br/>\nobject - which I will pass in via a constructor. I can then pass in a stub<br/>\nor mock instead of the real singleton when I want to test it.<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 15235, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1129830130", 
    "canDelete": false, 
    "nextInTopic": 15237, 
    "prevInTopic": 15192, 
    "headers": {
        "inReplyToHeader": "PDQzNTUyMTFCLjgwNTA3MDFAc2hpbnliaXQuY29tPg==", 
        "messageIdInHeader": "PDg1M2FjNGY0MDUxMDIwMTA0MnMzZDc4ZGYxNnk5OWUzODYyMmFmNjVmMzE2QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDQzNTUyMTFCLjgwNTA3MDFAc2hpbnliaXQuY29tPg=="
    }
}