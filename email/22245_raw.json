{
    "numMessagesInTopic": 4, 
    "nextInTime": 22246, 
    "senderId": "hjlhwW35s4CNrokfmFCJSg37BpFUcnl9feAZuR3VlEcQiPjk3llNKZve8J3FKeV0_8Qz0tvo3qoyiloObhzE0gLO0X-VGDB6HZc", 
    "systemMessage": true, 
    "subject": "Timeout tests and thread-local dependencies", 
    "from": "&quot;Berin&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Berin", 
    "msgSnippet": "I m trying to test some behavior using Hibernate/Spring transactional support, but I m running into a particular snag.  By default, the transaction manager is", 
    "msgId": 22245, 
    "rawEmail": "Return-Path: &lt;berin.loritsch@...&gt;\r\nReceived: (qmail 68502 invoked from network); 2 Jan 2010 00:28:04 -0000\r\nReceived: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 2 Jan 2010 00:28:04 -0000\r\nReceived: from unknown (HELO n43d.bullet.mail.sp1.yahoo.com) (66.163.169.157)\n  by mta3.grp.sp2.yahoo.com with SMTP; 2 Jan 2010 00:28:04 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1262391801; bh=y5rldX7MS/VBYwo/M9dbjyBIebUMe8Wvh6uxxMjHPac=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=Kan981rp7LKFkpEUBVG8PuP00ZJFzcofRtG52Kur9VBlENqjUET+B7wqY5OxczTJdWnY7I8BzWLWaffTQblfQI+BIo4j3TLaAtdEN83KwsXTvv2SHDc8FqMPYir+Ffbq\r\nReceived: from [69.147.65.147] by n43.bullet.mail.sp1.yahoo.com with NNFMP; 02 Jan 2010 00:23:21 -0000\r\nReceived: from [98.137.34.36] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 02 Jan 2010 00:23:21 -0000\r\nX-Sender: berin.loritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 83609 invoked from network); 31 Dec 2009 17:55:26 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m13.grp.re1.yahoo.com with QMQP; 31 Dec 2009 17:55:26 -0000\r\nX-Received: from unknown (HELO n41b.bullet.mail.sp1.yahoo.com) (66.163.168.155)\n  by mta2.grp.sp2.yahoo.com with SMTP; 31 Dec 2009 17:55:26 -0000\r\nX-Received: from [69.147.65.151] by n41.bullet.mail.sp1.yahoo.com with NNFMP; 31 Dec 2009 17:54:06 -0000\r\nX-Received: from [98.137.34.72] by t5.bullet.mail.sp1.yahoo.com with NNFMP; 31 Dec 2009 17:54:06 -0000\r\nDate: Thu, 31 Dec 2009 17:54:06 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hhiofu+t1l6@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Berin&quot; &lt;berin.loritsch@...&gt;\r\nSubject: Timeout tests and thread-local dependencies\r\nX-Yahoo-Group-Post: member; u=428096731; y=SbPK2DZ9LeBoiHR4_JYJNm7TxhdgleaiezwbGPxF_11tkaR3\r\nX-Yahoo-Profile: bloritsch\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 02 Jan 2010 00:23:19 -0000\r\n\r\nI&#39;m trying to test some behavior using Hibernate/Spring transactional suppo=\r\nrt, but I&#39;m running into a particular snag.  By default, the transaction ma=\r\nnager is bound to the current thread.\n\nProblem is that with tests that have=\r\n the &quot;timeout&quot; attribute specified, JUnit creates a new thread to ensure th=\r\ne timeout is enforced.  For example:\n\n@Test(timeout=3D100)\npublic void make=\r\nSureActionHappenedRecently() {\n    AuditLog.get().logEvent(EventType.TestEv=\r\nent, &quot;Foo&quot;);\n\n    Collection&lt;AuditEvent&gt; log =3D \n        AuditLog.get().fi=\r\nndEventsFor(EventType.TestEvent);\n\n   assertNotEmpty(log);\n   // make sure =\r\ntimestamp is within X ms\n   assertRecent(100, log.iterator().next().getTime=\r\nstamp());\n}\n\nThis works without the (timeout=3D100) qualification because H=\r\nibernate is set up in the @BeforeClass.\n\nTechnically I could put the set up=\r\n in an @Before method, but that becomes rather expensive (setting up Spring=\r\n, Hibernate, connecting to database).\n\nAny clues on how to make this work?\n=\r\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 22245, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "prevInTime": 22244, 
    "contentTrasformed": false, 
    "postDate": "1262282046", 
    "canDelete": false, 
    "nextInTopic": 22246, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGhoaW9mdSt0MWw2QGVHcm91cHMuY29tPg=="
    }
}