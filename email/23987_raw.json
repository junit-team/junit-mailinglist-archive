{
    "numMessagesInTopic": 12, 
    "nextInTime": 23988, 
    "senderId": "GRovTiyCKNnSwJm8mOy0pd8GSFY-XkMYVe52o7YPuMMrmCOLUwM8Ecba-8ORQVykFDjqnRjBIiUnz31k6hOoF5UeFvzhffENqU1aatlAS1qK7g", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Tests starting before Logback initialisation complete when run in parallel", 
    "from": "Kristian Rosenvold &lt;kristian@...&gt;", 
    "authorName": "Kristian Rosenvold", 
    "msgSnippet": "People *have* been known to make a microscopic Junit run-listener they attach to surefire to do this. I know this might give me flames ;) Check docs at ", 
    "msgId": 23987, 
    "rawEmail": "Return-Path: &lt;kristian.rosenvold@...&gt;\r\nX-Sender: kristian.rosenvold@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 81919 invoked from network); 7 Sep 2012 06:05:06 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 7 Sep 2012 06:05:06 -0000\r\nX-Received: from unknown (HELO mail-ie0-f182.google.com) (209.85.223.182)\n  by mta3.grp.sp2.yahoo.com with SMTP; 7 Sep 2012 06:05:06 -0000\r\nX-Received: by iebc12 with SMTP id c12so5604009ieb.13\n        for &lt;junit@yahoogroups.com&gt;; Thu, 06 Sep 2012 23:05:06 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:sender:in-reply-to:references:date\n         :x-google-sender-auth:message-id:subject:from:to:content-type\n         :x-gm-message-state;\n        bh=Loq6RyacPyFB4KqPpy/hLGRLI6dPodytshzEjAOoQp8=;\n        b=OubI4cyOBa+oCRPL9iXr21qLJBZbj0YJ6JdhMN9Hs0SX7ae47Y1HnHTdcOcQtnPqFz\n         gLYdpeIrcMR0DoGI4Gar1HrdXimKDHJR7+NbMhdgTlrCHrvLIF4X17MUs/Bs2ZRHIVOC\n         eC5WchVB7r+qG6fre6YnbuCu8Bwy1VhQ1iuTjtQH0N1uGsAiAOItnap/+s7K5z0DrtUE\n         JI3PC6jMjoyH+17MNPhewfz9J6vFmLDM6eOJEH30IwWOjtJFrPi9puve9RXlLgPF1pEN\n         Kmn8uoesUsJQIZciJ/tiFsvP44rS6UhJ/ggoSXj+Pur101YItrwZ+HRVx7krSk6O8QM+\n         Gfrg==\r\nMIME-Version: 1.0\r\nX-Received: by 10.50.160.233 with SMTP id xn9mr26480825igb.37.1346997905860;\n Thu, 06 Sep 2012 23:05:05 -0700 (PDT)\r\nX-Received: by 10.64.8.178 with HTTP; Thu, 6 Sep 2012 23:05:05 -0700 (PDT)\r\nIn-Reply-To: &lt;k2an2i+jicg@...&gt;\r\nReferences: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\n\t&lt;k2an2i+jicg@...&gt;\r\nDate: Fri, 7 Sep 2012 08:05:05 +0200\r\nX-Google-Sender-Auth: 1daSeW5hp-lFTjCSIEOL_GR803k\r\nMessage-ID: &lt;CAJZRQKyzs4Q_NevETmk6ifhZRGX-XrGNaEopX-c5qxGm_BXLEw@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Gm-Message-State: ALoCoQly3Ej1FDKEE31q6ivja7T/5uTqNVM5M+7DGMQLdhE6hth0qBW4JRGm1o4l8GWK6041o2Aw\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kristian Rosenvold &lt;kristian@...&gt;\r\nSubject: Re: [junit] Re: Tests starting before Logback initialisation complete\n when run in parallel\r\nX-Yahoo-Group-Post: member; u=403861045; y=I3Xe6EFobHRo_Ta_GIWg5QKpuYfhoD51lcRlCIoQIQsit2-cQw\r\nX-Yahoo-Profile: krosenvold\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nPeople *have* been known to make a microscopic Junit run-listener they\natta=\r\nch to surefire to do this. I know this might give me flames ;)\n\nCheck docs =\r\nat\nhttp://maven.apache.org/plugins/maven-surefire-plugin/examples/junit.htm=\r\nl\nand small sample project at\nhttps://svn.apache.org/repos/asf/maven/surefi=\r\nre/trunk/surefire-integration-tests/target/JUnit4RunListenerIT/junit4-runli=\r\nstener\nfor a sample on how to do this.\n\nKristian\n\n\n2012/9/6 hkaipe &lt;hkaipe@=\r\nymail.com&gt;\n\n&gt; **\n&gt;\n&gt;\n&gt; Such &quot;global, one-time, setup / tear-down&quot; is outsid=\r\ne the scope of JUnit,\n&gt; according to me. You should turn to your test-runni=\r\nng tool on this one,\n&gt; i.e. Surefire.\n&gt;\n&gt; Surefire is your tool to organize=\r\n which tests to run when and how. JUnit\n&gt; is glue between Surefire and the =\r\nJUnit test-classes.\n&gt;\n&gt; About your problem I think you have put yourself in=\r\n a corner by trying to\n&gt; run all tests in parallel in the same JVM. Even if=\r\n you could use &quot;global,\n&gt; one-time, setup / tear-down&quot; you still put very s=\r\ntrict limits on what your\n&gt; test-classes can safely do and I simply don&#39;t t=\r\nhink it is worth it.\n&gt;\n&gt; I strongly advice you to rethink here and configur=\r\ne Surefire with\n&gt; forkMode=3D&quot;perthread&quot;, so that parallel test-executions =\r\ntake place in\n&gt; separate JVM-processes.\n&gt;\n&gt; cheers /Henrik\n&gt;\n&gt; --- In junit=\r\n@yahoogroups.com, Brett Delle Grazie &lt;bdellegrazie@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi,\n=\r\n&gt; &gt;\n&gt; &gt; I&#39;m using JUnit 4.10 with Maven 3.0.4, Surefire 2.12.3, JDK 1.6.0_3=\r\n5\n&gt; &gt; on Windows 7\n&gt; &gt; Surefire is configured with parallel=3Dmethods and t=\r\nhreadCount=3D10\n&gt; &gt; For logging, I&#39;m using SLF4J to Logback, initialised by=\r\n default method\n&gt; &gt; (i.e. configuration file logback-test.xml is on the tes=\r\nt classpath)\n&gt; &gt;\n&gt; &gt; I have an order of initialisation problem in that:\n&gt; &gt;=\r\n (1) Some unit tests test classes that use commons-logging (and logback\n&gt; &gt;=\r\n via jcl-slf4j) but are ending up with\n&gt; &gt; Null loggers.\n&gt; &gt; (2) jcl-slf4j =\r\nis not initialised _until_ those classes are called.\n&gt; &gt;\n&gt; &gt; If I disable p=\r\narallelism the code works correctly, implying an order\n&gt; &gt; of initialisatio=\r\nn issue.\n&gt; &gt;\n&gt; &gt; According to the most recent FAQ on Junit.org (Section 5, =\r\n#3) I could\n&gt; &gt; use @BeforeClass and @AfterClass at the class\n&gt; &gt; level but=\r\n I&#39;m talking about at the global level, something that needs\n&gt; &gt; to be exec=\r\nuted even if only a single test is run.\n&gt; &gt;\n&gt; &gt; What is the correct method =\r\nto add global, one-time, setup / tear-down\n&gt; &gt; hooks? In this case they wou=\r\nld need to execute and\n&gt; &gt; complete (i.e. blocking) before any parallel tes=\r\nts are run.\n&gt; &gt; Is it simplest to override the Runner and initialise the lo=\r\ngging in code\n&gt; there?\n&gt; &gt;\n&gt; &gt; Thanks,\n&gt; &gt;\n&gt; &gt; Best Regards,\n&gt; &gt;\n&gt; &gt; Brett\n=\r\n&gt; &gt;\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "krosenvold", 
    "topicId": 23967, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 403861045, 
    "prevInTime": 23986, 
    "contentTrasformed": false, 
    "postDate": "1346997905", 
    "canDelete": false, 
    "nextInTopic": 23989, 
    "prevInTopic": 23981, 
    "headers": {
        "inReplyToHeader": "PGsyYW4yaStqaWNnQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBSlpSUUt5enM0UV9OZXZFVG1rNmlmaFpSR1gtWHJHTmFFb3BYLWM1cXhHbV9CWExFd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4JPGsyYW4yaStqaWNnQGVHcm91cHMuY29tPg=="
    }
}