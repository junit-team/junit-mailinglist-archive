{
    "numMessagesInTopic": 19, 
    "nextInTime": 21262, 
    "senderId": "xIqTJ2tEL_lQ1CE7kom8h9LMWPl2A-crUb6nblmSKakKc2by_eyNJwibqJsM4oWBLfo4jGocikrXFI8ciPZb18rkW2OOKUh8Ba8f-Dm10GzrZOQp", 
    "systemMessage": false, 
    "subject": "RE: [junit] Priority of Assertion?", 
    "from": "&quot;Charlie Poole&quot; &lt;charlie@...&gt;", 
    "authorName": "Charlie Poole", 
    "msgSnippet": "Hi Joakim, ... In NUnit, I wrote it as Assert.Throws( typeof(SomeException) ),  ); where  can be a named delegate, the name of a method or", 
    "msgId": 21261, 
    "rawEmail": "Return-Path: &lt;charlie@...&gt;\r\nX-Sender: charlie@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 56593 invoked from network); 5 Jan 2009 19:21:36 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m55.grp.scd.yahoo.com with QMQP; 5 Jan 2009 19:21:36 -0000\r\nX-Received: from unknown (HELO mailout13.yourhostingaccount.com) (65.254.253.107)\n  by mta15.grp.scd.yahoo.com with SMTP; 5 Jan 2009 19:21:35 -0000\r\nX-Received: from mailscan07.yourhostingaccount.com ([10.1.15.7] helo=mailscan07.yourhostingaccount.com)\n\tby mailout13.yourhostingaccount.com with esmtp (Exim)\n\tid 1LJv15-0008Dr-DE\n\tfor junit@yahoogroups.com; Mon, 05 Jan 2009 14:21:35 -0500\r\nX-Received: from impout03.yourhostingaccount.com ([10.1.55.3] helo=impout03.yourhostingaccount.com)\n\tby mailscan07.yourhostingaccount.com with esmtp (Exim)\n\tid 1LJv12-00032R-4q\n\tfor junit@yahoogroups.com; Mon, 05 Jan 2009 14:21:32 -0500\r\nX-Received: from authsmtp02.yourhostingaccount.com ([10.1.18.2])\n\tby impout03.yourhostingaccount.com with NO UCE\n\tid zvMX1a00C02goRm0000000; Mon, 05 Jan 2009 14:21:31 -0500\r\nX-EN-OrigOutIP: 10.1.18.2\r\nX-EN-IMPSID: zvMX1a00C02goRm0000000\r\nX-Received: from or-67-232-75-83.dhcp.embarqhsd.net ([67.232.75.83] helo=ferrari)\n\tby authsmtp02.yourhostingaccount.com with esmtpa (Exim)\n\tid 1LJv11-0000Ny-7q\n\tfor junit@yahoogroups.com; Mon, 05 Jan 2009 14:21:31 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Mon, 5 Jan 2009 11:21:13 -0800\r\nMessage-ID: &lt;001101c96f6a$ca4e5ec0$6401a8c0@ferrari&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Microsoft Office Outlook 11\r\nThread-Index: AclvQPs2FJViesNiSpq+J2kMibWgwAAGNXgg\r\nIn-Reply-To: &lt;b9ee5e410901050621j1078cef8n8ec70e068c1e6829@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350\r\nX-EN-UserInfo: 6825e2c531cd6b0aa87476b28a45e0b8:3356ecf59c1dbdb5df18646fb601be29\r\nX-EN-AuthUser: charlie@...\r\nX-EN-OrigIP: 67.232.75.83\r\nX-EN-OrigHost: or-67-232-75-83.dhcp.embarqhsd.net\r\nX-eGroups-Msg-Info: 2:4:8:0:2\r\nFrom: &quot;Charlie Poole&quot; &lt;charlie@...&gt;\r\nSubject: RE: [junit] Priority of Assertion?\r\nX-Yahoo-Group-Post: member; u=212099090; y=uv_5JOzTjC_RMYxEgSB1WvmyU9xXRtqv-acHKpdVbaODEiLNroM\r\nX-Yahoo-Profile: cpoole98370\r\n\r\nHi Joakim, \n\n&gt; In rMock we used the following contruct:\n&gt; \n&gt; public void te=\r\nstSomething() {\n&gt;   &lt;code that we don&#39;t expect to throw an exception&gt;\n&gt;   e=\r\nxpectThatExceptionThrown(isInstanceOf(SomeException.class));\n&gt;   &lt;code that=\r\n we expect to throw an exception&gt; }\n&gt; \n&gt; I think that idea is what Charlies=\r\n assertThrows suggestion \n&gt; hinted towards.\n\nIn NUnit, I wrote it as\n  Asse=\r\nrt.Throws( typeof(SomeException) ), &lt;delegate&gt; );\nwhere &lt;delegate&gt; can be a=\r\n named delegate, the name of\na method or an anonymous delegate depending on=\r\n the\nversion of .NET you are using. \n\nPutting it in a single statement avoi=\r\nds the global issues \nthat David writes about, but the approach does requir=\r\ne \nsomething like a closure - a .NET delegate being basically \na weak form =\r\nof closure.\n\nCharlie\n \n&gt; While this freedom can be abused it allows to prec=\r\nisely \n&gt; pinpoint what should throw an exception. Also, you could do \n&gt; all=\r\n kind of hamcrest checks on the exception instance that is \n&gt; not possible =\r\nto do with annotations. The underlying \n&gt; implementation in the rMock-case =\r\nis that \n&gt; expectThatExceptionThrows primes the framework with an \n&gt; expect=\r\nion that any exception is checked against before the \n&gt; exception is rethro=\r\nwn as an error (if the check passes the \n&gt; Exception is expected and not re=\r\nthrown).\n&gt; \n&gt; Jusr my 5 cents :)\n&gt; \n&gt; \n&gt; On Wed, Dec 31, 2008 at 4:43 AM, D=\r\navid Saff &lt;david@...&gt; wrote:\n&gt; \n&gt; &gt;   Ilja,\n&gt; &gt;\n&gt; &gt; Thanks for thinkin=\r\ng this through.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; In my view, the behavior is in fact an artifa=\r\nct of an \n&gt; implementation \n&gt; &gt; &gt; detail - namely that asserts indicate fai=\r\nlures by throwing an \n&gt; &gt; &gt; exception.\n&gt; &gt;\n&gt; &gt; I don&#39;t know that I can get =\r\nbehind this. This test is \n&gt; always going to pass:\n&gt; &gt;\n&gt; &gt; @Test public voi=\r\nd avoidThePainfulTruth() { try { \n&gt; assertTrue(false); } \n&gt; &gt; catch (Except=\r\nion e) { } }\n&gt; &gt;\n&gt; &gt; I can&#39;t think of a better way than exceptions to imple=\r\nment \n&gt; assertions, \n&gt; &gt; and I can&#39;t think of a way to hide that fact from =\r\nusers in \n&gt; all cases.\n&gt; &gt;\n&gt; &gt; David Saff\n&gt; &gt;\n&gt; &gt; On Tue, Dec 30, 2008 at 1=\r\n1:18 AM, Ilja Preu=DF \n&gt; &gt; &lt;iljapreuss@...&lt;iljapreuss%40googlema=\r\nil.com&gt;\n&gt; &gt; &gt;wrote:\n&gt; &gt;\n&gt; &gt; &gt; Kent, I agree that it is expected behavior, t=\r\nechnically. \n&gt; I think you \n&gt; &gt; &gt; could also make an argument that it would=\r\n be better if \n&gt; the behavior \n&gt; &gt; &gt; was different.\n&gt; &gt; &gt;\n&gt; &gt; &gt; In my view,=\r\n the behavior is in fact an artifact of an \n&gt; implementation \n&gt; &gt; &gt; detail =\r\n- namely that asserts indicate failures by throwing an \n&gt; &gt; &gt; exception. It=\r\n could be made the case that JUnit &quot;should&quot; report \n&gt; &gt; &gt; those failing ass=\r\nerts as failing asserts, not as \n&gt; unexpected exceptions.\n&gt; &gt; &gt; Basically, =\r\nthe current behavior masks the true test failure.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Frankly, I ha=\r\nve a hunch that the best solution to this problem \n&gt; &gt; &gt; actually is to spl=\r\nit the test in two, that is, to not mix \n&gt; &quot;expected&quot;\n&gt; &gt; &gt; and &quot;assert&quot; in=\r\n the same test method.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Cheers, Ilja\n&gt; &gt; &gt;\n&gt; &gt; &gt; 2008/12/30 kent=\r\nb &lt;kentb@... &lt;kentb%40earthlink.net&gt; \n&gt; &gt; &gt; &lt;kentb%\n&gt; &gt; 40earthli=\r\nnk.net&gt;&gt;:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yosef,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; The behavior you describe is=\r\n what I would expect to see. In the \n&gt; &gt; &gt; &gt; test,\n&gt; &gt; you\n&gt; &gt; &gt; &gt; declared=\r\n that an ArrayIndexOutOfBounds exception would \n&gt; be thrown. \n&gt; &gt; &gt; &gt; It\n&gt; =\r\n&gt; was\n&gt; &gt; &gt; not\n&gt; &gt; &gt; &gt; thrown, so the test fails. The error message says t=\r\nhat \n&gt; the &quot;wrong&quot;\n&gt; &gt; &gt; exception\n&gt; &gt; &gt; &gt; that was thrown was an Assertion=\r\nError, which is \n&gt; generated by the \n&gt; &gt; &gt; &gt; assertTrue(false). The &quot;expect=\r\ned=3D...&quot; means that a test \n&gt; can fail \n&gt; &gt; &gt; &gt; if no exception is thrown =\r\nor if the wrong exception is thrown.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Regards,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n &gt; Kent Beck\n&gt; &gt; &gt; &gt; Three Rivers Institute\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; _____\n&gt; &gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; &gt; From: junit@yahoogroups.com &lt;junit%40yahoogroups.com&gt; &lt;junit%\n&gt; &gt; 40=\r\nyahoogroups.com&gt; [mailto:\n&gt; &gt; &gt; junit@yahoogroups.com &lt;junit%40yahoogroups.=\r\ncom&gt; \n&gt; &gt; &gt; &lt;junit%40yahoogroups.com&gt;]\n&gt; &gt; On Behalf Of\n&gt; &gt; &gt; &gt; yosefsharia=\r\nt\n&gt; &gt; &gt; &gt; Sent: Tuesday, December 30, 2008 1:10 AM\n&gt; &gt; &gt; &gt; To: junit@yahoog=\r\nroups.com &lt;junit%40yahoogroups.com&gt; &lt;junit%\n&gt; &gt; 40yahoogroups.com&gt;\n&gt; &gt; &gt; &gt; =\r\nSubject: [junit] Priority of Assertion?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Hi\n&gt; &gt; &gt; &gt; I use &quot;@=\r\nTest(expected =3D AnyClassException.class&quot;) and one \n&gt; &gt; &gt; &gt; &quot;assertTrue(fa=\r\nlse)&quot; together for example following code:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; @Test(expected =\r\n=3D ArrayIndexOutOfBoundsException.class)\n&gt; &gt; &gt; &gt; public void test()\n&gt; &gt; &gt; =\r\n&gt; {\n&gt; &gt; &gt; &gt; String s[] =3D new String[]{&quot;1&quot;};\n&gt; &gt; &gt; &gt; assertTrue(false);\n&gt; =\r\n&gt; &gt; &gt; System.out.println(s[10]);\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I expect to see =\r\nan assertion but I see following error:\n&gt; &gt; &gt; &gt; java.lang.Exception: Unexpe=\r\ncted exception, \n&gt; &gt; &gt; &gt; expected&lt;java.lang.ArrayIndexOutOfBoundsException&gt;=\r\n but \n&gt; &gt; &gt; &gt; was&lt;java.lang.AssertionError&gt;..\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; In your opini=\r\non, this test must be Assertion or Exception.\n&gt; &gt; &gt; &gt; In &quot;JUnit&quot; we cannot =\r\nuse &quot;@Test(expected =3D \n&gt; &gt; &gt; &gt; AnyClassException.class&quot;) and Assertion to=\r\ngether at the \n&gt; same time.\n&gt; &gt; &gt; &gt; In my opinion this test must be failed =\r\nfor &quot;assertion&quot; \n&gt; and not for \n&gt; &gt; &gt; &gt; ArrayIndexOutOfBoundsException.\n&gt; &gt;=\r\n &gt; &gt; Is this a bug in JUnit or my test is wrong and \n&gt; shouldn&#39;t use two \n&gt;=\r\n &gt; &gt; &gt; item together?\n&gt; &gt; &gt; &gt; Tanks.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; [Non-text portions of =\r\nthis message have been removed]\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-te=\r\nxt portions of this message have been removed]\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; --\n=\r\n&gt; -----------------------------------------------------\n&gt; Joakim Ohlrogge\n&gt;=\r\n Agical AB\n&gt; V=E4sterl=E5nggatan 79, 2 tr\n&gt; 111 29 Stockholm, SWEDEN\n&gt; \n&gt; M=\r\nobile: +46-708-754004\n&gt; Blog: johlrogge.wordpress.com\n&gt; E-mail: joakim.ohlr=\r\nogge@...\n&gt; \n&gt; \n&gt; [Non-text portions of this message have been removed=\r\n]\n&gt; \n&gt; \n&gt; ------------------------------------\n&gt; \n&gt; Yahoo! Groups Links\n&gt; \n=\r\n&gt; \n&gt; \n&gt; \n\n\n\n", 
    "profile": "cpoole98370", 
    "topicId": 21230, 
    "spamInfo": {
        "reason": "4", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212099090, 
    "prevInTime": 21260, 
    "contentTrasformed": false, 
    "postDate": "1231183273", 
    "canDelete": false, 
    "nextInTopic": 21262, 
    "prevInTopic": 21260, 
    "headers": {
        "inReplyToHeader": "PGI5ZWU1ZTQxMDkwMTA1MDYyMWoxMDc4Y2VmOG44ZWM3MGUwNjhjMWU2ODI5QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDAwMTEwMWM5NmY2YSRjYTRlNWVjMCQ2NDAxYThjMEBmZXJyYXJpPg=="
    }
}