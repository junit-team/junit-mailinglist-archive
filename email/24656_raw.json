{
    "topicId": 24651, 
    "postDate": "1432018566", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Dawid Weiss &lt;dawid.weiss@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "WRcBIRBlnFjuw2K2zcyDGaQ_jmtgeYC4yLRJ3vw5ot4Oglb_LT6RwSA162EjVGI6duVUvgFhAZQM8dhfOvJK7-YQ6VyxpbN6iAM", 
    "nextInTime": 24657, 
    "userId": 223548916, 
    "prevInTime": 24655, 
    "prevInTopic": 24655, 
    "headers": {
        "inReplyToHeader": "PEI1NDc4MUU2LUFGQUQtNDY5Ri04OUIxLTFCNzQ4OUEyNzkxM0BnbWFpbC5jb20+", 
        "messageIdInHeader": "PENBTTIxUnQ5WFF5QVhwaG92cD1jRWJLZVlSZ3gxPXRzMGZXb01WTzJlMUcyX0tDZXdxd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PG1qM2V1YStqZ3Z2bGRAWWFob29Hcm91cHMuY29tPiA8Q0FNWmVjWG01b1ptS0hYc2RkNzB3Wk9nS3E4KzBGNUVpdnk1Q1pRZzFSeVlVcFVvZlFRQG1haWwuZ21haWwuY29tPiA8QjU0NzgxRTYtQUZBRC00NjlGLTg5QjEtMUI3NDg5QTI3OTEzQGdtYWlsLmNvbT4="
    }, 
    "authorName": "Dawid Weiss", 
    "numMessagesInTopic": 10, 
    "msgSnippet": "Perhaps the right question would be why do you need a custom class loader, Johannes? If it s separation of test suites from each other then even if it s ", 
    "contentTrasformed": false, 
    "msgId": 24656, 
    "nextInTopic": 24657, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;dawid.weiss@...&gt;\r\nX-Sender: dawid.weiss@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 37953 invoked by uid 102); 19 May 2015 06:56:37 -0000\r\nX-Received: from unknown (HELO mtaq1.grp.bf1.yahoo.com) (10.193.84.32)\n  by m15.grp.bf1.yahoo.com with SMTP; 19 May 2015 06:56:37 -0000\r\nX-Received: (qmail 29438 invoked from network); 19 May 2015 06:56:37 -0000\r\nX-Received: from unknown (HELO mail-ie0-f170.google.com) (98.139.170.166)\n  by mtaq1.grp.bf1.yahoo.com with SMTP; 19 May 2015 06:56:37 -0000\r\nX-Received: by iepj10 with SMTP id j10so6869216iep.3\n        for &lt;junit@yahoogroups.com&gt;; Mon, 18 May 2015 23:56:37 -0700 (PDT)\r\nX-Received: by 10.43.104.69 with SMTP id dl5mr16216048icc.94.1432018597148;\n Mon, 18 May 2015 23:56:37 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.79.70.4 with HTTP; Mon, 18 May 2015 23:56:06 -0700 (PDT)\r\nIn-Reply-To: &lt;B54781E6-AFAD-469F-89B1-1B7489A27913@...&gt;\r\nReferences: &lt;mj3eua+jgvvld@...&gt; &lt;CAMZecXm5oZmKHXsdd70wZOgKq8+0F5Eivy5CZQg1RyYUpUofQQ@...&gt;\n &lt;B54781E6-AFAD-469F-89B1-1B7489A27913@...&gt;\r\nDate: Tue, 19 May 2015 08:56:06 +0200\r\nMessage-ID: &lt;CAM21Rt9XQyAXphovp=cEbKeYRgx1=ts0fWoMVO2e1G2_KCewqw@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: multipart/alternative; boundary=bcaec51719e1cb801a051669cfb7\r\nSubject: Re: [junit] Custom classloader\r\nX-Yahoo-Group-Post: member; u=223548916; y=p4WfyZQI7u8ER7fr8Jwgkmu3LYL_XmSGEspBtq6qVI6Vol_yi1A\r\nFrom: Dawid Weiss &lt;dawid.weiss@...&gt;\r\n\r\n\r\n--bcaec51719e1cb801a051669cfb7\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nPerhaps the right question would be why do you need a custom class loader,\n=\r\nJohannes?\n\nIf it&#39;s separation of test suites from each other then even if i=\r\nt&#39;s\ntechnically feasible, it may eventually bite you (it&#39;s difficult to det=\r\nect\nmemory leaks, for example).\n\nIf I may point you at an alternative solut=\r\nion then Lucene/ Solr has a test\nharness that attempts to isolate tests fro=\r\nm each other using other means\n(detecting stray threads left over after a t=\r\nest completes, detecting\nleft-over assignments to static fields that contri=\r\nbute to OOMs, parallel\nexecution of tests by forking suites to concurrent J=\r\nVMs).\n\nDawid\n\nOn Mon, May 18, 2015 at 10:55 PM, Johannes Ernst johannes.ern=\r\nst@...\n[junit] &lt;junit@yahoogroups.com&gt; wrote:\n\n&gt;\n&gt;\n&gt; Thanks, Aaron. I=\r\n=E2=80=99ve been poking around the code, and found that\n&gt;\n&gt; 1) it isn=E2=80=\r\n=99t a supported use case\n&gt; 2) it probably wouldn=E2=80=99t be too hard to =\r\ncome up with a junit patch to\n&gt; enable it, assuming the entry point would b=\r\ne the API not main()\n&gt;\n&gt; but also, given that I=E2=80=99m invoking junit fr=\r\nom maven/surefire:\n&gt;\n&gt; 3) it would be much harder to convince maven=E2=80=\r\n=99s surefire plugin to use a\n&gt; custom classloader and somehow pass it over=\r\n to junit\n&gt;\n&gt; So =E2=80=A6 unless some major work is done by two projects =\r\n=E2=80=94 surefire and junit =E2=80=94\n&gt; I think the answer to my question =\r\nabout whether it can be done is No.\n&gt;\n&gt; P.S. If anybody is more knowledgeab=\r\nle about this than me (very easy to\n&gt; accomplish, I am not familiar with ei=\r\nther code base), please correct me if\n&gt; I=E2=80=99m wrong.\n&gt;\n&gt; Cheers,\n&gt;\n&gt;\n=\r\n&gt; Johannes.\n&gt;\n&gt; On May 17, 2015, at 23:59, Aaron VonderHaar gruen0aermel@gm=\r\nail.com\n&gt; [junit] &lt;junit@yahoogroups.com&gt; wrote:\n&gt;\n&gt;\n&gt; I know the robolectr=\r\nic test runner [1] sets up a custom ClassLoader, but\n&gt; my understanding is =\r\nthat it has to do some weird things to make that work\n&gt; due to the fact tha=\r\nt the test class has already been loaded by the time the\n&gt; TestRunner start=\r\ns and as a result the classes being tested have already\n&gt; been loaded.  I d=\r\non&#39;t know much about the details beyond that.\n&gt;\n&gt; [1]:\n&gt; https://github.com=\r\n/robolectric/robolectric/blob/master/robolectric/src/main/java/org/robolect=\r\nric/RobolectricTestRunner.java\n&gt;\n&gt; On Thu, May 14, 2015 at 5:34 PM, johanne=\r\ns.ernst@... [junit] &lt;\n&gt; junit@yahoogroups.com&gt; wrote:\n&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; I=E2=\r\n=80=99d like need to use a custom ClassLoader for my tests. Can it be done?=\r\n\n&gt;&gt;\n&gt;&gt; Thanks,\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Johannes.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;  \n&gt;\n\r\n--bcaec51719e1cb801a051669cfb7\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;div dir=3D&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&gt;Perhaps the right question would be why do you ne=\r\ned a custom class loader, Johannes?=C2=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If it&#3=\r\n9;s separation of test suites from each other then even if it&#39;s technic=\r\nally feasible, it may eventually bite you (it&#39;s difficult to detect mem=\r\nory leaks, for example).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If I may point you at an =\r\nalternative solution then Lucene/ Solr has a test harness that attempts to =\r\nisolate tests from each other using other means (detecting stray threads le=\r\nft over after a test completes, detecting left-over assignments to static f=\r\nields that contribute to OOMs, parallel execution of tests by forking suite=\r\ns to concurrent JVMs).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dawid&lt;/div&gt;&lt;/div&gt;&lt;div class=\r\n=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Mon, May 18, 2015 at 10:=\r\n55 PM, Johannes Ernst &lt;a href=3D&quot;mailto:johannes.ernst@...&quot;&gt;johannes.=\r\nernst@...&lt;/a&gt; [junit] &lt;span dir=3D&quot;ltr&quot;&gt;&lt;&lt;a href=3D&quot;mailto:junit@y=\r\nahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt; wrot=\r\ne:&lt;br&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-l=\r\neft:1px #ccc solid;padding-left:1ex&quot;&gt;\n\n\n&lt;u&gt;&lt;/u&gt;\n\n\n\n\n\n\n\n\n\n \n&lt;div style=3D&quot;ba=\r\nckground-color:#fff&quot;&gt;\n&lt;span&gt;=C2=A0&lt;/span&gt;\n\n\n&lt;div&gt;\n  &lt;div&gt;\n\n\n    &lt;div&gt;\n     =\r\n \n      \n      &lt;p&gt;Thanks, Aaron. I=E2=80=99ve been poking around the code, =\r\nand found that&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1) it isn=E2=80=99t a supported use c=\r\nase&lt;/div&gt;&lt;div&gt;2) it probably wouldn=E2=80=99t be too hard to come up with a=\r\n junit patch to enable it, assuming the entry point would be the API not ma=\r\nin()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;but also, given that I=E2=80=99m invoking jun=\r\nit from maven/surefire:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3) it would be much harder=\r\n to convince maven=E2=80=99s surefire plugin to use a custom classloader an=\r\nd somehow pass it over to junit&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So =E2=80=A6 unles=\r\ns some major work is done by two projects =E2=80=94 surefire and junit =E2=\r\n=80=94 I think the answer to my question about whether it can be done is No=\r\n.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;P.S. If anybody is more knowledgeable about this=\r\n than me (very easy to accomplish, I am not familiar with either code base)=\r\n, please correct me if I=E2=80=99m wrong.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;=\r\n/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Johannes.&lt;/div&gt;&lt;span class=3D&quot;&quot;&gt;&lt;di=\r\nv&gt;&lt;br&gt;&lt;div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div&gt;On May 17, 2015, at 23:59, Aaron =\r\nVonderHaar &lt;a href=3D&quot;mailto:gruen0aermel@...&quot; target=3D&quot;_blank&quot;&gt;grue=\r\nn0aermel@...&lt;/a&gt; [junit] &lt;&lt;a href=3D&quot;mailto:junit@yahoogroups.com&quot;=\r\n target=3D&quot;_blank&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt; wrote:&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;div =\r\nstyle=3D&quot;font-size:13px;font-family:Arial,helvetica,clean,sans-serif;font-s=\r\ntyle:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;te=\r\nxt-align:start;text-indent:0px;text-transform:none;white-space:normal&quot;&gt;&lt;div=\r\n&gt;&lt;div style=3D&quot;font-family:Georgia&quot;&gt;&lt;div style=3D&quot;margin:0px 0px 1em&quot;&gt;&lt;br&gt;&lt;=\r\n/div&gt;&lt;div dir=3D&quot;ltr&quot;&gt;I know the robolectric test runner [1] sets up a cust=\r\nom ClassLoader, but my understanding is that it has to do some weird things=\r\n to make that work due to the fact that the test class has already been loa=\r\nded by the time the TestRunner starts and as a result the classes being tes=\r\nted have already been loaded.=C2=A0 I don&#39;t know much about the details=\r\n beyond that.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]:=C2=A0&lt;a href=3D&quot;https://github.com/ro=\r\nbolectric/robolectric/blob/master/robolectric/src/main/java/org/robolectric=\r\n/RobolectricTestRunner.java&quot; target=3D&quot;_blank&quot;&gt;https://github.com/robolectr=\r\nic/robolectric/blob/master/robolectric/src/main/java/org/robolectric/Robole=\r\nctricTestRunner.java&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div cla=\r\nss=3D&quot;gmail_quote&quot;&gt;On Thu, May 14, 2015 at 5:34 PM,&lt;span&gt;=C2=A0&lt;/span&gt;&lt;a hr=\r\nef=3D&quot;mailto:johannes.ernst@...&quot; target=3D&quot;_blank&quot;&gt;johannes.ernst@gma=\r\nil.com&lt;/a&gt;&lt;span&gt;=C2=A0&lt;/span&gt;[junit]&lt;span&gt;=C2=A0&lt;/span&gt;&lt;span dir=3D&quot;ltr&quot;&gt;&l=\r\nt;&lt;a href=3D&quot;mailto:junit@yahoogroups.com&quot; target=3D&quot;_blank&quot;&gt;junit@yahoogro=\r\nups.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;span&gt;=C2=A0&lt;/span&gt;wrote:&lt;br&gt;&lt;blockquote class=3D&quot;gma=\r\nil_quote&quot; style=3D&quot;margin:0px 0px 0px 4px;border-left-width:1px;border-left=\r\n-color:rgb(204,204,204);border-left-style:solid&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;div style=3D&quot;backg=\r\nround-color:rgb(255,255,255)&quot;&gt;&lt;span&gt;=C2=A0&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;p style=3D=\r\n&quot;margin:0px 0px 1em&quot;&gt;I=E2=80=99d like need to use a custom ClassLoader for =\r\nmy tests. Can it be done?&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Johannes.&lt;/p&gt;&lt;p sty=\r\nle=3D&quot;margin:0px 0px 1em&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;div style=3D&quot;margin:0px 0px=\r\n 1em&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=3D&quot;color:rgb(255,255,255);min-height:0px&quot;&gt;=\r\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=3D&quot;margin:0=\r\npx 0px 1em&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=3D&quot;color:rgb(255,255,255);min-height=\r\n:0px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;p&gt;&lt;/p&gt;\n\n=\r\n    &lt;/div&gt;\n     \n\n    \n    &lt;div style=3D&quot;color:#fff;min-height:0&quot;&gt;&lt;/div&gt;\n\n\n=\r\n&lt;/div&gt;\n\n\n\n  \n\n\n\n\n\n\n&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n\r\n--bcaec51719e1cb801a051669cfb7--\r\n\n", 
    "subject": "Re: [junit] Custom classloader"
}