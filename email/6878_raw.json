{
    "numMessagesInTopic": 7, 
    "nextInTime": 6879, 
    "senderId": "Tnf8lc-nmnh4eeNZXdhWKSkqXPE9ar_KRHvyHTMQKrZkeD6TPxxHxtCgkX1JJwn8Oey0XNFsBg_nJodq6v8wMC4cZY1tyDgVmxy1ROvMYC6zJce3", 
    "systemMessage": false, 
    "subject": "RE: [junit] Dynamically generating test methods?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "Here s my solution: ========== 8", 
    "msgId": 6878, 
    "rawEmail": "Return-Path: &lt;jbr@...&gt;\r\nX-Sender: jbr@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_4); 5 Feb 2003 05:02:33 -0000\r\nReceived: (qmail 93014 invoked from network); 5 Feb 2003 05:02:32 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m8.grp.scd.yahoo.com with QMQP; 5 Feb 2003 05:02:32 -0000\r\nReceived: from unknown (HELO fep01-mail.bloor.is.net.cable.rogers.com) (66.185.86.71)\n  by mta1.grp.scd.yahoo.com with SMTP; 5 Feb 2003 05:02:32 -0000\r\nReceived: from quincy ([129.37.159.107])\n          by fep01-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.06 201-253-122-126-106-20020509) with ESMTP\n          id &lt;20030205050223.USMW4750.fep01-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Wed, 5 Feb 2003 00:02:23 -0500\r\nMessage-ID: &lt;200302050002270499.02726F96@...&gt;\r\nIn-Reply-To: &lt;0D744775858AD411AF5400508BAF31EA0727A3AD@...&gt;\r\nReferences: &lt;0D744775858AD411AF5400508BAF31EA0727A3AD@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Wed, 05 Feb 2003 00:02:27 -0500\r\nTo: junit@yahoogroups.com\r\nSubject: RE: [junit] Dynamically generating test methods?\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep01-mail.bloor.is.net.cable.rogers.com from [129.37.159.107] using ID &lt;srainsberger5790@...&gt; at Wed, 5 Feb 2003 00:02:22 -0500\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=89240252\r\nX-Yahoo-Profile: nails762\r\n\r\nHere&#39;s my solution:\n\n========== 8&lt; =============\npackage junit.xml;\n\nimport java.io.File;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.TransformerException;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\nimport org.apache.xpath.XPathAPI;\nimport org.w3c.dom.Attr;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NamedNodeMap;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\n/**\n * Represents a TestCase defined by an XML element:\n * \n * &lt;pre&gt;\n * &lt;test source=&quot;documentToCheck.xml&quot;&gt;\n *     &lt;assert-exists xpath=&quot;expectedXpath1&quot; /&gt;\n *     &lt;assert-exists xpath=&quot;expectedXpath2&quot; /&gt;\n *     &lt;assert-exists xpath=&quot;expectedXpath3&quot; /&gt;\n * &lt;/test&gt;\n * &lt;/pre&gt;\n * \n * &lt;p&gt;Creates a TestSuite from the system property\n * &lt;code&gt;xml.test.file&lt;/code&gt;: an XML document with\n * root element &lt;code&gt;&lt;tests&gt;&lt;/code&gt;\n * \n * @author J. B. Rainsberger\n */\npublic class XmlTestCase extends TestCase {\n\tprivate final File sourceFile;\n\tprivate final String[] expectedXpaths;\n\n\tpublic XmlTestCase(final File sourceFile, final String[]\nexpectedXpaths) {\n\t\tsuper(&quot;XML test &#39;&quot; + sourceFile + &quot;&#39;&quot;);\n\t\tthis.sourceFile = sourceFile;\n\t\tthis.expectedXpaths = expectedXpaths;\n\t}\n\n\tpublic static Test suite() {\n\t\tfinal TestSuite suite = new TestSuite();\n\n\t\tfinal String testFileName =\n\t\t\tSystem.getProperty(&quot;xml.test.file&quot;, &quot;tests.xml&quot;);\n\n\t\ttry {\n\t\t\tfinal Document document =\n\t\t\t\tDocumentBuilderFactory\n\t\t\t\t\t.newInstance()\n\t\t\t\t\t.newDocumentBuilder()\n\t\t\t\t\t.parse(\n\t\t\t\t\ttestFileName);\n\n\t\t\tfinal NodeList testNodes =\n\t\t\t\tXPathAPI.selectNodeList(document, &quot;/tests/test&quot;);\n\t\t\tfor (int i = 0; i &lt; testNodes.getLength(); i++) {\n\t\t\t\tfinal Node eachTestNode = testNodes.item(i);\n\t\t\t\tsuite.addTest(makeXmlTest(eachTestNode));\n\t\t\t}\n\n\t\t} catch (final Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\n\t\treturn suite;\n\t}\n\n\tprivate static XmlTestCase makeXmlTest(final Node eachTestNode)\n\t\tthrows TransformerException {\n\n\t\tfinal String sourceFileName = getAttributeValue(eachTestNode,\n&quot;source&quot;);\n\n\t\tfinal NodeList assertExistsNodes =\n\t\t\tXPathAPI.selectNodeList(eachTestNode, &quot;assert-exists&quot;);\n\t\tfinal String[] expectedXpaths =\n\t\t\tnew String[assertExistsNodes.getLength()];\n\t\tfor (int j = 0; j &lt; assertExistsNodes.getLength(); j++) {\n\t\t\tfinal Node eachAssertExistsNode = assertExistsNodes.item(j);\n\t\t\texpectedXpaths[j] =\n\t\t\t\tgetAttributeValue(eachAssertExistsNode, &quot;xpath&quot;);\n\t\t}\n\n\t\treturn new XmlTestCase(new File(sourceFileName), expectedXpaths);\n\t}\n\n\tprivate static String getAttributeValue(\n\t\tfinal Node eachTestNode,\n\t\tfinal String attributeName) {\n\n\t\tfinal NamedNodeMap attributes = eachTestNode.getAttributes();\n\t\tfinal String sourceFileName =\n\t\t\t((Attr) attributes.getNamedItem(attributeName)).getValue();\n\t\treturn sourceFileName;\n\t}\n\n\tprotected void runTest() throws Throwable {\n\n\t\tfinal Document document =\n\t\t\tDocumentBuilderFactory.newInstance().newDocumentBuilder().parse(\n\t\t\t\tsourceFile);\n\t\tfor (int i = 0; i &lt; expectedXpaths.length; i++) {\n\t\t\tString eachExpectedXpath = expectedXpaths[i];\n\t\t\tfinal NodeList nodes =\n\t\t\t\tXPathAPI.selectNodeList(document, eachExpectedXpath);\n\t\t\tassertTrue(\n\t\t\t\t&quot;Could not find XPath &#39;&quot; + eachExpectedXpath + &quot;&#39;&quot;,\n\t\t\t\tnodes.getLength() &gt; 0);\n\t\t}\n\t}\n\n}\n========== 8&lt; =============\n\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s write software that people understand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416 791-8603\nAll correspondence (c) 2002 Diaspar Software Services.\nIf you want to use it, just ask; don&#39;t steal.\n\n\n", 
    "profile": "nails762", 
    "topicId": 6867, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "prevInTime": 6877, 
    "contentTrasformed": false, 
    "postDate": "1044421347", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 6877, 
    "headers": {
        "inReplyToHeader": "PDBENzQ0Nzc1ODU4QUQ0MTFBRjU0MDA1MDhCQUYzMUVBMDcyN0EzQURAZXhjaGFuZ2UyLnFycy5jb20+", 
        "messageIdInHeader": "PDIwMDMwMjA1MDAwMjI3MDQ5OS4wMjcyNkY5NkBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDBENzQ0Nzc1ODU4QUQ0MTFBRjU0MDA1MDhCQUYzMUVBMDcyN0EzQURAZXhjaGFuZ2UyLnFycy5jb20+"
    }
}