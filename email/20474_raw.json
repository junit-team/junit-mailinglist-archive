{
    "numMessagesInTopic": 4, 
    "nextInTime": 20475, 
    "senderId": "I9gO2dt-Ovk_8zSmQPSPFnG8gb_IJKgOu1i9m51pNSn8-ed8hY0_G092pFTZiMHrqzPNcA--8Tewvte6WNEL7_bNVexWXKoS4Mq_zA", 
    "systemMessage": true, 
    "subject": "Re: Extending JUnit with first-class dependencies", 
    "from": "&quot;adrian.kuhn&quot; &lt;adrian.kuhn@...&gt;", 
    "authorName": "adrian.kuhn", 
    "msgSnippet": "Hello CÃ©dric, Thank you for your comments! ... I am not sure if I completly understood that remark. But, let me quickly explain what happens behinde the", 
    "msgId": 20474, 
    "rawEmail": "Return-Path: &lt;adrian.kuhn@...&gt;\r\nReceived: (qmail 39441 invoked from network); 6 May 2008 12:45:57 -0000\r\nReceived: from unknown (66.218.67.94)\n  by m36.grp.scd.yahoo.com with QMQP; 6 May 2008 12:45:57 -0000\r\nReceived: from unknown (HELO n33a.bullet.sp1.yahoo.com) (209.131.38.214)\n  by mta15.grp.scd.yahoo.com with SMTP; 6 May 2008 12:45:56 -0000\r\nReceived: from [216.252.122.219] by n33.bullet.sp1.yahoo.com with NNFMP; 06 May 2008 12:45:56 -0000\r\nReceived: from [209.73.164.83] by t4.bullet.sp1.yahoo.com with NNFMP; 06 May 2008 12:45:56 -0000\r\nReceived: from [66.218.66.48] by t7.bullet.scd.yahoo.com with NNFMP; 06 May 2008 12:45:56 -0000\r\nX-Sender: adrian.kuhn@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 45171 invoked from network); 5 May 2008 10:34:47 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m54.grp.scd.yahoo.com with QMQP; 5 May 2008 10:34:47 -0000\r\nX-Received: from unknown (HELO n11d.bullet.scd.yahoo.com) (66.218.67.60)\n  by mta16.grp.scd.yahoo.com with SMTP; 5 May 2008 10:34:47 -0000\r\nX-Received: from [66.218.69.1] by n22.bullet.scd.yahoo.com with NNFMP; 05 May 2008 10:34:44 -0000\r\nX-Received: from [66.218.66.81] by t1.bullet.scd.yahoo.com with NNFMP; 05 May 2008 10:34:44 -0000\r\nDate: Mon, 05 May 2008 10:34:43 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;fvmns3+uanp@...&gt;\r\nIn-Reply-To: &lt;b86b6a9c0805040756r549f49c3yc1b5d0173efaf0ff@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;adrian.kuhn&quot; &lt;adrian.kuhn@...&gt;\r\nSubject: Re: Extending JUnit with first-class dependencies\r\nX-Yahoo-Group-Post: member; u=345034378; y=tO02r_71oreq_bmmhI8oLGpAAoUUFwujgjDgz0vGW6ORRJcSSCg\r\nX-Yahoo-Profile: adrian.kuhn\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via web; 06 May 2008 12:45:56 -0000\r\n\r\nHello C=E9dric,\n\nThank you for your comments!\n\n&gt; 1) I find it a bit odd tha=\r\nt inside a class Stack, you find yourself creating\n&gt; a brand new instance o=\r\nf Stack and passing it around, instead of just reusing\n&gt; the same instance =\r\n(I realize it&#39;s because JUnit creates a new instance\n&gt; before each test, bu=\r\nt this doesn&#39;t strike me as optimal)\n\nI am not sure if I completly understo=\r\nod that remark. But, let me quickly explain what \nhappens behinde the curta=\r\nins when JExample executes those two methods. Lets assume \nthey are impleme=\r\nnted in TestStack as follows\n\n@RunWith(JExampleRunner.class) \npublic class =\r\nStackTest { \n    ....\n} \n\nWhat happens is\n\n1. JUnit reads the RunWith annot=\r\nation and hands over to JExample\n2. JExample reads all annotations of all m=\r\nethods (if depedencies go across classes, even \nthose of other classes).\n3.=\r\n JExample builds an execution graph of the test methods\n4. JExample runs th=\r\ne methods in topological sort order, that is\n4.1 call testPush\n4.2 cache re=\r\nturn value\n4.3 call testPop (passing the return value)\n\nIf there is more th=\r\nan one &quot;consumer&quot; the cached values get cloned before passing along. If \nth=\r\ne objects do not implement Cloneable, the &quot;producer&quot; is invoked again. We j=\r\nust see a\ntest method as an comprehensive constructor. Hence we have NO set=\r\nup methods, the\nfixture is always what was returned by another test method.=\r\n\n\n&gt; 2) Your current implementation will break if a method gets renamed, whi=\r\nch is\n&gt; why, while TestNG supports direct method dependencies with\n&gt; [...sn=\r\nip...]\n&gt; The advantage of this approach is that it is independent of method=\r\n names\n&gt; (&quot;refactoring safe&quot;&quot;) and it captures the fact that any test metho=\r\nd that\n&gt; populates the stack is a valid prerequisite to testing pop().  In =\r\nother\n&gt; words, you can add more methods to the group &quot;populate&quot; and everyth=\r\ning will\n&gt; work as long as all these methods leave the stack populated with=\r\n at least\n&gt; one element.\n\nThat is true, current renaming breaks our impleme=\r\nntation.\nNote the difference to: renaming breaks our current implementation=\r\n.\n\nWe thought about taking special action, but then, decided to &quot;design for=\r\n forward-\ncompatibility&quot;. Why? JExamples design will last, the refactoring =\r\nfeature of Eclipes (and \nothers) will improve and one day include reference=\r\ns in string literals. In fact, when \nrenaming packages and classes this is =\r\nalready done by eclipse!!! So, somday they do that \nfor methods as well.\n\n&gt;=\r\n Anyway, I&#39;m glad to see test dependencies receive the attention they deser=\r\nve\n&gt; :-)\n\nDependencies for president! :)\n\ncheers,\nAA\n\n&gt; \n&gt; -- \n&gt; C=E9dric\n&gt;=\r\n \n&gt; On Sat, May 3, 2008 at 10:09 PM, adrian.kuhn &lt;adrian.kuhn@...&gt; wrote:\n&gt;=\r\n \n&gt; &gt;   Welcome everyone,\n&gt; &gt;\n&gt; &gt; I am new here and hope that this is the r=\r\night place to announce a novel\n&gt; &gt; JUnit extensions. If not, please point u=\r\ns to the proper\n&gt; &gt; place.\n&gt; &gt;\n&gt; &gt; JExample is an extensions that introduce=\r\ns dependencies. But unlike eg\n&gt; &gt; TestNG, we go beyond mere dependencies. W=\r\ne use\n&gt; &gt; dependencies to pass the &quot;instance under test&quot; from one the test =\r\nmethod to\n&gt; &gt; the next. If test B depends on A, the return value of A\n&gt; &gt; c=\r\nan be used as B&#39;s fixture. And if A test fails, B and all other dependees\n&gt;=\r\n &gt; of A are skipped and marked as white. We show in an\n&gt; &gt; empirical study =\r\n(accepted at the XP2008 conference) that JExample improves\n&gt; &gt; performance,=\r\n shortness of test methods, and defect\n&gt; &gt; localization.\n&gt; &gt;\n&gt; &gt; Let me giv=\r\ne an example :)\n&gt; &gt;\n&gt; &gt; Testing a stack is not trivial, there is an intrins=\r\nic dependency between\n&gt; &gt; pushing and popping elements. An element can not =\r\nbe\n&gt; &gt; popped without pushing it first. Intrinsic dependencies are evil. If=\r\n there\n&gt; &gt; is a bug in push, both push&#39;s and pop&#39;s test fail, even if\n&gt; &gt; t=\r\nhere is no bug in pop! Therefore, we declare that testPop depends on the\n&gt; =\r\n&gt; successful outcome of testPush. When running the\n&gt; &gt; tests, the return va=\r\nlue of testPush is used as the fixture of testPop.\n&gt; &gt;\n&gt; &gt; @Test\n&gt; &gt; public=\r\n Stack testPush() {\n&gt; &gt; Stack s =3D new Stack();\n&gt; &gt; s.push(&quot;Foo&quot;);\n&gt; &gt; ass=\r\nertEquals(1, s.size());\n&gt; &gt; return s;\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; @Test\n&gt; &gt; @Depends(&quot;tes=\r\ntPush&quot;)\n&gt; &gt; public void testPop(Stack s) {\n&gt; &gt; s.pop(&quot;Foo&quot;);\n&gt; &gt; assertEqua=\r\nls(0, s.size());\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; Using JExample, each test method is a compre=\r\nhensive constructor that\n&gt; &gt; creates an example instance of the unit under =\r\ntest. That is\n&gt; &gt; also why JExample is called JExample. The idea of example=\r\n-driven testing is\n&gt; &gt; based on the work of Markus Gaelli.\n&gt; &gt;\n&gt; &gt; You can =\r\nlearn more about JExample here\n&gt; &gt;\n&gt; &gt; http://www.iam.unibe.ch/~akuhn/blog/=\r\n2008/04/jexample-\nquickstart/&lt;http://www.iam.unibe.ch/%7Eakuhn/blog/2008/04=\r\n/jexample-quickstart/&gt;\n&gt; &gt; \nhttp://www.iam.unibe.ch/~scg/Research/JExample/=\r\n&lt;http://www.iam.unibe.ch/%7Escg/Re\nsearch/JExample/&gt;\n&gt; &gt;\n&gt; &gt; Download\n&gt; &gt;\n&gt;=\r\n &gt; http://www.iam.unibe.ch/~scg/Research/JExample/jexample-\nlatest.jar&lt;http=\r\n://www.iam.unibe.ch/%7Escg/Research/JExample/jexample-latest.jar&gt;\n&gt; &gt;\n&gt; &gt; P=\r\nlease give it a try (JExample is a seamless extension of JUnit and even\n&gt; &gt;=\r\n runs with the normal JUnit runner of Eclipse) and let us\n&gt; &gt; know what you=\r\n think.\n&gt; &gt;\n&gt; &gt; cheers,\n&gt; &gt; Adrian\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;\n&gt; \n&gt; \n&gt; [Non-text portions=\r\n of this message have been removed]\n&gt;\n\n\n", 
    "profile": "adrian.kuhn", 
    "topicId": 20471, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 345034378, 
    "prevInTime": 20473, 
    "contentTrasformed": false, 
    "postDate": "1209983683", 
    "canDelete": false, 
    "nextInTopic": 20479, 
    "prevInTopic": 20472, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDgwNTA0MDc1NnI1NDlmNDljM3ljMWI1ZDAxNzNlZmFmMGZmQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGZ2bW5zMyt1YW5wQGVHcm91cHMuY29tPg=="
    }
}