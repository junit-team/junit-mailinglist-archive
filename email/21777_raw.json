{
    "numMessagesInTopic": 5, 
    "nextInTime": 21778, 
    "senderId": "3Vn4Styri3iaZqpTm7YxZnfasev2gy3_NdVhrDoXcbKpYB5uXtyA1Sj8Htkt-FoUI_MVNgzqa8ypuBIYxhJJqSpZx_i7d4UvwF4A0A", 
    "systemMessage": false, 
    "subject": "Re: Request, RunnerBuilder, Computer and @RunWith", 
    "from": "&quot;krosenvold&quot; &lt;kristian@...&gt;", 
    "authorName": "krosenvold", 
    "msgSnippet": "Just talking about these things cleared my mind a little bit. I now have a functional fork of the maven-surfefire-plugin at", 
    "msgId": 21777, 
    "rawEmail": "Return-Path: &lt;kristian@...&gt;\r\nX-Sender: kristian@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 38880 invoked from network); 20 Jun 2009 15:50:10 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m1.grp.re1.yahoo.com with QMQP; 20 Jun 2009 15:50:10 -0000\r\nX-Received: from unknown (HELO n44d.bullet.mail.sp1.yahoo.com) (66.163.169.158)\n  by mta1.grp.sp2.yahoo.com with SMTP; 20 Jun 2009 15:50:09 -0000\r\nX-Received: from [69.147.65.150] by n44.bullet.mail.sp1.yahoo.com with NNFMP; 20 Jun 2009 15:50:01 -0000\r\nX-Received: from [98.137.34.73] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 20 Jun 2009 15:50:01 -0000\r\nDate: Sat, 20 Jun 2009 15:50:00 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;h1j0f8+kujq@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90906190852r7917c19dy7bc874bfeb65703c@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;krosenvold&quot; &lt;kristian@...&gt;\r\nSubject: Re: Request, RunnerBuilder, Computer and @RunWith\r\nX-Yahoo-Group-Post: member; u=403861045; y=sZ2IDFucDCgifiaS-bJmn611zi8ODmsBUNOGAOIVS81ccAbnog\r\nX-Yahoo-Profile: krosenvold\r\n\r\nJust talking about these things cleared my mind a little bit. I now have a =\r\nfunctional fork of the maven-surfefire-plugin at http://github.com/krosenvo=\r\nld/maven-surefire-plugin/tree/master\n(This will be submitted as a patch to =\r\napache once I get it a bit more up-to speed)\n\nIt only runs parallel-methods=\r\n right now, but I will RSN fix it to run parallel classes too. It works rea=\r\nlly well with all the regular junit-tests I tested, but I am currently spen=\r\nding my energy investigating some concurrency issues inside the spring 3.0 =\r\njunit test runner. After I find the spring bugs I&#39;ll do parallel classes to=\r\no.\n\nThe experience with surefire leads me to think that parallelism should =\r\nbe an aspect of the runner, not specified by the running class (so I change=\r\nd my mind). The exception might be in those cases where you explicitly have=\r\n to *deny* parallell methods for some reasons. So I&#39;m leaning more towards =\r\nan annotation like &quot;@SingleThread&quot;. If the runner gets configured with NumP=\r\narallelClasses=3D1 and ParallelMethods=3Dfalse you&#39;re basically running in =\r\n&quot;compatibility mode&quot;. So I have really reverted my original query totally ;=\r\n) I&#39;ll bug jetbrains about start supporting junit core instead.\n\nSo I suppo=\r\nse I&#39;m not really requesting any changes ;) The only thing I can think of n=\r\now is to make the order of method/classes configurable. For some types of t=\r\nests it&#39;s beneficial to run the first test method of all test classes befor=\r\ne running the second methods of all the classes and so on. Our selenium tes=\r\nts are typically that way; when you run 10 tests in the same class multithr=\r\neaded they all end up waiting for the same initialization logic and the sam=\r\ne synchronized points pretty quickly (jsp compilation, classloading etc). (=\r\nThe 10 threads will be testing similar permutations of some business proces=\r\ns). Maybe I&#39;ll look into that when all the other things are sorted out...\n\n=\r\nKristian\n\n--- In junit@yahoogroups.com, David Saff &lt;david@...&gt; wrote:\n&gt;\n&gt; K=\r\nristian,\n&gt; \n&gt; You&#39;re right.  There should indeed be a better way to do this=\r\n.\n&gt; Interceptors have proven an impressively good model for modifying the\n&gt;=\r\n behavior of test methods, and a reasonable model for class\n&gt; interceptors =\r\nis coming to mind.  Imagine this:\n&gt; \n&gt; @RunWith(Suite.class)\n&gt; @SuiteClases=\r\n({A.class, B.class, C.class...})\n&gt; public class ABCSuite {\n&gt;    @ClassInter=\r\nceptor Parallelize parallelize =3D Parallelize.classesAndMethods();\n&gt; }\n&gt; \n=\r\n&gt; One line to do what you want (although an unwieldy line at that...)\n&gt; \n&gt; =\r\nWould that do the trick?\n&gt; \n&gt;    David Saff\n&gt; \n&gt; On Thu, Jun 18, 2009 at 11=\r\n:39 PM, krosenvold&lt;kristian@...&gt; wrote:\n&gt; &gt; Oh, sorry for not providing any=\r\n good context here ;)\n&gt; &gt;\n&gt; &gt; My real goal is to get parallelization of *an=\r\ny* sort running within maven2. This is because our automated build uses it;=\r\n if I was able to get parallel test-methods it&#39;d cut the run-time of our lo=\r\nng-running builds to about a third. If I could get classes too I&#39;d probably=\r\n aim for world-record swamping of our 16-core build server ;) Reducing wall=\r\n-clock execution time of all our builds is a priority concern.\n&gt; &gt;\n&gt; &gt; For =\r\nour daily work we use IntelliJ idea v8, and while certainly &quot;nice to have&quot; =\r\nthe value of parallel tests in the development environment is less glaringl=\r\ny obvious.\n&gt; &gt;\n&gt; &gt; I was looking around in the git-snapshot of junit-4.7 co=\r\nde, trying to determine how/if I could do this. It seems to me like there&#39;s=\r\n two basic approaches as to how to achieve this:\n&gt; &gt;\n&gt; &gt; To get paralleliza=\r\ntion for classes you need to mess around with the runner. I&#39;m not totally f=\r\namiliar/comfortable with how this would be done.\n&gt; &gt;\n&gt; &gt; For parallel metho=\r\nds it seems like one *should* be able to specify a &quot;Computer&quot; on the &quot;@RunW=\r\nith&quot; annotation; it even seems like a logical configuration point for this =\r\ninformation.\n&gt; &gt;\n&gt; &gt; I know this may be slightly off-topic, but I feel seve=\r\nral &quot;tensions&quot; in the code-base around the &quot;Computer&quot;. Is this still largel=\r\ny work in progress?\n&gt; &gt;\n&gt; &gt; Kristian\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In jun=\r\nit@yahoogroups.com, David Saff &lt;david@&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; Kristian,\n&gt; &gt;&gt;\n&gt; &gt;=\r\n&gt; 1) Can you use the 4.7 snapshot?\n&gt; &gt;&gt; 2) Are you trying to parallelize me=\r\nthods within a class, classes\n&gt; &gt;&gt; within a suite, or both?\n&gt; &gt;&gt; 3) What ar=\r\ne you using to run the tests?\n&gt; &gt;&gt;\n&gt; &gt;&gt; =A0 =A0David Saff\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Thu,=\r\n Jun 18, 2009 at 6:07 AM, krosenvold&lt;kristian@&gt; wrote:\n&gt; &gt;&gt; &gt; Using a Runne=\r\nrBuilder and a Computer, the JUNIT 4.7 Request class creates the Runner obj=\r\nect.\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; I am currently using @RunWith(SpringJUnit4ClassRunner.cl=\r\nass) (from spring 3.0 rc) and I&#39;m trying to shoehorn parallel running into =\r\nthis regime, but it seems to me like these two designs are now fairly ortho=\r\ngonal. I suppose it could have been solved by amending a &quot;Computer&quot; to the =\r\n@RunWith tag, and I also suppose I may be trying to solve this problem at t=\r\nhe incorrect level.\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Anyone have any thoughts/suggestions on t=\r\nhis one ?\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Kristian Rosenvold\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;=\r\n &gt; ------------------------------------\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Yahoo! Groups Links\n&gt;=\r\n &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; -----------------------=\r\n-------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "krosenvold", 
    "topicId": 21759, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 403861045, 
    "prevInTime": 21776, 
    "contentTrasformed": false, 
    "postDate": "1245513000", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21774, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwNjE5MDg1MnI3OTE3YzE5ZHk3YmM4NzRiZmViNjU3MDNjQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGgxajBmOCtrdWpxQGVHcm91cHMuY29tPg=="
    }
}