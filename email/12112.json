{
    "numMessagesInTopic": 5, 
    "nextInTime": 12113, 
    "senderId": "Y5NUTaWeOn4ToJVKG7UhBKcxIzDt9Avg0l6sVWw7pd9EPvqdYh9uHV19X5_5aj6E2OE_15k1RKzp4LDN941Ygm0tVluSctZY3MY", 
    "systemMessage": true, 
    "subject": "RE: [junit] Best Strategy for testing DAOs - dependency issues", 
    "from": "John Lindwall &lt;jlindwall@...&gt;", 
    "authorName": "John Lindwall", 
    "msgSnippet": "We use dbunit.  Hopefully I m not misunderstanding your problem -- I also agree that I do not want a test method to depend on any system code but the code", 
    "msgId": 12112, 
    "profile": "jlindwall", 
    "topicId": 12106, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 68206578, 
    "messageBody": "<div id=\"ygrps-yiv-1105330214\">We use dbunit.  Hopefully I&#39;m not misunderstanding your problem --<br/>\n <br/>\nI also agree that I do not want a test method to depend on any system code but the code under test.  So using other DAO methods to create/retrieve/update/delete a DAO in a test method is a no-no.<br/>\n <br/>\nTo solve this issue we wrote a DAOFactory that creates populates DAO objects from a dbunit XML file.  A simple retrieval test looks something like this:<br/>\n <br/>\n <br/>\n    public void testGetZipDAO() throws SQLException, DatabaseUnitException, IOException, ObjectNotFoundException<br/>\n    {<br/>\n        final String id = &quot;99921&quot;;<br/>\n        final String datasetFile = id + &quot;.xml&quot;;<br/>\n<br/>\n        insertIntoDatabase(datasetFile);  // Puts the expected data into the db<br/>\n<br/>\n        ZipDAO observed = Loader.getZipDAO(id);<br/>\n        ZipDAO expected = DAOFactory.getFactory(datasetFile).getZip(id);<br/>\n <br/>\n        assertEquals(expected, observed);<br/>\n    }<br/>\n<br/>\n <br/>\n <br/>\nJohn<br/>\n<br/>\n-----Original Message-----<br/>\nFrom: MKlaene [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mklaene@...\">mklaene@...</a>]<br/>\nSent: Thursday, October 07, 2004 4:12 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: [junit] Best Strategy for testing DAOs - dependency issues<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nI&#39;m having some concerns as I write some tests for my DAOs.  My <br/>\nconcern is that I can&#39;t figure out a good way to write these tests <br/>\nwithout relying on other DAO methods.<br/>\n<br/>\nFor example, my employeeDAO might have a createEmployee(Employee <br/>\nemployee) method and a getEmployeeById(Integer id) method.  Almost <br/>\nall of my tests rely on a employee record being pre-populated.  For <br/>\nnow, I&#39;m calling my createEmployee DAO method in setup() so every <br/>\ntest has it.  Then I call the deleteEmployee(Employee employee) <br/>\nmethod in tearDown().  It bothers me somewhat to have to do this as <br/>\nI would prefer to only call those methods within their corresponding <br/>\ntest methods.  <br/>\n<br/>\nI&#39;ve looked at DBUnit.  The problem here is that I still have to <br/>\npopulate my bean from the database - then I&#39;m back to calling a DAO <br/>\nmethod like getEmployeeById in every method - an undesirable <br/>\ndependency.  Another option I guess would be to have some DAO <br/>\nmethods used only for testing but this seems overkill.  I&#39;d rather <br/>\nuse the database during testing too, not mock objects.<br/>\n<br/>\nSo, I guess my questions are:<br/>\n<br/>\n1.)Is there a good way to test DAOs in isolation, without relying on <br/>\nother DAO methods?<br/>\n2.)Does it really matter that much anyway if I use other DAO <br/>\nmethods?  I mean, the goal is for ALL tests to pass anyway.  It can <br/>\nbe confusing if your testDeleteEmployee method fails due to a <br/>\nfailure in createEmployee which you have to call first, but I guess <br/>\nit wouldn&#39;t take long to figure out what really happened.<br/>\n<br/>\nAny feedback would be appreciated.<br/>\nThanks,<br/>\nMike<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor\t<br/>\n<br/>\nADVERTISEMENT<br/>\n &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.ard.yahoo.com/SIG=1294dt9qv/M=295196.4901138.6071305.3001176/D=groups/S=1705006905:HM/EXP=1097248100/A=2128215/R=0/SIG=10se96mf6/*http://companion.yahoo.com\">http://us.ard.yahoo.com/SIG=1294dt9qv/M=295196.4901138.6071305.3001176/D=groups/S=1705006905:HM/EXP=1097248100/A=2128215/R=0/SIG=10se96mf6/*http://companion.yahoo.com</a>&gt; click here\t<br/>\n  &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=groups/S=:HM/A=2128215/rand=289822130\">http://us.adserver.yahoo.com/l?M=295196.4901138.6071305.3001176/D=groups/S=:HM/A=2128215/rand=289822130</a>&gt; \t<br/>\n<br/>\n<br/>\n  _____  <br/>\n<br/>\nYahoo! Groups Links<br/>\n<br/>\n<br/>\n*\tTo visit your group on the web, go to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit/\">http://groups.yahoo.com/group/junit/</a> &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit/\">http://groups.yahoo.com/group/junit/</a>&gt; <br/>\n  <br/>\n<br/>\n*\tTo unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a> &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt; <br/>\n  <br/>\n<br/>\n*\tYour use of Yahoo! Groups is subject to the Yahoo! Terms of Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt; . <br/>\n<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 12111, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1097166869", 
    "canDelete": false, 
    "nextInTopic": 12114, 
    "prevInTopic": 12110, 
    "headers": {
        "messageIdInHeader": "PEIxNUY1QkY1NUIwOEQ1MTFCQjE3MDBCMEQwNjg3QjQ2MDMxQ0MwOTNAeGlmaW5lMDEueGlmaW4uY29tPg=="
    }
}