{
    "numMessagesInTopic": 4, 
    "nextInTime": 24068, 
    "senderId": "Eqe6UPYmwAplvzVD3WDBSG5iGOnNkwzXMFkIb_7jXzscqHtwtCCCWMq0pRvFsOlHhmgT2mEYwuuAwM_HjByEzLo9uMGAhQ", 
    "systemMessage": false, 
    "subject": "Re: Custom failed test handling", 
    "from": "&quot;j.kieley&quot; &lt;j.kieley@...&gt;", 
    "authorName": "j.kieley", 
    "msgSnippet": "Thank you so much for the quick reply! Thats a great approach! The only thing is that some of our tests use @After to close the browser, while others use", 
    "msgId": 24067, 
    "profile": "j.kieley", 
    "topicId": 24065, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 545494305, 
    "messageBody": "<div id=\"ygrps-yiv-577047557\">Thank you so much for the quick reply!<br/>\n<br/>\nThats a great approach! The only thing is that some of our tests use @After to close the browser, while others use @AfterClass to close the browser. I would like to apply this custom test failure handling globally if possible. <br/>\nThe way you&#39;ve suggested would allow us to do it for all of the Test Classes that use the @After to close the browser (Which I think i&#39;ll start doing now) however it would cause all the test classes that use @AfterClass to close the browser to break.<br/>\nUnless I made two separate extensions from TestWatcher... One for the @After close browser and one for the @AfterClass..... wow I think that would work nicely...<br/>\nIs that what you would suggest?<br/>\n<br/>\nThanks a lot<br/>\n-James<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;saff@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; J,<br/>\n&gt; <br/>\n&gt; Here&#39;s how I&#39;d approach it.  I&#39;ll assume you already have some kind of<br/>\n&gt; <br/>\n&gt; class Screenshotter extends TestWatcher { ... }<br/>\n&gt; <br/>\n&gt; You&#39;ll need to take the logic from your after method, and put it into an<br/>\n&gt; ExternalResource:<br/>\n&gt; <br/>\n&gt; public class BrowserCloser extends ExternalResource {<br/>\n&gt;    @Override protected void after() {<br/>\n&gt;      // close the browser<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; And then, in your test class, you can include both with a RuleChain:<br/>\n&gt; <br/>\n&gt; @Rule public TestRule chain = TestRule.outerRule(new<br/>\n&gt; BrowserCloser()).around(new Screenshotter());<br/>\n&gt; <br/>\n&gt; Hope that helps,<br/>\n&gt; <br/>\n&gt;    David<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; On Tue, Oct 23, 2012 at 3:11 PM, j.kieley &lt;j.kieley@...&gt; wrote:<br/>\n&gt; <br/>\n&gt; &gt; **<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; I am Selenium Developer. I was trying to override the class: TestWatcher<br/>\n&gt; &gt; method: failed. To add some custom test failure handling (take a screenshot<br/>\n&gt; &gt; on test failure). However I noticed that the failed() method is invoked<br/>\n&gt; &gt; after the @after method is executed. Currently we are using the @after<br/>\n&gt; &gt; method to close the browser. So we need to execute takeAScreenShot() after<br/>\n&gt; &gt; a test has failed, and before the @after method is exeuted. Any<br/>\n&gt; &gt; suggestions? I didn&#39;t see a way to do this, without making some major<br/>\n&gt; &gt; changes to TestWatcher.<br/>\n&gt; &gt;<br/>\n&gt; &gt;  <br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 24066, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1351091663", 
    "canDelete": false, 
    "nextInTopic": 24068, 
    "prevInTopic": 24066, 
    "headers": {
        "inReplyToHeader": "PENBTHJ3LVB3WnVkUXROQlRPYTE3UEtzOU1laW1ROVk3a3ZpNVJGRHlkbjZ4cy1QdW9VZ0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGs2OTBrZis0amNxQGVHcm91cHMuY29tPg=="
    }
}