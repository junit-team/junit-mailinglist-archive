{
    "numMessagesInTopic": 1, 
    "nextInTime": 16609, 
    "senderId": "VjGNMxCcwcdnd5-1vI4ZMaBDm2Mc3OApd5MFcpmebkGAIU3qmHwDz0SBODfAQ--XFxc7igEHEHw0GAhlNbwVUa0fGfZpZYj6", 
    "systemMessage": true, 
    "subject": "JUnit and inner classes", 
    "from": "&quot;eetadic69&quot; &lt;eetadic69@...&gt;", 
    "authorName": "eetadic69", 
    "msgSnippet": "Hi all, so I m continuing my learning curve with JUnit, and I have a scenario that I wish I could execute, but apparently I m not allowed to.  Basically, I", 
    "msgId": 16608, 
    "rawEmail": "Return-Path: &lt;eetadic69@...&gt;\r\nReceived: (qmail 41289 invoked from network); 4 May 2006 21:15:10 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m23.grp.scd.yahoo.com with QMQP; 4 May 2006 21:15:10 -0000\r\nReceived: from unknown (HELO n30b.bullet.scd.yahoo.com) (209.73.160.89)\n  by mta3.grp.scd.yahoo.com with SMTP; 4 May 2006 21:15:10 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.5] by n30.bullet.scd.yahoo.com with NNFMP; 04 May 2006 21:14:49 -0000\r\nReceived: from [66.218.66.91] by t5.bullet.scd.yahoo.com with NNFMP; 04 May 2006 21:14:49 -0000\r\nX-Sender: eetadic69@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 2193 invoked from network); 4 May 2006 01:46:51 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m34.grp.scd.yahoo.com with QMQP; 4 May 2006 01:46:51 -0000\r\nReceived: from unknown (HELO n22a.bullet.scd.yahoo.com) (66.94.237.51)\n  by mta4.grp.scd.yahoo.com with SMTP; 4 May 2006 01:46:51 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.1] by n22.bullet.scd.yahoo.com with NNFMP; 04 May 2006 01:46:35 -0000\r\nReceived: from [66.218.66.87] by t1.bullet.scd.yahoo.com with NNFMP; 04 May 2006 01:45:35 -0000\r\nDate: Thu, 04 May 2006 01:45:35 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;e3bmbv+70c@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;eetadic69&quot; &lt;eetadic69@...&gt;\r\nSubject: JUnit and inner classes\r\nX-Yahoo-Group-Post: member; u=267405105; y=qRSmTDGo3FemoXL313PlvLWUhIKetJDcWzdSoo3flywF00U3\r\nX-Yahoo-Profile: eetadic69\r\nX-eGroups-Approved-By: kentlbeck &lt;kentb@...&gt; via web; 04 May 2006 21:14:49 -0000\r\n\r\nHi all, so I&#39;m continuing my learning curve with JUnit, and I have a scenar=\r\nio that I wish I \ncould execute, but apparently I&#39;m not allowed to.  Basica=\r\nlly, I want to test for interface \ncompliance using the AbstractInterfaceTe=\r\nst pattern, but with a slight twist.  Consider the \nfollowing example, wher=\r\ne I have an interface &quot;InnerInterface&quot; extend another interface \n&quot;OuterInte=\r\nrface&quot; (all within a package called &quot;mypackage&quot;).\n\npublic Interface OuterIn=\r\nterface{}\n\npublic Interface InnerInterface extends OuterInterface{}\n\npublic=\r\n abstract class OuterInterfaceTest\n{\n  public abstract OuterInterface getIm=\r\nplementingInstance();\n\n  @Test public final void outerInterfaceComplianceTe=\r\nst()\n  {\n    assertNotNull(this.getImplementingInstance());\n  }\n}\n\npublic a=\r\nbstract class InnerInterfaceTest\n{\n  public abstract InnerInterface getImpl=\r\nementingInstance();\n\n  @Test public final void innerInterfaceComplianceTest=\r\n()\n  {\n    assertNotNull(this.getImplementingInstance());\n  }\n\n  @Test publ=\r\nic final void testForInterfaceInheritance()\n  {\n    assertTrue(JUnitCore.ru=\r\nnClasses((new OuterInterfaceTestImplementation()).getClass\n()).wasSuccessfu=\r\nl());\n  }\n\n  public class OuterInterfaceTestImplementation extends mypackag=\r\ne.OuterInterfaceTest\n  {\n    public OuterInterface getImplementingInstance(=\r\n)\n    {\n      return InnerInterfaceTest.this.getImplementingInstance();\n   =\r\n }\n  }\n}\n\nAnd there will ultimately be some other test classes that either =\r\n(a) inherit from \nInnerInterfaceTest, or (b) re-apply the design pattern yo=\r\nu see above.  These will be the \nactual concrete tests that use instantiati=\r\nons of real classes (not interfaces).\n\nOK, for those that made it this far,=\r\n you may already see the problem above.  First off, the \ntestForInterfaceIn=\r\nheritance() method is needed because JUnit cannot instantiate \nOuterInterfa=\r\nceTestImplementation without an instance of InnerInterface (because the \nfo=\r\nrmer is a non-static inner class).  That being said, when the test gets to =\r\nthat line, it \nbombs by trying to create an instance of OuterInterfaceTestI=\r\nmplementation outside of the \ncontext of the current InnerInterface object,=\r\n which is no good!\n\nOne may suggest to make OuterInterfaceTestImplementatio=\r\nn a static nested class, but this \ndoesn&#39;t work well, either.  Why?  Becaus=\r\ne in order to call getImplementingInstance on the \ntrue implementing instan=\r\nce, OuterInterfaceTestImplementation needs a reference (this) to \nthe curre=\r\nnt instance of InnerInterfaceTest.\n\nNow, I&#39;ve already found a workaround, b=\r\nut it is a very un-elegant solution, and it actually \nleads to unavoidable =\r\nunchecked type conversion warnings when doing the above with \ngenerics (I l=\r\neft that out for simplicity).  The workaround involves making the inner cla=\r\nss a \nnested static class instead, calling a constructor that takes the cur=\r\nrent (this) instance of \nInnerClass and stores it as a static field that is=\r\n then used by the instantiated instances of \nOuterInterfaceTestImplementati=\r\non when JUnitCore.runClasses() is called.  Trust me when I \nsay this is ugl=\r\ny and can lead to confusion when trying to stick to a nice testing pattern.=\r\n\n\nSo, ultimately the question is this, why can I not call JUnitCore.runClas=\r\nses() on non-static \ninner classes?  I understand that JUnit wants to creat=\r\ne a new instance of each class for \ntesting, but when I start some tests pr=\r\nogrammatically via the runClasses() method, it \nshould be able to (without =\r\nmuch stretch of the imagination) instantiate inner classes within \nthe inst=\r\nance of the object that called runClasses().\n\nShould I be submitting this a=\r\ns a bug/design suggestion?\n\nAnyone else encountered this when having hierar=\r\nchies of interfaces?\n\nThanks in advance for any input!\n\n\n\n\n\n\n", 
    "profile": "eetadic69", 
    "topicId": 16608, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 267405105, 
    "prevInTime": 16607, 
    "contentTrasformed": false, 
    "postDate": "1146707135", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGUzYm1idis3MGNAZUdyb3Vwcy5jb20+"
    }
}