{
    "numMessagesInTopic": 10, 
    "nextInTime": 24665, 
    "senderId": "ehYT16koKIXy2GzYspWzHKceE1OAoQ3tUiyB3e_cvcj6x8x8gyu_t62pbNvWJBuffa3tv1cAVzQwo8DT7tEjxrsv-vpqy_kOyDgdjqc", 
    "systemMessage": false, 
    "subject": "Re: [junit] Custom classloader", 
    "from": "Bill Shannon &lt;bill.shannon@...&gt;", 
    "authorName": "Bill Shannon", 
    "msgSnippet": "Right, even though they re probably loaded in a ClassLoader that JUnit is using, they re also loaded in a ClassLoader I create, along with other classes being ", 
    "msgId": 24664, 
    "rawEmail": "Return-Path: &lt;bill.shannon@...&gt;\r\nX-Sender: bill.shannon@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 4935 invoked by uid 102); 20 May 2015 04:20:55 -0000\r\nX-Received: from unknown (HELO mtaq4.grp.bf1.yahoo.com) (10.193.84.143)\n  by m10.grp.bf1.yahoo.com with SMTP; 20 May 2015 04:20:55 -0000\r\nX-Received: (qmail 7730 invoked from network); 20 May 2015 04:20:54 -0000\r\nX-Received: from unknown (HELO userp1040.oracle.com) (98.138.215.82)\n  by mtaq4.grp.bf1.yahoo.com with SMTP; 20 May 2015 04:20:54 -0000\r\nX-Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])\n\tby userp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t4K4KrTS012542\n\t(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 20 May 2015 04:20:53 GMT\r\nX-Received: from nissanhome.us.oracle.com (dhcp-adc-twvpn-3-vpnpool-10-154-126-209.vpn.oracle.com [10.154.126.209])\n\tby userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id t4K4KqU4005118\n\t(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 20 May 2015 04:20:53 GMT\r\nX-Received: from [192.168.0.4] (vostro [192.168.0.4])\n\tby nissanhome.us.oracle.com (8.14.9+Sun/8.14.9) with ESMTP id t4K4Ga5h024731;\n\tTue, 19 May 2015 21:16:36 -0700 (PDT)\r\nMessage-ID: &lt;555C0AEC.8010305@...&gt;\r\nDate: Tue, 19 May 2015 21:17:48 -0700\r\nUser-Agent: Mozilla/5.0 (X11; Linux i686; rv:24.0) Gecko/20100101 Thunderbird/24.5.0\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;mj3eua+jgvvld@...&gt; &lt;CAMZecXm5oZmKHXsdd70wZOgKq8+0F5Eivy5CZQg1RyYUpUofQQ@...&gt; &lt;B54781E6-AFAD-469F-89B1-1B7489A27913@...&gt; &lt;CAM21Rt9XQyAXphovp=cEbKeYRgx1=ts0fWoMVO2e1G2_KCewqw@...&gt; &lt;CALS12-Pid3U-jZvr-6bJe8Z81RYvMaywNDvbd5OLVVPkmh=qdQ@...&gt; &lt;CALrw-PxDQ7Ef63yrWU_+6ftaCfAhFYwZaBjsqPNxX1eUj8WzQw@...&gt; &lt;555BA2B9.1080406@...&gt; &lt;4CE2751B-923C-49A5-91A1-8D61C0D9739A@...&gt;\r\nIn-Reply-To: &lt;4CE2751B-923C-49A5-91A1-8D61C0D9739A@...&gt;\r\nContent-Type: multipart/alternative;\n boundary=&quot;------------000703050007030604050906&quot;\r\nX-Source-IP: userv0021.oracle.com [156.151.31.71]\r\nSubject: Re: [junit] Custom classloader\r\nX-Yahoo-Group-Post: member; u=441293675; y=FZV6Mxt9CapLDh-_-NYWA0ksW22MhnlACU8sqsx8Kac9pQ\r\nX-Yahoo-Profile: bs00011\r\nFrom: Bill Shannon &lt;bill.shannon@...&gt;\r\n\r\n\r\n--------------000703050007030604050906\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: 8bit\r\n\r\nRight, even though they&#39;re probably loaded in a ClassLoader that JUnit is using,\nthey&#39;re also loaded in a ClassLoader I create, along with other classes being\ntested.  My ClassLoader loads its own classes in preference to its parent&#39;s\nclasses, which is the opposite of what&#39;s normally done.  It&#39;s kind of a cheat\nthe way it finds the classpath entries to create the ClassLoader, but it works\nfor my cases - JUnit run by Maven.\n\nJohannes Ernst johannes.ernst@... [junit] wrote on 05/19/2015 02:37 PM:\n&gt;  \n&gt;\n&gt; How sneaky! I didn’t think of that approach. You basically ignore the classes\n&gt; that junit handed you, and load them yourself?\n&gt;\n&gt;\n&gt;&gt; On May 19, 2015, at 13:53, Bill Shannon bill.shannon@...\n&gt;&gt; &lt;mailto:bill.shannon@...&gt; [junit] &lt;junit@yahoogroups.com\n&gt;&gt; &lt;mailto:junit@yahoogroups.com&gt;&gt; wrote:\n&gt;&gt;\n&gt;&gt; I created a ClassLoaderSuite\n&gt;&gt; &lt;https://java.net/projects/javamail/sources/mercurial/content/mail/src/test/java/com/sun/mail/test/ClassLoaderSuite.java&gt; to\n&gt;&gt; do this for JavaMail testing several years ago.\n&gt;&gt;\n&gt;&gt; David Saff saff@... [junit] wrote on 05/19/15 11:01:\n&gt;&gt;\n&gt;&gt;&gt;  \n&gt;&gt;&gt; You should be able to do it with a custom Runner.  As Aaron pointed out,\n&gt;&gt;&gt; Robolectric does it, and I&#39;d definitely recommend poking around their code a\n&gt;&gt;&gt; bit.  I don&#39;t think any patches to JUnit should be necessary.\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Tue, May 19, 2015 at 7:11 AM, Malte\n&gt;&gt;&gt; Finsterwalder malte@...\n&gt;&gt;&gt; &lt;mailto:malte@...&gt; [junit] &lt;junit@yahoogroups.com\n&gt;&gt;&gt; &lt;mailto:junit@yahoogroups.com&gt;&gt; wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;      \n&gt;&gt;&gt;     Hi Johannes,\n&gt;&gt;&gt;\n&gt;&gt;&gt;     I&#39;m totally on Dawids side: Why do you need custom classloading?\n&gt;&gt;&gt;     On the other hand, if you really, really need it, you may be able to\n&gt;&gt;&gt;     realize it by wrapping surefire or JUnit (or both) somehow. And there is\n&gt;&gt;&gt;     always bytecode-manipulation. :-)\n&gt;&gt;&gt;     But then again: JUnit is no magic. You could even write your own very\n&gt;&gt;&gt;     simple test execution framework for your particular problem. And you\n&gt;&gt;&gt;     could even base it on JUnits capabilities.\n&gt;&gt;&gt;     Just to spray some more ideas...\n&gt;&gt;&gt;\n&gt;&gt;&gt;     Greetings,\n&gt;&gt;&gt;        Malte\n&gt;&gt;&gt;     ​\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt; \n\n\r\n--------------000703050007030604050906\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: 8bit\r\n\r\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta content=&quot;text/html; charset=UTF-8&quot; http-equiv=&quot;Content-Type&quot;&gt;\n  &lt;/head&gt;\n  &lt;body bgcolor=&quot;#FFFFFF&quot; text=&quot;#000000&quot;&gt;\n    &lt;div class=&quot;moz-cite-prefix&quot;&gt;Right, even though they&#39;re probably\n      loaded in a ClassLoader that JUnit is using, they&#39;re also loaded\n      in a ClassLoader I create, along with other classes being tested. \n      My ClassLoader loads its own classes in preference to its parent&#39;s\n      classes, which is the opposite of what&#39;s normally done.  It&#39;s kind\n      of a cheat the way it finds the classpath entries to create the\n      ClassLoader, but it works for my cases - JUnit run by Maven.&lt;br&gt;\n      &lt;br&gt;\n      Johannes Ernst &lt;a class=&quot;moz-txt-link-abbreviated&quot; href=&quot;mailto:johannes.ernst@...&quot;&gt;johannes.ernst@...&lt;/a&gt; [junit] wrote on\n      05/19/2015 02:37 PM:&lt;br&gt;\n    &lt;/div&gt;\n    &lt;blockquote\n      cite=&quot;mid:4CE2751B-923C-49A5-91A1-8D61C0D9739A@...&quot;\n      type=&quot;cite&quot;&gt; &lt;span style=&quot;display:none&quot;&gt; &lt;/span&gt;\n      \n          &lt;div id=&quot;ygrp-text&quot;&gt;\n            &lt;p&gt;How sneaky! I didn’t think of that approach. You\n              basically ignore the classes that junit handed you, and\n              load them yourself?&lt;/p&gt;\n            &lt;div class=&quot;&quot;&gt;&lt;br class=&quot;&quot;&gt;\n              &lt;div&gt;\n                &lt;blockquote type=&quot;cite&quot; class=&quot;&quot;&gt;\n                  &lt;div class=&quot;&quot;&gt;On May 19, 2015, at 13:53, Bill Shannon\n                    &lt;a moz-do-not-send=&quot;true&quot;\n                      href=&quot;mailto:bill.shannon@...&quot; class=&quot;&quot;&gt;bill.shannon@...&lt;/a&gt;\n                    [junit] &lt;&lt;a moz-do-not-send=&quot;true&quot;\n                      href=&quot;mailto:junit@yahoogroups.com&quot; class=&quot;&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt;\n                    wrote:&lt;/div&gt;\n                  &lt;br class=&quot;Apple-interchange-newline&quot;&gt;\n                  &lt;div class=&quot;&quot;&gt;\n                    &lt;div id=&quot;ygrp-mlmsg&quot; style=&quot;font-size:\n                      13px;font-family: Arial, helvetica, clean,\n                      sans-serif;font-style: normal;font-variant:\n                      normal;font-weight: normal;letter-spacing:\n                      normal;text-align: start;text-indent:\n                      0px;text-transform: none;white-space: normal;&quot;\n                      class=&quot;&quot;&gt;\n                      &lt;div id=&quot;ygrp-msg&quot; class=&quot;&quot;&gt;\n                        &lt;div id=&quot;ygrp-text&quot; style=&quot;font-family:\n                          Georgia;&quot; class=&quot;&quot;&gt;\n                          &lt;p style=&quot;margin: 0px 0px 1em;&quot; class=&quot;&quot;&gt;I\n                            created a&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;&lt;a\n                              moz-do-not-send=&quot;true&quot;\nhref=&quot;https://java.net/projects/javamail/sources/mercurial/content/mail/src/test/java/com/sun/mail/test/ClassLoaderSuite.java&quot;\n                              style=&quot;font-family: Verdana;&quot; class=&quot;&quot;&gt;ClassLoaderSuite&lt;/a&gt;&lt;span\n                              class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;to\n                            do this for JavaMail testing several years\n                            ago.&lt;br class=&quot;&quot;&gt;\n                            &lt;br class=&quot;&quot;&gt;\n                            David Saff&lt;span\n                              class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;&lt;a\n                              moz-do-not-send=&quot;true&quot;\n                              class=&quot;moz-txt-link-abbreviated&quot;\n                              href=&quot;mailto:saff@...&quot;\n                              style=&quot;font-family: Verdana;&quot;&gt;saff@...&lt;/a&gt;&lt;span\n                              class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;[junit]\n                            wrote on 05/19/15 11:01:&lt;/p&gt;\n                          &lt;blockquote\ncite=&quot;mid:CALrw-PxDQ7Ef63yrWU_+6ftaCfAhFYwZaBjsqPNxX1eUj8WzQw@...&quot;\n                            type=&quot;cite&quot; style=&quot;margin: 0px 0px 0px 4px;&quot;\n                            class=&quot;&quot;&gt;&lt;span class=&quot;&quot;&gt; &lt;/span&gt;\n                            &lt;div id=&quot;ygrp-text&quot; style=&quot;font-family:\n                              Georgia;&quot; class=&quot;&quot;&gt;\n                              &lt;div dir=&quot;ltr&quot; class=&quot;&quot;&gt;You should be able\n                                to do it with a custom Runner.  As Aaron\n                                pointed out, Robolectric does it, and\n                                I&#39;d definitely recommend poking around\n                                their code a bit.  I don&#39;t think any\n                                patches to JUnit should be necessary.&lt;/div&gt;\n                              &lt;div class=&quot;gmail_extra&quot;&gt;&lt;br class=&quot;&quot;&gt;\n                                &lt;div class=&quot;gmail_quote&quot;&gt;On Tue, May 19,\n                                  2015 at 7:11 AM, Malte Finsterwalder&lt;span\n                                    class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;&lt;a\n                                    moz-do-not-send=&quot;true&quot; moz=&quot;true&quot;\n                                    href=&quot;mailto:malte@...&quot;\n                                    class=&quot;&quot;&gt;malte@...&lt;/a&gt;&lt;span\n                                    class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;[junit]&lt;span\n                                    class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;&lt;span\n                                    dir=&quot;ltr&quot; class=&quot;&quot;&gt;&lt;&lt;a\n                                      moz-do-not-send=&quot;true&quot; moz=&quot;true&quot;\nhref=&quot;mailto:junit@yahoogroups.com&quot; target=&quot;_blank&quot; class=&quot;&quot;&gt;junit@yahoogroups.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;span\n                                    class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;wrote:&lt;br\n                                    class=&quot;&quot;&gt;\n                                  &lt;blockquote class=&quot;gmail_quote&quot;\n                                    style=&quot;margin: 0px 0px 0px\n                                    4px;border-left-width:\n                                    1px;border-left-color: rgb(204, 204,\n                                    204);border-left-style: solid;&quot;&gt;\n                                    &lt;div style=&quot;background-color:\n                                      rgb(255, 255, 255);&quot; class=&quot;&quot;&gt;&lt;span\n                                        class=&quot;&quot;&gt; &lt;/span&gt;\n                                      &lt;div class=&quot;&quot;&gt;\n                                        &lt;div class=&quot;&quot;&gt;\n                                          &lt;div class=&quot;&quot;&gt;\n                                            &lt;div dir=&quot;ltr&quot; class=&quot;&quot;&gt;Hi\n                                              Johannes,\n                                              &lt;div class=&quot;&quot;&gt;&lt;br class=&quot;&quot;&gt;\n                                              &lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;I&#39;m totally\n                                                on Dawids side: Why do\n                                                you need custom\n                                                classloading?&lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;On the other\n                                                hand, if you really,\n                                                really need it, you may\n                                                be able to realize it by\n                                                wrapping surefire or\n                                                JUnit (or both) somehow.\n                                                And there is always\n                                                bytecode-manipulation.\n                                                :-)&lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;But then\n                                                again: JUnit is no\n                                                magic. You could even\n                                                write your own very\n                                                simple test execution\n                                                framework for your\n                                                particular problem. And\n                                                you could even base it\n                                                on JUnits capabilities.&lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;Just to\n                                                spray some more ideas...&lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;&lt;br class=&quot;&quot;&gt;\n                                              &lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;Greetings,&lt;/div&gt;\n                                              &lt;div class=&quot;&quot;&gt;   Malte&lt;/div&gt;\n                                              ​&lt;/div&gt;\n                                          &lt;/div&gt;\n                                        &lt;/div&gt;\n                                      &lt;/div&gt;\n                                    &lt;/div&gt;\n                                  &lt;/blockquote&gt;\n                                &lt;/div&gt;\n                                &lt;br class=&quot;&quot;&gt;\n                              &lt;/div&gt;\n                            &lt;/div&gt;\n                          &lt;/blockquote&gt;\n                          &lt;br class=&quot;&quot;&gt;\n                          &lt;div style=&quot;margin: 0px 0px 1em;&quot; class=&quot;&quot;&gt;&lt;br\n                              class=&quot;webkit-block-placeholder&quot;&gt;\n                          &lt;/div&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/blockquote&gt;\n              &lt;/div&gt;\n              &lt;br class=&quot;&quot;&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          \n      \n      &lt;!-- end group email --&gt;\n    &lt;/blockquote&gt;\n    &lt;br&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\r\n--------------000703050007030604050906--\r\n\n", 
    "profile": "bs00011", 
    "topicId": 24651, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 441293675, 
    "prevInTime": 24663, 
    "contentTrasformed": false, 
    "postDate": "1432095468", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24663, 
    "headers": {
        "inReplyToHeader": "PDRDRTI3NTFCLTkyM0MtNDlBNS05MUExLThENjFDMEQ5NzM5QUBnbWFpbC5jb20+", 
        "messageIdInHeader": "PDU1NUMwQUVDLjgwMTAzMDVAb3JhY2xlLmNvbT4=", 
        "referencesHeader": "PG1qM2V1YStqZ3Z2bGRAWWFob29Hcm91cHMuY29tPiA8Q0FNWmVjWG01b1ptS0hYc2RkNzB3Wk9nS3E4KzBGNUVpdnk1Q1pRZzFSeVlVcFVvZlFRQG1haWwuZ21haWwuY29tPiA8QjU0NzgxRTYtQUZBRC00NjlGLTg5QjEtMUI3NDg5QTI3OTEzQGdtYWlsLmNvbT4gPENBTTIxUnQ5WFF5QVhwaG92cD1jRWJLZVlSZ3gxPXRzMGZXb01WTzJlMUcyX0tDZXdxd0BtYWlsLmdtYWlsLmNvbT4gPENBTFMxMi1QaWQzVS1qWnZyLTZiSmU4WjgxUll2TWF5d05EdmJkNU9MVlZQa21oPXFkUUBtYWlsLmdtYWlsLmNvbT4gPENBTHJ3LVB4RFE3RWY2M3lyV1VfKzZmdGFDZkFoRll3WmFCanNxUE54WDFlVWo4V3pRd0BtYWlsLmdtYWlsLmNvbT4gPDU1NUJBMkI5LjEwODA0MDZAb3JhY2xlLmNvbT4gPDRDRTI3NTFCLTkyM0MtNDlBNS05MUExLThENjFDMEQ5NzM5QUBnbWFpbC5jb20+"
    }
}