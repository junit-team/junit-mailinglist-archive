{
    "numMessagesInTopic": 26, 
    "nextInTime": 22538, 
    "senderId": "fUcoRvtFlCsaZG9ioJQmAp2bveCMmmKJb_Lq7zYUgYEPJxx0WxRacCuhKWUzo97x46pW06YWhW10SvOGf_HcspkYD40", 
    "systemMessage": false, 
    "subject": "Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "&quot;Gary&quot; &lt;gary@...&gt;", 
    "authorName": "Gary", 
    "msgSnippet": "So, summarizing the proposed solutions: - Add an element to @Rule, for example @Rule(beforeClass=true) - Add a new rule that is initialized before", 
    "msgId": 22537, 
    "rawEmail": "Return-Path: &lt;gary@...&gt;\r\nReceived: (qmail 35791 invoked by uid 7800); 11 Mar 2010 20:17:00 -0000\r\nX-Sender: gary@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 91554 invoked from network); 11 Mar 2010 19:56:22 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m10.grp.re1.yahoo.com with QMQP; 11 Mar 2010 19:56:22 -0000\r\nX-Received: from unknown (HELO n4-vm6.bullet.mail.sp2.yahoo.com) (67.195.135.100)\n  by mta1.grp.sp2.yahoo.com with SMTP; 11 Mar 2010 19:56:22 -0000\r\nX-Received: from [67.195.134.239] by n4.bullet.mail.sp2.yahoo.com with NNFMP; 11 Mar 2010 19:55:47 -0000\r\nX-Received: from [69.147.65.173] by t4.bullet.mail.sp2.yahoo.com with NNFMP; 11 Mar 2010 19:55:47 -0000\r\nX-Received: from [98.137.34.34] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 11 Mar 2010 19:55:47 -0000\r\nDate: Thu, 11 Mar 2010 19:55:47 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hnbhs3+fg0d@...&gt;\r\nIn-Reply-To: &lt;EFD8674C-E855-43A1-9D39-B24B770439C6@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Gary&quot; &lt;gary@...&gt;\r\nSubject: Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=406321433; y=welOwL_BclmWww06EUwcuBoZxp2l4T4iPPR-kqX1Hz5pN-4ITyaZMCU\r\nX-Yahoo-Profile: gary_d_gregory\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 11 Mar 2010 20:17:00 -0000\r\n\r\nSo, summarizing the proposed solutions:\n\n- Add an element to @Rule, for exa=\r\nmple @Rule(beforeClass=3Dtrue)\n\n- Add a new rule that is initialized before=\r\n @BeforeClass, for example @ClassRule\n\n- Reuse an existing annotation or el=\r\nement and use it with @Rule, for example:\n   @Rule @BeforeClass public stat=\r\nic TemporaryFolder testFolder =3D new TemporaryFolder();\n\n- Other?\n\nPlease =\r\nchime in.\n\nGary\n--- In junit@yahoogroups.com, Kent Beck &lt;kentb@...&gt; wrote:\n=\r\n&gt;\n&gt; This is an interesting design tradeoff. I don&#39;t like implicit magic but=\r\n I also don&#39;t like creating new elements (like the &quot;beforeClass =3D true&quot;) =\r\nif I can reuse existing elements. When I saw the &quot;@Rule static...&quot; I immedi=\r\nately knew what was wrong, so I find it understandable that static variable=\r\ns containing rules are only executed once. (By symmetry, I suppose &quot;@Before=\r\n static void...&quot; should be a synonym for @BeforeClass.) In the end, though,=\r\n my opinion of what is obvious is less important than y&#39;all&#39;s. Chime in if =\r\nyou want to be heard.\n&gt; \n&gt; Kent\n&gt; \n&gt; On Mar 9, 2010, at 3:02 PM, yme0987654=\r\n321 wrote:\n&gt; \n&gt; &gt; I&#39;m all for a Rule before the class is run, but I think i=\r\nt is way to gimmicky and obscure to hang that on if the variable is declare=\r\nd static.\n&gt; &gt; \n&gt; &gt; I would instead think that the @Rule should have a metho=\r\nd which indicates if it is before the class or before the test, and then ha=\r\nve it validated if the @Rule is on a static or instance variable, as approp=\r\nriate.\n&gt; &gt; \n&gt; &gt; Something like:\n&gt; &gt; \n&gt; &gt; @Rule(beforeClass =3D true)\n&gt; &gt; pu=\r\nblic static TemporaryFolder testFolder =3D new TemporaryFolder();\n&gt; &gt; \n&gt; &gt; =\r\n--- In junit@yahoogroups.com, Kent Beck &lt;kentb@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Hmmm...=\r\n I don&#39;t think we ever tried @Rule on a static variable before. I&#39;m not eve=\r\nn sure what they mean. Rules are inserted before an individual test is run.=\r\n Should static rules be inserted before the class is run or before each ind=\r\nividual test? Before the class is run, I&#39;m thinking. Opinions?\n&gt; &gt; &gt; \n&gt; &gt; &gt;=\r\n Kent\n&gt; &gt; &gt; \n&gt; &gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:\n&gt; &gt; &gt; =\r\n\n&gt; &gt; &gt; &gt; @Rule objects are not initialized before @BeforeClass methods are =\r\ncalled. Is this by design or a bug? \n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; For example:\n&gt; &gt; &gt; &gt; =\r\n\n&gt; &gt; &gt; &gt; package test;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; import java.io.File;\n&gt; &gt; &gt; &gt; import=\r\n java.io.IOException;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; import junit.framework.Assert;\n&gt; &gt; &gt;=\r\n &gt; \n&gt; &gt; &gt; &gt; import org.junit.BeforeClass;\n&gt; &gt; &gt; &gt; import org.junit.Rule;\n&gt; =\r\n&gt; &gt; &gt; import org.junit.Test;\n&gt; &gt; &gt; &gt; import org.junit.rules.TemporaryFolder=\r\n;\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {\n&gt; &gt; &gt; &gt; @R=\r\nule\n&gt; &gt; &gt; &gt; public static TemporaryFolder testFolder =3D new TemporaryFolde=\r\nr();\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; @BeforeClass\n&gt; &gt; &gt; &gt; public static void testInTempFol=\r\nder() throws IOException {\n&gt; &gt; &gt; &gt; File tempFile =3D testFolder.newFile(&quot;fi=\r\nle.txt&quot;);\n&gt; &gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;folder&quot;);\n&gt; &gt; &gt;=\r\n &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());\n&gt; &gt; &gt; &gt; // t=\r\nest\n&gt; &gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; \n=\r\n&gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; public void test() {\n&gt; &gt; &gt; &gt; // noop\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; =\r\n&gt; }\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Having the TemporaryFolder Rule declared as static is =\r\nOK as this example test shows:\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; public class TestTemporaryF=\r\nolderRuleStatic {\n&gt; &gt; &gt; &gt; @Rule\n&gt; &gt; &gt; &gt; public static TemporaryFolder testF=\r\nolder =3D new TemporaryFolder();\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; public void=\r\n testInTempFolder() throws IOException {\n&gt; &gt; &gt; &gt; File tempFile =3D testFold=\r\ner.newFile(&quot;file.txt&quot;);\n&gt; &gt; &gt; &gt; File tempFolder =3D testFolder.newFolder(&quot;f=\r\nolder&quot;);\n&gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot())=\r\n;\n&gt; &gt; &gt; &gt; // test\n&gt; &gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());\n&gt; &gt; &gt;=\r\n &gt; }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; How can @Rules be used from @BeforeClass? \n=\r\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; Calling TemporaryFolder.create() would work only for Tempo=\r\nraryFolder and not Rules in general but would be against the advice of crea=\r\nte method Javadoc.\n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; [Non-text p=\r\nortions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt; \n&gt; &gt; \n&gt; \n&gt; \n&gt; \n&gt; [Non-=\r\ntext portions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "gary_d_gregory", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 406321433, 
    "prevInTime": 22536, 
    "contentTrasformed": false, 
    "postDate": "1268337347", 
    "canDelete": false, 
    "nextInTopic": 22556, 
    "prevInTopic": 22533, 
    "headers": {
        "inReplyToHeader": "PEVGRDg2NzRDLUU4NTUtNDNBMS05RDM5LUIyNEI3NzA0MzlDNkBlYXJ0aGxpbmsubmV0Pg==", 
        "messageIdInHeader": "PGhuYmhzMytmZzBkQGVHcm91cHMuY29tPg=="
    }
}