{
    "numMessagesInTopic": 26, 
    "nextInTime": 22531, 
    "senderId": "m8jCp0wxEm68OlWXl0HfXT8ImLOj8jk4UEL59W0dZCp-JST1ACa35c86rSF_0UWlVNZhxxfP7cWp05LM4TIHJJvp", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "On Wed, Mar 10, 2010 at 11:40 AM, Forsberg, Mike ... Quite possibly.  I can imagine creating a @ParameterSetRule annotation to the Parameterized runner to", 
    "msgId": 22530, 
    "profile": "dsaff", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1541915423\">On Wed, Mar 10, 2010 at 11:40 AM, Forsberg, Mike<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mike.forsberg@...\">mike.forsberg@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Not sure if this applies,  it just popped into my head.  Since this is a brain storming session, I wanted to chime in.<br/>\n&gt;<br/>\n&gt; Would there be a case for @Rule to be added to Parameterized instances.  The reason I asked this, back in the day when I could contribute, I suggested/submitted a patch for @BeforeParameterized @AfterParameterized. (Issue 45)  My mind just associated the two after seeing the discussion of Rules for Suites.<br/>\n&gt;<br/>\n&gt; This makes me think that each unit test and grouping of unit test needs some things... setup, tear down, assertions, and invariants.  It may be the case that all groupings of units needs to have these things.  Thus if you group at the Suite, Parameter, Class all things need to be present.<br/>\n&gt;<br/>\n&gt; Am I making sense?<br/>\n<br/>\n </span></blockquote>Quite possibly.  I can imagine creating a @ParameterSetRule annotation<br/>\nto the Parameterized runner to complete the symmetry.<br/>\n<br/>\n   David<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt;<br/>\n&gt; Big Mike<br/>\n&gt;<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of David Saff<br/>\n&gt; Sent: Wednesday, March 10, 2010 8:22 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Unfortunately, the same class can&#39;t be both an annotation and a type.<br/>\n&gt; Further suggestions?<br/>\n&gt;<br/>\n&gt; David<br/>\n&gt;<br/>\n&gt; On Tue, Mar 9, 2010 at 11:04 PM, Gary &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:gary@...\">gary@...</a>&lt;mailto:gary%40garygregory.com&gt;&gt; wrote:<br/>\n&gt;&gt; WRT: @RuleOnClass public static ClassRule...<br/>\n&gt;&gt;<br/>\n&gt;&gt; @ClassRule public static ClassRule...<br/>\n&gt;&gt;<br/>\n&gt;&gt; @ClassRule reads better to me than @RuleOnClass<br/>\n&gt;&gt;<br/>\n&gt;&gt; and the symmetry with @Before/@BeforeClass is nice.<br/>\n&gt;&gt;<br/>\n&gt;&gt; Gary<br/>\n&gt;&gt;<br/>\n&gt;&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&lt;mailto:junit%40yahoogroups.com&gt;, David Saff &lt;david@...&gt; wrote:<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; On Tue, Mar 9, 2010 at 8:08 PM, Kent Beck &lt;kentb@...&gt; wrote:<br/>\n&gt;&gt;&gt; &gt; This is an interesting design tradeoff. I don&#39;t like implicit magic but I also don&#39;t like creating new elements (like the &quot;beforeClass = true&quot;) if I can reuse existing elements. When I saw the &quot;@Rule static...&quot; I immediately knew what was wrong, so I find it understandable that static variables containing rules are only executed once. (By symmetry, I suppose &quot;@Before static void...&quot; should be a synonym for @BeforeClass.)<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; Or, by (almost) symmetry, the following?<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; @Before public void...<br/>\n&gt;&gt;&gt; @After public void...<br/>\n&gt;&gt;&gt; @Rule public MethodRule...<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; @BeforeClass public static void...<br/>\n&gt;&gt;&gt; @AfterClass public static void...<br/>\n&gt;&gt;&gt; @RuleOnClass public static ClassRule...<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; In the end, though, my opinion of what is obvious is less important<br/>\n&gt;&gt;&gt; than y&#39;all&#39;s. Chime in if you want to be heard.<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; Kent<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; On Mar 9, 2010, at 3:02 PM, yme0987654321 wrote:<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; I&#39;m all for a Rule before the class is run, but I think it is way to gimmicky and obscure to hang that on if the variable is declared static.<br/>\n&gt;&gt;&gt; &gt;&gt;<br/>\n&gt;&gt;&gt; &gt;&gt; I would instead think that the @Rule should have a method which indicates if it is before the class or before the test, and then have it validated if the @Rule is on a static or instance variable, as appropriate.<br/>\n&gt;&gt;&gt; &gt;&gt;<br/>\n&gt;&gt;&gt; &gt;&gt; Something like:<br/>\n&gt;&gt;&gt; &gt;&gt;<br/>\n&gt;&gt;&gt; &gt;&gt; @Rule(beforeClass = true)<br/>\n&gt;&gt;&gt; &gt;&gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt;&gt;&gt; &gt;&gt;<br/>\n&gt;&gt;&gt; &gt;&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&lt;mailto:junit%40yahoogroups.com&gt;, Kent Beck &lt;kentb@&gt; wrote:<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a static variable before. I&#39;m not even sure what they mean. Rules are inserted before an individual test is run. Should static rules be inserted before the class is run or before each individual test? Before the class is run, I&#39;m thinking. Opinions?<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; Kent<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; On Mar 9, 2010, at 9:43 AM, gary_d_gregory wrote:<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; @Rule objects are not initialized before @BeforeClass methods are called. Is this by design or a bug?<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; For example:<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; package test;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import java.io.File;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import java.io.IOException;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import junit.framework.Assert;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.BeforeClass;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.Rule;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.Test;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; import org.junit.rules.TemporaryFolder;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; @Rule<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; @BeforeClass<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public static void testInTempFolder() throws IOException {<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; // test<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; @Test<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public void test() {<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; // noop<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; Having the TemporaryFolder Rule declared as static is OK as this example test shows:<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public class TestTemporaryFolderRuleStatic {<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; @Rule<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public static TemporaryFolder testFolder = new TemporaryFolder();<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; @Test<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; public void testInTempFolder() throws IOException {<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; File tempFile = testFolder.newFile(&quot;file.txt&quot;);<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; File tempFolder = testFolder.newFolder(&quot;folder&quot;);<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFolder.getRoot());<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; // test<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot());<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; }<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; How can @Rules be used from @BeforeClass?<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt; Calling TemporaryFolder.create() would work only for TemporaryFolder and not Rules in general but would be against the advice of create method Javadoc.<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;&gt;<br/>\n&gt;&gt;&gt; &gt;&gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; ------------------------------------<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; ------------------------------------<br/>\n&gt;&gt;<br/>\n&gt;&gt; Yahoo! Groups Links<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22529, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1268239931", 
    "canDelete": false, 
    "nextInTopic": 22531, 
    "prevInTopic": 22529, 
    "headers": {
        "inReplyToHeader": "PDRBN0M3MTFGMDAyRTkyNDM5NjcxRkYwQzI1Q0Q5RDM1MkQwMTc0NzBAVkFVU0VYTUJYUDEuZ2ZvdW5kcmllcy5jb20+", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMzEwMDg1MnQzZWU3MTUyN3JlM2JmNjNjMzM2ZTU2Mjc1QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDRmN2RhNmI5MTAwMzA5MTc0N2o2Y2FiZGY5Ymk4MWFkMzBlODFmN2QwOTRAbWFpbC5nbWFpbC5jb20+CSA8aG43NW80K25sNzFAZUdyb3Vwcy5jb20+CSA8NGY3ZGE2YjkxMDAzMTAwNjIxcTMyN2QwMDExeDgyMmJkMjdhYTUyMzYzOWVAbWFpbC5nbWFpbC5jb20+CSA8NEE3QzcxMUYwMDJFOTI0Mzk2NzFGRjBDMjVDRDlEMzUyRDAxNzQ3MEBWQVVTRVhNQlhQMS5nZm91bmRyaWVzLmNvbT4="
    }
}