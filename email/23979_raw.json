{
    "topicId": 23967, 
    "postDate": "1346859720", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "Brett Delle Grazie &lt;bdellegrazie@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "7d68OFTtYa7G63BWUuCjylAqDa2BpQyGB__45k41sHUado0nmeYyvZEbfd3V7sJSTUChPnU0dvkNumdlgQrzY1Fir-l2uR_rfLBEQczNFKE", 
    "nextInTime": 23980, 
    "userId": 79191679, 
    "prevInTime": 23978, 
    "prevInTopic": 23978, 
    "headers": {
        "inReplyToHeader": "PENBSzhqdnF6Yl9hQmNrZVY1NFBjTmcyYmJOV1ErRjJOYUNhPVB5QzZzTVhUS0VheEtlQUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBQ0xEMD03ajM3Z0YrZTFkMV9CeDZma29vdVFBTEZXVC1HazRuTGlrMEhiZ0ZFSit3QUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQ0xEMD02eERHZ3B4RWFiK00yaFlDRnlEd3VDVVNnLXF5YS1MQ1lxanhjOU9abXpKQUBtYWlsLmdtYWlsLmNvbT4JPENBSzhqdnF6Yl9hQmNrZVY1NFBjTmcyYmJOV1ErRjJOYUNhPVB5QzZzTVhUS0VheEtlQUBtYWlsLmdtYWlsLmNvbT4="
    }, 
    "authorName": "Brett Delle Grazie", 
    "numMessagesInTopic": 12, 
    "msgSnippet": "... Hi Mirko, No, commons-logging is explicitly excluded. The problem is definitely due to parallelism configuration. Disabling parallelism via none in maven", 
    "contentTrasformed": false, 
    "msgId": 23979, 
    "nextInTopic": 23980, 
    "systemMessage": true, 
    "rawEmail": "Return-Path: &lt;brett.dellegrazie@...&gt;\r\nReceived: (qmail 70467 invoked from network); 5 Sep 2012 15:51:54 -0000\r\nReceived: from unknown (98.137.35.162)\n  by m11.grp.sp2.yahoo.com with QMQP; 5 Sep 2012 15:51:54 -0000\r\nReceived: from unknown (HELO ng3-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.94)\n  by mta6.grp.sp2.yahoo.com with SMTP; 5 Sep 2012 15:51:54 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1346860313; bh=1K9MNqIA1KUb10oAjmsSMeApbjfv4VVIleLIMVYpKvY=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:X-Received:In-Reply-To:References:Date:Message-ID:To:Content-Type:X-Originating-IP:X-eGroups-Msg-Info:X-eGroups-From:From:Reply-To:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=nVT0+G86KR8LHTWGz0cX4EbWC2Cjpe3p5DPPqZCD8Ku8D3LEOkRpM/oWpyrpqNqP1XMk96PaRmE3JzVh5Nohuy5KWcTPy1UIlSdNNqgI02WiP6rSsUG7Pb56aNV5AX6i\r\nReceived: from [98.138.217.179] by ng3.bullet.mail.ne1.yahoo.com with NNFMP; 05 Sep 2012 15:51:53 -0000\r\nReceived: from [98.137.34.36] by tg4.bullet.mail.ne1.yahoo.com with NNFMP; 05 Sep 2012 15:51:53 -0000\r\nX-Sender: brett.dellegrazie@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 21784 invoked from network); 5 Sep 2012 15:42:01 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m7.grp.sp2.yahoo.com with QMQP; 5 Sep 2012 15:42:01 -0000\r\nX-Received: from unknown (HELO mail-ob0-f180.google.com) (209.85.214.180)\n  by mta3.grp.sp2.yahoo.com with SMTP; 5 Sep 2012 15:42:01 -0000\r\nX-Received: by obceq6 with SMTP id eq6so672013obc.39\n        for &lt;junit@yahoogroups.com&gt;; Wed, 05 Sep 2012 08:42:00 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.60.7.230 with SMTP id m6mr10040473oea.41.1346859720896; Wed,\n 05 Sep 2012 08:42:00 -0700 (PDT)\r\nX-Received: by 10.76.69.168 with HTTP; Wed, 5 Sep 2012 08:42:00 -0700 (PDT)\r\nIn-Reply-To: &lt;CAK8jvqzb_aBckeV54PcNg2bbNWQ+F2NaCa=PyC6sMXTKEaxKeA@...&gt;\r\nReferences: &lt;CACLD0=6xDGgpxEab+M2hYCFyDwuCUSg-qya-LCYqjxc9OZmzJA@...&gt;\n\t&lt;CAK8jvqzb_aBckeV54PcNg2bbNWQ+F2NaCa=PyC6sMXTKEaxKeA@...&gt;\r\nDate: Wed, 5 Sep 2012 16:42:00 +0100\r\nMessage-ID: &lt;CACLD0=7j37gF+e1d1_Bx6fkoouQALFWT-Gk4nLik0HbgFEJ+wA@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nX-eGroups-From: Brett Delle Grazie &lt;brett.dellegrazie@...&gt;\r\nFrom: Brett Delle Grazie &lt;bdellegrazie@...&gt;\r\nReply-To: bdellegrazie@...\r\nSubject: Re: [junit] Tests starting before Logback initialisation complete\n when run in parallel\r\nX-Yahoo-Group-Post: member; u=79191679\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 05 Sep 2012 15:51:53 -0000\r\n\r\nOn 5 September 2012 15:41, Mirko Friedenhagen &lt;mfriedenhagen@...&gt; wrote:\n&gt; Hello,\n&gt;\n&gt; wild guess: do you have both commons-logging as well as jcl-over-slf4j in\n&gt; your test class path?\n\nHi Mirko,\nNo, commons-logging is explicitly excluded. The problem is definitely\ndue to parallelism\nconfiguration. Disabling parallelism via &#39;none&#39; in maven resolves the\nissue but obviously\nexecutes the tests slower.\n\nEssentially what happens is Logback is still executing its\nauto-initialisation while some\ntests start to write to the logs resulting in lost log information.\n\nAs noted by another post in this thread, I&#39;ll have to serialise the\ninitialisation explicitly.\n\nThanks,\n\nBrett\n&gt;\n&gt; Regards Mirko\n&gt;\n&gt; On Mon, Sep 3, 2012 at 9:51 PM, Brett Delle Grazie &lt;bdellegrazie@...&gt;wrote:\n&gt;\n&gt;&gt; **\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Hi,\n&gt;&gt;\n&gt;&gt; I&#39;m using JUnit 4.10 with Maven 3.0.4, Surefire 2.12.3, JDK 1.6.0_35\n&gt;&gt; on Windows 7\n&gt;&gt; Surefire is configured with parallel=methods and threadCount=10\n&gt;&gt; For logging, I&#39;m using SLF4J to Logback, initialised by default method\n&gt;&gt; (i.e. configuration file logback-test.xml is on the test classpath)\n&gt;&gt;\n&gt;&gt; I have an order of initialisation problem in that:\n&gt;&gt; (1) Some unit tests test classes that use commons-logging (and logback\n&gt;&gt; via jcl-slf4j) but are ending up with\n&gt;&gt; Null loggers.\n&gt;&gt; (2) jcl-slf4j is not initialised _until_ those classes are called.\n&gt;&gt;\n&gt;&gt; If I disable parallelism the code works correctly, implying an order\n&gt;&gt; of initialisation issue.\n&gt;&gt;\n&gt;&gt; According to the most recent FAQ on Junit.org (Section 5, #3) I could\n&gt;&gt; use @BeforeClass and @AfterClass at the class\n&gt;&gt; level but I&#39;m talking about at the global level, something that needs\n&gt;&gt; to be executed even if only a single test is run.\n&gt;&gt;\n&gt;&gt; What is the correct method to add global, one-time, setup / tear-down\n&gt;&gt; hooks? In this case they would need to execute and\n&gt;&gt; complete (i.e. blocking) before any parallel tests are run.\n&gt;&gt; Is it simplest to override the Runner and initialise the logging in code\n&gt;&gt; there?\n&gt;&gt;\n&gt;&gt; Thanks,\n&gt;&gt;\n&gt;&gt; Best Regards,\n&gt;&gt;\n&gt;&gt; Brett\n&gt;&gt;\n\n", 
    "subject": "Re: [junit] Tests starting before Logback initialisation complete when run in parallel"
}