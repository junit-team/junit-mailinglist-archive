{
    "numMessagesInTopic": 43, 
    "nextInTime": 19644, 
    "senderId": "CSAm9kVNtsXK5XWDLIvU6xuKiYgDYpLinT9Sqh-HKyee6ievbTJzBemAFs4GoGTQOU7XuWss823boV1SACFezWQB0zORhggA10Q", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing singleton patterns", 
    "from": "Pat Farrell &lt;pfarrell@...&gt;", 
    "authorName": "Pat Farrell", 
    "msgSnippet": "... I m no expert but dependency injection sure looks ugly with all the extra parameters being passed all around with them not being clearly used. Could be", 
    "msgId": 19643, 
    "profile": "pat22043", 
    "topicId": 19636, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 92022818, 
    "messageBody": "<div id=\"ygrps-yiv-509905272\">Cédric Beust ♔ wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; This pattern looks quite inferior to what you can achieve with<br/>\n&gt; dependency injection. What if you can&#39;t create your dependency in<br/>\n&gt; your main class? What if you can but you&#39;d rather do so lazily?<br/>\n<br/>\n </span></blockquote>I&#39;m no expert but dependency injection sure looks ugly with all the <br/>\nextra parameters being passed all around with them not being clearly <br/>\nused. Could be just a style thing.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; This approach also strongly couples the main() method with the<br/>\n&gt; implementation of the singleton you want to pass around, which is very<br/>\n&gt; bad.<br/>\n<br/>\n </span></blockquote>A much more serious problem that I see is that none of the web apps that <br/>\nI&#39;ve written have a main().<br/>\n<br/>\nWhen a JSP page is hit, it invokes a bean, which talks to lots of stuff.<br/>\nThe developer has no control over which bean is fired off first, none <br/>\nhave main(), etc.<br/>\n<br/>\nWhen you want to check something with a lot of state, say the list of <br/>\ncurrent users logged in, you need to access the OneTrueKnowledge.<br/>\nWhether the OneTrueKnowledge class is a singleton itself, or is accessed <br/>\nthough a singleton factory, its isomorphic.<br/>\n<br/>\nClearly testing the factory, or the OneTrueKnowledge class, is fairly <br/>\nstraight forward. At least unit testing is.<br/>\n<br/>\nYou can make it a little more explicit by having a MasterControlProgram <br/>\nsingleton that all factories talk to, but again, this is mostly <br/>\nsyntactic sugar.<br/>\n<br/>\n<br/>\n-- <br/>\nPat Farrell<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.pfarrell.com/\">http://www.pfarrell.com/</a></div>", 
    "prevInTime": 19642, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1185725953", 
    "canDelete": false, 
    "nextInTopic": 19645, 
    "prevInTopic": 19642, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDcwNzI5MDkwM3IzMDM2YjM3MWk1ZTc4YjY0YTg2OTQ1OWQxQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ2QUNCRTAxLjQwNzAzMDFAcGZhcnJlbGwuY29tPg==", 
        "referencesHeader": "PDQ2QUI0MTZDLjIwNDA0MDBAcGZhcnJlbGwuY29tPiA8NDZBQzlBQTUuNzA2MDJAaWxqYXByZXVzcy5kZT4gPGI4NmI2YTljMDcwNzI5MDkwM3IzMDM2YjM3MWk1ZTc4YjY0YTg2OTQ1OWQxQG1haWwuZ21haWwuY29tPg=="
    }
}