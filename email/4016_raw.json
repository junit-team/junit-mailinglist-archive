{
    "numMessagesInTopic": 17, 
    "nextInTime": 4017, 
    "senderId": "PWzer87W8RiRQNtgG-QWKuRSLg5Jld3D8ypdzM0MOUnGfJq32057p_v6zDmEHJsPN8CPEKNVqIsa5v0oeQI9QupUzwGJVtP4oQI", 
    "systemMessage": false, 
    "subject": "RE: [junit] Database Select query checks!! newbie", 
    "from": "&quot;Heath, Joseph&quot; &lt;HeathJ@...&gt;", 
    "authorName": "Heath, Joseph", 
    "msgSnippet": "The only way to really check some SQL code is to put it through an SQL parser (ie a DB) and check it retrieves what you think it retrieves. I never do this", 
    "msgId": 4016, 
    "rawEmail": "Return-Path: &lt;HeathJ@...&gt;\r\nX-Sender: HeathJ@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_2); 12 Feb 2002 09:18:05 -0000\r\nReceived: (qmail 98594 invoked from network); 12 Feb 2002 09:18:05 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m10.grp.snv.yahoo.com with QMQP; 12 Feb 2002 09:18:05 -0000\r\nReceived: from unknown (HELO mail4.messagelabs.com) (212.125.75.12)\n  by mta1.grp.snv.yahoo.com with SMTP; 12 Feb 2002 09:18:04 -0000\r\nX-VirusChecked: Checked\r\nReceived: (qmail 25877 invoked from network); 12 Feb 2002 09:18:03 -0000\r\nReceived: from porgy.logica.co.uk (158.234.250.67)\n  by server-2.tower-4.messagelabs.com with SMTP; 12 Feb 2002 09:18:03 -0000\r\nReceived: from mauchly.logica.co.uk (mauchly.logica.co.uk [158.234.72.16])\n\tby porgy.logica.co.uk (8.9.3/8.9.3/Debian 8.9.3-21) with ESMTP id JAA25610\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 12 Feb 2002 09:18:03 GMT\r\nReceived: by mauchly.logica.co.uk with Internet Mail Service (5.5.2448.0)\n\tid &lt;1R106JST&gt;; Tue, 12 Feb 2002 09:18:01 -0000\r\nMessage-ID: &lt;29776C1F422BD411B868009027E2A9E5011F9239@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Database Select query checks!! newbie\r\nDate: Tue, 12 Feb 2002 09:17:59 -0000\r\nX-Mailer: Internet Mail Service (5.5.2448.0)\r\nFrom: &quot;Heath, Joseph&quot; &lt;HeathJ@...&gt;\r\nX-Yahoo-Group-Post: member; u=71348971\r\nX-Yahoo-Profile: mbcx4jrh\r\n\r\nThe only way to really check some SQL code is to put it through an SQL\nparser (ie a DB) and check it retrieves what you think it retrieves.\nI never do this this myself as most of the SQL I have to deal with just\nbasic CRUD operations.\nI guess what we really need here is a small , in memory database that can be\nrun as part of a test case. That is, the setUp() starts the the DB itself.\n\nAnyone know of such a thing? or want to write one?\n\n&gt; -----Original Message-----\n&gt; From: Mathieu Gervais [mailto:egoine_@...]\n&gt; Sent: 11 February 2002 22:44\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Database Select query checks!! newbie\n&gt; \n&gt; \n&gt; Hi,\n&gt; \n&gt; &gt;There is a line of thought that all you need to do is make \n&gt; sure your SQL\n&gt; &gt;is valid. beyond that you&#39;re testing your database, not your \n&gt; method...\n&gt; \n&gt;  I never got that one. It&#39;s like saying SQL code doesn&#39;t need \n&gt; testing as\n&gt; mush as java code.\n&gt; \n&gt; Programmer A:\n&gt; When I do unit testing, I just run my code in a couple of \n&gt; conditions and\n&gt; look if it&#39;s ok.\n&gt; \n&gt; XPer:\n&gt; You should really program those tests so they are repeatable, \n&gt; fast to run\n&gt; and don&#39;t need any human interaction to verify if they pass. \n&gt; Do automated\n&gt; unit testing! Use  JUnit!\n&gt; \n&gt; Why doesn&#39;t the same applies to SQL queries? In reality the \n&gt; programmer DOES\n&gt; test his SQL queries by trying them and looking at results. \n&gt; (&quot;make sure your\n&gt; SQL is valid&quot;) so why not automate it like the rest?\n&gt; \n&gt; I&#39;ve seen queries way more complex than some Java code. I&#39;m \n&gt; pretty sure\n&gt; everybody did. Don&#39;t you want that when somebody will need to \n&gt; modifiy the\n&gt; query (to add a filtering condition for example) they can \n&gt; press the button\n&gt; and run the tests to ensure the query is still ok?\n&gt; \n&gt; What I do is I connect to a special DB (with a replica of the \n&gt; schema of the\n&gt; real DB) populated with test data. I also dynamically add \n&gt; data (in setup)\n&gt; and delete it (in teardown) for some tests. Or check that my \n&gt; code really\n&gt; inserted a row, etc. Of course, if a query is like \n&gt; selectAll(), you might be\n&gt; influenced by other programmers using the same test DB at the \n&gt; same time, so\n&gt; you will want something like a test db per programmer. And \n&gt; then you start to\n&gt; find it hard to deal with this increasingly complex solution \n&gt; so you drop all\n&gt; of this and return to &quot;make sure your SQL is valid&quot; testing, no more\n&gt; automated tests for SQL.\n&gt; \n&gt; I would really like to have a tool that helped me test my SQL \n&gt; code and setup\n&gt; testcases as easily as the JUnit testcase for Java. I can&#39;t \n&gt; use a sql only\n&gt; test tool: I don&#39;t want to test the SQL outside the java code \n&gt; and then have\n&gt; the java code use those statements. Why? Because often what I \n&gt; want to test\n&gt; is if the transaction is correctly rolledback in a special \n&gt; case, stuff like\n&gt; that that needs java code and SQL. But really 10 lines of \n&gt; code and 3 lines\n&gt; of sql, so it is a &quot;unit&quot; difficult to break down further \n&gt; without loosing a\n&gt; lot of test cases. And what about testing failure of a DB \n&gt; connection at a\n&gt; critical point? Mock objects seem to be usefull for this. \n&gt; Really, there is a\n&gt; need for somebody to build a tool or documentatin explaining \n&gt; the best way to\n&gt; do all of this.\n&gt; \n&gt; I&#39;ve already tought about solutions for DB-interacting code \n&gt; testing  (see\n&gt; posts in archive) but all my ideas are going into direction where the\n&gt; infrastructure needed is heavy and difficult to maintain. Any \n&gt; brillant tool\n&gt; or ideas out there for all of this?\n&gt; \n&gt; mathieu\n&gt; \n&gt; \n&gt; PS: The original poster should also look at MockObjects to \n&gt; mock the results\n&gt; of the DB. They might help depending on what you want to do. \n&gt; But then you\n&gt; aren&#39;t testing the SQL since you are mocking the execution engine.\n&gt; \n&gt; ----- Original Message -----\n&gt; From: Nilesh Thali\n&gt; To: junit@yahoogroups.com\n&gt; Sent: Monday, February 11, 2002 5:01 PM\n&gt; Subject: Re: [junit] Database Select query checks!! newbie\n&gt; \n&gt; \n&gt; &gt; (2) Your tests are simple: populate the database with data, \n&gt; write News\n&gt; beans\n&gt; &gt; that represent that data, assert that getAllNews() answers \n&gt; the same Set\n&gt; (or\n&gt; &gt; List, if you care about order within the collection) of \n&gt; News beans. Do\n&gt; this\n&gt; &gt; with as many different datasets as you need to be confident \n&gt; that your\n&gt; method\n&gt; &gt; works.\n&gt; \n&gt;     only problem with testing queries like this is that your \n&gt; test will be\n&gt; time and\n&gt;     database dependent, because data (in this case the number \n&gt; of news beans)\n&gt;     may change over time, and you will see the red bar even \n&gt; though your\n&gt; method\n&gt;     works fine.\n&gt;     There is a line of thought that all you need to do is \n&gt; make sure your SQL\n&gt;     is valid. beyond that you&#39;re testing your database, not \n&gt; your method...\n&gt; \n&gt; regards,\n&gt; Nilesh\n&gt; \n&gt; \n&gt; Yahoo! Groups Sponsor\n&gt; ADVERTISEMENT\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt; \n&gt; \n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.\n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor \n&gt; ---------------------~--&gt;\n&gt; Sponsored by VeriSign - The Value of Trust\n&gt; Secure all your Web servers now - with a proven 5-part\n&gt; strategy. The FREE Server Security Guide shows you how.\n&gt; http://us.click.yahoo.com/uCuuSA/VdiDAA/yigFAA/NhFolB/TM\n&gt; --------------------------------------------------------------\n&gt; -------~-&gt;\n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to \nhttp://docs.yahoo.com/info/terms/ \n\n\nThis e-mail and any attachment is for authorised use by the intended recipient(s) only.  It may contain proprietary material, confidential information and/or be subject to legal privilege.  It should not be copied, disclosed to, retained or used by, any other party.  If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender.  Thank you.\n\n", 
    "profile": "mbcx4jrh", 
    "topicId": 4008, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 71348971, 
    "prevInTime": 4015, 
    "contentTrasformed": false, 
    "postDate": "1013505479", 
    "canDelete": false, 
    "nextInTopic": 4018, 
    "prevInTopic": 4014, 
    "headers": {
        "messageIdInHeader": "PDI5Nzc2QzFGNDIyQkQ0MTFCODY4MDA5MDI3RTJBOUU1MDExRjkyMzlAYmFja3VzLmxvZ2ljYS5jby51az4="
    }
}