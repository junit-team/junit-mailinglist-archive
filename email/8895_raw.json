{
    "numMessagesInTopic": 30, 
    "nextInTime": 8896, 
    "senderId": "ChXySffcMlgYwQRgQEjs_fvnxa6pFI6vCCSZkXfReunf94D6NuAGd57xHFEB4_pdOHW62S70srbeH4vOAP1qc9FPMnwMm26W", 
    "systemMessage": false, 
    "subject": "Re: How to test console output?", 
    "from": "&quot;jxingtang&quot; &lt;jxingtang@...&gt;", 
    "authorName": "jxingtang", 
    "msgSnippet": "... to ... to ... not ... Just ... to ... only ... creating the extra StringWriter every time, anyway. ... new one each time. ... should be its own method. You", 
    "msgId": 8895, 
    "rawEmail": "Return-Path: &lt;jxingtang@...&gt;\r\nReceived: (qmail 21691 invoked by uid 7800); 1 Aug 2003 00:01:20 -0000\r\nX-Sender: jxingtang@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 33546 invoked from network); 31 Jul 2003 17:57:39 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m20.grp.scd.yahoo.com with QMQP; 31 Jul 2003 17:57:39 -0000\r\nReceived: from unknown (HELO n28.grp.scd.yahoo.com) (66.218.66.84)\n  by mta1.grp.scd.yahoo.com with SMTP; 31 Jul 2003 17:57:39 -0000\r\nReceived: from [66.218.67.189] by n28.grp.scd.yahoo.com with NNFMP; 31 Jul 2003 17:57:38 -0000\r\nDate: Thu, 31 Jul 2003 17:57:37 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: How to test console output?\r\nMessage-ID: &lt;bgblah+ee5a@...&gt;\r\nIn-Reply-To: &lt;200307311312280154.0377FB8D@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3620\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;jxingtang&quot; &lt;jxingtang@...&gt;\r\nX-Yahoo-Group-Post: member; u=126373237\r\nX-Yahoo-Profile: jxingtang\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via email; 1 Aug 2003 00:01:20 -0000\r\n\r\n--- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; \nwrote:\n&gt; \n&gt; &gt;So said jxingtang on 2003-07-30 --------------------\n&gt; &gt;&gt; &gt;A further question for StringWriter manipulation. Since I have \nto \n&gt; &gt;&gt; &gt;test several methods with console output which share the same \n&gt; &gt;&gt; &gt;StringWriter wrapped in the PrinterWriter. The problem is how \nto \n&gt; &gt;&gt; &gt;clean up the buffer after one test case. flush() method seems \nnot \n&gt; &gt;&gt; &gt;work as expected.  \n&gt; &gt;&gt; \n&gt; &gt;&gt; Why do you have to share the same StringWriter for each test? \nJust \n&gt; &gt;create a new one.\n&gt; \n&gt; &gt;I have found a way to solve the problem. I calls the getBuffer()to \n&gt; &gt;get the string buffer from the StringWriter and delete its content.\n&gt; &gt;\n&gt; &gt;The reason for me to share the StringWriter is that I do not want \nto \n&gt; &gt;construct a new class instance being tested for each method. I \nonly \n&gt; &gt;construct on in setUp(). Here are of my code snippets.\n&gt; \n&gt; I have news for you: setUp() is called for each test. You are \ncreating the extra StringWriter every time, anyway.\n&gt; \n&gt; Don&#39;t worry about it. These aren&#39;t performance tests. Just create a \nnew one each time.\n&gt; \n&gt; &gt;public class MyClass\n&gt; &gt;{\n&gt; &gt;    private PrintWriter MyWriter;\n&gt; &gt;      \n&gt; &gt;    // Constructor for production release\n&gt; &gt;    public MyClass()\n&gt; &gt;    {\n&gt; &gt;        MyWriter = new PrintWriter( System.out );\n&gt; &gt;    }\n&gt; &gt;\n&gt; &gt;    // Constructor for Junit testing      \n&gt; &gt;    public MyClass( PrintWriter pw )\n&gt; &gt;    {\n&gt; &gt;        MyWriter = pw;\n&gt; &gt;    }\n&gt; &gt;\n&gt; &gt;    public void DumpOutput( Vector params )\n&gt; &gt;    {\n&gt; &gt;       // Clip ...\n&gt; &gt;    }\n&gt; &gt;};\n&gt; &gt;\n&gt; &gt;public class MyClassTest extends TestCase\n&gt; &gt;{\n&gt; &gt;    private MyClass MyTestObj = null;\n&gt; &gt;\n&gt; &gt;    private StringWriter StrWriter = null;\n&gt; &gt;\n&gt; &gt;    // Clip ...\n&gt; &gt;\n&gt; &gt;    protected void setUp()\n&gt; &gt;    {\n&gt; &gt;        StrWriter = new StringWriter();\n&gt; &gt;      PrintWriter prWriter = new PrintWriter( StrWriter );\n&gt; &gt;      TestObj = new MyClass( prWriter );\n&gt; &gt;    }\n&gt; &gt;\n&gt; &gt;    public DumpOutputTest()\n&gt; &gt;    {\n&gt; &gt;        Vector testParams = new Vector();\n&gt; &gt;        // Testcase 1\n&gt; &gt;        testParams.addElement( &quot;A&quot; );\n&gt; &gt;        testParams.addElement( &quot;B&quot; );\n&gt; &gt;        testParams.addElement( &quot;C&quot; );\n&gt; &gt;        \n&gt; &gt;        TestObj.DumpOutput( testParams );\n&gt; &gt;\n&gt; &gt;        String outStr = StrWriter.toString();\n&gt; &gt;        \n&gt; &gt;        // Code to evaluate outStr\n&gt; &gt;        // Clip ....  \n&gt; &gt;        \n&gt; &gt;        // Clean buffer of StringWriter\n&gt; &gt;        StringBuffer sbuff = StrWriter.getBuffer();\n&gt; &gt;        sbuff.delete( 0, outStr.length());\n&gt; &gt;\n&gt; &gt;        // Testcase 2 \n&gt; &gt;        testParams.addElement( &quot;X&quot; );\n&gt; &gt;        testParams.addElement( &quot;Y&quot; );\n&gt; &gt;        testParams.addElement( &quot;Z&quot; );\n&gt; &gt;        \n&gt; &gt;        TestObj.DumpOutput( testParams );\n&gt; &gt;\n&gt; &gt;        String outStr = StrWriter.toString();\n&gt; &gt;        \n&gt; &gt;        // Code to evaluate outStr\n&gt; &gt;        // Clip ....  \n&gt; &gt;     }\n&gt; &gt;\n&gt; &gt;     // Clip ...\n&gt; &gt;};\n&gt; &gt;\n&gt; &gt;Please give your valuable comments for my further correction and \n&gt; &gt;improvements.\n&gt; \n&gt; Why are you writing multiple tests in a single method? Each test \nshould be its own method. You defeat the point of JUnit by using it \nthis way.\n&gt; \n\nWell, I use Eclipse with JUB plugin to automatically generate Junit \ntest class. For each method being tested, only one corresponding \nmethod in the test class will be generated. However, for each method \nbeing tested, there are quite a few test cases. Do I need to create a \nnew test method for each test case? Given the above code snippet as \nexample, do I need to separate DumpOutputTest into DumpOuputTestOne() \nand DumpOutputTestTwo()? \n\nThanks a lot for your further comments!\n\n\n", 
    "profile": "jxingtang", 
    "topicId": 8734, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 126373237, 
    "prevInTime": 8894, 
    "contentTrasformed": false, 
    "postDate": "1059674257", 
    "canDelete": false, 
    "nextInTopic": 8898, 
    "prevInTopic": 8890, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwNzMxMTMxMjI4MDE1NC4wMzc3RkI4REBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PGJnYmxhaCtlZTVhQGVHcm91cHMuY29tPg=="
    }
}