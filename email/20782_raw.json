{
    "numMessagesInTopic": 7, 
    "nextInTime": 20783, 
    "senderId": "98DZDXSlpt1jbsjyrhEWfDo_Znu_pTlzrRuaWC6p8YKmG-FdwOChrJZuFCUzPTC-0vR9fRT7jWPeStK4kUjnPyO3Llmt", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing on AWT thread", 
    "from": "Alex Ruiz &lt;alruiz15@...&gt;", 
    "authorName": "Alex Ruiz", 
    "msgSnippet": "Good point! I agree. :) But I still think using a mechanism similar to GuiTask ( invokeAndWait ) is good enough for what we usually do in a test involving a", 
    "msgId": 20782, 
    "rawEmail": "Return-Path: &lt;alruiz15@...&gt;\r\nX-Sender: alruiz15@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 73716 invoked from network); 8 Aug 2008 17:04:49 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m41.grp.scd.yahoo.com with QMQP; 8 Aug 2008 17:04:49 -0000\r\nX-Received: from unknown (HELO web82904.mail.mud.yahoo.com) (209.191.119.104)\n  by mta18.grp.scd.yahoo.com with SMTP; 8 Aug 2008 17:04:49 -0000\r\nX-Received: (qmail 92564 invoked by uid 60001); 8 Aug 2008 17:04:48 -0000\r\nX-YMail-OSG: lfRQu_UVM1nSC.yhIClcToebAmWj6BBJbU8lEDBUIMoetKthQuTuJrcY.3wZbN2xLuYkTdqyxbYoLNEs6Otbs_eSlDRMbo9vuLhJIKtw31Q0N.hBdZV2Qb5CN4Z1.T5uOO1Rq.4oYYqrmjtwa2PCQFA-\r\nX-Received: from [148.87.1.172] by web82904.mail.mud.yahoo.com via HTTP; Fri, 08 Aug 2008 10:04:48 PDT\r\nDate: Fri, 8 Aug 2008 10:04:48 -0700 (PDT)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;17fa53d0808080228o5604d838n2cb9519fb85e606e@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nMessage-ID: &lt;712870.92311.qm@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Alex Ruiz &lt;alruiz15@...&gt;\r\nSubject: Re: [junit] Testing on AWT thread\r\nX-Yahoo-Group-Post: member; u=86840443; y=VrKxjBNTrEyL365BJlrgCav6d_FfywrVEFVzn_h9F1vlS6g\r\nX-Yahoo-Profile: alruiz15\r\n\r\nGood point! I agree. :)\n\nBut I still think using a mechanism similar to GuiTask\n(&#39;invokeAndWait&#39;) is good enough for what we usually\ndo in a test involving a GUI, that is reading\nproperties from a GUI component to verify that their\nvalues are correct (like the &#39;getRowCount&#39; example in\nthis thread). I haven&#39;t seen anything more complicated\nin a test so far.\n\n-Alex\n\n--- Nat Pryce &lt;nat.pryce@...&gt; wrote:\n\n&gt; 2008/8/8 Alex Ruiz &lt;alruiz15@...&gt;:\n&gt; &gt; ...note that GuiTask\n&gt; &gt; uses invokeAndWait instead of invokeLater. IMHO,\n&gt; most\n&gt; &gt; of the time in your test you need to wait for an\n&gt; &gt; action to be executed in the EDT before you can\n&gt; &gt; continue the execution of your test.\n&gt; \n&gt; Note, however, that in many cases merely using\n&gt; invokeAndWait is not\n&gt; enough because calling a Swing component can add\n&gt; other events to the\n&gt; queue.  So, although invokeAndWait will block until\n&gt; the initial method\n&gt; call is complete, the other events will not have\n&gt; been processed by the\n&gt; time invokeAndWait returns, and the entire behaviour\n&gt; being tested will\n&gt; not yet have been completed.  This can make the test\n&gt; go out of synch\n&gt; with the Swing code: the test will fail may fail\n&gt; intermittently or\n&gt; succeed when it should fail.\n&gt; \n&gt; To unit test an object that calls invokeLater, I&#39;ve\n&gt; found it easiest\n&gt; to separate the threading concerns from the logic I\n&gt; want to test.\n&gt; I&#39;ve implemented a java.util.Executor that delegates\n&gt; to the Swing\n&gt; invokeLater method. I then pass that Executor it to\n&gt; any object that\n&gt; needs to call invokeLater and removed all direct\n&gt; calls to invokeLater.\n&gt;  I can then easily unit test the behaviour of those\n&gt; objects with a\n&gt; mock Executor or with a deterministic executor that\n&gt; captures tasks and\n&gt; runs them on the test thread.\n&gt; \n&gt; JMock  2.5.0 provides a DeterministicExecutor in the\n&gt; org.jmock.lib.concurrent package.\n&gt; \n&gt; A more detailed description of this technique is at\n&gt; http://www.jmock.org/threads.html\n&gt; \n&gt; --Nat\n&gt; \n\n\n\n      \n\n", 
    "profile": "alruiz15", 
    "topicId": 20775, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 86840443, 
    "prevInTime": 20781, 
    "contentTrasformed": false, 
    "postDate": "1218215088", 
    "canDelete": false, 
    "nextInTopic": 20783, 
    "prevInTopic": 20780, 
    "headers": {
        "inReplyToHeader": "PDE3ZmE1M2QwODA4MDgwMjI4bzU2MDRkODM4bjJjYjk1MTlmYjg1ZTYwNmVAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDcxMjg3MC45MjMxMS5xbUB3ZWI4MjkwNC5tYWlsLm11ZC55YWhvby5jb20+"
    }
}