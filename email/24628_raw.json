{
    "topicId": 24625, 
    "postDate": "1420995884", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Stefan Bechtold &lt;stefan.bechtold@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "0dGY3GEBwLOTt8ID9gLbIi08mwPtd4ZAEXIpkHER5cFEf51nfLASIXqDgoiKmG40S-3Pec_N7KEJFPHemCmxZtKtMzJuBHNnmTDRSWuh9w", 
    "nextInTime": 24629, 
    "userId": 558173103, 
    "prevInTime": 24627, 
    "prevInTopic": 24627, 
    "headers": {
        "inReplyToHeader": "PENBSGhZVko0cW5feHZiK2NaaXF6cm01RTRXRjMtcXZUX3hFenNKUFMwcng9aE5lY1UzUUBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PDA4MjU2NjNBLTZGOEItNDA4My04OTUzLTY4MTA2RUVBQTA2RUBtZS5jb20+", 
        "referencesHeader": "PENBSGhZVko1OGN1NU1DS3FkYVZmR3E2OVI2MDI2Z2tOVUZBNVBDNFJrRms0TmFlU2lSQUBtYWlsLmdtYWlsLmNvbT4gPDU0QUVFQ0EwLjgwMTA5MDVAY3lwaG9yaWEubmV0PiA8Q0FIaFlWSjRxbl94dmIrY1ppcXpybTVFNFdGMy1xdlRfeEV6c0pQUzByeD1oTmVjVTNRQG1haWwuZ21haWwuY29tPg=="
    }, 
    "authorName": "Stefan Bechtold", 
    "numMessagesInTopic": 10, 
    "msgSnippet": "Hi, this seems to be a discussion from Stefan to Stefan, so I cant hesitate to post an answer. ;-) I really think that separation is a good thing and should be", 
    "contentTrasformed": false, 
    "msgId": 24628, 
    "nextInTopic": 24629, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;stefan.bechtold@...&gt;\r\nReceived: (qmail 25178 invoked by uid 7800); 11 Jan 2015 17:14:15 -0000\r\nX-Sender: stefan.bechtold@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 26425 invoked by uid 102); 11 Jan 2015 17:04:53 -0000\r\nX-Received: from unknown (HELO mtaq3.grp.bf1.yahoo.com) (10.193.84.142)\n  by m8.grp.bf1.yahoo.com with SMTP; 11 Jan 2015 17:04:53 -0000\r\nX-Received: (qmail 18264 invoked from network); 11 Jan 2015 17:04:52 -0000\r\nX-Received: from unknown (HELO nk11p03mm-asmtp002.mac.com) (98.138.215.82)\n  by mtaq3.grp.bf1.yahoo.com with SMTP; 11 Jan 2015 17:04:52 -0000\r\nX-Received: from stefansimac.fritz.box\n (ip-37-24-35-59.hsi14.unitymediagroup.de [37.24.35.59])\n by nk11p03mm-asmtp002.mac.com\n (Oracle Communications Messaging Server 7.0.5.35.0 64bit (built Dec  4 2014))\n with ESMTPSA id &lt;0NI0006BXVFYGF40@...&gt; for\n junit@yahoogroups.com; Sun, 11 Jan 2015 17:04:51 +0000 (GMT)\r\nX-Proofpoint-Virus-Version: vendor=fsecure\n engine=2.50.10432:5.13.68,1.0.33,0.0.0000\n definitions=2015-01-11_03:2015-01-10,2015-01-11,1970-01-01 signatures=0\r\nX-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0\n suspectscore=79 phishscore=0 adultscore=0 bulkscore=0 classifier=spam adjust=0\n reason=mlx scancount=1 engine=7.0.1-1412080000 definitions=main-1501110190\r\nMessage-id: &lt;0825663A-6F8B-4083-8953-68106EEAA06E@...&gt;\r\nMIME-version: 1.0 (Mac OS X Mail 7.3 &#92;(1878.6&#92;))\r\nDate: Sun, 11 Jan 2015 18:04:44 +0100\r\nReferences:\n &lt;CAHhYVJ58cu5MCKqdaVfGq69R6026gkNUFA5PC4RkFk4NaeSiRA@...&gt;\n &lt;54AEECA0.8010905@...&gt;\n &lt;CAHhYVJ4qn_xvb+cZiqzrm5E4WF3-qvT_xEzsJPS0rx=hNecU3Q@...&gt;\r\nTo: junit@yahoogroups.com\r\nIn-reply-to:\n &lt;CAHhYVJ4qn_xvb+cZiqzrm5E4WF3-qvT_xEzsJPS0rx=hNecU3Q@...&gt;\r\nX-Mailer: Apple Mail (2.1878.6)\r\nSubject: Re: [junit] Decoupling JUnit and Hamcrest\r\nX-Yahoo-Group-Post: member; u=558173103\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Original-From: Stefan Bechtold &lt;stefan.bechtold@...&gt;\r\nX-eGroups-Approved-By: dsaff &lt;david@...&gt; via email; 11 Jan 2015 17:14:15 -0000\r\nFrom: Stefan Bechtold &lt;stefan.bechtold@...&gt;\r\n\r\nHi,\n\nthis seems to be a discussion from Stefan to Stefan, so I cant hesitat=\r\ne to post an answer. ;-)\n\nI really think that separation is a good thing an=\r\nd should be enforced by the JUnit team. Hamcrest is a great framework for a=\r\nssertions, but in some cases it is not needed or not the best fit. So the t=\r\nest writers should have to possibility to choose the assertion framework of=\r\n their choice and the testing framework should smoothly work with it.\n\nWhat=\r\n&#39;s behind my opinion? Some months ago I was playing around with different u=\r\nnit testing frameworks. While I was doing so I asked myself the question: H=\r\now do you develop a unit testing framework using TDD practices? I sat down =\r\nand started to create the first bits of code that would represent a &quot;unit t=\r\nest&quot;. With this very simple test in place I wrote some production code to e=\r\nxecute the test case. Fun it was! I tried some more tests and continued to =\r\nplay around like this for some hours and when I finished I realized that I =\r\nhad developed a very rudimental unit testing framework. While being very ru=\r\ndimental, the framework still supports things like:\n\n- @Test, @Before, @Aft=\r\ner, @Ignore, @Context (like the hierarchical context runner for JUnit)\n- Te=\r\nst Groups and Test Suites,\n- Reporters (still no support for Listeners, but=\r\n soon to come ;-))\n- Extendable Tests Creators (you can register a Factory =\r\nto support your own Test Cases, like cucumber files, etc.)\n\nThe core idea o=\r\nf the framework was not to create a new standard, but to play around with T=\r\nDD for building a Unit Testing Framework. I came up with two guidelines, wh=\r\nich I think are very important for a next generation of JUnit (5.x for exam=\r\nple):\n\n1. Provide a flexible and extendable framework that only cares about=\r\n the execution and reporting of test cases and results\n2. Don&#39;t struggle wi=\r\nth things third party libraries can offer, i.e. don&#39;t try to be the one-and=\r\n-only tool for TDD\n\nIn order to be flexible and extendable, I think there s=\r\nhould be some kind of application context that third party libraries may re=\r\ngister themselves for certain activities, e.g. finding test cases (no longe=\r\nr limited to annotated Java Classes, input can be anything like cucumber te=\r\nsts), providing assertions (I simply used Hamcrest in my tests, but the use=\r\nr of the framework should be free to choose anything that throws an Asserti=\r\nonError), or to run tests multiple times or expect exceptions (I used Java =\r\n8 lambdas to create a very well readable syntax for it). I finally felt lik=\r\ne this is the way to go: Separate the core framework from things that can b=\r\ne easily provided separately.\n\nTo give a very short impression of what a te=\r\nst will look like using my framework, look at this test case:\n\n// ...\n\npubl=\r\nic class TestContextTest {\n  @Test\n  public void givenInvalidTestContext_cr=\r\neateInstanceFails() throws Exception {\n    expectThrowable(AssertionError.c=\r\nlass).withMessage(&quot;Class not instantiable&quot;).in(() -&gt; {\n      TestClass test=\r\nClass =3D new TestClass(TestContextWithPrivateConstructor.class);\n      Tes=\r\ntContext testContext =3D new TestContext(testClass, TestContextWithPrivateC=\r\nonstructor.InvalidContext.class);\n      testContext.createTestInstance();\n =\r\n   });\n  }\n\n  @Context\n  public class GivenTestContextWithSingleTest {\n    =\r\n// ...\n\n    @Before\n    public void setupTestContext() throws Exception {\n =\r\n     parentInstance =3D new TestContextWithSingleTest();\n      testClass =\r\n=3D new TestClassMock(parentInstance);\n      testContext =3D new TestContex=\r\nt(testClass, TestContextWithSingleTest.TestContext.class);\n    }\n\n    @Test=\r\n\n    public void createsAValidTestInstanceOfClassUnderTest() throws Excepti=\r\non {\n      TestContextWithSingleTest.TestContext instance =3D testContext.c=\r\nreateTestInstance();\n      assertThat(instance, is(instanceOf(TestContextWi=\r\nthSingleTest.TestContext.class)));\n    }\n    \n    // ...\n  }\n\n  // ...\n}\n\nC=\r\node taken from: https://github.com/bechte/JUT/blob/master/src/test/java/de/=\r\nbechte/jut/testables/TestContextTest.java (I crunched some lines for readab=\r\nility reasons).\n\nFor those who are interested in more details, I uploaded J=\r\nUT at github: https://github.com/bechte/JUT - I really think it is worth a =\r\nlook at and we might use some ideas from it for a future JUnit release (esp=\r\necially the lambda style expressions for exception handling, which I think =\r\nis much more readable). :-)\n\nAll the best,\n\nStefan\n\nAm 08.01.2015 um 23:15 =\r\nschrieb Stefan Birkner mail@... [junit] &lt;junit@...=\r\nm&gt;:\n\n&gt; \n&gt; Hi Stefan,\n&gt; \n&gt; thank you for your feedback.\n&gt; \n&gt; The JUnit team =\r\nitself wants to get rid of the Hamcrest dependency. Basically Hamcrest is a=\r\nn assertion library (like AssertJ, Truth, ...) and it can be independent fr=\r\nom JUnit. Therefore it must only use JUnit&#39;s interfaces (AssertionError and=\r\n AssumptionViolatedException) and JUnit must not use Hamcrest. Both is poss=\r\nible, but it needs a new JUnit major release.\n&gt; \n&gt; ciao,\n&gt; stefan\n&gt; \n&gt; 2015=\r\n-01-08 21:46 GMT+01:00 Stefan stefan@... [junit] &lt;junit@yahoogroup=\r\ns.com&gt;:\n&gt;  \n&gt; Hi,\n&gt; \n&gt; I&#39;m not a developer of junit nor hamcrest and I don&#39;=\r\nt feel the pain of the tight integration of junit and hamcrest that &quot;preven=\r\nts both from moving on&quot; but I&#39;m a heavy user of both.\n&gt; I don&#39;t think it&#39;s =\r\na good idea to separate the hamcrest integration from junit into it&#39;s own l=\r\nibrary.\n&gt; \n&gt; At the moment JUnit dictates the hamcrest version to be used b=\r\nut also guarantees compatibility with this version.\n&gt; With the new library =\r\nhamcrest developers will dictate the junit version that is compatible with =\r\na specific hamcrest release. This is only a change in responsibility but ha=\r\ns no benefits.\n&gt; \n&gt; Of course there is also the opportunity to provide a br=\r\noader range of compatible versions. But this opportunity also means more wo=\r\nrk for the maintainers and slower adoption by users. JUnit 4.12 uses hamcre=\r\nst 1.3. What if JUnit moves on to 4.13, 4.14 and hamcrest releases 2.0 and =\r\n2.1 respectively. Will there be a version which is compatible with hamcrest=\r\n 2.1 and JUnit 4.13? Will there be a version which is compatible with JUnit=\r\n 4.14 and hamcrest 1.3?\n&gt; \n&gt; As a developer who want&#39;s to use JUnit 4.14 - =\r\nhow do I know which hamcrest-junit-integration version to use? What will st=\r\nop me from using a wrong version? For example I might be tempted to update =\r\nJUnit to 4.14 but forget to update hamcrest-junit-integration. There might =\r\nbe changes of the behaviour of JUnit that might cause some of my tests to p=\r\nass always although they should fail. On the other hand: JUnit 4.14 might b=\r\ne binary incompatible to JUnit 4.12 - where to look for the right version o=\r\nf hamcrest-junit-integration?\n&gt; \n&gt; If hamcrest moves on to 2.0 - which coul=\r\nd be binary incompatible to 1.3 due to the major version change (haven&#39;t ch=\r\necked) - how long will hamcrest 1.3 be supported with latest JUnit versions=\r\n by hamcrest-junit-integration? I&#39;m asking because we also use JMock which =\r\ndepends on hamcrest as well. If I update to an incompatible 2.0 I need also=\r\n an update of JMock....\n&gt; (( Actually I cannot update JMock without big eff=\r\nort because there was an incompatible change from 2.5.1 to 2.6 .... ))\n&gt; \n&gt;=\r\n On the other hand this will slow down speed for adoption of new JUnit vers=\r\nions because we have to wait until a new hamcrest-junit-integration version=\r\n is out or at least someone has built the appropriate version with latest J=\r\nUnit release and verified unit tests are still passing. It will also increa=\r\nse the effort necessary to try JUnit release candidates or snapshots in rea=\r\nl projects (because I also have to checkout and build the integration libra=\r\nry myself to be sure there is no problem with that... and if there is a pro=\r\nblem I need to fix it myself or stop using latest JUnit release candidate).=\r\n\n&gt; \n&gt; ----\n&gt; IMHO decoupling JUnit and hamcrest has more drawbacks than ben=\r\nefits. Although I see it can be a chance for hamcrest to move on. I don&#39;t t=\r\nhink JUnit as a project will profit that much. JUnit users might have a bro=\r\nader choice of compatible hamcrest versions but this requires some effort (=\r\nof the maintainers of hamcrest-junit-integration). I think this might only =\r\nwork well for JUnit users if the JUnit team commits to that integration pro=\r\nject and is able to push out new releases of the hamcrest-junit-integration=\r\n together with new JUnit releases.\n&gt; \n&gt; \n&gt; Regards,\n&gt; Stefan\n&gt; \n&gt; \n&gt; \n&gt; Am =\r\n07.01.2015 um 08:31 schrieb Stefan Birkner mail@... [junit]:\n=\r\n&gt;&gt;  \n&gt;&gt; FYI: Nat Pryce took a first step for decoupling JUnit and Hamcrest:=\r\n\n&gt;&gt; http://natpryce.com/articles/000806.html\n&gt;&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n\n\n\n[Non-tex=\r\nt portions of this message have been removed]\n\n\n", 
    "subject": "Re: [junit] Decoupling JUnit and Hamcrest"
}