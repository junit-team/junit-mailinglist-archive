{
    "numMessagesInTopic": 15, 
    "nextInTime": 6748, 
    "senderId": "3MlEYE2ndXmUm_0-H3FPQaFNk2OTDlQvGG5FmeF-59EN3rb-X5B9JptRNgfCm98R3XbpTqm6eGp78PM3_nkI8ydHvJLefKjYElacxmYJDvyB5EEC", 
    "systemMessage": false, 
    "subject": "Re: [junit] ** How to test objects that depend on other  objects with mock objects **", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "So said  tobemligado   on  2003-01-26 ... 1. Create a new, public constructor. Make the value a constructor parameter. 2. Have the", 
    "msgId": 6747, 
    "rawEmail": "Return-Path: &lt;jbr@...&gt;\r\nX-Sender: jbr@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 26 Jan 2003 20:07:30 -0000\r\nReceived: (qmail 25098 invoked from network); 26 Jan 2003 20:07:30 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m4.grp.scd.yahoo.com with QMQP; 26 Jan 2003 20:07:30 -0000\r\nReceived: from unknown (HELO fep01-mail.bloor.is.net.cable.rogers.com) (66.185.86.71)\n  by mta2.grp.scd.yahoo.com with SMTP; 26 Jan 2003 20:07:30 -0000\r\nReceived: from quincy ([24.42.96.247])\n          by fep01-mail.bloor.is.net.cable.rogers.com\n          (InterMail vM.5.01.05.06 201-253-122-126-106-20020509) with ESMTP\n          id &lt;20030126200729.IRPF4750.fep01-mail.bloor.is.net.cable.rogers.com@quincy&gt;\n          for &lt;junit@yahoogroups.com&gt;; Sun, 26 Jan 2003 15:07:29 -0500\r\nMessage-ID: &lt;200301261507280259.00821823@...&gt;\r\nIn-Reply-To: &lt;b10uth+nv43@...&gt;\r\nReferences: &lt;b10uth+nv43@...&gt;\r\nX-Mailer: Calypso Version 3.30.00.00 (4)\r\nDate: Sun, 26 Jan 2003 15:07:28 -0500\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] ** How to test objects that depend on other\n  objects with mock objects **\r\nContent-Type: text/plain; charset=&quot;us-ascii&quot;\r\nX-Authentication-Info: Submitted using SMTP AUTH LOGIN at fep01-mail.bloor.is.net.cable.rogers.com from [24.42.96.247] using ID &lt;srainsberger5790@...&gt; at Sun, 26 Jan 2003 15:07:27 -0500\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;\r\nReply-To: jbr@...\r\nX-Yahoo-Group-Post: member; u=89240252\r\nX-Yahoo-Profile: nails762\r\n\r\nSo said  tobemligado &lt;jasbell@...&gt;  on  2003-01-26\n--------------------\n\n&gt;I have a singleton called &quot;ConfigManager&quot;, where in its constructor \n&gt;it reads in a bunch of files from a directory and creates objectsfrom \n&gt;the files.  I am doing this because I want to say &quot;ConfigManager is \n&gt;not valid until these other objects have also been successfully \n&gt;created&quot;.  \n&gt;\n&gt;I want the &quot;ConfigManager&quot; to be able to read a directory full \n&gt;of &quot;bad files&quot; in some test scenarios, a directory full of &quot;good \n&gt;files&quot; in other test scenarios, and a directory full of &quot;good and bad \n&gt;files&quot; in yet other test scenarios.  Ultimately, the program will \n&gt;have to handle &quot;good and bad files&quot;,\n&gt;\n&gt;My problem is that I need to &quot;trick&quot; the &quot;ConfigManager&quot; into using \n&gt;the three directories in different test scenarios, but I dont want to \n&gt;alter the fact that all objects are created in &quot;ConfigManager&#39;s&quot; \n&gt;constructor.  Here is what is in the constructor for the \n&gt;singleton &quot;ConfigManager&quot;:\n&gt;----------------------------------------------------\n&gt;String basePath = ServiceResources.CONFIG_FILE_DIRECTORY;\n&gt;setBaseDirectory(basePath);\n&gt;loadAllFilesFound(getBaseDirectory());\n&gt;loadConfigFilesFound(getAllFilesFoundList());\n&gt;ArrayList configList = createConfigurations(getConfigFilesFound());\n&gt;TriggerManager tm = TriggerManager.getInstance();\n&gt;ArrayList triggerList = tm.createTriggers(configList);\n&gt;tm.registerTriggers(triggerList);\n&gt;----------------------------------------------------\n&gt;\n&gt;How can I switch the CONFIG_FILE_DIRECTORY value for testing when its \n&gt;in the constructor? \n\n1. Create a new, public constructor. Make the value a constructor\nparameter.\n2. Have the private/protected no-argument constructor delegate to the\nnew constructor passing in the default (production) values.\n3. Test through the new constructor.\n\nIf people ask for the singleton instance, then they get the production\ninstance. If people use the other constructor, then they have to\nprovide the necessary data for the ConfigManager to work on.\n\nDone.\n\nQ: Why is ConfigManager a singleton?\n\nGoogle &quot;Use your singletons wisely&quot;. Read it and let me know if it\nchanges your mind to use a singleton.\n\n\nJ. B. Rainsberger,\nPresident, Diaspar Software Services\nLet&#39;s write software that people understand.\nhttp://www.diasparsoftware.com/\ntelephone: +1 416 791-8603\nAll correspondence (c) 2002 Diaspar Software Services.\nIf you want to use it, just ask; don&#39;t steal.\n\n\n", 
    "profile": "nails762", 
    "topicId": 6743, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "prevInTime": 6746, 
    "contentTrasformed": false, 
    "postDate": "1043611648", 
    "canDelete": false, 
    "nextInTopic": 6749, 
    "prevInTopic": 6743, 
    "headers": {
        "inReplyToHeader": "PGIxMHV0aCtudjQzQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDMwMTI2MTUwNzI4MDI1OS4wMDgyMTgyM0BzbXRwLnltLnBodWIubmV0LmNhYmxlLnJvZ2Vycy5jb20+", 
        "referencesHeader": "PGIxMHV0aCtudjQzQGVHcm91cHMuY29tPg=="
    }
}