{
    "numMessagesInTopic": 27, 
    "nextInTime": 17856, 
    "senderId": "m9gEcmreO43IzV9T7X8Eyz4_PKXalvrD1lbpo4NV7jcSxwYWgnX36Aw1S8UwJQ9Oh_PR0J1Tl2Txa0Tu-7gt47XiSAgCER9yoirypizriSaYKw", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit Testing Code That Has System.exit(n);", 
    "from": "Michael Feathers &lt;mfeathers@...&gt;", 
    "authorName": "Michael Feathers", 
    "msgSnippet": "... It s hard to know who to be more upset at.. the developer for littering the app with static calls or Sun for making the call static, and therefore pretty", 
    "msgId": 17855, 
    "rawEmail": "Return-Path: &lt;mfeathers@...&gt;\r\nX-Sender: mfeathers@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 26751 invoked from network); 7 Sep 2006 22:56:06 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m26.grp.scd.yahoo.com with QMQP; 7 Sep 2006 22:56:06 -0000\r\nReceived: from unknown (HELO elasmtp-banded.atl.sa.earthlink.net) (209.86.89.70)\n  by mta1.grp.scd.yahoo.com with SMTP; 7 Sep 2006 22:56:06 -0000\r\nReceived: from [66.245.126.66] (helo=[192.168.2.5])\n\tby elasmtp-banded.atl.sa.earthlink.net with asmtp (Exim 4.34)\n\tid 1GLSlZ-0002XN-IL\n\tfor junit@yahoogroups.com; Thu, 07 Sep 2006 18:54:37 -0400\r\nMessage-ID: &lt;4500A307.9080600@...&gt;\r\nDate: Thu, 07 Sep 2006 18:53:59 -0400\r\nUser-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;edq2s9+odek@...&gt;\r\nIn-Reply-To: &lt;edq2s9+odek@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-ELNK-Trace: dfc3550eb2f12a8d819ed13a7e3bf8f140683398e744b8a4bdec746ec0d93eb7137041816a6c46cb387f7b89c61deb1d350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Feathers &lt;mfeathers@...&gt;\r\nReply-To: mfeathers@...\r\nSubject: Re: [junit] JUnit Testing Code That Has System.exit(n);\r\nX-Yahoo-Group-Post: member; u=78021826; y=QBxCWsLbazjaM9Ff-b62RFN7b184nmviYP1S9hg0tY2c_oEmQrXD\r\nX-Yahoo-Profile: mfeathers256\r\n\r\nBob Russell wrote:\n\n&gt;I&#39;m involved on a project as the QA.  To improve my development \n&gt;skills and my JUnit skills, I am writing some JUnit tests.  Today, I \n&gt;found that the developer had implemented System.exit(n) throughout \n&gt;the application whenever there was a trapped exception.\n&gt;\n&gt;Now, the requirements call for the application to return some exit \n&gt;code telling any downstream processes whether this application was \n&gt;100% successful with no warnings (rc=0), 100% successful with \n&gt;warnings (rc=4), not successful at all (rc=8).  However, the only \n&gt;java mechanism for reporting return codes is System.exit(n), based on \n&gt;my use of Google.\n&gt;\n&gt;My JUnit dilemma then, is that System.exit(n) gives the required \n&gt;application behavior but doesn&#39;t seem to be good for running JUnit \n&gt;tests from a test suite since System.exit(n) ends the JVM.\n&gt;\n&gt;Does anyone have any insights they can share?  Since this is my first \n&gt;post to this forum, I&#39;m happy to Google some more if you&#39;ll only give \n&gt;me some keyword hint(s) beyond what I&#39;ve already tried:  &quot;java exit \n&gt;code&quot;.\n&gt;  \n&gt;\nIt&#39;s hard to know who to be more upset at.. the developer for littering \nthe app with static calls or Sun for making the call static, and \ntherefore pretty much unmockable.\n\nYou may want to provide a try block at the entry point of your app and \nthen define an unchecked exception that you can throw instead of calling \nSystem.exit.  The exception can accept the exit code in its constructor. \n\n It&#39;s not an ideal solution, but it will allow you to slowly refactor to \nsomething saner.  Your entry point can catch the exception, glean the \nerror code and then call System.exit.  You can write tests that catch \nthe exception so that you can test the cases where you are supposed to \nexit.  If you do do this, make sure that you check for finally-blocks in \nyour exception chain.  If they do anything unnice, you&#39;ll have to do \nsomethng else.\n\nMichael Feathers\nwww.objectmentor.com\n\n\n", 
    "profile": "mfeathers256", 
    "topicId": 17851, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 78021826, 
    "prevInTime": 17854, 
    "contentTrasformed": false, 
    "postDate": "1157669639", 
    "canDelete": false, 
    "nextInTopic": 17856, 
    "prevInTopic": 17854, 
    "headers": {
        "inReplyToHeader": "PGVkcTJzOStvZGVrQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQ1MDBBMzA3LjkwODA2MDBAbWluZHNwcmluZy5jb20+", 
        "referencesHeader": "PGVkcTJzOStvZGVrQGVHcm91cHMuY29tPg=="
    }
}