{
    "numMessagesInTopic": 12, 
    "nextInTime": 21311, 
    "senderId": "U_n5P1s8V3Mb7S0oWtcRe_D8b_hAvy2QGPTG1n6e0MvGkX-WvAWplMveZgy7ecq-TtsQvc9AkczKucLZGJLR9T29mLEVTg", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: JUnit-JPA (Hibernate) - Spring - Struts2 testing howto", 
    "from": "Ken Chien &lt;ken.chien@...&gt;", 
    "authorName": "Ken Chien", 
    "msgSnippet": "Take a look at EasyMock (which I personally prefer ) or Jmock. On Jan 20, 2009, at 6:39 AM, majkic@ymail.com  ... [Non-text portions of", 
    "msgId": 21310, 
    "profile": "bigtummy77", 
    "topicId": 21269, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 205946818, 
    "messageBody": "<div id=\"ygrps-yiv-1813921156\">Take a look at EasyMock (which I personally prefer ) or Jmock.<br/>\n<br/>\nOn Jan 20, 2009, at 6:39 AM, &quot;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:majkic@...\">majkic@...</a>&quot; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:majkic@...\">majkic@...</a>&gt;  <br/>\nwrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Hello,<br/>\n&gt; thanks a lot, Joakim. I found a solution for this, but your post<br/>\n&gt; helped me a lot to understand better how it works.<br/>\n&gt;<br/>\n&gt; Unfortenately, now I cannot find any example to test Struts2 with<br/>\n&gt; service (from Spring) injected. Actually I made something to work with<br/>\n&gt; real service, but this is not unit test, but integration.<br/>\n&gt;<br/>\n&gt; Does anybody know how to Mock some service which I inject into Struts2<br/>\n&gt; action, even better how to mock value some service returns? That is<br/>\n&gt; the question!<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;<br/>\n&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Try this:<br/>\n&gt; &gt; Right-click on the project in eclipse.<br/>\n&gt; &gt; Choose properties<br/>\n&gt; &gt; Choose java buildpath<br/>\n&gt; &gt; Choose libraries<br/>\n&gt; &gt; * add any jars that you need there. If you are using maven I<br/>\n&gt; find it<br/>\n&gt; &gt; helpful to add the jars using &quot;add variable&quot;, Configure a variable<br/>\n&gt; called<br/>\n&gt; &gt; MAVEN_REPO (or whatever you fancy). As soon as you have that<br/>\n&gt; variable you<br/>\n&gt; &gt; can click on it and press the extend... button and browse to the<br/>\n&gt; library you<br/>\n&gt; &gt; want relative to the variable. This is very nice to have in a multi<br/>\n&gt; &gt; developer situation since the mvn-repo may be in different locations<br/>\n&gt; for<br/>\n&gt; &gt; different developers and all each developer needs to do is to<br/>\n&gt; configure<br/>\n&gt; &gt; their own MAVEN_REPO variable.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Finally, go to the tab &quot;order and export&quot;. In this tab you can<br/>\n&gt; change the<br/>\n&gt; &gt; order of your Classpath. Make sure that the JPA-api is suficiently<br/>\n&gt; high in<br/>\n&gt; &gt; that list. That should do it.<br/>\n&gt; &gt;<br/>\n&gt; &gt; The above should resolve the issue (you might need to remove your<br/>\n&gt; launches<br/>\n&gt; &gt; for your new settings to be propagated there)<br/>\n&gt; &gt;<br/>\n&gt; &gt; But it should also do the trick just to change which JRE you launch<br/>\n&gt; with<br/>\n&gt; &gt; (either configure it globally or locally in the project-properties).<br/>\n&gt; Did you<br/>\n&gt; &gt; try that?<br/>\n&gt; &gt;<br/>\n&gt; &gt; I hope this helps, hunting classpath-issues can really be<br/>\n&gt; frustrating. My<br/>\n&gt; &gt; sympathies.<br/>\n&gt; &gt; /J<br/>\n&gt; &gt;<br/>\n&gt; &gt; On Fri, Jan 16, 2009 at 10:24 PM, majkic@... &lt;majkic@...&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt; Solution for this dependencies issue I described below:<br/>\n&gt; &gt; &gt; Right click on test class (or complete project), Run, Run<br/>\n&gt; &gt; &gt; configuration, Classpath, User entries, choose Maven dependencies<br/>\n&gt; -<br/>\n&gt; &gt; &gt; choose Up, ie. put maven dependencies before project dependencies.<br/>\n&gt; &gt; &gt; This solved problem, so I don&#39;t need to include persistence-api-<br/>\n&gt; &gt; &gt; 1.0.jar form target folder.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; And again, can you help me about this, guys:<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Is there any complete (even the simplest one) example showing how<br/>\n&gt; to<br/>\n&gt; &gt; &gt; test JPA-Spring-Struts2? I don&#39;t believe that nobody wrote<br/>\n&gt; something<br/>\n&gt; &gt; &gt; about this - at last all these technologies and combination of<br/>\n&gt; those<br/>\n&gt; &gt; &gt; are mainstream - not some exotic combination.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; I have problems with testing Struts2 actions (classes) with JUnit.<br/>\n&gt; Is<br/>\n&gt; &gt; &gt; there any simple example wiring Struts2+Spring<br/>\n&gt; &gt; &gt; (struts.xml+applicationContext.xml)?<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Cheers,<br/>\n&gt; &gt; &gt; Marko<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;, &quot;majkic@&quot;<br/>\n&gt; &gt; &gt; &lt;majkic@&gt; wrote:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; I did following:<br/>\n&gt; &gt; &gt; &gt; 1. Open &quot;Run configuration&quot; for BankServiceTest under<br/>\n&gt; &gt; &gt; &gt; &quot;Classpath&quot;-&gt;&quot;Bootstrap Entries&quot;-&gt;Add JAR&#39;s...<br/>\n&gt; &gt; &gt; &gt; 2. ...target/&lt;projectname&gt;/WEB-INF/lib opens<br/>\n&gt; &gt; &gt; &gt; 3. I choose persistence-api-1.0.jar<br/>\n&gt; &gt; &gt; &gt; 4. Apply-Run<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Hey, it works!!! But...<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; ...you must admit that this is pretty ugly solution, because:<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; 1. You need to add this persistance-api to every test class &quot;Run<br/>\n&gt; &gt; &gt; &gt; configuration&quot;<br/>\n&gt; &gt; &gt; &gt; 2. Path to persistence-api is at maven&#39;s target folder, which<br/>\n&gt; might<br/>\n&gt; &gt; &gt; &gt; not be there all the time (mvn clean)<br/>\n&gt; &gt; &gt; &gt; 3. If I don&#39;t do &quot;mvn test&quot; first, applicaitonContext-test.xml<br/>\n&gt; &gt; &gt; cannot<br/>\n&gt; &gt; &gt; &gt; be found.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; I don&#39;t understand the following: in &quot;Run configuration&quot; there&#39;s<br/>\n&gt; &gt; &gt; &gt; Bootstrap Entries and User Entries. What&#39;s the difference? In<br/>\n&gt; &quot;User<br/>\n&gt; &gt; &gt; &gt; Entries&quot; there&#39;s &quot;Maven Dependencies&quot;. Shouldn&#39;t this be enough<br/>\n&gt; for<br/>\n&gt; &gt; &gt; my<br/>\n&gt; &gt; &gt; &gt; tests to access persistance-api-1.0.jar?<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; Is there any complete (even the simplest one) example showing<br/>\n&gt; how to<br/>\n&gt; &gt; &gt; &gt; test JPA-Spring-Struts2? I don&#39;t believe that nobody wrote<br/>\n&gt; something<br/>\n&gt; &gt; &gt; &gt; about this - at last all these technologies and combination of<br/>\n&gt; those<br/>\n&gt; &gt; &gt; &gt; are mainstream - not some exotic combination.<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;, &quot;Joakim<br/>\n&gt; &gt; &gt; Ohlrogge&quot; &lt;joakim.ohlrogge@&gt;<br/>\n&gt; &gt; &gt; &gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Just a longshot, I have not done any JPA-development myself<br/>\n&gt; but it<br/>\n&gt; &gt; &gt; &gt; &gt; looks like you have a different version of the<br/>\n&gt; javax.persistance<br/>\n&gt; &gt; &gt; &gt; &gt; API:s when you run eclipse than when you run in maven. Based<br/>\n&gt; on<br/>\n&gt; &gt; &gt; that<br/>\n&gt; &gt; &gt; &gt; &gt; assumption my guess is that you are using a different java-<br/>\n&gt; version<br/>\n&gt; &gt; &gt; in<br/>\n&gt; &gt; &gt; &gt; &gt; eclipse than in maven. Ie, eclipse runs with java 1.6 and<br/>\n&gt; maven<br/>\n&gt; &gt; &gt; runs<br/>\n&gt; &gt; &gt; &gt; &gt; with java 1.5. (Sometimes API:s make it into the java platform<br/>\n&gt; &gt; &gt; between<br/>\n&gt; &gt; &gt; &gt; &gt; versions that can lead to this kind of conflicts)<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; In eclipse you can check your launch for junit to see which<br/>\n&gt; jre is<br/>\n&gt; &gt; &gt; used.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; It could also be the order of jar-files on your classpath. In<br/>\n&gt; that<br/>\n&gt; &gt; &gt; &gt; &gt; case it&#39;s also possible to change the order of the jar-files<br/>\n&gt; in<br/>\n&gt; &gt; &gt; the<br/>\n&gt; &gt; &gt; &gt; &gt; properties for your project. Make sure the order matches your<br/>\n&gt; pom.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Just some things to check, could help...<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; On Fri, Jan 9, 2009 at 9:49 AM, Marko Majkic &lt;majkic@&gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; It seems that applicationContext-test.xml is read, but<br/>\n&gt; there&#39;s<br/>\n&gt; &gt; &gt; failure<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; trace:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; java.lang.NoSuchMethodError:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; javax.persistence.PersistenceContext.properties()[Ljavax/persistence/P<br/>\n&gt; &gt; &gt; ersistenceProperty;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProce<br/>\n&gt; &gt; &gt;<br/>\n&gt; ssor$PersistenceElement.&lt;init&gt;(PersistenceAnnotationBeanPostProcessor.<br/>\n&gt; &gt; &gt; java:543)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProce<br/>\n&gt; &gt; &gt; ssor$2.doWith(PersistenceAnnotationBeanPostProcessor.java:376)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils<br/>\n&gt; &gt; &gt; .java:435)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils<br/>\n&gt; &gt; &gt; .java:412)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProce<br/>\n&gt; &gt; &gt;<br/>\n&gt; ssor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.ja<br/>\n&gt; &gt; &gt; va:363)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProce<br/>\n&gt; &gt; &gt;<br/>\n&gt; ssor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProc<br/>\n&gt; &gt; &gt; essor.java:296)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanF<br/>\n&gt; &gt; &gt;<br/>\n&gt; actory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapable<br/>\n&gt; &gt; &gt; BeanFactory.java:745)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanF<br/>\n&gt; &gt; &gt; actory.doCreateBean(AbstractAutowireCapableBeanFactory.java:448)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanF<br/>\n&gt; &gt; &gt; actory$1.run(AbstractAutowireCapableBeanFactory.java:409)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at java.security.AccessController.doPrivileged(Native<br/>\n&gt; Method)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanF<br/>\n&gt; &gt; &gt; actory.createBean(AbstractAutowireCapableBeanFactory.java:380)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory$1.getObj<br/>\n&gt; &gt; &gt; ect(AbstractBeanFactory.java:264)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry<br/>\n&gt; &gt; &gt; .getSingleton(DefaultSingletonBeanRegistry.java:221)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBea<br/>\n&gt; &gt; &gt; n(AbstractBeanFactory.java:261)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(<br/>\n&gt; &gt; &gt; AbstractBeanFactory.java:185)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(<br/>\n&gt; &gt; &gt; AbstractBeanFactory.java:164)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.p<br/>\n&gt; &gt; &gt; reInstantiateSingletons(DefaultListableBeanFactory.java:429)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.context.support.AbstractApplicationContext.finishB<br/>\n&gt; &gt; &gt; eanFactoryInitialization(AbstractApplicationContext.java:729)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh<br/>\n&gt; &gt; &gt; (AbstractApplicationContext.java:381)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native<br/>\n&gt; Method)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.j<br/>\n&gt; &gt; &gt; ava:39)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccess<br/>\n&gt; &gt; &gt; orImpl.java:25)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at java.lang.reflect.Method.invoke(Method.java:597)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.springframework.test.jpa.AbstractJpaTests.runBare(AbstractJpaTests<br/>\n&gt; &gt; &gt; .java:230)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at junit.framework.TestResult$1.protect(TestResult.java:106)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; junit.framework.TestResult.runProtected(TestResult.java:124)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at junit.framework.TestResult.run(TestResult.java:109)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at junit.framework.TestCase.run(TestCase.java:120)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at junit.framework.TestSuite.runTest(TestSuite.java:230)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at junit.framework.TestSuite.run(TestSuite.java:225)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(J<br/>\n&gt; &gt; &gt; Unit3TestReference.java:130)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.<br/>\n&gt; &gt; &gt; java:38)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(Remote<br/>\n&gt; &gt; &gt; TestRunner.java:460)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(Remote<br/>\n&gt; &gt; &gt; TestRunner.java:673)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestR<br/>\n&gt; &gt; &gt; unner.java:386)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; at<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTest<br/>\n&gt; &gt; &gt; Runner.java:196)<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; Maven 2 &quot;mvn test&quot; is working fine.<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; On Fri, Jan 9, 2009 at 12:49 AM, Cenk ï¿½ivici  <br/>\n&gt; &lt;cenk.civici@&gt;<br/>\n&gt; &gt; &gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; Hi,<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; What happens when you try to run this in Eclipse ( I am<br/>\n&gt; &gt; &gt; guessing<br/>\n&gt; &gt; &gt; &gt; thats<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; what you mean by running alone). Does it fail when it tries<br/>\n&gt; to<br/>\n&gt; &gt; &gt; locate<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; the app context? Is app context xml on the classpath? What<br/>\n&gt; &gt; &gt; error do<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; you see?<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; Cheers<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; Cenk<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt; On Thu, Jan 8, 2009 at 7:38 PM, Marko Majkic &lt;majkic@&gt;<br/>\n&gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; Thanks for the reference. I did something that works, but<br/>\n&gt; it<br/>\n&gt; &gt; &gt; works<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; only when I do &quot;mvn test&quot;. I cannot run test alone.<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; I use AbstractJpaTests and those two &quot;preparing&quot; methods:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; ========<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; package net.beotel.service;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import java.util.List;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import javax.persistence.EntityManager;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import javax.persistence.EntityManagerFactory;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import javax.persistence.Persistence;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import net.beotel.model.Bank;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import org.springframework.test.jpa.AbstractJpaTests;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; import<br/>\n&gt; &gt; &gt; org.springframework.transaction.annotation.Transactional;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; public class BankServiceTest extends AbstractJpaTests {<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; private BankServiceImpl bankService = new<br/>\n&gt; BankServiceImpl() ;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; private static EntityManagerFactory emf;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; private static EntityManager em;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; public void onSetUp(){<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; emf = Persistence.createEntityManagerFactory(&quot;testing1&quot;);<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; em = emf.createEntityManager();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; em.getTransaction().begin();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; bankService.setEntityManager(em);<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; public void onTearDown(){<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; em.getTransaction().commit();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; public BankService getBankService() {<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; return bankService;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; public BankServiceTest() {<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; super();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; protected String[] getConfigLocations() {<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; return new String[] {<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; &quot;classpath:applicationContext-test.xml&quot;,<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; };<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; @Transactional<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; public void testAll() throws Exception {<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; List&lt;Bank&gt; banks = bankService.findAll();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; int initialCount = banks.size();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; Bank bank= new Bank();<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; bank.setName(&quot;OTP&quot;);<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; bankService.save(bank);<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; assertNotNull(bank.getId());<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; }<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; ========<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; Is there any way to run this test alone? Do I have to<br/>\n&gt; include<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; &quot;applicationContext-test.xml&quot; (from the<br/>\n&gt; src/test/resources)<br/>\n&gt; &gt; &gt; &gt; explicitly<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; in the code? I don&#39;t have to do this with my application<br/>\n&gt; &gt; &gt; (include<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; applicationContext.xml from the web.xml). Do I have to<br/>\n&gt; include<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; explcitly persistence-unit?<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; At last, is there any working example (simple) testing<br/>\n&gt; some<br/>\n&gt; &gt; &gt; service<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; (dao) using JPA? Thanks.<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; On Wed, Jan 7, 2009 at 8:58 PM, Cenk ï¿½ivici<br/>\n&gt; &lt;cenk.civici@&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Hi,<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Have you looked at Spring integration testing support?<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://static.springframework.org/spring/docs/2.5.x/reference/testing.\">http://static.springframework.org/spring/docs/2.5.x/reference/testing.</a><br/>\n&gt; &gt; &gt; html#testcontext-framework<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Spring TestContext lets you load an app context,<br/>\n&gt; configure<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; transactions per fixture/method etc.<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Cheers<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Cenk ï¿½ivici<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; On Wed, Jan 7, 2009 at 1:39 AM, majkic@ &lt;majkic@&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; Hi guys,<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; I&#39;m new in the group and I couldn&#39;t find anything on<br/>\n&gt; testing<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; combination in the title.<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; I have applicationContext.xml where EntityManagerFactory<br/>\n&gt; is<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; configured. Model classes are mapped using Annotations.<br/>\n&gt; My<br/>\n&gt; &gt; &gt; service<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; classes (DAO - for example BankImpl) implements<br/>\n&gt; interfaces<br/>\n&gt; &gt; &gt; (for<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; example Bank). Methods from these implementation are<br/>\n&gt; called<br/>\n&gt; &gt; &gt; in<br/>\n&gt; &gt; &gt; &gt; Struts2<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; action classes (injected).<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; How can I configure my tests to be runnable as single<br/>\n&gt; tests<br/>\n&gt; &gt; &gt; and as<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; Maven2 tests? Is there any simple example - tutorial?<br/>\n&gt; Should<br/>\n&gt; &gt; &gt; I<br/>\n&gt; &gt; &gt; &gt; have<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; separate applicationContext-test.xml?<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; --<br/>\n&gt; &gt; &gt; &gt; &gt; -----------------------------------------------------<br/>\n&gt; &gt; &gt; &gt; &gt; Joakim Ohlrogge<br/>\n&gt; &gt; &gt; &gt; &gt; Agical AB<br/>\n&gt; &gt; &gt; &gt; &gt; Vï¿½sterlï¿½nggatan 79, 2 tr<br/>\n&gt; &gt; &gt; &gt; &gt; 111 29 Stockholm, SWEDEN<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Mobile: +46-708-754004<br/>\n&gt; &gt; &gt; &gt; &gt; Blog: johlrogge.wordpress.com<br/>\n&gt; &gt; &gt; &gt; &gt; E-mail: joakim.ohlrogge@<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; --<br/>\n&gt; &gt; -----------------------------------------------------<br/>\n&gt; &gt; Joakim Ohlrogge<br/>\n&gt; &gt; Agical AB<br/>\n&gt; &gt; Vï¿½sterlï¿½nggatan 79, 2 tr<br/>\n&gt; &gt; 111 29 Stockholm, SWEDEN<br/>\n&gt; &gt;<br/>\n&gt; &gt; Mobile: +46-708-754004<br/>\n&gt; &gt; Blog: johlrogge.wordpress.com<br/>\n&gt; &gt; E-mail: joakim.ohlrogge@...<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;  coration: underline; } #ygrp-sponsor #hd{ color: #999;  <br/>\n&gt; font-size: 77%; } #ygrp-sponsor #ov{ padding: 6px 13px; background- <br/>\n&gt; color: #e0ecee; margin-bottom: 20px; } #ygrp-sponsor #ov  <br/>\n&gt; ul{ padding: 0 0 0 8px; margin: 0; } #ygrp-sponsor #ov li{ list- <br/>\n&gt; style-type: square; padding: 6px 0; font-size: 77%; } #ygrp-sponsor  <br/>\n&gt; #ov li a{ text-decoration: none; font-size: 130%; } #ygrp-sponsor  <br/>\n&gt; #nc{ background-color: #eee; margin-bottom: 20px; padding: 0 8px; }  <br/>\n&gt; #ygrp-sponsor .ad{ padding: 8px 0; } #ygrp-sponsor .ad #hd1{ font- <br/>\n&gt; family: Arial; font-weight: bold; color: #628c2a; font-size: 100%;  <br/>\n&gt; line-height: 122%; } #ygrp-sponsor .ad a{ text-decoration: none; }  <br/>\n&gt; #ygrp-sponsor .ad a:hover{ text-decoration: underline; } #ygrp- <br/>\n&gt; sponsor .ad p{ margin: 0; } o{font-size: 0; } .MsoNormal{ margin: 0  <br/>\n&gt; 0 0 0; } #ygrp-text tt{ font-size: 120%; } blockquote{margin: 0 0 0  <br/>\n&gt; 4px;} .replbq{margin:4} --&gt; -|**|PrettyHtmlEnd|**|-~--&gt;<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 21309, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1232466643", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21306, 
    "headers": {
        "inReplyToHeader": "PGdsNGQ1NCtmODBjQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDNFQTUwMzBCLTU0RDAtNDhDNy04MjUyLTgzQzI1NjA2Q0U1NUBnbWFpbC5jb20+", 
        "referencesHeader": "PGdsNGQ1NCtmODBjQGVHcm91cHMuY29tPg=="
    }
}