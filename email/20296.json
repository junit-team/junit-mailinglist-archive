{
    "numMessagesInTopic": 1, 
    "nextInTime": 20297, 
    "senderId": "wqKIhEpjy9REv7b0xDlqS27wjlH8gyIwFci9BXwyZ1ONLbaSpc-J2qT8HpeSQqFaYGqcWPsfqyLhidMC9z1Zvyi-z_T_v2HeLs7poTIg", 
    "systemMessage": true, 
    "subject": "New framework for database JUnit testing: Dependent Object Framework", 
    "from": "&quot;justingordon&quot; &lt;justingordon@...&gt;", 
    "authorName": "justingordon", 
    "msgSnippet": "Dependent Object Framework The Dependent Object Framework (DOF) (http://sourceforge.net/projects/dof/  ) enables", 
    "msgId": 20296, 
    "profile": "justingordon", 
    "topicId": 20296, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 100815734, 
    "messageBody": "<div id=\"ygrps-yiv-1310662013\">Dependent Object Framework<br/>\nThe Dependent Object Framework (DOF)<br/>\n(<a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/projects/dof/\">http://sourceforge.net/projects/dof/</a><br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/projects/dof/\">http://sourceforge.net/projects/dof/</a>&gt; ) enables efficient JUnit testing<br/>\nand Test Driven Development against code that depends on objects that<br/>\nare persisted (e.g., database). This code was originally developed to<br/>\nadd JUnit tests that used the real database code rather than trying to<br/>\nmock out all the dependencies in a large commercial enterprise product,<br/>\nIBM&#39;s WebSphere Product Center.<br/>\n<br/>\nLet&#39;s look at a simple example. Consider that you are writing a<br/>\nJUnit test for invoice functionality. Your invoice needs a product<br/>\nrecord in the database. So you simply put this line at the top of your<br/>\nJUnit test:<br/>\n<br/>\nProduct product = (Product) DOF.require(&quot;product.13.xml&quot;);<br/>\n<br/>\nWhat you have not done is pre-load the database with a SQL script. Your<br/>\ntest is just saying &quot;make sure that the product record 13 exists in<br/>\nthe database and give me that object. You know that the product record<br/>\nwill have other records that it depends on, but you only need to specify<br/>\nthat your test requires the product record. In fact, the file<br/>\n&quot;product.13.xml&quot; is used by another test, so you don&#39;t even<br/>\nneed to create it.<br/>\n<br/>\nCan it get any easier than this for specifying what your test needs on<br/>\ntop of an unpopulated database?<br/>\n<br/>\nThe DOF makes it easy to write tests with database dependencies.<br/>\nAdvantages include:<br/>\n1. Facilitation of testing legacy enterprise code lacking JUnit tests.<br/>\nWith the DOF, you do not need to untangle the database dependencies in<br/>\norder to write mock objects.<br/>\n2. Easy reuse of database objects needed for unit tests.<br/>\n3. Very simple to define which objects a test depends upon. Any indirect<br/>\ndependencies (dependencies of the dependencies) are specified in the<br/>\nfiles defining the dependent objects. Thus, a JUnit test can depend on<br/>\nobject A, and object A might depend on object C. The test simply needs<br/>\nto specify object A, and the definition file for object A will specify<br/>\nobject C.<br/>\n4. Very easy to delete persistent objects created for a test. When one<br/>\nis tweaking tests, this is very helpful.<br/>\n5. Very easy to add support for new database object types.<br/>\n<br/>\nSo how does this work?<br/>\n<br/>\n1. You define a data file format for your object type, such as XML.<br/>\n<br/>\n2. You write a &quot;handler&quot; class for this data file format. The<br/>\nhandler class implements an interface DependentObjectHandler composed of<br/>\n&quot;create(fileToLoad)&quot;, &quot;get(primaryKey)&quot;, and<br/>\n&quot;delete(primaryKey)&quot;<br/>\n<br/>\n3. You specify the mapping of the object types to the handlers, in a<br/>\nfile called handler_mappings.properties. For example, to specify that<br/>\nfiles named like product.13.xml map to the ProductXmlFactory class:<br/>\nproduct.xml=myPackage.ProductXmlFactory<br/>\n<br/>\n4. You create a data file for the object you want to create, named like<br/>\n{objectType}.{primaryKey}.{fileExtension} such as<br/>\n&quot;product.13.xml&quot;<br/>\n<br/>\n5. The data file contains comment lines indicating its dependencies. For<br/>\nexample, this line indicates that the product 13 depends on the<br/>\nmanufacturer 33 existing in the database.<br/>\n&lt;!-- $require(&quot;manufacturer.33.xml&quot;); --&gt;<br/>\n<br/>\nYou can download the framework including the JavaDoc and an example that<br/>\nuses simple XML and hsqldb here: <a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/projects/dof/\">http://sourceforge.net/projects/dof/</a><br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/projects/dof/\">http://sourceforge.net/projects/dof/</a>&gt;<br/>\n<br/>\nPlease let me know if you find this useful and if you&#39;d like to<br/>\ncontribute. I&#39;m working on extending the example to support<br/>\nhibernate. I suspect that the project might not need to change for this<br/>\nsupport.<br/>\n<br/>\nI&#39;m presenting this material at SD West 2008 next month:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.cmpevents.com/SDw8/a.asp?option=G&V=3&id=558049\">https://www.cmpevents.com/SDw8/a.asp?option=G&V=3&id=558049</a><br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.cmpevents.com/SDw8/a.asp?option=G&V=3&id=558049\">https://www.cmpevents.com/SDw8/a.asp?option=G&V=3&id=558049</a>&gt;<br/>\n<br/>\nCheers,<br/>\n<br/>\nJustin Gordon<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 20295, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1202197680", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGZvOTRiZyszNG9wQGVHcm91cHMuY29tPg=="
    }
}