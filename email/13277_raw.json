{
    "numMessagesInTopic": 3, 
    "nextInTime": 13278, 
    "senderId": "_dxmhr85YYiY6O3CaN_4G7cRUw-zaXq4COXXTTStvDIibDnCpIWkruwBI_UUHbrPizk5Y_U5udR1SkPvLNMY03qSqwB9_Pao6JzSwZxz", 
    "systemMessage": false, 
    "subject": "Re: [junit] Object equality", 
    "from": "Jason Rogers &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "... I use something of this sort... All my objects dump off to an EqualityStrategy class that first determines whether or not 2 objects can be compared for", 
    "msgId": 13277, 
    "rawEmail": "Return-Path: &lt;jacaetevha@...&gt;\r\nX-Sender: jacaetevha@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 46615 invoked from network); 11 Apr 2005 21:46:27 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m7.grp.scd.yahoo.com with QMQP; 11 Apr 2005 21:46:27 -0000\r\nReceived: from unknown (HELO out1.smtp.messagingengine.com) (66.111.4.25)\n  by mta1.grp.scd.yahoo.com with SMTP; 11 Apr 2005 21:46:27 -0000\r\nReceived: from frontend3.messagingengine.com (frontend3.internal [10.202.2.152])\n\tby frontend1.messagingengine.com (Postfix) with ESMTP id ECEC7C72980\n\tfor &lt;junit@yahoogroups.com&gt;; Mon, 11 Apr 2005 17:46:25 -0400 (EDT)\r\nX-Sasl-enc: sk1RAW08L+dBbBlM0gsrtg 1113255984\r\nReceived: from [10.2.2.25] (w018.z064003232.det-mi.dsl.cnc.net [64.3.232.18])\n\tby frontend3.messagingengine.com (Postfix) with ESMTP id 2F23B247F3\n\tfor &lt;junit@yahoogroups.com&gt;; Mon, 11 Apr 2005 17:46:24 -0400 (EDT)\r\nTo: JUnit Group &lt;junit@yahoogroups.com&gt;\r\nIn-Reply-To: &lt;d3de6c+i3us@...&gt;\r\nReferences: &lt;d3de6c+i3us@...&gt;\r\nContent-Type: text/plain\r\nMessage-Id: &lt;1113255875.17818.33.camel@...-aa.riskmetrics.com&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Ximian Evolution 1.4.6 \r\nDate: Mon, 11 Apr 2005 17:44:36 -0400\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: Jason Rogers &lt;jacaetevha@...&gt;\r\nSubject: Re: [junit] Object equality\r\nX-Yahoo-Group-Post: member; u=109352929\r\nX-Yahoo-Profile: jacaetev\r\n\r\nOn Mon, 2005-04-11 at 04:57, umciggy2000 wrote:\n&gt; \n&gt; Hi!\n&gt; \n&gt; One way to test if two objects have tha same data in a test is to use\n&gt; the assertEquals(Object a, Object b) method and then implement\n&gt; equals() and hashCode() in the tested classes. This seems like\n&gt; simplest and most elegant solution to me.\n&gt; \n&gt; The problem though is when a test fails, you don&#39;t get any\n&gt; informartion about what field(s) that actually differed between the\n&gt; two objects. You could also implement a toString() method, but for\n&gt; large classes it&#39;s still quite hard see in the test output where the\n&gt; mismatch is.\n&gt; \n&gt; Because of this I usually write a series assertEquals(a.getFoo(),\n&gt; b.getFoo()) statements in my test case instead, event though I would\n&gt; prefer the equals() way of doing it. \n&gt; \n&gt; Does anyone have a neat solution to using the equals() method in tests\n&gt; and still get good output from the tests when something fails? \n\nI use something of this sort...\n\nAll my objects dump off to an EqualityStrategy class that first\ndetermines whether or not 2 objects can be compared for equality (eg.\nnull checks, class/subclass comparisons) then checks for the equality of\nmembers.  The EqualityStrategy accepts an EqualityEventListener which\nwill be notified at each member equality check.  For tests I register an\nEqualityEventListenerSupport instance with the objects being compared\n(see code below).  A failure at a particular member will generate an\nEqualityEvent which the listener will receive and cause the test to fail\nwith the description of the event (which is usually the name of the\nmember that was not equal between the two objects).\n\nThis use of the EqualityStrategy was a design decision made very early\non in the project so leveraging its use of EqualityEvents in tests was a\nno-brainer.  If you had to retrofit your system with this it might not\nbe so easy, depending on the number of classes your system contained --\nbut you could always do it bit by bit.\n\nI hope this helps at least to start the creative juices flowing.\n\nCode:\n***************\npublic class EqualityEventListenerSupport implements\nEqualityEventListener {\n\n    private boolean failOnUnEqualEvents;\n\n    public EqualityEventListenerSupport() {\n    }\n\n    public EqualityEventListenerSupport(boolean failOnUnEqualEvents) {\n        failOnUnEqualEvents(failOnUnEqualEvents);\n    }\n\n    public boolean failOnUnEqualEvents() {\n        return failOnUnEqualEvents;\n    }\n\n    public EqualityEventListenerSupport failOnUnEqualEvents(boolean\nfailOnUnEqualEvents) {\n        this.failOnUnEqualEvents = failOnUnEqualEvents;\n        return this;\n    }\n\n    public void notify(EqualityEvent event) {\n        if (!event.objectsAreEqual() && failOnUnEqualEvents()) {\n            Assert.fail(event.describe());\n        }\n    }\n}\n\n***************\npublic interface EqualityEventListener {\n\n    public final static EqualityEventListener NULL_INSTANCE = new\nEqualityEventListener() {\n\n        public void notify(EqualityEvent event) {\n        }\n    };\n\n    public void notify(EqualityEvent event);\n}\n\n***************\npublic interface EqualityEvent {\n\n    public boolean objectsAreEqual();\n\n    public String describe();\n\n    public Object first();\n\n    public Object second();\n}\n\n  * -- \n    Jason Rogers\n    \n    &quot;I am crucified with Christ: nevertheless I live; yet not I,\n    but Christ liveth in me: and the life which I now live in \n    the flesh I live by the faith of the Son of God, who loved \n    me, and gave himself for me.&quot;\n        Galatians 2:20\n\n\n", 
    "profile": "jacaetev", 
    "topicId": 13272, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "prevInTime": 13276, 
    "contentTrasformed": false, 
    "postDate": "1113255876", 
    "canDelete": false, 
    "nextInTopic": 13282, 
    "prevInTopic": 13272, 
    "headers": {
        "inReplyToHeader": "PGQzZGU2YytpM3VzQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDExMTMyNTU4NzUuMTc4MTguMzMuY2FtZWxAZWFudXMucmlza21ldHJpY3MtYWEucmlza21ldHJpY3MuY29tPg==", 
        "referencesHeader": "PGQzZGU2YytpM3VzQGVHcm91cHMuY29tPg=="
    }
}