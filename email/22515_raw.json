{
    "numMessagesInTopic": 8, 
    "nextInTime": 22516, 
    "senderId": "vtG-dxK1vblMtbanaaMguY8Z2_tM8E-vQp8zs54Neo4PMv8FuDU0Z-D-GCcoDnQv92Ffib4AwOKtDLz-S-cbrBq4Qu0mwQRl-nW4MQd9D5uu3xRST_-e", 
    "systemMessage": false, 
    "subject": "RE: [junit] JUnitBenchmarks (application of @Rule)", 
    "from": "&quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;", 
    "authorName": "Loritsch, Berin C.", 
    "msgSnippet": "Iâ€™m not going to argue at all about the benchmark comments.  Essentially we are in agreement.  Since most of my tests (currently only self tests) are less", 
    "msgId": 22515, 
    "rawEmail": "Return-Path: &lt;prvs=1677b8d1a0=berin.loritsch@...&gt;\r\nX-Sender: prvs=1677b8d1a0=berin.loritsch@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 8316 invoked from network); 8 Mar 2010 20:39:11 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m3.grp.sp2.yahoo.com with QMQP; 8 Mar 2010 20:39:11 -0000\r\nX-Received: from unknown (HELO camv02-relay2.casc.gd-ais.com) (192.5.164.99)\n  by mta2.grp.re1.yahoo.com with SMTP; 8 Mar 2010 20:39:10 -0000\r\nX-Received: from ([10.73.100.22])\n\tby camv02-relay2.casc.gd-ais.com with SMTP  id 5203374.17749662;\n\tMon, 08 Mar 2010 12:23:31 -0800\r\nX-Received: from vaff01-mail01.ad.gd-ais.com ([10.13.13.20]) by camv02-fes01.ad.gd-ais.com with Microsoft SMTPSVC(6.0.3790.3959);\n\t Mon, 8 Mar 2010 12:23:30 -0800\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Mon, 8 Mar 2010 15:23:30 -0500\r\nMessage-ID: &lt;75F5ED8A5A553646A46E00E6EC854FA3045132ED@...-ais.com&gt;\r\nIn-Reply-To: &lt;baa8c5731003081136u4b53aff2m8f5960ade81d41a5@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [junit] JUnitBenchmarks (application of @Rule)\r\nThread-Index: Acq++ebhjnGR82WZTeOftqteChIJnwAANTqQ\r\nReferences: &lt;hn2n9s+r7lq@...&gt; &lt;4f7da6b91003080630t1b5a6cdcxa7fdff79eb31c7f9@...&gt; &lt;baa8c5731003080647l2a014397hbfabf4203a109014@...&gt; &lt;4f7da6b91003080702k7eb7fd02n1ffda317a12ac274@...&gt; &lt;baa8c5731003080827r3549dafex2b8c279571400702@...&gt; &lt;75F5ED8A5A553646A46E00E6EC854FA304513290@...-ais.com&gt; &lt;baa8c5731003081136u4b53aff2m8f5960ade81d41a5@...&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReturn-Path: Berin.Loritsch@...\r\nX-OriginalArrivalTime: 08 Mar 2010 20:23:30.0843 (UTC) FILETIME=[37F72EB0:01CABEFD]\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Loritsch, Berin C.&quot; &lt;berin.loritsch@...&gt;\r\nSubject: RE: [junit] JUnitBenchmarks (application of @Rule)\r\nX-Yahoo-Group-Post: member; u=428096731; y=FitJ4qdEaLWH2zlZJoBO5UqrIFTMVubv2dULCUMUHkd1LK5o\r\nX-Yahoo-Profile: bloritsch\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI=E2=80=99m not going to argue at all about the benchmark comments.  Essent=\r\nially we are in agreement.  Since most of my tests (currently only self tes=\r\nts) are less than a ms, very minor differences in timing can affect the spe=\r\ned of the tests to a very large degree.  For example, running my own tests =\r\nwithin the Maven infrastructure has provided a variance between 2ms and 9ms=\r\n to run the entire suite of tests.  That variance depends on whether the ga=\r\nrbage collector is running during testing or not.\r\n\r\n=20\r\n\r\nThe goal of the library isn=E2=80=99t so much to work miracles as it is to=\r\n make it easier to do this type of testing.\r\n\r\n=20\r\n\r\nFor QoS testing, let=E2=80=99s say you have a suite of tests that simply v=\r\nerify correctness.  For a simple system, that can be enough.  However, you =\r\nmay discover race conditions and deadlocks in parallel code in a production=\r\n environment.  The idea is to run all those correctness tests over and over=\r\n until the system passes with a high enough degree of certainty or you intr=\r\noduce a failure.  In addition to ensuring correctness under load, the test =\r\nframework will allow you to ensure that all the responses are within a cert=\r\nain timeout threshold.\r\n\r\n=20\r\n\r\nAt least that is the end goal.  Another short win would be when there are =\r\na mix of short and long running tests.  Unless you have a suite of many lon=\r\ng running tests, running the tests in parallel will allow you to shorten th=\r\ne clock time of testing.  Shorter clock times mean quicker turn around for =\r\ntesting.  That in turn encourages the tests to be run more frequently.\r\n\r\n=20\r\n\r\nThere=E2=80=99s a lot to be worked out as of yet.  My =E2=80=9CHoly Grail=\r\n=E2=80=9D, so to speak, is to have the executing tests behave as if it were=\r\n running single threaded from the perspective of the test writer.  That is =\r\nmy real end goal.  QoS testing would be a nice and easy win along with the =\r\nproject.\r\n\r\n=20\r\n\r\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of Da=\r\nwid Weiss\r\nSent: Monday, March 08, 2010 2:37 PM\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] JUnitBenchmarks (application of @Rule)\r\n\r\n=20\r\n\r\n =20\r\n\r\n&gt; I started a new project to flesh out my ideas from the RT I posted last =\r\nweek that might fit this solution well.  In essence, the project I\r\n\r\nOh, interesting.\r\n\r\n&gt; gotten it to the place where it can run its own tests and the result eve=\r\nnts are processed in a separate thread.\r\n\r\n&gt; On a minor side note, when the bulk of your tests are short and do not i=\r\nnvolve a lot of objects, you can see as much as 100% speed gains.  Essentia=\r\nlly, by short I mean less than a millisecond in duration.  The speed gains =\r\nare achieved by not penalizing the tests while you write to the console.  I=\r\nn more substantive tests you will not see as much of a speed gain.\r\n\r\nMicro-benchmarking is tricky itself, no library is going to guarantee\r\ncommon sense here. What you&#39;re talking about is really a bad benchmark\r\n-- if you include an operation with such a large time variance\r\n(writing to console), the results will have a high variance too, of\r\ncourse.\r\n\r\n&gt; Essentially the QoS testing framework will have some hooks to specify nu=\r\nmbers of runs, parameters, etc.  My hope is that at the very\r\n\r\nThis library I posted does have some sort of this -- there are\r\nannotations that drive the benchmarking process (number of warmup\r\nruns, benchmarks runs, reset for the GC on every round, etc.).\r\n\r\n&gt; testing for benchmarks and quality of service is a little different from=\r\n regular unit testing.\r\n\r\nI believe it may be, don&#39;t know much about QoS.\r\n\r\n&gt; Also note: for more accurate test timing, use the System.nanoTime().  Mo=\r\nst JVM implementations only increment the system clock every 10ms.  That=E2=\r\n=80=99s fine enough for telling the time, but when your individual tests ar=\r\ne typically faster than 10ms that lack of granularity can hurt.\r\n\r\nIn fact they are both equally unreliable, so changing to theoretically\r\nsmaller granularity is not really going to help. From our experience,\r\nyou need to design a benchmark that takes a more significant amount of\r\ntime (in the order of milliseconds at least) and make sure HotSpot has\r\ndone its job (and no deoptimizations occur). In any other scenario\r\nbenchmark results will be too close to noise and prone to large\r\nvariance distortions due to background processes and other activity.\r\n\r\nDawid\r\n\r\n\r\n\r\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "bloritsch", 
    "topicId": 22503, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 428096731, 
    "prevInTime": 22514, 
    "contentTrasformed": false, 
    "postDate": "1268079810", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 22514, 
    "headers": {
        "inReplyToHeader": "PGJhYThjNTczMTAwMzA4MTEzNnU0YjUzYWZmMm04ZjU5NjBhZGU4MWQ0MWE1QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDQ1MTMyRURAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "referencesHeader": "PGhuMm45cytyN2xxQGVHcm91cHMuY29tPiA8NGY3ZGE2YjkxMDAzMDgwNjMwdDFiNWE2Y2RjeGE3ZmRmZjc5ZWIzMWM3ZjlAbWFpbC5nbWFpbC5jb20+IDxiYWE4YzU3MzEwMDMwODA2NDdsMmEwMTQzOTdoYmZhYmY0MjAzYTEwOTAxNEBtYWlsLmdtYWlsLmNvbT4gPDRmN2RhNmI5MTAwMzA4MDcwMms3ZWI3ZmQwMm4xZmZkYTMxN2ExMmFjMjc0QG1haWwuZ21haWwuY29tPiA8YmFhOGM1NzMxMDAzMDgwODI3cjM1NDlkYWZleDJiOGMyNzk1NzE0MDA3MDJAbWFpbC5nbWFpbC5jb20+IDw3NUY1RUQ4QTVBNTUzNjQ2QTQ2RTAwRTZFQzg1NEZBMzA0NTEzMjkwQHZhZmYwMS1tYWlsMDEuYWQuZ2QtYWlzLmNvbT4gPGJhYThjNTczMTAwMzA4MTEzNnU0YjUzYWZmMm04ZjU5NjBhZGU4MWQ0MWE1QG1haWwuZ21haWwuY29tPg=="
    }
}