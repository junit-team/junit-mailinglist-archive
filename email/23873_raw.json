{
    "topicId": 23873, 
    "postDate": "1335622761", 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "from": "&quot;.&quot; &lt;tesco@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "gIhHMqzKIeYb_cPx1A4hUgmbsVIPzDgoGWwyJQDuhS-Gaqwo2JrpE4y3_HGjyj4LopZm-Ak1s0Csr6w", 
    "nextInTime": 23874, 
    "userId": 527614618, 
    "prevInTime": 23872, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDRGOUJGQzY5LjEwMDA0MDlAZ214LmluZm8+"
    }, 
    "authorName": ".", 
    "numMessagesInTopic": 2, 
    "msgSnippet": "Hi, I m not able to test a OSGi declarative service with a JUnit Plugin Test in Eclipse. Although all necessary bundles (especially the Service, the Consumer ", 
    "contentTrasformed": false, 
    "msgId": 23873, 
    "nextInTopic": 23884, 
    "systemMessage": true, 
    "rawEmail": "Return-Path: &lt;tesco@...&gt;\r\nReceived: (qmail 49486 invoked from network); 28 Apr 2012 14:39:55 -0000\r\nReceived: from unknown (98.137.34.45)\n  by m1.grp.sp2.yahoo.com with QMQP; 28 Apr 2012 14:39:55 -0000\r\nReceived: from unknown (HELO ng6-vm5.bullet.mail.gq1.yahoo.com) (98.136.219.70)\n  by mta2.grp.sp2.yahoo.com with SMTP; 28 Apr 2012 14:39:55 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1335623995; bh=lEr/ePsIqORHj94V4QevDZtOiwMCMf104W/T4HN3OPA=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:X-Authenticated:X-Provags-ID:Message-ID:Date:User-Agent:MIME-Version:To:Content-Type:Content-Transfer-Encoding:X-Y-GMX-Trusted:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=qRNCmXJ/j9RSzbkkIqDm5oLB5Dv4cWrtjl02BoX5AxGXB/Pd0tdXTfoLn4CAtKG/Mk4Q6lRZOmPIGIRGgpF2lPvIeD4CF7mCUnE/SrpYYRIf6z+WzG1CQMJeNPmUVA0u\r\nReceived: from [98.137.0.88] by ng6.bullet.mail.gq1.yahoo.com with NNFMP; 28 Apr 2012 14:39:55 -0000\r\nReceived: from [98.137.34.72] by tg8.bullet.mail.gq1.yahoo.com with NNFMP; 28 Apr 2012 14:39:55 -0000\r\nX-Sender: tesco@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 18245 invoked from network); 28 Apr 2012 14:19:29 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m10.grp.sp2.yahoo.com with QMQP; 28 Apr 2012 14:19:29 -0000\r\nX-Received: from unknown (HELO mailout-de.gmx.net) (213.165.64.22)\n  by mta1.grp.sp2.yahoo.com with SMTP; 28 Apr 2012 14:19:29 -0000\r\nX-Received: (qmail invoked by alias); 28 Apr 2012 14:19:28 -0000\r\nX-Received: from p57B46DE8.dip.t-dialin.net (EHLO [192.168.0.2]) [87.180.109.232]\n  by mail.gmx.net (mp010) with SMTP; 28 Apr 2012 16:19:28 +0200\r\nX-Authenticated: #20337039\r\nX-Provags-ID: V01U2FsdGVkX19fSE4vD+NfwKar8yYphgrrjyCLLYvWeVaMeeD9Nz\n\t/QBu46mHeV8c28\r\nMessage-ID: &lt;4F9BFC69.1000409@...&gt;\r\nDate: Sat, 28 Apr 2012 16:19:21 +0200\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120420 Thunderbird/12.0\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-15; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Y-GMX-Trusted: 0\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;.&quot; &lt;tesco@...&gt;\r\nSubject: Testing of OSGi declarative services\r\nX-Yahoo-Group-Post: member; u=527614618\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 28 Apr 2012 14:39:52 -0000\r\n\r\nHi,\n\nI&#39;m not able to test a OSGi declarative service with a JUnit Plugin Test \nin Eclipse.\n\nAlthough all necessary bundles (especially the Service, the Consumer \nwith the JUnit Test class, org.eclipse.equinox.ds, \norg.eclipse.equinox.util, org.eclipse.jdt.junit.runtime and \norg.eclipse.pde.junit.runtime) are added to the Run Configuration of the \nPlugin Test and the bind/unbind methods are defined in the test class it \ncomes to an Null Pointer Exception (the bind method seems to be not \nexecuted), if I access the Service attribute (e.g. public static \nIMyService myService) in a JUnit Test method.\n\nAccording to this site \nhttp://stackoverflow.com/questions/7161338/using-osgi-declarative-services-in-the-context-of-a-junit-test \nthe reason for this exception is that the OSGi framework is in a race \ncondition with the JUnit tests runner context. The solution there to use \na Count Down Latch that waits in a @Before method until the needed \nservice (that should be tested) is binded, seems to be not working for \nme. In my case the await() method blocks infinitely, so the test will be \nnever executed. On the other hand, if I define a maximum time to wait, \ne.g. await(10, TimeUnit.SECONDS), it comes after this time again to the \nNull Pointer Exception.\n\nWhat is the correct way to test a OSGi declarative service with JUnit?\n\nAny help is appreciated.\n\nRegards,\nRene\n\n", 
    "subject": "Testing of OSGi declarative services"
}