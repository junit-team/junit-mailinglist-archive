{
    "numMessagesInTopic": 3, 
    "nextInTime": 3515, 
    "senderId": "VQhdd54_3lWs8X9_Y7t8tE3uKs-4NT1a1V9-spODo2MsL_0nntZam-R5MOtW4DXup2xtGT72WfyxLk70ai6bsDb2dHDV31nvAtKnfjzmYx5x8Qua", 
    "systemMessage": false, 
    "subject": "Re: [junit] .equals() and distributed objects...", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "...  ... More to the point, for business objects , reference equality is almost never the right equals behavior. If I have two Money objects and", 
    "msgId": 3514, 
    "profile": "nails762", 
    "topicId": 3508, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "messageBody": "<div id=\"ygrps-yiv-1130928394\">_pt1000_ wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I have recently taken on a project to setup a unit testing framework<br/>\n&gt; for my development team, but I have run into several technical<br/>\n&gt; issues.  <br/>\n<br/>\n </span></blockquote>&lt;snip /&gt;<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; The business objects used in our applications all derive from one<br/>\n&gt; high-level business object, called BaseBusinessObject.  In order to<br/>\n&gt; allow for the correct comparison of objects in the distributed<br/>\n&gt; environment, the decision was made to override the .equals() method<br/>\n&gt; in BaseBusinessObject to compare the primary keys of two objects. <br/>\n&gt; This allows us, for example, to remove a business object from a<br/>\n&gt; Vector because the Vector&#39;s remove() method internally calls<br/>\n&gt; the .equals() method.  We obviously can&#39;t compare the objects in the<br/>\n&gt; Vector by reference, the default .equals() behavior, because they may<br/>\n&gt; be distributed objects and thus wouldn&#39;t have the same reference.<br/>\n<br/>\n </span></blockquote>More to the point, for &quot;business objects&quot;, reference equality is almost <br/>\nnever the right &quot;equals&quot; behavior. If I have two Money objects and they <br/>\nboth represent CHF 50, then they are interchangeable, aren&#39;t they?<br/>\n<br/>\nBy the way, not Vector... List. :)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; The problem lies in the fact that we want to be able to<br/>\n&gt; override .equals() in derived business objects to compare their<br/>\n&gt; attributes by value.  This is of course the way that assertEquals()<br/>\n&gt; works in the junit framework.  If we override the .equals() method,<br/>\n&gt; then there are implications for methods on collections, such as remove<br/>\n&gt; () on a Vector. <br/>\n&gt;<br/>\n&gt; There are many articles that explain how to write unit tests with the<br/>\n&gt; assumption that the .equals() method can be overridden, but there<br/>\n&gt; doesn&#39;t seem to be any documentation on how to test an application<br/>\n&gt; that uses distributed objects in which you can&#39;t override .equals(). <br/>\n&gt; It seems that this would be a very common problem, but I can&#39;t seem<br/>\n&gt; to find anything on it.<br/>\n<br/>\n </span></blockquote>I&#39;m not sure I understand the problem. Can you show us a test case where <br/>\nusing equals() as you have defined it makes a test case difficult to write?<br/>\n<br/>\nIf you really need to test whether two objects are the same -- that is, <br/>\nthe same physical block of memory -- you can also use assertSame().<br/>\n<br/>\nWe override equals() everywhere to make testing easier! As an example, <br/>\nif I have a web service that prepares a Response to return to a browser, <br/>\nI can build up an &quot;expectedResponse&quot; object with all the output I&#39;m <br/>\nlooking for, then my assertion is simply:<br/>\n<br/>\n    assertEquals(expectedResponse, actualResponse)<br/>\n<br/>\nand I don&#39;t have to check the various parts of the response one by <br/>\none... that&#39;s the beauty of equals(), I thought.<br/>\n<br/>\nJBR.</div>", 
    "prevInTime": 3513, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1008026601", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 3509, 
    "headers": {
        "messageIdInHeader": "PDNDMTU0M0U5LjkwMzAwMDhAZGlhc3BhcnNvZnR3YXJlLmNvbT4=", 
        "referencesHeader": "PDl2Mm9uMStuZGw3QGVHcm91cHMuY29tPg=="
    }
}