{
    "numMessagesInTopic": 41, 
    "nextInTime": 6816, 
    "senderId": "WA-K1HN9-5OD2VsdFRK0xDTlg19S4coSRA7rrurmQIUc2LFi530t6i_rLiX75dAnP4xE8dLjiziBi2CXhE_m_9uhSGWDLbmwesNBRrK7uA", 
    "systemMessage": false, 
    "subject": "RE: [junit] Websphere Connection Pool", 
    "from": "&quot;Scott Stirling&quot; &lt;scottstirling@...&gt;", 
    "authorName": "Scott Stirling", 
    "msgSnippet": "... [...] ... Well, it *was* your example, and I thought it was an intentional simplification, not an example of production code.  It was supposed to be ", 
    "msgId": 6815, 
    "profile": "jrun5", 
    "topicId": 6711, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 112036634, 
    "messageBody": "<div id=\"ygrps-yiv-1846606125\"><blockquote><span title=\"ireply\">&gt; -----Original Message-----<br/>\n&gt; From: Curt Sampson [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:yahoo_sucks@...\">yahoo_sucks@...</a>]<br/>\n </span></blockquote>[...]<br/>\n<blockquote><span title=\"ireply\"> &gt; True. The above code is easily testable by simply passing in a mock<br/>\n&gt; connection factory, and asserting that getConnection() was invoked with<br/>\n&gt; whatever information was necessary, and that close() was called on the<br/>\n&gt; connection. I don&#39;t generally find this worth the effort because this<br/>\n&gt; routine is so simple.<br/>\n<br/>\n </span></blockquote>Well, it *was* your example, and I thought it was an intentional<br/>\nsimplification, not an example of production code.  It was supposed to be<br/>\nsimple, but that doesn&#39;t invalidate the principles we&#39;re debating.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; The whole doMyThing method is very general, but we can work with it.  I<br/>\n&gt; &gt; would argue that rather than modify the class and adding code that,<br/>\n&gt; &gt; ironically, is added for unit level testability but can&#39;t be<br/>\n&gt; &gt; unit tested, one should use 2 mock objects here.<br/>\n&gt;<br/>\n&gt; Err...if you&#39;re creating new classes for the mock objects, aren&#39;t you<br/>\n&gt; adding extra code just for testability?<br/>\n<br/>\n </span></blockquote>Sort of -- but test code that doesn&#39;t have to ship with the product, and<br/>\nwhich is completely decoupled from the design and implementation of the<br/>\nproduct, unlike test code added to the class itself.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; You&#39;d need a ConnectionFactory mock object that could return a<br/>\n&gt; &gt; Connection mock object. You create the mock object in the TestCase,<br/>\n&gt; &gt; and you pass it to doMyThing.<br/>\n&gt;<br/>\n&gt; Right. But if you don&#39;t already have such mock objects, you&#39;d have to<br/>\n&gt; create them, which is a lot more work that just doing what I did above.<br/>\n<br/>\n </span></blockquote>It doesn&#39;t have to much work at all if you use an IDE like Eclipse and/or a<br/>\ntool like Mockmaker (<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.mockmaker.org/)\">http://www.mockmaker.org/)</a>.  Even without Mockmaker in<br/>\nplain old Eclipse I can define a class that implements any existing<br/>\ninterface and then choose &quot;add unimplemented methods&quot; from the task pop-up.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; What does all the extra code buy you? Just saving one method declaration<br/>\n&gt; and one extra line of code to invoke a second method?<br/>\n<br/>\n </span></blockquote>I know, but again, the method under discussion was originally just an<br/>\nintentionally simplified example of a situation that can arise.  In a real<br/>\napplication you&#39;re right, there would be a lot of other things to take into<br/>\naccount.  I am debating the general principle of whether one should modify<br/>\nimplementation code to make it testable, and you&#39;re talking about particular<br/>\ncases *when* it might be better.  I can&#39;t argue with that.  Would we both<br/>\nagree that the best possible solution would be to avoid the problem<br/>\naltogether by doing test driven development?<br/>\n<br/>\nScott Stirling</div>", 
    "prevInTime": 6814, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1043986328", 
    "canDelete": false, 
    "nextInTopic": 6825, 
    "prevInTopic": 6789, 
    "headers": {
        "inReplyToHeader": "PFBpbmUuTkVCLjQuNTEuMDMwMTI3MDgyMjIyMC41OTZAYW5nZWxpYy5jeW5pYy5uZXQ+", 
        "messageIdInHeader": "PEtJRUhJQklPQkFFTEpBSElQTkhER0VLQkNPQUEuc2NvdHRzdGlybGluZ0ByY24uY29tPg=="
    }
}