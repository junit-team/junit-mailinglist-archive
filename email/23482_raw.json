{
    "numMessagesInTopic": 24, 
    "nextInTime": 23483, 
    "senderId": "xgS_Fr0kAT90v-CQJX9zEkIiFxPhpGcgFG8GyFDswEPnhtKpb_moNq7LaWN-Q_a52xdKswpPYMD_zvnhIqUkIGV43AhoHCnxYX-xQM5X", 
    "systemMessage": false, 
    "subject": "Re: [junit] Not knowing the tests in advance when providing a test runner", 
    "from": "Esko Luontola &lt;esko.luontola@...&gt;", 
    "authorName": "Esko Luontola", 
    "msgSnippet": "... I ll look into it. I think Jumi should be able to find out to some degree that what are the dependencies between classes. I ve got an idea that while", 
    "msgId": 23482, 
    "rawEmail": "Return-Path: &lt;esko.luontola@...&gt;\r\nX-Sender: esko.luontola@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 7003 invoked from network); 23 Jun 2011 17:26:15 -0000\r\nX-Received: from unknown (66.196.94.105)\n  by m15.grp.re1.yahoo.com with QMQP; 23 Jun 2011 17:26:15 -0000\r\nX-Received: from unknown (HELO mail-fx0-f48.google.com) (209.85.161.48)\n  by mta1.grp.re1.yahoo.com with SMTP; 23 Jun 2011 17:26:14 -0000\r\nX-Received: by fxm7 with SMTP id 7so2391372fxm.35\n        for &lt;junit@yahoogroups.com&gt;; Thu, 23 Jun 2011 10:26:14 -0700 (PDT)\r\nX-Received: by 10.223.65.3 with SMTP id g3mr2945133fai.78.1308849974062;\n        Thu, 23 Jun 2011 10:26:14 -0700 (PDT)\r\nReturn-Path: &lt;esko.luontola@...&gt;\r\nX-Received: from [127.0.0.1] (dsl-hkibrasgw2-fe21de00-31.dhcp.inet.fi [80.222.33.31])\n        by mx.google.com with ESMTPS id w15sm1117562faj.23.2011.06.23.10.26.12\n        (version=SSLv3 cipher=OTHER);\n        Thu, 23 Jun 2011 10:26:13 -0700 (PDT)\r\nMessage-ID: &lt;4E03771C.8010806@...&gt;\r\nDate: Thu, 23 Jun 2011 20:25:48 +0300\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.18) Gecko/20110616 Thunderbird/3.1.11\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;itfi5a+u52c@...&gt; &lt;4E0214D4.2040504@...&gt; &lt;BANLkTimabmOKRvC6jPN7DbPS27fKzeVJTg@...&gt; &lt;4E02F44A.6020508@...&gt; &lt;BANLkTikTtnmmY-2a23GE2C3-MBtvbjZSsw@...&gt; &lt;4E032531.80302@...&gt; &lt;BANLkTin=NDYVmsEd1X_DqFCnfRSSVRuvKQ@...&gt;\r\nIn-Reply-To: &lt;BANLkTin=NDYVmsEd1X_DqFCnfRSSVRuvKQ@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Esko Luontola &lt;esko.luontola@...&gt;\r\nSubject: Re: [junit] Not knowing the tests in advance when providing a test\n runner\r\nX-Yahoo-Group-Post: member; u=395435659; y=GVvaAUWTtlbaoWZVZVsnXCIr5cWxBP52cQNbUxunJP0g5Y_JHdw\r\nX-Yahoo-Profile: egeluontola\r\n\r\nJoakim Ohlrogge wrote on 23.6.2011 17:12:\n&gt; Sounds awesome. Will be following your progress with interest. Regarding\n&gt; SBT, there is the ~test-quick action that attempts to run only the tests\n&gt; relevant for what you have changed (my interpretation from using it, don&#39;t\n&gt; know /exactly/ how it optimizes). It seems SBT has quite excellent\n&gt; dependency analysis that allows for these kinds of features.\n\nI&#39;ll look into it. I think Jumi should be able to find out to some \ndegree that what are the dependencies between classes. I&#39;ve got an idea \nthat while idling Jumi would analyze the classes and do experimental \ntest runs. For example it&#39;s possible to find out what classes a test \ndepends on by running that test in a fresh class loader and monitoring \nthat which classes get loaded.\n\n&gt; Also, SBT&#39;s console really is such an obvious thing to do given hot spot\n&gt; optimizers etc so it&#39;s almost weird that maven, ant et al did not do this.\n&gt; Why wouldn&#39;t one keep the build/test-tool running? (given how long it takes\n&gt; to start a JVM and how much things can accelerate once the hotspot kicks in\n&gt; and does it&#39;s magic; usually several seconds into execution if I understand\n&gt; things correctly). I\n&gt; s this what you are after with class loader caching? to be able to keep a\n&gt; JVM-instance running over time and just swap in changed classes?\n\nYes. The class loader caching has two benefits:\n\n1. The overhead of class loading of external libraries goes away. This \nis expected to speed up the test run by hundreds of milliseconds - maybe \neven a couple of seconds if there are lots of big libraries being used.\n\n2. The JVM&#39;s is able to do JIT optimizations on the external libraries, \nand they will persists between test runs. This should speed up \nconsistently by some percentage.\n\nApplication code&#39;s class loaders will need to be thrown away between \ntest runs [1], so those won&#39;t benefit from this optimization. Though it \nmight be possible to keep some optimizations of the application code \nwhen working on a multi-module project and changing only some of the \nmodules.\n\nMy plan is that each module will have its own class loaders; one for \nproduction and one for test classes. This is also to make sure that the \nmodules don&#39;t access classes to which they don&#39;t have access, and to \nallow different modules to use different versions of external libraries. \nIf necessary, Jumi will launch one JVM per module - that would also \nenable module-specific working directories, to improve compatibility \nwith Maven.\n\n[1] Unless doing something like JRebel and patching the classes on the \nfly, but I think that is a bit too risky. I value reliability more than \nperformance.\n\n-- \nEsko Luontola\nwww.orfjackal.net\n\n", 
    "profile": "egeluontola", 
    "topicId": 23466, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 395435659, 
    "prevInTime": 23481, 
    "contentTrasformed": false, 
    "postDate": "1308849948", 
    "canDelete": false, 
    "nextInTopic": 23484, 
    "prevInTopic": 23481, 
    "headers": {
        "inReplyToHeader": "PEJBTkxrVGluPU5EWVZtc0VkMVhfRHFGQ25mUlNTVlJ1dktRQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRFMDM3NzFDLjgwMTA4MDZAZ21haWwuY29tPg==", 
        "referencesHeader": "PGl0Zmk1YSt1NTJjQGVHcm91cHMuY29tPiA8NEUwMjE0RDQuMjA0MDUwNEBnbWFpbC5jb20+IDxCQU5Ma1RpbWFibU9LUnZDNmpQTjdEYlBTMjdmS3plVkpUZ0BtYWlsLmdtYWlsLmNvbT4gPDRFMDJGNDRBLjYwMjA1MDhAZ21haWwuY29tPiA8QkFOTGtUaWtUdG5tbVktMmEyM0dFMkMzLU1CdHZialpTc3dAbWFpbC5nbWFpbC5jb20+IDw0RTAzMjUzMS44MDMwMkBnbWFpbC5jb20+IDxCQU5Ma1Rpbj1ORFlWbXNFZDFYX0RxRkNuZlJTU1ZSdXZLUUBtYWlsLmdtYWlsLmNvbT4="
    }
}