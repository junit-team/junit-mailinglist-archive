{
    "numMessagesInTopic": 30, 
    "nextInTime": 24335, 
    "senderId": "4GzCwLokyEC-_LCz3yme1qfTMMNj84UwpBAm1r3o0quwXh1g9tuvy6TBXvsSm0p32362VNajeL0A4b3Yt4DQuPO4HrOpSEOS", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Feedback requested: Impending changes to RunListener", 
    "from": "Kevin Cooney &lt;kcooney@...&gt;", 
    "authorName": "Kevin Cooney", 
    "msgSnippet": "... Remember, this annotation changes the behavior of JUnit will have when interacting with classes that extend RunListener. It s not simply an indication that", 
    "msgId": 24334, 
    "rawEmail": "Return-Path: &lt;kcooney@...&gt;\r\nReceived: (qmail 70331 invoked from network); 14 Feb 2013 18:48:10 -0000\r\nReceived: from unknown (10.193.84.163)\n  by m4.grp.bf1.yahoo.com with QMQP; 14 Feb 2013 18:48:10 -0000\r\nReceived: from unknown (HELO ng4-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.18)\n  by mta3.grp.bf1.yahoo.com with SMTP; 14 Feb 2013 18:48:10 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echoe; t=1360867690; bh=lxfkGom0TKf8leK2kWE1qikU7/qRSunE6fiMLmyGUMc=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Google-DKIM-Signature:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:Message-ID:To:X-Gm-Message-State:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Content-Type:Content-Transfer-Encoding:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=w9nRlfwzWwyQOR8wzSsVHzGTYbragcM3hSxdcKS1u3T9VoPEq2NQc79b5DRHiWi+d2FmlE7Jf/ggPXeD5+67j7GmQfqEbJ8uDABOogqg/iN9SkFiH6yafXI20UWtb7NwjQ52DHpWE+9Po/LfqciR8yzuSDuICfmvqdTurwf6GkQ=\r\nReceived: from [98.139.164.125] by ng4.bullet.mail.bf1.yahoo.com with NNFMP; 14 Feb 2013 18:48:10 -0000\r\nReceived: from [10.193.94.42] by tg6.bullet.mail.bf1.yahoo.com with NNFMP; 14 Feb 2013 18:48:10 -0000\r\nX-Sender: kcooney@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 31795 invoked from network); 14 Feb 2013 18:04:45 -0000\r\nX-Received: from unknown (10.193.84.168)\n  by m12.grp.bf1.yahoo.com with QMQP; 14 Feb 2013 18:04:45 -0000\r\nX-Received: from unknown (HELO mail-ie0-f169.google.com) (209.85.223.169)\n  by mta6.grp.bf1.yahoo.com with SMTP; 14 Feb 2013 18:04:44 -0000\r\nX-Received: by mail-ie0-f169.google.com with SMTP id 13so3707790iea.28\n        for &lt;junit@yahoogroups.com&gt;; Thu, 14 Feb 2013 10:04:44 -0800 (PST)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=x-received:mime-version:in-reply-to:references:from:date:message-id\n         :subject:to:content-type:x-gm-message-state;\n        bh=Tj7G++TgopsQ27l1/FI83rD62moyM6sG4DyUPFaNs5g=;\n        b=DuX9liRLWhk/pvLg7KeFAKhAfUsEfV36du8pKXYjmaAje6uaB4sOAD+Ut53EGJ8D2m\n         fo4+UYvjKJebKdq/YMQBq29AKn1kz5u9j2PXGFIfuGj7O5HYwDjcSDE3PukE4UeXCw2b\n         si5haH2e/9h6nmmZU3vEIQ13aCT5MRE6nC/0t9ADcghMVoxD+XQdX7AuMBpw/hhZkvUI\n         FctcCU1921Q3UytmLOcQqrsRwNBJhtV+YHa22zwpglcdwvDAaPFUROTR/xg3L4n3eKGa\n         ObfiZMm9yXy3ABVelQ7lRlayddo2Ea4p2RuzlkPgStV+xeDXwCTqihP23vOAFjpfpxBH\n         U3Kw==\r\nX-Received: by 10.43.9.137 with SMTP id ow9mr3065148icb.32.1360865084567; Thu,\n 14 Feb 2013 10:04:44 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.43.12.195 with HTTP; Thu, 14 Feb 2013 10:04:14 -0800 (PST)\r\nIn-Reply-To: &lt;kfj6pv+j94c@...&gt;\r\nReferences: &lt;kfj6pv+j94c@...&gt;\r\nDate: Thu, 14 Feb 2013 10:04:14 -0800\r\nMessage-ID: &lt;CAA3E+eXyO3twq-+voRy8hFRm9HcYc1iDe5a7V+tnLekiVcpCBQ@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Gm-Message-State: ALoCoQkt5nSEPd0gMzvtY8TCdfmJBRtGHD+H6a5/K65GhR2/jknPE7aH0B9pGC2c0C+uvxvAmRhD3B00tX5xM/iUhZPCuyddx5tH378PPRXOYJzOkr+5Ig4yv/jysZzQTXLc/23vH+o50RFow0MgJG2SIloHYkNdDEaZrwDdeolBSMQNuuX7UlLK41ZsphI/A6Hw0DUzYt1I\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kevin Cooney &lt;kcooney@...&gt;\r\nSubject: Re: [junit] Re: Feedback requested: Impending changes to RunListener\r\nX-Yahoo-Group-Post: member; u=475263748; y=8hfEZc0kpZZOB8_Ne4J3raadCAOTF9WgF31LJnPjYPd_D8RkhIE3kDm2Jtp_FpGIeOurw-kQ9ASf-S4\r\nX-Yahoo-Profile: kevincooney2000\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 14 Feb 2013 18:48:07 -0000\r\n\r\nOn Thu, Feb 14, 2013 at 9:27 AM, tibord47 &lt;tibord47@...&gt; wrote:\n\n&gt; **=\r\n\n&gt;\n&gt;\n&gt; David, I can confirm that running annotated listener in 4.11 and com=\r\npiled\n&gt; with 4.12 does not throw exception. So the annotation is winner in =\r\nmy eyes.\n&gt;\n&gt; Regarding the static inner annotation in RunListener, this wou=\r\nld mean that\n&gt; other classes which will maybe later need the same name of a=\r\nnnotation will\n&gt; just duplicate again.\n&gt;\nRemember, this annotation changes =\r\nthe behavior of JUnit will have when\ninteracting with classes that extend R=\r\nunListener. It&#39;s not simply an\nindication that the listener is thread-safe =\r\n(though your listener would\nhave to be thread-safe to use this annotation).=\r\n See my comments in\nhttp://goo.gl/6HBNV to see other reasons why I think a =\r\ntop-level JUnit\nThreadSafe annotation would be problematic\n\nI&#39;m personally =\r\nnot too worried about what might happen if we need to think\nabout indicatin=\r\ng the thread-safety of extension points somewhere else in\nJUnit. We could e=\r\nasily support multiple annotations in the future if we\nneed to, and when th=\r\nat time comes, perhaps JSR-305 will be more mature.\n\n-- Kevin\n\n\n&gt;\n&gt;\n&gt; Cheer=\r\ns,\n&gt; Tibor\n&gt;\n&gt; --- In junit@yahoogroups.com, Kevin Cooney wrote:\n&gt; &gt;\n&gt; &gt; On=\r\n Thu, Feb 14, 2013 at 8:38 AM, David Saff wrote:\n&gt; &gt;\n&gt; &gt; &gt; Hi, all.\n&gt; &gt; &gt;\n&gt;=\r\n &gt; &gt; Kevin, thank you very much for the summary document. I think that a\n&gt; =\r\n&gt; &gt; JUnit-specific annotation, which is not name-confusable with a standard=\r\n\n&gt; &gt; &gt; like @ThreadSafe, seems to be a pretty clear winner. If we feel\n&gt; st=\r\nrongly\n&gt; &gt; &gt; that it should remain consonant with @ThreadSafe, we could mak=\r\ne it a\n&gt; static\n&gt; &gt; &gt; inner annotation, and reference it as @...=\r\nreadSafe.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I&#39;m personally find with that as long as the JavaDoc =\r\nfor the annotation\n&gt; &gt; makes it clear that a RunListener implementation ann=\r\notated with that\n&gt; &gt; interface will be treated differently than one not ann=\r\notated with that\n&gt; &gt; interface when addListener() and removeListener() is c=\r\nalled.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; That might\n&gt; &gt; &gt; also have the advantage of making=\r\n clear that it&#39;s a single-purpose\n&gt; &gt; &gt; annotation (I&#39;d rather not, at this=\r\n point, start speculatively\n&gt; figuring out\n&gt; &gt; &gt; what other interfaces migh=\r\nt try to pun meanings onto a general-purpose\n&gt; &gt; &gt; ThreadSafe annotation)\n&gt;=\r\n &gt; &gt;\n&gt; &gt; &gt; I&#39;m a little curious about the third-party library implementatio=\r\nn.\n&gt; Let&#39;s\n&gt; &gt; &gt; say I write a package FooTest which is compiled against JU=\r\nnit 4.12,\n&gt; and it\n&gt; &gt; &gt; contains a FooListener I&#39;d like to mark threadsafe=\r\n. A client wants to\n&gt; use\n&gt; &gt; &gt; it with JUnit 4.11 (she knows she won&#39;t get=\r\n the concurrent performance\n&gt; &gt; &gt; boost, but wants it to just work). The do=\r\ncument seems to assume that if\n&gt; &gt; &gt; FooListener has a RunListener.TheadSaf=\r\ne annotation, then our client\n&gt; won&#39;t\n&gt; &gt; &gt; have a problem (unless, likely,=\r\n she actually tries to instantiate all\n&gt; of\n&gt; &gt; &gt; the annotations from FooL=\r\nistener in her own code).\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Correct as of JDK 1.5.0_06. See\n&gt; &gt;\n&gt;=\r\n http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation=\r\n-cause-a-classnotfoundexception-at-runtime\n&gt; &gt;\n&gt; &gt; It sounds that if the cl=\r\nient wants to write code that extends FooListener\n&gt; &gt; then JUnit 4.12 will =\r\nneed to be on the compile-time classpath\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &gt; However, the doc=\r\nument\n&gt; &gt; &gt; assumes that declaring a marker interface ThreadSafeRunListener=\r\n _would_\n&gt; &gt; &gt; break the client. Is that true?\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I believe it wou=\r\nld result in a NoClassDefFoundError exception. It should\n&gt; be\n&gt; &gt; easy to v=\r\nerify.\n&gt; &gt;\n&gt; &gt; Note that it may be hard to write a library that has a compi=\r\nle-time\n&gt; &gt; dependency on JUnit 4.12 while being runtime compatible with 4.=\r\n11 for\n&gt; other\n&gt; &gt; reasons.\n&gt; &gt;\n&gt; &gt; Does FooListener fail at bytecode\n&gt; &gt; &gt;=\r\n verification because the verifier wants to make sure that it\n&gt; implements =\r\nall\n&gt; &gt; &gt; of ThreadSafeRunListener&#39;s methods?\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; That would be m=\r\ny guess.\n&gt; &gt;\n&gt; &gt; -- Kevin\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message ha=\r\nve been removed]\n&gt; &gt;\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been=\r\n removed]\n\n\n", 
    "profile": "kevincooney2000", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 475263748, 
    "prevInTime": 24333, 
    "contentTrasformed": false, 
    "postDate": "1360865054", 
    "canDelete": false, 
    "nextInTopic": 24335, 
    "prevInTopic": 24333, 
    "headers": {
        "inReplyToHeader": "PGtmajZwditqOTRjQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBQTNFK2VYeU8zdHdxLSt2b1J5OGhGUm05SGNZYzFpRGU1YTdWK3RuTGVraVZjcENCUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGtmajZwditqOTRjQGVHcm91cHMuY29tPg=="
    }
}