{
    "numMessagesInTopic": 9, 
    "nextInTime": 15004, 
    "senderId": "oK-DiDw-ykBaUQkP7MJSgRHlsbCHd2Hgj2MNYPyB4JO1XE1j_Kw2Lhy_XeI41vmXKTQWPOWWNpwKhFv7Hanx2wEqAyUiClrG", 
    "systemMessage": false, 
    "subject": "RE: [junit] junit4: Exceptions in TestListener", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "David, I think that the framework should continue to work in as many situations as possible. If a listener throws an exception, the framework should deal with ", 
    "msgId": 15003, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 77358 invoked from network); 29 Sep 2005 03:07:42 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m9.grp.scd.yahoo.com with QMQP; 29 Sep 2005 03:07:42 -0000\r\nReceived: from unknown (HELO smtpauth08.mail.atl.earthlink.net) (209.86.89.68)\n  by mta4.grp.scd.yahoo.com with SMTP; 29 Sep 2005 03:07:41 -0000\r\nReceived: from [67.131.9.243] (helo=T42)\n\tby smtpauth08.mail.atl.earthlink.net with asmtp (Exim 4.34)\n\tid 1EKolp-0006vc-67\n\tfor junit@yahoogroups.com; Wed, 28 Sep 2005 23:07:41 -0400\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Wed, 28 Sep 2005 20:07:37 -0700\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook, Build 11.0.5510\r\nIn-Reply-To: &lt;4339A201.7000408@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180\r\nThread-Index: AcXDnGxYFEVYl24zRfy/A3V5gW+dpQAFGERA\r\nMessage-ID: &lt;E1EKolp-0006vc-67@...&gt;\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d47858fd6117bcadbe0b9716b6d4b8ab2b11ebdda1f1da50e6c0350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Kent Beck&quot; &lt;kentb@...&gt;\r\nSubject: RE: [junit] junit4: Exceptions in TestListener\r\nX-Yahoo-Group-Post: member; u=173198504; y=oFCYPGhoVHUiQOyqALoDQZcPjte3R5UNbZtKuGedLOh7PCXz\r\nX-Yahoo-Profile: kentlbeck\r\n\r\nDavid,\n\nI think that the framework should continue to work in as many situations as\npossible. If a listener throws an exception, the framework should deal with\nit. Contributing to Eclipse calls this the Safe Platform Rule: &quot;As the\nprovider of an extension point, you must protect yourself against\nmisbehavior on the part of extenders.&quot; Here is the test I came up with that\nI think should pass (and doesn&#39;t currently):\n\n\tint count;\n\t\n\tclass FailingListener implements TestListener {\n\t\tpublic void testRunStarted(int testCount) {\n\t\t\tcount++;\n\t\t\tthrow new Error();\n\t\t}\n\n\t\tpublic void testRunFinished(Runner runner) {\n\t\t}\n\n\t\tpublic void testStarted(Object test, String name) {\n\t\t}\n\n\t\tpublic void testFinished(Object test, String name) {\n\t\t}\n\n\t\tpublic void testFailure(Failure failure) {\n\t\t}\n\n\t\tpublic void testIgnored(Method method) {\n\t\t}\n\t}\n\t\n\tpublic static class OneTest {\n\t\t@Test public void nothing() {}\n\t}\n\t\n\t@Test public void failingListener() {\n\t\tcount= 0;\n\t\tRunner runner= new Runner();\n\t\trunner.addListener(new FailingListener());\n\t\trunner.addListener(new FailingListener());\n\t\trunner.run(OneTest.class);\n\t\tassertEquals(2, count);\n\t}\n\t\n\t\n\tpublic static junit.framework.Test suite() {\n\t\treturn new JUnit4TestAdapter(TestListenerTest.class);\n\t}\n\nI am working on an implementation. Alternatively, should the count be 1?\n\nKent Beck\nThree Rivers Institute\n\n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On \n&gt; Behalf Of David Saff\n&gt; Sent: Tuesday, September 27, 2005 12:48 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] junit4: Exceptions in TestListener\n&gt; \n&gt; Elliotte,\n&gt; \n&gt; What would you expect the test runner to do if it caught one of these \n&gt; exceptions?  In general, I would expect that listeners should not \n&gt; interrupt the test execution: if they find themselves unable \n&gt; to do what \n&gt; they want, they should quietly deal with it on their own.\n&gt; \n&gt;     David Saff\n&gt; \n&gt; Elliotte Rusty Harold wrote:\n&gt; \n&gt; &gt; I&#39;m trying to implement a custom TestListener in JUnit 4. \n&gt; These methods\n&gt; &gt; do I/O. They tend to look like this:\n&gt; &gt;\n&gt; &gt;      public void testRunStarted(int testCount) {\n&gt; &gt;          try {\n&gt; &gt;              out.write(&quot;&lt;?xml version=&#39;1.0&#39; \n&gt; encoding=&#39;UTF-8&#39;?&gt;&#92;r&#92;n&quot;);\n&gt; &gt;          }\n&gt; &gt;          catch (IOException ex) {\n&gt; &gt;              throw new RuntimeException(ex);\n&gt; &gt;          }\n&gt; &gt;      }\n&gt; &gt;\n&gt; &gt; Should the TestListener interfaces be declared to throw Exception or\n&gt; &gt; some kind of JUnitException so one doesn&#39;t have to wrap \n&gt; everything in a\n&gt; &gt; RuntimeException?\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; -- \n&gt; &gt; Elliotte Rusty Harold  elharo@...\n&gt; &gt; XML in a Nutshell 3rd Edition Just Published!\n&gt; &gt; http://www.cafeconleche.org/books/xian3/\n&gt; &gt; \n&gt; http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/\nref=nosim\n&gt; &gt;\n&gt; &gt; \n&gt; --------------------------------------------------------------\n&gt; ----------\n&gt; &gt; YAHOO! GROUPS LINKS\n&gt; &gt;\n&gt; &gt;     *  Visit your group &quot;junit \n&gt; &lt;http://groups.yahoo.com/group/junit&gt;&quot;\n&gt; &gt;       on the web.\n&gt; &gt;        \n&gt; &gt;     *  To unsubscribe from this group, send an email to:\n&gt; &gt;        junit-unsubscribe@yahoogroups.com\n&gt; &gt;       &lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt;        \n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; \n&gt; --------------------------------------------------------------\n&gt; ----------\n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; ------------------------ Yahoo! Groups Sponsor \n&gt; --------------------~--&gt; \n&gt; Fair play? Video games influencing politics. Click and talk back!\n&gt; http://us.click.yahoo.com/T8sf5C/tzNLAA/TtwFAA/5cFolB/TM\n&gt; --------------------------------------------------------------\n&gt; ------~-&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n&gt; \n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 14967, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 15002, 
    "contentTrasformed": false, 
    "postDate": "1127963257", 
    "canDelete": false, 
    "nextInTopic": 15010, 
    "prevInTopic": 14994, 
    "headers": {
        "inReplyToHeader": "PDQzMzlBMjAxLjcwMDA0MDhAbWl0LmVkdT4=", 
        "messageIdInHeader": "PEUxRUtvbHAtMDAwNnZjLTY3QHNtdHBhdXRoMDgubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}