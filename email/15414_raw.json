{
    "numMessagesInTopic": 2, 
    "nextInTime": 15415, 
    "senderId": "QKzAhve4AeBX2pis_E0I4OPpABH6z1vrl4exLoxRKIds5pLh2cu_R2F_t5zg4t3G7-GZiGCRdWd6r9IMLrOYSVeqrrnk", 
    "systemMessage": true, 
    "subject": "confusion about testing three layers", 
    "from": "sean liu &lt;seanliugm@...&gt;", 
    "authorName": "sean liu", 
    "msgSnippet": "Hi, I m a java programmer who is now using TDD and junit. In my current project, we are using webwork/spring/hibernate trioes.And in architecture view, there", 
    "msgId": 15414, 
    "rawEmail": "Return-Path: &lt;seanliugm@...&gt;\r\nReceived: (qmail 46618 invoked from network); 14 Nov 2005 12:43:02 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m33.grp.scd.yahoo.com with QMQP; 14 Nov 2005 12:43:02 -0000\r\nReceived: from unknown (HELO n6.bullet.dcn.yahoo.com) (216.155.201.59)\n  by mta4.grp.scd.yahoo.com with SMTP; 14 Nov 2005 12:43:02 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [216.155.201.65] by n6.bullet.dcn.yahoo.com with NNFMP; 14 Nov 2005 12:41:19 -0000\r\nReceived: from [66.218.69.5] by mailer2.bulk.dcn.yahoo.com with NNFMP; 14 Nov 2005 12:41:19 -0000\r\nReceived: from [66.218.66.91] by mailer5.bulk.scd.yahoo.com with NNFMP; 14 Nov 2005 12:41:18 -0000\r\nX-Sender: seanliugm@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 34777 invoked from network); 14 Nov 2005 05:48:32 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m35.grp.scd.yahoo.com with QMQP; 14 Nov 2005 05:48:31 -0000\r\nReceived: from unknown (HELO zproxy.gmail.com) (64.233.162.197)\n  by mta5.grp.scd.yahoo.com with SMTP; 14 Nov 2005 05:48:31 -0000\r\nReceived: by zproxy.gmail.com with SMTP id n29so1518568nzf\n        for &lt;junit@yahoogroups.com&gt;; Sun, 13 Nov 2005 21:48:25 -0800 (PST)\r\nReceived: by 10.37.12.63 with SMTP id p63mr3874785nzi;\n        Sun, 13 Nov 2005 21:48:25 -0800 (PST)\r\nReceived: by 10.36.227.45 with HTTP; Sun, 13 Nov 2005 21:48:25 -0800 (PST)\r\nMessage-ID: &lt;339d66100511132148qd109fe6rda12dd85aec605c@...&gt;\r\nDate: Mon, 14 Nov 2005 13:48:25 +0800\r\nTo: junit@yahoogroups.com\r\nMIME-Version: 1.0\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: sean liu &lt;seanliugm@...&gt;\r\nSubject: confusion about testing three layers\r\nX-Yahoo-Group-Post: member; u=233114590; y=aoquLCM3724lEMT60o0Rj9xa3UBvLvE2FyC8KdzaEmsezNgUYDQ\r\nX-Yahoo-Profile: liuzimin15y\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via web; 14 Nov 2005 12:41:16 -0000\r\n\r\nHi,\n I&#39;m a java programmer who is now using TDD and junit. In my current\nproject, we are using webwork/spring/hibernate trioes.And in architecture\nview, there is a web controller/ service / dao three layer logic separation.\nAnd there is another important layer called domain model. Sevice layer\nusually delegate to domain model to complete it&#39;s service and it should be a\nthin layer. My question is how to test the web && service && domain\nmodel.After i have tested a particular business logic in domain logic, do i\nneed to test corresponding conditions in service layer and web\nlayer.For example, in traditional auction application(citing caveatemptor\napplication in book &quot;Hibernate In Action&quot;):\n public class Item implements Serializable {\npublic Bid placeBid(User bidder, MonetaryAmount bidAmount,\nBid currentMaxBid, Bid currentMinBid)\nthrows BusinessException {\n\n// Check highest bid (can also be a different Strategy (pattern))\nif (currentMaxBid != null && currentMaxBid.getAmount().compareTo(bidAmount)&gt;\n0) {\nthrow new BusinessException(&quot;Bid too low.&quot;);\n}\n\n// Auction is active\nif ( !state.equals(ItemState.ACTIVE) )\nthrow new BusinessException(&quot;Auction is not active yet.&quot;);\n\n// Auction still valid\nif ( this.getEndDate().before( new Date() ) )\nthrow new BusinessException(&quot;Can&#39;t place new bid, auction already ended.&quot;);\n\n// Create new Bid\nBid newBid = new Bid(bidAmount, this, bidder);\n\n// Place bid for this Item\nthis.getBids.add(newBid);\n\nreturn newBid;\n}\n}\n public class ItemManager {\nprivate ItemDao itemDao;\npublic void setItemDao(ItemDao itemDao) { this.itemDao = itemDao;}\npublic Bid loadItemById(Long id) {\nitemDao.loadItemById(id);\n}\npublic Collection listAllItems() {\nreturn itemDao.findAll();\n}\npublic Bid placeBid(Item item, User bidder, MonetaryAmount bidAmount,\nBid currentMaxBid, Bid currentMinBid) throws BusinessException {\nitem.placeBid(bidder, bidAmount, currentMaxBid, currentMinBid);\nitemDao.update(item);\n }\n}\n In this application, i will write four tests for placing bid in domain\nmodel layer.\npublic class ItemTest extends TestCase {\n  public void testPlaceBid() {\n // all is well\n // no exception will be thrown\n }\n public void testPlaceBidTooLow() { // test placing bid when bid is too low,\nand there will a exception thrown.\n }\npublic void testPlaceBidInactive() { // test placing bid when auction is not\nactive yet, and there will a exception thrown.\n }\n public void testPlaceBidInvalidDate() { // test placing bid when auction\nalready ended, and there will a exception thrown.\n }\n}\n After i test domain model , do i need to test all the corresponding\nconditions in service, like this?\n public class ItemManagerTest extends TestCase {\n  public void testPlaceBid() {\n // normal\n // no exception will be thrown\n }\n public void testPlaceBidTooLow() { // test placing bid when bid is too low,\nand there will a exception thrown.\n }\npublic void testPlaceBidInactive() { // test placing bid when auction is not\nactive yet, and there will a exception thrown.\n }\n public void testPlaceBidInvalidDate() { // test placing bid when auction\nalready ended, and there will a exception thrown.\n }\n}\n I think in both test cases, the tests is nearly same. And if do so, there\nwill be many tests that look very same spreaded from domain model to service\nlayer to web layer.But if i don&#39;t do that, it seems that there isn&#39;t tests\nfor testing service api.\n I&#39;m a newbie to tdd and junit so maybe this is a silly question for\nyou.Butanyway i need your help to clear my eyes.\nThanks a lot!\n\n\n[Non-text portions of this message have been removed]\n\n\n\n\n\n", 
    "profile": "liuzimin15y", 
    "topicId": 15414, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 233114590, 
    "prevInTime": 15413, 
    "contentTrasformed": false, 
    "postDate": "1131947305", 
    "canDelete": false, 
    "nextInTopic": 15441, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDMzOWQ2NjEwMDUxMTEzMjE0OHFkMTA5ZmU2cmRhMTJkZDg1YWVjNjA1Y0BtYWlsLmdtYWlsLmNvbT4="
    }
}