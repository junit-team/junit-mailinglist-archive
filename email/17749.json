{
    "numMessagesInTopic": 287, 
    "nextInTime": 17750, 
    "senderId": "yh9mPP9XaTgJcCdeOT37jUrVHqccOhKwfgGrg5VFp99JFVJDd33szD8nu52MRye53fEyYXrM0QTDKakgt4C-kc_HV72RtjvVId3IATTKqsk", 
    "systemMessage": false, 
    "subject": "Re: Test-friendly, but not caller-friendly?", 
    "from": "Robert Martin &lt;UncleBob@...&gt;", 
    "authorName": "Robert Martin", 
    "msgSnippet": "... It s not.  Overuse of factories is an abomination.  So *IF* I thought an interface would help, I would simply prefer: Document doc =", 
    "msgId": 17749, 
    "profile": "rmartinoma", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 85922638, 
    "messageBody": "<div id=\"ygrps-yiv-575845673\"><blockquote><span title=\"ireply\">&gt; Robert Martin wrote:<br/>\n&gt;<br/>\n&gt; &gt; [interfaces] make receiving a message more complex, it&#39;s true.  <br/>\n&gt; They make<br/>\n&gt; &gt; sending a message much simpler. Or rather, they add more lines of<br/>\n&gt; &gt; code on the receiving side; but they eliminate dependencies on the<br/>\n&gt; &gt; sending side. The benefit of those eliminated dependencies is very<br/>\n&gt; &gt; powerful.<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt; I&#39;m not sure I believe the second part. In practice, replacing a<br/>\n&gt; concrete-class based solution with an interface-based solution expands<br/>\n&gt; the complexity for the caller. What used to require a single class now<br/>\n&gt; typically requires three: a factory to create the factory, the factory<br/>\n&gt; itself, and the interface you&#39;re actually trying to create. I&#39;m not  <br/>\n&gt; sure<br/>\n&gt; you really need all that, but you need at least two pieces where you<br/>\n&gt; previously needed one, and in practice three is what we usually  <br/>\n&gt; seem to<br/>\n&gt; end up with. (Think of DocumentBuilderFactory, DocumentBuilder, and<br/>\n&gt; Document in JAXP/DOM for example). And of course there are still<br/>\n&gt; concrete classes for each of these. We&#39;ve turned what could have been<br/>\n&gt; one concrete class (Document) into six separate pieces! What could  <br/>\n&gt; have<br/>\n&gt; been this:<br/>\n&gt;<br/>\n&gt; Document doc = new Document();<br/>\n&gt;<br/>\n&gt; is now this:<br/>\n&gt;<br/>\n&gt; DocumentBuilderFactory factory = DocumentBuilderFactory.getInstance();<br/>\n&gt; DocumentBuilder builder = factory.newDocumentBuilder();<br/>\n&gt; Document doc = builder.newDocument();<br/>\n&gt;<br/>\n&gt; I fail to see how that&#39;s simpler.<br/>\n<br/>\n </span></blockquote>It&#39;s not.  Overuse of factories is an abomination.  So *IF* I thought  <br/>\nan interface would help, I would simply prefer:<br/>\n<br/>\nDocument doc = Document.newDocument();<br/>\n<br/>\nThe simplicity of interfaces vs concrete classes comes from  <br/>\ndependencies.  Let&#39;s say we have some concrete class named  <br/>\nMyDocument, and it has lots and lots of methods.  Users of this class  <br/>\ndepend on all these methods even if they don&#39;t call them.  If I make  <br/>\na change to MyDocument it can affect all the callers to the extent  <br/>\nthat they all have to be recompiled and redeployed.  (Yes, you can  <br/>\nplay the game and try to figure out whether or not the class really  <br/>\nand truly needs to be recompiled, but that way lay madness.)<br/>\n<br/>\nIf I interpose one or more interfaces then suddenly the callers  <br/>\ndepend ONLY on the methods in the interfaces that they use; and those  <br/>\ninterfaces can be *very* sparse.  Even if there is only one  <br/>\ninterface, and that interface has all the methods of MyDocument I can  <br/>\nstill swap out MyDocument for some other implementation or some Mock  <br/>\nimplementation.  I can also add new methods to MyDocument without  <br/>\nforcing recompilation and redeployment of the callers.<br/>\n<br/>\n From the point of view of a caller, it is much simpler to depend on  <br/>\nan interface than a concrete class.<br/>\n<br/>\n<br/>\n----<br/>\nRobert C. Martin (Uncle Bob)  | email: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:unclebob@...\">unclebob@...</a><br/>\nObject Mentor Inc.            | blog:  www.butunclebob.com<br/>\nThe Agile Transition Experts  | web:   www.objectmentor.com<br/>\n800-338-6716                  |<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 17748, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1157253640", 
    "canDelete": false, 
    "nextInTopic": 17750, 
    "prevInTopic": 17748, 
    "headers": {
        "messageIdInHeader": "PDVBNzg1MDUxLTE1NDktNDM5RC04NjcxLUVFNUY0RkFEODhEQUBvYmplY3RtZW50b3IuY29tPg=="
    }
}