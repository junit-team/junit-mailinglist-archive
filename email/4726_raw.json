{
    "numMessagesInTopic": 2, 
    "nextInTime": 4727, 
    "senderId": "3ptLaCG8F_fM_DrP2N-if2t_eeRdrerjFrX1H_MAj8Qg6lDrQu3wcp7GlZn19WdmupV7pD-L9HlgBNSeI-DvHW1IDdCIxTHEj7orUfAVOCw", 
    "systemMessage": false, 
    "subject": "RE: [junit] EJB testing: ClassCastExceptions thrown by narrow() i\tn ant", 
    "from": "Scott Stirling &lt;sstirling@...&gt;", 
    "authorName": "Scott Stirling", 
    "msgSnippet": "I would suggest using the fork= true attribute on the batchtest task.  If that works, I ll try to explain why. Scott Stirling Macromedia ... From: ejstock To:", 
    "msgId": 4726, 
    "rawEmail": "Return-Path: &lt;sstirling@...&gt;\r\nX-Sender: sstirling@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_1); 20 Apr 2002 03:29:05 -0000\r\nReceived: (qmail 25985 invoked from network); 20 Apr 2002 03:29:05 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m12.grp.scd.yahoo.com with QMQP; 20 Apr 2002 03:29:05 -0000\r\nReceived: from unknown (HELO S1001EXM01.macromedia.com) (63.109.193.152)\n  by mta3.grp.scd.yahoo.com with SMTP; 20 Apr 2002 03:29:05 -0000\r\nReceived: by S1001EXM01.macromedia.com with Internet Mail Service (5.5.2653.19)\n\tid &lt;2XZQZP25&gt;; Fri, 19 Apr 2002 23:29:04 -0400\r\nMessage-ID: &lt;CB1FF0A474AEA84EA0206D5B05F6A4CB015B6425@...&gt;\r\nTo: &#39;ejstock &#39; &lt;ejstock@...&gt;, &quot;&#39;junit@yahoogroups.com &#39;&quot;\n\t &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] EJB testing: ClassCastExceptions thrown by narrow() i\n\tn ant\r\nDate: Fri, 19 Apr 2002 23:28:56 -0400\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nList-Unsubscribe: &lt;mailto:junit-unsubscribe@yahoogroups.com&gt;\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nFrom: Scott Stirling &lt;sstirling@...&gt;\r\nX-Yahoo-Group-Post: member; u=65616759\r\nX-Yahoo-Profile: jrun5\r\n\r\nI would suggest using the fork=&quot;true&quot; attribute on the batchtest task.  If that works, I&#39;ll try to explain why.\n\nScott Stirling\nMacromedia\n\n-----Original Message-----\nFrom: ejstock\nTo: junit@yahoogroups.com\nSent: 4/19/2002 10:20 AM\nSubject: [junit] EJB testing: ClassCastExceptions thrown by narrow() in ant\n\nI am getting ClassCastExceptions thrown by calling \nPortableRemoteObject.narrow() when running my tests as an ant task. \nI&#39;m using the text only test runner, not the GUI one.\n\nThe test is for an EJB and so it&#39;s trying to get a home interface for \nthe EJB it tests. The problem only occurs when the test runs in ant, \nnot when I run the test on the command line like so:\n\njava -\nclasspath .&#92;build&#92;classes;.&#92;lib&#92;junit.jar;D:&#92;bea&#92;wlserver&#92;lib&#92;weblogic\n.jar;.&#92;lib&#92;log4j.jar;  junit.textui.TestRunner \ncom.pics.nmc2.media.ObjectGroupTest\n\nI have read a few postings on this list regarding class loader issues \nthat at first looked relevant, but in fact they are all specific to \nthe GUI test runner, or running outside of ant, or maybe both. I \nshould mention the EJB container is Weblogic 6.1 SP2. I&#39;ve had test \ncases running on Weblogic 6.x before, but not with ant.\n\nMy ant test task in build.xml looks like this:\n\n  &lt;target name=&quot;test&quot; depends=&quot;init&quot; &gt;\n    &lt;junit printsummary=&quot;on&quot;&gt;\n      &lt;classpath&gt;\n\t&lt;pathelement location=&quot;${properties_dir}&quot;/&gt;\n\t&lt;fileset dir=&quot;${weblogic_home}/lib&quot;&gt;\n          &lt;include name=&quot;weblogic.jar&quot;/&gt;\n\t&lt;/fileset&gt;\n        &lt;pathelement location=&quot;${build_dir}/classes&quot;/&gt;\n        &lt;fileset dir=&quot;lib&quot;&gt;\n          &lt;include name=&quot;**/*.jar&quot;/&gt;\n\t&lt;/fileset&gt;\n\t&lt;fileset dir=&quot;d:&#92;bea&#92;utils&quot;&gt;\n\t  &lt;include name=&quot;**/*.jar&quot;/&gt;\n        &lt;/fileset&gt;\n\t&lt;fileset dir=&quot;${build_dir}&quot;&gt;\n\t  &lt;include name=&quot;NMC2WebApp.war&quot;/&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n      &lt;formatter type=&quot;plain&quot; /&gt;\n      &lt;batchtest todir=&quot;${testreports_dir}&quot;&gt;\n        &lt;fileset dir=&quot;${src_dir}&quot;&gt;\n\t  &lt;include name=&quot;**/*Test*.java&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n    &lt;/junit&gt;\n  &lt;/target&gt;\n\nSome explanation of classloader issues with respect to running Junit \nwithin ant would be welcome, even if you don&#39;t know exactly what the \nproblem is. Does it matter that the stub is loaded by a different \nclassloader on the server than in the client?\n\nI&#39;m using Junit 3.7 and Ant 1.4.1.\n\nThanks in advance.\n\nEliot Stock\nPremiere Retial Networks\nSan Francisco\n\n", 
    "profile": "jrun5", 
    "topicId": 4726, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 65616759, 
    "prevInTime": 4725, 
    "contentTrasformed": false, 
    "postDate": "1019273336", 
    "canDelete": false, 
    "nextInTopic": 4737, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PENCMUZGMEE0NzRBRUE4NEVBMDIwNkQ1QjA1RjZBNENCMDE1QjY0MjVAUzEwMDFFWE0wMi5tYWNyb21lZGlhLmNvbT4="
    }
}