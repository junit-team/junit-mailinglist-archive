{
    "numMessagesInTopic": 11, 
    "nextInTime": 13509, 
    "senderId": "eV5seWParvgthGnXHmKUtn79jBY4-n0UFnjdBqxpvIMdfIONFgO8_zlvmpdwchhisvbjDiWhGw3bFm4qK0xcmu-LE44FBTrBEpAcpp2BqXa4kw__qUc", 
    "systemMessage": true, 
    "subject": "Re: Individual tests ok, problem in a suite", 
    "from": "&quot;James Keirstead&quot; &lt;keirstead_james@...&gt;", 
    "authorName": "James Keirstead", 
    "msgSnippet": "Thanks to everyone for their advice on this.  I haven t figured out exactly what s going on yet but from what you ve said, I ve tracked it down to the", 
    "msgId": 13508, 
    "profile": "keirstead_james", 
    "topicId": 13456, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 77037015, 
    "messageBody": "<div id=\"ygrps-yiv-2008522022\">Thanks to everyone for their advice on this.  I haven&#39;t figured out<br/>\nexactly what&#39;s going on yet but from what you&#39;ve said, I&#39;ve tracked it<br/>\ndown to the following.  <br/>\n<br/>\nThe problem appears to be with a HashMap.  It works fine when there is<br/>\nonly one key/value pair to be added but it breaks when more than one<br/>\nitem are added.  The following code fragement demonstrates the issue.<br/>\n<br/>\npublic class Household {<br/>\n<br/>\nprivate HashMap dailyActivities = new HashMap();<br/>\n<br/>\npublic void updateDailyActivities() {<br/>\n<br/>\n        float[] actProbs = new float[IdeasModel.ticksPerDay];<br/>\n        float[] act = new float[IdeasModel.ticksPerDay];<br/>\n        float f;<br/>\n        HashMap act_map = Society.getAllActivityProfiles();<br/>\n<br/>\n        Random.createUniform();<br/>\n        <br/>\n        for (Society.ActivityTypes a : act_map.keySet()) {<br/>\n            actProbs = act_map.get(a);<br/>\n            for (int i = 0; i&lt;IdeasModel.ticksPerDay; i++) {<br/>\n                f = Random.uniform.nextFloatFromTo(0f,1f);<br/>\n                if (f &lt; actProbs[i]) {<br/>\n                    act[i] = 1f;<br/>\n                } else {<br/>\n                    act[i] = 0f;<br/>\n                }<br/>\n            }<br/>\n<br/>\n            // At this point everything is fine.  The<br/>\n            // key-value pair gets added to the <br/>\n            // dailyActivities HashMap and all&#39;s good.<br/>\n            dailyActivities.put(a,act);<br/>\n<br/>\n        }<br/>\n     <br/>\n/* But step outside the `for` loop and for some reason,<br/>\n * dailyActivities gets messed up.  The keys are all there but the <br/>\n * values are all the same (should be different) and none of them are <br/>\n * correct. This doesn&#39;t happen when only act_map.ketSet() only has <br/>\n * one key.<br/>\n */<br/>\n<br/>\n    }<br/>\n<br/>\n}<br/>\n<br/>\nPerhaps some one else has had this problem with HashMaps before and<br/>\nknows how to fix it.  Thanks!</div>", 
    "prevInTime": 13507, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1115977618", 
    "canDelete": false, 
    "nextInTopic": 13512, 
    "prevInTopic": 13472, 
    "headers": {
        "inReplyToHeader": "PDA1MTEyMDA1MTQzNi4zOTUxLjQyODIxODczMDAwNDAwMTgwMDAwMEY2RjIyMDA3MzQ4MzA5QzlDMDEwQjA3MEJAY29tY2FzdC5uZXQ+", 
        "messageIdInHeader": "PGQ2MXQyaStzaTlqQGVHcm91cHMuY29tPg=="
    }
}