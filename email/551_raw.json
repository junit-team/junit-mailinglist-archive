{
    "topicId": 551, 
    "postDate": "983207761", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Herrick, Chuck&quot; &lt;chuck.herrick@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "NFqnYw-7Ccyzct0AsMaet3bgSJRvlMu8s73lttJu-4d48boli5QDEVuAIKFUeEtZoMaPQ07Aeb0EL-QU3QP547vT_nop8fAFnWe0I2YJWTdQ5YWrUA", 
    "nextInTime": 552, 
    "userId": 0, 
    "prevInTime": 550, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEVBQTNDQTM3RjBDQkQ0MTE5RDRBMDAwNjI5MzhGMUE1MDEwQjZDRjRAaHFleGNobjExLmFnZWR3YXJkcy5jb20+"
    }, 
    "authorName": "Herrick, Chuck", 
    "numMessagesInTopic": 4, 
    "msgSnippet": "... I m running a CMP Entity bean in WebLogic v 5.1.0 sp 8. I m doing my Java coding using TogetherJ. ... I may have a ClassLoader problem. Running the same", 
    "contentTrasformed": false, 
    "msgId": 551, 
    "nextInTopic": 552, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;Chuck.Herrick@...&gt;\r\nX-Sender: Chuck.Herrick@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_0_4); 26 Feb 2001 17:19:26 -0000\r\nReceived: (qmail 26868 invoked from network); 26 Feb 2001 17:19:25 -0000\r\nReceived: from unknown (10.1.10.26) by l7.egroups.com with QMQP; 26 Feb 2001 17:19:25 -0000\r\nReceived: from unknown (HELO hqfirex1.agedwards.com) (192.52.184.62) by mta1 with SMTP; 26 Feb 2001 17:19:25 -0000\r\nReceived: from hqmswpn1.agedwards.com by hqfirex1.agedwards.com via smtpd (for mta1.onelist.com [208.48.218.7]) with SMTP; 26 Feb 2001 17:19:25 UT\r\nReceived: from hqhampn2.agedwards.com (hqhampn2.agedwards.com) by hqmswpn1.agedwards.com (Content Technologies SMTPRS 4.1.5) with ESMTP id &lt;T0a6efc0c51f6e20a39@...&gt; for &lt;junit@yahoogroups.com&gt;; Mon, 26 Feb 2001 11:19:19 -0600\r\nReceived: from hqexchn2.agedwards.com (unverified) by hqhampn2.agedwards.com (Content Technologies SMTPRS 2.0.15) with ESMTP id &lt;B0003423056@...&gt; for &lt;junit@yahoogroups.com&gt;; Mon, 26 Feb 2001 11:16:07 -0600\r\nReceived: by hqexchn2.agedwards.com with Internet Mail Service (5.5.2650.21) id &lt;1ZRRPPS5&gt;; Mon, 26 Feb 2001 11:16:07 -0600\r\nMessage-Id: &lt;EAA3CA37F0CBD4119D4A00062938F1A5010B6CF4@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: running an EJB client as a JUnit TestCase\r\nDate: Mon, 26 Feb 2001 11:16:01 -0600\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2650.21)\r\nContent-Type: multipart/alternative ; boundary=&quot;----_=_NextPart_001_01C0A017.CAB62300&quot;\r\nFrom: &quot;Herrick, Chuck&quot; &lt;chuck.herrick@...&gt;\r\n\r\n\r\n------_=_NextPart_001_01C0A017.CAB62300\r\nContent-Type: text/plain\r\n\r\n\n&gt; \tHello, \n\t\tI&#39;m running a CMP Entity bean in WebLogic v 5.1.0 sp 8. I&#39;m\ndoing my Java coding using TogetherJ.\n\n&gt; \tI figure it would be a no-brainer to make an EJB client into a\n&gt; junit.framework.TestCase and get junit.swingui.TestRunner to run my EJB\n&gt; client for me.\n&gt; \n&gt; \tAlas, Everything works fine until I execute the\n&gt; PortableRemoteObject.narrow(), in which I get a ClassCastException. \n&gt; \n&gt; \tHere&#39;s what I get: \n&gt; \t-- \n&gt; \tjava.lang.ClassCastException    \n&gt; \tat\n&gt; weblogic.iiop.PortableRemoteObjectDelegateImpl.narrow(PortableRemoteObject\n&gt; DelegateImpl.java:94)      \n&gt; \tat\n&gt; javax.rmi.PortableRemoteObject.narrow(PortableRemoteObject.java:137)\n&gt; \n&gt; \tat TestClient.lookupHome(TestClient.java:186)   \n&gt; \tat TestClient.setUp(TestClient.java:227) \n&gt; \t-- \n&gt; \tI figure I might have a -classpath problem. I run TestRunner from a\n&gt; .cmd commandline script file, using jdk1.3&#92;bin&#92;java -classpath ...\n&gt; \n&gt; \tDoes TestRunner use %CLASSPATH% when it runs my EJB client?\n&gt; \n\t\tI may have a ClassLoader problem. Running the same code,\nfrom a main() which calls setUp() and mimics TestRunner, runs just fine from\nthe commandline as well as from insdide TogetherJ. In fact, if I cut&#39;n&#39;paste\nthe -classpath from these, I still get the cast exception from a run via\nTestRunner.\n\n\t\tHere is what is weird. I&#39;ve put System.out.println()s in my\ncode, using instanceof to test what is returned from the\nInitialContext.lookup() against the ejb Home interface. this comparison code\nreturns true when run from the commandline and from inside TogetherJ but\nfalse when run from TestRunner. In other words,\n\t\t  java.lang.Object o = ctx.lookup(&quot;JNDI_NAME&quot;) ;\n\t\t  System.out.println(o.getClass().getName()) ;\n\t\t  System.out.println(o instanceof FoobarHome) ;\n\t\tshould echo first the classname of the WebLogic-generated\nstub and then the word true.\n\n\t\tRunning inside and outside of TestRunner gives indeed the\nsame classname. Running inside TestRunner returns &quot;false&quot; and outside\nTestRunner returns &quot;true.&quot;\n\n\t\tCan you help?\n\n\t\t\tmailto:chuck.herrick@...\n\n\n\n***************************************************************************************\nWARNING:  All e-mail sent to and from this address will be received or\notherwise recorded by the A.G. Edwards corporate e-mail system and is\nsubject to archival, monitoring or review by, and/or disclosure to,\nsomeone other than the recipient.\n***************************************************************************************\n\r\n------_=_NextPart_001_01C0A017.CAB62300\r\nContent-Type: text/html; charset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2//EN&quot;&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;META HTTP-=\r\nEQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; charset=3Diso-8859-1&quot;&gt;\n&lt;META N=\r\nAME=3D&quot;Generator&quot; CONTENT=3D&quot;MS Exchange Server version 5.5.2652.35&quot;&gt;\n&lt;TITL=\r\nE&gt;RE: running an EJB client as a JUnit TestCase&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;BR&gt;=\r\n\n&lt;UL&gt;&lt;UL&gt;\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Hello,&lt;/FONT&gt;&lt;FONT FACE=3D&quot;Arial=\r\n&quot;&gt; &lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I&#39;m running a CMP Entity bean =\r\nin WebLogic v 5.1.0 sp 8. I&#39;m doing my Java coding using TogetherJ.&lt;/FONT&gt;\n=\r\n&lt;BR&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I figure it would be a no-brainer to=\r\n make an EJB client into a junit.framework.TestCase and get junit.swingui.T=\r\nestRunner to run my EJB client for me.&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=\r\n=3D&quot;Arial&quot;&gt;Alas, Everything works fine until I execute the PortableRemoteOb=\r\nject.narrow(), in which I get a ClassCastException.&lt;/FONT&gt;&lt;FONT FACE=3D&quot;Ari=\r\nal&quot;&gt; &lt;/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Here&#39;s what I get:&lt;/FON=\r\nT&gt;&lt;FONT FACE=3D&quot;Arial&quot;&gt;&lt;BR&gt;\n&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;--&lt;/FONT&gt;&lt;=\r\nFONT FACE=3D&quot;Arial&quot;&gt;&lt;BR&gt;\n&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;java.lang.Cla=\r\nssCastException =A0=A0&lt;/FONT&gt;&lt;BR&gt;\n&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;at weblogic=\r\n.iiop.PortableRemoteObjectDelegateImpl.narrow(PortableRemoteObjectDelegateI=\r\nmpl.java:94) =A0=A0=A0=A0&lt;/FONT&gt;&lt;BR&gt;\n&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;at javax=\r\n.rmi.PortableRemoteObject.narrow(PortableRemoteObject.java:137) =A0=A0=A0=\r\n=A0=A0=A0=A0&lt;/FONT&gt;&lt;BR&gt;\n&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;at TestClient.lookupH=\r\nome(TestClient.java:186) =A0&lt;/FONT&gt;&lt;BR&gt;\n&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;at Te=\r\nstClient.setUp(TestClient.java:227)&lt;/FONT&gt;&lt;BR&gt;\n&lt;FONT SIZE=3D2 FACE=3D&quot;Arial=\r\n&quot;&gt;--&lt;/FONT&gt;&lt;FONT FACE=3D&quot;Arial&quot;&gt;&lt;BR&gt;\n&lt;/FONT&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I=\r\n figure I might have a -classpath problem. I run TestRunner from a .cmd com=\r\nmandline script file, using jdk1.3&#92;bin&#92;java -classpath ...&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;=\r\nFONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Does TestRunner use %CLASSPATH% when it runs m=\r\ny EJB client?&lt;/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;I may have a Cl=\r\nassLoader problem. Running the same code, from a main() which calls setUp()=\r\n and mimics TestRunner, runs just fine from the commandline as well as from=\r\n insdide TogetherJ. In fact, if I cut&#39;n&#39;paste the -classpath from these, I =\r\nstill get the cast exception from a run via TestRunner.&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FON=\r\nT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Here is what is weird. I&#39;ve put System.out.printl=\r\nn()s in my code, using instanceof to test what is returned from the Initial=\r\nContext.lookup() against the ejb Home interface. this comparison code retur=\r\nns true when run from the commandline and from inside TogetherJ but false w=\r\nhen run from TestRunner. In other words,&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=\r\n=3D&quot;Arial&quot;&gt;&nbsp; java.lang.Object o =3D ctx.lookup(&quot;JNDI_NAME&quot;) =\r\n;&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&nbsp; System.out.println(o.getC=\r\nlass().getName()) ;&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&nbsp; System.=\r\nout.println(o instanceof FoobarHome) ;&lt;/FONT&gt;\n&lt;BR&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Ar=\r\nial&quot;&gt;should echo first the classname of the WebLogic-generated stub and the=\r\nn the word true.&lt;/FONT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Running insi=\r\nde and outside of TestRunner gives indeed the same classname. Running insid=\r\ne TestRunner returns &quot;false&quot; and outside TestRunner returns &quot=\r\n;true.&quot;&lt;/FONT&gt;&lt;/P&gt;\n\n&lt;P&gt;&lt;FONT SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;Can you help?&lt;/FO=\r\nNT&gt;\n&lt;/P&gt;\n\n&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;U&gt; &lt;FONT COLOR=3D&quot;#=\r\n0000FF&quot; SIZE=3D2 FACE=3D&quot;Arial&quot;&gt;&lt;A HREF=3D&quot;mailto:chuck.herrick@agedwards.c=\r\nom&quot;&gt;mailto:chuck.herrick@...&lt;/A&gt;&lt;/FONT&gt;&lt;/U&gt;\n&lt;/P&gt;\n&lt;/UL&gt;&lt;/UL&gt;\n&lt;CODE=\r\n&gt;&lt;FONT SIZE=3D3&gt;&lt;BR&gt;\n&lt;BR&gt;\n*************************************************=\r\n**************************************&lt;BR&gt;\nWARNING:  All e-mail sent to and=\r\n from this address will be received or&lt;BR&gt;\notherwise recorded by the A.G. E=\r\ndwards corporate e-mail system and is&lt;BR&gt;\nsubject to archival, monitoring o=\r\nr review by, and/or disclosure to,&lt;BR&gt;\nsomeone other than the recipient.&lt;BR=\r\n&gt;\n*************************************************************************=\r\n**************&lt;BR&gt;\n&lt;/FONT&gt;&lt;/CODE&gt;&lt;/BODY&gt;\n&lt;/HTML&gt;\r\n------_=_NextPart_001_01C0A017.CAB62300--\r\n\n", 
    "subject": "RE: running an EJB client as a JUnit TestCase"
}