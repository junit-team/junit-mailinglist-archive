{
    "numMessagesInTopic": 5, 
    "nextInTime": 15250, 
    "senderId": "Td2LmH4wSSxWqVCPHbaNUo00QSQoKhBQAhasdfw7ZFOPu4Ys6xYHeKmjNgd2IsnR5Xz6NPbbBjMKgW-iGpjM5_qAGIZnr_H1DZ7KQ6c8wg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Mocking Static Classes?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... One option is to add an overloaded version of the method that takes as parameters all the object you need to substitute. If there s only 1 such method,", 
    "msgId": 15249, 
    "profile": "nails762", 
    "topicId": 15191, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-1754168021\">David Brady wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; We use a bunch of static methods on various classes to provide<br/>\n&gt; functionality.  Today I realized I have no idea how to mock these<br/>\n&gt; classes.  Objects yes, classes no.<br/>\n&gt; <br/>\n&gt; Is there a good refactoring to fix this?<br/>\n&gt; <br/>\n&gt; Example:<br/>\n&gt; <br/>\n&gt; public class DbAccess {<br/>\n&gt;     public static ResultSet query(DbQuery query) {<br/>\n&gt;         // ...creates the necessary Db objects and returns a ResultSet<br/>\n&gt; object.<br/>\n&gt;     }<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; If I want to mock the database access, I&#39;m going to need to either swap<br/>\n&gt; DbAccess to DbAccessMock, or I&#39;ll need DbAccess.query() to redirect<br/>\n&gt; through an interceptable (mockable) interface.<br/>\n&gt; <br/>\n&gt; Is there a standard refactoring for this?<br/>\n<br/>\n </span></blockquote>One option is to add an overloaded version of the method that takes as <br/>\nparameters all the object you need to substitute. If there&#39;s only 1 such <br/>\nmethod, this is a good option.<br/>\n<br/>\nAnother option is to move the class-level method onto a new class, into <br/>\nwhich you can inject dependencies through the constructor. If there are <br/>\nmany such methods, this is a better option. (It&#39;s a specific case of the <br/>\nmore general refactoring: move related class-level methods to a new class.)<br/>\n<br/>\nI hope that helps.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a><br/>\n2005 Gordon Pask Award Winner for contribution to Agile practice<br/>\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing</div>", 
    "prevInTime": 15248, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1130126263", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 15237, 
    "headers": {
        "inReplyToHeader": "PDQzNTUyMTFCLjgwNTA3MDFAc2hpbnliaXQuY29tPg==", 
        "messageIdInHeader": "PDQzNUM1QkI3LjIwODAzMDhAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDQzNTUyMTFCLjgwNTA3MDFAc2hpbnliaXQuY29tPg=="
    }
}