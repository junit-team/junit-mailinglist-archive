{
    "numMessagesInTopic": 18, 
    "nextInTime": 18100, 
    "senderId": "--SCAtZRb7sNeSuJJQRTCOH-ITRkOt2OBbVlveNAE2EyVByib8Bq0m9r-iMy6SErQlGWBa6tLNdPRodn8jsf1kUGD5FnBi_IH1WWGrLjqAC6T5oB", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Comparing Arrays with Assert.assertEquals in Junit 4.1", 
    "from": "&quot;Joakim Ohlrogge&quot; &lt;joakim.ohlrogge@...&gt;", 
    "authorName": "Joakim Ohlrogge", 
    "msgSnippet": "I have been toying with an assertEquivalent or rather assertThat(xxx, is.equivalentTo(xxx)) in rMock. The scope is a bit bigger like new Integer(4711) is", 
    "msgId": 18099, 
    "profile": "j0hlrogge", 
    "topicId": 18028, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 261856052, 
    "messageBody": "<div id=\"ygrps-yiv-1491489770\">I have been toying with an assertEquivalent or rather assertThat(xxx,<br/>\nis.equivalentTo(xxx)) in rMock.<br/>\n<br/>\nThe scope is a bit bigger like<br/>\n<br/>\nnew Integer(4711) is equivalent to new Long(4711) (although .equals returns<br/>\nfalse in this case).<br/>\nit could also check that a list containing &quot;1&quot;, &quot;2&quot;, &quot;3&quot; is equivalent to<br/>\nnew String[]{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}<br/>\nwhich could be elegant:<br/>\n<br/>\nassertEquivalent(new String[]{&quot;1&quot;,&quot;2&quot;,&quot;3&quot;}, actual);<br/>\n<br/>\ncompared to:<br/>\n<br/>\nassertEquals(Arrays.asList(new String[]{&quot;1&quot;,&quot;2&quot;,&quot;3&quot;}), actual);<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://dictionary.reference.com/search?r=2&q=equivalent\">http://dictionary.reference.com/search?r=2&q=equivalent</a><br/>\nAny thoughts on equivalent?<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 10/5/06, Kent Beck &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:kentb@...\">kentb@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt;   David,<br/>\n&gt;<br/>\n&gt; First, I shouldn&#39;t have checked anything in without finishing the<br/>\n&gt; conversation here and checking with my teammates. My mistake.<br/>\n&gt;<br/>\n&gt; Second, assertEquals(a, b) was equivalent to assertTrue(a.equals(b))<br/>\n&gt; originally. Then we added the exception for array equality. Perhaps we<br/>\n&gt; need<br/>\n&gt; to revert assertEquals() to its original definition and define an<br/>\n&gt; assertPrettyDoggoneSimilar() that does fancy stuff with arrays. I&#39;m in<br/>\n&gt; favor<br/>\n&gt; of simple mental models, and the original assertEquals() certainly was<br/>\n&gt; simple and straightforward. I hate to lose that.<br/>\n&gt;<br/>\n&gt; To the people who&#39;d like a notion of array equality that is more than what<br/>\n&gt; is provided by equals(), what would you like the assertion called?<br/>\n&gt;<br/>\n&gt; Cheers,<br/>\n&gt;<br/>\n&gt; Kent Beck<br/>\n&gt; Three Rivers Institute<br/>\n&gt;<br/>\n&gt; _____<br/>\n&gt;<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt; [mailto:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;] On Behalf Of<br/>\n&gt; putnam_david_t<br/>\n&gt; Sent: Monday, October 02, 2006 8:47 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> &lt;junit%40yahoogroups.com&gt;<br/>\n&gt; Subject: [junit] Re: Comparing Arrays with Assert.assertEquals in Junit<br/>\n&gt; 4.1<br/>\n&gt;<br/>\n&gt; So the intent of assertEquals(a,b) is to be equivalent to<br/>\n&gt; assertTrue(a.equals(b)).<br/>\n&gt;<br/>\n&gt; --- In junit@yahoogroups. &lt;mailto:junit% &lt;junit%25&gt;40yahoogroups.com&gt; com,<br/>\n&gt; David Saff<br/>\n&gt;<br/>\n&gt; &lt;saff@...&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; I have some preference for the current definition. Imagine this test:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Object a = someReflectiveCall(&quot;abc&quot;);<br/>\n&gt; &gt; Object b = someOtherReflectiveCall(&quot;cba&quot;);<br/>\n&gt; &gt; assertEquals(a, b);<br/>\n&gt; &gt;<br/>\n&gt; &gt; To me, this asserts that a and b, whatever they are, are equal<br/>\n&gt; according<br/>\n&gt; &gt; to Java&#39;s definition of equal. This involves all sorts of weirdness<br/>\n&gt; &gt; that we might wish weren&#39;t so--if a and b are StringBuffers with<br/>\n&gt; &gt; identical contents, they will not be equal, and likewise if they are<br/>\n&gt; &gt; arrays with identical contents.<br/>\n&gt; &gt;<br/>\n&gt; &gt; If I know that a and b are arrays, then writing<br/>\n&gt; &gt;<br/>\n&gt; &gt; assertEquals((Object[])a, (Object[])b);<br/>\n&gt; &gt;<br/>\n&gt; &gt; is not very burdensome, and has benefits in documenting the behavior of<br/>\n&gt; &gt; the tested methods. Does that make sense?<br/>\n&gt; &gt;<br/>\n&gt; &gt; David Saff<br/>\n&gt; &gt;<br/>\n&gt; &gt; Jason Rogers wrote:<br/>\n&gt; &gt; &gt; That seems to make sense. Two arrays will never be equal objects<br/>\n&gt; if they<br/>\n&gt; &gt; &gt; aren¹t the same object. So, it would make sense to compare their<br/>\n&gt; contents.<br/>\n&gt; &gt; &gt; I tend to discourage RTTI, but in this case I don¹t think it¹s a<br/>\n&gt; bad idea.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; My $0.02...<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Jason<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; On 9/27/06 10:09 PM, &quot;putnam_david_t&quot; &lt;davidtputnam@...&gt; wrote:<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; I see that Junit 4.1 has a new method for comparing arrays. However<br/>\n&gt; &gt; &gt;&gt; in my case the arrays are created via reflection. So the arrays are<br/>\n&gt; &gt; &gt;&gt; declared as Object and the Object version of assertEquals does not<br/>\n&gt; &gt; &gt;&gt; examine the array elements. I suggested on the Junit issue tracker<br/>\n&gt; &gt; &gt;&gt; that the Object version of assertEquals be ammended to check if the<br/>\n&gt; &gt; &gt;&gt; two Objects are both arrays then act like the array version.<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; I am posting this here to see what other discussion this might<br/>\n&gt; generate.<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; Looking forward to hearing from you.<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; Thanks,<br/>\n&gt; &gt; &gt;&gt; David<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 18098, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1160129789", 
    "canDelete": false, 
    "nextInTopic": 18102, 
    "prevInTopic": 18094, 
    "headers": {
        "inReplyToHeader": "PDAwNTUwMWM2ZThjNyQ3YmUzZjIzMCQ2OTAxYThjMEBUNDI+", 
        "messageIdInHeader": "PGI5ZWU1ZTQxMDYxMDA2MDMxNnc0MmUxNDJheGEyY2YxODczYzcxZTg4NTlAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGVmcmM5ZCtqY21uQGVHcm91cHMuY29tPiA8MDA1NTAxYzZlOGM3JDdiZTNmMjMwJDY5MDFhOGMwQFQ0Mj4="
    }
}