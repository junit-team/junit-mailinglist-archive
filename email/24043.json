{
    "numMessagesInTopic": 2, 
    "nextInTime": 24044, 
    "senderId": "7evcB-D6VqABaM-ePrgKroLTvutzORKDrF8W8IiQuaVWYu6d28LAxYgBn1P9_JXuIsEHfX57KuOg7-Va9-m4VOCogu2tj4Le0t8QvvrZ3Jr9Dw", 
    "systemMessage": true, 
    "subject": "Re: [junit] Filte, Suite and Runner", 
    "from": "Sebastian Hennebrueder &lt;usenet@...&gt;", 
    "authorName": "Sebastian Hennebrueder", 
    "msgSnippet": "Hello, here is a proposal to provide a simple filter mechanism in Junit Custom filter in 3 steps - create a config file - create a class which contributes", 
    "msgId": 24043, 
    "profile": "sebastian_4711", 
    "topicId": 24038, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 221114014, 
    "messageBody": "<div id=\"ygrps-yiv-94907172\">Hello,<br/>\n<br/>\nhere is a proposal to provide a simple filter mechanism in Junit<br/>\n<br/>\nCustom filter in 3 steps<br/>\n- create a config file<br/>\n- create a class which contributes filter<br/>\n- implement your filter<br/>\n<br/>\n1) Config file<br/>\nCreate a text file in META-INF/org.junit.contribution containing the class implementing your contribution<br/>\nsample content as used in the test:<br/>\n<br/>\norg.junit.experimental.filter.CustomContribution<br/>\n<br/>\n2) Implement the contribution class<br/>\n<br/>\npublic class CustomContribution implements JunitContribution {<br/>\n<br/>\n    public void contribute(ServiceRegistry serviceRegistry) {<br/>\n        FilterChain filterChain = serviceRegistry.get(FilterChain.class);<br/>\n        filterChain.add(new MyFilter());<br/>\n    }<br/>\n}<br/>\n<br/>\n3) Implementing your filter<br/>\npublic class MyFilter implements Filter {<br/>\n<br/>\n    public boolean shouldRun(Description description) {<br/>\n        return description.getMethodName().startsWith(&quot;test_123_&quot;);<br/>\n    }<br/>\n<br/>\n}<br/>\n<br/>\nThat&#39;s all.<br/>\n<br/>\nYou can find the latest version at <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/laliluna/junit\">https://github.com/laliluna/junit</a><br/>\n<br/>\nHave a look in the tests in org.junit.experimental.filter.GroupTests to see how it works<br/>\n<br/>\nSide notes<br/>\n<br/>\n# This approach provides just another filter.<br/>\n# It breaks integration with IntelliJ to some extent as IntelliJ only makes use of the ignore event<br/>\n# It only works with maven if the use of surefire-junit47 is enforced. It is used automatically only if you have Junit &gt; 4.7 AND using parallel test processing<br/>\n<br/>\n# it allows to trigger an event as for example the @Ignore would do, which allows Eclipse, IntelliJ and maven in the future to show how many tests where filtered out.<br/>\n# it is executed per test method as @Ignore as well<br/>\n# it allows to not use test suites any more<br/>\n# it separates the filter concept cleanly from the test runner and suites<br/>\n<br/>\nI appreciate any feedback.<br/>\n<br/>\n-- <br/>\nBest Regards / Viele Gr��e<br/>\n<br/>\nSebastian Hennebrueder<br/>\n<br/>\n-----<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.laliluna.de\">http://www.laliluna.de</a><br/>\nJava software developer and trainer for Hibernate and Java Persistence<br/>\n<br/>\nAm 25.09.2012 um 19:32 schrieb Sebastian Hennebrueder:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Hello,<br/>\n&gt; <br/>\n&gt; my impression of filter and suites is a little bit mixed. Custom filters and custom runners are coupled and not trivial to use. I understood a suite as the place to choose classes to execute but a suite can be run with a filter which is a suite itself. You can use a suite to control what is executed but you must explicitly name classes, use a custom runner to make use of advanced filtering like packages.<br/>\n&gt; <br/>\n&gt; Using an IDE like Eclipse or IntelliJ, using a Suite causes multiple execution of the same test and is more or less unusable. <br/>\n&gt; <br/>\n&gt; Considering issue <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/KentBeck/junit/issues/issue/172\">https://github.com/KentBeck/junit/issues/issue/172</a> I am thinking about working a little bit on filtering.<br/>\n&gt; <br/>\n&gt; My idea is that there is a set of common filter and the user can register further filters. <br/>\n&gt; <br/>\n&gt; default filters:<br/>\n&gt; - @Ignore which should be a filter actually as well (but isn&#39;t)<br/>\n&gt; - group filter<br/>\n&gt; - package filter<br/>\n&gt; <br/>\n&gt; To allow custom registration, we could follow the idea of the ServiceLoader provided with Java 1.6. As junit uses 1.5 we would have to reimplement a part of it but could switch to it later.<br/>\n&gt; <br/>\n&gt; Basic principle:<br/>\n&gt; in a directory META-INF/service you can create a file named like the interface: org.junit.runner.manipulation.Filter and in this class you add the qualified name of custom classes implementing this interface.<br/>\n&gt; All filters are added to the chain.<br/>\n&gt; <br/>\n&gt; Alternatively, such a config file contains only a class which can be used for the user to register additional filters and possibly other stuff.<br/>\n&gt; <br/>\n&gt; I am thinking about configuration profiles, which allows to customize multiple filters at the same time. I would consider YAML a nice format.<br/>\n&gt; <br/>\n&gt; ---<br/>\n&gt; profile: integration<br/>\n&gt; filter: groups<br/>\n&gt; - queueintegration<br/>\n&gt; - dbintegration<br/>\n&gt; filter: package<br/>\n&gt; - de.laliluna.foo<br/>\n&gt; - de.laliluna.bar<br/>\n&gt; filter: de.custom.FilterClass<br/>\n&gt; - max: 5<br/>\n&gt; - boost: true<br/>\n&gt; ---<br/>\n&gt; profile: unit<br/>\n&gt; filter: groups<br/>\n&gt; - !queueintegration<br/>\n&gt; - !dbintegration<br/>\n&gt; filter: package<br/>\n&gt; - de.laliluna.foo<br/>\n&gt; - de.laliluna.bar<br/>\n&gt; filter: de.custom.FilterClass<br/>\n&gt; - max: 5<br/>\n&gt; - boost: true<br/>\n&gt; ---<br/>\n&gt; <br/>\n&gt; Running the tests, you specify the configuration profile, can register custom filters if you like and have them configured.<br/>\n&gt; <br/>\n&gt; What do you think?<br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; Best Regards / Viele Gr��e<br/>\n&gt; <br/>\n&gt; Sebastian Hennebrueder<br/>\n&gt; <br/>\n&gt; -----<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.laliluna.de\">http://www.laliluna.de</a><br/>\n&gt; Java software developer and trainer for Hibernate and Java Persistence<br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 24042, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1349207497", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 24038, 
    "headers": {
        "inReplyToHeader": "PEEzNzA0MzY1LUMxMEMtNEJEQy04NjQ3LTkwMzI3NDhDNTYzOEBsYWxpbHVuYS5kZT4=", 
        "messageIdInHeader": "PEQ3MzVEMDZDLTA2MzMtNDlDRS04OTcwLUQxOEYyQjcyMzBGMEBsYWxpbHVuYS5kZT4=", 
        "referencesHeader": "PEEzNzA0MzY1LUMxMEMtNEJEQy04NjQ3LTkwMzI3NDhDNTYzOEBsYWxpbHVuYS5kZT4="
    }
}