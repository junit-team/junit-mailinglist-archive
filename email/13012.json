{
    "numMessagesInTopic": 7, 
    "nextInTime": 13013, 
    "senderId": "tIL8UXZ_QNRb0-5kfJzlrg1JbpDnaCtDnCWaVXpqLvSEmPCxDRWKruzsLN84qnZsqFATKTLsEni2EiD1XLWPhmf8UwPQEx_AvVpuvbT7dkl9299_VA", 
    "systemMessage": true, 
    "subject": "RE: [junit] Change the system time for the test", 
    "from": "&quot;Crutcher, John&quot; &lt;john.crutcher@...&gt;", 
    "authorName": "Crutcher, John", 
    "msgSnippet": "Although I have never tried this in Java, I accessed the kernel32.dll to read the time. That library has a function SetSystemTime to do what you want. Java has", 
    "msgId": 13012, 
    "profile": "johnc32000", 
    "topicId": 12997, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 188755716, 
    "messageBody": "<div id=\"ygrps-yiv-355646888\">Although I have never tried this in Java, I accessed the kernel32.dll to<br/>\nread the time. That library has a function SetSystemTime to do what you<br/>\nwant. <br/>\n<br/>\n <br/>\n<br/>\nJava has a class called Runtime that should allow you to use that<br/>\nlibrary. <br/>\n<br/>\n <br/>\n<br/>\nHere&#39;s a link to MS&#39;s SetSystemTime:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo\">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo</a><br/>\n/base/setsystemtime.asp<br/>\n<br/>\n <br/>\n<br/>\nHere&#39;s how I did it in Basic:<br/>\n<br/>\n <br/>\n<br/>\nType SYSTEMTIME<br/>\n<br/>\n   thisYear As integer<br/>\n<br/>\n   thisMonth As integer<br/>\n<br/>\n   thisDayOfWeek As integer<br/>\n<br/>\n   thisDay As integer<br/>\n<br/>\n   thisHour As integer<br/>\n<br/>\n   thisMinute As integer<br/>\n<br/>\n   thisSecond As integer<br/>\n<br/>\n   thisMilliseconds As integer<br/>\n<br/>\nEnd Type <br/>\n<br/>\n <br/>\n<br/>\nDeclare Sub GetSystemTime lib &quot;kernel32&quot; Alias &quot;GetSystemTime&quot; (ByRef<br/>\nIpSystemTime As SYSTEMTIME)<br/>\n<br/>\nDeclare Function getMS() as long<br/>\n<br/>\n <br/>\n<br/>\n <br/>\n<br/>\nFunction getMS() as long<br/>\n<br/>\n    Dim systime As SYSTEMTIME<br/>\n<br/>\n    call GetSystemTime(systime) &#39;From kernel32.dll<br/>\n<br/>\n    Dim total as long<br/>\n<br/>\n    Dim minutes as long<br/>\n<br/>\n    dim seconds as long <br/>\n<br/>\n    dim hours as long <br/>\n<br/>\n    <br/>\n<br/>\n    hours = systime.thisHour * 3600000<br/>\n<br/>\n    minutes = systime.thisMinute * 60000<br/>\n<br/>\n    seconds = systime.thisSecond<br/>\n<br/>\n    seconds = seconds * 1000<br/>\n<br/>\n    total = hours + minutes + seconds + systime.thisMilliseconds<br/>\n<br/>\n    <br/>\n<br/>\n    getMS = total<br/>\n<br/>\n    <br/>\n<br/>\nEnd Function<br/>\n<br/>\n <br/>\n<br/>\nJohn Crutcher<br/>\n<br/>\nAdministrative Office of the Courts<br/>\n<br/>\n1206 Quince St. SE<br/>\n<br/>\nPO Box 41170<br/>\n<br/>\nOlympia, WA 98504-1170<br/>\n<br/>\n <br/>\n<br/>\n-----Original Message-----<br/>\nFrom: haefeleuser [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:haefeleuser@...\">haefeleuser@...</a>] <br/>\nSent: Wednesday, March 02, 2005 10:33 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: [junit] Change the system time for the test<br/>\n<br/>\n <br/>\n<br/>\n<br/>\nFor my JUnit tests I need to modify the system time.<br/>\n<br/>\nInstead of doing this manually by changing the OS clock I would like<br/>\nto change the clock programatically in Java.<br/>\n<br/>\nOf course I can set the time on the Calendar object in the JUnit test.<br/>\nBut it has no effect on the tested class. In the tested class &quot;new<br/>\nDate() &quot; returns always the current date and not the one which I set<br/>\nin my JUnit test.<br/>\n<br/>\nI have test data for business logic which I create before the test<br/>\nstarts and which contain absolute dates like 2004-12-31. So I need to<br/>\nmodify the system date for my tests.<br/>\n<br/>\nWhat I need to test is calculation of the average sold quantity. But<br/>\nonly the last X weeks (from today) need to be considered. My test<br/>\nsales data contains dates like 2004-12-31. Its much easier for me to<br/>\nwrite and understand data with such &quot;absolute&quot; dates instead of<br/>\nrelative dates (by rolling the dates around and not understanding it<br/>\nquickly). So it would be good for me to simply set the system date<br/>\nbefore the test starts and thus use absolute dates for my tests<br/>\ninstead of relative ones.<br/>\n<br/>\nOf course I could make the dates of the test data relative, but that<br/>\nwould be harder to code, understand and to maintain. It better for me<br/>\nto change the system time. But it needs to be done programatically in<br/>\nthe JUnit test and not manually by changing the OS date by hand.<br/>\n<br/>\nCan you provide a solution for that please?<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nYahoo! Groups Sponsor<br/>\n<br/>\nADVERTISEMENT<br/>\nclick here<br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.ard.yahoo.com/SIG=12945os7l/M=298184.6018725.7038619.3001176/\">http://us.ard.yahoo.com/SIG=12945os7l/M=298184.6018725.7038619.3001176/</a><br/>\nD=groups/S=1705006905:HM/EXP=1109874852/A=2593423/R=0/SIG=11el9gslf/*htt<br/>\np:/www.netflix.com/Default?mqso=60190075&gt; <br/>\n<br/>\n <br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.adserver.yahoo.com/l?M=298184.6018725.7038619.3001176/D=group\">http://us.adserver.yahoo.com/l?M=298184.6018725.7038619.3001176/D=group</a><br/>\ns/S=:HM/A=2593423/rand=813537480&gt; <br/>\n<br/>\n <br/>\n<br/>\n  _____  <br/>\n<br/>\nYahoo! Groups Links<br/>\n<br/>\n*         To visit your group on the web, go to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit/\">http://groups.yahoo.com/group/junit/</a><br/>\n  <br/>\n<br/>\n*         To unsubscribe from this group, send an email to:<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt; <br/>\n  <br/>\n<br/>\n*         Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\nService &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt; . <br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 13011, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1109791084", 
    "canDelete": false, 
    "nextInTopic": 13040, 
    "prevInTopic": 13002, 
    "headers": {
        "messageIdInHeader": "PDJGQkMzNjdFMzhDNDRFNERCMzc2MEUxOTBBREI1QjJDMjVBOTg0QEFPQ0VYQ0gxLmNvdXJ0cy53YS5nb3Y+"
    }
}