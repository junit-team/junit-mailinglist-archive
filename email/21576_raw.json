{
    "numMessagesInTopic": 5, 
    "nextInTime": 21577, 
    "senderId": "1j0CpPG6EMBznHjBuD_kiTO9CHsYPmFCWVEXZ4-BgjwW7xkeQIxIC3X_2MqdnUMG5K2293GVoQyCcKyVnM_IrUTPbHtLlA", 
    "systemMessage": true, 
    "subject": "Re: [junit] ClassNotFoundException, sometimes", 
    "from": "David Rush &lt;david@...&gt;", 
    "authorName": "David Rush", 
    "msgSnippet": "James: I tried your suggestions (-verbose), but discovered that my problem has mysteriously disappeared. With or without the -verbose option, I can run ant", 
    "msgId": 21576, 
    "rawEmail": "Return-Path: &lt;david@...&gt;\r\nReceived: (qmail 48523 invoked from network); 7 May 2009 19:34:16 -0000\r\nReceived: from unknown (98.137.34.45)\n  by m8.grp.re1.yahoo.com with QMQP; 7 May 2009 19:34:16 -0000\r\nReceived: from unknown (HELO n43d.bullet.mail.sp1.yahoo.com) (66.163.169.157)\n  by mta2.grp.sp2.yahoo.com with SMTP; 7 May 2009 19:34:16 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1241724848; bh=qFsIf51D2F4lf2wKVjBBnzrlSb22XcBO9y0CJPmEdQw=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Message-ID:Date:User-Agent:MIME-Version:To:References:In-Reply-To:X-Enigmail-Version:OpenPGP:Content-Type:Content-Transfer-Encoding:X-Originating-IP:X-eGroups-Msg-Info:From:Reply-To:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=HyMXT3FfePRBlq6iahHH8OAPzzmZABCg1RljaGmcVEBCqYnjLvS/nMcITm32T7NPsqV+z5V5L/1A0OKjaMCPYfVP45BQEpA+s6eOVHg3Y9ZHCBqFlKcA5mgy3FW9tzWJ\r\nReceived: from [69.147.65.150] by n43.bullet.mail.sp1.yahoo.com with NNFMP; 07 May 2009 19:34:08 -0000\r\nReceived: from [98.137.34.32] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 07 May 2009 19:34:08 -0000\r\nX-Sender: david@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 45443 invoked from network); 7 May 2009 16:23:18 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m3.grp.sp2.yahoo.com with QMQP; 7 May 2009 16:23:18 -0000\r\nX-Received: from unknown (HELO smtp1.phpwebhosting.com.phpwebhosting.com) (70.84.132.50)\n  by mta3.grp.sp2.yahoo.com with SMTP; 7 May 2009 16:23:18 -0000\r\nX-Received: (qmail 30589 invoked from network); 7 May 2009 16:22:31 -0000\r\nX-Received: from unknown (HELO [172.16.0.100]) (sendonly2@...@75.76.84.146)\n\tby smtp1.phpwebhosting.com with (DHE-RSA-AES256-SHA encrypted) SMTP; Thu, 07 May 2009 11:22:31 -0500\r\nMessage-ID: &lt;4A030AC3.5080809@...&gt;\r\nDate: Thu, 07 May 2009 10:22:27 -0600\r\nUser-Agent: Thunderbird 2.0.0.21 (Windows/20090302)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;4A00A14C.5060306@...&gt;\t &lt;4f7da6b90905060620k59d41dc5p1eb29c229de74da3@...&gt;\t &lt;4A01D323.5040205@...&gt; &lt;23fce8e60905070624m63459021ufc30d225a52672b9@...&gt;\r\nIn-Reply-To: &lt;23fce8e60905070624m63459021ufc30d225a52672b9@...&gt;\r\nX-Enigmail-Version: 0.95.7\r\nOpenPGP: id=6FD05E49\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 2:3:4:0:0\r\nFrom: David Rush &lt;david@...&gt;\r\nReply-To: david@...\r\nSubject: Re: [junit] ClassNotFoundException, sometimes\r\nX-Yahoo-Group-Post: member; u=230574984; y=JSq3JQn5kGYm_CuTfrYWJXT3nfaoENJcOOI8Vk7BGvE\r\nX-Yahoo-Profile: ky7dr\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 07 May 2009 19:34:07 -0000\r\n\r\nJames:\n\nI tried your suggestions (-verbose), but discovered that my problem has mysteriously disappeared.\n\nWith or without the -verbose option, I can run &quot;ant test&quot; multiple times in a row without problems.\n\nI have made no changes to the code since I last saw the problem.  I have rebooted since then, so my best guess is that the reboot may have had something to do with making the problem go away (at least for now).  Just a guess.\n\nThanks for your suggestions.\n\nDavid\n\nJames Abley wrote:\n&gt; \n&gt; \n&gt; \n&gt; 2009/5/6 David Rush &lt;david@... &lt;mailto:david%40rushtone.com&gt;&gt;:\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; David:\n&gt;&gt;\n&gt;&gt; I created Foo.java, which simply has a main method that creates an\n&gt; exception\n&gt;&gt; object from the 3rd-party library and prints it out:\n&gt;&gt;\n&gt;&gt; import com.esri.sde.sdk.client.*;\n&gt;&gt; public class Foo {\n&gt;&gt; public static void main(String[] args) {\n&gt;&gt; System.out.println(&quot;Foo&quot;);\n&gt;&gt; SeException ex = new SeWarningException(&quot;Testing&quot;);\n&gt;&gt; System.out.println(&quot;ex = &quot;+ex);\n&gt;&gt; }\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt; and a foo task in my build.xml\n&gt;&gt;\n&gt;&gt; &lt;target name=&quot;foo&quot; depends=&quot;compile&quot;&gt;\n&gt;&gt; &lt;java classname=&quot;Foo&quot; classpathref=&quot;test.classpath&quot; /&gt;\n&gt;&gt; &lt;/target&gt;\n&gt;&gt;\n&gt;&gt; It does not exhibit the puzzling behavior. I can run &quot;ant foo&quot; multiple\n&gt;&gt; times in succession without problems. I added &quot;compile.tests&quot; to &quot;depends&quot;\n&gt;&gt; in the foo task, and it makes no difference (I can still run foo multiple\n&gt;&gt; times in a row without problems).\n&gt;&gt;\n&gt;&gt; If I do this from the command line:\n&gt;&gt; ant clean\n&gt;&gt; ant test\n&gt;&gt; ant test\n&gt;&gt;\n&gt;&gt; I get a failure on the 2nd &quot;ant test&quot;.\n&gt;&gt; If I do this:\n&gt;&gt; ant clean\n&gt;&gt; ant foo\n&gt;&gt; ant test\n&gt;&gt; ant foo\n&gt;&gt;\n&gt;&gt; I get a failure on the &quot;ant test&quot; (ant compile and both runs of ant\n&gt; foo work\n&gt;&gt; fine).\n&gt;&gt;\n&gt;&gt; compile.tests is this:\n&gt;&gt;\n&gt;&gt; &lt;target name=&quot;compile.tests&quot; depends=&quot;compile&quot;&gt;\n&gt;&gt; &lt;mkdir dir=&quot;build/classes&quot; /&gt;\n&gt;&gt; &lt;javac\n&gt;&gt; srcdir=&quot;src_tests&quot;\n&gt;&gt; destdir=&quot;build/classes&quot;\n&gt;&gt; classpathref=&quot;test.classpath&quot;\n&gt;&gt; debug=&quot;on&quot; debuglevel=&quot;lines,vars,source&quot;\n&gt;&gt; deprecation=&quot;yes&quot;\n&gt;&gt;&gt;\n&gt;&gt; &lt;!--\n&gt;&gt; &lt;compilerarg value=&quot;-Xlint:all&quot;/&gt;\n&gt;&gt; --&gt;\n&gt;&gt; &lt;compilerarg value=&quot;-Xmaxerrs&quot;/&gt; &lt;compilerarg value=&quot;${error_count.max}&quot;/&gt;\n&gt;&gt; &lt;compilerarg value=&quot;-Xmaxwarns&quot;/&gt; &lt;compilerarg\n&gt;&gt; value=&quot;${warning_count.max}&quot;/&gt;\n&gt;&gt; &lt;compilerarg value=&quot;-version&quot;/&gt;\n&gt;&gt; &lt;/javac&gt;\n&gt;&gt; &lt;/target&gt;\n&gt;&gt;\n&gt;&gt; David\n&gt; \n&gt; Try the verbose and debug output mode of ant to see if you get more\n&gt; information?\n&gt; \n&gt;&gt;\n&gt;&gt; David Saff wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; I&#39;d be suspicious of what &quot;compile.tests&quot; is doing. If you create a\n&gt;&gt;&gt; short main() class that depends on the class in question, and an ant\n&gt;&gt;&gt; target that runs it, do you see the same behavior?\n&gt;&gt;&gt;\n&gt;&gt;&gt; David Saff\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Tue, May 5, 2009 at 4:27 PM, David Rush &lt;david@...\n&gt; &lt;mailto:david%40rushtone.com&gt;\n&gt;&gt;&gt; &lt;mailto:david%40rushtone.com&gt;&gt; wrote:\n&gt;&gt;&gt;&gt; I&#39;m working on setting up some junit test cases for an application\n&gt;&gt;&gt; that&#39;s been around a while. I have some tests running via ant, but I\n&gt;&gt;&gt; have a strange situation.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; When use &quot;ant clean&quot; to delete all the compiled classes, then &quot;ant\n&gt;&gt;&gt; test&quot; (which depends on the compile task, so it&#39;ll compile before it\n&gt;&gt;&gt; runs the tests) to run the junit tests (via the junit ant task), it\n&gt;&gt;&gt; works fine. The code compiles and the junit tests work.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; However, if I immediately run &quot;ant test&quot; to re-run the junit tests, it\n&gt;&gt;&gt; fails with a NoClassDefFoundError, complaining about not being able to\n&gt;&gt;&gt; find a particular class in a 3rd-party library I&#39;m using. The correct\n&gt;&gt;&gt; .jar file for the library is in the classpath.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; If I do &quot;ant clean&quot;, then &quot;ant test&quot; it works.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Any ideas?\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Here&#39;s the &quot;test&quot; snippet from my ant script:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; &lt;target name=&quot;test&quot; depends=&quot;compile.tests&quot; description=&quot;Runs JUnit\n&gt;&gt;&gt; tests&quot;&gt;\n&gt;&gt;&gt;&gt; &lt;junit printsummary=&quot;false&quot; haltonfailure=&quot;true&quot; showoutput=&quot;true&quot;&gt;\n&gt;&gt;&gt;&gt; &lt;classpath refid=&quot;test.classpath&quot;/&gt;\n&gt;&gt;&gt;&gt; &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;\n&gt;&gt;&gt;&gt; &lt;batchtest&gt;\n&gt;&gt;&gt;&gt; &lt;fileset dir=&quot;build/classes&quot; includes=&quot;**/*.class&quot;/&gt;\n&gt;&gt;&gt;&gt; &lt;/batchtest&gt;\n&gt;&gt;&gt;&gt; &lt;/junit&gt;\n&gt;&gt;&gt;&gt; &lt;/target&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; David\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; ------------------------------------\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt; \n&gt; \n\n", 
    "profile": "ky7dr", 
    "topicId": 21571, 
    "spamInfo": {
        "reason": "3", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 230574984, 
    "prevInTime": 21575, 
    "contentTrasformed": false, 
    "postDate": "1241713347", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21574, 
    "headers": {
        "inReplyToHeader": "PDIzZmNlOGU2MDkwNTA3MDYyNG02MzQ1OTAyMXVmYzMwZDIyNWE1MjY3MmI5QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDRBMDMwQUMzLjUwODA4MDlAcnVzaHRvbmUuY29tPg==", 
        "referencesHeader": "PDRBMDBBMTRDLjUwNjAzMDZAcnVzaHRvbmUuY29tPgkgPDRmN2RhNmI5MDkwNTA2MDYyMGs1OWQ0MWRjNXAxZWIyOWMyMjlkZTc0ZGEzQG1haWwuZ21haWwuY29tPgkgPDRBMDFEMzIzLjUwNDAyMDVAcnVzaHRvbmUuY29tPiA8MjNmY2U4ZTYwOTA1MDcwNjI0bTYzNDU5MDIxdWZjMzBkMjI1YTUyNjcyYjlAbWFpbC5nbWFpbC5jb20+"
    }
}