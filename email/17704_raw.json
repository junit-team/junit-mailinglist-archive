{
    "numMessagesInTopic": 287, 
    "nextInTime": 17705, 
    "senderId": "jCH30e9Lem1Urscc5XFA4SbNqHk7TK3Og_TkfM4fvI9Bnlm9oH1nGQ1KqVPMmuBOcUvDnR813KGBqQ5G_RqX_AFMCLx9wJ1awvd2_xAOZKLupA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Test-friendly, but not caller-friendly?", 
    "from": "Michael Feathers &lt;mfeathers@...&gt;", 
    "authorName": "Michael Feathers", 
    "msgSnippet": "... That s fine as a personal preference.  The question is, whether as an API developer, you should make that choice for other people. ... Okay.  Nobody has", 
    "msgId": 17704, 
    "rawEmail": "Return-Path: &lt;mfeathers@...&gt;\r\nX-Sender: mfeathers@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 17761 invoked from network); 30 Aug 2006 13:25:59 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m37.grp.scd.yahoo.com with QMQP; 30 Aug 2006 13:25:59 -0000\r\nReceived: from unknown (HELO s-utl01-sjpop.stsn.net) (72.254.0.201)\n  by mta6.grp.scd.yahoo.com with SMTP; 30 Aug 2006 13:25:57 -0000\r\nReceived: from s-utl01-sjpop.stsn.net ([127.0.0.1])\n by s-utl01-sjpop.stsn.net (SMSSMTP 4.1.2.20) with SMTP id M2006083006255508583\n for &lt;junit@yahoogroups.com&gt;; Wed, 30 Aug 2006 06:25:55 -0700\r\nX-Spam-Status: No, hits=0.0 required=9.9\n\ttests=ALL_TRUSTED: -2.867,AWL: 0.518,BAYES_00: -1.665\r\nX-Spam-Level: \r\nReceived: from [10.77.215.156] ([10.77.215.156])\n\tby s-utl01-sjpop.stsn.net\n\tfor junit@yahoogroups.com;\n\tWed, 30 Aug 2006 06:25:54 -0700\r\nMessage-ID: &lt;44F591D7.5010000@...&gt;\r\nDate: Wed, 30 Aug 2006 09:25:43 -0400\r\nUser-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;3FB08D6A21B3EC4D8749EF6D9E62627856F7EF@...&gt; &lt;44E332C4.3090305@...&gt; &lt;44E444AD.4010700@...&gt; &lt;44F3475D.3010907@...&gt; &lt;44F43115.3070900@...&gt; &lt;44F437F2.4080605@...&gt; &lt;44F43B33.8020403@...&gt; &lt;44F457E7.7060807@...&gt;\r\nIn-Reply-To: &lt;44F457E7.7060807@...&gt;\r\nContent-Type: text/plain; charset=UTF-8; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Michael Feathers &lt;mfeathers@...&gt;\r\nReply-To: mfeathers@...\r\nSubject: Re: [junit] Test-friendly, but not caller-friendly?\r\nX-Yahoo-Group-Post: member; u=78021826; y=sgvSkcyc28r3Jrv4wKK7bKgvZ-Aph6TF8pOzlWwUYL5bCSf_rAWK\r\nX-Yahoo-Profile: mfeathers256\r\n\r\nElliotte Harold wrote:\n\n&gt;Michael Feathers wrote:\n&gt;\n&gt;  \n&gt;\n&gt;&gt;Nope.  We wrapped it.  Yes, we had system tests, but in order to test \n&gt;&gt;our logic independently, we pretty much had to wrap it.\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;I don&#39;t want the tests to be independent of the libraries they depend \n&gt;on. I want them to depend on exactly what the code depends on: no more; \n&gt;no less. That way you find bugs in the boundaries between model classes \n&gt;and libraries as well as in the model classes and libraries themselves.\n&gt;  \n&gt;\nThat&#39;s fine as a personal preference.  The question is, whether as an \nAPI developer, you should make that choice for other people.\n\n&gt;  \n&gt;\n&gt;&gt;&gt;Now if the library had a legitimate need to create documents in memory \n&gt;&gt;&gt;for reasons other than testing, then I would add such functions. However \n&gt;&gt;&gt;I wouldn&#39;t do it just for testing.\n&gt;&gt;&gt; \n&gt;&gt;&gt;\n&gt;&gt;&gt;      \n&gt;&gt;&gt;\n&gt;&gt;The fact is, testing is a legitmate need.  Designing for testability is \n&gt;&gt;simply good engineering.\n&gt;&gt;\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;The tail is wagging the dog. Testing is done to support the project. It \n&gt;is not the project, and it should not control the project. \n&gt;\nOkay.  Nobody has said that testing should control the project.  If \nyou&#39;re designing an API, testability of client code is just another \nfeature that you offer the user.  It&#39;s not unprecendented.  Automobiles, \nphone switches, etc, they all design in test points.\n\n&gt;I am willing \n&gt;to consider that a library might need to adjust itself to enable client \n&gt;applications to test *themselves* (Testing the library is the library \n&gt;vendor&#39;s responsibility) but I still haven&#39;t seen a detailed, worked out \n&gt;example demonstrating how a library might prevent client applications \n&gt;from testing themselves. Pithy sayings are well and good; but they need \n&gt;to be backed up by case studies with enough detail to allow them to be \n&gt;independently verified.\n&gt;  \n&gt;\nI visit work with roughly 10-15 teams a year, and the problems are \npretty common, especially now that the profile of testing has been \nraised.  The most recent one is a team that writes trading software.  \nThey don&#39;t want to issue trades to a real exchange so it&#39;s mocked.  \nTesting would bankrupt the company if their software issued testing \ntrades to a real exchange. :-)\n\nI&#39;ve never thought about case studies to show people who&#39;ve never \nencountered the problem, that there is a problem.  I&#39;m not sure what it \nwould achieve really.  If you haven&#39;t encountered it, you&#39;re lucky.  \nWhat domain do you work in?\n\n&gt;I&#39;ll keep an eye out for such a case in the future, but I don;t recall \n&gt;ever noticing one. I do recall numerous examples where I had trouble \n&gt;testing code that wasn&#39;t intended to be used as a library in the first \n&gt;place. However in all cases I can think of the problems that prevented \n&gt;testing also prevented library usage. The problems were in no way unique \n&gt;to testability, nor did you have to resort to testability to justify \n&gt;fixing the problems,\n&gt;\n&gt;  \n&gt;\nAgain, you&#39;re lucky.  \n\nMichael Feathers\nwww.objectmentor.com\n\n\n\n", 
    "profile": "mfeathers256", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 78021826, 
    "prevInTime": 17703, 
    "contentTrasformed": false, 
    "postDate": "1156944343", 
    "canDelete": false, 
    "nextInTopic": 17705, 
    "prevInTopic": 17703, 
    "headers": {
        "inReplyToHeader": "PDQ0RjQ1N0U3LjcwNjA4MDdAbWV0YWxhYi51bmMuZWR1Pg==", 
        "messageIdInHeader": "PDQ0RjU5MUQ3LjUwMTAwMDBAbWluZHNwcmluZy5jb20+", 
        "referencesHeader": "PDNGQjA4RDZBMjFCM0VDNEQ4NzQ5RUY2RDlFNjI2Mjc4NTZGN0VGQFdEQ0NQTUFJTDAxLm1hcmtldHRvb2xzLmNvbT4gPDQ0RTMzMkM0LjMwOTAzMDVAbWV0YWxhYi51bmMuZWR1PiA8NDRFNDQ0QUQuNDAxMDcwMEBtaW5kc3ByaW5nLmNvbT4gPDQ0RjM0NzVELjMwMTA5MDdAbWV0YWxhYi51bmMuZWR1PiA8NDRGNDMxMTUuMzA3MDkwMEBtaW5kc3ByaW5nLmNvbT4gPDQ0RjQzN0YyLjQwODA2MDVAbWV0YWxhYi51bmMuZWR1PiA8NDRGNDNCMzMuODAyMDQwM0BtaW5kc3ByaW5nLmNvbT4gPDQ0RjQ1N0U3LjcwNjA4MDdAbWV0YWxhYi51bmMuZWR1Pg=="
    }
}