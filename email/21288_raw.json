{
    "numMessagesInTopic": 22, 
    "nextInTime": 21289, 
    "senderId": "4F6NaWuHN17rJ84QPdeHJbvo2vRvwWHZJ9TtBCBW2xpJH12IBkHbEkBI1gv3EiyLtikA09iv8LUTXcrUQLpegTRiMZo", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Runner for non static inner class in JUnit 4.x", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "Tuomas, This is most of the way to what I was looking for. Can you take one more step and write a test which fails currently but would succeed if the feature ", 
    "msgId": 21288, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 79338 invoked from network); 14 Jan 2009 21:58:01 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m54.grp.scd.yahoo.com with QMQP; 14 Jan 2009 21:58:01 -0000\r\nX-Received: from unknown (HELO elasmtp-mealy.atl.sa.earthlink.net) (209.86.89.69)\n  by mta16.grp.scd.yahoo.com with SMTP; 14 Jan 2009 21:58:01 -0000\r\nX-Received: from [71.210.2.125] (helo=kentspavilion)\n\tby elasmtp-mealy.atl.sa.earthlink.net with esmtpa (Exim 4.67)\n\t(envelope-from &lt;kentb@...&gt;)\n\tid 1LNDkN-00084P-Gg\n\tfor junit@yahoogroups.com; Wed, 14 Jan 2009 16:58:01 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;481609654B13445C8491008A7B595D53@kentspavilion&gt; &lt;gk0nb6+uo8t@...&gt;\r\nDate: Wed, 14 Jan 2009 13:57:51 -0800\r\nMessage-ID: &lt;822161AE16634CB9A6D08CF931FEE677@kentspavilion&gt;\r\nMIME-Version: 1.0\r\nX-Mailer: Microsoft Office Outlook 11\r\nThread-Index: Aclxfu1u/FGyvSlUR6OyrhsvutIzdAFE3mRg\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5579\r\nIn-Reply-To: &lt;gk0nb6+uo8t@...&gt;\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d4781111e4c6ff0530fa48ff96f64c9c977bbf3b6a410dedcbb9350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 2:2:2:0:1\r\nFrom: &quot;kentb&quot; &lt;kentb@...&gt;\r\nReply-To: &lt;kentb@...&gt;\r\nSubject: RE: [junit] Re: Runner for non static inner class in JUnit 4.x\r\nX-Yahoo-Group-Post: member; u=173198504; y=m6fAXuirLmfGJtBoquff0FhB1kGM5WZ_687Laf1pGpHM1sFU\r\nX-Yahoo-Profile: kentlbeck\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nTuomas,\n \nThis is most of the way to what I was looking for. Can you take one more\nstep and write a test which fails currently but would succeed if the feature\noutlined below were present?\n \nCheers,\n \nKent Beck\nThree Rivers Institute\n\n  _____  \n\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\ntuomaskarkkainenri\nSent: Tuesday, January 06, 2009 2:52 PM\nTo: junit@yahoogroups.com\nSubject: [junit] Re: Runner for non static inner class in JUnit 4.x\n\n\n\nKent,\n\nessentially:\n\n@Test\npublic void findsRunnerFromDeclaringClass() {\nfinal Request request= Request.method(NonStaticInnerClass.class,\n&quot;methodName&quot;);\nAssert.assertThat(request.getRunner(), Is.is(FakeRunner.class));\n}\n\n@RunWith(FakeRunner.class)\npublic static class DeclaringClass {\n\npublic class NonStaticInnerClass {\n}\n}\n\npublic static class FakeRunner extends Runner {\npublic FakeRunner(final Class&lt;?&gt; testClass) {\n}\n\n@Override\npublic Description getDescription() {\nreturn Description.EMPTY;\n}\n\n@Override\npublic void run(final RunNotifier notifier) {\n}\n}\n\nas Eclipse enters JUnit4 from:\norg.eclipse.jdt.internal.junit4.runner.JUnit4TestMethodReference\nconstructor with a call to: Request.method(clazz, methodName)\n\nbest regards,\ntuomas\n\n--- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, &quot;kentb&quot;\n&lt;kentb@...&gt; wrote:\n&gt;\n&gt; PMFBI, but another way to ask that question is: what is the first test\nyou&#39;d\n&gt; like to see pass that doesn&#39;t yet pass?\n&gt;\n&gt; Cheers,\n&gt;\n&gt; Kent\n&gt;\n&gt; _____\n&gt;\n&gt; From: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n[mailto:junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com] On Behalf\nOf\n&gt; David Saff\n&gt; Sent: Tuesday, January 06, 2009 8:12 AM\n&gt; To: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n&gt; Subject: Re: [junit] Re: Runner for non static inner class in JUnit\n4.x\n&gt;\n&gt;\n&gt;\n&gt; On Tue, Jan 6, 2009 at 6:27 AM, tuomaskarkkainenri &lt;\n&gt; tuomaskarkkainenri@ &lt;mailto:tuomaskarkkainenri%40yahoo.com&gt; yahoo.com&gt;\n&gt; wrote:\n&gt;\n&gt; &gt; there are no hooks for JDave to\n&gt; &gt; attach to before the discovery of the runner.\n&gt;\n&gt; Let&#39;s push on that. What would be the ideal hook here?\n&gt;\n&gt; David Saff\n&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; br,\n&gt; &gt; Tuomas\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com,\n&quot;David\n&gt; Saff&quot; david@ wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; Do you think the overall ease of use to people who need this\nfeature\n&gt; &gt; will be\n&gt; &gt; &gt; worth a 20% increase in complexity for everyone who needs to\n&gt; &gt; understand the\n&gt; &gt; &gt; default running rules?\n&gt; &gt; &gt;\n&gt; &gt; &gt; David Saff\n&gt; &gt; &gt;\n&gt; &gt; &gt; On Wed, Dec 31, 2008 at 3:08 AM, tuomaskarkkainenri &lt;\n&gt; &gt; &gt; tuomaskarkkainenri@ wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt; hey David,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; i uploaded the patch as a file,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; http://f1.grp.\n&gt;\n&lt;http://f1.grp.\n&lt;http://f1.grp.yahoofs.com/v1/cBhbSQYycXqWtmfu6mA5iis6I67Qo0Itb3lfEH-tMTD2Pq\n&gt; yahoofs.com/v1/cBhbSQYycXqWtmfu6mA5iis6I67Qo0Itb3lfEH-tMT&#92;\nD2Pq\n&gt;\nfQBWFNQwiqbje7jxu7yGSHFHijEoZPnMvQpZtq0gohmbE9pzSYXRseJ5ewyt0/nonstatici&#92;\nnner\n&gt; classes.patch&gt;\n&gt;\nyahoofs.com/v1/cBhbSQYycXqWtmfu6mA5iis6I67Qo0Itb3lfEH-tMTD2PqfQBWFNQwiqb&#92;\nje7j\n&gt;\nxu7yGSHFHijEoZPnMvQpZtq0gohmbE9pzSYXRseJ5ewyt0/nonstaticinnerclasses.pat&#92;\nch\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; or if that link is relative to my session it&#39;s\n&gt; &gt; &gt; &gt; nonstaticinnerclasses.patch under files here in Yahoo Groups.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; in JUnit4 speak:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; public class RegularJunit4 {\n&gt; &gt; &gt; &gt; public class NonStaticInnerClass {\n&gt; &gt; &gt; &gt; @Test\n&gt; &gt; &gt; &gt; public void testMethod() {\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; running testMethod() is not possible since NonStaticInnerClass\ncannot\n&gt; &gt; &gt; &gt; be instantiated from the outside.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; in JDave:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; @RunWith(JDaveRunner.class)\n&gt; &gt; &gt; &gt; public static class ASpec extends Specification&lt;Void&gt; {\n&gt; &gt; &gt; &gt; public class AContext {\n&gt; &gt; &gt; &gt; public void aBehavior() {}\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt; }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; AContext is instantiated by SpecRunner which JDaveRunner\ndelegates to.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; When I run this with current JUnit,\n&gt; &gt; &gt; &gt; AllDefaultPossibilitiesBuilder#runnerForClass(final Class&lt;?&gt;\n&gt; &gt; &gt; &gt; testClass) picks out the @RunWith annotation and uses that to\nrun my\n&gt; &gt; &gt; &gt; spec(test class).\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; However if I want to run just a single behavior (test method)\nfrom\n&gt; &gt; &gt; &gt; this spec for example from Eclipse. Eclipse tells JUnit to run\nclass\n&gt; &gt; &gt; &gt; ASpec.AContext and method aBehavior JUnit then sees what builder\nit\n&gt; &gt; &gt; &gt; should use for AContext, and doesn&#39;t find the annotation there\nand\n&gt; &gt; &gt; &gt; tries to use the regular JUnit4 builder and since it&#39;s a JDave\nspec it\n&gt; &gt; &gt; &gt; fails to run.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; What I want to do is: in case AllDefaultPossibilitiesBuilder\nnotices\n&gt; &gt; &gt; &gt; that the TestClass is a non-static member class, which it has no\n&gt; &gt; &gt; &gt; chance of being able run anyway, it checks whether the declaring\nclass\n&gt; &gt; &gt; &gt; of the testclass would be able to run it instead.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; In the case of JDave, the declaring class would have the\n@RunWith\n&gt; &gt; &gt; &gt; annotation, and with the Filter created by FilterRequest, JDave\ncan\n&gt; &gt; &gt; &gt; then choose which Context and Spec it should actually allow to\nrun.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; br,\n&gt; &gt; &gt; &gt; Tuomas\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com,\n&quot;David\n&gt; Saff&quot; &lt;david@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; JDave is cool. I&#39;m not 100% clear what you want to do, and I\ndon&#39;t\n&gt; &gt; &gt; &gt; see the\n&gt; &gt; &gt; &gt; &gt; patch. Could you perhaps include a small test case as inline\ntext?\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; David Saff\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; On Tue, Dec 30, 2008 at 10:27 AM, tuomaskarkkainenri &lt;\n&gt; &gt; &gt; &gt; &gt; tuomaskarkkainenri@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; I participate in JDave (http://jdave. &lt;http://jdave.\n&lt;http://jdave.org&gt; org&gt;\norg). A\n&gt; BDD framework\n&gt; &gt; for Java\n&gt; &gt; &gt; &gt; &gt; &gt; that takes advantage of JUnit for example for Eclipse\nintegration.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; We have tests in non-static inner classes of our test\nclasses.\n&gt; &gt; These\n&gt; &gt; &gt; &gt; &gt; &gt; run wonderfully using the @RunWith annotation and our own\nrunner.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; however, for individual tests, this doesn&#39;t work. What I\nwould\n&gt; &gt; like\n&gt; &gt; &gt; &gt; &gt; &gt; to do is that AllDefaultPossibilitiesBuilder would check\n&gt; &gt; whether or\n&gt; &gt; &gt; &gt; &gt; &gt; not the test class is a non static member class. if it is,\nthen I\n&gt; &gt; &gt; &gt; &gt; &gt; would grab the runner of the declaring class instead.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt; I made a patch implementing this. I will try to attach it.\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; ------------------------------------\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Yahoo! Groups Links\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n\n[Non-text portions of this message have been removed]\n\n\n\n \n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 21238, 
    "spamInfo": {
        "reason": "2", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 21287, 
    "contentTrasformed": false, 
    "postDate": "1231970271", 
    "canDelete": false, 
    "nextInTopic": 21290, 
    "prevInTopic": 21286, 
    "headers": {
        "inReplyToHeader": "PGdrMG5iNit1bzh0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDgyMjE2MUFFMTY2MzRDQjlBNkQwOENGOTMxRkVFNjc3QGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PDQ4MTYwOTY1NEIxMzQ0NUM4NDkxMDA4QTdCNTk1RDUzQGtlbnRzcGF2aWxpb24+IDxnazBuYjYrdW84dEBlR3JvdXBzLmNvbT4="
    }
}