{
    "numMessagesInTopic": 15, 
    "nextInTime": 6794, 
    "senderId": "BkP2utFJrFShQMx3YiS5FjOympjdI3SO2gQrEdmahsQM6_nK3xRbmQ-U8Inn8zCBrJdm73hn4T1btqaxYkVaX_5E-gIqo2BNyj7pTfCFm45oRK61S4rZbs-o0ybvLQPVAfmX4eAT", 
    "systemMessage": false, 
    "subject": "Re: ** How to test objects that depend on other objects with mock objects **", 
    "from": "&quot;tobemligado &lt;jasbell@...&gt;&quot; &lt;jasbell@...&gt;", 
    "authorName": "tobemligado &lt;jasbell@consultant.com&gt;", 
    "msgSnippet": "Ok.  I see what you are saying.  I can make a Factory which assures the existance of one instance of my ConfigManager object.  This will probably solve the", 
    "msgId": 6793, 
    "rawEmail": "Return-Path: &lt;jasbell@...&gt;\r\nReceived: (qmail 48007 invoked from network); 30 Jan 2003 22:28:50 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m13.grp.scd.yahoo.com with QMQP; 30 Jan 2003 22:28:50 -0000\r\nReceived: from unknown (HELO n17.grp.scd.yahoo.com) (66.218.66.72)\n  by mta3.grp.scd.yahoo.com with SMTP; 30 Jan 2003 22:28:50 -0000\r\nX-eGroups-Return: jasbell@...\r\nReceived: from [66.218.67.146] by n17.grp.scd.yahoo.com with NNFMP; 30 Jan 2003 22:28:47 -0000\r\nX-Sender: jasbell@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 27 Jan 2003 01:03:57 -0000\r\nReceived: (qmail 18843 invoked from network); 27 Jan 2003 01:03:57 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m7.grp.scd.yahoo.com with QMQP; 27 Jan 2003 01:03:57 -0000\r\nReceived: from unknown (HELO n21.grp.scd.yahoo.com) (66.218.66.77)\n  by mta1.grp.scd.yahoo.com with SMTP; 27 Jan 2003 01:03:57 -0000\r\nReceived: from [66.218.67.159] by n21.grp.scd.yahoo.com with NNFMP; 27 Jan 2003 01:03:57 -0000\r\nDate: Mon, 27 Jan 2003 01:03:54 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: ** How to test objects that depend on other objects with mock objects **\r\nMessage-ID: &lt;b120hq+2pu5@...&gt;\r\nIn-Reply-To: &lt;200301261507280259.00821823@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3661\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;tobemligado &lt;jasbell@...&gt;&quot; &lt;jasbell@...&gt;\r\nX-Yahoo-Group-Post: member; u=48242015\r\nX-Yahoo-Profile: tobemligado\r\nX-eGroups-Approved-By: nails762 &lt;jbr@...&gt; via web; 30 Jan 2003 22:28:47 -0000\r\n\r\nOk.  I see what you are saying.  I can make a &quot;Factory&quot; which assures \nthe existance of one instance of my &quot;ConfigManager&quot; object.  This \nwill probably solve the problem since I can &quot;substitute&quot; (make a mock \nobject) for the &quot;ConfigManager&quot;, or for whatever objects it uses.  \nThe factory is now the singleton that I must call like so: \n\nMyFactory.getInstance().getConfigManager();\n\nwhere the returned &quot;ConfigManager&quot; is now an interface or abstract \nclass, whose concrete instance may be either a real or mock object.\n\nIs this correct?\n\nI liked your article &quot;Use your singletons wisely&quot;, however I did not \nfully grasp the &quot;three questions&quot;:\n\n1)Will every application use this class exactly the same way? \n(exactly is the key word) \n2)Will every application ever need only one instance of this class? \n(ever and one are the key words) \n3)Should the clients of this class be unaware of the application they \nare part of? \n\nWhat is being assumed about the classes use when you ask these three \nquestions?\n\nThanks again, and great article!\n\n\n\n\n\n\n--- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; &lt;jbr@d...&gt; wrote:\n&gt; So said  tobemligado &lt;jasbell@c...&gt;  on  2003-01-26\n&gt; --------------------\n&gt; \n&gt; &gt;I have a singleton called &quot;ConfigManager&quot;, where in its \nconstructor \n&gt; &gt;it reads in a bunch of files from a directory and creates \nobjectsfrom \n&gt; &gt;the files.  I am doing this because I want to say &quot;ConfigManager \nis \n&gt; &gt;not valid until these other objects have also been successfully \n&gt; &gt;created&quot;.  \n&gt; &gt;\n&gt; &gt;I want the &quot;ConfigManager&quot; to be able to read a directory full \n&gt; &gt;of &quot;bad files&quot; in some test scenarios, a directory full of &quot;good \n&gt; &gt;files&quot; in other test scenarios, and a directory full of &quot;good and \nbad \n&gt; &gt;files&quot; in yet other test scenarios.  Ultimately, the program will \n&gt; &gt;have to handle &quot;good and bad files&quot;,\n&gt; &gt;\n&gt; &gt;My problem is that I need to &quot;trick&quot; the &quot;ConfigManager&quot; into \nusing \n&gt; &gt;the three directories in different test scenarios, but I dont want \nto \n&gt; &gt;alter the fact that all objects are created in &quot;ConfigManager&#39;s&quot; \n&gt; &gt;constructor.  Here is what is in the constructor for the \n&gt; &gt;singleton &quot;ConfigManager&quot;:\n&gt; &gt;----------------------------------------------------\n&gt; &gt;String basePath = ServiceResources.CONFIG_FILE_DIRECTORY;\n&gt; &gt;setBaseDirectory(basePath);\n&gt; &gt;loadAllFilesFound(getBaseDirectory());\n&gt; &gt;loadConfigFilesFound(getAllFilesFoundList());\n&gt; &gt;ArrayList configList = createConfigurations(getConfigFilesFound());\n&gt; &gt;TriggerManager tm = TriggerManager.getInstance();\n&gt; &gt;ArrayList triggerList = tm.createTriggers(configList);\n&gt; &gt;tm.registerTriggers(triggerList);\n&gt; &gt;----------------------------------------------------\n&gt; &gt;\n&gt; &gt;How can I switch the CONFIG_FILE_DIRECTORY value for testing when \nits \n&gt; &gt;in the constructor? \n&gt; \n&gt; 1. Create a new, public constructor. Make the value a constructor\n&gt; parameter.\n&gt; 2. Have the private/protected no-argument constructor delegate to \nthe\n&gt; new constructor passing in the default (production) values.\n&gt; 3. Test through the new constructor.\n&gt; \n&gt; If people ask for the singleton instance, then they get the \nproduction\n&gt; instance. If people use the other constructor, then they have to\n&gt; provide the necessary data for the ConfigManager to work on.\n&gt; \n&gt; Done.\n&gt; \n&gt; Q: Why is ConfigManager a singleton?\n&gt; \n&gt; Google &quot;Use your singletons wisely&quot;. Read it and let me know if it\n&gt; changes your mind to use a singleton.\n&gt; \n&gt; \n&gt; J. B. Rainsberger,\n&gt; President, Diaspar Software Services\n&gt; Let&#39;s write software that people understand.\n&gt; http://www.diasparsoftware.com/\n&gt; telephone: +1 416 791-8603\n&gt; All correspondence (c) 2002 Diaspar Software Services.\n&gt; If you want to use it, just ask; don&#39;t steal.\n\n\n\n", 
    "profile": "tobemligado", 
    "topicId": 6743, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 48242015, 
    "prevInTime": 6792, 
    "contentTrasformed": false, 
    "postDate": "1043629434", 
    "canDelete": false, 
    "nextInTopic": 6811, 
    "prevInTopic": 6792, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMTI2MTUwNzI4MDI1OS4wMDgyMTgyM0BzbXRwLnltLnBodWIubmV0LmNhYmxlLnJvZ2Vycy5jb20+", 
        "messageIdInHeader": "PGIxMjBocSsycHU1QGVHcm91cHMuY29tPg=="
    }
}