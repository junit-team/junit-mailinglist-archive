{
    "numMessagesInTopic": 8, 
    "nextInTime": 16131, 
    "senderId": "_a7-N2EXG3GQHYSfDgaEYrUyPsgwKrlGpJbYRpzXU8Y2EaZr7ax5G5sQ9ZoIfY54gKup_iNYT6tsGJcsVRhVhA", 
    "systemMessage": false, 
    "subject": "Re: [junit] What makes a class &quot;testable&quot;?", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Ian, That looks to me like it will get most of what you want.  You might want to drop the public requirement: that would give you a warning if tests you", 
    "msgId": 16130, 
    "profile": "dsaff", 
    "topicId": 16116, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-2087919963\">Ian,<br/>\n<br/>\nThat looks to me like it will get most of what you want.  You might want <br/>\nto drop the public requirement: that would give you a warning if tests <br/>\nyou expected to run were skipped because their class was accidentally <br/>\nnon-public.  Although, we do the same in Eclipse.<br/>\n<br/>\nHere&#39;s the code that Eclipse uses--you&#39;ll have to adapt, since this uses <br/>\nEclipse&#39;s own Java model.<br/>\n<br/>\nShare and Enjoy,<br/>\n<br/>\n    David Saff<br/>\n<br/>\n/*******************************************************************************<br/>\n * Copyright (c) 2000, 2005 IBM Corporation and others.<br/>\n * All rights reserved. This program and the accompanying materials<br/>\n * are made available under the terms of the Eclipse Public License v1.0<br/>\n * which accompanies this distribution, and is available at<br/>\n * <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.eclipse.org/legal/epl-v10.html\">http://www.eclipse.org/legal/epl-v10.html</a><br/>\n *<br/>\n * Contributors:<br/>\n *   David Saff (<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:saff@...\">saff@...</a>) - initial API and implementation<br/>\n *             (bug 102632: [JUnit] Support for JUnit 4.)<br/>\n *******************************************************************************/<br/>\n<br/>\npublic class JUnit3TestFinder implements ITestFinder {<br/>\n    public boolean isTest(IType type) throws JavaModelException {<br/>\n        return hasSuiteMethod(type) || isTestType(type);<br/>\n    }<br/>\n   <br/>\n    protected boolean hasSuiteMethod(IType type) throws JavaModelException {<br/>\n        IMethod method = type.getMethod(&quot;suite&quot;, new String[0]); <br/>\n//$NON-NLS-1$<br/>\n        if (method == null || !method.exists())<br/>\n            return false;<br/>\n<br/>\n        if (!Flags.isStatic(method.getFlags())<br/>\n                || !Flags.isPublic(method.getFlags())<br/>\n                || !Flags.isPublic(method.getDeclaringType().getFlags())) {<br/>\n            return false;<br/>\n        }<br/>\n        if (!Signature<br/>\n                .getSimpleName(Signature.toString(method.getReturnType()))<br/>\n                .equals(JUnitPlugin.SIMPLE_TEST_INTERFACE_NAME)) {<br/>\n            return false;<br/>\n        }<br/>\n        return true;<br/>\n    }<br/>\n   <br/>\n    protected boolean isTestType(IType type) throws JavaModelException {<br/>\n        if (!TestSearchEngine.hasValidModifiers(type))<br/>\n            return false;<br/>\n<br/>\n        IType[] interfaces = type.newSupertypeHierarchy(null)<br/>\n                .getAllSuperInterfaces(type);<br/>\n        for (int i = 0; i &lt; interfaces.length; i++)<br/>\n            if (interfaces[i].getFullyQualifiedName(&#39;.&#39;).equals(<br/>\n                    JUnitPlugin.TEST_INTERFACE_NAME))<br/>\n                return true;<br/>\n        return false;<br/>\n    }<br/>\n<br/>\n// from TestSearchEngine<br/>\n    public static boolean hasValidModifiers(IType type)<br/>\n            throws JavaModelException {<br/>\n        if (Flags.isAbstract(type.getFlags()))<br/>\n            return false;<br/>\n        if (!Flags.isPublic(type.getFlags()))<br/>\n            return false;<br/>\n        return true;<br/>\n    }<br/>\n}<br/>\n<br/>\n<br/>\nIan Pilcher wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; In this context, &quot;testable&quot; means a class that a TestRunner won&#39;t barf<br/>\n&gt; on.<br/>\n&gt;<br/>\n&gt; I am writing an Ant selector:<br/>\n&gt;<br/>\n&gt;     <a rel=\"nofollow\" target=\"_blank\" href=\"http://ant.apache.org/manual/CoreTypes/selectors.html\">http://ant.apache.org/manual/CoreTypes/selectors.html</a><br/>\n&gt;<br/>\n&gt; It&#39;s purpose is to identify the classes which should be &quot;run&quot; by an Ant<br/>\n&gt; JUnit task:<br/>\n&gt;<br/>\n&gt;     &lt;target name=&quot;test-run&quot; depends=&quot;test-build&quot;&gt;<br/>\n&gt;       &lt;junit&gt;<br/>\n&gt;         &lt;batchtest&gt;<br/>\n&gt;           &lt;fileset dir=&quot;test/bin&quot;&gt;&lt;junitselector/&gt;&lt;/fileset&gt;<br/>\n&gt;         &lt;/batchtest&gt;<br/>\n&gt;       &lt;/junit&gt;<br/>\n&gt;     &lt;/target&gt;<br/>\n&gt;<br/>\n&gt; This will allow me to write a a generic testing target, without<br/>\n&gt; constraining the names of my test classes.<br/>\n&gt;<br/>\n&gt; In order to do this properly, I need a precise definition of what makes<br/>\n&gt; a class &quot;testable&quot; (in the above sense).  Here&#39;s the algorithm that I&#39;ve<br/>\n&gt; come up with:<br/>\n&gt;<br/>\n&gt;     1.  Is the class public?<br/>\n&gt;           *  Yes - go to step 2<br/>\n&gt;           *  No - NOT testable - DONE<br/>\n&gt;<br/>\n&gt;     2.  Is the class an interface?<br/>\n&gt;           *  Yes - NOT testable - DONE<br/>\n&gt;           *  No - go to step 3<br/>\n&gt;<br/>\n&gt;     3.  Does the class have a &quot;suite method&quot; --<br/>\n&gt;         public static Test suite()?<br/>\n&gt;           * Yes - TESTABLE - DONE<br/>\n&gt;           * No - go to step 4<br/>\n&gt;<br/>\n&gt;     4.  Is the class abstract?<br/>\n&gt;           * Yes - NOT testable - DONE<br/>\n&gt;           * No - go to step 5<br/>\n&gt;<br/>\n&gt;     5.  Does the class implement junit.framework.Test?<br/>\n&gt;           *  Yes - go to step 6<br/>\n&gt;           *  No - NOT testable - DONE<br/>\n&gt;<br/>\n&gt;     6.  Does the class have a public default constructor --<br/>\n&gt;         public &lt;init&gt;()?<br/>\n&gt;           * Yes - TESTABLE - DONE<br/>\n&gt;           * No - go to step 7<br/>\n&gt;<br/>\n&gt;     7.  Does the class have a public string constructor --<br/>\n&gt;         public &lt;init&gt;(String)?<br/>\n&gt;           * Yes - TESTABLE - DONE<br/>\n&gt;           * No - NOT testable - DONE<br/>\n&gt;<br/>\n&gt; Thoughts?<br/>\n&gt;<br/>\n&gt; Thanks!<br/>\n&gt;<br/>\n&gt; -- <br/>\n&gt; ========================================================================<br/>\n&gt; Ian Pilcher                                        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:i.pilcher@...\">i.pilcher@...</a><br/>\n&gt; ========================================================================<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; SPONSORED LINKS<br/>\n&gt; Basic programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw\">http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw</a>&gt; <br/>\n&gt; \tC programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw\">http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw</a>&gt; <br/>\n&gt; \tComputer programming languages <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ\">http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ</a>&gt; <br/>\n&gt;<br/>\n&gt; The c programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q\">http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q</a>&gt; <br/>\n&gt; \tC programming language <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ\">http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ</a>&gt; <br/>\n&gt; \tList of programming languages <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA\">http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA</a>&gt; <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; YAHOO! GROUPS LINKS<br/>\n&gt;<br/>\n&gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt;       on the web.<br/>\n&gt;        <br/>\n&gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt;        <br/>\n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 16129, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1140210342", 
    "canDelete": false, 
    "nextInTopic": 16133, 
    "prevInTopic": 16116, 
    "headers": {
        "inReplyToHeader": "PGRzdnBsdiR1azckMUBzZWEuZ21hbmUub3JnPg==", 
        "messageIdInHeader": "PDQzRjYzQUE2LjYwMjA3MDFAbWl0LmVkdT4=", 
        "referencesHeader": "PGRzdnBsdiR1azckMUBzZWEuZ21hbmUub3JnPg=="
    }
}