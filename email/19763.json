{
    "numMessagesInTopic": 6, 
    "nextInTime": 19764, 
    "senderId": "PXXKOh3xkUyug7_rgZDmkqkKqYz30Gh0wSlg9JciB-dzf-1ilG5EqGel1SLcMEzunc3StANpbJPCUp64GwC_gTH5MXs", 
    "systemMessage": false, 
    "subject": "Re: Junit 4 and Ant", 
    "from": "&quot;j_cumps&quot; &lt;j_cumps@...&gt;", 
    "authorName": "j_cumps", 
    "msgSnippet": "Gommo, ... that use ... What we (and several open source projects) typically do when using JUnit and Ant is: place your source files in a folder called src ", 
    "msgId": 19763, 
    "profile": "j_cumps", 
    "topicId": 19756, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 253029613, 
    "messageBody": "<div id=\"ygrps-yiv-1678260530\">Gommo,<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Is there any way out of the box to make Junit just run the tests <br/>\n </span></blockquote>that use<br/>\n<blockquote><span title=\"ireply\"> &gt; org.junit.Test annoations ??<br/>\n<br/>\n </span></blockquote>What we (and several open source projects) typically do when using <br/>\nJUnit and Ant is:<br/>\nplace your source files in a folder called src<br/>\nplace your test classes in a folder called tst<br/>\n<br/>\nWhen running the junit ant task, let it look in the location of your <br/>\ntest classes for tests it has to run.<br/>\n<br/>\nExample:<br/>\n<br/>\nsources:<br/>\nsrc/com/myproject/Foo.java<br/>\nsrc/com/myproject/Bar.java<br/>\n<br/>\ntest sources:<br/>\ntst/com/myproject/FooTest.java<br/>\ntst/com/myproject/BarTest.java<br/>\n<br/>\ncompile sources to destination build/bin, and tests to destination <br/>\nbuild/tst<br/>\n<br/>\nin build.xml:<br/>\n<br/>\n &lt;property name=&quot;build.dir&quot; value=&quot;build&quot;/&gt;<br/>\n<br/>\n  &lt;!-- Testing Classpath --&gt;<br/>\n  &lt;path id=&quot;junit.classpath&quot;&gt;<br/>\n    &lt;pathelement location=&quot;${junit.jar}&quot;/&gt;<br/>\n    &lt;pathelement location=&quot;${build.dir}/src&quot;/&gt;<br/>\n    &lt;pathelement location=&quot;${build.dir}/tst&quot;/&gt;<br/>\n  &lt;/path&gt;<br/>\n<br/>\n<br/>\ncompilation part:<br/>\n...<br/>\n<br/>\n  &lt;target name=&quot;build&quot; depends....&quot;&gt;<br/>\n      &lt;mkdir dir=&quot;${build.dir}/src&quot;/&gt;<br/>\n      &lt;javac srcdir=&quot;src&quot;<br/>\n        destdir=&quot;${build.dir}/src&quot;&gt;<br/>\n      &lt;/javac&gt;<br/>\n      &lt;mkdir dir=&quot;${build.dir}/tst&quot;/&gt;<br/>\n      &lt;javac srcdir=&quot;tst&quot;<br/>\n        destdir=&quot;${build.dir}/tst&quot; classpathref=&quot;junit.classpath&quot; <br/>\ndebug=&quot;true&quot;&gt;<br/>\n      &lt;/javac&gt;<br/>\n  &lt;/target&gt;<br/>\n<br/>\n...<br/>\n<br/>\ntest part will only pick up your test classes in the tst subdir, and <br/>\ntheir class name has to contain Test in it.<br/>\n<br/>\n  &lt;target name=&quot;test&quot;&gt;<br/>\n    <br/>\n    &lt;junit ...&gt;<br/>\n      &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;<br/>\n      &lt;classpath refid=&quot;junit.classpath&quot;/&gt;<br/>\n<br/>\n      &lt;batchtest ...&gt;<br/>\n        &lt;fileset dir=&quot;tst&quot;&gt;<br/>\n          &lt;include name=&quot;**/*Test*.java&quot;/&gt;<br/>\n        &lt;/fileset&gt;<br/>\n      &lt;/batchtest&gt;<br/>\n    &lt;/junit&gt;<br/>\n    <br/>\n    <br/>\n  &lt;/target&gt;<br/>\n<br/>\n<br/>\n<br/>\nRegards, Jan<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;David Saff&quot; &lt;saff@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Gommo,<br/>\n&gt; <br/>\n&gt; I am not an expert user of the junit ant task--I hope that someone<br/>\n&gt; else on this list is, and can provide more insight.  You might want <br/>\nto<br/>\n&gt; look at the Johannes&#39; Links ClasspathSuite runner:<br/>\n&gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://johanneslink.net/cpsuite.html\">http://johanneslink.net/cpsuite.html</a><br/>\n&gt; <br/>\n&gt; Using this, you&#39;d point ant at a single suite class, which would<br/>\n&gt; itself indicate the directory in which to search for tests.  I&#39;ve<br/>\n&gt; found cpsuite remarkably fast for small-to-medium projects, but <br/>\ncan&#39;t<br/>\n&gt; say how it scales to large or very large projects.  Thanks,<br/>\n&gt; <br/>\n&gt;    David Saff<br/>\n&gt; <br/>\n&gt; On 8/19/07, gommo &lt;colin.goudie@...&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;ve been using TestNG for more unit and integration tests. <br/>\nHowever, I&#39;ve<br/>\n&gt; &gt; found that JUnit 4 and its eclipse plugin works faster and nicer. <br/>\nSo I&#39;ve<br/>\n&gt; &gt; decided change all my unit tests to JUnit.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I have a runUnitTests ant target that is used to run (previously) <br/>\nthe<br/>\n&gt; &gt; test-ng tests that are marked as &quot;UnitTests&quot;<br/>\n&gt; &gt;<br/>\n&gt; &gt; As a start, I have changed this ant target to run all tests in my <br/>\ntests<br/>\n&gt; &gt; target directory (i.e. using **/*.class)<br/>\n&gt; &gt;<br/>\n&gt; &gt; What I thought would happen was that JUnit would look at these <br/>\nclasses, find<br/>\n&gt; &gt; the ones that are marked with the JUnit 4 @Test annotation and <br/>\nrun them.<br/>\n&gt; &gt;<br/>\n&gt; &gt; What I&#39;m finding however is that it is attempting to run EVERY <br/>\nclass in that<br/>\n&gt; &gt; folder as a test and they are either Test-NG tests or just other <br/>\nutility<br/>\n&gt; &gt; classes. As a result, JUnit is throwing errors<br/>\n&gt; &gt;<br/>\n&gt; &gt; e.g.<br/>\n&gt; &gt; Running au.tributech.tuxedo.beans.entity.PermissionTest$1<br/>\n&gt; &gt;     [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: <br/>\n0.017 sec<br/>\n&gt; &gt;     [junit] Test <br/>\nau.tributech.tuxedo.beans.entity.PermissionTest$1 FAILED<br/>\n&gt; &gt;     [junit] Running<br/>\n&gt; &gt; <br/>\nau.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant<br/>\n&gt; &gt;     [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: <br/>\n0.018 sec<br/>\n&gt; &gt;     [junit] Test<br/>\n&gt; &gt; <br/>\nau.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant <br/>\nFAILED<br/>\n&gt; &gt;<br/>\n&gt; &gt; Is there any way out of the box to make Junit just run the tests <br/>\nthat use<br/>\n&gt; &gt; org.junit.Test annoations ??<br/>\n&gt; &gt;<br/>\n&gt; &gt; What I have got working (but its slow) is to write a custom ANT <br/>\nselector.<br/>\n&gt; &gt; &lt;batchtest fork=&quot;yes&quot; todir=&quot;${test.report.dir}&quot;&gt;<br/>\n&gt; &gt;   &lt;fileset dir=&quot;${test.fixtures.dir}&quot; includes=&quot;**/*.class&quot;&gt;<br/>\n&gt; &gt;     &lt;custom classname=&quot;au.tributech.ant.JUnit4Selector&quot;<br/>\n&gt; &gt; classpathref=&quot;project.test.run.classpath&quot;/&gt;<br/>\n&gt; &gt;   &lt;/fileset&gt;<br/>\n&gt; &gt; &lt;/batchtest&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; The JUnit4Selector class I wrote simply reads in each file <br/>\nprocessed and<br/>\n&gt; &gt; uses ASM-3.0 to look for JUnit4 annotations (@Test, @RunsWith <br/>\netc..). If<br/>\n&gt; &gt; they exist it processes that file otherwise skips it.<br/>\n&gt; &gt;<br/>\n&gt; &gt; This works but it is pretty slow and I can see it being painfully <br/>\nslow when<br/>\n&gt; &gt; there are hundreds of unit tests.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Surely I&#39;m missing something here and JUnit&#39;s ANT task is smarter <br/>\nthan what<br/>\n&gt; &gt; it is appearing. I don&#39;t want to have to specify EVERY unit test <br/>\nwhen I add<br/>\n&gt; &gt; them. That is just a maintenance nightmare.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks for any pointers<br/>\n&gt; &gt; --<br/>\n&gt; &gt; View this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/Junit-4-and-\">http://www.nabble.com/Junit-4-and-</a><br/>\nAnt-tf4289986.html#a12212626<br/>\n&gt; &gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19762, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1187630666", 
    "canDelete": false, 
    "nextInTopic": 19767, 
    "prevInTopic": 19759, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDcwODIwMDQxMmdhMmIwNjZlazVjNjYzMjQ1NWMxZThhNmRAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGZhY2lvYStzcDcyQGVHcm91cHMuY29tPg=="
    }
}