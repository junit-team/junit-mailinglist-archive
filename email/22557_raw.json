{
    "numMessagesInTopic": 26, 
    "nextInTime": 22558, 
    "senderId": "S3e-SFBvPG4R5kKx58ZKyDEg7YyBwWbY10Ic9oT5H1S-uospb3e1BMQK30v54_-EbtSQn5TKqnAIR0rQAm4UCUbU", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Gary, ... The only questions in my mind are the name of the annotation, and the name of the type of the annotated field, since they can t both be BeforeClass.", 
    "msgId": 22557, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 63152 invoked from network); 16 Mar 2010 16:04:54 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m12.grp.re1.yahoo.com with QMQP; 16 Mar 2010 16:04:54 -0000\r\nX-Received: from unknown (HELO mail-pw0-f46.google.com) (209.85.160.46)\n  by mta3.grp.sp2.yahoo.com with SMTP; 16 Mar 2010 16:04:54 -0000\r\nX-Received: by mail-pw0-f46.google.com with SMTP id 1so92041pwi.33\n        for &lt;junit@yahoogroups.com&gt;; Tue, 16 Mar 2010 09:04:54 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.12.9 with SMTP id p9mr6337rvi.272.1268755424605; Tue, 16 \n\tMar 2010 09:03:44 -0700 (PDT)\r\nIn-Reply-To: &lt;hno7e9+3ijo@...&gt;\r\nReferences: &lt;hnbhs3+fg0d@...&gt; &lt;hno7e9+3ijo@...&gt;\r\nDate: Tue, 16 Mar 2010 12:03:44 -0400\r\nX-Google-Sender-Auth: 98a02a5afc74f92e\r\nMessage-ID: &lt;4f7da6b91003160903p7ed39cdei591d26b4d938a1b@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=341876227; y=brhShF2yKaZql-NlOW8WsDRM0cnuf2ZI6KTj8DxJIBc\r\nX-Yahoo-Profile: dsaff\r\n\r\nGary,\n\nI have a strong preference for:\n\n&gt;&gt; - Add a new rule that is initial=\r\nized before @BeforeClass, for example @ClassRule\n\nThe only questions in my =\r\nmind are the name of the annotation, and the\nname of the type of the annota=\r\nted field, since they can&#39;t both be\nBeforeClass.  We&#39;ve actually reached a =\r\npoint, I think, where a more\ngeneral rule for these names would be nice.  S=\r\nee an upcoming mail...\n\nThat said, if you&#39;re OK with the assertion that I&#39;m=\r\n likely to ask for\nname changes, but not changes in the substance of the im=\r\nplementation,\na patch would be most welcome.\n\n   David Saff\n\n&gt;&gt;\n&gt;&gt; Gary\n&gt;&gt; =\r\n--- In junit@yahoogroups.com, Kent Beck &lt;kentb@&gt; wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; This is a=\r\nn interesting design tradeoff. I don&#39;t like implicit magic but I also don&#39;t=\r\n like creating new elements (like the &quot;beforeClass =3D true&quot;) if I can reus=\r\ne existing elements. When I saw the &quot;@Rule static...&quot; I immediately knew wh=\r\nat was wrong, so I find it understandable that static variables containing =\r\nrules are only executed once. (By symmetry, I suppose &quot;@Before static void.=\r\n..&quot; should be a synonym for @BeforeClass.) In the end, though, my opinion o=\r\nf what is obvious is less important than y&#39;all&#39;s. Chime in if you want to b=\r\ne heard.\n&gt;&gt; &gt;\n&gt;&gt; &gt; Kent\n&gt;&gt; &gt;\n&gt;&gt; &gt; On Mar 9, 2010, at 3:02 PM, yme0987654321=\r\n wrote:\n&gt;&gt; &gt;\n&gt;&gt; &gt; &gt; I&#39;m all for a Rule before the class is run, but I think=\r\n it is way to gimmicky and obscure to hang that on if the variable is decla=\r\nred static.\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; I would instead think that the @Rule should have =\r\na method which indicates if it is before the class or before the test, and =\r\nthen have it validated if the @Rule is on a static or instance variable, as=\r\n appropriate.\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; Something like:\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; @Rule(beforeClass=\r\n =3D true)\n&gt;&gt; &gt; &gt; public static TemporaryFolder testFolder =3D new Temporar=\r\nyFolder();\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; --- In junit@yahoogroups.com, Kent Beck &lt;kentb@&gt; w=\r\nrote:\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule on a stat=\r\nic variable before. I&#39;m not even sure what they mean. Rules are inserted be=\r\nfore an individual test is run. Should static rules be inserted before the =\r\nclass is run or before each individual test? Before the class is run, I&#39;m t=\r\nhinking. Opinions?\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; Kent\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; On Mar 9, 2010,=\r\n at 9:43 AM, gary_d_gregory wrote:\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; @Rule objects are no=\r\nt initialized before @BeforeClass methods are called. Is this by design or =\r\na bug?\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; For example:\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; package tes=\r\nt;\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; import java.io.File;\n&gt;&gt; &gt; &gt; &gt; &gt; import java.io.IOE=\r\nxception;\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; import junit.framework.Assert;\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;=\r\n&gt; &gt; &gt; &gt; &gt; import org.junit.BeforeClass;\n&gt;&gt; &gt; &gt; &gt; &gt; import org.junit.Rule;\n&gt;=\r\n&gt; &gt; &gt; &gt; &gt; import org.junit.Test;\n&gt;&gt; &gt; &gt; &gt; &gt; import org.junit.rules.Temporar=\r\nyFolder;\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass =\r\n{\n&gt;&gt; &gt; &gt; &gt; &gt; @Rule\n&gt;&gt; &gt; &gt; &gt; &gt; public static TemporaryFolder testFolder =3D =\r\nnew TemporaryFolder();\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; @BeforeClass\n&gt;&gt; &gt; &gt; &gt; &gt; public=\r\n static void testInTempFolder() throws IOException {\n&gt;&gt; &gt; &gt; &gt; &gt; File tempFi=\r\nle =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt;&gt; &gt; &gt; &gt; &gt; File tempFolder =3D testF=\r\nolder.newFolder(&quot;folder&quot;);\n&gt;&gt; &gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + =\r\ntestFolder.getRoot());\n&gt;&gt; &gt; &gt; &gt; &gt; // test\n&gt;&gt; &gt; &gt; &gt; &gt; Assert.assertNotNull(t=\r\nestFolder.getRoot());\n&gt;&gt; &gt; &gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; @Test\n&gt;&gt; &gt; &gt; &gt; &gt; p=\r\nublic void test() {\n&gt;&gt; &gt; &gt; &gt; &gt; // noop\n&gt;&gt; &gt; &gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; &gt; &gt;=\r\n\n&gt;&gt; &gt; &gt; &gt; &gt; Having the TemporaryFolder Rule declared as static is OK as thi=\r\ns example test shows:\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; public class TestTemporaryFolde=\r\nrRuleStatic {\n&gt;&gt; &gt; &gt; &gt; &gt; @Rule\n&gt;&gt; &gt; &gt; &gt; &gt; public static TemporaryFolder tes=\r\ntFolder =3D new TemporaryFolder();\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; @Test\n&gt;&gt; &gt; &gt; &gt; &gt; p=\r\nublic void testInTempFolder() throws IOException {\n&gt;&gt; &gt; &gt; &gt; &gt; File tempFile=\r\n =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt;&gt; &gt; &gt; &gt; &gt; File tempFolder =3D testFol=\r\nder.newFolder(&quot;folder&quot;);\n&gt;&gt; &gt; &gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + te=\r\nstFolder.getRoot());\n&gt;&gt; &gt; &gt; &gt; &gt; // test\n&gt;&gt; &gt; &gt; &gt; &gt; Assert.assertNotNull(tes=\r\ntFolder.getRoot());\n&gt;&gt; &gt; &gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; &gt; &gt; }\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; How can=\r\n @Rules be used from @BeforeClass?\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; &gt; Calling TemporaryF=\r\nolder.create() would work only for TemporaryFolder and not Rules in general=\r\n but would be against the advice of create method Javadoc.\n&gt;&gt; &gt; &gt; &gt; &gt;\n&gt;&gt; &gt; =\r\n&gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt; &gt; [Non-text portions of this messag=\r\ne have been removed]\n&gt;&gt; &gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; [Non-text p=\r\nortions of this message have been removed]\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; --------------=\r\n----------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22556, 
    "contentTrasformed": false, 
    "postDate": "1268755424", 
    "canDelete": false, 
    "nextInTopic": 22558, 
    "prevInTopic": 22556, 
    "headers": {
        "inReplyToHeader": "PGhubzdlOSszaWpvQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMzE2MDkwM3A3ZWQzOWNkZWk1OTFkMjZiNGQ5MzhhMWJAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PGhuYmhzMytmZzBkQGVHcm91cHMuY29tPiA8aG5vN2U5KzNpam9AZUdyb3Vwcy5jb20+"
    }
}