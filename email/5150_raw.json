{
    "topicId": 5141, 
    "postDate": "1023792401", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Timothy Wall &lt;twall@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "O--sm_y3wbSqurDtuImohYWw6I-kD0ji0s8RbXV7Rh1KrDwPmkZT3E4bys-wqXoODChwmmsT1w_N2MSkBW7P9P43DlCt46elbsg", 
    "nextInTime": 5151, 
    "userId": 106503903, 
    "prevInTime": 5149, 
    "prevInTopic": 5147, 
    "headers": {
        "inReplyToHeader": "PEM0NTBEOTY2NjRDQkQzMTE4MkI2MDBBMEM5NzY2OEIxNjQ4MDc5QENBU0UwNTI+", 
        "messageIdInHeader": "PDgzODczM0RDLTdEMjgtMTFENi05RUFBLTAwMzA2NTZDNTREOEBvY3VsdXN0ZWNoLmNvbT4="
    }, 
    "authorName": "Timothy Wall", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "JFCUnit does indeed provide AWT event thread locking. Another alternative is abbot (http://abbot.sourceforge.net), which explicitly provides for launching one", 
    "contentTrasformed": false, 
    "msgId": 5150, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;twall@...&gt;\r\nX-Sender: twall@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 11 Jun 2002 10:46:26 -0000\r\nReceived: (qmail 38950 invoked from network); 11 Jun 2002 10:46:26 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m4.grp.scd.yahoo.com with QMQP; 11 Jun 2002 10:46:26 -0000\r\nReceived: from unknown (HELO mail00.oculustech.com) (64.221.47.99)\n  by mta2.grp.scd.yahoo.com with SMTP; 11 Jun 2002 10:46:25 -0000\r\nReceived: from localhost (dsl-64-192-85-73.telocity.com [64.192.85.73])\n\tby mail00.oculustech.com (Postfix) with ESMTP id E0741A7A9\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 11 Jun 2002 06:45:47 -0400 (EDT)\r\nDate: Tue, 11 Jun 2002 06:46:41 -0400\r\nSubject: Re: [junit] Having trouble with junit architecture\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMime-Version: 1.0 (Apple Message framework v482)\r\nTo: junit@yahoogroups.com\r\nContent-Transfer-Encoding: 7bit\r\nIn-Reply-To: &lt;C450D96664CBD31182B600A0C97668B1648079@CASE052&gt;\r\nMessage-Id: &lt;838733DC-7D28-11D6-9EAA-0030656C54D8@...&gt;\r\nX-Mailer: Apple Mail (2.482)\r\nFrom: Timothy Wall &lt;twall@...&gt;\r\nX-Yahoo-Group-Post: member; u=106503903\r\n\r\nJFCUnit does indeed provide AWT event thread locking.\n\nAnother alternative is abbot (http://abbot.sourceforge.net), which \nexplicitly provides for launching one instance of an application for \nmultiple tests, and also has JUnit integration.\n\n\nOn Tuesday, June 11, 2002, at 04:15 AM, Mark Meyers wrote:\n\n&gt; The problem is that all user interaction in a swing application, is \n&gt; done in\n&gt; a single &quot;event thread&quot;. Swing classes are not meant to be thread safe. \n&gt; So\n&gt; if you start your tests in your (JUnit&#39;s) main thread, and start actions\n&gt; from there, the implementation code is run in the &quot;main&quot; thread, and the\n&gt; automatic repaints etc, are run in the default &quot;event thread&quot;.\n&gt;\n&gt; One way to overcome that is by using a method of \n&gt; javax.swing.SwingUtilities,\n&gt; invokeAndWait(Runnable). Then the code in the Runnable&#39;s run() method \n&gt; will\n&gt; be executed in the event thread. invokeAndWait(...) is blocking, you\n&gt; probably do not want invokeLater(...) because after the execution you \n&gt; might\n&gt; want to do some asserts ?\n&gt; The problem is that your actual testCode must be wrapped in a Runnable, \n&gt; and\n&gt; it is less straight forward.\n&gt; Maybe something like:\n&gt;\n&gt; class MyTestCase extends TestCase{\n&gt; \tpublic static final Object[] NO_ARGS = new Object[0];\n&gt;\n&gt; \tpublic void testXxx(){\n&gt; \t\tnew MyInvoker(&quot;doTestXxx&quot;).doIt();\n&gt; \t}\n&gt; \tprivate void doTestXxx(){\n&gt; \t\t...\n&gt; \t\tassertXxx(...);\n&gt; \t\t...\n&gt; \t}\n&gt;\n&gt; \tclass MyInvoker implements Runnable{\n&gt; \t\tMethod method;\n&gt; \t\tMyInvoker(String methodName){\n&gt; \t\t\t...\n&gt; \t\t\tthis.method = doTestMethod;\n&gt;       \t}\n&gt; \t\tpublic void run(){\n&gt; \t\t\ttestMethod.invoke(MyTestCase.this, NO_ARGS);\n&gt; \t\t}\n&gt; \t\tpublic void doIt(){\n&gt; \t\t\tSwingUtilities.invokeAndWait(MyInvoker.this);\n&gt; \t\t}\n&gt; \t}\n&gt; }\n&gt;\n&gt; On the other hand it seems to me the JFCTestCase (from JFCUnit ?) should\n&gt; provide some solution to this threading issue, but I do not know it nor \n&gt; have\n&gt; I used it.\n&gt; Hope this helps a little.\n&gt;\n&gt; Mark\n&gt;\n&gt;&gt; -----Original Message-----\n&gt;&gt; From: thenoodle1974 [mailto:thenoodle1974@...]\n&gt;&gt; Subject: [junit] Having trouble with junit architecture\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; I&#39;m using junit to test a swing program.\n&gt;&gt;\n&gt;&gt; I have written a bunch of helper functions: click this, enter this,\n&gt;&gt; find that, etc. I&#39;d like those functions to be available in every\n&gt;&gt; test case. Along with that I&#39;d like to only start the application\n&gt;&gt; once and run a suite. Then close the application.\n&gt;&gt;\n&gt;&gt; I&#39;ve made a subclass of JFCTestCase which has those helper functions.\n&gt;&gt; One helper function is startApplication. If I run each test\n&gt;&gt; individually, there is no problem. A testcase is created, I start the\n&gt;&gt; application, it runs. I close the application done.\n&gt;&gt;\n&gt;&gt; But if I try to separete starting the application I have threading\n&gt;&gt; issues. What I&#39;ve tried to do is startApplication, run the suite,\n&gt;&gt; then close the application. But each time my sublcass of JFCTestCase\n&gt;&gt; is created, a new thread is created by JFCTestCase. This thread is\n&gt;&gt; then run separately of the startApplication thread (not good). Does\n&gt;&gt; this make sense?\n&gt;&gt;\n&gt;&gt; My workaround was to create a class that passes in the reference to\n&gt;&gt; an object on this thread. Which works fine.\n&gt;&gt;\n&gt;&gt; So I now:\n&gt;&gt;\n&gt;&gt; Create MyTestCase (which does not extend JUnit in anyway.) It has\n&gt;&gt; it&#39;s own setUpo() and tearDown(). I then pass in a reference to XCase\n&gt;&gt; (which extends JUnit), and run the test. But now I&#39;m not really using\n&gt;&gt; JUnit at all. It&#39;s like I&#39;m creating my own suite object.\n&gt;&gt;\n&gt;&gt; Any ideas/help would be greatly appreciated.\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to \n&gt; http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n\n\n", 
    "subject": "Re: [junit] Having trouble with junit architecture"
}