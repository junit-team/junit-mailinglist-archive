{
    "numMessagesInTopic": 106, 
    "nextInTime": 8973, 
    "senderId": "IFteDu186aASI8QhrAjBltTmDpdYgWULnaUEh3SGVgNcINqBpL9iRr526YJDr6gvve38YkTtnrkBS8SxAUIQ4TNrIXkmvg", 
    "systemMessage": false, 
    "subject": "Re: [junit] ClasspathWalker (even better)", 
    "from": "Mike Clark &lt;mike@...&gt;", 
    "authorName": "Mike Clark", 
    "msgSnippet": "... I d probably create a MockClasspathWalkerListener, then write a test case that installs it into the ClassPathWalker, and verifies various cases of", 
    "msgId": 8972, 
    "profile": "clarkware", 
    "topicId": 8807, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 33026788, 
    "messageBody": "<div id=\"ygrps-yiv-1749774467\">J. B. Rainsberger wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; <br/>\n&gt; It occurs to me that to test the second behavior does not require mocking the classpath. We can have a degenerate event/listener design.<br/>\n&gt; <br/>\n&gt; As the ClasspathWalker walks the classpath, it calls a method to signal that it found something on the classpath. (event source)<br/>\n&gt; <br/>\n&gt; This signal handling method (event listener) then decides which kind of ClasspathEvent to create and send to the registered ClasspathEventListeners.<br/>\n&gt; <br/>\n&gt; In this case, you can test the second behavior above without having to actually walk the classpath. Much nicer.<br/>\n&gt; <br/>\n&gt; So the basic design is this:<br/>\n&gt; <br/>\n&gt; ClasspathWalker<br/>\n&gt;     walkClasspath(classpathRoot):<br/>\n&gt;         // iterate over classpath items under the root<br/>\n&gt;         // invoke foundSomething() with each thing you find<br/>\n&gt; <br/>\n&gt;     ClasspathEvent makeClasspathEvent(foundThing):<br/>\n&gt;         // decide which kind of ClasspathEvent to generate<br/>\n&gt;   <br/>\n&gt;     foundSomething(foundThing):<br/>\n&gt;         classpathEvent = makeClasspathEvent(foundThing);<br/>\n&gt;         notifyListeners(classpathEvent);<br/>\n&gt; <br/>\n&gt; ClasspathWalkerListener<br/>\n&gt;     onClasspathEvent(classpathEvent)<br/>\n&gt; <br/>\n&gt; My tests would be like this.<br/>\n&gt; <br/>\n&gt; * One TestCase class to verify ClasspathWalker.walkClasspath that tries various cases of classpath data; probably a parameterized test case -- however many special cases there are<br/>\n&gt; <br/>\n&gt; * One TestCase class to verify ClasspathWalker.makeClasspathEvent for each different kind of thing I&#39;d find on the classpath<br/>\n&gt; <br/>\n&gt; * foundSomething is too simple to break<br/>\n&gt; <br/>\n&gt; * Tests for my implementation of ClasspathWalkerListener: each test simply sends a ClasspathEvent and verifies the behavior of the listener<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>I&#39;d probably create a MockClasspathWalkerListener, then write a test <br/>\ncase that installs it into the ClassPathWalker, and verifies various <br/>\ncases of classpath data.  For each variation, the test would ask the <br/>\nMockClasspathWalkerListener if it really received the events I was <br/>\nexpecting for the variation, as in:<br/>\n<br/>\npublic void testSomeClasspathVariation() {<br/>\n\t\t<br/>\n   ClasspathWalker walker = new ClasspathWalker();<br/>\n   MockClasspathWalkerListener listener =<br/>\n       new MockClasspathWalkerListener();<br/>\n   walker.addListener(listener);<br/>\n<br/>\n   walker.walkClasspath(someClasspathVariation)<br/>\n\t\t<br/>\n   assertTrue(listener.heard(someExpectedEvent));<br/>\n}<br/>\n<br/>\nSame intent, just a slightly more granular test.  And if I saw red for <br/>\nmore than a couple minutes, I&#39;d start taking smaller steps by writing <br/>\nfine-grained tests such as those you mentioned.<br/>\n<br/>\nOr maybe somebody already said this while I was heads-down coding...<br/>\n<br/>\nMike<br/>\n<br/>\n-- <br/>\nMike Clark<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://clarkware.com\">http://clarkware.com</a><br/>\n(303) 589-3812</div>", 
    "prevInTime": 8971, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1059755724", 
    "canDelete": false, 
    "nextInTopic": 8973, 
    "prevInTopic": 8970, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwODAyMTIwNjM5MDMyNy4wMDdGMUFFNUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PDNGMkE5NkNDLjMwNzA5MDRAY2xhcmt3YXJlLmNvbT4=", 
        "referencesHeader": "PDAwN2UwMWMzNTdjYiQxZDU2YzdmMCQyODc4MTYwYUBzeWJhc2UuY29tPiA8MTA1OTc0MjQ5Ny4yMTYzLjg1LmNhbWVsQGxvY2FsaG9zdD4gPDIwMDMwODAyMTEyMTQ4MDY3OC4wMDU2MEM4Q0Bzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4gPDNGMkE4ODE3LjIwMDAwMDZAdGVhbWRla2FkZS5jb20+IDwyMDAzMDgwMjExNTA1OTA0NTYuMDA3MEMzODZAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+IDwyMDAzMDgwMjEyMDYzOTAzMjcuMDA3RjFBRTVAc3NtdHAuYmxvb3IuaXMubmV0LmNhYmxlLnJvZ2Vycy5jb20+"
    }
}