{
    "numMessagesInTopic": 3, 
    "nextInTime": 5702, 
    "senderId": "0ZNctGRNHx1myxG6WvPBcZ_7qrfxHKC8SkrAMC0ral7XBgzk3i_btRFPwtjeaYhvaSYuTWeFi_vv5iPeNtQm3a-wSdzqVvf9G6U", 
    "systemMessage": false, 
    "subject": "Re: Unit testing multithreaded network code", 
    "from": "&quot;weitzman_d&quot; &lt;weitzman_d@...&gt;", 
    "authorName": "weitzman_d", 
    "msgSnippet": "The general issue of how to approach this sort of issue remains unsolved, but I sidestepped my own problem by passing the responsibilty of verifying the", 
    "msgId": 5701, 
    "profile": "weitzman_d", 
    "topicId": 5698, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 92631008, 
    "messageBody": "<div id=\"ygrps-yiv-1547694584\">The general issue of how to approach this sort of issue remains <br/>\nunsolved, but I sidestepped my own problem by passing the <br/>\nresponsibilty of verifying the robustness of code to the Jakarta <br/>\nAvalon project.   I may be taking the lazy way out, but I trust the <br/>\nApache people to write working software.<br/>\n<br/>\nThanks anyway.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In junit@y..., philipborlin@d... wrote:<br/>\n&gt; <br/>\n&gt; I have been thinking about this a lot lately since we have some <br/>\nmessy<br/>\n&gt; threading code in our gui.  Our main problems are locking down <br/>\nobjects<br/>\n&gt; while state transitions are occuring.  We wrote some pretty basic <br/>\nthread<br/>\n&gt; tools based on ones in various books and then wrote unit tests for <br/>\nthem.<br/>\n&gt; It turns out that the unit tests were extremely tricky but I <br/>\nhaven&#39;t found<br/>\n&gt; an easier way to test mulithreaded behavior.<br/>\n&gt; <br/>\n&gt; Below I have attached a read/write lock implementation and the <br/>\naccompanying<br/>\n&gt; unit test.  The unit test uses a conditional event and so I have <br/>\nincluded<br/>\n&gt; that also.  I have stripped out all the code and just left the <br/>\nsignatures<br/>\n&gt; and comments from the ReadWriteLock and ConditionalEvent since I <br/>\ndon&#39;t<br/>\n&gt; think my employer wants me publishing its code, but I have left the <br/>\nentire<br/>\n&gt; test intact.<br/>\n&gt; <br/>\n&gt; I could not get to javaranch so I could not get to your original <br/>\npost, but<br/>\n&gt; if you want to send some code (even if it is privately), I would be <br/>\nwilling<br/>\n&gt; to take a look.<br/>\n&gt; <br/>\n&gt; -Phil<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; (See attached file: ReadWriteLockTest.java)(See attached file:<br/>\n&gt; ReadWriteLock.java)(See attached file: ConditionalEvent.java)<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;                                                                     <br/>\n                  <br/>\n&gt;                     &quot;weitzman_d&quot;                                    <br/>\n                  <br/>\n&gt;                     &lt;weitzman_d@y        To:     <br/>\njunit@y...                <br/>\n&gt;                     ahoo.com&gt;            <br/>\ncc:                                          <br/>\n&gt;                                          Subject:     [junit] Unit <br/>\ntesting            <br/>\n&gt;                     08/29/2002           multithreaded network <br/>\ncode                   <br/>\n&gt;                     03:05 <br/>\nPM                                                          <br/>\n&gt;                     <br/>\nPlease                                                            <br/>\n&gt;                     respond <br/>\nto                                                        <br/>\n&gt;                     <br/>\njunit                                                             <br/>\n&gt;                                                                     <br/>\n                  <br/>\n&gt;                                                                     <br/>\n                  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; I&#39;ve asked this question at javaranch.com, so I&#39;ll just provide an<br/>\n&gt; brief description here and point to the original question for anyone<br/>\n&gt; who wants to give it a shot (just reply on this list though).<br/>\n&gt; <br/>\n&gt; I&#39;m writing the beginnings of a multithreaded server, and I had to<br/>\n&gt; insert a lot of calls to Thread.sleep() in my unit testing code for<br/>\n&gt; it to pass.  Is there some good way to test multithreaded code that<br/>\n&gt; doesn&#39;t invole just waiting a few milliseconds and hoping that a <br/>\ntask<br/>\n&gt; finished?  I imagine that a better solution might involve calls to<br/>\n&gt; join() but tie the unit test closely to the particular <br/>\nimplementation.<br/>\n&gt; <br/>\n&gt; Anyway, here&#39;s the original question with my current, unsatisfactory<br/>\n&gt; test (although it doesn&#39;t have much of the code being tested - I<br/>\n&gt; didn&#39;t want to clutter the post.  I should add some.):<br/>\n&gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://saloon.javaranch.com/cgi-bin/ubb/ultimatebb.cgi?\">http://saloon.javaranch.com/cgi-bin/ubb/ultimatebb.cgi?</a><br/>\n&gt; ubb=get_topic&f=9&t=001390<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; junit-unsubscribe@y...<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to <br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 5700, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1031179242", 
    "canDelete": false, 
    "nextInTopic": 5703, 
    "prevInTopic": 5698, 
    "headers": {
        "inReplyToHeader": "PE9GREZBOTk2QjAuRjQ5N0ZGQTktT044NjI1NkMyOS4wMDRGQ0I0RkBOT1ZVU1NFUlZJQ0VTLkNPTT4=", 
        "messageIdInHeader": "PGFsNjI1YStxNDhmQGVHcm91cHMuY29tPg=="
    }
}