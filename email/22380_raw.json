{
    "numMessagesInTopic": 12, 
    "nextInTime": 22381, 
    "senderId": "t5Pq-A5Bafyu5SPnLhMX92DT7iNKK_RibsR7R35rJD5Rx2F1WN5u9x8jnbH_1xYTbNA2crmYOIdXcuou3Q9zREnF", 
    "systemMessage": false, 
    "subject": "Re: [junit] Theories Usability", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Berin, I wouldn t use Rules, either. One failure per method is currently baked into the architecture of the Theories runner--I d welcome a feature request for", 
    "msgId": 22380, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 62306 invoked from network); 8 Feb 2010 16:14:17 -0000\r\nX-Received: from unknown (66.196.94.106)\n  by m2.grp.sp2.yahoo.com with QMQP; 8 Feb 2010 16:14:17 -0000\r\nX-Received: from unknown (HELO mail-px0-f171.google.com) (209.85.216.171)\n  by mta2.grp.re1.yahoo.com with SMTP; 8 Feb 2010 16:14:16 -0000\r\nX-Received: by pxi1 with SMTP id 1so689887pxi.25\n        for &lt;junit@yahoogroups.com&gt;; Mon, 08 Feb 2010 08:13:52 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.213.4 with SMTP id p4mr4615109rvq.159.1265645632589; Mon, \n\t08 Feb 2010 08:13:52 -0800 (PST)\r\nIn-Reply-To: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76D@...-ais.com&gt;\r\nReferences: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76B@...-ais.com&gt;\n\t &lt;4f7da6b91002071848r3458f8c2ob7cda7cab6523ecc@...&gt;\n\t &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76D@...-ais.com&gt;\r\nDate: Mon, 8 Feb 2010 11:13:52 -0500\r\nX-Google-Sender-Auth: 3abf4813ce194b72\r\nMessage-ID: &lt;4f7da6b91002080813v3d97cdccye1f8879e80dbc396@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Theories Usability\r\nX-Yahoo-Group-Post: member; u=341876227; y=3ohRqofRZtlZEpNR50sf4-1tXAqaJllIQEN9849esqk\r\nX-Yahoo-Profile: dsaff\r\n\r\nBerin,\n\nI wouldn&#39;t use Rules, either.\n\nOne failure per method is currently =\r\nbaked into the architecture of the\nTheories runner--I&#39;d welcome a feature r=\r\nequest for the right way to\nmake that better.\n\nIn terms of knowing what fai=\r\nled, the Theories runner should show in\nthe stack trace the parameters that=\r\n triggered the failure.  Is that\nnot happening?\n\n   David\n\nOn Mon, Feb 8, 2=\r\n010 at 9:24 AM, Loritsch, Berin C.\n&lt;berin.loritsch@...&gt; wrote:\n&gt; I h=\r\naven&#39;t logged the feature request, mainly because I might not be using the =\r\nright tool for the job. =A0What I would like to see is what I described.\n&gt;\n=\r\n&gt; With JUnit 3, I adopted the test nomenclature of something on the order o=\r\nf:\n&gt;\n&gt; testMyMethod_withNullParam1()\n&gt; testMyMethod_withXandYparams()\n&gt;\n&gt; e=\r\ntc.\n&gt;\n&gt; that would let me see within the test report (particularly a contin=\r\nuous integration test report) what exactly failed. =A0If the null parameter=\r\n failed its check I&#39;d have to fix one thing (boundary checking), but if the=\r\n XandYparams version failed then I knew something may be wrong with the alg=\r\norithm.\n&gt;\n&gt; With the particular Theory I&#39;ve written I need to know not only=\r\n the class that was tested, but the attribute that did not follow the contr=\r\nacts for using the base class. =A0With only one failure that can&#39;t happen.\n=\r\n&gt;\n&gt; I didn&#39;t think Rules was the right way to go, because the MethodRule ob=\r\njects were applied to the tests within that same class (unless I&#39;m missing =\r\nsomething).\n&gt;\n&gt; Theories at least gives me the coverage and assurance I&#39;m a=\r\nfter, but I&#39;d like to get away from writing to System.out to figure out exa=\r\nctly what failed. =A0I would also like to be able to see all my failures at=\r\n once instead of only after fixing the last failure.\n&gt;\n&gt;\n&gt; -----Original Me=\r\nssage-----\n&gt; From: junit@yahoogroups.com on behalf of David Saff\n&gt; Sent: Su=\r\nn 2/7/2010 9:48 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Theor=\r\nies Usability\n&gt;\n&gt; Berin,\n&gt;\n&gt; I do think that we should eventually have a wa=\r\ny to operate at least\n&gt; optionally in the way you describe. =A0Have you log=\r\nged a feature request\n&gt; yet?\n&gt;\n&gt; =A0 Davi\n&gt;\n&gt; On Fri, Feb 5, 2010 at 3:27 P=\r\nM, Loritsch, Berin C.\n&gt; &lt;berin.loritsch@...&gt; wrote:\n&gt;&gt; Thanks everyo=\r\nne for helping me work through the testing challenge I wanted to address. =\r\n=A0I&#39;ve written a rudimentary ClassCollector that lets me specify a base pa=\r\nckage, what base classes I need, any annotations I need applied, etc. =A0I =\r\nsupplimented that with a BeanAttributes class that will collect all the att=\r\nributes (setters/getters) on the class. =A0It&#39;s working very well. =A0Unfor=\r\ntunately, there are a few shortcomings with this approach:\n&gt;&gt;\n&gt;&gt; 1. I canno=\r\nt easily determine what the actual data point combination was that caused t=\r\nhe failure. =A0I have to write those values out to System.out because the t=\r\nest failure does not do that for me.\n&gt;&gt;\n&gt;&gt; 2. It stops on the very first fa=\r\nilure, hiding many more failures that may still be lurking beneath the serv=\r\nice.\n&gt;&gt;\n&gt;&gt; 3. The theory is the only line shown in the test report, so ther=\r\ne is no way to differentiate runs which would handle the above concerns.\n&gt;&gt;=\r\n\n&gt;&gt; What I would really like to see is that a new test name for each combin=\r\nation of data points. =A0For example if you had a @Theory named &quot;checkAddWo=\r\nrks&quot; that took two parameters and the data points [1,2] then I&#39;d like to se=\r\ne a set of test names that look like this in the test report:\n&gt;&gt;\n&gt;&gt; checkAd=\r\ndWorks(1,1)\n&gt;&gt; checkAddWorks(1,2)\n&gt;&gt; checkAddWorks(2,2)\n&gt;&gt;\n&gt;&gt; That will add=\r\nress all of the shortcomings I identified.\n&gt;&gt;\n&gt;&gt; My code looks like this:\n&gt;=\r\n&gt;\n&gt;&gt; @RunWith(Theories.class)\n&gt;&gt; class TestMyTrackableContract {\n&gt;&gt; =A0 =A0=\r\n@DataPoints\n&gt;&gt; =A0 =A0BeanAttribute[] collectAllAttributesToTest() {\n&gt;&gt; =A0=\r\n =A0 =A0 =A0ClassCollector collector =3D new ClassCollector();\n&gt;&gt; =A0 =A0 =\r\n=A0 =A0collector.within(&quot;com.mycompany.incident.model&quot;).assignableTo(Tracka=\r\nble.class);\n&gt;&gt; =A0 =A0 =A0 =A0Collection&lt;Class&lt;?&gt;&gt; matchedClasses =3D colle=\r\nctor.recurse().collect();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0List&lt;BeanAttribute&gt; attribut=\r\nes =3D new ArrayList&lt;BeanAttribute&gt;();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0for (Class&lt;?&gt; t=\r\nrackable : matchedClasses) {\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0attributes.addAll(Be=\r\nanAttribute.collectFrom(trackable));\n&gt;&gt; =A0 =A0 =A0 =A0}\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =\r\n=A0return attributes.toArray(new BeanAttribute[attributes.size()]);\n&gt;&gt; =A0 =\r\n=A0}\n&gt;&gt;\n&gt;&gt; =A0 =A0@Theory\n&gt;&gt; =A0 =A0public void checkSideEffectsOnAssign() =\r\nthrows Exception {\n&gt;&gt; =A0 =A0 =A0 =A0// This is designed to ensure that set=\r\nters/getters work in concert\n&gt;&gt; =A0 =A0 =A0 =A0// and that setters set the =\r\nappropriate message is sent\n&gt;&gt; =A0 =A0 =A0 =A0if ( ! beanAttribute.hasSette=\r\nr() || ! beanAttribute.hasGetter() ) return;\n&gt;&gt; =A0 =A0 =A0 =A0beanAttribut=\r\ne.assertBalanced();\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0Trackable entity =3D beanAttribute=\r\n.getEntityAs(Trackable.class);\n&gt;&gt; =A0 =A0 =A0 =A0// Unfortunately needed to=\r\n determine when things go bad\n&gt;&gt; =A0 =A0 =A0 =A0System.out.format(&quot;Testing =\r\n%s&#92;n&quot;, beanAttribute);\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0Object original =3D beanAttribu=\r\nte.getValue();\n&gt;&gt; =A0 =A0 =A0 =A0Object testValue =3D beanAttribute.generat=\r\neTestValue(original);\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0// Ensure the setter works as ex=\r\npected\n&gt;&gt; =A0 =A0 =A0 =A0beanAttribute.setValue(testValue);\n&gt;&gt; =A0 =A0 =A0 =\r\n=A0assertEquals(testValue, beanAttribute.getValue());\n&gt;&gt;\n&gt;&gt; =A0 =A0 =A0 =A0=\r\n// Ensure properties are set and events were properly\n&gt;&gt; =A0 =A0 =A0 =A0Pro=\r\nperties changes =3D entity.getChanges();\n&gt;&gt; =A0 =A0 =A0 =A0assertEquals( St=\r\nring.valueOf(testValue),\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty(bean=\r\nAttribute.getAttribute()));\n&gt;&gt; =A0 =A0 =A0 =A0assertEquals( String.valueOf(=\r\noriginal),\n&gt;&gt; =A0 =A0 =A0 =A0 =A0 =A0changes.getProperty(beanAttribute.getA=\r\nttribute() + &quot;.old&quot;));\n&gt;&gt; =A0 =A0}\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; [Non-text portions of this=\r\n message have been removed]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; -----------------------------------=\r\n-\n&gt;&gt;\n&gt;&gt; Yahoo! Groups Links\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this =\r\nmessage have been removed]\n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------\n&gt;\n&gt;=\r\n Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22379, 
    "contentTrasformed": false, 
    "postDate": "1265645632", 
    "canDelete": false, 
    "nextInTopic": 22381, 
    "prevInTopic": 22379, 
    "headers": {
        "inReplyToHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkRAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMjA4MDgxM3YzZDk3Y2RjY3llMWY4ODc5ZTgwZGJjMzk2QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPgkgPDRmN2RhNmI5MTAwMjA3MTg0OHIzNDU4ZjhjMm9iN2NkYTdjYWI2NTIzZWNjQG1haWwuZ21haWwuY29tPgkgPDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkRAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg=="
    }
}