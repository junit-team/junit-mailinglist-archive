{
    "numMessagesInTopic": 3, 
    "nextInTime": 2318, 
    "senderId": "zl0dVSOBcTXdJHeKMJm54cBeQWhdWItkgrNuV8gEL8Y6lV5a8v-UGQBGzbUa44lLYUShTSM8-P7mtLMYK_D0JHUe9l3Xhfw03xf31U5l", 
    "systemMessage": false, 
    "subject": "Re: [junit] testing code that inserts into a database", 
    "from": "&quot;Martin Dillard&quot; &lt;calmarty@...&gt;", 
    "authorName": "Martin Dillard", 
    "msgSnippet": "This is basically what I ended up doing but without the database access wrapper. Thank you for your response. ... Get your FREE download of MSN Explorer at", 
    "msgId": 2317, 
    "topicId": 2313, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-35853254\"><html><div style=''><div>\n<p>This is basically what I ended up doing but without the database access wrapper. Thank you for your response.<br><br></p></div>\n<div></div>\n<blockquote><span title=\"ireply\"> <div></div>&gt;From: Johannes Link \n<div></div>&gt;Reply-To: junit@yahoogroups.com \n<div></div>&gt;To: junit@yahoogroups.com \n<div></div>&gt;Subject: Re: [junit] testing code that inserts into a database \n<div></div>&gt;Date: Thu, 09 Aug 2001 22:57:12 +0200 \n<div></div>&gt; \n<div></div>&gt; \n<div></div>&gt; \n<div></div>&gt;Martin Dillard wrote: \n<div></div>&gt; &gt; My question is on how to test code that inserts into the database. I \n<div></div>&gt; &gt; am concerned about inserting data into the database that may later \n<div></div>&gt; &gt; interfere with my tests that read from the database so I want to make \n<div></div>&gt; &gt; sure that all data is removed from the database after the insert \n<div></div>&gt; &gt; methods are tested. Should this code be in the test method? \n<div></div>&gt; \n<div></div>&gt;One option is to start a top leve transaction in setUp(), rolling it \n<div></div>&gt;back in tearDown() and using only nested transactions inbetween. This \n<div></div>&gt;works *sometimes* and requires, of course, that your database supports \n<div></div>&gt;nested transactions. \n<div></div>&gt; \n<div></div>&gt; &gt; Also, what \n<div></div>&gt; &gt; is the best way to verify that everything was inserted correctly? \n<div></div>&gt; \n<div></div>&gt;Retrieving it with select seems to be the only way unless you mocked \n<div></div>&gt;your database interface. \n<div></div>&gt; \n<div></div>&gt;What we have done a couple of times is to wrap the real database access \n<div></div>&gt;in a wrapping interface which should be as narrow as possible, i.e. \n<div></div>&gt;providing only create, update and delete functionality for your \n<div></div>&gt;persistent objects. Having done that you can mock this interface for \n<div></div>&gt;most of your tests. You need a few tests for checking that your wrapper \n<div></div>&gt;accesses the db correctly but those tests are most of the time very \n<div></div>&gt;straightforward. \n<div></div>&gt; \n<div></div>&gt;Johannes \n </span></blockquote><div></div></div><br clear=\"all\"><hr>Get your FREE download of MSN Explorer at <a rel=\"nofollow\" target=\"_blank\" href='http://go.msn.com/bql/hmtag_itl_EN.asp'>http://explorer.msn.com</a><br></html></div>", 
    "prevInTime": 2316, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "997392687", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 2315, 
    "headers": {
        "messageIdInHeader": "PEYyNTl4YXZqclJaMVViREJSQXIwMDAwMzVkZkBob3RtYWlsLmNvbT4="
    }
}