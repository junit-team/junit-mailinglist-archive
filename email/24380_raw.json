{
    "numMessagesInTopic": 3, 
    "nextInTime": 24381, 
    "senderId": "vv81Bsa54qDzS-GRJiFBRcYDJiebqsXLMcHgN1PrFm5KOnkgAnV26BsqPzue0iGsleJGeSPYIOnoMXB1cLdI08d37Q", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit 4.12 issue when using theory + enum type + DataPoint that contains a null", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Will, I think this is relevant to recent work on theories by @pimterry.  Can you create a bug on github, and mention @pimterry in the description?  Thanks, ", 
    "msgId": 24380, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 14120 invoked by uid 102); 3 May 2013 17:03:36 -0000\r\nX-Received: from unknown (HELO mta1.grp.bf1.yahoo.com) (10.193.84.135)\n  by m9.grp.bf1.yahoo.com with SMTP; 3 May 2013 17:03:36 -0000\r\nX-Received: (qmail 14258 invoked from network); 3 May 2013 17:03:36 -0000\r\nX-Received: from unknown (HELO mail-ia0-f174.google.com) (209.85.210.174)\n  by mta1.grp.bf1.yahoo.com with SMTP; 3 May 2013 17:03:36 -0000\r\nX-Received: by mail-ia0-f174.google.com with SMTP id e36so1509821iag.19\n        for &lt;junit@yahoogroups.com&gt;; Fri, 03 May 2013 10:03:36 -0700 (PDT)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=x-received:mime-version:in-reply-to:references:from:date:message-id\n         :subject:to:content-type:x-gm-message-state;\n        bh=zIJprqWTV4IoW52N6pXcja3RzUmWouJahknDKf9EK3c=;\n        b=cRjtQdBaRt4z7+F9lzk5WdjXXANO/kcjALioBzYmPOs9kOEllhsY0OmtdSL0aynBJb\n         D1rRUUwiQC8ndudpaWn6N4j+poamexXXYYdShfQJrDtAdQXHMmTDFXNa9/gf8lDhyovS\n         DICn/3uopuJC0P9UlHRBNjxE67TQbVWckt6sQMKWBOK7HytehG5qXpLk3Y7QgpIGLgT1\n         jkecWLXnCQq7vyEMjeXt8HD7bR1+hVwPOG/oyd/zpX/eu3AXbK/EXjez0ibKNmCXUgwW\n         AjQDbUZ6/2u8x7kWYFz3l58YonOzfR8zAYt/lXfVcATWfkHQxGfu1q21Ffj47x0I51mW\n         qvMA==\r\nX-Received: by 10.50.134.100 with SMTP id pj4mr5723359igb.73.1367600616480;\n Fri, 03 May 2013 10:03:36 -0700 (PDT)\r\nMIME-Version: 1.0\r\nX-Received: by 10.231.164.135 with HTTP; Fri, 3 May 2013 10:03:16 -0700 (PDT)\r\nIn-Reply-To: &lt;klsdq1+eqki@...&gt;\r\nReferences: &lt;klsdq1+eqki@...&gt;\r\nDate: Fri, 3 May 2013 10:03:16 -0700\r\nMessage-ID: &lt;CALrw-Py+qa2vgWvAeBuA5xB0VkRB8_JhKcA851mSOHe-QW=KNw@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Gm-Message-State: ALoCoQl5BlWiU/z7zi56yiETKZ/VaCWpiS5asIAK0cJV4EGJEGyiF3/ZAE+CQZF2BtCD+CjlwfsZ3M5D8iE/ksmvee7bdh1bAlfIGAZr4/sYd9lZf7jIZamICwwjO2U4GsAJvBHjEuXhBEEHcUMbp1eV1BhqL4p5LysiQMeRs4vbfZP3bElrtEiQ2VPubzkShiy948wD8s8k\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] JUnit 4.12 issue when using theory + enum type +\n DataPoint that contains a null\r\nX-Yahoo-Group-Post: member; u=525765722; y=LzeVNvlwl5xrsCMtyU-I8bxLj6RJNF9s0BBVbuTLtHrNA0YiIF4l41auad7u187AmQSEhLGR4iiE8cU\r\nX-Yahoo-Profile: saffatgoogle\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nWill,\n\nI think this is relevant to recent work on theories by @pimterry.  C=\r\nan you\ncreate a bug on github, and mention @pimterry in the description?  T=\r\nhanks,\n\n   David\n\n\nOn Wed, May 1, 2013 at 5:59 PM, willmcqueen &lt;willmcqueen=\r\n@...&gt; wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; Hi,\n&gt;\n&gt; I have a Theory with a parameter lis=\r\nt that includes a String, a boolean,\n&gt; and an enum. The latter 2 should be =\r\nautomatically assigned and should not\n&gt; need any explicit @DataPoint declar=\r\nation (per the release note description\n&gt; below. When I run the test, the e=\r\nnum param is assigned the null value\n&gt; instead of being assigned each value=\r\n of the enum, and I&#39;m not sure why this\n&gt; is not working for me. I would ap=\r\npreciate any help you can offer, please.\n&gt;\n&gt; I cloned master from here:\n&gt;\n&gt;=\r\n https://github.com/junit-team/junit\n&gt;\n&gt; ...and looked at the JUnit 4.12 re=\r\nlease notes:\n&gt;\n&gt; https://github.com/junit-team/junit/wiki/4.12-release-note=\r\ns\n&gt;\n&gt; ...and scrolled-down to pull request #654 which says:\n&gt;\n&gt; &quot;Any theory=\r\n method parameters with boolean or enum types that can&#39;t be\n&gt; supplied with=\r\n values by any other sources will be automatically supplied\n&gt; with default =\r\nvalues: true and false, or every value of the given enum. If\n&gt; other explic=\r\nitly defined values are available (e.g. from a specified\n&gt; ParameterSupplie=\r\nr or some DataPoints method in the theory class), only\n&gt; those explicitly d=\r\nefined values will be used.&quot;\n&gt;\n&gt; On that same release notes page, I also se=\r\ne the comment under pull request\n&gt; #549, which says that a @DataPoint-annot=\r\nated array field can contain null\n&gt; values.\n&gt;\n&gt; So here&#39;s my test:\n&gt;\n&gt; impo=\r\nrt org.junit.experimental.theories.DataPoints;\n&gt; import org.junit.experimen=\r\ntal.theories.Theories;\n&gt; import org.junit.experimental.theories.Theory;\n&gt; i=\r\nmport org.junit.runner.RunWith;\n&gt;\n&gt; @RunWith(Theories.class)\n&gt; public class=\r\n QuickTest {\n&gt;\n&gt; @DataPoints\n&gt; public static String[] platforms =3D new Str=\r\ning[]{&quot;windows&quot;, &quot;linux&quot;, null};\n&gt;\n&gt; public static enum JDKS {\n&gt; JDK6,\n&gt; JD=\r\nK7,\n&gt; }\n&gt;\n&gt; @Theory\n&gt; public void testFoo(String platform, boolean truth, J=\r\nDKS j) throws\n&gt; Exception {\n&gt; System.out.println(platform + &quot;:&quot; + truth + &quot;=\r\n:&quot; + j);\n&gt; }\n&gt;\n&gt; }\n&gt;\n&gt; ...and here&#39;s the output:\n&gt; windows:true:null\n&gt; wind=\r\nows:false:null\n&gt; linux:true:null\n&gt; linux:false:null\n&gt; null:true:null\n&gt; null=\r\n:false:null\n&gt;\n&gt; ...which is not what I expected... I expected the 3rd value=\r\n to be JDK6 or\n&gt; JDK7. I run a 2nd test, but this time I remove the null ar=\r\nray element from\n&gt; the &#39;platforms&#39; field, and the results are expected:\n&gt;\n&gt;=\r\n import org.junit.experimental.theories.DataPoints;\n&gt; import org.junit.expe=\r\nrimental.theories.Theories;\n&gt; import org.junit.experimental.theories.Theory=\r\n;\n&gt; import org.junit.runner.RunWith;\n&gt;\n&gt; @RunWith(Theories.class)\n&gt; public =\r\nclass QuickTest {\n&gt;\n&gt; @DataPoints\n&gt; public static String[] platforms =3D ne=\r\nw String[]{&quot;windows&quot;, &quot;linux&quot;};\n&gt;\n&gt; public static enum JDKS {\n&gt; JDK6,\n&gt; JDK=\r\n7,\n&gt; }\n&gt;\n&gt; @Theory\n&gt; public void testFoo(String platform, boolean truth, JD=\r\nKS j) throws\n&gt; Exception {\n&gt; System.out.println(platform + &quot;:&quot; + truth + &quot;:=\r\n&quot; + j);\n&gt; }\n&gt;\n&gt; }\n&gt;\n&gt; ...which results in:\n&gt; windows:true:JDK6\n&gt; windows:tr=\r\nue:JDK7\n&gt; windows:false:JDK6\n&gt; windows:false:JDK7\n&gt; linux:true:JDK6\n&gt; linux=\r\n:true:JDK7\n&gt; linux:false:JDK6\n&gt; linux:false:JDK7\n&gt;\n&gt; Cool. But now just for=\r\n fun, I remove the &#39;platform&#39; param from testFoo and\n&gt; I restore the null a=\r\nrray element to &#39;platforms&#39; field. Since there is no\n&gt; longer any String pa=\r\nram in the param list (and since String is a final\n&gt; class so there&#39;s no po=\r\nssibility of an assignable subclass), I expect that\n&gt; the &#39;platforms&#39; DataP=\r\noint will just be silently ignored and I would get the\n&gt; expected output. B=\r\nut I actually see the unexpected output, as if a null\n&gt; array element that =\r\nexists in a field (that&#39;s not even used in the Theory&#39;s\n&gt; param list) is af=\r\nfecting the values of a totally different type, the enum\n&gt; type (causing th=\r\ne enum param to receive only a null value):\n&gt;\n&gt; import org.junit.experiment=\r\nal.theories.DataPoints;\n&gt; import org.junit.experimental.theories.Theories;\n=\r\n&gt; import org.junit.experimental.theories.Theory;\n&gt; import org.junit.runner.=\r\nRunWith;\n&gt;\n&gt; @RunWith(Theories.class)\n&gt; public class QuickTest {\n&gt;\n&gt; @DataP=\r\noints\n&gt; public static String[] platforms =3D new String[]{&quot;windows&quot;, &quot;linux=\r\n&quot;, null};\n&gt;\n&gt; public static enum JDKS {\n&gt; JDK6,\n&gt; JDK7,\n&gt; }\n&gt;\n&gt; @Theory\n&gt; p=\r\nublic void testFoo(boolean truth, JDKS j) throws Exception {\n&gt; System.out.p=\r\nrintln(truth + &quot;:&quot; + j);\n&gt; }\n&gt;\n&gt; }\n&gt;\n&gt; ...which results in:\n&gt; true:null\n&gt; f=\r\nalse:null\n&gt;\n&gt; Maybe I&#39;m missing something?\n&gt;\n&gt; Thank you.\n&gt;\n&gt; Cheers,\n&gt; Wil=\r\nl\n&gt;\n&gt;  \n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "saffatgoogle", 
    "topicId": 24378, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 525765722, 
    "prevInTime": 24379, 
    "contentTrasformed": false, 
    "postDate": "1367600596", 
    "canDelete": false, 
    "nextInTopic": 24381, 
    "prevInTopic": 24378, 
    "headers": {
        "inReplyToHeader": "PGtsc2RxMStlcWtpQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBTHJ3LVB5K3FhMnZnV3ZBZUJ1QTV4QjBWa1JCOF9KaEtjQTg1MW1TT0hlLVFXPUtOd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGtsc2RxMStlcWtpQGVHcm91cHMuY29tPg=="
    }
}