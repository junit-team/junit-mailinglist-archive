{
    "numMessagesInTopic": 6, 
    "nextInTime": 4939, 
    "senderId": "4JggLXiuqPCd-mO3GX5RxJaib2ad5kZUHOTdxlPDuyM-Z6appp4E79TyapcxwQeXKODt2KR20P6XYeoKqzPWxHV7xZaAT7o", 
    "systemMessage": false, 
    "subject": "Re: unit testing philosophy", 
    "from": "&quot;tcfolsom&quot; &lt;Todd.Folsom@...&gt;", 
    "authorName": "tcfolsom", 
    "msgSnippet": "Go to www.mockmaker.org and download the mockmaker tool. Then apply it to interfaces or classes for which you need mocks. These new mocks will have methods for", 
    "msgId": 4938, 
    "rawEmail": "Return-Path: &lt;Todd.Folsom@...&gt;\r\nX-Sender: Todd.Folsom@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_3_2); 10 May 2002 20:11:36 -0000\r\nReceived: (qmail 33364 invoked from network); 10 May 2002 20:11:36 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m6.grp.scd.yahoo.com with QMQP; 10 May 2002 20:11:36 -0000\r\nReceived: from unknown (HELO n14.grp.scd.yahoo.com) (66.218.66.69)\n  by mta1.grp.scd.yahoo.com with SMTP; 10 May 2002 20:11:36 -0000\r\nReceived: from [66.218.67.186] by n14.grp.scd.yahoo.com with NNFMP; 10 May 2002 20:11:35 -0000\r\nDate: Fri, 10 May 2002 20:11:35 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: unit testing philosophy\r\nMessage-ID: &lt;abh9hn+hfv8@...&gt;\r\nIn-Reply-To: &lt;abf3us+5c1l@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3781\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;tcfolsom&quot; &lt;Todd.Folsom@...&gt;\r\nX-Yahoo-Group-Post: member; u=106851668\r\nX-Yahoo-Profile: tcfolsom\r\n\r\nGo to www.mockmaker.org and download the mockmaker tool. Then apply \nit to interfaces or classes for which you need mocks. These new mocks \nwill have methods for setting their state, and all support the verify\n() method. YOur mockRepository can be configured to return a \nmockRepositoryView and to verify that a call was made to that method. \nFor instance if your code should call getRepositoryView(), you set up \nMockRepository with setExpectedGetRepositoryViewCalls(1). This method \nis built in the mock for you by the mockmaker tool. Verify() will \ncheck that a single call of getRepositoryView was made on the mock. \n  This is very useful stuff. However you may have to refactor your \ncode to make it possible to supply a mock object instead of the real \nobject. If you work from interfaces, it is easier to handle mocks. \nFor example if getRepostoryView returns a RepositoryViewInterface \nrather than a RepositoryView, it is easy to return a \nMockRepositoryView which implemented RepositoryViewInterface.\n\n\n--- In junit@y..., &quot;cilqproj&quot; &lt;cilqproj@y...&gt; wrote:\n&gt; The problem is that I&#39;m struggling to test a pretty complex piece of\n&gt; code and I&#39;m trying to get some advice ( hints, help, etc .. ) to \nhelp\n&gt; me tackle it.  \n&gt; \n&gt; In the real world, I use ATG Dynamo.  If you&#39;ve heard of it or used\n&gt; it, it&#39;s an App Server / EJB Container.   Dynamo&#39;s entire framework \nis\n&gt; based off this component known as Nucleus, which does a lot of work \nin\n&gt; terms of instantiating classes, setting properties, etc..  It&#39;s also\n&gt; very slow and to test - build - test takes forever if I have to \nstart\n&gt; and stop the app-server for every change in the code. \n&gt; \n&gt; That&#39;s where MockObjects come in.  Dynamo is a very Java Beans heavy\n&gt; framework, that relies a lot on setters and getters.  ( In fact, the\n&gt; MockObjects guys at SF have started putting together some Dynamo\n&gt; MockObjects. ) I was looking into MockObjects as a way to lessen my\n&gt; reliance on the Nucleus namespace so that I could code quickly and\n&gt; only integrate with the Nucleus namespace at the latest possible \ntime.\n&gt; \n&gt; However, I can&#39;t get my head around the fact that in certain cases \nmy\n&gt; mock code will need to generate other mock code \n&gt; \n&gt; Here&#39;s a method from a piece of old code that I wrote before I \ndecided\n&gt; to start using JUnit:\n&gt; \n&gt;     public  Map generateEmptyPreferencesMap( Map m ) throws\n&gt; RepositoryException {\n&gt; \n&gt; \t// get the list of possible preferences\n&gt; \tRepositoryView contactMethodView = getPreferencesRepository\n().getView(\n&gt; CONTACT_METHOD_REPOSITORY_ITEM );\n&gt; \tRepositoryItem[] contactMethods = \ncontactMethodView.executeQuery(\n&gt; contactMethodView.getQueryBuilder().createUnconstrainedQuery() );\n&gt; \t\n&gt; \tif ( ( contactMethods != null ) && ( contactMethods.length &gt; \n0 ) )  {\n&gt; \t    // add each one to the map\n&gt; \t    for ( int i = 0 ; i &lt; contactMethods.length ; i++ ) {\n&gt; \t\tm.put( contactMethods[i].getPropertyValue(\n&gt; CONTACT_METHOD_CODE_PROPERTY_NAME ), new BooleanPlaceHolder() );\n&gt; \t    }\n&gt; \t}\n&gt;      return m;\n&gt;     }\n&gt;      \n&gt; \n&gt; The Repository API is Dynamo&#39;s object-oriented data abstraction \napi. \n&gt; In this case, I assume I would setPreferencesRepository( new\n&gt; MyMockRepository()  )\n&gt; \n&gt; but that MockRepository needs to return a MockRepositoryView which \nin\n&gt; turn needs to return a MockQueryBuilder, or so I seem to believe.\n&gt; \n&gt; In a sentence:  how would one test this?  \n&gt; \n&gt; As before,\n&gt; Any and all help is greatly appreciated.\n&gt; \n&gt; I apologize for any unnecessary lengthiness.\n&gt; \n&gt; Thanks,\n&gt; \n&gt; Aadi\n&gt; \n&gt; --- In junit@y..., Bob Koss &lt;koss@o...&gt; wrote:\n&gt; &gt; \n&gt; &gt; It would help if you&#39;d tell us what the problem is instead of \npresenting\n&gt; &gt; your solution of the problem as the problem.\n&gt; &gt; \n&gt; &gt; I&#39;ve never needed mocks inside of mocks - it doesn&#39;t even make \nsense.\n&gt; &gt; \n&gt; &gt;\n\n\n", 
    "profile": "tcfolsom", 
    "topicId": 4923, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 106851668, 
    "prevInTime": 4937, 
    "contentTrasformed": false, 
    "postDate": "1021061495", 
    "canDelete": false, 
    "nextInTopic": 8749, 
    "prevInTopic": 4925, 
    "headers": {
        "inReplyToHeader": "PGFiZjN1cys1YzFsQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGFiaDlobitoZnY4QGVHcm91cHMuY29tPg=="
    }
}