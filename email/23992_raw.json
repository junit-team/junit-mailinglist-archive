{
    "numMessagesInTopic": 12, 
    "nextInTime": 23993, 
    "senderId": "Jecl6zpUIBXG3hNb4NV1LNqjsWtk0Si49D8yOGwz0wgl3rQvvIac3OU4P08c8I6KsGV89c7HJjp854t9QsjhjJqg", 
    "systemMessage": true, 
    "subject": "Re: Tests starting before Logback initialisation complete when run in parallel", 
    "from": "&quot;hkaipe&quot; &lt;hkaipe@...&gt;", 
    "authorName": "hkaipe", 
    "msgSnippet": "... I can see value in a @BeforeSuite-annotation but in general I think test-suites should be administered by the build-tool. - In this case SureFire, which", 
    "msgId": 23992, 
    "rawEmail": "Return-Path: &lt;hkaipe@...&gt;\r\nReceived: (qmail 3553 invoked from network); 9 Sep 2012 13:27:27 -0000\r\nReceived: from unknown (98.137.35.162)\n  by m10.grp.sp2.yahoo.com with QMQP; 9 Sep 2012 13:27:27 -0000\r\nReceived: from unknown (HELO ng3-vm5.bullet.mail.gq1.yahoo.com) (98.136.219.31)\n  by mta6.grp.sp2.yahoo.com with SMTP; 9 Sep 2012 13:27:27 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1347197247; bh=LDJ04AqOHl43MxkKakfwqwVqwqD/a7qG/AyTcFrbHhQ=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:In-Reply-To:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=hk26MN5QZxP+cseDCnoTDqezWbhJO/H/68Ps2wClzG2upO1PbzhBO6WB/Hruu2CD5Kwfn0qsPJ2PSs1emA6CXpqeiCGvphBzr7yHvWDG+P9BtoCMf8oGWcH9ZQMDe3SI\r\nReceived: from [98.137.0.87] by ng3.bullet.mail.gq1.yahoo.com with NNFMP; 09 Sep 2012 13:27:27 -0000\r\nReceived: from [98.137.34.184] by tg7.bullet.mail.gq1.yahoo.com with NNFMP; 09 Sep 2012 13:27:27 -0000\r\nX-Sender: hkaipe@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 23643 invoked from network); 9 Sep 2012 12:38:48 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m2.grp.sp2.yahoo.com with QMQP; 9 Sep 2012 12:38:48 -0000\r\nX-Received: from unknown (HELO ng4-ip2.bullet.mail.bf1.yahoo.com) (98.139.165.18)\n  by mta3.grp.sp2.yahoo.com with SMTP; 9 Sep 2012 12:38:48 -0000\r\nX-Received: from [98.139.164.123] by ng4.bullet.mail.bf1.yahoo.com with NNFMP; 09 Sep 2012 12:38:47 -0000\r\nX-Received: from [98.137.34.119] by tg4.bullet.mail.bf1.yahoo.com with NNFMP; 09 Sep 2012 12:38:47 -0000\r\nDate: Sun, 09 Sep 2012 12:38:47 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;k2i2kn+bvrk@...&gt;\r\nIn-Reply-To: &lt;CAOphgJDT=ATh8zuD-V-=oRV35pUFp8wGiW9nBXoNe3jNqa6q2w@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;hkaipe&quot; &lt;hkaipe@...&gt;\r\nSubject: Re: Tests starting before Logback initialisation complete when run in parallel\r\nX-Yahoo-Group-Post: member; u=478409128; y=8QkGpKP5-uxnIpo0ERUvUJ9Xoq7veHZdpU-9wR1WMyVhR_-0d5bOIvHasA\r\nX-Yahoo-Profile: hkaipe\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 09 Sep 2012 13:27:25 -0000\r\n\r\n--- In junit@yahoogroups.com, C=C3=A9dric Beust =E2=99&quot; &lt;cedric@...&gt; wrote:=\r\n\n&gt;\n&gt; On Thu, Sep 6, 2012 at 10:38 AM, hkaipe &lt;hkaipe@...&gt; wrote:\n&gt; \n&gt; &gt; Sur=\r\nefire is your tool to organize which tests to run when and how.\n&gt; \n&gt; \n&gt; Rig=\r\nht, which is why I think a @BeforeSuite annotation belongs to the\n&gt; testing=\r\n framework, not the build tool. How would your build tool create a\n&gt; connec=\r\ntion pool or an executor for your tests to use?\n&gt; \n&gt; -- \n&gt; C=E9dric\n\nI can =\r\nsee value in a @BeforeSuite-annotation but in general I think test-suites s=\r\nhould be administered by the build-tool. - In this case SureFire, which per=\r\nhaps should support some suite/category-solution that can be applied to man=\r\ny test-frameworks, not only JUnit.\n\nBut Brett&#39;s particular problem is not l=\r\nimited to a test-suite or testing framework. It goes beyond testing. - He c=\r\nan accidently encounter it whenever he starts up a multi-threaded JVM, ther=\r\newith making JVM-startup his problem domain. Therefore I think that using a=\r\n javaagent would be a good pattern and - yes - my build tool can do that ..=\r\n. - In the Surefire-configuration you specify an &quot;argLine&quot; for the JVM:\n\n&lt;p=\r\nlugin&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;configuration&gt;\n&lt;argL=\r\nine&gt; -javaagent:${localRepository}/path/to/myagent/1.0-SNAPSHOT/myagent-1.0=\r\n-SNAPSHOT.jar &lt;/argLine&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n\nIn the &quot;Premain-Class&quot;=\r\n of &quot;myagent&quot; we can define JVM-wide setup and/or tearDown - e.g.\n\npublic c=\r\nlass GlobalTearDown extends Thread\n{\npublic static void premain(String args=\r\n)\n{\nSystem.out.println(&quot;HELLO FROM premain&quot;);\nRuntime.getRuntime().addShutd=\r\nownHook(new GlobalTearDown());\n}\n\npublic void run()\n{\nSystem.out.println(&quot;T=\r\nEAR-DOWN EXECUTES HERE&quot;);\n}\n}\n\nOutput from Maven/Surefire when &quot;GlobalTearD=\r\nown&quot; is used as &quot;Premain-Class&quot;:\n------------------------------------------=\r\n---------------------------\n[surefire:test]\nSurefire report directory: /hom=\r\ne/me/projects/experiments/target/surefire-reports\nHELLO FROM premain\n\n-----=\r\n--------------------------------------------------\n T E S T S\n-------------=\r\n------------------------------------------\nRunning org.callbackparams.exper=\r\niments.DummyTest\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time ela=\r\npsed: 0.029 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: =\r\n0\n\nTEAR-DOWN EXECUTES HERE\n------------------------------------------------=\r\n---------------------\n\nI don&#39;t know how the &quot;Premain-Class&quot; should look to =\r\nsolve Brett&#39;s problem but I&#39;m quite sure the problem can be elegantly solve=\r\nd with this pattern. - And his solution can perhaps be easily reused in oth=\r\ner projects as well as outside of the testing activities.\n\n/Henrik\n\n\n\n", 
    "profile": "hkaipe", 
    "topicId": 23967, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 478409128, 
    "prevInTime": 23991, 
    "contentTrasformed": false, 
    "postDate": "1347194327", 
    "canDelete": false, 
    "nextInTopic": 23995, 
    "prevInTopic": 23990, 
    "headers": {
        "inReplyToHeader": "PENBT3BoZ0pEVD1BVGg4enVELVYtPW9SVjM1cFVGcDh3R2lXOW5CWG9OZTNqTnFhNnEyd0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGsyaTJrbitidnJrQGVHcm91cHMuY29tPg=="
    }
}