{
    "topicId": 2042, 
    "postDate": "995820539", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Erik Meade&quot; &lt;emeade@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "OoN10cw1gZOzLGtyObQtzYs_1jP3xK6-fk6ST4sUHt4J_LaDa3w2QUlmH_okiGGOiyIenAj3tzkGx7-AxrD0kwQl5GjRvDah7Q", 
    "nextInTime": 2045, 
    "userId": 0, 
    "prevInTime": 2043, 
    "prevInTopic": 2042, 
    "headers": {
        "inReplyToHeader": "PDUuMS4wLjE0LjAuMjAwMTA3MjExMTIxMjYuMDBhZTI1YThAbWFpbC5tbmguY29tPg==", 
        "messageIdInHeader": "PERDRUZKTUxNR09QREtPR0VMSE5ERUVIT0NHQUEuZW1lYWRlQGdlZWtmYXJtLm9yZz4="
    }, 
    "authorName": "Erik Meade", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "Frank, Can you write up a TestCase illustrating this? -- Erik Meade             emeade@objectmentor.com Senior Consultant      Object Mentor, Inc. ", 
    "contentTrasformed": false, 
    "msgId": 2044, 
    "nextInTopic": 2048, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;emeade@...&gt;\r\nX-Sender: emeade@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 22 Jul 2001 14:45:17 -0000\r\nReceived: (qmail 5584 invoked from network); 22 Jul 2001 14:45:17 -0000\r\nReceived: from unknown (10.1.10.26) by l8.egroups.com with QMQP; 22 Jul 2001 14:45:17 -0000\r\nReceived: from unknown (HELO mtiwmhc22.worldnet.att.net) (204.127.131.47) by mta1 with SMTP; 22 Jul 2001 14:45:17 -0000\r\nReceived: from buji ([12.84.5.196]) by mtiwmhc22.worldnet.att.net (InterMail vM.4.01.03.16 201-229-121-116-20010115) with SMTP id &lt;20010722144515.HWWY13460.mtiwmhc22.worldnet.att.net@buji&gt; for &lt;junit@yahoogroups.com&gt;; Sun, 22 Jul 2001 14:45:15 +0000\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Re: Junit manipulating exceptions\r\nDate: Sun, 22 Jul 2001 09:48:59 -0700\r\nMessage-ID: &lt;DCEFJMLMGOPDKOGELHNDEEHOCGAA.emeade@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3 (Normal)\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)\r\nIn-Reply-To: &lt;5.1.0.14.0.20010721112126.00ae25a8@...&gt;\r\nImportance: Normal\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000\r\nFrom: &quot;Erik Meade&quot; &lt;emeade@...&gt;\r\n\r\nFrank,\n\nCan you write up a TestCase illustrating this?\n\n--\nErik Meade             emeade@...\nSenior Consultant      Object Mentor, Inc.\nhttp://www.junit.org\n\n\n&gt; -----Original Message-----\n&gt; From: Frank Enos [mailto:fenos@...]\n&gt; Sent: Saturday, July 21, 2001 8:39 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Re: Junit manipulating exceptions\n&gt;\n&gt;\n&gt; Hi Jason. Thanks for responding.\n&gt;\n&gt; It&#39;s definitely not reaching the catch block. The assertions aren&#39;t being\n&gt; checked, and even adding a System.out.println(&quot;help me&quot;) or what\n&gt; have you,\n&gt; or a System.exit(); to the catch block has no effect. For some reason the\n&gt; catch block is not catching the SQLException, even though if I catch the\n&gt; superclass Exception (as in my example testBadWrite2()), e.getClass()\n&gt; returns the expected java.sql.SQLException. One of my initial\n&gt; thoughts was\n&gt; that perhaps the Exception was being held somewhere in a Collection when\n&gt; the test methods are executed (there&#39;s a lot of reflection going on, and\n&gt; I&#39;m not sure I know exactly what&#39;s happening) and implicitly upcast to\n&gt; Exception, but the attempt to cast the caught Exception to SQLException\n&gt; throws a ClassCastException. I&#39;m mystified.\n&gt;\n&gt; BTW, toString(), when called on a subclass of Throwable returns the\n&gt; concatenation of : the full name of the class, &quot;: &quot;, and the result of\n&gt; getMessage(). If the Throwable was created without a message, it simply\n&gt; returns  the name of the class.\n&gt;\n&gt; Take care.\n&gt; Frank\n&gt; &gt;________________________________________________________________________\n&gt; &gt;\n&gt; &gt;Message: 9\n&gt; &gt;    Date: Fri, 20 Jul 2001 16:24:45 -0400\n&gt; &gt;    From: &quot;Jason Rogers&quot; &lt;jason.rogers@...&gt;\n&gt; &gt;Subject: RE: Junit manipulating exceptions?\n&gt; &gt;\n&gt; &gt;Frank,\n&gt; &gt;\n&gt; &gt;Are you sure that it isn&#39;t getting into the catch block?  Also, I didn&#39;t\n&gt; &gt;know that e.toString() returned the same thing as\n&gt; e.getMessage().  Is that\n&gt; &gt;so?\n&gt; &gt;\n&gt; &gt;-Jason\n&gt; &gt;\n&gt; &gt;     &gt; -----Original Message-----\n&gt; &gt;     &gt; From: Frank Enos [mailto:fenos@...]\n&gt; &gt;     &gt; Sent: Friday, July 20, 2001 3:13 PM\n&gt; &gt;     &gt; To: junit@yahoogroups.com\n&gt; &gt;     &gt; Subject: [junit] Junit manipulating exceptions?\n&gt; &gt;     &gt;\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; I&#39;ve provided coded examples below. My basic question is\n&gt; &gt;     &gt; this: Does Junit\n&gt; &gt;     &gt; (3.7) manipulate exceptions in some way that would\n&gt; &gt;     &gt; prevent an exception\n&gt; &gt;     &gt; from being caught in a normal try/catch block? The\n&gt; &gt;     &gt; behavior I&#39;m seeing is\n&gt; &gt;     &gt; that if I attempt to catch the specific exception thrown\n&gt; &gt;     &gt; by a method (e.g.\n&gt; &gt;     &gt; catch (java.sql.SQLException e), the catch block fails to\n&gt; &gt;     &gt; catch it and\n&gt; &gt;     &gt; Junit logs it as an error. If I use catch (Exception e),\n&gt; &gt;     &gt; the exception is\n&gt; &gt;     &gt; caught as I would expect. I find that I can call\n&gt; &gt;     &gt; getClass() on the caught\n&gt; &gt;     &gt; Exception and that it returns the expected SQLException,\n&gt; &gt;     &gt; whereas using\n&gt; &gt;     &gt; instanceof fails.\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; Examples (behaves the same using other methods throwing\n&gt; &gt;     &gt; other exception types)\n&gt; &gt;     &gt; methods are from:\n&gt; &gt;     &gt; public class PersistenceTest extends TestCase {...}\n&gt; &gt;     &gt;\n&gt; &gt;     &gt;    public static void main(String[] args) {\n&gt; &gt;     &gt;   try {\n&gt; &gt;     &gt;        PersistenceManager.singleton().write(&quot;insert into\n&gt; &gt;     &gt; noSuchTable\n&gt; &gt;     &gt; values(&#39;junk&#39;)&quot;);\n&gt; &gt;     &gt;     System.out.println(&quot;No exception writing to\n&gt; &gt;     &gt; non-existent table&quot;);\n&gt; &gt;     &gt;   } catch (SQLException e) {\n&gt; &gt;     &gt;     System.out.println(e.getClass().toString());\n&gt; &gt;     &gt;   }\n&gt; &gt;     &gt;    }\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; If I simply invoke this main()  method which I have added\n&gt; &gt;     &gt; to the test\n&gt; &gt;     &gt; class, it behaves as expected, printing the expected name\n&gt; &gt;     &gt; of the class and\n&gt; &gt;     &gt; exiting normally.\n&gt; &gt;     &gt;\n&gt; &gt;     &gt;    public void testBadWrite() {\n&gt; &gt;     &gt;   try {\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; PersistenceManager.singleton().write(&quot;insert into noSuchTable\n&gt; &gt;     &gt; values(&#39;hey&#39;)&quot;);\n&gt; &gt;     &gt;           fail(&quot;No exception writing to non-existent table&quot;);\n&gt; &gt;     &gt;   } catch (SQLException e) {\n&gt; &gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);\n&gt; &gt;     &gt;   }\n&gt; &gt;     &gt;    }\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; This test method fails to catch the SQLException, passing\n&gt; &gt;     &gt; it upwards and\n&gt; &gt;     &gt; logging an error.\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; The following test passes, however:\n&gt; &gt;     &gt;\n&gt; &gt;     &gt;    public void testBadWrite2() {\n&gt; &gt;     &gt;   try {\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; PersistenceManager.singleton().write(&quot;insert into noSuchTable\n&gt; &gt;     &gt; values(&#39;hey&#39;)&quot;);\n&gt; &gt;     &gt;           fail(&quot;No exception writing to non-existent table&quot;);\n&gt; &gt;     &gt;   } catch (Exception e) {\n&gt; &gt;     &gt;     assertEquals(&quot;java.sql.SQLException&quot;, e.getClass().getName())\n&gt; &gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);\n&gt; &gt;     &gt;   }\n&gt; &gt;     &gt;    }\n&gt; &gt;     &gt;\n&gt; &gt;     &gt; What am I missing?\n&gt; &gt;     &gt; Thanks,\n&gt; &gt;     &gt; Frank\n&gt; &gt;     &gt;\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n\n\n", 
    "subject": "RE: [junit] Re: Junit manipulating exceptions"
}