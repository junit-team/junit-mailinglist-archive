{
    "numMessagesInTopic": 7, 
    "nextInTime": 6878, 
    "senderId": "4d5Ken1KUhCtIu4Z7dFTUz153C86qs2Stx27kdWJXxp2LEM0ktve1Qy16gPNSUWaqOCvsUyG5AOn7peSd1Baei9ko7gxedLnu6L83x62F_SSVmjY", 
    "systemMessage": false, 
    "subject": "RE: [junit] Dynamically generating test methods?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "One method or thread is trying to change a collection while another method or thread is trying to iterate over it. That s my guess. So said  David Goudreau  on", 
    "msgId": 6877, 
    "profile": "nails762", 
    "topicId": 6867, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 89240252, 
    "messageBody": "<div id=\"ygrps-yiv-370003498\">One method or thread is trying to change a collection while another<br/>\nmethod or thread is trying to iterate over it. That&#39;s my guess.<br/>\n<br/>\nSo said  David Goudreau  on  2003-02-04 --------------------<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Ok, I&#39;ve tried your approach.  Now I&#39;m getting a<br/>\n&gt;ConcurrentModificationException when I run my test.<br/>\n&gt;<br/>\n&gt;My suite() method is as follows:<br/>\n&gt;<br/>\n&gt;    public static Test suite() {<br/>\n&gt;        String request = null;<br/>\n&gt;        String control = null;<br/>\n&gt;        org.jdom.Element file = null;<br/>\n&gt;        String expr = null;<br/>\n&gt;        Iterator xpaths = null;<br/>\n&gt;        Vector nodelistExpressions = new Vector();<br/>\n&gt;        Vector valueExpressions = new Vector();<br/>\n&gt;<br/>\n&gt;        TestSuite suite = new TestSuite();<br/>\n&gt;        readTestScript();<br/>\n&gt;        while (files.hasNext()) {<br/>\n&gt;            file = (org.jdom.Element) files.next();<br/>\n&gt;            request = loadRequestFile(file);<br/>\n&gt;            control = loadControlFile(file);<br/>\n&gt;<br/>\n&gt;            xpaths = file.getChildren().iterator();<br/>\n&gt;            while (xpaths.hasNext()) {<br/>\n&gt;\t\t // build 2 vectors depending on the xpath expression<br/>\n&gt;            }<br/>\n&gt;            suite.addTest(new<br/>\n&gt;TestXmlBatchMaintenance(&quot;testXpathXmlSubmission&quot;,<br/>\n&gt;                                                      request,<br/>\n&gt;                                                      control,<br/>\n&gt;                                                      requestHandler,<br/>\n&gt; <br/>\n&gt;nodelistExpressions.iterator(),<br/>\n&gt; <br/>\n&gt;valueExpressions.iterator()));<br/>\n&gt;<br/>\n&gt;        }<br/>\n&gt;        return suite;<br/>\n&gt;<br/>\n&gt;The &quot;testXpathXmlSubmission&quot; is the name of the method in the TestCase<br/>\n </span></blockquote>that<br/>\n<blockquote><span title=\"ireply\"> &gt;actually runs the test.  It looks like this:<br/>\n&gt;<br/>\n&gt;    public void testXpathXmlSubmission() {<br/>\n&gt;        String result = null;<br/>\n&gt;        String expr = null;<br/>\n&gt;        try {<br/>\n&gt;            //Submit request file to application<br/>\n&gt;            result = submitQxml(request);<br/>\n&gt;<br/>\n&gt;            while (nodelistExpressions.hasNext()) {<br/>\n&gt;                expr = (String) nodelistExpressions.next();<br/>\n&gt;//ConcurrentModificationException pops up here<br/>\n&gt;                assertXpathsEqual(expr, control, expr, result);<br/>\n&gt;            }<br/>\n&gt;            while (valueExpressions.hasNext()) {<br/>\n&gt;                expr = (String) valueExpressions.next();<br/>\n&gt;                assertXpathValuesEqual(expr, control, expr, result);<br/>\n&gt;            }<br/>\n&gt;        } catch (Exception e) {<br/>\n&gt;            e.printStackTrace();<br/>\n&gt;        }<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;Thanks for the help!<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;-dmg<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;-----Original Message-----<br/>\n&gt;From: J. B. Rainsberger [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbr@...\">jbr@...</a>]<br/>\n&gt;Sent: Tuesday, February 04, 2003 3:27 PM<br/>\n&gt;To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt;Subject: Re: [junit] Dynamically generating test methods?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;The JUnit framework is not treating your tests as a single test; you<br/>\n&gt;are. :) Just code your TestSuite to add a TestCase instance for each<br/>\n&gt;&lt;file&gt; element.<br/>\n&gt;<br/>\n&gt;suite() {<br/>\n&gt;    suite = new TestSuite();<br/>\n&gt;    dom = makeDomFrom(&quot;xml_testing.xml&quot;);<br/>\n&gt;    fileNodes = dom.getNodeList(... &quot;/file&quot;);<br/>\n&gt;    for each node in fileNodes {<br/>\n&gt;        suite.addTest(new MyTestCase(new File(node.getFileName()),<br/>\n&gt;node.getExpectedXpathExpressions()))<br/>\n&gt;    }<br/>\n&gt;    return suite;<br/>\n&gt;}<br/>\n&gt;<br/>\n&gt;Add constructor:<br/>\n&gt;<br/>\n&gt;TestCase(file, xpathExpressions) {<br/>\n&gt;    super(file.getName());<br/>\n&gt;    set expected xpath expressions<br/>\n&gt;}<br/>\n&gt;<br/>\n&gt;That ought to do it.<br/>\n&gt;<br/>\n&gt;Remember folks: you can add constructors! :)<br/>\n&gt;<br/>\n&gt;Good luck.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;So said  David Goudreau  on  2003-02-04 --------------------<br/>\n&gt;<br/>\n&gt;&gt;I&#39;m creating a framework to test XML responses to our system.  Right<br/>\n&gt;now I<br/>\n&gt;&gt;have a properties file that contains 1) every file request I want to<br/>\n&gt;send<br/>\n&gt;&gt;to<br/>\n&gt;&gt;our system and 2) the xpath expressions I want to run on the XML<br/>\n&gt;response,<br/>\n&gt;&gt;to make sure it&#39;s correct.  The properties file looks like this:<br/>\n&gt;&gt;<br/>\n&gt;&gt;&lt;xml_testing controldir=&quot;controlxml&quot; requestdir=&quot;requestxml&quot;&gt;<br/>\n&gt;&gt;   &lt;file name=&quot;test1.xml&quot;&gt;<br/>\n&gt;&gt;      &lt;xpath expression=&quot;//FUNCTION/RESPONSE_DATA&quot;/&gt;<br/>\n&gt;&gt;      &lt;xpath expression=&quot;//USER&quot;/&gt;<br/>\n&gt;&gt;   &lt;/file&gt;<br/>\n&gt;&gt;   &lt;file name=&quot;test2.xml&quot;&gt;<br/>\n&gt;&gt;      &lt;xpath expression=&quot;//HEADER/IP_ADDRESS&quot;/&gt;<br/>\n&gt;&gt;   &lt;/file&gt;<br/>\n&gt;&gt;   &lt;file name=&quot;test3.xml&quot;&gt;<br/>\n&gt;&gt;      &lt;xpath expression=&quot;//USER/NAME&quot;/&gt;<br/>\n&gt;&gt;      &lt;xpath expression=&quot;//USER/ADDRESS&quot;/&gt;<br/>\n&gt;&gt;   &lt;/file&gt;<br/>\n&gt;&gt;&lt;/xml_testing&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;The problem I&#39;m having is that I want each &lt;file&gt; to run as a<br/>\n </span></blockquote>separate<br/>\n<blockquote><span title=\"ireply\"> &gt;test<br/>\n&gt;&gt;in the JUnit framework.  Right now, even if I have 100 files that I<br/>\n&gt;want to<br/>\n&gt;&gt;test in my properties file, the JUnit framework treats it all as one<br/>\n&gt;test.<br/>\n&gt;&gt;I don&#39;t want test #4 to fail and then prevent the other 96 tests from<br/>\n&gt;&gt;running, which is what&#39;s happening now.  Any ideas?  Thanks.<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;=======================<br/>\n&gt;&gt;David Goudreau<br/>\n&gt;&gt;Senior QA Automation Engineer<br/>\n&gt;&gt;QRS Corporation<br/>\n&gt;&gt;1400 Marina Way South<br/>\n&gt;&gt;Richmond, CA 94804 USA<br/>\n&gt;&gt;t: 510-965-4742<br/>\n&gt;&gt;f: 510-621-4742<br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:DGoudreau@...\">DGoudreau@...</a><br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.qrs.com\">http://www.qrs.com</a><br/>\n&gt;&gt;=======================<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;------------------------ Yahoo! Groups Sponsor<br/>\n&gt;---------------------~--&gt;<br/>\n&gt;&gt;Get 128 Bit SSL Encryption!<br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/LIgTpC/vN2EAA/xGHJAA/5cFolB/TM\">http://us.click.yahoo.com/LIgTpC/vN2EAA/xGHJAA/5cFolB/TM</a><br/>\n&gt;&gt;---------------------------------------------------------------------~<br/>\n </span></blockquote>-<br/>\n<blockquote><span title=\"ireply\"> &gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;&gt; <br/>\n&gt;&gt;<br/>\n&gt;&gt;Your use of Yahoo! Groups is subject to<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt;J. B. Rainsberger,<br/>\n&gt;President, Diaspar Software Services<br/>\n&gt;Let&#39;s write software that people understand.<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\n&gt;telephone: +1 416 791-8603<br/>\n&gt;All correspondence (c) 2002 Diaspar Software Services.<br/>\n&gt;If you want to use it, just ask; don&#39;t steal.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt;Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service. <br/>\n&gt;<br/>\n&gt;<br/>\n&gt;------------------------ Yahoo! Groups Sponsor<br/>\n </span></blockquote>---------------------~--&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt;Get 128 Bit SSL Encryption!<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://us.click.yahoo.com/LIgTpC/vN2EAA/xGHJAA/5cFolB/TM\">http://us.click.yahoo.com/LIgTpC/vN2EAA/xGHJAA/5cFolB/TM</a><br/>\n&gt;---------------------------------------------------------------------~-<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; <br/>\n&gt;<br/>\n&gt;Your use of Yahoo! Groups is subject to<br/>\n </span></blockquote><a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n<br/>\n<br/>\nJ. B. Rainsberger,<br/>\nPresident, Diaspar Software Services<br/>\nLet&#39;s write software that people understand.<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\ntelephone: +1 416 791-8603<br/>\nAll correspondence (c) 2002 Diaspar Software Services.<br/>\nIf you want to use it, just ask; don&#39;t steal.</div>", 
    "prevInTime": 6876, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1044420186", 
    "canDelete": false, 
    "nextInTopic": 6878, 
    "prevInTopic": 6876, 
    "headers": {
        "inReplyToHeader": "PDBENzQ0Nzc1ODU4QUQ0MTFBRjU0MDA1MDhCQUYzMUVBMDcyN0EzQURAZXhjaGFuZ2UyLnFycy5jb20+", 
        "messageIdInHeader": "PDIwMDMwMjA0MjM0MzA2MDkzMC4wMjYwQkExREBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDBENzQ0Nzc1ODU4QUQ0MTFBRjU0MDA1MDhCQUYzMUVBMDcyN0EzQURAZXhjaGFuZ2UyLnFycy5jb20+"
    }
}