{
    "numMessagesInTopic": 9, 
    "nextInTime": 7321, 
    "senderId": "ssEulCxqHIkpOyBZdv3GioXQGR7i_DGrbhhl1EeqWTQ09O0skFPV3bzpGQlxOzE5g-R1vQRAnQcjwSH39XN32OJPSnoYLXIvRmqkxQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] ThreadLocal", 
    "from": "David Corbin &lt;dcorbin@...&gt;", 
    "authorName": "David Corbin", 
    "msgSnippet": "... There s no doubt about that.  It s a question of how to solve the smell. ...  ... Well, as near as I can tell there are 4 choices on how something is", 
    "msgId": 7320, 
    "rawEmail": "Return-Path: &lt;dcorbin@...&gt;\r\nX-Sender: dcorbin@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_5); 24 Mar 2003 13:09:56 -0000\r\nReceived: (qmail 73277 invoked from network); 24 Mar 2003 13:09:55 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m9.grp.scd.yahoo.com with QMQP; 24 Mar 2003 13:09:55 -0000\r\nReceived: from unknown (HELO imf50bis.bellsouth.net) (205.152.58.98)\n  by mta2.grp.scd.yahoo.com with SMTP; 24 Mar 2003 13:09:58 -0000\r\nReceived: from picolo.corbin.machturtle.com ([67.33.167.243])\n          by imf50bis.bellsouth.net\n          (InterMail vM.5.01.04.25 201-253-122-122-125-20020815) with ESMTP\n          id &lt;20030324131202.SQLO12230.imf50bis.bellsouth.net@...&gt;\n          for &lt;junit@yahoogroups.com&gt;; Mon, 24 Mar 2003 08:12:02 -0500\r\nReceived: from picolo.corbin.machturtle.com\n\t([192.168.26.3] helo=machturtle.com ident=dcorbin)\n\tby picolo.corbin.machturtle.com with esmtp (Exim 3.36 #1 (Debian))\n\tid 18xRi9-00038W-00\n\tfor &lt;junit@yahoogroups.com&gt;; Mon, 24 Mar 2003 08:09:57 -0500\r\nMessage-ID: &lt;3E7F03A4.30401@...&gt;\r\nDate: Mon, 24 Mar 2003 08:09:56 -0500\r\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4a) Gecko/20030305\r\nX-Accept-Language: en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] ThreadLocal\r\nReferences: &lt;3E7E09B2.8010505@...&gt; &lt;20030324031214.95DEB1B6E6@...&gt;\r\nIn-Reply-To: &lt;20030324031214.95DEB1B6E6@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nFrom: David Corbin &lt;dcorbin@...&gt;\r\nX-Yahoo-Group-Post: member; u=35064267\r\nX-Yahoo-Profile: david_corbin\r\n\r\nJason Rogers wrote:\n\n&gt;On Sun, 23 Mar 2003 14:23:30 -0500, &quot;David Corbin&quot;\n&gt;&lt;dcorbin@...&gt; said:\n&gt;  \n&gt;\n&gt;&gt;   I&#39;m getting tired of having to pass some objects through 6-8 methods,\n&gt;&gt;   and it&#39;s making method signatures very ugly.\n&gt;&gt;   The question is, what do folks think about using ThreadLocal to create\n&gt;&gt;   &quot;per   request  singleton-like&quot;  objects.   By  using  a  common  base\n&gt;&gt;   TestCase,\n&gt;&gt;   I could set up the TLS easily enough without overburdening the unit\n&gt;&gt;   tests, I think.\n&gt;&gt;   David\n&gt;&gt;    \n&gt;&gt;\n&gt;\n&gt;I think was you are sensing is a &quot;code smell.&quot; \n&gt;\nThere&#39;s no doubt about that.  It&#39;s a question of how to solve the smell.\n\n&gt; I don&#39;t have an opinion\n&gt;about the TLS you mentioned but I would suggest using this &quot;pain&quot; to\n&gt;force yourself to refactor some more.  For instance, you could use\n&gt;Factories, Delegators|Facades, or Proxies instead polluting your API with\n&gt;unneeded args.\n&gt;  \n&gt;\n&lt;snip&gt;\n\n&gt;In some cases, that may be the thing to do, in\n&gt;others however it makes more sense for the object you are testing to have\n&gt;those things implicitly available -- your situation sounds a lot like the\n&gt;latter.\n&gt;  \n&gt;\nWell, as near as I can tell there are 4 choices on how something is made \navailable:\n\n1) at construction\n2) as an argument\n3) as a global/singleton\n4) as ThreadLocal (similar to #3, but more flexible, certainly in the \nweb environment)\n\n#2 is what I&#39;ve been doing, and has created the smell\n#1 generally doesn&#39;t work well, because the &quot;something&quot; may not be very \ntightly bound to the object being constucted.\nThat leaves #3 and #4.  I have a long-standing global-phobia.  Perhaps \nit&#39;s too strong. #4 of course, isn&#39;t that differrent from #3 ( think of \nthem as semi-global).\n\nHave a missed a choice?\n\nDavid.\n\n\n\n\n\n", 
    "profile": "david_corbin", 
    "topicId": 7316, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 35064267, 
    "prevInTime": 7319, 
    "contentTrasformed": false, 
    "postDate": "1048511396", 
    "canDelete": false, 
    "nextInTopic": 7326, 
    "prevInTopic": 7317, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwMzI0MDMxMjE0Ljk1REVCMUI2RTZAd3d3LmZhc3RtYWlsLmZtPg==", 
        "messageIdInHeader": "PDNFN0YwM0E0LjMwNDAxQG1hY2h0dXJ0bGUuY29tPg==", 
        "referencesHeader": "PDNFN0UwOUIyLjgwMTA1MDVAbWFjaHR1cnRsZS5jb20+IDwyMDAzMDMyNDAzMTIxNC45NURFQjFCNkU2QHd3dy5mYXN0bWFpbC5mbT4="
    }
}