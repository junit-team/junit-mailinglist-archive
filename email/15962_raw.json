{
    "numMessagesInTopic": 74, 
    "nextInTime": 15963, 
    "senderId": "hiq3xHw4QQ3Fesynapu4LUqhmEH01MefPkNzLS8NXdUgIJjqLW54V6ftJs-6ibfSgCR_khG3l48yO8zK8iUHd4nA-mQDJO9_RPeqWg", 
    "systemMessage": false, 
    "subject": "Re: Observations from a production use of JUnit4", 
    "from": "&quot;Ben Maurer&quot; &lt;bmaurer@...&gt;", 
    "authorName": "Ben Maurer", 
    "msgSnippet": "... Exception ... test ... Yes, I think this does. ... I *think* this captures the meaning of what I want. I ve got quite a few other tasks tonight, so I m", 
    "msgId": 15962, 
    "rawEmail": "Return-Path: &lt;bmaurer@...&gt;\r\nX-Sender: bmaurer@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 8299 invoked from network); 4 Feb 2006 01:11:49 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m34.grp.scd.yahoo.com with QMQP; 4 Feb 2006 01:11:48 -0000\r\nReceived: from unknown (HELO n3a.bullet.scd.yahoo.com) (66.94.237.37)\n  by mta4.grp.scd.yahoo.com with SMTP; 4 Feb 2006 01:11:47 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.6] by n3.bullet.scd.yahoo.com with NNFMP; 04 Feb 2006 01:11:45 -0000\r\nReceived: from [66.218.66.77] by t6.bullet.scd.yahoo.com with NNFMP; 04 Feb 2006 01:11:45 -0000\r\nDate: Sat, 04 Feb 2006 01:11:44 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;ds0v0g+3gca@...&gt;\r\nIn-Reply-To: &lt;E1F4u5o-0000yx-RQ@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Ben Maurer&quot; &lt;bmaurer@...&gt;\r\nSubject: Re: Observations from a production use of JUnit4\r\nX-Yahoo-Group-Post: member; u=256083789; y=KqqzcN89XggtyNUK5_McuyGJNMixG6ZV_EQsWIibYuyIetApNZmvHl0whSWyDg\r\nX-Yahoo-Profile: benjamindavidmaurer\r\n\r\n--- In junit@yahoogroups.com, &quot;Kent Beck&quot; &lt;kentb@...&gt; wrote:\n\n&gt; Does the fo=\r\nllowing test capture what you mean? In other words, an\nException\n&gt; is throw=\r\nn in JUnit the cause of which is the exception thrown by the\ntest\n&gt; case. O=\r\nnce again, UIs can format this however they want to.\n&gt; \n&gt; \tpublic static cl=\r\nass Unexpected {\n&gt; \t\t@Test(expected=3D Exception.class) public void expecte=\r\nd()\n&gt; throws Exception {\n&gt; \t\t\tthrow new Error();\n&gt; \t\t}\n&gt; \t}\n&gt; \t@Test public=\r\n void unexpected() {\n&gt; \t\tResult result=3D JUnitCore.runClasses(Unexpected.c=\r\nlass);\n&gt; \t\tFailure failure=3D result.getFailures().get(0);\n&gt; \t\tString messa=\r\nge=3D failure.getMessage();\n&gt; \t\tassertTrue(message.contains(&quot;expected&lt;java.=\r\nlang.Exception&gt;\n&gt; but was&lt;java.lang.Error&gt;&quot;));\n&gt; \t\tassertEquals(Error.class=\r\n,\n&gt; failure.getException().getCause().getClass());\n&gt; \t}\n\nYes, I think this =\r\ndoes.\n\n&gt; &gt; \n&gt; &gt; Thanks. This also comes up with timeouts. It&#39;d be really co=\r\nol to have\n&gt; &gt; a stacktrace from where the thread was hung.\n&gt; \n&gt; Can you tu=\r\nrn this into a test case? That would help me with the\n&gt; implementation.\n\nI =\r\n*think* this captures the meaning of what I want. I&#39;ve got quite a\nfew othe=\r\nr tasks tonight, so I&#39;m just writing this off the top of my head:\n\n\t static=\r\n public class InfiniteLoopTest {\n\n                 private void dumb3141(){=\r\n for (;;); }\n\t\t @Test(timeout=3D 100) public void failure() {\n\t\t\t dumb3141 =\r\n();\n\t\t }\n\t }\n\n\t @Test public void infiniteLoop() throws Exception {\n\t\t JUni=\r\ntCore core=3D new JUnitCore();\n\t\t Result result=3D core.run(InfiniteLoopTes=\r\nt.class);\n\t\t assertEquals(1, result.getRunCount());\n\t\t assertEquals(1, resu=\r\nlt.getFailureCount());\n\t\t Throwable exception=3D\nresult.getFailures().get(0=\r\n).getException();\n\t\t System.out.println(exception.getMessage());\n\t\t assertT=\r\nrue(exception.toString().contains(&quot;dumb3141&quot;));\n\t }\n\nThe way you could impl=\r\nement this is to call Thread.stop (new\nTimeoutException (&quot;test failed after=\r\n XXXXX ms&quot;)). This exception would\nbe be caught by the wrapper and displaye=\r\nd. The stack trace should have\ndumb3141. (nb: a timeout of 100ms is sometim=\r\nes not enough. I actually\ngot false timeouts on 5 or so student submissions=\r\n out of 2000 with the\nexact same timeout).\n\n-- Ben\n\n\n\n\n", 
    "profile": "benjamindavidmaurer", 
    "topicId": 15891, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 256083789, 
    "prevInTime": 15961, 
    "contentTrasformed": false, 
    "postDate": "1139015504", 
    "canDelete": false, 
    "nextInTopic": 15963, 
    "prevInTopic": 15961, 
    "headers": {
        "inReplyToHeader": "PEUxRjR1NW8tMDAwMHl4LVJRQHNtdHBhdXRoMDcubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4=", 
        "messageIdInHeader": "PGRzMHYwZyszZ2NhQGVHcm91cHMuY29tPg=="
    }
}