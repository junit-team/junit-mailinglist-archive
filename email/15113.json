{
    "numMessagesInTopic": 55, 
    "nextInTime": 15114, 
    "senderId": "ks_kUYhp_sNKWOSWtF-gM3WLplEGA1MI-8qSLJmPto9MW7Gltbh6SbZdvZjDZW9C2Alfd9IJqKuZqbA0z4BQZANo6Wc", 
    "systemMessage": false, 
    "subject": "Re: [junit] TestNG 4 and Data Providers", 
    "from": "Eugene Kuleshov &lt;eu@...&gt;", 
    "authorName": "Eugene Kuleshov", 
    "msgSnippet": "Quite interesting that neither TestNG and JUnit4 does not take into account IDE or reporting needs. It is quite obvious that array-based parameter generator", 
    "msgId": 15113, 
    "profile": "ekuleshov", 
    "topicId": 15110, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 150395705, 
    "messageBody": "<div id=\"ygrps-yiv-730165889\">Quite interesting that neither TestNG and JUnit4 does not take into <br/>\naccount IDE or reporting needs.<br/>\n<br/>\n   It is quite obvious that array-based parameter generator will not <br/>\nscale to large test suites. So, framework should provide some way to <br/>\nsupply test data lazily.<br/>\n<br/>\n   From other hand if you think of IDE it should be possible to run <br/>\njust specific test or only selected test cases. o, it seems that there <br/>\nshould be some random-acess API, which iteterator just does not provide.<br/>\n<br/>\n   Also note that one would be interested to know how many test cases <br/>\nin the given data provider as well as a readable name for each test. <br/>\nIn a trivial case name could be a number from the bebinning and in <br/>\nless trivial, but quite popular it could be a name of the file with <br/>\ntest data or primary key in the database.<br/>\n<br/>\n   Thanks<br/>\n<br/>\n   Eugene<br/>\n<br/>\nPS: Cedric, I thouight we already discussed above points. Did you <br/>\nforgot that or my arguments wasn&#39;t very covincing?<br/>\n<br/>\n<br/>\nCédric Beust ♔ wrote:<br/>\n<blockquote><span title=\"qreply\"> &gt; Hi Elliotte,<br/>\n&gt; <br/>\n&gt; On 10/12/05, Elliotte Harold &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a>&gt; wrote:<br/>\n&gt; <br/>\n&gt;&gt;Cédric Beust ♔ wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;&gt;// This method will provide data to any test method that declares that<br/>\n&gt;&gt;<br/>\n&gt;&gt;its<br/>\n&gt;&gt;<br/>\n&gt;&gt;&gt;Data Provider<br/>\n&gt;&gt;&gt;// is named &quot;test1&quot;<br/>\n&gt;&gt;&gt;@DataProvider(name = &quot;test1&quot;)<br/>\n&gt;&gt;&gt;public Object[][] createData1() {<br/>\n&gt;&gt;&gt;return new Object[][] {<br/>\n&gt;&gt;&gt;new Object[] { &quot;Cedric&quot;, new Integer(36) },<br/>\n&gt;&gt;&gt;new Object[] { &quot;Anne&quot;, new Integer(37)},<br/>\n&gt;&gt;&gt;};<br/>\n&gt;&gt;&gt;}<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;On the plus side, this approach is really, really simple. I&#39;m having<br/>\n&gt;&gt;trouble following all the JUnit 4 parameterized discussions simply<br/>\n&gt;&gt;because I don&#39;t feel comfortable with Java 5 annotations and generics<br/>\n&gt;&gt;yet. I just haven&#39;t worked enough with these java 5 features that they<br/>\n&gt;&gt;come to me naturally. By contrast, I can read this and see exactly what<br/>\n&gt;&gt;it&#39;s doing. Good.<br/>\n&gt;&gt;<br/>\n&gt;&gt;On the minus side, I think this might be too simple. It seems to require<br/>\n&gt;&gt;all the test parameters to be initialized up front. If the parameters or<br/>\n&gt;&gt;their initialization code is large or expensive, this could be a<br/>\n&gt;&gt;problem. I would prefer the parameters to be lazily initialized before<br/>\n&gt;&gt;each test and torn down after each test. This could be done if this<br/>\n&gt;&gt;method returned an Iterator rather than a static array. Any reason it<br/>\n&gt;&gt;wasn&#39;t done this way?<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; For simplicity.<br/>\n&gt; <br/>\n&gt; But I understand the need for lazy initializations, and it&#39;s also a feature<br/>\n&gt; that has been requested for the creation of test classes themselves, which<br/>\n&gt; TestNG doesn&#39;t support either (just like JUnit, TestNG creates all the test<br/>\n&gt; classes upfront and then invoke the test methods on them, which doesn&#39;t work<br/>\n&gt; well in the cases you outlined).<br/>\n&gt; <br/>\n&gt; For that reason, I have indeed been considering an iterator factory for test<br/>\n&gt; classes as well, which I proposed a few months ago in this thread:<br/>\n&gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://forums.opensymphony.com/thread.jspa?threadID=1685&tstart=60\">http://forums.opensymphony.com/thread.jspa?threadID=1685&tstart=60</a><br/>\n&gt; <br/>\n&gt; I reproduced the proposal below so you don&#39;t have to read the entire thread.<br/>\n&gt; <br/>\n&gt; I am still thinking of implementing it at some point, along with Data<br/>\n&gt; Provider iterators, but it does require some re-design in our code base and<br/>\n&gt; the demand hasn&#39;t been too strong so far (you&#39;re not the first one to<br/>\n&gt; request it, though).<br/>\n&gt; <br/>\n&gt; --<br/>\n&gt; Cédric<br/>\n&gt; <br/>\n&gt; Okay, I think I see where you are getting at. You want continuation<br/>\n&gt; factories :-)<br/>\n&gt; <br/>\n&gt; You are correct that right now, it&#39;s a two-step process:<br/>\n&gt; <br/>\n&gt; - All the factories are invoked and create all the test instances<br/>\n&gt; - TestNG runs on all the created instances<br/>\n&gt; <br/>\n&gt; which is potentially a problem if these instances consume a lot of<br/>\n&gt; resources.<br/>\n&gt; <br/>\n&gt; Your factory iterator suggestion makes sense to me.<br/>\n&gt; <br/>\n&gt; We could have a new kind of factory that returns an iterator:<br/>\n&gt; <br/>\n&gt; @Factory<br/>\n&gt; public Iterator createTests() { ... }<br/>\n&gt; <br/>\n&gt; and TestNG would basically do the following:<br/>\n&gt; <br/>\n&gt; Iterator it = factory.createTests();<br/>\n&gt; while (it.hasNext()) {<br/>\n&gt; Object testInstance = it.next();<br/>\n&gt; invoke TestNG on this testInstance<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; Then it&#39;s up to you to make sure that your test instances are only created<br/>\n&gt; when needed.<br/>\n&gt; <br/>\n&gt; How does this sound?<br/>\n&gt; <br/>\n&gt; --<br/>\n&gt; Cédric<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://beust.com/weblog\">http://beust.com/weblog</a><br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15112, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1129130714", 
    "canDelete": false, 
    "nextInTopic": 15114, 
    "prevInTopic": 15112, 
    "headers": {
        "inReplyToHeader": "PGI4NmI2YTljMDUxMDEyMDY1M3U0MGUwY2I1ZnU0ZmNjNjdiMzM3YmY3Njc4QG1haWwuZ29vZ2xlLmNvbT4=", 
        "messageIdInHeader": "PDQzNEQyQURBLjIwNTAzQG1kLnBwLnJ1Pg==", 
        "referencesHeader": "PGI4NmI2YTljMDUxMDExMTEyN3M0ZTBmOTc2M3M0NGU0MDg5ZjY0NDdkNTI3QG1haWwuZ29vZ2xlLmNvbT4JIDw0MzREMDY4RC42MDIwNTA4QG1ldGFsYWIudW5jLmVkdT4gPGI4NmI2YTljMDUxMDEyMDY1M3U0MGUwY2I1ZnU0ZmNjNjdiMzM3YmY3Njc4QG1haWwuZ29vZ2xlLmNvbT4="
    }
}