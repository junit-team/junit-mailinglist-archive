{
    "numMessagesInTopic": 22, 
    "nextInTime": 11608, 
    "senderId": "knTdyBGifYcUFLkY8zZjAvJHdik6-K-2rMwIxlH2WV8YouZowTQB3muqMvJnJalh5a3wcPMgN9dWbfbVjToIdu1XY18EBgbrnOL9IDldkg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Using JMock, example of the after() MatchBuilder?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Yes. Since it s just a stub, it s set up simply to return your value. ... Invoke verify() at the end of the your test /and/ set the expectation to at", 
    "msgId": 11607, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 30641 invoked from network); 20 Jul 2004 17:36:33 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m21.grp.scd.yahoo.com with QMQP; 20 Jul 2004 17:36:33 -0000\r\nReceived: from unknown (HELO smtp103.rog.mail.re2.yahoo.com) (206.190.36.81)\n  by mta4.grp.scd.yahoo.com with SMTP; 20 Jul 2004 17:36:33 -0000\r\nReceived: from unknown (HELO ?192.168.1.112?) (jbrains@24.156.43.226 with plain)\n  by smtp103.rog.mail.re2.yahoo.com with SMTP; 20 Jul 2004 17:36:30 -0000\r\nMessage-ID: &lt;40FD57F6.1090800@...&gt;\r\nDate: Tue, 20 Jul 2004 13:35:50 -0400\r\nUser-Agent: Mozilla Thunderbird 0.7.2 (Windows/20040707)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;cdjkdg+o06p@...&gt;\r\nIn-Reply-To: &lt;cdjkdg+o06p@...&gt;\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Remote-IP: 206.190.36.81\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Using JMock, example of the after() MatchBuilder?\r\nX-Yahoo-Group-Post: member; u=127224993\r\nX-Yahoo-Profile: nails762\r\n\r\ncliftonccraig wrote:\n\n&gt; I am trying to learn JMock and apply it to my unit testing. I&#39;m having\n&gt; trouble setting up some of the expectations. For example, I want to\n&gt; set an expectation that a certain method be called exactly 5 times and\n&gt; set the return value for each invocation. Upon reading the docs I see\n&gt; an unclear example of how to do this with the onConsecutiveCalls()\n&gt; stub. So I&#39;ve come up with the following code on my mockController to\n&gt; expect no more than 5 calls to the same nextDataModel method. (I threw\n&gt; in the RuntimeException to stop excessive calls on what works pretty\n&gt; much like an iterator. The real object doesn&#39;t throw on excessive calls.)\n&gt; \n&gt; mockParserController.expects(atLeastOnce()).method(&quot;nextDataModel&quot;)\n&gt;                 .withNoArguments()\n&gt;                 .will(onConsecutiveCalls(\n&gt;                         returnValue(stubbedZipcodeModel),\n&gt;                         returnValue(stubbedBusnpartModel),\n&gt;                         returnValue(stubbedAddressModel),\n&gt;                         onConsecutiveCalls(\n&gt;                                 returnValue(stubbedCustomerModel),\n&gt;                                 returnValue(null),\n&gt;                                 throwException(new\n&gt; DTPRuntimeException(&quot;No more DataModels available in the stream.&quot;))\n&gt;                         )\n&gt;                 ));\n&gt; \n&gt; It looks pretty good. But what I&#39;m wondering is if this logic mandates\n&gt; the method to be called 5 times or if it just set provisions for 5\n&gt; invocations. \n\nYes. Since it&#39;s just a stub, it&#39;s set up simply to return your value.\n\n&gt; I&#39;m thinking the latter. If so then how do I force the\n&gt; mock to check for exactly 5 invocations (and throw if less than 5)?  \n\nInvoke verify() at the end of the your test /and/ set the expectation to \n&quot;at least five calls&quot; and not &quot;at least once&quot;, as you&#39;re doing now. (I \ndon&#39;t know the precise syntax.)\n\nSo change what you pass to expects(), then be sure to invoke verify() at \nthe end of the test.\n-- \nJ. B. Rainsberger,\nDiaspar Software Services\nhttp://www.diasparsoftware.com :: +1 416 791-8603\nLet&#39;s write software that people understand\n\n", 
    "profile": "nails762", 
    "topicId": 11604, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 11606, 
    "contentTrasformed": false, 
    "postDate": "1090344950", 
    "canDelete": false, 
    "nextInTopic": 11608, 
    "prevInTopic": 11604, 
    "headers": {
        "inReplyToHeader": "PGNkamtkZytvMDZwQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQwRkQ1N0Y2LjEwOTA4MDBAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGNkamtkZytvMDZwQGVHcm91cHMuY29tPg=="
    }
}