{
    "numMessagesInTopic": 31, 
    "nextInTime": 7962, 
    "senderId": "rPTfkPs3IgoeRrnMqaVH_HEpCge6YwatodoQqHmX-qXSwi3nOdOEmlCb_prAV91yfDiDcONLl-NR_rdJ4z2OLLLfUP1BFfaU", 
    "systemMessage": false, 
    "subject": "Re: question about Assert.assertEquals", 
    "from": "&quot;cyril3b2&quot; &lt;cyril@...&gt;", 
    "authorName": "cyril3b2", 
    "msgSnippet": "Dear all, Thanks a lot fort your help, I understand now why I was wrong. Thanks again, Best, Cyr.- ... code ... equals ... to ... a ... would ... its ... ", 
    "msgId": 7961, 
    "rawEmail": "Return-Path: &lt;cyril@...&gt;\r\nReceived: (qmail 60160 invoked by uid 7800); 7 May 2003 13:28:57 -0000\r\nX-Sender: cyril@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_6_6); 7 May 2003 07:51:50 -0000\r\nReceived: (qmail 5040 invoked from network); 7 May 2003 07:51:49 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m5.grp.scd.yahoo.com with QMQP; 7 May 2003 07:51:49 -0000\r\nReceived: from unknown (HELO n16.grp.scd.yahoo.com) (66.218.66.71)\n  by mta1.grp.scd.yahoo.com with SMTP; 7 May 2003 07:51:49 -0000\r\nReceived: from [66.218.67.144] by n16.grp.scd.yahoo.com with NNFMP; 07 May 2003 07:51:49 -0000\r\nDate: Wed, 07 May 2003 07:51:48 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: question about Assert.assertEquals\r\nMessage-ID: &lt;b9aduk+aaln@...&gt;\r\nIn-Reply-To: &lt;20030507000850.23658.qmail@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3521\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;cyril3b2&quot; &lt;cyril@...&gt;\r\nX-Yahoo-Group-Post: member; u=130494949\r\nX-Yahoo-Profile: cyril3b2\r\nX-eGroups-Approved-By: nails762 &lt;jbrains@...&gt; via email; 7 May 2003 13:28:57 -0000\r\n\r\nDear all,\n\nThanks a lot fort your help, I understand now why I was wrong.\nThanks again,\n\nBest,\nCyr.-\n\n-- In junit@yahoogroups.com, Kevin Klinemeier &lt;zipwow@y...&gt; wrote:\n&gt; \n&gt; --- &quot;J. B. Rainsberger&quot; &lt;jbrains@r...&gt; wrote:\n&gt; &gt; I read your conclusion to be that it is therefore all right to \ncode\n&gt; &gt; equals() in such a way as to report falsely that two objects are\n&gt; &gt; equal, because there&#39;s no way to make a superclass and subclass\n&gt; &gt; follow the equals() contract. Is that what you are saying? \n&gt; \n&gt; Well, kind of.  What I&#39;m saying is that when you&#39;re subclassing \nequals\n&gt; from anywhere but Object, you have to decide which way you want it \nto\n&gt; break.\n&gt; \n&gt; &gt; If it is,\n&gt; &gt; then I think it&#39;s all the more important to implement equals() in \na\n&gt; &gt; failsafe way, since Bloch claims (and I don&#39;t doubt him, but I \nwould\n&gt; &gt; need to think about it) that a subclass with more attributes than \nits\n&gt; &gt; superclass cannot be equal to it.\n&gt; \n&gt; I think this is the confusion... What he&#39;s said is that you cannot\n&gt; override equals without breaking either symmetry or transitivity \n(which\n&gt; is what I&#39;m interpreting you to mean when you say &#39;in a failsafe \nway&#39;).\n&gt;  \n&gt; \n&gt; You can write a subclass that reports itself equal to the \nsuperclass. \n&gt; In fact, you can&#39;t avoid it, and that&#39;s the problem.\n&gt; \n&gt; If you use the instanceof approach, then (as you point out) you&#39;re\n&gt; breaking symmetry.\n&gt; \n&gt; However, if you go with a different approach, say ignoring the added\n&gt; characteristic, you break transitivity.  Bloch&#39;s example from \nEffective\n&gt; Java has a ColoredPoint that has a new attribute color.  \nColoredPoints\n&gt; need to be different if they&#39;re different colors.  But what happens\n&gt; when they&#39;re compared to regular Points?\n&gt; \n&gt; instanceof approach (breaks symmetry)\n&gt; \n&gt; public boolean equals(Object o) {\n&gt;   if (o ! instanceof ColoredPoint) {\n&gt;      return false;\n&gt;   }...\n&gt; }\n&gt; \n&gt; I think this is the one you&#39;re warning about.  If you have a Point \nand\n&gt; a ColoredPoint of the same coordinates:\n&gt; \n&gt; point.equals(coloredPoint)  (true)\n&gt; coloredPoint.equals(point)  (false)\n&gt; \n&gt; So, how do you fix that?  Do you special-case the subclass?\n&gt; \n&gt; public boolean equals(Object o) {\n&gt;   if (o instanceof Point) {\n&gt;      //do color-blind comparison\n&gt;   }...\n&gt; }\n&gt; \n&gt; This gives you equals for both cases, but consider the following \nwith a\n&gt; red, blue, and uncolored point:\n&gt; \n&gt; bluePoint.equals(point);  (true)\n&gt; point.equals(redPoint); (true)\n&gt; bluePoint.equals(redPoint) (false)\n&gt; \n&gt; This breaks transitivity (if x=y and y=z, then x = z must be true).\n&gt; \n&gt; I guess if you change the equals clause of Point to return false for\n&gt; ColoredPoints you can solve this, but then you&#39;re polluting your\n&gt; superclass equals method with knowledge of each subclass.\n&gt; \n&gt; So, in summary, I&#39;m saying that if you subclass an equals for \nanything\n&gt; but Object, you&#39;re going to break it.  Be sure that you break it in \na\n&gt; way that you expect.  Does that make sense?\n&gt; \n&gt; Oh, Bloch recommends that in this case you &quot;favor composition over\n&gt; inheritence&quot;, and have ColoredPoint not extend Point, but pass \nthrough\n&gt; all the common methods to Point, and provide a view method called\n&gt; asPoint().  I haven&#39;t thought through the ramifications of that.\n&gt; \n&gt; Lastly, for the original poster, before J.B. reminds me of it:  be \nsure\n&gt; you override hashCode as well, or funny things will happen in your\n&gt; maps.\n&gt; \n&gt; -Kevin\n&gt; \n&gt; __________________________________\n&gt; Do you Yahoo!?\n&gt; The New Yahoo! Search - Faster. Easier. Bingo.\n&gt; http://search.yahoo.com\n\n\n", 
    "profile": "cyril3b2", 
    "topicId": 7948, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 130494949, 
    "prevInTime": 7960, 
    "contentTrasformed": false, 
    "postDate": "1052293908", 
    "canDelete": false, 
    "nextInTopic": 7962, 
    "prevInTopic": 7956, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwNTA3MDAwODUwLjIzNjU4LnFtYWlsQHdlYjgwNTEwLm1haWwueWFob28uY29tPg==", 
        "messageIdInHeader": "PGI5YWR1aythYWxuQGVHcm91cHMuY29tPg=="
    }
}