{
    "numMessagesInTopic": 4, 
    "nextInTime": 16545, 
    "senderId": "ijmpVkRgUsRbolL0N-Rcebe8dQC5f0lB05tse0KcMAhanxFTMCmDgmATGMevQakYziPX-P0lmy2lIVBTJ0CnURgFs7NCP36OVTuMOw_S5A", 
    "systemMessage": false, 
    "subject": "RE: [junit] Newbie question - Testing Applets", 
    "from": "&quot;Robert Lucente&quot; &lt;rlucente@...&gt;", 
    "authorName": "Robert Lucente", 
    "msgSnippet": "The replies are not JUnit focused. So, I apologize ahead of time. Perhaps we should have this conversation outside the JUnit mailing list ? ... I am curious,", 
    "msgId": 16544, 
    "profile": "roberto_lucente", 
    "topicId": 16540, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 202311305, 
    "messageBody": "<div id=\"ygrps-yiv-748842343\">The replies are not JUnit focused. So, I apologize ahead of time. Perhaps we<br/>\nshould have this conversation outside the JUnit mailing list ?<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;&quot;real&quot; programmers<br/>\n </span></blockquote>I am curious, how do you identify them ? :-)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Java applet, so I&#39;ve focused on finding out how to use JUnit to test them<br/>\n<br/>\n </span></blockquote>An applet really spans multiple layers of the architecture. There is the GUI<br/>\nstuff and then there is the model of the data stuff. Different testing tools<br/>\napply to different layers of the archictecture.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;sample projects to show me if I just do it the right way<br/>\n<br/>\n </span></blockquote>I offer my temperature converter. I am a beginner in Java and did a<br/>\ntemperature converter to teach myself this stuff. Take a look at<br/>\nhttp://www.ypl.com/resume/ch02s03.html and see if that helps.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;You&#39;ll never really put the applet in a JFrame<br/>\n<br/>\n </span></blockquote>You extend the JApplet class.<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns05s01.html)<br/>\n<br/>\nConsider reading up on SWING top level containers<br/>\n(http://java.sun.com/docs/books/tutorial/uiswing/components/toplevel.html)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Refactor the applet so that it&#39;s a thin shell around the content and the<br/>\n </span></blockquote>business logic<br/>\n<br/>\nIf you want to impress your friends at a party, use the buzz word Model View<br/>\nControl design pattern.<br/>\n<br/>\nFor example for my temperature converter, I did the following<br/>\n<br/>\n1) Temperature model in 1 class<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns01s01.html). Used JUnit to test this.<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns02s01.html)<br/>\n<br/>\n2) Displaying of the data placed in 1 package<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns03.html). Don&#39;t worry about strategy design pattern or any of the other<br/>\nstuff.<br/>\n<br/>\n3) Control (glue to hold view and data together) put in 1 class<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns04s01.html)<br/>\n<br/>\nThe other members of the mailing list will be able to provide guidance on<br/>\ntesting display and control.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Applets have several getters for external information<br/>\n<br/>\n </span></blockquote>Watch the security here. Applets have certain restrictions unless you ....<br/>\nWhy are you using the Applet architecture ? As another person said, why not<br/>\na stand alone app ?<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;Applets have several getters for external information<br/>\n<br/>\n </span></blockquote>Start simple user param<br/>\n<br/>\n1) HTML file w/ param<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns06s01.html)<br/>\n<br/>\n2) Reading of params<br/>\n(http://www.ypl.com/java/mvc/bergin_joseph/lucente_robert/html/17_17/ch17s17<br/>\ns05s01.html)<br/>\n<br/>\nPlease note that I am not a Java expert but the above should get you<br/>\nstarted.<br/>\n<br/>\n  -----Original Message-----<br/>\n  From: junit@yahoogroups.com [mailto:junit@yahoogroups.com]On Behalf Of<br/>\njason r tibbetts<br/>\n  Sent: Thursday, April 20, 2006 10:36 AM<br/>\n  To: junit@yahoogroups.com<br/>\n  Subject: Re: [junit] Newbie question - Testing Applets<br/>\n<br/>\n<br/>\n  Anna Skawinska wrote:<br/>\n<blockquote><span title=\"ireply\">   &gt; Hi guys,<br/>\n  &gt;<br/>\n  &gt; The reason I started to learn JUnit and Java in general is that I&#39;ve<br/>\n  &gt; just begun my internship and I&#39;m going to write unit tests for an<br/>\n  &gt; existing application, developed by &quot;real&quot; programmers :)<br/>\n  &gt;<br/>\n  &gt; The application I&#39;m going to work on first is a Java applet, so I&#39;ve<br/>\n  &gt; focused on finding out how to use JUnit to test them. Having done some<br/>\n  &gt; experiments, I&#39;ve tried to find some sample projects to show me if I<br/>\n  &gt; just do it the right way, but unfortunately I haven&#39;t found much.<br/>\n  &gt;<br/>\n  &gt; That&#39;s why I&#39;d be extremely grateful if someone will just take a look<br/>\n  &gt; at what I&#39;ve written and tell me if I have the right idea of using<br/>\n  &gt; JUnit to test applet-based applications and if I&#39;ll be able to test<br/>\n  &gt; real, functional applets this way in the future.<br/>\n<br/>\n </span></blockquote>  Two of your three test methods don&#39;t test scenarios that would ever<br/>\n  exist in the real world. You&#39;ll never really put the applet in a JFrame,<br/>\n  so toss appletNotNull() and frameContentPaneIncludesApplet(). The third<br/>\n  test method, appletComponentsCountOK(), is reasonable, but<br/>\n  underspecified, as it doesn&#39;t test whether the applet&#39;s content pane<br/>\n  contains a JLabel with the name that you gave it.<br/>\n<br/>\n  For real-world applets, you should consider the following:<br/>\n<br/>\n  * Refactor the applet so that it&#39;s a thin shell around the content and<br/>\n  the business logic that acts on the content. In other words, create a<br/>\n  class that handles all of the layout, then pass an instance of this<br/>\n  class to the applet&#39;s setContentPane(). This has at least two advantages:<br/>\n  1) the standalone component can then be tested using one of the Swing<br/>\n  testing tools, such as JFCUnit, Abbot & Costello, etc.<br/>\n  2) the standalone component can be dropped into a JFrame to create a<br/>\n  standalone version of your application. In my experience, it&#39;s much,<br/>\n  much faster to develop a standalone app than an applet, especially if<br/>\n  that applet has to be deployed to a Web server (as opposed to the<br/>\n  appletrunner) in order to confirm your changes. And if deployment of the<br/>\n  applet is via a .war or .ear, then your time savings are even greater.<br/>\n<br/>\n  * Applets have several getters for external information, and most<br/>\n  real-world applets call one or more of these. These would be difficult,<br/>\n  if not impossible, to test without jumping through several hoops. For<br/>\n  example, your test&#39;s before() method may have to do something like this:<br/>\n<br/>\n  Applet app = new AppletClass() {<br/>\n<br/>\n     public String getAppletInfo() { return &quot;info&quot;; }<br/>\n<br/>\n     public getAppletContext() { return new CustomAppletContext(); }<br/>\n<br/>\n     public URL getCodeBase() {<br/>\n       try {<br/>\n         return new URL(&quot;file:///my/codebase&quot;);<br/>\n       } catch (MalformedURLException mux) {<br/>\n         return null;<br/>\n     }<br/>\n<br/>\n     // etc.<br/>\n  }<br/>\n<br/>\n  Some of these, like the ApplicationContext, are rather rich interfaces<br/>\n  that would be a pain in the a$$ to mock out if they have to do anything<br/>\n  meaningful.<br/>\n<br/>\n  It would be much, much easier to factor out the applet logic, per the<br/>\n  first bullet-point above, into standalone components that can take some<br/>\n  of this information in the form of something like properties. For<br/>\n  example, say your (signed) applet needs a URL for connecting to a remote<br/>\n  database, and this URL is specified in a &lt;param&gt; tag inside the &lt;applet&gt;<br/>\n  tag on the HTML page. The applet&#39;s init() will read the URL from the<br/>\n  applet context and pass it to the factored-out code, like so:<br/>\n<br/>\n  public class AppletClass extends JApplet {<br/>\n     public void init() {<br/>\n       String dbUrlStr = getParameter(&quot;db.url&quot;);<br/>\n       JPanel content = new ApplicationPanel(dbUrlStr);<br/>\n       setContentPane(content);<br/>\n     }<br/>\n  }<br/>\n<br/>\n  A standalone app or a test would get the URL in a different way:<br/>\n<br/>\n  @test public void constructAppPanelWithValidUrl() {<br/>\n     String urlStr = &quot;http://my.db.url&quot;;<br/>\n     JPanel content = new ApplicationPanel(dbUrlStr);<br/>\n     // assert that the connection is valid, etc.<br/>\n  }<br/>\n<br/>\n  This response has been long enough. I&#39;ll stop now.<br/>\n<br/>\n<blockquote><span title=\"ireply\">   &gt; //-----------------------------------------------------------<br/>\n  &gt; //  AppletClass.java - simple applet from &quot;Thinking in Java&quot;<br/>\n  &gt; //-----------------------------------------------------------<br/>\n  &gt; import javax.swing.*;<br/>\n  &gt;<br/>\n  &gt; public class AppletClass extends JApplet {<br/>\n  &gt;       public void init() {<br/>\n  &gt;         getContentPane().add(new JLabel(&quot;Applet!&quot;));<br/>\n  &gt;       }<br/>\n  &gt; }<br/>\n  &gt;<br/>\n  &gt;<br/>\n  &gt; //-----------------------------------------------------------<br/>\n  &gt; //  AppletClassTest.java - what I&#39;ve written<br/>\n  &gt; //-----------------------------------------------------------<br/>\n  &gt;<br/>\n  &gt; import javax.swing.JApplet;<br/>\n  &gt; import junit.framework.JUnit4TestAdapter;<br/>\n  &gt; // (and so on...)<br/>\n  &gt;<br/>\n  &gt;<br/>\n  &gt; public class AppletClassTest {<br/>\n  &gt;       JApplet applet;<br/>\n  &gt;       JFrame frame;<br/>\n  &gt;<br/>\n  &gt;       @Before public void before(){<br/>\n  &gt;             applet = new AppletClass();<br/>\n  &gt;<br/>\n  &gt;          frame = new JFrame(&quot;AppletClass!&quot;);<br/>\n  &gt;         // To close the application:<br/>\n  &gt;         frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<br/>\n  &gt;         frame.getContentPane().add(applet);<br/>\n  &gt;         frame.setSize(100,50);<br/>\n  &gt;<br/>\n  &gt;         applet.init();<br/>\n  &gt;         applet.start();<br/>\n  &gt;<br/>\n  &gt;       }<br/>\n  &gt;<br/>\n  &gt;       @After public void after(){<br/>\n  &gt;             applet.stop();<br/>\n  &gt;             applet.destroy();<br/>\n  &gt;       }<br/>\n  &gt;<br/>\n  &gt;       @Test public void appletNotNull(){<br/>\n  &gt;             Assert.assertNotNull(&quot;Hey, the applet reference is null!&quot;,<br/>\n </span></blockquote>applet);<br/>\n<blockquote><span title=\"ireply\">   &gt;       }<br/>\n  &gt;<br/>\n  &gt;       @Test public void frameContentPaneIncludesApplet(){<br/>\n  &gt;             Component[] tbl = frame.getContentPane().getComponents();<br/>\n  &gt;             boolean result = false;<br/>\n  &gt;<br/>\n  &gt;             //search for the applet<br/>\n  &gt;             for (int i=0; i&lt;tbl.length; i++)<br/>\n  &gt;                   if ( tbl[i].equals(applet) ) {<br/>\n  &gt;                         result=true;<br/>\n  &gt;                         break;<br/>\n  &gt;                   }<br/>\n  &gt;             Assert.assertEquals(true, result);<br/>\n  &gt;       }<br/>\n  &gt;<br/>\n  &gt;       @Test public void appletComponentsCountOK(){<br/>\n  &gt;<br/>\n </span></blockquote>Assert.assertEquals(1,applet.getContentPane().getComponentCount());<br/>\n<blockquote><span title=\"ireply\">   &gt;       }<br/>\n  &gt;<br/>\n  &gt;     public static junit.framework.Test suite() {<br/>\n  &gt;<br/>\n  &gt;           return new JUnit4TestAdapter(AppletClassTest.class);<br/>\n  &gt;     }<br/>\n  &gt; }<br/>\n<br/>\n<br/>\n<br/>\n </span></blockquote>----------------------------------------------------------------------------<br/>\n--<br/>\n  YAHOO! GROUPS LINKS<br/>\n<br/>\n    a..  Visit your group &quot;junit&quot; on the web.<br/>\n<br/>\n    b..  To unsubscribe from this group, send an email to:<br/>\n     junit-unsubscribe@yahoogroups.com<br/>\n<br/>\n    c..  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\nService.<br/>\n<br/>\n<br/>\n----------------------------------------------------------------------------<br/>\n--<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 16543, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1145548486", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 16543, 
    "headers": {
        "inReplyToHeader": "PDQ0NDc5QzRGLjkwNjA4MDJAdmVyZGkuaWlzZC5zcmEuY29tPg==", 
        "messageIdInHeader": "PEdORUZMTENDRkRKRklPSEJKS0NFQ0VCTkVBQUEucmx1Y2VudGVAcGlwZWxpbmUuY29tPg=="
    }
}