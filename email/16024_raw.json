{
    "numMessagesInTopic": 74, 
    "nextInTime": 16025, 
    "senderId": "iu4qp8Db4KhU9Aah20Sr_NoY8J7f-O8Xn1rPpTR1542ofPXMme1BMtPHfhAWadodMpuGgx8_esffDmMEcn5CgyURRPJgQVcx", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: Observations from a production use of JUnit4", 
    "from": "&quot;Kent Beck&quot; &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "Ben, Thank you for the clarifying example. I coded up a test like the one you proposed, but I haven t been able to figure out how to make it pass. Given the", 
    "msgId": 16024, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 22854 invoked from network); 8 Feb 2006 18:48:19 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m30.grp.scd.yahoo.com with QMQP; 8 Feb 2006 18:48:19 -0000\r\nReceived: from unknown (HELO smtpauth04.mail.atl.earthlink.net) (209.86.89.64)\n  by mta3.grp.scd.yahoo.com with SMTP; 8 Feb 2006 18:48:19 -0000\r\nReceived: from [67.131.9.243] (helo=T42)\n\tby smtpauth04.mail.atl.earthlink.net with asmtp (Exim 4.34)\n\tid 1F6uMR-0007kW-0r\n\tfor junit@yahoogroups.com; Wed, 08 Feb 2006 13:48:15 -0500\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nDate: Wed, 8 Feb 2006 10:48:07 -0800\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;us-ascii&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: Microsoft Office Outlook, Build 11.0.5510\r\nThread-Index: AcYpJ/qDe5zzEpZmQgOFzxp/ZRzuoQDlyV9g\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180\r\nIn-Reply-To: &lt;ds0v0g+3gca@...&gt;\r\nMessage-ID: &lt;E1F6uMR-0007kW-0r@...&gt;\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d478f6de188fdd142d4e6baeb8a057f6e457b5bc5e9081c0f7be350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;Kent Beck&quot; &lt;kentb@...&gt;\r\nSubject: RE: [junit] Re: Observations from a production use of JUnit4\r\nX-Yahoo-Group-Post: member; u=173198504; y=cNpf4MqyyZRKh7G3ox9jVPB-U5KdepFTrjG-u5jJT49EC-RT\r\nX-Yahoo-Profile: kentlbeck\r\n\r\nBen,\n\nThank you for the clarifying example. I coded up a test like the one you\nproposed, but I haven&#39;t been able to figure out how to make it pass. Given\nthe short timeframe to the first release of JUnit 4, we will probably leave\nthe timeout stuff as it is and make sure the javadoc reflects the\nlimitations.\n\nSincerely yours,\n\nKent Beck\nThree Rivers Institute \n\n&gt; -----Original Message-----\n&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On \n&gt; Behalf Of Ben Maurer\n&gt; Sent: Friday, February 03, 2006 5:12 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: [junit] Re: Observations from a production use of JUnit4\n&gt; \n&gt; --- In junit@yahoogroups.com, &quot;Kent Beck&quot; &lt;kentb@...&gt; wrote:\n&gt; \n&gt; &gt; Does the following test capture what you mean? In other words, an\n&gt; Exception\n&gt; &gt; is thrown in JUnit the cause of which is the exception thrown by the\n&gt; test\n&gt; &gt; case. Once again, UIs can format this however they want to.\n&gt; &gt; \n&gt; &gt; \tpublic static class Unexpected {\n&gt; &gt; \t\t@Test(expected= Exception.class) public void expected()\n&gt; &gt; throws Exception {\n&gt; &gt; \t\t\tthrow new Error();\n&gt; &gt; \t\t}\n&gt; &gt; \t}\n&gt; &gt; \t@Test public void unexpected() {\n&gt; &gt; \t\tResult result= JUnitCore.runClasses(Unexpected.class);\n&gt; &gt; \t\tFailure failure= result.getFailures().get(0);\n&gt; &gt; \t\tString message= failure.getMessage();\n&gt; &gt; \t\t\n&gt; assertTrue(message.contains(&quot;expected&lt;java.lang.Exception&gt;\n&gt; &gt; but was&lt;java.lang.Error&gt;&quot;));\n&gt; &gt; \t\tassertEquals(Error.class,\n&gt; &gt; failure.getException().getCause().getClass());\n&gt; &gt; \t}\n&gt; \n&gt; Yes, I think this does.\n&gt; \n&gt; &gt; &gt; \n&gt; &gt; &gt; Thanks. This also comes up with timeouts. It&#39;d be really \n&gt; cool to have\n&gt; &gt; &gt; a stacktrace from where the thread was hung.\n&gt; &gt; \n&gt; &gt; Can you turn this into a test case? That would help me with the\n&gt; &gt; implementation.\n&gt; \n&gt; I *think* this captures the meaning of what I want. I&#39;ve got quite a\n&gt; few other tasks tonight, so I&#39;m just writing this off the top \n&gt; of my head:\n&gt; \n&gt; \t static public class InfiniteLoopTest {\n&gt; \n&gt;                  private void dumb3141(){ for (;;); }\n&gt; \t\t @Test(timeout= 100) public void failure() {\n&gt; \t\t\t dumb3141 ();\n&gt; \t\t }\n&gt; \t }\n&gt; \n&gt; \t @Test public void infiniteLoop() throws Exception {\n&gt; \t\t JUnitCore core= new JUnitCore();\n&gt; \t\t Result result= core.run(InfiniteLoopTest.class);\n&gt; \t\t assertEquals(1, result.getRunCount());\n&gt; \t\t assertEquals(1, result.getFailureCount());\n&gt; \t\t Throwable exception=\n&gt; result.getFailures().get(0).getException();\n&gt; \t\t System.out.println(exception.getMessage());\n&gt; \t\t assertTrue(exception.toString().contains(&quot;dumb3141&quot;));\n&gt; \t }\n&gt; \n&gt; The way you could implement this is to call Thread.stop (new\n&gt; TimeoutException (&quot;test failed after XXXXX ms&quot;)). This exception would\n&gt; be be caught by the wrapper and displayed. The stack trace should have\n&gt; dumb3141. (nb: a timeout of 100ms is sometimes not enough. I actually\n&gt; got false timeouts on 5 or so student submissions out of 2000 with the\n&gt; exact same timeout).\n&gt; \n&gt; -- Ben\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; \n&gt; \n&gt; \n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 15891, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 16023, 
    "contentTrasformed": false, 
    "postDate": "1139424487", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 16022, 
    "headers": {
        "inReplyToHeader": "PGRzMHYwZyszZ2NhQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEUxRjZ1TVItMDAwN2tXLTByQHNtdHBhdXRoMDQubWFpbC5hdGwuZWFydGhsaW5rLm5ldD4="
    }
}