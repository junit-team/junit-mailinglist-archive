{
    "numMessagesInTopic": 18, 
    "nextInTime": 5339, 
    "senderId": "s2QDGim2k2X2tJz0WiEWRwyn43lQ-NEtkJ-7hQit9b_kXrSwaU1AIxwPg3T3yfK5Nlhv-E6XvlfYlzSwmj0n9sXIoK0", 
    "systemMessage": false, 
    "subject": "testing protected/package-private methods (was Re: Where to place test classes?)", 
    "from": "&quot;pholser&quot; &lt;pholser@...&gt;", 
    "authorName": "pholser", 
    "msgSnippet": "without having thought about it too much, i used to be dogmatic about always placing test classes in packages different from their respective", 
    "msgId": 5338, 
    "rawEmail": "Return-Path: &lt;pholser@...&gt;\r\nX-Sender: pholser@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_7_4); 5 Jul 2002 20:26:54 -0000\r\nReceived: (qmail 28358 invoked from network); 5 Jul 2002 20:26:54 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m5.grp.scd.yahoo.com with QMQP; 5 Jul 2002 20:26:54 -0000\r\nReceived: from unknown (HELO n18.grp.scd.yahoo.com) (66.218.66.73)\n  by mta3.grp.scd.yahoo.com with SMTP; 5 Jul 2002 20:26:54 -0000\r\nReceived: from [66.218.67.159] by n18.grp.scd.yahoo.com with NNFMP; 05 Jul 2002 20:26:54 -0000\r\nDate: Fri, 05 Jul 2002 20:26:52 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: testing protected/package-private methods (was Re: Where to place test classes?)\r\nMessage-ID: &lt;ag4vec+q19t@...&gt;\r\nIn-Reply-To: &lt;20020315021219.26322.qmail@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 4095\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;pholser&quot; &lt;pholser@...&gt;\r\nX-Yahoo-Group-Post: member; u=66805313\r\nX-Yahoo-Profile: pholser\r\n\r\nwithout having thought about it too much, i used to be dogmatic about\nalways placing test classes in packages different from their\nrespective classes-under-test, thus limiting the tests to speaking\nto the CUTs via public interface.  however, there are times when\nprotected interface is useful to have, and needs tested.  i started\nthinking about how the test code would look if i were to allow for\ntest classes co-located in the packages of their CUTs.\n\n[apologies for the crazy &quot;haver&quot; names, i just like nouning things\nsometimes--also, nouning/verbing weirds english...8^) ]\n\nin package pholser.junk.protect:\n--------------------------------\npublic class ProtectedMethodHaver {\n  private String blurb;\n\n  protected ProtectedMethodHaver( String blurb ) {\n    this.blurb = blurb;\n  }\n\n  protected String shout() {\n    return blurb;\n  }\n}\n\nin package pholser.junk.protect:\n--------------------------------\npublic class ProtectedMethodHaverTest extends TestCase {\n  public ProtectedMethodHaverTest( String name ) {\n    super( name );\n  }\n\n  public void testProtectedMethod() {\n    assertEquals( &quot;abc&quot;, new ProtectedMethodHaver( &quot;abc&quot; ).shout() );\n  }\n}\n\nvs. in package test.pholser.junk.protect:\n-----------------------------------------\npublic class ProtectedMethodHaverTest extends TestCase {\n  private static class MyProtectedMethodHaver\n  extends ProtectedMethodHaver {\n    MyProtectedMethodHaver( String blurb ) {\n      super( blurb );\n    }\n\n    public String shout() {\n      return super.shout();\n    }\n  }\n\n  public ProtectedMethodHaverTest( String name ) {\n    super( name );\n  }\n\n  public void testProtectedMethod() {\n    assertEquals(\n      &quot;abc&quot;,\n      new MyProtectedMethodHaver( &quot;abc&quot; ).shout() );\n  }\n}\n\nwhich communicates more clearly?  to me, the package-co-located\nversion does.  otherwise, i&#39;m combating java&#39;s visibility modifiers\nwith more test code to maintain.\n\nhowever, it&#39;s interesting to note that if the class with the protected\ninterface is abstract, you&#39;ll have to pull trickery like the\npackage-separated version uses, just to get an instance against which\nto test those default protected implementations.  also, if you want\nto test package-private methods, you _must_ co-locate your tests with\ntheir CUTs, or use the magic incantations to suppress access checks.\n\nfor me, it comes down to this: are your test classes to be treated\nlike any other client (i.e. CUT says &quot;talk to me via my public\ninterface&quot;), or do they get special exemptions because they&#39;re tests?\nit&#39;s clear that some people feel one way, others feel the other...\nas long as one is aware of the ramifications of her choice, to me it&#39;s\nall good.\n\ncheers,\np\n\n--- In junit@y..., Eric Heikkila &lt;ericheikkila@y...&gt; wrote:\n&gt; Hmmm....there&#39;s usually a way around it if you want to test\n&gt; something, even if they are in different packages.  For instance,\n&gt; maybe the private methods should really be pulled out and placed in\n&gt; their own class, which could have public methods, but the old class\n&gt; would have a private instance of the new class.\n&gt; \n&gt; My take on this . . . put them in the same package, or don&#39;t, user\n&gt; inner classes, or don&#39;t, whatever (I&#39;ve seen too many flames about\n&gt; this issue to last me a while) . . . just make sure you test what\n&gt; should be tested.  There&#39;s always a way to make it (more) testable.\n&gt; \n&gt; -Eric\n&gt; \n&gt; --- Vladimir Bossicard &lt;vladimir@b...&gt; wrote:\n&gt; &gt; &gt; I see no need to test methods other than public\n&gt; &gt; &lt;snip&gt; I&#39;ll write \n&gt; &gt; \n&gt; &gt;  &gt; test methods for the protected methods as well.\n&gt; &gt; \n&gt; &gt; So why do you test protected methods if there&#39;s no need to test\n&gt; &gt; methods other than public?  Simply because it depends. Sometimes\n&gt; &gt; you want to test protected methods, sometimes you don&#39;t.\n&gt; &gt; \n&gt; &gt; My point is: placing tests classes so that it is _impossible_ to\n&gt; &gt; test protected methods is a &quot;bad&quot; decision because you restrict\n&gt; &gt; your flexibility.  By placing test classes in the same package,\n&gt; &gt; you still have that flexibility, but you don&#39;t have to use it\n&gt; &gt; if you don&#39;t want to.\n&gt; &gt; \n&gt; &gt; - Vladimir\n&gt; &gt; \n&gt; &gt; -- \n&gt; &gt; Vladimir Bossicard\n&gt; &gt; www.bossicard.com\n\n\n\n", 
    "profile": "pholser", 
    "topicId": 4311, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 66805313, 
    "prevInTime": 5337, 
    "contentTrasformed": false, 
    "postDate": "1025900812", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 4762, 
    "headers": {
        "inReplyToHeader": "PDIwMDIwMzE1MDIxMjE5LjI2MzIyLnFtYWlsQHdlYjE0MzA4Lm1haWwueWFob28uY29tPg==", 
        "messageIdInHeader": "PGFnNHZlYytxMTl0QGVHcm91cHMuY29tPg=="
    }
}