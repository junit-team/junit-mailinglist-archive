{
    "numMessagesInTopic": 7, 
    "nextInTime": 22036, 
    "senderId": "xkCRiBsVc32jeXHlierGhuwBZ8elIwOYTL9oLVGlrZDPMLmVhoUlPE1QwB1ASU7cvUhHT0rGWTYTRchr1upqBccj", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: How to build a test suite automatically in Junit4?", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Yishai, Can you move the request to github?  I have an idea of a general way to handle things like this, but it looks like it ll take backseat to concurrency", 
    "msgId": 22035, 
    "profile": "dsaff", 
    "topicId": 21994, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1167861757\">Yishai,<br/>\n<br/>\nCan you move the request to github?  I have an idea of a general way<br/>\nto handle things like this, but it looks like it&#39;ll take backseat to<br/>\nconcurrency for at least a week.<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Tue, Oct 27, 2009 at 3:27 PM, yme0987654321 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:yme0987654321@...\">yme0987654321@...</a>&gt; wrote:<br/>\n&gt; The way I do this currently is with a custom runner like this:<br/>\n&gt;<br/>\n&gt; public class CustomRunner extends Suite {<br/>\n&gt;<br/>\n&gt;    public CustomRunner(Class&lt;?&gt; setupClass) throws InitializationError {<br/>\n&gt;        super(setupClass, staticMethodWhichGetsTheClassesAsAnArrayForTheSuite());<br/>\n&gt;    }<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt; And then Run an arbitrary class annotated with that Runner using @RunWith (I did it as a nested class so it was all right there, just be sure to declare it static). In that arbitrary class, you can do @BeforeClass and @AfterClass that might do interesting things.<br/>\n&gt;<br/>\n&gt; I put in a request (<a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/tracker/index.php?func=detail&aid=2786193&group%5Fid=15278&atid=365278)\">http://sourceforge.net/tracker/index.php?func=detail&aid=2786193&group%5Fid=15278&atid=365278)</a> with my preferred way of resolving this, but I don&#39;t think anything was done on it.<br/>\n&gt;<br/>\n&gt; By the way, I&#39;d be happy to code up the implementation and submit it as a patch if David/Kent would agree on the approach (a new runner, changes to the current runner, whatever. I don&#39;t really care, I would just like to see it as part of the framework).<br/>\n&gt;<br/>\n&gt; I think the above workaround is reasonable enough (although not really that obvious) that I can certainly understand not prioritizing addressing this.<br/>\n&gt;<br/>\n&gt; Yishai<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@...&gt; wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt; ju_10101,<br/>\n&gt;&gt;<br/>\n&gt;&gt; Ask tomorrow for an ETA on the next release.<br/>\n&gt;&gt;<br/>\n&gt;&gt;    David<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Fri, Oct 23, 2009 at 11:50 AM, ju_10101 &lt;ju_10101@...&gt; wrote:<br/>\n&gt;&gt; &gt; I just got folks in the office to agree to upgrade - might be a harder battle to get a nightly build, but I&quot;ll take a look.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; With the 4.7 release then, there&#39;s no way to build a dynamic test suite?  Any estimate when the next release might be?  I might just drop back down to 3.8 in the meantime.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Thanks!<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; ju_10101,<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; Are you able to use pre-release code?  HEAD at github includes a<br/>\n&gt;&gt; &gt;&gt; Category system, which you could combine with Link&#39;s cpsuite runner to<br/>\n&gt;&gt; &gt;&gt; get what you want.<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt;    David Saff<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;&gt; On Thu, Oct 22, 2009 at 7:31 PM, ju_10101 &lt;ju_10101@&gt; wrote:<br/>\n&gt;&gt; &gt;&gt; &gt; Hi,<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; I&#39;ve just updated to 4.7 from 3.8.2.  I have a large project with a lot of classes and packages, but I also annotate tests for fast and slow.  I create my FastSuite to find all tests classes annotated with SmallTest.  That way, these can be run first in the continuous environment, and the slow ones run later, on a different machine, so I don&#39;t backup the queue, etc.<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; It seems the way to make suites in 4.7 is to explicitly list each classname as an annotation to your suite class, but I don&#39;t want to do that because a) I have a lot, and b) I don&#39;t want to not run new tests because someone didn&#39;t go update the manual list of test classes somewhere.<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; My old way doesn&#39;t work anymore.  Can anyone tell me how to accomplish the same in junit 4.7??<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; My code in 3.8.2 was (sorry for the formatting!):<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;    public static Test suite() {<br/>\n&gt;&gt; &gt;&gt; &gt;        final String smallTestName = SmallTest.class.getCanonicalName();<br/>\n&gt;&gt; &gt;&gt; &gt;        TestSuite suite = new TestSuite();<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;        Enumeration testClasses = new LoadingTestCollector().collectTests();<br/>\n&gt;&gt; &gt;&gt; &gt;        while (testClasses.hasMoreElements()) {<br/>\n&gt;&gt; &gt;&gt; &gt;            final String className = testClasses.nextElement().toString();<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;            try {<br/>\n&gt;&gt; &gt;&gt; &gt;                Annotation[] annotations = Class.forName(className).getAnnotations();<br/>\n&gt;&gt; &gt;&gt; &gt;                for (Annotation a : annotations) {<br/>\n&gt;&gt; &gt;&gt; &gt;                    if (a.annotationType().getCanonicalName().equals(smallTestName)) {<br/>\n&gt;&gt; &gt;&gt; &gt;                        System.out.println(&quot;HELLOOO- working on class &quot; + className);<br/>\n&gt;&gt; &gt;&gt; &gt;                        suite.addTestSuite(Class.forName(className));<br/>\n&gt;&gt; &gt;&gt; &gt;                    }<br/>\n&gt;&gt; &gt;&gt; &gt;                }<br/>\n&gt;&gt; &gt;&gt; &gt;            }    catch (ClassNotFoundException e) {<br/>\n&gt;&gt; &gt;&gt; &gt;                System.err.println(&quot;Error: Couldn&#39;t deal with &quot; + className);<br/>\n&gt;&gt; &gt;&gt; &gt;            }<br/>\n&gt;&gt; &gt;&gt; &gt;        }<br/>\n&gt;&gt; &gt;&gt; &gt;        return suite;<br/>\n&gt;&gt; &gt;&gt; &gt;    }<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; The compiler error is: addTestSuite(java.lang.Class&lt;? extends junit.framework.TestCase&gt;) in junit.framework.TestSuite cannot be applied to (java.lang.Class&lt;capture#337 of ?&gt;)<br/>\n&gt;&gt; &gt;&gt; &gt;    [javac]                         suite.addTestSuite(Class.forName(className));<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; ------------------------------------<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt; &gt;<br/>\n&gt;&gt; &gt;&gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; ------------------------------------<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22034, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1256827913", 
    "canDelete": false, 
    "nextInTopic": 22036, 
    "prevInTopic": 22024, 
    "headers": {
        "inReplyToHeader": "PGhjN2hqNyt0ZXRxQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDkxMDI5MDc1MWxiZjUwM2E2dmE3MzQ5MmRmNzhlYTU2MzBAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDRmN2RhNmI5MDkxMDI2MTEzMnI0N2MyNDYxOGoxM2RiMDI4NzI1YjI4OTMzQG1haWwuZ21haWwuY29tPgkgPGhjN2hqNyt0ZXRxQGVHcm91cHMuY29tPg=="
    }
}