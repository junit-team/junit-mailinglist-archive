{
    "numMessagesInTopic": 2, 
    "nextInTime": 19635, 
    "senderId": "kobnZBje9k_pF8QeWfZ8KaSA3Lh-kN4XwuMm7LivLgQJOP8U8bs-h93vk1lDx2pB1-P4POPfY6JPpOQJCJjmob-i", 
    "systemMessage": false, 
    "subject": "Re: [junit] Problem with Request.method() and filtering classes with suite() method", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Sebastian, This issue should be fixed in JUnit 4.4.  Please try it out, and let me know if it works now.  Thanks, David Saff", 
    "msgId": 19634, 
    "profile": "dsaff", 
    "topicId": 19581, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1558849593\">Sebastian,<br/>\n<br/>\nThis issue should be fixed in JUnit 4.4.  Please try it out, and let<br/>\nme know if it works now.  Thanks,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 7/17/07, magbard23 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:magbard23@...\">magbard23@...</a>&gt; wrote:<br/>\n&gt; Hi all,<br/>\n&gt;<br/>\n&gt; I wondered if I&#39;m doing something wrong (most likely :) ) or whether<br/>\n&gt; there is some design bug in the current 4.3.1 code:<br/>\n&gt;<br/>\n&gt; I have a bunch of testcases (JUnit4 with annotations) flying around but<br/>\n&gt; I just want to run only a subset of those tests and decide (at runtime)<br/>\n&gt; which ones I want to run (e.g. reading a config file etc and<br/>\n&gt; instantiating the according Requests and passing them to eg the<br/>\n&gt; JUnitCore)<br/>\n&gt; More precisely, I wanted to run just one method at a time.<br/>\n&gt;<br/>\n&gt; From what I understand I need to create a Request that I can pass into<br/>\n&gt; the JUnitCore in order to have it run.<br/>\n&gt;<br/>\n&gt; So I discovered that there is the option to create a Request that should<br/>\n&gt; be filtered already by using Request.method() which says that it &quot;will<br/>\n&gt; run a single test. This is done by filtering out all other tests.&quot;<br/>\n&gt;<br/>\n&gt; Now when I do that and pass that to the JUnitCore it still runs all<br/>\n&gt; tests/methods in that class :( .. am I missing something?<br/>\n&gt; (I suspect its related to the problem further down.. which in essence<br/>\n&gt; would be that I cannot filter testcases that have a suite() method)<br/>\n&gt;<br/>\n&gt; Furthermore I tried to implement my own Filter which would just filter<br/>\n&gt; out all unwanted methods using a Description.<br/>\n&gt; Now there it seems that JUnit currently doesnt allow me to filter test<br/>\n&gt; classes that contain the pre-v4 suite() methods<br/>\n&gt; (unless I explicitly create the Request using<br/>\n&gt; Request.classWithoutSuiteMethod())<br/>\n&gt;<br/>\n&gt; If I create the Request as ususal (Request.aClass()) the Runner that<br/>\n&gt; gets created internally is a AllTests Runner which doesnt implement<br/>\n&gt; Filterable.  As a result any filter.apply(Runner runner) calls have no<br/>\n&gt; effect and the test is executed according to the suite() method.<br/>\n&gt; So effectively I cannot filter test classes that have a suite() method.<br/>\n&gt;<br/>\n&gt; Is that a desired behavior?<br/>\n&gt; Should this be documented?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; This is some sample code to illustrate what I need to do to have a<br/>\n&gt; Filter actually be applied to my Test class (i.e. with that code I get<br/>\n&gt; just the testMethodName method invoked on the test class clazz ).<br/>\n&gt;<br/>\n&gt; // make a description with the methodname string<br/>\n&gt; final Description d2 = Description.createTestDescription(clazz,<br/>\n&gt; testMethodName);<br/>\n&gt;<br/>\n&gt; // anonymous inner class filtering out all tests where the description<br/>\n&gt; // differs from this methodnames description<br/>\n&gt; f = new Filter(){<br/>\n&gt;      /** run only the test where the description matches */<br/>\n&gt;      public boolean shouldRun(Description d) {<br/>\n&gt;          return d2.equals(d);<br/>\n&gt;      }<br/>\n&gt;      public String describe() {<br/>\n&gt;          return &quot;allows only methodname = &quot;+ testMethodName;<br/>\n&gt;      }<br/>\n&gt; };<br/>\n&gt;<br/>\n&gt; // weird hack: because most of our test cases have a suite method<br/>\n&gt; // junit creates a AllTests runner which does not implement Filterable<br/>\n&gt; // and hence the filter has no effect (and all methods are invoked)<br/>\n&gt; // so as a fix we create a request for a class without suite() method<br/>\n&gt; request = Request.classWithoutSuiteMethod(clazz);<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;   Thanks,<br/>\n&gt;<br/>\n&gt; Sebastian<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19633, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1185560748", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 19581, 
    "headers": {
        "inReplyToHeader": "PGY3amcxdit0ZHFrQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwNzI3MTEyNWwzNDNlYzI0MmsxMDU3OTU4MmE3NGVkODIwQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGY3amcxdit0ZHFrQGVHcm91cHMuY29tPg=="
    }
}