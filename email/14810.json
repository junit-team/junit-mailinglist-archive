{
    "numMessagesInTopic": 2, 
    "nextInTime": 14811, 
    "senderId": "qcV4z3gLvxu3eVesOOd0_ociNoBR1fPpxza3y5wRdfCdaUlHPqJkC_el1mUaRMH33STB3xmGell0bMOvkf-b-xf47uS_uomaG9QF", 
    "systemMessage": false, 
    "subject": "Re: JUnitAssist - spike and class loaders", 
    "from": "&quot;Jeff Grigg&quot; &lt;jeffgrigg@...&gt;", 
    "authorName": "Jeff Grigg", 
    "msgSnippet": "... I did this (in JUnit 3) by overloading the TestCase.runBare method: When called, it reloaded itself (another instance of the same TestCase child class)", 
    "msgId": 14810, 
    "profile": "jeffgrigg63132", 
    "topicId": 14807, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139880894, 
    "messageBody": "<div id=\"ygrps-yiv-2087377108\"><blockquote><span title=\"ireply\">&gt; --- Tobias wrote:<br/>\n&gt;&gt; [...] By using Javassist together with JUnit I managed to<br/>\n&gt;&gt; add a powerful yet simple way of doing declarative (from<br/>\n&gt;&gt; the test-class) mocking of troublesome classes [...]<br/>\n<br/>\n </span></blockquote>--- Neil Swingler &lt;neil@s...&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; I was working on something similar, extending JUnit. The big<br/>\n&gt; problem is how to insert the custom classloader early enough<br/>\n&gt; in each test run.<br/>\n<br/>\n </span></blockquote>I did this (in JUnit 3) by overloading the TestCase.runBare method:  <br/>\nWhen called, it reloaded itself (another instance of the same <br/>\nTestCase child class) through the &quot;AOP&quot; ClassLoader.  Then call the <br/>\ntest methods.  You have to rely on reflection to make these calls, <br/>\nas the types aren&#39;t compatible across class loaders.  And I used a <br/>\ndifferent constructor signature (and/or special flag set method) to <br/>\nlet the test class loaded under the test ClassLoader know that it&#39;s <br/>\nthe copy -- so it doesn&#39;t try to recursively load and call itself <br/>\nforever.<br/>\n<br/>\nIt costs a few seconds, per run, to go through another class <br/>\nloader.  But otherwise, it can work really well.</div>", 
    "prevInTime": 14809, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1126839568", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 14807, 
    "headers": {
        "inReplyToHeader": "PEUxRUZ2cDEtMDAwM2t3LTAwQHNlcnYwMS5zd2luZ2xlci5jaD4=", 
        "messageIdInHeader": "PGRnZGNlZyttdTM5QGVHcm91cHMuY29tPg=="
    }
}