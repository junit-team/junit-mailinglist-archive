{
    "numMessagesInTopic": 67, 
    "nextInTime": 5298, 
    "senderId": "nvjIQBJa6A67CtWCF_YVnoetrFoYGNV8gedquH9uPokKDtxOZereTe8ca2EF-hyPg-NN1IefDpwl8jahzCOOyEt7vwm_-HSsZzn8kBg", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: distinguishing between failures and errors", 
    "from": "Daniel Barclay &lt;dbarclay@...&gt;", 
    "authorName": "Daniel Barclay", 
    "msgSnippet": "... (Is that code correct?  Is there an assertTrue(String) method?) Your call to fail(...) says that the method must throw an IllegalArgumentException when", 
    "msgId": 5297, 
    "topicId": 5186, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 111812165, 
    "messageBody": "<div id=\"ygrps-yiv-1633337815\"><blockquote><span title=\"ireply\">&gt; From: Mark Meyers [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:markm@...\">markm@...</a>]<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; &gt; From: Daniel Barclay  <br/>\n&gt; ...<br/>\n&gt; &gt; (How can a test show that the caller is responsible for not <br/>\n&gt; &gt; passing in a null pointer?<br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; I disagree, how about:<br/>\n&gt; \ttry{<br/>\n&gt; \t    instance.someMethod(null);<br/>\n&gt; \t    fail(&quot;someMethod should not accept null&quot;);<br/>\n&gt; \t}catch(IllegalArgumentException e){<br/>\n&gt; \t    assertTrue(&quot;Client code should check for null arguments&quot;);<br/>\n&gt; \t}<br/>\n<br/>\n </span></blockquote>(Is that code correct?  Is there an assertTrue(String) method?)<br/>\n<br/>\nYour call to fail(...) says that the method must throw an <br/>\nIllegalArgumentException when passed a null pointer.  <br/>\n<br/>\nThat is _not_ the same as saying that the caller must not pass in<br/>\nnull.<br/>\n<br/>\n<br/>\nIn your case, a caller is allowed to use the method to detect null <br/>\npointers.  <br/>\n<br/>\nIn my case, a caller cannot expect any particular behavior.  (Maybe the <br/>\nmethod throws IllegalArgumentException.  Maybe it returns a bogus result.<br/>\nMaybe it gets stuck in an endless loop.  Maybe it makes something else<br/>\nfail 10000 calls later in another method.  Maybe it crashes the VM (via <br/>\nJNI).)<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; You can&#39;t test for any particular behavior from the callee<br/>\n&gt; &gt; if the callee&#39;s behavior in the face of a null pointer is <br/>\n&gt; &gt; intentially left undefined (e.g., for flexibility in <br/>\n&gt; &gt; implementing an interface).)<br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; The callee is the class being tested, the specifics for different<br/>\n&gt; implementations could be implemented<br/>\n&gt; in specific TestCases, <br/>\n<br/>\n </span></blockquote>Why test for behavior that is (intentionally) undefined?<br/>\n<br/>\nConsider a method that is defined to return &quot;an instance of some <br/>\nclass implementing interface I.&quot;  In that specification, the<br/>\nparticular class is undefined.<br/>\n<br/>\nIf your implementation currently uses a class C, why test that <br/>\nthe returned instance is of class C?  Why constrain yourself from<br/>\nreturning an instance of class D, as long as you still return<br/>\n&quot;an instance of some class implementing interface I&quot;?<br/>\n<br/>\nIf you test for class C and treat tests as documentation, then <br/>\nthat implies that a caller is allowed to depend on the fact that <br/>\nyou return class C.  That is usually _not_ at all what you want.<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; (How can a test show that a caller is responsible for not<br/>\n&gt; &gt; depending on certain current behavior of an implementation<br/>\n&gt; &gt; that is not part of the interface contract?)<br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; It can&#39;t, the caller&#39;s TestCase should do that. And possibly <br/>\n<br/>\n </span></blockquote>What caller?  That is, no caller necessarily even exists yet. <br/>\nSo no, the caller&#39;s test case cannot do that.  <br/>\n<br/>\n(And how could a test case for a caller detect whether that <br/>\ncaller passes a null pointer to the called method?)<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; the callee&#39;s<br/>\n&gt; documentation.<br/>\n<br/>\n </span></blockquote>EXACTLY--documentation, not just tests!!!<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; Because tests, being code, can&#39;t relate code to external concepts.  <br/>\n&gt; &gt; <br/>\n&gt; &gt; (A specification can say that a function f returns the mathematical<br/>\n&gt; &gt; sum of two given integers subject to the limitations of 32-bit<br/>\n&gt; &gt; signed binary arithmetic.  How can a test say something like that?)<br/>\n&gt; &gt; <br/>\n&gt; <br/>\n&gt; \ttry{<br/>\n&gt; \t    int result = instance.f(Integer.MAX_VALUE, <br/>\n&gt; Integer.MAX_VALUE);<br/>\n&gt; \t    fail(&quot;f should throw Exception when integer limits <br/>\n&gt; are met&quot;);<br/>\n&gt; \t}catch(IllegalStateException e){<br/>\n&gt; \t    assertTrue(&quot;function f returns the mathematical sum <br/>\n&gt; of two given<br/>\n&gt; integers subject to the limitations of 32-bit&quot;);<br/>\n<br/>\n </span></blockquote>Hmm.  I thought you were talking about having the test logic/behavior<br/>\ndefine the method behavior.<br/>\n<br/>\nYou can stick documentation text in the test case code, but I don&#39;t<br/>\nthink that changes the fact that it&#39;s human-parsed documentation.<br/>\n<br/>\n<br/>\nI do grant that your example shows that documentation doesn&#39;t have to <br/>\nbe in some place separate from the tests. <br/>\n<br/>\nHey--I have an idea.  You know how Javadoc 1.4 can provide links to <br/>\nthe source?  Maybe (ideally, fantasy-land, etc.) it could provide links <br/>\nto the test case source too.<br/>\n<br/>\n<br/>\n<br/>\nDaniel</div>", 
    "prevInTime": 5296, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1025631869", 
    "canDelete": false, 
    "nextInTopic": 5298, 
    "prevInTopic": 5295, 
    "headers": {
        "messageIdInHeader": "PEQ1Nzc2RDA5RDA4NEE3NDBCNUQ3RjI5MjY2ODBGQ0YzMDEyNDdGQTNAbXVzMDAxbXVsbGV0Lm1lcmNhdG9yLmNvbT4="
    }
}