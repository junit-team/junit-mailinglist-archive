{
    "numMessagesInTopic": 15, 
    "nextInTime": 6606, 
    "senderId": "9bn5Ylrcbs_AoqkETQijMU2ds0nQs8LgfaZ8e5g8ar-xe5shGX-2mhHl6hDvKNcbdojvBb7Y2Dfc8GCRskYTD0HLTViX7kXdbUxjTd_P", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Conditional tearDown()", 
    "from": "&quot;Jeffrey D. Brekke&quot; &lt;jbrekke@...&gt;", 
    "authorName": "Jeffrey D. Brekke", 
    "msgSnippet": "In our programmer integration tests that actually hit an external db, we just made the tearDown implementation never fail. tearDown() is called after each", 
    "msgId": 6605, 
    "rawEmail": "Return-Path: &lt;jbrekke@...&gt;\r\nX-Sender: jbrekke@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 3 Jan 2003 18:43:00 -0000\r\nReceived: (qmail 85931 invoked from network); 3 Jan 2003 18:42:57 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m10.grp.scd.yahoo.com with QMQP; 3 Jan 2003 18:42:57 -0000\r\nReceived: from unknown (HELO mail8.wi.rr.com) (24.94.162.176)\n  by mta3.grp.scd.yahoo.com with SMTP; 3 Jan 2003 18:42:57 -0000\r\nReceived: from dragon.brekke.org ([24.211.22.7]) by mail8.wi.rr.com  with Microsoft SMTPSVC(5.5.1877.757.75);\n\t Fri, 3 Jan 2003 12:41:24 -0600\r\nReceived: from beholder.brekke.org (beholder.brekke.org [192.168.1.3])\n\tby dragon.brekke.org (8.11.6/linuxconf) with ESMTP id h03Igif19803\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 3 Jan 2003 12:42:44 -0600\r\nDate: Fri, 3 Jan 2003 12:42:47 -0600 (CST)\r\nX-X-Sender: jbrekke@...\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Re: Conditional tearDown()\r\nIn-Reply-To: &lt;av4jae+cus5@...&gt;\r\nMessage-ID: &lt;Pine.LNX.4.44.0301031237270.518-100000@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nReturn-Path: jbrekke@...\r\nFrom: &quot;Jeffrey D. Brekke&quot; &lt;jbrekke@...&gt;\r\nX-Yahoo-Group-Post: member; u=126733587\r\nX-Yahoo-Profile: ekkerbj\r\n\r\n\nIn our programmer integration tests that actually hit an external db, \nwe just made the tearDown implementation never fail.  \n\ntearDown() is called after each test, so in the event say we needed to \ndelete records that were added, if they didn&#39;t exist in the db due to the \ntest failing, tearDown() would go ahead and attempt to delete them, but \nnot fail if they didn&#39;t exist.\n\nNow often times when getting a failing test to fail, we&#39;ll leave the \ntearDown() implementation commented out for a while to get the code \nwritten to pass the test.  Then once the test is passing put the \ntearDown() implementation back in and leave it.  We&#39;ve done this alot with \ntests that do a binary diff on golden data, like a pdf report.\n\nRun the test with tearDown() commented out.\nVisually inspect the generated report once, if good save as our golden \ndata.\nTurn on tearDown() and have the test diff against the golden data.\n\nHope this helps a bit...\n\n\nOn Fri, 3 Jan 2003, Brian &lt;br524@...&gt; wrote:\n\n&gt; No, you have a good point.\n&gt; \n&gt; The problem is that my test writes to the database, then I call the\n&gt; method that I&#39;m unit testing which performs several database functions\n&gt; within a transaction, then I read from the database again to test the\n&gt; values.  The test could fail at any one of these three points.\n&gt; \n&gt; Your suggestion of cleaning up code though made me look at the\n&gt; transactional method I was testing though...it turns out I was missing\n&gt; a rollback() call, so thanks!  But that still doesn&#39;t solve the\n&gt; problem I have with three points of failure within my test.  If you\n&gt; have any ideas as to how to get around this, I&#39;m all ears.\n&gt; \n&gt; -Brian\n&gt; \n&gt; --- In junit@yahoogroups.com, &quot;Jason Rogers&quot; &lt;jacaetevha@f...&gt; wrote:\n&gt; &gt; Could you not use the opportunity to clean up your code such that\n&gt; you\n&gt; &gt; don&#39;t need to visually inspect the DB?  I realize that there may be\n&gt; &gt; times when you absolutely need the visual inspection (though I can&#39;t\n&gt; &gt; think of one off the bat), nevertheless, this seems like a subtle\n&gt; form\n&gt; &gt; of test dependencies or spaghetti code, or some other code-smell. \n&gt; Sorry\n&gt; &gt; if that sounds harsh -- I am certainly not trying to be judgemental,\n&gt; &gt; just reflective.\n&gt; &gt; \n&gt; &gt; =jason\n&gt; &gt; [:question | ^One] \n&gt; &gt; \n&gt; &gt; -----Original Message-----\n&gt; &gt; From: Kendall Collett [mailto:przkiie02@s...] \n&gt; &gt; Sent: Friday, January 03, 2003 12:41 PM\n&gt; &gt; To: junit@yahoogroups.com\n&gt; &gt; Subject: Re: [junit] Re: Conditional tearDown()\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; I could use a conditional clean-up in tearDown, for exactly the same\n&gt; &gt; reason\n&gt; &gt; as Brian.\n&gt; &gt; \n&gt; &gt; When I first ran into this issue; I didn&#39;t think of trying to make\n&gt; the\n&gt; &gt; tearDown() clean-up conditional.  Instead, I adopted a convention of\n&gt; &gt; having\n&gt; &gt; my setUp()s perform the clean-up for the next test.  In other\n&gt; words, for\n&gt; &gt; a\n&gt; &gt; given test I do a pre-clean instead of a post-clean.  I&#39;m not sure\n&gt; if\n&gt; &gt; that&#39;s\n&gt; &gt; good or bad...\n&gt; &gt; \n&gt; &gt; Kendall\n&gt; &gt; \n&gt; &gt; ----- Original Message -----\n&gt; &gt; From: Brian br524-at-yahoo.com br524-at-yahoo.com |Yahoo Work\n&gt; 20030102|\n&gt; &gt; To: XXXXXXXXXXXXXXXXXX\n&gt; &gt; Sent: Friday, January 03, 2003 10:47\n&gt; &gt; Subject: [junit] Re: Conditional tearDown()\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; I only have one test in the TestCase, and if it fails, I want to\n&gt; leave\n&gt; &gt; the database in the state it was in when the test failed so I can\n&gt; &gt; inspect what happened.\n&gt; &gt; \n&gt; &gt; --- In junit@yahoogroups.com, Mike Clark &lt;mike@c...&gt; wrote:\n&gt; &gt; &gt; Brian  wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; &gt;I see in the TestResult class there&#39;s a method wasSuccessful().\n&gt; &gt; From\n&gt; &gt; &gt; &gt;within class that extends TestCase, I want to do something like\n&gt; &gt; this:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;    public void tearDown()\n&gt; &gt; &gt; &gt;    {\n&gt; &gt; &gt; &gt;        TestResult result = createResult();\n&gt; &gt; &gt; &gt;        if( result.wasSuccessful() )\n&gt; &gt; &gt; &gt;        {\n&gt; &gt; &gt; &gt;            System.out.println( &quot;Clearing database&quot; );\n&gt; &gt; &gt; &gt;            clearDatabase( &quot;1&quot; );\n&gt; &gt; &gt; &gt;        }\n&gt; &gt; &gt; &gt;    }\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; &gt; Is this intended to be more efficient than just clearing the\n&gt; &gt; database\n&gt; &gt; &gt; every time the tearDown() method is invoked, or am I missing\n&gt; &gt; something?\n&gt; &gt; &gt;\n&gt; &gt; &gt; Mike\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; Yahoo! Groups Sponsor\n&gt; &gt; ADVERTISEMENT\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; To unsubscribe from this group, send an email to:\n&gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; Service. \n&gt; &gt; \n&gt; &gt; ---\n&gt; &gt; Outgoing mail is certified Virus Free.\n&gt; &gt; Checked by AVG anti-virus system (http://www.grisoft.com).\n&gt; &gt; Version: 6.0.431 / Virus Database: 242 - Release Date: 12/17/2002\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ \n&gt; \n&gt; \n\n-- \n=====================================================================\nJeffrey D. Brekke                                   jbrekke@...\nWisconsin,  USA                                     brekke@...\n                                                    ekkerbj@...\n\n\n\n", 
    "profile": "ekkerbj", 
    "topicId": 6589, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 126733587, 
    "prevInTime": 6604, 
    "contentTrasformed": false, 
    "postDate": "1041619367", 
    "canDelete": false, 
    "nextInTopic": 6606, 
    "prevInTopic": 6604, 
    "headers": {
        "inReplyToHeader": "PGF2NGphZStjdXM1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuNDQuMDMwMTAzMTIzNzI3MC41MTgtMTAwMDAwQGJlaG9sZGVyLmJyZWtrZS5vcmc+"
    }
}