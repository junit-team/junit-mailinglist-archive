{
    "numMessagesInTopic": 4, 
    "nextInTime": 8127, 
    "senderId": "5po4EMGTcbBpUjIVI3_d6yeM4c95IKNWnUGYbtP0pwUbDLq9UzWpKWVfPhkDWZt-QhGMxauL3MOiwOz_JCS2PynoLgd_6DzXi0Ast4-xgw", 
    "systemMessage": false, 
    "subject": "RE: [junit] ClassNotFound Exception in junit target of antscript", 
    "from": "&quot;Michael Holly&quot; &lt;mholly@...&gt;", 
    "authorName": "Michael Holly", 
    "msgSnippet": "Craig The current compile step does compile both the test and the application source.   The test source tree and the application source tree are anchored in", 
    "msgId": 8126, 
    "topicId": 8126, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 148092777, 
    "messageBody": "<div id=\"ygrps-yiv-302453517\">Craig<br/>\n<br/>\nThe current compile step does compile both the test and the application<br/>\nsource.   The test source tree and the application source tree are anchored<br/>\nin  c:/source/mycompany/tsr/java.  Both trees get compiled.  I have .class<br/>\nfiles for both the app and the tests.<br/>\n<br/>\nAny other ideas?  It looks like my initial post got altered to a different<br/>\nline length, making it very hared to read. Should I repost a more clear<br/>\nversion?<br/>\n<br/>\nThanks<br/>\n<br/>\nMichael<br/>\n<br/>\n  -----Original Message-----<br/>\n  From: Craig Pardey [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:PARDEYC@...\">PARDEYC@...</a>]<br/>\n  Sent: Tuesday, May 20, 2003 6:03 PM<br/>\n  To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mholly@...\">mholly@...</a><br/>\n  Subject: Re: [junit] ClassNotFound Exception in junit target of antscript<br/>\n<br/>\n<br/>\n<br/>\n  From what I can see in your build.xml, you&#39;re only compiling your<br/>\nproduction source code, not your test source code...<br/>\n<br/>\n  Try replacing your compilation task with the following:<br/>\n<br/>\n  &lt;javac optimize=&quot;off&quot;<br/>\n            deprecation=&quot;off&quot;<br/>\n            debug=&quot;on&quot;<br/>\n            classpath=&quot;${classpath}&quot;<br/>\n            destdir=&quot;${deploy.home}&quot;&gt;<br/>\n      &lt;src path=&quot;${java.source.home}&quot;/&gt;<br/>\n      &lt;src path=&quot;${test.source.home}&quot;/&gt;<br/>\n  &lt;/javac&gt;<br/>\n<br/>\n  Hope this helps,<br/>\n  Craig<br/>\n<br/>\n<blockquote><span title=\"ireply\">   &gt;&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mholly@...\">mholly@...</a> 05/21/03 04:59am &gt;&gt;&gt;<br/>\n </span></blockquote>  Hi<br/>\n<br/>\n  I&#39;m trying to get up on junit and I am having a problem.  I read the FAQ,<br/>\n  searched the list and I don&#39;t think I&#39;m pulling a newbie but I may be<br/>\nwrong.<br/>\n<br/>\n  My junit step is not finding the test classes that I have created.  It<br/>\njust<br/>\n  won&#39;t find my classes<br/>\n<br/>\n  Here is my Ant build output form the junit step.<br/>\n<br/>\n<br/>\n       [echo]<br/>\n       [echo]<br/>\n  #####################################################################<br/>\n       [echo] #<br/>\n  #<br/>\n       [echo] #  Unit Testing localhost server for the tsr application<br/>\n       [echo] #<br/>\n  #<br/>\n       [echo]<br/>\n  #####################################################################<br/>\n       [echo]<br/>\n       [echo] Unit testing tsr with the following environment<br/>\n       [echo] classpath = c:/tomcat 4.1/webapps/tsr;<br/>\n                          c:/source/mycompany/tsr/java;<br/>\n                          c:/source/mycompany/tsr/java/test;<br/>\n                          c:/tomcat 4.1/webapps/tsr/WEB-INF/classes;<br/>\n                          c:/tomcat 4.1/webapps/tsr/javadoc;<br/>\n                          C:&#92;j2sdk&#92;jre/lib/jce.jar;<br/>\n                          C:&#92;j2sdk&#92;jre;<br/>\n                          c:/junit3.8.1/junit.jar;c:/junit3.8.1;<br/>\n                          c:/tomcat 4.1/webapps/tsr/WEB-INF/classes/test;<br/>\n                          c:/source/mycompany/tsr/lib;<br/>\n                          c:/source/mycompany/tsr/lib/servlet.jar;<br/>\n                          c:/source/mycompany/tsr/lib/utils.jar;<br/>\n                          c:/source/mycompany/tsr/lib/mail.jar;<br/>\n                          c:/source/mycompany/tsr/lib/log4j-1.2.7.jar;<br/>\n                          c:/source/mycompany/tsr/lib/activation.jar;<br/>\n                          c:/source/mycompany/tsr/lib/commons-beanutils.jar;<br/>\n<br/>\nc:/source/mycompany/tsr/lib/commons-fileupload.jar;<br/>\n                          c:/source/mycompany/tsr/lib/classes12.jar;<br/>\n                          c:/source/mycompany/tsr/JCE/bcprov-jdk13-116.jar;<br/>\n                          c:/source/mycompany/tsr/lib/xercesImpl.jar;<br/>\n                          c:/source/mycompany/tsr/lib/xmlParserAPIs.jar;<br/>\n       [echo]<br/>\n      [junit] Running test.mycompany.tsr.AllTests<br/>\n      [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec<br/>\n      [junit] Testsuite: test.mycompany.tsr.AllTests<br/>\n      [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec<br/>\n<br/>\n      [junit]     Caused an ERROR<br/>\n      [junit] test.mycompany.tsr.AllTests<br/>\n      [junit] java.lang.ClassNotFoundException: test.mycompany.tsr.AllTests<br/>\n      [junit]     at java.net.URLClassLoader$1.run(URLClassLoader.java:198)<br/>\n      [junit]     at java.security.AccessController.doPrivileged(Native<br/>\n  Method)<br/>\n      [junit]     at<br/>\n  java.net.URLClassLoader.findClass(URLClassLoader.java:186)<br/>\n      [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:306)<br/>\n      [junit]     at<br/>\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:265)<br/>\n      [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:262)<br/>\n      [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:262)<br/>\n<br/>\n      [junit] TEST test.mycompany.tsr.AllTests FAILED<br/>\n<br/>\n<br/>\n  I have a source directory that houses all the source for the Webapp. It is<br/>\n  at<br/>\n  c:&#92;source&#92;mycompany&#92;tsr.<br/>\n<br/>\n  The actual java tree is anchored at c:&#92;source&#92;mycompany&#92;tsr&#92;java&#92; and has<br/>\n  the following<br/>\n  structure   net&#92;mycompany&#92;tsr&#92;...<br/>\n<br/>\n  The test tree mirrors the java tree, and it anchored at<br/>\n  c:&#92;source&#92;mycompany&#92;tsr&#92;java&#92; . It<br/>\n  has the following structure test&#92;mycompany&#92;tsr&#92;...<br/>\n<br/>\n  The ant script compiles from the home directory to the target directory.<br/>\nIt<br/>\n  is at<br/>\n  c:/tomcat 4.1/webapps/tsr<br/>\n<br/>\n  The test classes are being compiled and are being placed in the proper<br/>\n  location in the target<br/>\n  directory.  I have confirmed this by verifying the .class existence.<br/>\n<br/>\n  I have created some test case classes for each of the application classes<br/>\n  that are being tested.<br/>\n  These test cases are rolled up into the suite in<br/>\ntest.mycompany.tsr.AllTests<br/>\n<br/>\n<br/>\n<br/>\n  Here are the valid sections of my ant build<br/>\n<br/>\n<br/>\n  &lt;project name=&quot;tsr&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;<br/>\n<br/>\n  &lt;!-- This is the build for the TSR application --&gt;<br/>\n<br/>\n    &lt;property name=&quot;server&quot; value=&quot;localhost&quot;/&gt;<br/>\n<br/>\n    &lt;!-- use this property to set which compiler you want to use. --&gt;<br/>\n    &lt;property name=&quot;build.compiler&quot; value=&quot;jikes&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;app.name&quot;              value=&quot;tsr&quot;/&gt;<br/>\n    &lt;property name=&quot;company.name&quot;          value=&quot;mycompnay&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;tomcat.home&quot;           value=&quot;c:/tomcat 4.1&quot;/&gt;<br/>\n    &lt;property name=&quot;app.home&quot;<br/>\n  value=&quot;${tomcat.home}/webapps/${app.name}&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;source.home&quot;<br/>\n  value=&quot;c:/source/${company.name}/${app.name}&quot;/&gt;<br/>\n    &lt;property name=&quot;java.source.home&quot;<br/>\n  value=&quot;c:/source/${company.name}/${app.name}/java&quot;/&gt;<br/>\n    &lt;property name=&quot;test.source.home&quot;<br/>\n  value=&quot;c:/source/${company.name}/${app.name}/java/test&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;deploy.home&quot;<br/>\n  value=&quot;${app.home}/WEB-INF/classes&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;dist.src&quot;              value=&quot;${app.name}.jar&quot;/&gt;<br/>\n    &lt;property name=&quot;dist.war&quot;              value=&quot;${app.name}.war&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;javadoc.home&quot;          value=&quot;${app.home}/javadoc&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;java.home.jre.lib.ext&quot;<br/>\n  value=&quot;${env.JAVA_HOME}/jre/lib/ext&quot;/&gt;<br/>\n    &lt;property name=&quot;java.home&quot;             value=&quot;${env.JAVA_HOME}&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;java.jce&quot;<br/>\nvalue=&quot;${java.home}/lib/jce.jar&quot;/&gt;<br/>\n<br/>\n    &lt;property name=&quot;junit.home&quot;<br/>\n  value=&quot;c:/junit3.8.1/junit.jar;c:/junit3.8.1&quot;/&gt;<br/>\n<br/>\n<br/>\n    &lt;property name=&quot;classpath&quot; value=&quot;<br/>\n       ${app.home};<br/>\n       ${java.source.home};<br/>\n       ${test.source.home};<br/>\n       ${deploy.home};<br/>\n       ${javadoc.home};<br/>\n       ${java.jce};<br/>\n       ${java.home};<br/>\n       ${junit.home};<br/>\n       ${app.home}/WEB-INF/classes/test;<br/>\n       ${source.home}/lib;<br/>\n       ${source.home}/lib/servlet.jar;<br/>\n       ${source.home}/lib/utils.jar;<br/>\n       ${source.home}/lib/mail.jar;<br/>\n       ${source.home}/lib/log4j-1.2.7.jar;<br/>\n       ${source.home}/lib/activation.jar;<br/>\n       ${source.home}/lib/commons-beanutils.jar;<br/>\n       ${source.home}/lib/commons-fileupload.jar;<br/>\n       ${source.home}/lib/classes12.jar;<br/>\n       ${source.home}/JCE/bcprov-jdk13-116.jar;<br/>\n       ${source.home}/lib/xercesImpl.jar;<br/>\n       ${source.home}/lib/xmlParserAPIs.jar&quot;/&gt;<br/>\n<br/>\n<br/>\n    &lt;target name=&quot;compile&quot; depends=&quot;prepare&quot;&gt;<br/>\n      &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n      &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n      &lt;echo&gt;#  Compiling classes at ${app.home}<br/>\n  &lt;/echo&gt;<br/>\n      &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n      &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n      &lt;echo&gt;Compiling ${app.name} with the following environment<br/>\n            classpath = ${classpath};<br/>\n              destdir = ${app.home}/WEB-INF/classes<br/>\n               srcdir = ${java.source.home}<br/>\n      &lt;/echo&gt;<br/>\n<br/>\n      &lt;javac deprecation=&quot;off&quot;<br/>\n                optimize=&quot;off&quot;<br/>\n               classpath=&quot;${classpath};&quot;<br/>\n                 destdir=&quot;${deploy.home}&quot;<br/>\n                  srcdir=&quot;${java.source.home}&quot;<br/>\n                   debug=&quot;on&quot; /&gt;<br/>\n<br/>\n    &lt;/target&gt;<br/>\n<br/>\n<br/>\n    &lt;target name=&quot;unitTest&quot; depends=&quot;clean,prepare,compile&quot;&gt;<br/>\n<br/>\n       &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n       &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n       &lt;echo&gt;#  Unit Testing ${server} server for the ${app.name}<br/>\napplication<br/>\n  &lt;/echo&gt;<br/>\n       &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n       &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n<br/>\n       &lt;junit printsummary=&quot;on&quot; dir=&quot;${deploy.home}/test&quot; &gt;<br/>\n<br/>\n          &lt;formatter type=&quot;plain&quot; usefile=&quot;false&quot; /&gt;<br/>\n          &lt;test name=&quot;test.talisen.tsr.AllTests&quot; /&gt;<br/>\n<br/>\n          &lt;classpath&gt;<br/>\n             &lt;pathelement location=&quot;${classpath}&quot; /&gt;<br/>\n          &lt;/classpath&gt;<br/>\n<br/>\n       &lt;/junit&gt;<br/>\n<br/>\n    &lt;/target&gt;<br/>\n<br/>\n    &lt;!-- Now lets war the site --&gt;<br/>\n    &lt;target name=&quot;war&quot; depends=&quot;prepare,compile&quot;&gt;<br/>\n      &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n      &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n      &lt;echo&gt;#  Creating ${app.name} jar<br/>\n  &lt;/echo&gt;<br/>\n      &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n      &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n      &lt;war includes=&quot;**/*.*&quot;<br/>\n            warfile=&quot;${app.name}.war&quot;<br/>\n            basedir=&quot;${app.home}&quot;<br/>\n             webxml=&quot;${source.home}/WEB-INF/${server}/web.xml&quot; /&gt;<br/>\n<br/>\n    &lt;/target&gt;<br/>\n<br/>\n<br/>\n    &lt;target name=&quot;javadoc&quot; depends=&quot;prepare,compile&quot;&gt;<br/>\n      &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n      &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n      &lt;echo&gt;#  Creating ${app.name} documentation<br/>\n  &lt;/echo&gt;<br/>\n      &lt;echo&gt;#<br/>\n  #&lt;/echo&gt;<br/>\n<br/>\n<br/>\n&lt;echo&gt;#####################################################################&lt;<br/>\n  /echo&gt;<br/>\n      &lt;echo&gt; &lt;/echo&gt;<br/>\n<br/>\n      &lt;javadoc packagenames=&quot;*&quot;<br/>\n                 sourcepath=&quot;${java.source.home}&quot;<br/>\n                  classpath=&quot;${classpath};&quot;<br/>\n                   overview=&quot;overview.html&quot;<br/>\n                    destdir=&quot;${javadoc.home}&quot;<br/>\n                    version=&quot;true&quot;<br/>\n                     author=&quot;true&quot;<br/>\n                        use=&quot;true&quot;/&gt;<br/>\n    &lt;/target&gt;<br/>\n<br/>\n    &lt;!-- ###########################################  --&gt;<br/>\n    &lt;!-- This is the target that needs to be invoked.<br/>\n         To do so open a command prompt and cd to<br/>\n         source/mycompany/tsr/build and run ant all --&gt;<br/>\n    &lt;!-- ###########################################  --&gt;<br/>\n    &lt;target name=&quot;all&quot;<br/>\n  depends=&quot;clean,prepare,compile,unitTest,war,configure,javadoc&quot;/&gt;<br/>\n<br/>\n<br/>\n  &lt;/project&gt;<br/>\n<br/>\n<br/>\n  For some reason junit is not finding the test tree, because it gives me<br/>\nthe<br/>\n  ClassNotFoundException. I have tried all types of combination for the<br/>\n  classpath.<br/>\n  I can add a test class from junit.samples and it finds it ok.<br/>\n<br/>\n  Is there anything obvious that sticks out?  My Compile<br/>\n  step is before my junit step so I do know the classes are available.<br/>\n<br/>\n<br/>\n  Sorry for the huge post...<br/>\n<br/>\n  Thanks for the help<br/>\n<br/>\n  Michael<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n  To unsubscribe from this group, send an email to:<br/>\n  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n<br/>\n<br/>\n  Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n  **********************************************************************<br/>\n  ***** IMPORTANT INFORMATION *****<br/>\n  This document should be read only by those persons to whom<br/>\n  it is addressed and its content is not intended for use by<br/>\n  any other persons. If you have received this message in<br/>\n  error, please notify us immediately. Please also destroy and<br/>\n  delete the message from your computer. Any unauthorised form<br/>\n  of reproduction of this message is strictly prohibited.<br/>\n  St.George is not liable for the proper and complete transmission<br/>\n  of the information contained in this communication, nor for any<br/>\n  delay in its receipt.<br/>\n  **********************************************************************<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 8125, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1053525629", 
    "canDelete": false, 
    "nextInTopic": 8143, 
    "prevInTopic": 0, 
    "headers": {
        "inReplyToHeader": "PHNlY2I0MGM2LjA4MEBzdGdlb3JnZS5jb20uYXU+", 
        "messageIdInHeader": "PE9ERU5LQktPREpOQUlQTEVQS0hISUVQRkNCQUEubWhvbGx5QHRhbGlzZW50ZWNoLmNvbT4="
    }
}