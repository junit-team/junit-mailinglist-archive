{
    "numMessagesInTopic": 2, 
    "nextInTime": 20979, 
    "senderId": "e9g5T3TwhPg_cA6V7k5DVPXYF-t8nHAT8QeIRNqje6KvRk0drpSyizxg87UVSM1PY3Kz8DXr30Y-U2qwVIJaSo_rKcCK5Yjl4ISEPAoK_UWFVU7Hoh7d2qbuKgd9VEEjw8g8KJak5dA", 
    "systemMessage": false, 
    "subject": "Parameterized test - Reading in parameters from a file", 
    "from": "&quot;Prastein, Rebeccah H&quot; &lt;rebeccah.h.prastein@...&gt;", 
    "authorName": "Prastein, Rebeccah H", 
    "msgSnippet": "I m creating parameterized junit4 tests that are to use actual patient data to validate test results for the new system against results obtained using a", 
    "msgId": 20978, 
    "rawEmail": "Return-Path: &lt;rebeccah.h.prastein@...&gt;\r\nX-Sender: rebeccah.h.prastein@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 63478 invoked from network); 17 Oct 2008 22:36:16 -0000\r\nX-Received: from unknown (66.218.67.94)\n  by m42.grp.scd.yahoo.com with QMQP; 17 Oct 2008 22:36:16 -0000\r\nX-Received: from unknown (HELO qdcxa0588.questdiagnostics.com) (216.203.80.95)\n  by mta15.grp.scd.yahoo.com with SMTP; 17 Oct 2008 22:36:16 -0000\r\nX-Received: from ([156.30.11.216])\n\tby qdcxa0588.questdiagnostics.com with ESMTP with TLS id 5503262.43300602;\n\tFri, 17 Oct 2008 18:35:40 -0400\r\nX-Received: from qdcws0933.us.qdx.com (156.30.201.33) by QDCWS0927.us.qdx.com\n (156.30.201.27) with Microsoft SMTP Server id 8.1.291.1; Fri, 17 Oct 2008\n 18:35:53 -0400\r\nX-Received: from QDCWS0277.us.qdx.com ([156.30.224.169]) by qdcws0933.us.qdx.com\n with Microsoft SMTPSVC(6.0.3790.1830);\t Fri, 17 Oct 2008 18:35:38 -0400\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-Class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Fri, 17 Oct 2008 18:35:49 -0400\r\nMessage-ID: &lt;8EDAA4F49F61BD41ADB83550C1CDAE10038F6DF9@...&gt;\r\nX-MS-Has-Attach:\r\nX-MS-TNEF-Correlator:\r\nThread-Topic: Parameterized test - Reading in parameters from a file\r\nThread-Index: AckwqLJG9wdFq/qqSUuI9/Z9l8Vblg==\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReturn-Path: Rebeccah.H.Prastein@...\r\nX-OriginalArrivalTime: 17 Oct 2008 22:35:38.0055 (UTC) FILETIME=[AD847D70:01C930A8]\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Prastein, Rebeccah H&quot; &lt;rebeccah.h.prastein@...&gt;\r\nSubject: Parameterized test - Reading in parameters from a file\r\nX-Yahoo-Group-Post: member; u=358111816; y=Rvu_beEd3J-bJfjqPmyZTtCXFdZg9YUWt080dfH54ZCF8rKr\r\nX-Yahoo-Profile: rprastein\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nI&#39;m creating parameterized junit4 tests that are to use actual patient\r\ndata to validate test results for the new system against results\r\nobtained using a different system.  I have several basic scenarios, each\r\ngetting its own test class.  There is a helper class that contains\r\nmethods, given a value that identifies which scenario it is, to read in\r\nan external csv file containing the parameters for that scenario (test\r\nclass), and construct a List of Arrays of parameters for the different\r\ncases in that scenario.  The parameters themselves include input data to\r\nthe system under test, as well as the expected output data.\r\n \r\nI am able to set up a parameterized test class where I explicitly define\r\nthe parameters and make them into an Array of Arrays, which is then\r\nconverted to a List of Arrays, and used for the testing.  But if I\r\nobtain parameter Collection by calling the appropriate method in the\r\nhelper class, I get a &quot;No runnable methods&quot; error.\r\n \r\nI think I&#39;ve narrowed the problem down to one of not knowing the size of\r\nthe Collection at compile time.  If I initialize a new Array of Arrays\r\nusing literal dimensions, populate it with my List of Arrays, and then\r\nconvert that Array of Arrays back to a List of Arrays again, it seems to\r\nwork.  But if I initialize that intermediate Array of Arrays with\r\nvariables (even static final variables) for dimensions, it doesn&#39;t.  \r\n \r\nThe only way I can see around this is to decide up front a maximum\r\nnumber of cases and maximum number of parameters that can be input, and\r\nhard code it, buried inside the code.  The downside is that junit tries\r\nto run all of them, and all of the extra, unused space in the array,\r\ntranslates to cases of &quot;no runnable methods.&quot;   Does anyone see any\r\nother alternative?\r\n \r\nHere are relevant snippets of my code:\r\n \r\n@RunWith(Parameterized.class)\r\npublic class CalculatorResultPageTest\r\n{\r\n    private Map setupDataMap = new HashMap();\r\n    private HTMLUnitPrep.NVP responseCode;\r\n    private HTMLUnitPrep.NVP revisedDSRisk;\r\n    private WebClient webClient;\r\n    private HtmlPage page ;\r\n    private static final int customerNumOfCases = \r\n            (HTMLUnitPrep.getcustomerPatientsSetupData(\r\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS)).size();\r\n    private static final int customerNumOfParameters = \r\n            (HTMLUnitPrep.getcustomerPatientsSetupData(\r\n \r\nHTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS)).get(0).length;\r\n    \r\n    @Parameters\r\n    public static Collection data()\r\n    {\r\n        //return hardCodedData();\r\n        //return dataFromHTMLUnitPrep();\r\n        //return hybridData1();\r\n        //return hybridData2();\r\n        //return hybridData3();\r\n        //return hybridData4();\r\n        //return hybridData5();\r\n        //return hybridData6();\r\n        return hybridData7();\r\n    }\r\n \r\n    public static Collection hardCodedData()\r\n    {\r\n        HTMLUnitPrep.NVP[][] customerPatientsSetupData = new\r\nHTMLUnitPrep.NVP[][]\r\n        {\r\n            {\r\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r\n                    RESPONSE_CODE.toString(), &quot;&quot;),\r\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r\n                    REVISED_DS_RISK.toString(), &quot;5000&quot;)\r\n            },\r\n                    {\r\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r\n                    RESPONSE_CODE.toString(), &quot;200&quot;),\r\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r\n                    REVISED_DS_RISK.toString(), &quot;10&quot;)\r\n            }\r\n        };\r\n        return Arrays.asList(customerPatientsSetupData);\r\n    }\r\n \r\n    //This really stupid, but for some reason using\r\ndataFromHTMLUnitPrep() instead\r\n    //of hardCodedData() causes &quot;no runnable methods&quot; error.\r\n    //Oh, well, doesn&#39;t solve the problem anyway.\r\n    public static Collection hybridData1()\r\n    {\r\n        List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData1 = \r\n            HTMLUnitPrep.getcustomerPatientsSetupData(\r\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\r\n        int numOfCases = customerPatientsSetupData1.size();\r\n        int numOfParameters =\r\n((HTMLUnitPrep.NVP[])(customerPatientsSetupData1.get(0))).length;\r\n        \r\n        HTMLUnitPrep.NVP[][] customerPatientsSetupData = \r\n                new HTMLUnitPrep.NVP[numOfCases][numOfParameters];\r\n        //for (int i=0; i &lt; numOfCases; i++)\r\n        for (int i=0; i &lt; customerNumOfCases; i++)\r\n        {\r\n            //for (int j=0; j &lt; numOfParameters; j++)\r\n            for (int j=0; j &lt; customerNumOfParameters; j++)\r\n            {\r\n                customerPatientsSetupData[i][j] = \r\n \r\n(HTMLUnitPrep.NVP)(customerPatientsSetupData1.get(i))[j];\r\n            }\r\n        }\r\n        return Arrays.asList(customerPatientsSetupData);\r\n    }\r\n \r\n...\r\n    \r\n    //This one works, but I get No runnable methods for the empty spaces\r\nin the\r\n    //array following the actual (single) case.\r\n    public static Collection hybridData7()\r\n    {\r\n        List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData1 = \r\n            HTMLUnitPrep.getcustomerPatientsSetupData(\r\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\r\n        \r\n        HTMLUnitPrep.NVP[][] customerPatientsSetupData = \r\n                new HTMLUnitPrep.NVP[2][2];\r\n        //for (int i=0; i &lt; numOfCases; i++)\r\n        for (int i=0; i &lt; customerNumOfCases && i &lt; 2; i++)\r\n        {\r\n            //for (int j=0; j &lt; numOfParameters; j++)\r\n            for (int j=0; j &lt; customerNumOfParameters && j &lt; 2; j++)\r\n            {\r\n                customerPatientsSetupData[i][j] = \r\n \r\n(HTMLUnitPrep.NVP)(customerPatientsSetupData1.get(i))[j];\r\n            }\r\n        }\r\n        return Arrays.asList(customerPatientsSetupData);\r\n    }\r\n    \r\n    //Doesn&#39;t work.  No runnable methods.\r\n    public static Collection dataFromHTMLUnitPrep()\r\n    {\r\n        List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData = \r\n            HTMLUnitPrep.getcustomerPatientsSetupData(\r\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\r\n        return customerPatientsSetupData;\r\n    }\r\n    \r\n    public CalculatorResultPageTest(HTMLUnitPrep.NVP responseCode, \r\n            HTMLUnitPrep.NVP revisedDSRisk)\r\n    {\r\n        this.responseCode = responseCode;\r\n        this.revisedDSRisk = revisedDSRisk;\r\n            setupDataMap.put(responseCode.getName(),\r\nresponseCode.getValue());\r\n            setupDataMap.put(revisedDSRisk.getName(),\r\nrevisedDSRisk.getValue());\r\n    }\r\n    \r\n    @Before\r\n    public void callCalculator()\r\n            throws Exception\r\n    {\r\n        ...\r\n    }\r\n \r\n    @Test\r\n    public void displayCalculatorResultPage()\r\n    {\r\n        System.out.println(&quot;page.getWebResponse as a string: &quot; +\r\npage.getWebResponse().getContentAsString());\r\n \r\n        //The following tests work when I use HTMLUnit&#39;s WebClient to\r\nopen the\r\n        //connection, or when I create the HtmlPage from using data\r\nobtained\r\n        //from a java.net.HttpURLConnection AND parse the HTML in it.\r\nIf I leave\r\n        //out the HTML parsing, they all fail:\r\n        \r\n        /*Write the code that verifies whether the form is successfully\r\ndisplayed. */\r\n        WebAssert.assertTitleEquals(page, &quot;Test page Title&quot;);\r\n        WebAssert.assertTextPresent(page, &quot;Test Body Text&quot;);\r\n        WebAssert.assertTextNotPresent(page, &quot;errors entering the\r\npatient data:&quot;);\r\n        final HtmlForm form = page.getFormByName(&quot;calculateForm&quot;);\r\n        final HtmlSubmitInput submitButton = (HtmlSubmitInput)\r\nform.getInputByValue(&quot;Calculate Revised Risks&quot;);\r\n        assertNotNull(&quot;Submit button not found on web claculator form\r\npage&quot;, submitButton);\r\n \r\n        //assertTrue(false);\r\n        \r\n        /*Write the code that fills in the form*/\r\n        /*Write the code that submits the form*/\r\n        /*Write the code that checks the results page.*/\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n------------------------------------------\r\nThe contents of this message, together with any attachments, are\nintended only for the use of the person(s) to which they are\naddressed and may contain confidential and/or privileged\ninformation. Further, any medical information herein is\nconfidential and protected by law. It is unlawful for unauthorized\npersons to use, review, copy, disclose, or disseminate confidential\nmedical information. If you are not the intended recipient,\nimmediately advise the sender and delete this message and any\nattachments. Any distribution, or copying of this message, or any\nattachment, is prohibited.\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "rprastein", 
    "topicId": 20978, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 358111816, 
    "prevInTime": 20977, 
    "contentTrasformed": false, 
    "postDate": "1224282949", 
    "canDelete": false, 
    "nextInTopic": 21003, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDhFREFBNEY0OUY2MUJENDFBREI4MzU1MEMxQ0RBRTEwMDM4RjZERjlAUURDV1MwMjc3LnVzLnFkeC5jb20+"
    }
}