{
    "numMessagesInTopic": 287, 
    "nextInTime": 17851, 
    "senderId": "qAyvs9WPv_9DdCh12ZDsdUugBW54pyURVle_XnUnFnHlgN-hhIPY8XF0HQWnER6PqNmnFm38Qaxc2VG4jBMopwJ1wTKUrm66svmnOv3S3j4", 
    "systemMessage": false, 
    "subject": "Re: Test-friendly, but not caller-friendly?", 
    "from": "Robert Martin &lt;UncleBob@...&gt;", 
    "authorName": "Robert Martin", 
    "msgSnippet": "... public class me { public static void f(IAccount a) {...} } ... interface IAccount2 { public void g(); } ... class MyAccount implements IAccount, IAccount2", 
    "msgId": 17850, 
    "profile": "rmartinoma", 
    "topicId": 17266, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 85922638, 
    "messageBody": "<div id=\"ygrps-yiv-451909093\"><blockquote><span title=\"ireply\">&gt; It seems we&#39;re talking past each other...<br/>\n&gt;<br/>\n&gt; I have a client that uses IAccount.<br/>\n<br/>\n </span></blockquote>public class me {<br/>\n   public static void f(IAccount a) {...}<br/>\n}<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I release an extension of IAccount<br/>\n&gt; called IAccount2, that has a few extra methods,<br/>\n<br/>\n </span></blockquote>interface IAccount2 {<br/>\n   public void g();<br/>\n}<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; but I want to be able to<br/>\n&gt; pass these IAccount2 objects to clients that expect IAccount,<br/>\n<br/>\n </span></blockquote>class MyAccount implements IAccount, IAccount2 {...}<br/>\n<br/>\nIAccount ia = new MyAccount();<br/>\nme.f(ia);  // works just fine.<br/>\n<br/>\nNow, if we want me.f to call g, then we have to change me.f anyway,  <br/>\nso we might as well change it as follows:<br/>\n<br/>\npublic class me {<br/>\n   public static void f(IAccount a) {<br/>\n     ((IAccount2)a).g()<br/>\n   }<br/>\n}<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; and the only<br/>\n&gt; way to do this is to have IAccount2 extend IAccount.<br/>\n<br/>\n </span></blockquote>I think the above does it without having IAccount2 extend from IAccount.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;<br/>\n&gt; Which is why I was saying that since the Interface Segregation  <br/>\n&gt; Principle<br/>\n&gt; doesn&#39;t respect the is-a relationship, it&#39;s of little help for upgrade<br/>\n&gt; problems, and the technique that I described in my initial message  <br/>\n&gt; was the<br/>\n&gt; only viable way to add methods to existing interfaces without breaking<br/>\n&gt; clients.<br/>\n<br/>\n </span></blockquote>There are quite a few ways to add methods to existing interfaces  <br/>\nwithout breaking clients.  Visitor, Decorator, Extension Object, and  <br/>\nISP all manage to do that.<br/>\n<br/>\n<br/>\n----<br/>\nRobert C. Martin (Uncle Bob)  | email: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:unclebob@...\">unclebob@...</a><br/>\nObject Mentor Inc.            | blog:  www.butunclebob.com<br/>\nThe Agile Transition Experts  | web:   www.objectmentor.com<br/>\n800-338-6716                  |<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 17849, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1157662540", 
    "canDelete": false, 
    "nextInTopic": 17888, 
    "prevInTopic": 17849, 
    "headers": {
        "messageIdInHeader": "PDkxMkU4QjFBLUUyRUUtNDcyOC04RDg4LTg2RDFENjZCOTdCM0BvYmplY3RtZW50b3IuY29tPg=="
    }
}