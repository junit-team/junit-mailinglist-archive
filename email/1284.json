{
    "numMessagesInTopic": 26, 
    "nextInTime": 1285, 
    "senderId": "bubfKIgXYehDRzIx81UbvlghKNWT4pR6rJTJdGZRp9agm4uGbPEWSHABw0nrwW5zm-nje7mZsNhAzDxktXfI7wIb", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to test protected and private methods/ fields?", 
    "from": "Dan North &lt;dan@...&gt;", 
    "authorName": "Dan North", 
    "msgSnippet": "In response to Nic s specific example, I would suggest this is crying out for a Strategy design pattern.  In this case, the algorithm and any refinements would", 
    "msgId": 1284, 
    "topicId": 1267, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1812509011\">In response to Nic&#39;s specific example, I would suggest this is crying out <br/>\nfor a Strategy design pattern.  In this case, the algorithm and any <br/>\nrefinements would be represented by their own class and would therefore be <br/>\ntestable in their own right.<br/>\n<br/>\nI agree that a private method probably shouldn&#39;t need independent testing <br/>\noutside of the public/protected method(s) that call it, but I will <br/>\ntypically use a protected method as a default implementation (eg. have an <br/>\ninterface, then an abstract class that implements that interface with some <br/>\ndefault protected implementations, then a bunch of classes that extend the <br/>\nabstract class and override the methods they are interested in).  In this <br/>\ncase, I do actually want to test the protected methods, and Matt&#39;s solution <br/>\nof test cases in the same package in a different directory seems an <br/>\ninherently elegant solution to this problem.<br/>\n<br/>\nStill annoyed that I didn&#39;t know that about protected methods though :o)<br/>\n<br/>\nDan.<br/>\n<br/>\n<br/>\nAt 14:52 23/05/2001 +0100, you wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;Jim Cheesman wrote:<br/>\n&gt;<br/>\n&gt; &gt; At 02:20 PM 23/05/01, you wrote:<br/>\n&gt; &gt; &gt;So to answer the question about private/protected methods: Does a private<br/>\n&gt; &gt; &gt;method expose itself to external components? No - therefore we do not need<br/>\n&gt; &gt; &gt;to test them. Errors within private methods will become apparent from<br/>\n&gt; &gt; &gt;testing the other interfaces.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Undoubtably that&#39;s true. But then if we are accepting that testing<br/>\n&gt; &gt; public/friendly/protected methods adecuately test these methods, why not go<br/>\n&gt; &gt; one step beyond and say that black box testing is all we need? It seems to<br/>\n&gt; &gt; me that testing private methods is as useful and valid as testing<br/>\n&gt; &gt; non-private ones, just at a different level of granularity.<br/>\n&gt;<br/>\n&gt;As a specific example, say I&#39;ve got some computation that involves a fairly<br/>\n&gt;hairy algorithm in one place.  I probably want to encapsulate that algorithm<br/>\n&gt;into its own method so, e.g., I can Substitute in a new Algorithm later when<br/>\n&gt;someone points out that I (again) made the problem a lot harder than it needed<br/>\n&gt;to be.  I may well want to make that method private, though, as its existence<br/>\n&gt;or signature could reveal more about the internals of my class than I&#39;d like;<br/>\n&gt;it might, e.g., have an argument that refers to a component of some (private)<br/>\n&gt;field.<br/>\n&gt;<br/>\n&gt;Presumably I would be _especially_ interested in testing such a method given<br/>\n&gt;that it represents a non-trivial algorithm.  If I&#39;m forced to only test it<br/>\n&gt;indirectly then the tests of the public methods are likely to be harder to<br/>\n&gt;write and may depend in weird ways on this (hidden) implementation decision.<br/>\n&gt;<br/>\n&gt;I find that one of the (many) advantages of breaking things down into little<br/>\n&gt;methods is that writing the tests is both less difficult and less<br/>\n&gt;(psychologically) daunting.  Big methods with complex behaviors are a pain to<br/>\n&gt;test because there&#39;s so much _thinking_ involved in figuring out appropriate<br/>\n&gt;boundary conditions, blah, blah, blah, while little methods are usually much<br/>\n&gt;easier to test just because they&#39;re easier to understand.  The flipside,<br/>\n&gt;though, is (as has been mentioned before) I don&#39;t want the creation of these<br/>\n&gt;little (sub)methods to make my public class interface (and consequently my<br/>\n&gt;public obligations) bigger and more complex.  Thus I almost always make these<br/>\n&gt;new little methods private initially, and only change them to protected or<br/>\n&gt;public later when some clear need arises.  (As others have noted, this is<br/>\n&gt;essentially an application of YAGNI.)<br/>\n&gt;<br/>\n&gt;     Nic<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;To unsubscribe from this group, send an email to:<br/>\n&gt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt;Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n<br/>\n </span></blockquote>--<br/>\nDan North<br/>\nVP Development  -  Cadrion Technologies  -  +44 (0)20 7440 9550<br/>\n<br/>\nCONFIDENTIALITY<br/>\nThis e-mail and any attachments are confidential<br/>\nand may also be privileged. If you are not the named recipient,<br/>\nplease notify the sender immediately and do not disclose the<br/>\ncontents to another person, use it for any purpose, or store<br/>\nor copy the information in any medium</div>", 
    "prevInTime": 1283, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "990629329", 
    "canDelete": false, 
    "nextInTopic": 1285, 
    "prevInTopic": 1283, 
    "headers": {
        "inReplyToHeader": "PDNCMEJDMDlDLjNGRUNBRDRDQG1ycy51bW4uZWR1Pg==", 
        "messageIdInHeader": "PDUuMS4wLjE0LjIuMjAwMTA1MjMxNTQxNTUuMDFmZjQyMThAbWFpbC5jYWRyaW9uLmNvbT4=", 
        "referencesHeader": "PDQuMy4xLjIuMjAwMTA1MjMxNTMwNTguMDJjY2JmYzhAbHVjYXMuY3YubXNsLmVzPg=="
    }
}