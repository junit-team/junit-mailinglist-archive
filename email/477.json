{
    "numMessagesInTopic": 3, 
    "nextInTime": 478, 
    "senderId": "Le17BSBNJEo9mq8YrUqnvNd47uMA6ARplF_jAazIgZMI4iY92M7SsuAujSBv9pC3yEBtwvOXhcdspF8PZIZUDnf3m9D5QY3Z05O9d5kCr3400Xi8sOZM25M", 
    "systemMessage": false, 
    "subject": "RE: WebObjects", 
    "from": "Emily Catharine Bache &lt;emily.bache@...&gt;", 
    "authorName": "Emily Catharine Bache", 
    "msgSnippet": "Yes, we re using junit with WebObjects. I posted a message to the WebObjects list about it a little while ago, (below). I ve since upgraded to junit 3.5 and", 
    "msgId": 477, 
    "topicId": 472, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1828420641\">Yes, we&#39;re using junit with WebObjects. I posted a message to the WebObjects<br/>\nlist about it a little while ago, (below). I&#39;ve since upgraded to junit 3.5<br/>\nand the line which starts the test runner has changed to:<br/>\n<br/>\nnew junit.awtui.TestRunner().start(new String[]{&quot;AllTests&quot;});<br/>\n<br/>\nAnother thing I forgot to mention in the post below is that I&#39;ve added a<br/>\nstatic inner class to my Application which provides access to Application<br/>\nfrom within your TestCase. The inner class is constructed with a live<br/>\napplication in the Application constructor.<br/>\n<br/>\n    /**<br/>\n     * provides static access to the application instance for the unit<br/>\ntests.<br/>\n     */<br/>\n    public static class Access {<br/>\n<br/>\n        private static Access instance;<br/>\n        private Application app;<br/>\n<br/>\n        private Access(Application app) {<br/>\n            this.app = app;<br/>\n        }<br/>\n<br/>\n        public static Access instance() {<br/>\n            return instance;<br/>\n        }<br/>\n<br/>\n        public Application application() {<br/>\n            return app;<br/>\n        }<br/>\n<br/>\n    }<br/>\n<br/>\nThen in your test case you just write<br/>\nApplication.Access.instance().application() to get hold of the reference.<br/>\nFrom there you can call pageWithName() or whatever to get hold of pages, a<br/>\nSession etc.<br/>\n<br/>\nI havn&#39;t yet got this working in a deployment environment, but it&#39;s been<br/>\nvery useful in my development environment.<br/>\n<br/>\nHope that helps,<br/>\n<br/>\nEmily<br/>\n<br/>\n----- posted to &#39;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:webobjects-dev@...\">webobjects-dev@...</a>&#39; on Mon 5th Feb -------<br/>\n<br/>\nI have started to introduce unit testing to an existing WO application. I<br/>\nhave used JUnit on previous pure Java projects and I know how valuable it is<br/>\nto have them. One of the problems I found running JUnit with WO is that your<br/>\nWOComponents etc need to be instantiated with suitably initialised<br/>\nApplication and Session objects, so I found I needed to kick the tests off<br/>\nfrom within the running application, instead of kicking off the tests and<br/>\nhaving them instantiate the application. Therefore I&#39;ve put this bit of code<br/>\nin the constructor of my Main class, which is called after the application<br/>\nis properly started up and is ready to go:<br/>\n<br/>\n\tpublic Main() {<br/>\n        app = (Application) application();<br/>\n        s = (Session) session();<br/>\n<br/>\n        if (app.shouldRunTests() && !app.testsRunningNow()) {<br/>\n            app.setTestsRunningNow(true);<br/>\n<br/>\n            // run the tests in their own thread<br/>\n            Runnable runnable = new Runnable(){<br/>\n                public void run() {<br/>\n                    new junit.ui.TestRunner().start(new<br/>\nString[]{&quot;AllTests&quot;}, new junit.util.StandardTestSuiteLoader());<br/>\n                }<br/>\n            };<br/>\n            Thread testThread = new java.lang.Thread(runnable);<br/>\n            testThread.start();<br/>\n        }<br/>\n    }<br/>\n<br/>\nThe unit tests run in their own thread, but my application wasn&#39;t designed<br/>\nfor multithreading, so I usually wait until all my unit tests have finished<br/>\nbefore trying to access the application manually. The other thing is that if<br/>\nyou click &quot;exit&quot; on the unit test window, your whole application exits - I<br/>\nhavn&#39;t found a way round this yet. Also note that my tests have to be really<br/>\ncareful to leave my Application class in the same state it found it. (It&#39;s<br/>\nfairly easy to set it up so that every test gets its own session).<br/>\n<br/>\nAs for functional, (black box, user perspective) tests, I tried WOUnit,<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://wounit.jmltech.com/\">http://wounit.jmltech.com/</a> (I just tried the site and it&#39;s down - anyone<br/>\nknow what happened to it?) which is based on httpUnit. I found it to be more<br/>\ndesigned for static sites, and wasn&#39;t actually giving me much once I needed<br/>\nto log in and keep track of my session state, so I just used plain httpUnit.<br/>\nThis was working well until I ran into a brick wall: javascript and<br/>\nVBScript. My pages are absolutely littered with the stuff, and httpUnit<br/>\ndoesn&#39;t have any kind of scripting interpreter and can&#39;t imitate a browser<br/>\nin that way. I had to put creation of automated functional tests on hold<br/>\nbasically, until either httpUnit adds support for scripting or we manage to<br/>\nrefactor out the scripting from our pages.<br/>\n<br/>\nI&#39;d be very interested to hear how other WO developers have been using JUnit<br/>\nor other unit testing frameworks, or if you have criticisms of my approach.<br/>\n<br/>\nRegards,<br/>\nEmily<br/>\n<br/>\nadera + Emily Bache<br/>\nMaskingatan 5<br/>\n417 64 GÃ¶teborg<br/>\ne-mail:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:emily.bache@...\">emily.bache@...</a><br/>\nphone int +46 (0)31 779 35 00<br/>\ndirect +46 (0)31 779 35 14<br/>\nmobile +46 (0)703 73 35 14<br/>\nfax +46 (0)31 779 35 99<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.aderagroup.com\">http://www.aderagroup.com</a></div>", 
    "prevInTime": 476, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "982337625", 
    "canDelete": false, 
    "nextInTopic": 481, 
    "prevInTopic": 472, 
    "headers": {
        "messageIdInHeader": "PDQ0MDJDNDM0MDY5NEQ0MTE5NTBEMDA1MDhCRkM4ODc5MTExQkU1QGdiZ250czAzLmdiZy5pbnRyYW5ldD4="
    }
}