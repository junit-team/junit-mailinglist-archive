{
    "numMessagesInTopic": 16, 
    "nextInTime": 17631, 
    "senderId": "Lg6YME7KnEu3QFtub51RY-HZOT-4SYkweD6hLOR7b2P49pGdAzeZXBU4qREcY-gErEH1R_DzIpI-V55kuVpvZvi6zO39NCeokmtEPj58Qw", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to decouple classes for unit testing", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... That sounds like it s the principle of the thing , and kinda feels like a theological rant in the same way you accused us. :) ... We do that. ... I think", 
    "msgId": 17630, 
    "profile": "nails762", 
    "topicId": 17612, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-1278255608\">Pat Farrell wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; J. B. Rainsberger wrote:<br/>\n&gt;  &gt; Pat Farrell wrote:<br/>\n&gt;  &gt;&gt; The signal to noise ratio of this mailing list is very low. Some<br/>\n&gt;  &gt;&gt; people believe in testing, some don&#39;t. There is zero chance that<br/>\n&gt;  &gt;&gt; minds will be changed.<br/>\n&gt; <br/>\n&gt;  &gt; I respect your opinion, but when you complain about the noise on<br/>\n&gt;  &gt; such a low-traffic list, I find it difficult to take you seriously.<br/>\n&gt; <br/>\n&gt; I&#39;m complaining about the ratio of noise to valueable content. The ratio<br/>\n&gt; is the same whether it is a 10 message a day or 1000 message a day list.<br/>\n<br/>\n </span></blockquote>That sounds like &quot;it&#39;s the principle of the thing&quot;, and kinda feels like <br/>\na theological rant in the same way you accused us. :)<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;  &gt; So many of the questions on this list are from beginners too lazy to<br/>\n&gt;  &gt; use Google that, as a balance, I like these discussions (not<br/>\n&gt;  &gt; theological rants, by the way--no need to insult--I, for one, am<br/>\n&gt;  &gt; pragmatic in my discussion, so would that be applied theology?).<br/>\n&gt; <br/>\n&gt; The only sane response to people too lazy to RTFAQ is to give them<br/>\n&gt; a pointer to the faq.<br/>\n<br/>\n </span></blockquote>We do that.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; But the &quot;Test Everything no matter&quot; subject itself is an invitation to<br/>\n&gt; flame, not a basis for rational discussion.<br/>\n<br/>\n </span></blockquote>I think the discussion&#39;s been mainly rational, and when it hasn&#39;t been...<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Let alone this wonderful exchange:<br/>\n&gt;  &gt; &gt; So you&#39;re recommending 100% code coverage?<br/>\n&gt;  &gt; So you&#39;re recommending 0% code coverage?<br/>\n<br/>\n </span></blockquote>...like this, I think we&#39;ve broken it up fairly well. We&#39;re human; we&#39;ll <br/>\nslip up.<br/>\n------<br/>\n<blockquote><span title=\"ireply\"> &gt; I&#39;ve written a few over 300 tests, according to JUnit that are executed<br/>\n&gt; by NetBeans for my small project. Most are literally unit tests.<br/>\n&gt; For example, the code that reads configuration files can be tested by<br/>\n&gt; getting the values read.<br/>\n&gt; <br/>\n&gt; But other classes are &#39;controllers&#39; for finite state machines.<br/>\n&gt; The member functions such as process() read input, feed it to the FSA,<br/>\n&gt; and trigger state changes.<br/>\n&gt; <br/>\n&gt; What test design approach can decouple the Controller class from the FSA<br/>\n&gt; implementation class?<br/>\n&gt; <br/>\n&gt; Similarly, the FSA class calls a &#39;scribe&#39; class to record significant<br/>\n&gt; events to a database. So the FSA is coupled to the persistance layer,<br/>\n&gt; which is coupled to the JDBC driver.<br/>\n&gt; <br/>\n&gt; Clearly one could implement a dummy JDBC driver, but that would most<br/>\n&gt; likely generated more bugs that just using an existing production JDBC<br/>\n&gt; driver.<br/>\n&gt; <br/>\n&gt; So how do folks decouple?<br/>\n<br/>\n </span></blockquote>The simplest technique I know is to make the FSA engine a parameter to <br/>\nthe constructor of the class that uses it. The next step is to extract <br/>\nan interface from the FSA engine, if it isn&#39;t one already. This allows <br/>\nme to simulate the FSA engine in tests.<br/>\n<br/>\nYou&#39;re right: simulating the JDBC driver is not a wise move, given the <br/>\ncomplexity, verbosity and size of the JDBC API. I have tended to go one <br/>\nlevel of abstraction higher, then simulate /that/. Instead of talking <br/>\ndirectly to the JDBC API, I encapsulate those operations into methods <br/>\nthat have business meaning, then simulate /those/ instead. Implementing <br/>\nthose methods by talking to a real database, such as HSQLDB, seems to <br/>\nprovide better ROI than trying to simulate the JDBC API. The good news <br/>\nis that I can test those methods without worrying about how they are <br/>\nused in my application.<br/>\n<br/>\nI hope that helps.<br/>\n-- <br/>\nJ. B. (Joe) Rainsberger :: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.jbrains.ca\">http://www.jbrains.ca</a><br/>\nYour guide to software craftsmanship<br/>\nJUnit Recipes: Practical Methods for Programmer Testing<br/>\n2005 Gordon Pask Award for contribution Agile Software Practice</div>", 
    "prevInTime": 17629, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1156481445", 
    "canDelete": false, 
    "nextInTopic": 17634, 
    "prevInTopic": 17612, 
    "headers": {
        "inReplyToHeader": "PDQ0RUNGMDE1LjMwMDAzMDBAcGZhcnJlbGwuY29tPg==", 
        "messageIdInHeader": "PDQ0RUU4MUE1LjMwNzA2MDVAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PDQ0RUNGMDE1LjMwMDAzMDBAcGZhcnJlbGwuY29tPg=="
    }
}