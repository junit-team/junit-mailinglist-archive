{
    "numMessagesInTopic": 21, 
    "nextInTime": 5724, 
    "senderId": "ZK2lOOUCI7Hal96q9C0H_9g3avgcP5CDLkwB0yy20gF9WVvc_mdjOsOmR9pJtGQ7jbbbt_ZxgnVUrSlHodc8WTKnkwr8_NjttIsl93zLDXF7UhI", 
    "systemMessage": false, 
    "subject": "Re: [junit] test cases for inputs from file", 
    "from": "&quot;Jonathan Gossage&quot; &lt;jonathan@...&gt;", 
    "authorName": "Jonathan Gossage", 
    "msgSnippet": "... From: J. B. Rainsberger  To:  Sent: Monday, September 09, 2002 11:50 AM Subject: Re: [junit] test cases", 
    "msgId": 5723, 
    "rawEmail": "Return-Path: &lt;jonathan@...&gt;\r\nX-Sender: jonathan@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_1_0_1); 9 Sep 2002 16:16:16 -0000\r\nReceived: (qmail 64834 invoked from network); 9 Sep 2002 16:16:16 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m4.grp.scd.yahoo.com with QMQP; 9 Sep 2002 16:16:16 -0000\r\nReceived: from unknown (HELO exchange.cryptocard.internal) (207.35.237.36)\n  by mta3.grp.scd.yahoo.com with SMTP; 9 Sep 2002 16:16:16 -0000\r\nReceived: from jonathandev ([192.168.10.149]) by exchange.cryptocard.internal with Microsoft SMTPSVC(5.0.2195.4905);\n\t Mon, 9 Sep 2002 12:13:52 -0400\r\nMessage-ID: &lt;002f01c2581b$e3bcfcd0$20b6fea9@...&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;20020906110751.4488.h025.c003.wm@...&gt; &lt;200209071405370069.0AED4C57@smtp&gt; &lt;OE35ygLkoXF1Z54RB1O0000a4ae@...&gt; &lt;200209081114100863.0F76B3DB@smtp&gt; &lt;009a01c257fc$32c76a60$950aa8c0@...&gt; &lt;200209091150220488.14BE32C8@smtp&gt;\r\nSubject: Re: [junit] test cases for inputs from file\r\nDate: Mon, 9 Sep 2002 12:13:52 -0400\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: 7bit\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\r\nX-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000\r\nReturn-Path: jonathan@...\r\nX-OriginalArrivalTime: 09 Sep 2002 16:13:52.0782 (UTC) FILETIME=[E3BAB2E0:01C2581B]\r\nFrom: &quot;Jonathan Gossage&quot; &lt;jonathan@...&gt;\r\nX-Yahoo-Group-Post: member; u=43659847\r\nX-Yahoo-Profile: jfgossage\r\n\r\n\n----- Original Message -----\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;\nTo: &lt;junit@yahoogroups.com&gt;\nSent: Monday, September 09, 2002 11:50 AM\nSubject: Re: [junit] test cases for inputs from file\n\n\n&gt; My concurrency knowledge is less than it should be. Could you provide\n&gt; sample code for this? I assume you meant this:\n&gt;\n&gt; class MyTestFixture extends TestCase\n&gt;     setUp:\n&gt;         synchronized (MyTestFixture.class) {\n&gt;             // set up code\n&gt;         }\n&gt;\n&gt;     tearDown:\n&gt;         synchronized (MyTestFixture.class) {\n&gt;             // tear down code\n&gt;         }\n&gt;\n&gt;     testX:\n&gt;         synchronized (MyTestFixture.class) {\n&gt;             // test code\n&gt;         }\n&gt;\n&gt; Thanks.\n\nExactly. Since Junit runs each test in an independent thread and runs the\nsetUp() and tearDown() methods in the main thread this ensres that\neverything is synchronized and that tests do not stomp on each other.\n\n\n&gt;\n&gt;\n&gt; *********** REPLY SEPARATOR  ***********\n&gt;\n&gt; On 2002-09-09 at 08:27 Jonathan Gossage wrote:\n&gt;\n&gt; &gt;----- Original Message -----\n&gt; &gt;From: &quot;J. B. Rainsberger&quot; &lt;jbr@...&gt;\n&gt; &gt;To: &lt;junit@yahoogroups.com&gt;\n&gt; &gt;Sent: Sunday, September 08, 2002 11:14 AM\n&gt; &gt;Subject: Re: [junit] test cases for inputs from file\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;&gt; On a number of occasions I have written a TestCase where setUp()\n&gt; &gt;&gt; creates an object that uses the file system and tearDown() clears\n&gt; the\n&gt; &gt;&gt; entire tree used by that object. I have never successfully had\n&gt; &gt;&gt; tearDown() finish before setUp() started for the next test, owing to\n&gt; &gt;&gt; the fact (I suppose) that the JVM does not block on the system call.\n&gt; &gt;&gt;\n&gt; &gt;&gt; I ended up doing what you suggest: I use a different root directory\n&gt; for\n&gt; &gt;&gt; each test, usually calling it something like\n&gt; &gt;&gt;\n&gt; &gt;&gt;     root-&lt;testClassName&gt;-&lt;testName&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; I then add a shutdown hook to clean them all up.\n&gt; &gt;\n&gt; &gt;I have a similar test situation where I am testing agasinst a smart\n&gt; card\n&gt; &gt;and\n&gt; &gt;my solution\n&gt; &gt;was to synchronize on my test fixture in setUp(), tearDown() and each\n&gt; test\n&gt; &gt;case. This ensured that my tests ran synchronously and that the smart\n&gt; card\n&gt; &gt;was properly cleaned up before the next test started.\n&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; Has anyone used Prevayler? If so, have you come up with any\n&gt; strategies\n&gt; &gt;&gt; for unit testing against the Prevayler without changing its source?\n&gt; I\n&gt; &gt;&gt; have been considering refactoring Prevayler to talk to byte streams\n&gt; and\n&gt; &gt;&gt; having one wrapper around it that uses the file system for\n&gt; production\n&gt; &gt;&gt; and another wrapper that keeps everything in memory for test.\n&gt; &gt;&gt;\n&gt; &gt;&gt; *********** REPLY SEPARATOR  ***********\n&gt; &gt;&gt;\n&gt; &gt;&gt; On 2002-09-07 at 17:37 Andrew Forward wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; &gt;I am curious under what circumstances the file ssytem is too slow\n&gt; to\n&gt; &gt;&gt; &gt;clean up after itself?\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;I have some code that crawls files and directories, so to test this\n&gt; &gt;&gt; &gt;functionality I create the hierachy right in the TestCase.  I use a\n&gt; &gt;&gt; &gt;special createFile(...) method to, of course, create the file, as\n&gt; well\n&gt; &gt;&gt; as\n&gt; &gt;&gt; &gt;track it in a Vector to be cleaned up on every tearDown();\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;Would it be better to increment the root directory name and then\n&gt; &gt;&gt; delete\n&gt; &gt;&gt; &gt;all the structures at the end of all test cases?  Or would this\n&gt; &gt;&gt; present a\n&gt; &gt;&gt; &gt;similar problem when joining multiple tests from multiple test\n&gt; classes\n&gt; &gt;&gt; &gt;(provided they also access the file system in a similar manner).\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;andrew f\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;```````````````````````\n&gt; &gt;&gt; &gt;A common idea is to kill a folder on the file system after every\n&gt; test,\n&gt; &gt;&gt; in\n&gt; &gt;&gt; &gt;order to start with a &quot;clean slate&quot;. Unfortunately, the\n&gt; &gt;&gt; &gt;tests are too fast for the file system, so the file system isn&#39;t\n&gt; clean\n&gt; &gt;&gt; &gt;before the next test starts.\n&gt; &gt;&gt; &gt;```````````\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;[Non-text portions of this message have been removed]\n&gt; &gt;&gt; &gt;\n\nRegards\n\nJonathan Gossage\n\nEmail address: jonathan@...\n\n\n", 
    "profile": "jfgossage", 
    "topicId": 5708, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 43659847, 
    "prevInTime": 5722, 
    "contentTrasformed": false, 
    "postDate": "1031588032", 
    "canDelete": false, 
    "nextInTopic": 5724, 
    "prevInTopic": 5722, 
    "headers": {
        "messageIdInHeader": "PDAwMmYwMWMyNTgxYiRlM2JjZmNkMCQyMGI2ZmVhOUBjcnlwdG9jYXJkLmludGVybmFsPg==", 
        "referencesHeader": "PDIwMDIwOTA2MTEwNzUxLjQ0ODguaDAyNS5jMDAzLndtQG1haWwudGVsb2NpdHkuY29tLmNyaXRpY2FscGF0aC5uZXQ+IDwyMDAyMDkwNzE0MDUzNzAwNjkuMEFFRDRDNTdAc210cD4gPE9FMzV5Z0xrb1hGMVo1NFJCMU8wMDAwYTRhZUBob3RtYWlsLmNvbT4gPDIwMDIwOTA4MTExNDEwMDg2My4wRjc2QjNEQkBzbXRwPiA8MDA5YTAxYzI1N2ZjJDMyYzc2YTYwJDk1MGFhOGMwQGNyeXB0b2NhcmQuaW50ZXJuYWw+IDwyMDAyMDkwOTExNTAyMjA0ODguMTRCRTMyQzhAc210cD4="
    }
}