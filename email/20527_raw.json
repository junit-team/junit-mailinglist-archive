{
    "numMessagesInTopic": 21, 
    "nextInTime": 20528, 
    "senderId": "HnOAJhAcbezeGz9xIxX1Iw8sGDBSUcxoEqJ727__Bvxns4RJzoMZScXMptqy82kvtAww1m8svjgEPuna2Gq7bDREAxyRJHDyXrD3m9GT", 
    "systemMessage": true, 
    "subject": "Re: What is expected behavior on Assert.assertEquals on Number object?", 
    "from": "&quot;Roger Glover&quot; &lt;glover_roger@...&gt;", 
    "authorName": "Roger Glover", 
    "msgSnippet": "... Thank you very much! ... Well if that is the best solution (and I must say that I like it better than the status quo) then the easiest way to do that would", 
    "msgId": 20527, 
    "rawEmail": "Return-Path: &lt;glover_roger@...&gt;\r\nReceived: (qmail 41006 invoked from network); 8 Jun 2008 09:15:06 -0000\r\nReceived: from unknown (66.218.67.96)\n  by m45.grp.scd.yahoo.com with QMQP; 8 Jun 2008 09:15:06 -0000\r\nReceived: from unknown (HELO n30a.bullet.sp1.yahoo.com) (209.131.38.252)\n  by mta17.grp.scd.yahoo.com with SMTP; 8 Jun 2008 09:15:06 -0000\r\nReceived: from [216.252.122.218] by n30.bullet.sp1.yahoo.com with NNFMP; 08 Jun 2008 09:15:06 -0000\r\nReceived: from [66.218.69.4] by t3.bullet.sp1.yahoo.com with NNFMP; 08 Jun 2008 09:15:06 -0000\r\nReceived: from [66.218.66.91] by t4.bullet.scd.yahoo.com with NNFMP; 08 Jun 2008 09:15:06 -0000\r\nX-Sender: glover_roger@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 65395 invoked from network); 8 Jun 2008 03:42:23 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m42.grp.scd.yahoo.com with QMQP; 8 Jun 2008 03:42:23 -0000\r\nX-Received: from unknown (HELO n50a.bullet.mail.sp1.yahoo.com) (66.163.168.144)\n  by mta16.grp.scd.yahoo.com with SMTP; 8 Jun 2008 03:42:23 -0000\r\nX-Received: from [216.252.122.219] by n50.bullet.mail.sp1.yahoo.com with NNFMP; 08 Jun 2008 03:42:23 -0000\r\nX-Received: from [209.73.164.83] by t4.bullet.sp1.yahoo.com with NNFMP; 08 Jun 2008 03:42:23 -0000\r\nX-Received: from [66.218.66.86] by t7.bullet.scd.yahoo.com with NNFMP; 08 Jun 2008 03:42:23 -0000\r\nDate: Sun, 08 Jun 2008 03:42:22 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;g2fkeu+nufl@...&gt;\r\nIn-Reply-To: &lt;F11065F9-C8E9-489B-B60B-9049E211035C@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;Roger Glover&quot; &lt;glover_roger@...&gt;\r\nSubject: Re: What is expected behavior on Assert.assertEquals on Number object?\r\nX-Yahoo-Group-Post: member; u=151020962; y=LK3-afwW-4FOKco8FvRdZC0gYdBfkKhvpPHBn-wRQWLfB9pd599G\r\nX-Yahoo-Profile: glover_roger\r\nX-eGroups-Approved-By: mark_l_salter &lt;marksalter@...&gt; via web; 08 Jun 2008 09:15:05 -0000\r\n\r\n--- In junit@yahoogroups.com, &quot;J. B. Rainsberger&quot; &lt;jbrains762@...&gt; wrote:\n&gt;=\r\n\n&gt; On 2008-06-06, at 08:45 , Roger Glover wrote:\n&gt; &gt; --- In junit@yahoogrou=\r\nps.com, Nattapong Sirilappanich &lt;natta@&gt;\n&gt; &gt; wrote:\n&gt; &gt; &gt; Actually, my poin=\r\nt here is i&#39;m expecting\n&gt; &gt; &gt; org.junit.Assert.assertEquals(Object obj1, Ob=\r\nject obj2) to\n&gt; &gt; &gt; call its obj1.equals(obj2) or something like this. Howe=\r\nver,\n&gt; &gt; &gt; the outcome surprise me. Assertion success but\n&gt; &gt; &gt; obj1.equals=\r\n(obj2) return false.\n&gt; &gt; &gt;\n&gt; &gt; &gt; What&#39;s going on inside assertEquals() oper=\r\nation? Is this\n&gt; &gt; &gt; what it&#39;s suppose to be?\n&gt; &gt;\n&gt; &gt; As I stated, albeit n=\r\not very clearly the first time (Curse you\n&gt; &gt; &quot;Rich Text Editor(Beta)&quot;!), I=\r\n suspect that the culprit here is\n&gt; &gt; that &quot;Assert.assertEquals(Object, Obj=\r\nect)&quot; is not being called\n&gt; &gt; at all. This is borne out by the fact that a =\r\nJ2SE 1.4 compiler\n&gt; &gt; and a JavaSE 1.5 compiler treat the same call complet=\r\nely\n&gt; &gt; differently.\n&gt; &gt;\n&gt; &gt; I *SUSPECT* that the 1.5 compiler is unboxing =\r\nthe Double\n&gt; &gt; objects into primitive longs and that the method that is\n&gt; &gt;=\r\n *ACTUALLY* called is &quot;Assert.assertEquals(long,long)&quot;. This\n&gt; &gt; accounts f=\r\nor the behavior since the integer parts of your two\n&gt; &gt; numbers are the sam=\r\ne. &quot;Assert.assertEquals(long,long)&quot; yields\n&gt; &gt; successful after the Doubles=\r\n are converted (truncated) to\n&gt; &gt; longs.\n&gt; &gt; \n&gt; That&#39;s almost certainly wha=\r\nt is happening, and good deduction.\n\nThank you very much!\n\n&gt; Now we ask the=\r\n question, what&#39;s the better answer? Defeat the  \n&gt; purpose of assertEquals=\r\n(Object,Object) or letting programmers  \n&gt; hoist themselves on their own pe=\r\ntards?\n&gt; \n&gt; JUnit could detect this situation, but if it did, I&#39;d prefer  \n=\r\n&gt; it to warn the programmer rather than fix the problem, because  \n&gt; I want=\r\n to encourage programmers to improve their design:  \n&gt; either the test shou=\r\nld compare the Double values with a  \n&gt; tolerance, or perhaps the productio=\r\nn code ought not to use\n&gt; Doubles.\n\nWell if that is the best solution (and =\r\nI must say that I like it\nbetter than the status quo) then the easiest way =\r\nto do that would\nprobably be to create a bogus &quot;Assert.assertEquals(double,=\r\ndouble)&quot; that:\n\nA) is deprecated (Yes, I mean it. A new method that is depr=\r\necated and\nwith no intent ever to remove it). The javadoc should point to t=\r\nhe\n3-double overload as the preferred alternative and explain why.\n\n*AND*\n\n=\r\nB) is implemented to unconditionally throw\n&quot;UnsupportedOperationException&quot; =\r\n(or similar unchecked standard\nexception) with a message that indicates tha=\r\nt you should use the\n3-double overload instead.\n\n-- Roger Glover\n   Object =\r\nPartners, Inc.\n\n\n", 
    "profile": "glover_roger", 
    "topicId": 20513, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 151020962, 
    "prevInTime": 20526, 
    "contentTrasformed": false, 
    "postDate": "1212896542", 
    "canDelete": false, 
    "nextInTopic": 20529, 
    "prevInTopic": 20523, 
    "headers": {
        "inReplyToHeader": "PEYxMTA2NUY5LUM4RTktNDg5Qi1CNjBCLTkwNDlFMjExMDM1Q0BnbWFpbC5jb20+", 
        "messageIdInHeader": "PGcyZmtldStudWZsQGVHcm91cHMuY29tPg=="
    }
}