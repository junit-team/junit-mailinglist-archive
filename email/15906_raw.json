{
    "numMessagesInTopic": 3, 
    "nextInTime": 15907, 
    "senderId": "VL9CgQjXY9gnKCBZf2nV9C1MmLEv3nDrAhic9INin4iKfltYFvCstp9Xn8Kfgrk6r80yCxRL4oq-a8p5HQi2_g", 
    "systemMessage": false, 
    "subject": "Re: [junit] junit 3.8 Test/TestResult interaction - reality check", 
    "from": "David Saff &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Ian, Sounds like an interesting project.  That is correct JUnit code, but Eclipse provides additional services beyond those explicitly made possible by JUnit", 
    "msgId": 15906, 
    "rawEmail": "Return-Path: &lt;saff@...&gt;\r\nX-Sender: saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 89114 invoked from network); 1 Feb 2006 02:21:20 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m9.grp.scd.yahoo.com with QMQP; 1 Feb 2006 02:21:20 -0000\r\nReceived: from unknown (HELO rozz.csail.mit.edu) (128.30.2.16)\n  by mta4.grp.scd.yahoo.com with SMTP; 1 Feb 2006 02:21:20 -0000\r\nReceived: from c-24-63-251-119.hsd1.ma.comcast.net ([24.63.251.119] helo=[192.168.0.100])\n\tby rozz.csail.mit.edu with esmtpsa (TLSv1:AES256-SHA:256)\n\t(Exim 4.50)\n\tid 1F47c9-0005lp-Ts\n\tfor junit@yahoogroups.com; Tue, 31 Jan 2006 21:20:58 -0500\r\nMessage-ID: &lt;43E01B06.4010806@...&gt;\r\nDate: Tue, 31 Jan 2006 21:20:54 -0500\r\nUser-Agent: Thunderbird 1.5 (Windows/20051201)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;43DFA67F.5080508@...&gt;\r\nIn-Reply-To: &lt;43DFA67F.5080508@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: David Saff &lt;saff@...&gt;\r\nSubject: Re: [junit] junit 3.8 Test/TestResult interaction - reality check\r\nX-Yahoo-Group-Post: member; u=139771899; y=meEnmUkpHZhKXjzZSeOo2OeQ8Ugp-6nCWWnk5hrqBKk\r\nX-Yahoo-Profile: dsaff\r\n\r\nIan,\n\nSounds like an interesting project.  That is correct JUnit code, but \nEclipse provides additional services beyond those explicitly made \npossible by JUnit 3.  Eclipse depends on:\n\n1) Different objects to be passed to startTest and endTest to signify \ndifferent tests\n2) The toString for a Test subclass returning a string like \n&quot;methodName(ClassName)&quot;.\n\nHave you considered using JUnit 4 instead?  The JUnit 4 compatibility \nlayer would take care of this for you.\n\nGood luck,\n\n    David Saff\n\nIan Darwin wrote:\n&gt; I&#39;m trying to write a test runner for a new &quot;subframework&quot; that will\n&gt; read an arbitrary\n&gt; number of tests from a &quot;little language&quot; scripting file, and I&#39;m trying\n&gt; to write this as a Test class\n&gt; (my framework will be released as open source when it is working).\n&gt;\n&gt; I started with the assumption that if the framework calls a Test&#39;s\n&gt; countTestCases\n&gt; it will next call its run() method once and let it run all the tests,\n&gt; and that it expects the\n&gt; test to call results.startTest(this) and endTest(this).  So this is a\n&gt; gloss of my test: is this\n&gt; at all the right approach?\n&gt;\n&gt; // DO NOT JUST COPY THIS CODE, IT DOES NOT WORK YET\n&gt; public class MyTest implements Test {\n&gt;\n&gt;         private String name = &quot;TestRunner&quot;;\n&gt;         final static int MAX = 10;\n&gt;\n&gt;         public int countTestCases() {\n&gt;                 return MAX;\n&gt;         }\n&gt;         public void run(TestResult result) {\n&gt;                 System.out.printf(&quot;MyTest.run(%s)%n&quot;, this);\n&gt;                 for (int i = 0; i &lt; MAX; i++) {\n&gt;                         if (result.shouldStop())\n&gt;                                 return;\n&gt;                         // Do Nothing Slowly(tm), to simulate reading a\n&gt; test from the file\n&gt;                         // and running it...\n&gt;                         try {   \n&gt;                                 Thread.sleep(250);   // so I can see the\n&gt; gauge moving...\n&gt;                         } catch (InterruptedException e) {\n&gt;                         }\n&gt;                       \n&gt;                         result.startTest(this);\n&gt;\n&gt;                         if (i == 6) {\n&gt;                                 System.out.println(&quot;ADDING FAILURE&quot;);\n&gt;                                 result.addFailure(this,\n&gt;                                     new AssertionFailedError(&quot;boo hoo&quot;));\n&gt;                         } else {\n&gt;                                 if (i == 9) {\n&gt;                                         result.addError(this,\n&gt;                                     new RuntimeException(&quot;wah&quot;));\n&gt;                                 }\n&gt;                         }\n&gt;                         result.endTest(this);\n&gt;                 }\n&gt;         }\n&gt;\n&gt;\n&gt; I looked around and couldn&#39;t find commentary describing if I am doing\n&gt; this correctly, but\n&gt; textui.TextRunner.doRun would appear to confirm that I am not violating\n&gt; any assumptions.\n&gt;\n&gt; When I run this under e.g., the Eclipse testrunner, the gauge moves, and\n&gt; turns red at the\n&gt; expected time, but the Failure is replicated through all remaining\n&gt; invocations of that Test.\n&gt; The default testresult implementation adds smth like &quot;new\n&gt; TestFailure(test, exc)&quot; to a\n&gt; Vector, so the non-uniqueness problem seems to be rooted deeper down.\n&gt;\n&gt; As well, clicking on a failure itself results in a popup about test\n&gt; class not found in project.\n&gt;\n&gt; More detailed code is attached in case anyone has time to look. Or wants\n&gt; to play.\n&gt;\n&gt; Thanks\n&gt; Ian Darwin\n&gt;\n&gt;\n&gt;   ----------\n&gt;\n&gt; package regress;\n&gt;\n&gt; import junit.framework.Test;\n&gt; import junit.framework.TestSuite;\n&gt;\n&gt; public class AllTests {\n&gt;\n&gt;       public static Test suite() {\n&gt;             TestSuite suite = new TestSuite(&quot;Test for default package&quot;);\n&gt;             //$JUnit-BEGIN$\n&gt;             suite.addTest(new MyTest(&quot;one&quot;));\n&gt;             suite.addTest(new MyTest(&quot;Two&quot;));\n&gt;             //$JUnit-END$\n&gt;             return suite;\n&gt;       }\n&gt;\n&gt; }\n&gt;\n&gt;\n&gt;   ----------\n&gt;\n&gt; package regress;\n&gt;\n&gt; import junit.framework.AssertionFailedError;\n&gt; import junit.framework.Test;\n&gt; import junit.framework.TestResult;\n&gt;\n&gt; /**\n&gt; * Skeleton for how pageunit will run multiple testcases from\n&gt; * within one Test class. Thanks for Jonathan Fuerth of sqlpower.ca\n&gt; * for the idea on how to set this up.\n&gt; * &lt;br/&gt;\n&gt; * In this version it sort of works, but:\n&gt; * &lt;br/&gt;Once a test has failed, subsequent tests report the same failure;\n&gt; * &lt;br/&gt;Clicking on the failures pops up a dialog about &quot;test class not\n&gt; * found in project...&quot;\n&gt; * @author Ian Darwin\n&gt; */\n&gt; public class MyTest implements Test {\n&gt;      \n&gt;       private String name = &quot;TestRunner&quot;;\n&gt;       final static int MAX = 10;\n&gt;       public MyTest(String name) {\n&gt;             this.name=name;\n&gt;             System.out.printf(&quot;MyTest.MyTest(%s)%n&quot;, name);\n&gt;       }\n&gt;       public MyTest() {\n&gt;             this(&quot;NoName&quot;);\n&gt;       }\n&gt;       public int countTestCases() {\n&gt;             return MAX;\n&gt;       }\n&gt;       int i = 0;\n&gt;       public void run(TestResult result) {\n&gt;             System.out.printf(&quot;MyTest.run(%s)%n&quot;, this);\n&gt;             for (; i &lt; MAX; i++) {\n&gt;                   if (result.shouldStop())\n&gt;                         return;\n&gt;                   System.out.println(&quot;MyTest.run(), i = &quot; + i);\n&gt;                   try {\n&gt;                         Thread.sleep(250);\n&gt;                   } catch (InterruptedException e) {\n&gt;                         // canthappen\n&gt;                   }\n&gt;                   System.out.println(&quot;MyTest.run(): start test&quot;);\n&gt;                   result.startTest(this);\n&gt;                  \n&gt;                   if (i == 6) {\n&gt;                         System.out.println(&quot;ADDING FAILURE&quot;);\n&gt;                         result.addFailure(this, new \n&gt; AssertionFailedError(&quot;boo hoo&quot;));\n&gt;                   } else {\n&gt;                         if (i == 9) {\n&gt;                               result.addError(this, new \n&gt; RuntimeException(&quot;wah&quot;));\n&gt;                         }\n&gt;                   }\n&gt;                   result.endTest(this);\n&gt;             }\n&gt;       }\n&gt;      \n&gt;       @Override\n&gt;       public String toString() {\n&gt;             return getName();\n&gt;       }\n&gt;       public String getName() {\n&gt;             return name + i;\n&gt;       }\n&gt; }\n&gt;\n&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; SPONSORED LINKS\n&gt; Basic programming language \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Basic+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=aLlETYEcZKW67uFZnuZPPw&gt; \n&gt; \tC programming language \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=C+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=n4wEVXDpIBKogo8e_G77cw&gt; \n&gt; \tComputer programming languages \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=Computer+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=KFl1CeQi7jrKmsK4WD6ygQ&gt; \n&gt;\n&gt; The c programming language \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=The+c+programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=lU9w7-4UlGPB4LjDy84c2Q&gt; \n&gt; \tC programming language \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=C+++programming+language&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=dtKotXT1Ne2N9AO_aEbPFQ&gt; \n&gt; \tList of programming languages \n&gt; &lt;http://groups.yahoo.com/gads?t=ms&k=List+of+programming+languages&w1=Basic+programming+language&w2=C+programming+language&w3=Computer+programming+languages&w4=The+c+programming+language&w5=C+++programming+language&w6=List+of+programming+languages&c=6&s=193&.sig=0shmxLBHwrZWcSjC3QvZAA&gt; \n&gt;\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt; YAHOO! GROUPS LINKS\n&gt;\n&gt;     *  Visit your group &quot;junit &lt;http://groups.yahoo.com/group/junit&gt;&quot;\n&gt;       on the web.\n&gt;        \n&gt;     *  To unsubscribe from this group, send an email to:\n&gt;        junit-unsubscribe@yahoogroups.com\n&gt;       &lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt;        \n&gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt;\n&gt;\n&gt; ------------------------------------------------------------------------\n&gt;\n\n\n", 
    "profile": "dsaff", 
    "topicId": 15902, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "prevInTime": 15905, 
    "contentTrasformed": false, 
    "postDate": "1138760454", 
    "canDelete": false, 
    "nextInTopic": 15972, 
    "prevInTopic": 15902, 
    "headers": {
        "inReplyToHeader": "PDQzREZBNjdGLjUwODA1MDhAZGFyd2luc3lzLmNvbT4=", 
        "messageIdInHeader": "PDQzRTAxQjA2LjQwMTA4MDZAbWl0LmVkdT4=", 
        "referencesHeader": "PDQzREZBNjdGLjUwODA1MDhAZGFyd2luc3lzLmNvbT4="
    }
}