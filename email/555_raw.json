{
    "topicId": 555, 
    "postDate": "983215694", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Lucas Filz &lt;lucas.filz@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "I8VEIL5i8YlszMovC7wW1F5h8LII2wwT8IBUBWxBzrij13DkHw58TdLsLlrqzHELotDxGirVtTqKbars3d7U19mOpbH_Z3-Aiw", 
    "nextInTime": 556, 
    "userId": 0, 
    "prevInTime": 554, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEFBQTVGNkIxRTQ2QUQ0MTFBOTlGMDA2MDk3MEQwMDBDMTUxMjY0QG50c2VydmVyPg=="
    }, 
    "authorName": "Lucas Filz", 
    "numMessagesInTopic": 1, 
    "msgSnippet": "I think you should use the parameter -noloading after the class-name ... Von: Herrick, Chuck [mailto:chuck.herrick@agedwards.com] Gesendet: Monday, February", 
    "contentTrasformed": false, 
    "msgId": 555, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;Lucas.Filz@...&gt;\r\nX-Sender: Lucas.Filz@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_0_4); 26 Feb 2001 19:24:50 -0000\r\nReceived: (qmail 39060 invoked from network); 26 Feb 2001 19:24:49 -0000\r\nReceived: from unknown (10.1.10.27) by l7.egroups.com with QMQP; 26 Feb 2001 19:24:49 -0000\r\nReceived: from unknown (HELO ntserver.update.com) (213.164.7.135) by mta2 with SMTP; 26 Feb 2001 19:24:49 -0000\r\nReceived: by ntserver with Internet Mail Service (5.5.2650.21) id &lt;FHPQ8J7S&gt;; Mon, 26 Feb 2001 20:28:25 +0100\r\nMessage-ID: &lt;AAA5F6B1E46AD411A99F0060970D000C151264@ntserver&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: AW: [junit] RE: running an EJB client as a JUnit TestCase\r\nDate: Mon, 26 Feb 2001 20:28:14 +0100\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2650.21)\r\nContent-Type: multipart/alternative; boundary=&quot;----_=_NextPart_001_01C0A02A.4920FF46&quot;\r\nFrom: Lucas Filz &lt;lucas.filz@...&gt;\r\n\r\n\r\n------_=_NextPart_001_01C0A02A.4920FF46\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nI think you should use the parameter -noloading after the class-name\n\n-----=\r\nUrspr=FCngliche Nachricht-----\nVon: Herrick, Chuck [mailto:chuck.herrick@ag=\r\nedwards.com]\nGesendet: Monday, February 26, 2001 6:16 PM\nAn: &#39;junit@yahoogr=\r\noups.com&#39;\nBetreff: [junit] RE: running an EJB client as a JUnit TestCase\n\n\n=\r\n\n\n\tHello, \nI&#39;m running a CMP Entity bean in WebLogic v 5.1.0 sp 8. I&#39;m doin=\r\ng my Java\ncoding using TogetherJ. \n\nI figure it would be a no-brainer to ma=\r\nke an EJB client into a\njunit.framework.TestCase and get junit.swingui.Test=\r\nRunner to run my EJB\nclient for me.\n\n\tAlas, Everything works fine until I e=\r\nxecute the\nPortableRemoteObject.narrow(), in which I get a ClassCastExcepti=\r\non. \n\n\tHere&#39;s what I get:\n--\njava.lang.ClassCastException   \nat\nweblogic.ii=\r\nop.PortableRemoteObjectDelegateImpl.narrow(PortableRemoteObjectDe\nlegateImp=\r\nl.java:94)     \nat javax.rmi.PortableRemoteObject.narrow(PortableRemoteObje=\r\nct.java:137)\n\nat TestClient.lookupHome(TestClient.java:186)  \nat TestClient=\r\n.setUp(TestClient.java:227)\n--\nI figure I might have a -classpath problem. =\r\nI run TestRunner from a .cmd\ncommandline script file, using jdk1.3&#92;bin&#92;java=\r\n -classpath ...\n\n\tDoes TestRunner use %CLASSPATH% when it runs my EJB clien=\r\nt? \n\n\tI may have a ClassLoader problem. Running the same code, from a\nmain(=\r\n) which calls setUp() and mimics TestRunner, runs just fine from the\ncomman=\r\ndline as well as from insdide TogetherJ. In fact, if I cut&#39;n&#39;paste the\n-cla=\r\nsspath from these, I still get the cast exception from a run via\nTestRunner=\r\n.\n\n\tHere is what is weird. I&#39;ve put System.out.println()s in my code,\nusing=\r\n instanceof to test what is returned from the InitialContext.lookup()\nagain=\r\nst the ejb Home interface. this comparison code returns true when run\nfrom =\r\nthe commandline and from inside TogetherJ but false when run from\nTestRunne=\r\nr. In other words,\n\n\t  java.lang.Object o =3D ctx.lookup(&quot;JNDI_NAME&quot;) ; \n  =\r\nSystem.out.println(o.getClass().getName()) ; \n  System.out.println(o instan=\r\nceof FoobarHome) ; \nshould echo first the classname of the WebLogic-generat=\r\ned stub and then the\nword true. \n\n\tRunning inside and outside of TestRunner=\r\n gives indeed the same\nclassname. Running inside TestRunner returns &quot;false&quot;=\r\n and outside TestRunner\nreturns &quot;true.&quot;\n\n\tCan you help? \n\n\t        mailto:c=\r\nhuck.herrick@...\n&lt;mailto:chuck.herrick@...&gt;  \n\n\n\n******=\r\n**********************************************************************\n****=\r\n*******\nWARNING: All e-mail sent to and from this address will be received =\r\nor\notherwise recorded by the A.G. Edwards corporate e-mail system and is\nsu=\r\nbject to archival, monitoring or review by, and/or disclosure to,\nsomeone o=\r\nther than the recipient.\n**************************************************=\r\n**************************\n***********\n\n\nYahoo! Groups Sponsor\t\n \n&lt;http://r=\r\nd.yahoo.com/M=3D140160.1334960.2924124.2/D=3Degroupmail/S=3D1700007181:N/\nA=\r\n=3D488695/?http://www.optionetics.com/free_tym.asp&gt; Become a Better Trader!=\r\n\n\n \n&lt;http://us.adserver.yahoo.com/l?M=3D140160.1334960.2924124.2/D=3Degroup=\r\nmail/S=3D17\n00007181:N/A=3D488695/rand=3D175808729&gt; \t\n\nTo unsubscribe from =\r\nthis group, send an email to:\njunit-unsubscribe@yahoogroups.com\n\n\nYour use =\r\nof Yahoo! Groups is subject to the Yahoo! Terms of Service\n&lt;http://docs.yah=\r\noo.com/info/terms/&gt; . \n\n\n\r\n------_=_NextPart_001_01C0A02A.4920FF46\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META HTTP-EQUIV=3D&quot;Content-Type&quot; CONTENT=3D&quot;text/html; charset=3Diso-8859=\r\n-1&quot;&gt;\n&lt;TITLE&gt;RE: running an EJB client as a JUnit TestCase&lt;/TITLE&gt;\n\n&lt;META co=\r\nntent=3D&quot;MSHTML 5.50.3825.1300&quot; name=3DGENERATOR&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;DIV&gt;&lt;SPAN =\r\nclass=3D101053319-26022001&gt;&lt;FONT face=3DArial color=3D#0000ff size=3D2&gt;I \nt=\r\nhink you should use the parameter -noloading after the \nclass-name&lt;/FONT&gt;&lt;/=\r\nSPAN&gt;&lt;/DIV&gt;\n&lt;BLOCKQUOTE \nstyle=3D&quot;PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORD=\r\nER-LEFT: #0000ff 2px solid&quot;&gt;\n  &lt;DIV class=3DOutlookMessageHeader dir=3Dltr =\r\nalign=3Dleft&gt;&lt;FONT face=3DTahoma \n  size=3D2&gt;-----Urspr=FCngliche Nachricht=\r\n-----&lt;BR&gt;&lt;B&gt;Von:&lt;/B&gt; Herrick, Chuck \n  [mailto:chuck.herrick@...]=\r\n&lt;BR&gt;&lt;B&gt;Gesendet:&lt;/B&gt; Monday, February 26, \n  2001 6:16 PM&lt;BR&gt;&lt;B&gt;An:&lt;/B&gt; &#39;ju=\r\nnit@yahoogroups.com&#39;&lt;BR&gt;&lt;B&gt;Betreff:&lt;/B&gt; [junit] \n  RE: running an EJB clien=\r\nt as a JUnit TestCase&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;BR&gt;\n  &lt;UL&gt;\n    &lt;UL&gt;\n      &lt;P&gt;&lt;FO=\r\nNT face=3DArial size=3D2&gt;Hello,&lt;/FONT&gt;&lt;FONT face=3DArial&gt; &lt;/FONT&gt;&lt;BR&gt;&lt;FONT =\r\n\n      face=3DArial size=3D2&gt;I&#39;m running a CMP Entity bean in WebLogic v 5.=\r\n1.0 sp 8. \n      I&#39;m doing my Java coding using TogetherJ.&lt;/FONT&gt; &lt;BR&gt;&lt;BR&gt;&lt;=\r\nFONT face=3DArial \n      size=3D2&gt;I figure it would be a no-brainer to make=\r\n an EJB client into a \n      junit.framework.TestCase and get junit.swingui=\r\n.TestRunner to run my EJB \n      client for me.&lt;/FONT&gt;&lt;/P&gt;\n      &lt;P&gt;&lt;FONT f=\r\nace=3DArial size=3D2&gt;Alas, Everything works fine until I execute the \n     =\r\n PortableRemoteObject.narrow(), in which I get a \n      ClassCastException.=\r\n&lt;/FONT&gt;&lt;FONT face=3DArial&gt; &lt;/FONT&gt;&lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial size=3D2=\r\n&gt;Here&#39;s what I get:&lt;/FONT&gt;&lt;FONT \n      face=3DArial&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;FONT face=\r\n=3DArial size=3D2&gt;--&lt;/FONT&gt;&lt;FONT \n      face=3DArial&gt;&lt;BR&gt;&lt;/FONT&gt;&lt;FONT face=\r\n=3DArial size=3D2&gt;java.lang.ClassCastException \n      &nbsp;&nbsp;&lt;/FONT&gt;&lt;B=\r\nR&gt;&lt;FONT face=3DArial size=3D2&gt;at \n      weblogic.iiop.PortableRemoteObjectD=\r\nelegateImpl.narrow(PortableRemoteObjectDelegateImpl.java:94) \n      &nbsp;&=\r\nnbsp;&nbsp;&nbsp;&lt;/FONT&gt;&lt;BR&gt;&lt;FONT face=3DArial size=3D2&gt;at \n      javax.rmi=\r\n.PortableRemoteObject.narrow(PortableRemoteObject.java:137) \n      &nbsp;&n=\r\nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;&lt;BR&gt;&lt;FONT face=3DArial \n      size=\r\n=3D2&gt;at TestClient.lookupHome(TestClient.java:186) \n      &nbsp;&lt;/FONT&gt;&lt;BR&gt;=\r\n&lt;FONT face=3DArial size=3D2&gt;at \n      TestClient.setUp(TestClient.java:227)=\r\n&lt;/FONT&gt;&lt;BR&gt;&lt;FONT face=3DArial \n      size=3D2&gt;--&lt;/FONT&gt;&lt;FONT face=3DArial&gt;&lt;=\r\nBR&gt;&lt;/FONT&gt;&lt;FONT face=3DArial size=3D2&gt;I \n      figure I might have a -class=\r\npath problem. I run TestRunner from a .cmd \n      commandline script file, =\r\nusing jdk1.3&#92;bin&#92;java -classpath ...&lt;/FONT&gt;&lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial=\r\n size=3D2&gt;Does TestRunner use %CLASSPATH% when it runs my \n      EJB client=\r\n?&lt;/FONT&gt; &lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial size=3D2&gt;I may have a ClassLoader=\r\n problem. Running the \n      same code, from a main() which calls setUp() a=\r\nnd mimics TestRunner, runs \n      just fine from the commandline as well as=\r\n from insdide TogetherJ. In fact, \n      if I cut&#39;n&#39;paste the -classpath fr=\r\nom these, I still get the cast exception \n      from a run via TestRunner.&lt;=\r\n/FONT&gt;&lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial size=3D2&gt;Here is what is weird. I&#39;ve=\r\n put \n      System.out.println()s in my code, using instanceof to test what=\r\n is \n      returned from the InitialContext.lookup() against the ejb Home i=\r\nnterface. \n      this comparison code returns true when run from the comman=\r\ndline and from \n      inside TogetherJ but false when run from TestRunner. =\r\nIn other \n      words,&lt;/FONT&gt;&lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial size=3D2&gt;&nbs=\r\np; java.lang.Object o =3D \n      ctx.lookup(&quot;JNDI_NAME&quot;) ;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT=\r\n face=3DArial size=3D2&gt;&nbsp; \n      System.out.println(o.getClass().getNam=\r\ne()) ;&lt;/FONT&gt; &lt;BR&gt;&lt;FONT face=3DArial \n      size=3D2&gt;&nbsp; System.out.prin=\r\ntln(o instanceof FoobarHome) ;&lt;/FONT&gt; \n      &lt;BR&gt;&lt;FONT face=3DArial size=3D=\r\n2&gt;should echo first the classname of the \n      WebLogic-generated stub and=\r\n then the word true.&lt;/FONT&gt; &lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial size=3D2&gt;Runni=\r\nng inside and outside of TestRunner gives \n      indeed the same classname.=\r\n Running inside TestRunner returns &quot;false&quot; and \n      outside TestRunner re=\r\nturns &quot;true.&quot;&lt;/FONT&gt;&lt;/P&gt;\n      &lt;P&gt;&lt;FONT face=3DArial size=3D2&gt;Can you help?=\r\n&lt;/FONT&gt; &lt;/P&gt;\n      &lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;U&gt; &lt;FONT f=\r\nace=3DArial \n      color=3D#0000ff size=3D2&gt;&lt;A \n      href=3D&quot;mailto:chuck.=\r\nherrick@...&quot;&gt;mailto:chuck.herrick@...&lt;/A&gt;&lt;/FONT&gt;&lt;/U&gt; \n =\r\n     &lt;/P&gt;&lt;/UL&gt;&lt;/UL&gt;&lt;CODE&gt;&lt;FONT \n  size=3D3&gt;&lt;BR&gt;&lt;BR&gt;************************=\r\n***************************************************************&lt;BR&gt;WARNING:=\r\n \n  All e-mail sent to and from this address will be received or&lt;BR&gt;otherwi=\r\nse \n  recorded by the A.G. Edwards corporate e-mail system and is&lt;BR&gt;subjec=\r\nt to \n  archival, monitoring or review by, and/or disclosure to,&lt;BR&gt;someone=\r\n other than \n  the \n  recipient.&lt;BR&gt;***************************************=\r\n************************************************&lt;BR&gt;&lt;/FONT&gt;&lt;/CODE&gt;&lt;BR&gt;&lt;BR&gt;&lt;=\r\nTT&gt;To \n  unsubscribe from this group, send an email \n  to:&lt;BR&gt;junit-unsubsc=\r\nribe@yahoogroups.com&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Your use of \n  Yahoo! Groups is su=\r\nbject to the &lt;A \n  href=3D&quot;http://docs.yahoo.com/info/terms/&quot;&gt;Yahoo! Terms =\r\nof Service&lt;/A&gt;.&lt;/TT&gt; \n&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------_=_NextPart_001_01C0A02A.4920FF46--\r\n\n", 
    "subject": "AW: [junit] RE: running an EJB client as a JUnit TestCase"
}