{
    "numMessagesInTopic": 14, 
    "nextInTime": 14535, 
    "senderId": "JrZtTLw8pBzn3xooLmuiahRkiI8p_r91oSQ3YVkHU7CuOmHlixKsMM71BsiWCQW1XQCt3oEvhrlMa7lt7AE9eeTv7vqxa7IhE8_6FcgmRw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unit tests design", 
    "from": "Mikhail Shnayderman &lt;mschnayd@...&gt;", 
    "authorName": "Mikhail Shnayderman", 
    "msgSnippet": "D. and David, I agree with David that incremental approach is proably the best approach for extracting commonalities into a base classes, although I am not", 
    "msgId": 14534, 
    "rawEmail": "Return-Path: &lt;mschnayd@...&gt;\r\nX-Sender: mschnayd@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 98686 invoked from network); 31 Aug 2005 15:43:27 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m15.grp.scd.yahoo.com with QMQP; 31 Aug 2005 15:43:27 -0000\r\nReceived: from unknown (HELO web30806.mail.mud.yahoo.com) (68.142.200.149)\n  by mta4.grp.scd.yahoo.com with SMTP; 31 Aug 2005 15:43:27 -0000\r\nReceived: (qmail 19377 invoked by uid 60001); 31 Aug 2005 15:43:26 -0000\r\nMessage-ID: &lt;20050831154326.19375.qmail@...&gt;\r\nReceived: from [12.153.145.6] by web30806.mail.mud.yahoo.com via HTTP; Wed, 31 Aug 2005 08:43:26 PDT\r\nDate: Wed, 31 Aug 2005 08:43:26 -0700 (PDT)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;43158CA5.1040202@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: Mikhail Shnayderman &lt;mschnayd@...&gt;\r\nSubject: Re: [junit] Unit tests design\r\nX-Yahoo-Group-Post: member; u=65933074; y=mfKjXwxtCYXOWn6kRPfHQAg04jbkRpJjVIwr7lWeQPzDzPI\r\nX-Yahoo-Profile: mschnayd\r\n\r\nD. and David,\n\nI agree with David that incremental approach is\nproably the best approach for extracting commonalities\ninto a base classes, although I am not sure that in\nthis case you would not be able to have a delegation\nbased approach.  \n\nIt seems to me that what you are talking about is a \nway to extract common fixture setup and teardown code\nand reuse that.  Maybe Abstract test cases is not what\nyou really need and if you are you will be able to\nrefactor to something similar to what I am outlining.\n\nHere is a solution that I would probably consider.\n\npublic interface IFixture {\n   public void setUp() {\n   }\n   public void tearDown() {\n   }\n}\n\npublic interface IBaseFixture extends IFixture {\n   public void setUp() {\n   }\n   public void tearDown() {\n   }\n}\n\npublic class FixtureForInterfaceA implements\nIBaseFixture {\n\n  // public accessors for fixture data\n  public void ... get\n  ...\n\n  public void setUp() {\n     // setup fixture data ...\n  }\n\n  public void tearDown() {\n     // tear down fixture data ...\n  }\n}\n\npublic class FixtureForInterfaceB implements\nIBaseFixture {\n\n  // public accessors for fixture data\n  public void ... get\n  ...\n\n  public void setUp() {\n     // setup fixture data ...\n  }\n\n  public void tearDown() {\n     // tear down fixture data ...\n  }\n}\n\npublic class FixtureForConcreteClassImplementingAandB\nimplements IFixture {\n   public FixtureForInterfaceA baseFixtureForA = new\nFixtureForInterfaceA();\n   public FixtureForInterfaceB baseFixtureForB = new \nFixtureForInterfaceB();\n\n   // public accessors for fixture data\n   public void ... get\n   ...\n\n   public FixtureForInterfaceA getIAFixture() {\n      return baseFixtureForA;\n   }\n\n   public FixtureForInterfaceB getIBFixture() {\n      return baseFixtureForB;\n   }\n\n   public void setUp() {\n     baseFixtureForA.setUp();\n     baseFixtureForB.setup();\n     // ... setup own fixture data\n   }\n\n   public void tearDown() {\n     // .. teardown own fixture data.\n     baseFixtureForB.tearDown();\n     baseFixtureForA.tearDown();   \n   }\n\n}\n\npublic class\nMyTestCaseForConcreteClassImplementingAandB extends\nTestCase {\n\n  FixtureForConcreteClassImplementingAandB fixture =\n      new FixtureForConcreteClassImplementingAandB();\n\n  public void setUp() {\n     fixture.setUp();\n  }\n\n  public testFoo() {\n     foo(fixture.get...);\n     ...\n     foo(fixture.getIAFixture().get...);\n  }\n\n  public void tearDown() {\n     fixture.tearDown();\n  }\n} \n\nOfcourse what I did there is a first shot.  \nIt may seem somewhat complicated but all I really did\nis encapsulated Fixture and fixture data \nand created BaseFixtures as well as ConcreteFixtures\nthat will be used in Concrete class test cases.\n\nIf you need to reuse more than just fixture code, you\ncan create a different abstraction for resuablity,\npossibly even a set of base test-cases.\n\nI know this is not truly LSP solution that you had in\nmind, but this I think does answer your &quot;requirement&quot; \nfor fixture reusablity.\n\nHope this helps, Mikhail\n\n\n\n \n\n--- David Saff &lt;saff@...&gt; wrote:\n\n&gt; D,\n&gt; \n&gt; It&#39;s an interesting problem.  Have you tried going\n&gt; at it incrementally?  \n&gt; Go ahead and write the unit tests for two or three\n&gt; of your classes, \n&gt; cutting and pasting if necessary.  Then go back and\n&gt; see what you have to \n&gt; do to remove the duplication.  I often find this to\n&gt; be an effective way \n&gt; to make an abstract question concrete.\n&gt; \n&gt; If, in the midst of doing this exercise, you find\n&gt; yourself with a small, \n&gt; focused example of a place where you would be\n&gt; tempted to use multiple \n&gt; inheritance, please post it.  I&#39;m willing to bet,\n&gt; with even odds, that \n&gt; you&#39;ll quickly find other ways of gracefully doing\n&gt; what you need.  Good \n&gt; luck,\n&gt; \n&gt;     David Saff\n&gt; \n&gt; Java Questions wrote:\n&gt; \n&gt; &gt; Hi everyone,\n&gt; &gt;\n&gt; &gt; I&#39;m faced with a &quot;design problem&quot; and I was hoping\n&gt; that some\n&gt; &gt; experienced developer could help me figure out how\n&gt; to sort it out.\n&gt; &gt;\n&gt; &gt; I use a lot of small interfaces in my application,\n&gt; each of which has a\n&gt; &gt; very precise purpose. Most of my &quot;concrete&quot;\n&gt; classes implement more\n&gt; &gt; than one of these interfaces.\n&gt; &gt;\n&gt; &gt; Now, I was hoping to find a way to refactor my\n&gt; tests so that each\n&gt; &gt; interface has its own abstract TestCase. Then, if\n&gt; multiple inheritance\n&gt; &gt; was allowed in Java, I could simply implement each\n&gt; classes concrete\n&gt; &gt; classe&#39;s TestCase by inheriting from all the\n&gt; appropriate &quot;interface\n&gt; &gt; TestCases&quot;.\n&gt; &gt;\n&gt; &gt; This would allow me to inherit all the general\n&gt; purpose fixtures and\n&gt; &gt; simply add some new fixtures targeted for the\n&gt; concrete classe&#39;s\n&gt; &gt; specific behavior. In a way, I simply want to\n&gt; enforce the &quot;Liskov\n&gt; &gt; Substitution Principle&quot; as simply as possible...\n&gt; &gt;\n&gt; &gt; I know multiple inheritance isn&#39;t allowed in Java\n&gt; and should be\n&gt; &gt; avoided anyway but I&#39;d like to find a simple way\n&gt; to keep the general\n&gt; &gt; idea of &quot;interface specific super TestCases&quot; and\n&gt; apply it to classes\n&gt; &gt; implementing several of these interfaces.\n&gt; &gt;\n&gt; &gt; Is the general idea a good one ? If it is, what is\n&gt;  the best way to \n&gt; &gt; achieve it ?\n&gt; &gt;\n&gt; &gt; Thanks in advance,\n&gt; &gt;\n&gt; &gt; D.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n------------------------------------------------------------------------\n&gt; &gt; YAHOO! GROUPS LINKS\n&gt; &gt;\n&gt; &gt;     *  Visit your group &quot;junit\n&gt; &lt;http://groups.yahoo.com/group/junit&gt;&quot;\n&gt; &gt;       on the web.\n&gt; &gt;        \n&gt; &gt;     *  To unsubscribe from this group, send an\n&gt; email to:\n&gt; &gt;        junit-unsubscribe@yahoogroups.com\n&gt; &gt;      \n&gt;\n&lt;mailto:junit-unsubscribe@yahoogroups.com?subject=Unsubscribe&gt;\n&gt; &gt;        \n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the\n&gt; Yahoo! Terms of\n&gt; &gt;       Service &lt;http://docs.yahoo.com/info/terms/&gt;.\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n------------------------------------------------------------------------\n&gt; &gt;\n&gt; \n&gt; \n\n\n\n\t\t\n__________________________________ \nYahoo! Mail for Mobile \nTake Yahoo! Mail with you! Check email on your mobile phone. \nhttp://mobile.yahoo.com/learn/mail \n\n", 
    "profile": "mschnayd", 
    "topicId": 14519, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 65933074, 
    "prevInTime": 14533, 
    "contentTrasformed": false, 
    "postDate": "1125503006", 
    "canDelete": false, 
    "nextInTopic": 14535, 
    "prevInTopic": 14526, 
    "headers": {
        "inReplyToHeader": "PDQzMTU4Q0E1LjEwNDAyMDJAbWl0LmVkdT4=", 
        "messageIdInHeader": "PDIwMDUwODMxMTU0MzI2LjE5Mzc1LnFtYWlsQHdlYjMwODA2Lm1haWwubXVkLnlhaG9vLmNvbT4="
    }
}