{
    "numMessagesInTopic": 2, 
    "nextInTime": 20979, 
    "senderId": "aDNH7VugaTcQ2Y6UBCIFmU3u2kKpZttiXS_NbyzuOBuRYckZe0EUb-WNLdpgBwh25IuTYGUbFdbrK48Gf9ttmhBzk8ftTVXwqYMe7MpScaAC0h3pmhzW4_ij8mKjkcy--k8eDpplOFY", 
    "systemMessage": false, 
    "subject": "Parameterized test - Reading in parameters from a file", 
    "from": "&quot;Prastein, Rebeccah H&quot; &lt;rebeccah.h.prastein@...&gt;", 
    "authorName": "Prastein, Rebeccah H", 
    "msgSnippet": "I m creating parameterized junit4 tests that are to use actual patient data to validate test results for the new system against results obtained using a", 
    "msgId": 20978, 
    "profile": "rprastein", 
    "topicId": 20978, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 358111816, 
    "messageBody": "<div id=\"ygrps-yiv-603502061\">I&#39;m creating parameterized junit4 tests that are to use actual patient\r<br/>\ndata to validate test results for the new system against results\r<br/>\nobtained using a different system.  I have several basic scenarios, each\r<br/>\ngetting its own test class.  There is a helper class that contains\r<br/>\nmethods, given a value that identifies which scenario it is, to read in\r<br/>\nan external csv file containing the parameters for that scenario (test\r<br/>\nclass), and construct a List of Arrays of parameters for the different\r<br/>\ncases in that scenario.  The parameters themselves include input data to\r<br/>\nthe system under test, as well as the expected output data.\r<br/>\n \r<br/>\nI am able to set up a parameterized test class where I explicitly define\r<br/>\nthe parameters and make them into an Array of Arrays, which is then\r<br/>\nconverted to a List of Arrays, and used for the testing.  But if I\r<br/>\nobtain parameter Collection by calling the appropriate method in the\r<br/>\nhelper class, I get a &quot;No runnable methods&quot; error.\r<br/>\n \r<br/>\nI think I&#39;ve narrowed the problem down to one of not knowing the size of\r<br/>\nthe Collection at compile time.  If I initialize a new Array of Arrays\r<br/>\nusing literal dimensions, populate it with my List of Arrays, and then\r<br/>\nconvert that Array of Arrays back to a List of Arrays again, it seems to\r<br/>\nwork.  But if I initialize that intermediate Array of Arrays with\r<br/>\nvariables (even static final variables) for dimensions, it doesn&#39;t.  \r<br/>\n \r<br/>\nThe only way I can see around this is to decide up front a maximum\r<br/>\nnumber of cases and maximum number of parameters that can be input, and\r<br/>\nhard code it, buried inside the code.  The downside is that junit tries\r<br/>\nto run all of them, and all of the extra, unused space in the array,\r<br/>\ntranslates to cases of &quot;no runnable methods.&quot;   Does anyone see any\r<br/>\nother alternative?\r<br/>\n \r<br/>\nHere are relevant snippets of my code:\r<br/>\n \r<br/>\n@RunWith(Parameterized.class)\r<br/>\npublic class CalculatorResultPageTest\r<br/>\n{\r<br/>\n    private Map setupDataMap = new HashMap();\r<br/>\n    private HTMLUnitPrep.NVP responseCode;\r<br/>\n    private HTMLUnitPrep.NVP revisedDSRisk;\r<br/>\n    private WebClient webClient;\r<br/>\n    private HtmlPage page ;\r<br/>\n    private static final int customerNumOfCases = \r<br/>\n            (HTMLUnitPrep.getcustomerPatientsSetupData(\r<br/>\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS)).size();\r<br/>\n    private static final int customerNumOfParameters = \r<br/>\n            (HTMLUnitPrep.getcustomerPatientsSetupData(\r<br/>\n \r<br/>\nHTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS)).get(0).length;\r<br/>\n    \r<br/>\n    @Parameters\r<br/>\n    public static Collection data()\r<br/>\n    {\r<br/>\n        //return hardCodedData();\r<br/>\n        //return dataFromHTMLUnitPrep();\r<br/>\n        //return hybridData1();\r<br/>\n        //return hybridData2();\r<br/>\n        //return hybridData3();\r<br/>\n        //return hybridData4();\r<br/>\n        //return hybridData5();\r<br/>\n        //return hybridData6();\r<br/>\n        return hybridData7();\r<br/>\n    }\r<br/>\n \r<br/>\n    public static Collection hardCodedData()\r<br/>\n    {\r<br/>\n        HTMLUnitPrep.NVP[][] customerPatientsSetupData = new\r<br/>\nHTMLUnitPrep.NVP[][]\r<br/>\n        {\r<br/>\n            {\r<br/>\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r<br/>\n                    RESPONSE_CODE.toString(), &quot;&quot;),\r<br/>\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r<br/>\n                    REVISED_DS_RISK.toString(), &quot;5000&quot;)\r<br/>\n            },\r<br/>\n                    {\r<br/>\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r<br/>\n                    RESPONSE_CODE.toString(), &quot;200&quot;),\r<br/>\n            new HTMLUnitPrep.NVP(HTMLUnitPrep.ExpectedCalculatorOutput.\r<br/>\n                    REVISED_DS_RISK.toString(), &quot;10&quot;)\r<br/>\n            }\r<br/>\n        };\r<br/>\n        return Arrays.asList(customerPatientsSetupData);\r<br/>\n    }\r<br/>\n \r<br/>\n    //This really stupid, but for some reason using\r<br/>\ndataFromHTMLUnitPrep() instead\r<br/>\n    //of hardCodedData() causes &quot;no runnable methods&quot; error.\r<br/>\n    //Oh, well, doesn&#39;t solve the problem anyway.\r<br/>\n    public static Collection hybridData1()\r<br/>\n    {\r<br/>\n        List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData1 = \r<br/>\n            HTMLUnitPrep.getcustomerPatientsSetupData(\r<br/>\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\r<br/>\n        int numOfCases = customerPatientsSetupData1.size();\r<br/>\n        int numOfParameters =\r<br/>\n((HTMLUnitPrep.NVP[])(customerPatientsSetupData1.get(0))).length;\r<br/>\n        \r<br/>\n        HTMLUnitPrep.NVP[][] customerPatientsSetupData = \r<br/>\n                new HTMLUnitPrep.NVP[numOfCases][numOfParameters];\r<br/>\n        //for (int i=0; i &lt; numOfCases; i++)\r<br/>\n        for (int i=0; i &lt; customerNumOfCases; i++)\r<br/>\n        {\r<br/>\n            //for (int j=0; j &lt; numOfParameters; j++)\r<br/>\n            for (int j=0; j &lt; customerNumOfParameters; j++)\r<br/>\n            {\r<br/>\n                customerPatientsSetupData[i][j] = \r<br/>\n \r<br/>\n(HTMLUnitPrep.NVP)(customerPatientsSetupData1.get(i))[j];\r<br/>\n            }\r<br/>\n        }\r<br/>\n        return Arrays.asList(customerPatientsSetupData);\r<br/>\n    }\r<br/>\n \r<br/>\n...\r<br/>\n    \r<br/>\n    //This one works, but I get No runnable methods for the empty spaces\r<br/>\nin the\r<br/>\n    //array following the actual (single) case.\r<br/>\n    public static Collection hybridData7()\r<br/>\n    {\r<br/>\n        List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData1 = \r<br/>\n            HTMLUnitPrep.getcustomerPatientsSetupData(\r<br/>\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\r<br/>\n        \r<br/>\n        HTMLUnitPrep.NVP[][] customerPatientsSetupData = \r<br/>\n                new HTMLUnitPrep.NVP[2][2];\r<br/>\n        //for (int i=0; i &lt; numOfCases; i++)\r<br/>\n        for (int i=0; i &lt; customerNumOfCases && i &lt; 2; i++)\r<br/>\n        {\r<br/>\n            //for (int j=0; j &lt; numOfParameters; j++)\r<br/>\n            for (int j=0; j &lt; customerNumOfParameters && j &lt; 2; j++)\r<br/>\n            {\r<br/>\n                customerPatientsSetupData[i][j] = \r<br/>\n \r<br/>\n(HTMLUnitPrep.NVP)(customerPatientsSetupData1.get(i))[j];\r<br/>\n            }\r<br/>\n        }\r<br/>\n        return Arrays.asList(customerPatientsSetupData);\r<br/>\n    }\r<br/>\n    \r<br/>\n    //Doesn&#39;t work.  No runnable methods.\r<br/>\n    public static Collection dataFromHTMLUnitPrep()\r<br/>\n    {\r<br/>\n        List&lt;HTMLUnitPrep.NVP[]&gt; customerPatientsSetupData = \r<br/>\n            HTMLUnitPrep.getcustomerPatientsSetupData(\r<br/>\n                HTMLUnitPrep.SuiteType.CUSTOMER_PATIENTS);\r<br/>\n        return customerPatientsSetupData;\r<br/>\n    }\r<br/>\n    \r<br/>\n    public CalculatorResultPageTest(HTMLUnitPrep.NVP responseCode, \r<br/>\n            HTMLUnitPrep.NVP revisedDSRisk)\r<br/>\n    {\r<br/>\n        this.responseCode = responseCode;\r<br/>\n        this.revisedDSRisk = revisedDSRisk;\r<br/>\n            setupDataMap.put(responseCode.getName(),\r<br/>\nresponseCode.getValue());\r<br/>\n            setupDataMap.put(revisedDSRisk.getName(),\r<br/>\nrevisedDSRisk.getValue());\r<br/>\n    }\r<br/>\n    \r<br/>\n    @Before\r<br/>\n    public void callCalculator()\r<br/>\n            throws Exception\r<br/>\n    {\r<br/>\n        ...\r<br/>\n    }\r<br/>\n \r<br/>\n    @Test\r<br/>\n    public void displayCalculatorResultPage()\r<br/>\n    {\r<br/>\n        System.out.println(&quot;page.getWebResponse as a string: &quot; +\r<br/>\npage.getWebResponse().getContentAsString());\r<br/>\n \r<br/>\n        //The following tests work when I use HTMLUnit&#39;s WebClient to\r<br/>\nopen the\r<br/>\n        //connection, or when I create the HtmlPage from using data\r<br/>\nobtained\r<br/>\n        //from a java.net.HttpURLConnection AND parse the HTML in it.\r<br/>\nIf I leave\r<br/>\n        //out the HTML parsing, they all fail:\r<br/>\n        \r<br/>\n        /*Write the code that verifies whether the form is successfully\r<br/>\ndisplayed. */\r<br/>\n        WebAssert.assertTitleEquals(page, &quot;Test page Title&quot;);\r<br/>\n        WebAssert.assertTextPresent(page, &quot;Test Body Text&quot;);\r<br/>\n        WebAssert.assertTextNotPresent(page, &quot;errors entering the\r<br/>\npatient data:&quot;);\r<br/>\n        final HtmlForm form = page.getFormByName(&quot;calculateForm&quot;);\r<br/>\n        final HtmlSubmitInput submitButton = (HtmlSubmitInput)\r<br/>\nform.getInputByValue(&quot;Calculate Revised Risks&quot;);\r<br/>\n        assertNotNull(&quot;Submit button not found on web claculator form\r<br/>\npage&quot;, submitButton);\r<br/>\n \r<br/>\n        //assertTrue(false);\r<br/>\n        \r<br/>\n        /*Write the code that fills in the form*/\r<br/>\n        /*Write the code that submits the form*/\r<br/>\n        /*Write the code that checks the results page.*/\r<br/>\n    }\r<br/>\n    \r<br/>\n}\r<br/>\n\r<br/>\n\r<br/>\n\r<br/>\n------------------------------------------\r<br/>\nThe contents of this message, together with any attachments, are<br/>\nintended only for the use of the person(s) to which they are<br/>\naddressed and may contain confidential and/or privileged<br/>\ninformation. Further, any medical information herein is<br/>\nconfidential and protected by law. It is unlawful for unauthorized<br/>\npersons to use, review, copy, disclose, or disseminate confidential<br/>\nmedical information. If you are not the intended recipient,<br/>\nimmediately advise the sender and delete this message and any<br/>\nattachments. Any distribution, or copying of this message, or any<br/>\nattachment, is prohibited.<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 20977, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1224282949", 
    "canDelete": false, 
    "nextInTopic": 21003, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDhFREFBNEY0OUY2MUJENDFBREI4MzU1MEMxQ0RBRTEwMDM4RjZERjlAUURDV1MwMjc3LnVzLnFkeC5jb20+"
    }
}