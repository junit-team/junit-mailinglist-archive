{
    "numMessagesInTopic": 15, 
    "nextInTime": 6602, 
    "senderId": "Wm_jyzqIhn9rC-et_cUhmHFfHsaKVHVt9zIoSrtwonD5CFRkXnroAH2pYpkRM_Uz7sykA8iAE8EL23GbXryMS2Sbx-ejE_Mr4gu1l0iJf5xWEA", 
    "systemMessage": false, 
    "subject": "Re: Conditional tearDown()", 
    "from": "&quot;Brian &lt;br524@...&gt;&quot; &lt;br524@...&gt;", 
    "authorName": "Brian &lt;br524@yahoo.com&gt;", 
    "msgSnippet": "No, you have a good point. The problem is that my test writes to the database, then I call the method that I m unit testing which performs several database", 
    "msgId": 6601, 
    "rawEmail": "Return-Path: &lt;br524@...&gt;\r\nReceived: (qmail 23723 invoked from network); 3 Jan 2003 18:06:51 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m12.grp.scd.yahoo.com with QMQP; 3 Jan 2003 18:06:51 -0000\r\nReceived: from unknown (HELO n6.grp.scd.yahoo.com) (66.218.66.90)\n  by mta3.grp.scd.yahoo.com with SMTP; 3 Jan 2003 18:06:51 -0000\r\nX-eGroups-Return: br524@...\r\nReceived: from [66.218.67.166] by n6.grp.scd.yahoo.com with NNFMP; 03 Jan 2003 18:06:51 -0000\r\nX-Sender: br524@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_2_3_0); 3 Jan 2003 18:04:01 -0000\r\nReceived: (qmail 89759 invoked from network); 3 Jan 2003 18:04:01 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m10.grp.scd.yahoo.com with QMQP; 3 Jan 2003 18:04:01 -0000\r\nReceived: from unknown (HELO n29.grp.scd.yahoo.com) (66.218.66.85)\n  by mta3.grp.scd.yahoo.com with SMTP; 3 Jan 2003 18:04:01 -0000\r\nReceived: from [66.218.67.183] by n29.grp.scd.yahoo.com with NNFMP; 03 Jan 2003 18:04:00 -0000\r\nDate: Fri, 03 Jan 2003 18:03:58 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Re: Conditional tearDown()\r\nMessage-ID: &lt;av4jae+cus5@...&gt;\r\nIn-Reply-To: &lt;000201c2b34f$8b41aa80$1f9cd68d@RHINO&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 3334\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;Brian &lt;br524@...&gt;&quot; &lt;br524@...&gt;\r\nX-Yahoo-Group-Post: member; u=102220977\r\nX-Yahoo-Profile: br524\r\nX-eGroups-Approved-By: clarkware &lt;mike@...&gt; via web; 03 Jan 2003 18:06:48 -0000\r\n\r\nNo, you have a good point.\n\nThe problem is that my test writes to the database, then I call the\nmethod that I&#39;m unit testing which performs several database functions\nwithin a transaction, then I read from the database again to test the\nvalues.  The test could fail at any one of these three points.\n\nYour suggestion of cleaning up code though made me look at the\ntransactional method I was testing though...it turns out I was missing\na rollback() call, so thanks!  But that still doesn&#39;t solve the\nproblem I have with three points of failure within my test.  If you\nhave any ideas as to how to get around this, I&#39;m all ears.\n\n-Brian\n\n--- In junit@yahoogroups.com, &quot;Jason Rogers&quot; &lt;jacaetevha@f...&gt; wrote:\n&gt; Could you not use the opportunity to clean up your code such that\nyou\n&gt; don&#39;t need to visually inspect the DB?  I realize that there may be\n&gt; times when you absolutely need the visual inspection (though I can&#39;t\n&gt; think of one off the bat), nevertheless, this seems like a subtle\nform\n&gt; of test dependencies or spaghetti code, or some other code-smell. \nSorry\n&gt; if that sounds harsh -- I am certainly not trying to be judgemental,\n&gt; just reflective.\n&gt; \n&gt; =jason\n&gt; [:question | ^One] \n&gt; \n&gt; -----Original Message-----\n&gt; From: Kendall Collett [mailto:przkiie02@s...] \n&gt; Sent: Friday, January 03, 2003 12:41 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Re: Conditional tearDown()\n&gt; \n&gt; \n&gt; I could use a conditional clean-up in tearDown, for exactly the same\n&gt; reason\n&gt; as Brian.\n&gt; \n&gt; When I first ran into this issue; I didn&#39;t think of trying to make\nthe\n&gt; tearDown() clean-up conditional.  Instead, I adopted a convention of\n&gt; having\n&gt; my setUp()s perform the clean-up for the next test.  In other\nwords, for\n&gt; a\n&gt; given test I do a pre-clean instead of a post-clean.  I&#39;m not sure\nif\n&gt; that&#39;s\n&gt; good or bad...\n&gt; \n&gt; Kendall\n&gt; \n&gt; ----- Original Message -----\n&gt; From: Brian br524-at-yahoo.com br524-at-yahoo.com |Yahoo Work\n20030102|\n&gt; To: XXXXXXXXXXXXXXXXXX\n&gt; Sent: Friday, January 03, 2003 10:47\n&gt; Subject: [junit] Re: Conditional tearDown()\n&gt; \n&gt; \n&gt; I only have one test in the TestCase, and if it fails, I want to\nleave\n&gt; the database in the state it was in when the test failed so I can\n&gt; inspect what happened.\n&gt; \n&gt; --- In junit@yahoogroups.com, Mike Clark &lt;mike@c...&gt; wrote:\n&gt; &gt; Brian  wrote:\n&gt; &gt;\n&gt; &gt; &gt;I see in the TestResult class there&#39;s a method wasSuccessful().\n&gt; From\n&gt; &gt; &gt;within class that extends TestCase, I want to do something like\n&gt; this:\n&gt; &gt; &gt;\n&gt; &gt; &gt;    public void tearDown()\n&gt; &gt; &gt;    {\n&gt; &gt; &gt;        TestResult result = createResult();\n&gt; &gt; &gt;        if( result.wasSuccessful() )\n&gt; &gt; &gt;        {\n&gt; &gt; &gt;            System.out.println( &quot;Clearing database&quot; );\n&gt; &gt; &gt;            clearDatabase( &quot;1&quot; );\n&gt; &gt; &gt;        }\n&gt; &gt; &gt;    }\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt; Is this intended to be more efficient than just clearing the\n&gt; database\n&gt; &gt; every time the tearDown() method is invoked, or am I missing\n&gt; something?\n&gt; &gt;\n&gt; &gt; Mike\n&gt; \n&gt; \n&gt; \n&gt; Yahoo! Groups Sponsor\n&gt; ADVERTISEMENT\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt; \n&gt; \n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of\nService. \n&gt; \n&gt; ---\n&gt; Outgoing mail is certified Virus Free.\n&gt; Checked by AVG anti-virus system (http://www.grisoft.com).\n&gt; Version: 6.0.431 / Virus Database: 242 - Release Date: 12/17/2002\n\n\n\n", 
    "profile": "br524", 
    "topicId": 6589, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 102220977, 
    "prevInTime": 6600, 
    "contentTrasformed": false, 
    "postDate": "1041617038", 
    "canDelete": false, 
    "nextInTopic": 6602, 
    "prevInTopic": 6599, 
    "headers": {
        "inReplyToHeader": "PDAwMDIwMWMyYjM0ZiQ4YjQxYWE4MCQxZjljZDY4ZEBSSElOTz4=", 
        "messageIdInHeader": "PGF2NGphZStjdXM1QGVHcm91cHMuY29tPg=="
    }
}