{
    "numMessagesInTopic": 48, 
    "nextInTime": 19632, 
    "senderId": "-YMLbvpdS7eG51369GYOguDIqjJ8tCRpY4QNr4YqKIwvWWdSHAi4gHvmqeG8fJFDjcvZ8xpZICfhYfGrcZcEFw_Tkrgl9gip-2_gM-h77NNtef4wjg", 
    "systemMessage": false, 
    "subject": "RE: Assurance/CPU cycle ratio [branching from Re: Test Grouping/Partitioning]", 
    "from": "&quot;David Jackman&quot; &lt;david.jackman@...&gt;", 
    "authorName": "David Jackman", 
    "msgSnippet": "This idea of an assurance/CPU cycle ratio is intriguing.  Thinking of a particular module where I spend most of my time, I have many hundreds of unit tests", 
    "msgId": 19631, 
    "rawEmail": "Return-Path: &lt;David.Jackman@...&gt;\r\nX-Sender: David.Jackman@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 87634 invoked from network); 27 Jul 2007 14:50:13 -0000\r\nReceived: from unknown (66.218.66.72)\n  by m36.grp.scd.yahoo.com with QMQP; 27 Jul 2007 14:50:13 -0000\r\nReceived: from unknown (HELO boses02.fast.no) (69.38.159.23)\n  by mta14.grp.scd.yahoo.com with SMTP; 27 Jul 2007 14:50:12 -0000\r\nReceived: from slces02.ad.fast.no ([192.168.36.27]) by boses02.fast.no with Microsoft SMTPSVC(6.0.3790.3959);\n\t Fri, 27 Jul 2007 10:47:56 -0400\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Fri, 27 Jul 2007 08:47:51 -0600\r\nMessage-ID: &lt;5CD37B6E090454489C5FC15B9B4B5B19189935@...&gt;\r\nIn-Reply-To: &lt;003101c7cfd5$aff5e560$6701a8c0@kentspavilion&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: Assurance/CPU cycle ratio [branching from Re: Test Grouping/Partitioning]\r\nThread-Index: AcfJzX+fUTyYOYMsTPmUxFy0ThwooQBInQlgATlqtsAAIWuPgA==\r\nReferences: &lt;003101c7cfd5$aff5e560$6701a8c0@kentspavilion&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nX-CT-RefID: str=0001.0A090207.46AA059C.003D,ss=1,fgs=0\r\nReturn-Path: David.Jackman@...\r\nX-OriginalArrivalTime: 27 Jul 2007 14:47:56.0131 (UTC) FILETIME=[1E3EB330:01C7D05D]\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;David Jackman&quot; &lt;david.jackman@...&gt;\r\nSubject: RE: Assurance/CPU cycle ratio [branching from Re: Test Grouping/Partitioning]\r\nX-Yahoo-Group-Post: member; u=207066460; y=u3DjMC8qrHGE0SCaHynWmizTFI1d_MN6r6a8QTraMBBVvecJ\r\nX-Yahoo-Profile: djackmanq\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\n\r\nThis idea of an assurance/CPU cycle ratio is intriguing.  Thinking of a\nparticular module where I spend most of my time, I have many hundreds of\nunit tests that do run fairly fast (several seconds), but are slow\nenough that I find myself not running them sometimes so as not to break\nmy momentum.  The assurance/CPU cycle ratio concept would imply that it\nshould be possible to improve the ratio without decreasing the assurance\nI&#39;m getting from running the tests.  \n\n \n\nWhat formulas or patterns did they use for improving this ratio?  How\ndid they ensure that they weren&#39;t sacrificing assurance while improving\nperformance (i.e. open the code up for a potential bug in the future\nbecause a particular case is no longer being tested)?\n\n \n\n..David..\n\n \n\nFrom: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\nKent Beck\nSent: Thursday, July 26, 2007 4:38 PM\nTo: junit@yahoogroups.com\nSubject: [junit] Re: Test Grouping/Partitioning\n\n \n\nAll,\n\nIt seems clear to me that some sort of test classification scheme is a\nreasonable thing to add to JUnit. However, rather than simply copy one\nof\nthe models out there we&#39;re going to go back to first principles and try\nto\nderive a model for classification that is concise, useful, flexible,\nand,\nabove all, easy to use.\n\nI&#39;ve heard two purposes for classification:\n* Performance\n* Assumptions\n\nPerformance\n\nIf you have tests that run for longer than your attention span (my\nlimits\nare 1 second for the inner loop of programming and 10 minutes for\nintegration), running a subset of the tests can give you some assurance\nthat\nthe software is working. Classification is one way to reduce test run\ntime--just this one test, all tests in this class, all tests in this\npackage, all tests labeled &quot;quick&quot;, etc.\n\nThere are other ways of reducing test run time. For example, you could\nhave\na runner that runs 1 second worth of the tests that have failed most\nrecently or a runner that runs half a second of recently failed tests\nplus\nhalf a second of randomly selected tests.\n\nIn the end I think the systemic solution to test run times is to improve\ndesign and testing techniques to dramatically increase the assurance/CPU\ncycle ratio. \n\nI remember a friend&#39;s story of an early project that used tests\nextensively.\nAfter three years they had a carefully tuned suite that took ten minutes\nto\nrun. When the test runtime increased beyond ten minutes, they would work\non\nthe design of the system and/or the design of the tests to improve the\nassurance/CPU cycle ratio and get the runtime back under ten minutes.\nThen\nmost of the original team left. \n\nA few years later my friend was shown the system. The programmer proudly\nexplained that the test suites now took 24 hours to run, even though the\nsystem had grown little in functionality. They had stopped paying\nattention\nto designing for testability. Every time they added a new axis of\nvariability they blindly ran the cross product of the existing tests\nwith\nall the alternatives for the new axis. Yes they had more tests, but A/C\nhad\ndropped by several orders of magnitude.\n\nIn short, I see using classification to reduce test runtime as a bandage\nmasking the real problem which is low A/C. Using classification to\nreduce\ntest runtime really is a hack and I hope people will continue working to\nimprove design for testability. We will still provide some\nclassification\nmechanism, but that doesn&#39;t make it not a hack.\n\nAssumptions\n\nThe second reason I&#39;ve heard for classification is to avoid a slew of\nmisleadingly failing tests. If my development machine doesn&#39;t have\naccess to\nthe database, then if I run the database tests I&#39;ll get a bunch of\nfailures\neven though the system is really working (or, to be more precise, I\ndon&#39;t\nhave any information about whether the system is really working or not).\n\nClassification is one way to express assumptions. When I say\n&quot;@Test(groups =\n{&quot;database&quot;})&quot; I have declared something about this test. However, this\nexpression seems limited and error-prone to me. I&#39;d prefer to have the\npower\nof a programming language to express my assumptions.\n\nIn the JUnit 4.4 you can use assumeThat() to express assumptions. For\nexample, you can say:\n\npublic class DatabaseTest {\n@BeforeClass public static void isDatabaseAccessible() {\nUser result= Database.login(&quot;kent&quot;);\nassumeThat(not(isError(result));\n}\n...\n}\n\nThis is a bit of a workaround because runner don&#39;t yet handle failed\nassumptions as anything other than successful tests, but it gives you a\nricher language to express assumptions than a textual classification\nscheme.\n\nThe Point\n\nSo now the point of this long post. Are there other uses of\nclassification\nthat I&#39;ve missed? Is the above way of expressing assumptions (or\nsomething\nderived from it like an explicit @Assumption) sufficient?\n\nRegards,\n\nKent Beck\nThree Rivers Institute\n\n[Non-text portions of this message have been removed]\n\n \n\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "djackmanq", 
    "topicId": 19521, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 207066460, 
    "prevInTime": 19630, 
    "contentTrasformed": false, 
    "postDate": "1185547671", 
    "canDelete": false, 
    "nextInTopic": 19639, 
    "prevInTopic": 19627, 
    "headers": {
        "inReplyToHeader": "PDAwMzEwMWM3Y2ZkNSRhZmY1ZTU2MCQ2NzAxYThjMEBrZW50c3BhdmlsaW9uPg==", 
        "messageIdInHeader": "PDVDRDM3QjZFMDkwNDU0NDg5QzVGQzE1QjlCNEI1QjE5MTg5OTM1QHNsY2VzMDIuYWQuZmFzdC5ubz4=", 
        "referencesHeader": "PDAwMzEwMWM3Y2ZkNSRhZmY1ZTU2MCQ2NzAxYThjMEBrZW50c3BhdmlsaW9uPg=="
    }
}