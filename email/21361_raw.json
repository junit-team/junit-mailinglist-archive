{
    "numMessagesInTopic": 16, 
    "nextInTime": 21362, 
    "senderId": "gBbX4lf1TbmXDlViZZLND4rw_PYxNyAkfThc8i_FEVT5uISpI-yi4KQ1BR_3LwUQW6DGJH7Cm46qGDPiVtFlYuO8TW1WVd0x7Apo3K_ReC8", 
    "systemMessage": false, 
    "subject": "Re: Conditionally running tests", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "Hi David, My name is Yishai (I have to figure out how to change this Yahoo profile). Anyway, I guess the issue is that I have many tests that are in the 3.8", 
    "msgId": 21361, 
    "rawEmail": "Return-Path: &lt;yme0987654321@...&gt;\r\nX-Sender: yme0987654321@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 67254 invoked from network); 17 Feb 2009 18:23:40 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m55.grp.scd.yahoo.com with QMQP; 17 Feb 2009 18:23:40 -0000\r\nX-Received: from unknown (HELO n18c.bullet.sp1.yahoo.com) (69.147.64.129)\n  by mta16.grp.scd.yahoo.com with SMTP; 17 Feb 2009 18:23:40 -0000\r\nX-Received: from [69.147.65.172] by n18.bullet.sp1.yahoo.com with NNFMP; 17 Feb 2009 18:23:40 -0000\r\nX-Received: from [66.218.66.89] by t14.bullet.mail.sp1.yahoo.com with NNFMP; 17 Feb 2009 18:23:40 -0000\r\nDate: Tue, 17 Feb 2009 18:23:38 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gnevba+q9qi@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90902170719gfe0c79fob261672b23d4763c@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;yme0987654321&quot; &lt;yme0987654321@...&gt;\r\nSubject: Re: Conditionally running tests\r\nX-Yahoo-Group-Post: member; u=386557907; y=NWYH-SS8OgfLvYE6QhHT4UkqkXg0PRF3LQAT6gbBgfC_nbTWskIs4Q\r\nX-Yahoo-Profile: yme0987654321\r\n\r\nHi David,\n\nMy name is Yishai (I have to figure out how to change this Yahoo=\r\n\nprofile). Anyway, I guess the issue is that I have many tests that are\nin =\r\nthe 3.8 style that I am retrofitting, so to use this I would have\nto change=\r\n the test into a Junit 4 type test, whereas in my hack the\nrunner correctly=\r\n figured out that it was a JUnit 3.8 style test.\n\n--- In junit@yahoogroups.=\r\ncom, David Saff &lt;david@...&gt; wrote:\n&gt;\n&gt; yme0987654321,\n&gt; \n&gt; You can use assu=\r\nmptions in 4.5 and afterward to ignore entire classes:\n&gt; \n&gt; public class Bi=\r\ngLongTest {\n&gt;    @BeforeClass public static void isRunningAppropriate() {\n&gt;=\r\n      assumeTrue(runningBigLongTests());\n&gt;    }\n&gt; \n&gt;    @Test...\n&gt; }\n&gt; \n&gt; D=\r\noes that work?\n&gt; \n&gt;    David Saff\n&gt; \n&gt; On Mon, Feb 16, 2009 at 10:54 PM, ym=\r\ne0987654321\n&lt;yme0987654321@...&gt;wrote:\n&gt; \n&gt; &gt; Hi,\n&gt; &gt;\n&gt; &gt; I&#39;ve tried looking=\r\n around the group but I haven&#39;t seen an answer to\n&gt; &gt; this. I&#39;m trying to s=\r\net up a group of tests that runs only under\n&gt; &gt; certain circumstances. Beca=\r\nuse they are database tests, they have\n&gt; &gt; expensive setup and teardown pro=\r\ncedures (via DBUnit), so they are\n&gt; &gt; segregated to run separately. The way=\r\n to get that done seems to be via\n&gt; &gt; a separate runner, so I hacked up a c=\r\nlass that looks like this:\n&gt; &gt; (Inspiration from here:\n&gt; &gt; http://schuchert=\r\n.wikispaces.com/CustomJunit4RunnerJUnit4_4 but that\n&gt; &gt; example no longer a=\r\npplies to the 4.5 API):\n&gt; &gt;\n&gt; &gt; public class SlowTestRunner extends Runner =\r\n{\n&gt; &gt;\n&gt; &gt;    private Runner runner;\n&gt; &gt;    private Class&lt;?&gt; klass;\n&gt; &gt;\n&gt; &gt; =\r\n   public SlowTestRunner(Class&lt;?&gt; klass, RunnerBuilder builder)\n&gt; &gt; throws =\r\nThrowable {\n&gt; &gt;        this.klass =3D klass;\n&gt; &gt;        if (Boolean.getBool=\r\nean(&quot;RunSlowTests&quot;)) {\n&gt; &gt;            runner =3D getAppropriateRunner(build=\r\ner);\n&gt; &gt;        } else {\n&gt; &gt;            runner =3D new IgnoredClassRunner(k=\r\nlass);\n&gt; &gt;        }\n&gt; &gt;    }\n&gt; &gt;\n&gt; &gt;    private Runner getAppropriateRunner=\r\n(RunnerBuilder builder) {\n&gt; &gt;        List&lt;RunnerBuilder&gt; builders =3D Array=\r\ns.asList(\n&gt; &gt;                new IgnoredBuilder(),\n&gt; &gt;                new A=\r\nnnotatedBuilder(builder),\n&gt; &gt;                new SuiteMethodBuilder(),\n&gt; &gt; =\r\n               new JUnit3Builder(),\n&gt; &gt;                new JUnit4Builder())=\r\n;\n&gt; &gt;\n&gt; &gt;        for (RunnerBuilder each : builders) {\n&gt; &gt;            Runne=\r\nr runner =3D each.safeRunnerForClass(klass);\n&gt; &gt;            if (runner !=3D=\r\n null && runner.getClass() !=3D this.getClass())\n&gt; &gt;                return =\r\nrunner;\n&gt; &gt;        }\n&gt; &gt;        //this is actually never going to happen, a=\r\nt least in the\n&gt; &gt; current implementation because the JUnit4Builder is the =\r\nBuilder of\n&gt; &gt; last resort.\n&gt; &gt;        return new ErrorReportingRunner(klas=\r\ns, new\n&gt; &gt; InitializationError(&quot;Unable to find suitable runner to delegate =\r\nfor &quot;\n&gt; &gt; + klass.getName()));\n&gt; &gt;    }\n&gt; &gt;\n&gt; &gt;    public Description getDe=\r\nscription() {\n&gt; &gt;        return runner.getDescription();\n&gt; &gt;    }\n&gt; &gt;\n&gt; &gt;  =\r\n  public void run(RunNotifier notifier) {\n&gt; &gt;        runner.run(notifier);\n=\r\n&gt; &gt;    }\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt; The method getAppropriateRunner is basically a copy/=\r\npaste from\n&gt; &gt; AllDefaultPossibilitiesBuilder. I had to copy paste because =\r\nthe\n&gt; &gt; protected method forced a return of an AnnotatedBuilder, instead of=\r\n\n&gt; &gt; just a RunnerBuilder, so overriding wasn&#39;t working well. Note the case=\r\n\n&gt; &gt; here is that I&#39;m not sure if the class is a JUnit3 or 4 class, and I\n&gt;=\r\n &gt; want to support both with one runner.\n&gt; &gt;\n&gt; &gt; At first I tried to just d=\r\no a runnerForClass on builder passed to the\n&gt; &gt; constructor, but that cause=\r\ns an infinite loop, because the class has\n&gt; &gt; the RunWith annotation on it =\r\nthat references the very same Runner.\n&gt; &gt;\n&gt; &gt; Am I correct that the API isn=\r\n&#39;t naturally supporting what I am trying\n&gt; &gt; to do, or is there another way=\r\n to accomplish this?\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; ------------------------------------\n&gt;=\r\n &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; \n&gt; \n&gt; [Non-text portions of th=\r\nis message have been removed]\n&gt;\n\n\n\n", 
    "profile": "yme0987654321", 
    "topicId": 21356, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "prevInTime": 21360, 
    "contentTrasformed": false, 
    "postDate": "1234895018", 
    "canDelete": false, 
    "nextInTopic": 21362, 
    "prevInTopic": 21360, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkwMjE3MDcxOWdmZTBjNzlmb2IyNjE2NzJiMjNkNDc2M2NAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PGduZXZiYStxOXFpQGVHcm91cHMuY29tPg=="
    }
}