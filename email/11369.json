{
    "numMessagesInTopic": 4, 
    "nextInTime": 11370, 
    "senderId": "-mSxUJv0aeWR52ppNhSL9pt0KfqBJttE3y4eZaNKn1fYNVuFQo5bxIVP0LD1xePqTlLMhClJILmxPSKwWMfkQ0rBJmgCqPpeyIQa", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Problem with simple test case", 
    "from": "Curt Sampson &lt;yahoo_sucks@...&gt;", 
    "authorName": "Curt Sampson", 
    "msgSnippet": "... As well as mockrunner, you might have a look at servtest on SourceForge: http://sourceforge.net/projects/servtest/ This is basically a code dump of the", 
    "msgId": 11369, 
    "profile": "cjstokyo", 
    "topicId": 11257, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 110189933, 
    "messageBody": "<div id=\"ygrps-yiv-1265641855\">On Thu, 24 Jun 2004, bartvdcammen wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; If you&#39;re going to test lots of servlets, consider writing fake<br/>\n&gt; HttpServletRequest and HttpServletResponse.<br/>\n&gt; The response could f.i. provide a fake Printwriter that records<br/>\n&gt; what&#39;s printed on him.<br/>\n<br/>\n </span></blockquote>As well as mockrunner, you might have a look at servtest on SourceForge:<br/>\n<br/>\n    <a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/projects/servtest/\">http://sourceforge.net/projects/servtest/</a><br/>\n<br/>\nThis is basically a code dump of the servlet container that I use for<br/>\nunit-testing servlets. I&#39;ve since implemented a bit more stuff in it; if<br/>\nanybody&#39;s interested, I&#39;ll commit the changes.<br/>\n<br/>\nHowever, what&#39;s really missing here are some tutorials on how to use<br/>\nthis, since in my experience it&#39;s not obvious how to use this framework.<br/>\n(It often requires changing the way you write servlets; it really works<br/>\nbest with a split controller/view style of servlet design.)<br/>\n<br/>\nSince I&#39;m moving away from Java (toward Ruby) these days, I&#39;m not going<br/>\nto be doing huge amounts of work on this. If anybody else is interested<br/>\nin working on this, let me know privately, and perhaps we can get some<br/>\ndevelopment going again. If someone else is interested in learning how<br/>\nto use this, I&#39;d be willing to do a rough draft of a tutorial or two,<br/>\nand proofread and comment on the final version.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Test the doGet() method as any other method. Make a new HelloWorld()<br/>\n&gt; and call its doGet() with your fake request and response. After<br/>\n&gt; execution you can inspect the changes in request and response. In<br/>\n&gt; your case : get the fake writer and check the printed lines.<br/>\n<br/>\n </span></blockquote>As I mentioned above, I would typically test the controller with this<br/>\nframework, and leave the view to some other form of testing. Generally,<br/>\nI have my controller servlets generate data objects that it adds as<br/>\nattributes to the request, and the view servlets (often JSPs) then just<br/>\nextract these and display them.<br/>\n<br/>\nYou can make this more reliable, especially if you compile your JSPs<br/>\nduring your compile/test phase, by making the servlet responsible for<br/>\ngetting the objects out of the request so you can take advantage of the<br/>\ncompiler&#39;s static checking of calls and types:<br/>\n<br/>\n    class MyServlet extends BaseServlet {<br/>\n\tprivate static final USERINFO_KEY<br/>\n\t    = &quot;com.example..someapp.servlet.MyServlet.USERINFO&quot;;<br/>\n\tpublic void doGet(Request reqest, Response response) {<br/>\n\t    // do controller work<br/>\n\t    request.setAttribute(USERINFO_KEY, userInfo);<br/>\n\t    // chain to view servlet<br/>\n\t}<br/>\n\tpublic static UserInfo getUserInfo(Request request) {<br/>\n\t    return (UserInfo) request.getAttribute(USERINFO_KEY);<br/>\n\t}<br/>\n    }<br/>\n<br/>\nAnd then the JSP can invoke:<br/>\n<br/>\n    MyServlet.getUserInfo(request)<br/>\n<br/>\nand be guaranteed that it will get the correct object from the request<br/>\nattributes.<br/>\n<br/>\ncjs<br/>\n-- <br/>\nCurt Sampson  &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:cjs@...\">cjs@...</a>&gt;   +81 90 7737 2974   <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.NetBSD.org\">http://www.NetBSD.org</a><br/>\n    Don&#39;t you know, in this new Dark Age, we&#39;re all light.  --XTC</div>", 
    "prevInTime": 11368, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1089242874", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 11268, 
    "headers": {
        "inReplyToHeader": "PGNiZHNmYys0ZDlyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PFBpbmUuTkVCLjQuNTguMDQwNzA4MDc0OTQ4MC41MThAYW5nZWxpYy12dGZ3LmN2cG4uY3luaWMubmV0Pg==", 
        "referencesHeader": "PGNiZHNmYys0ZDlyQGVHcm91cHMuY29tPg=="
    }
}