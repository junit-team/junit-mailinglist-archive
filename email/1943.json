{
    "numMessagesInTopic": 9, 
    "nextInTime": 1944, 
    "senderId": "FVMc1SsE1ZeA_ZV8cZZ8b9OXvrFW5RZhuAscIAmOSyNgG1dSVthDcvofUQVXfHooThWgGCG1TIENG_NEvOXwc2ZxWyQFeAKeUvE", 
    "systemMessage": false, 
    "subject": "ClassCastException only using swing/awt ui", 
    "from": "John Pletka &lt;John.Pletka@...&gt;", 
    "authorName": "John Pletka", 
    "msgSnippet": "I m trying to use JUnit 3.7 to test my EJB beans on Orion 1.5.2  I setup a simple test case that connects to the server in the setUp() method, then does an", 
    "msgId": 1943, 
    "topicId": 1943, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1250187768\">I&#39;m trying to use JUnit 3.7 to test my EJB beans on Orion 1.5.2  I setup a<br/>\nsimple test case that connects to the server in the setUp() method, then<br/>\ndoes an JNDI lookup of the bean&#39;s home interface in the test method.  The<br/>\ntest runs fine in the textui and when I run it outside the JUnit container,<br/>\nhowever when I try to run it using the awtui or the swingui, I get a<br/>\nClassCastException when I try cast the remote interface.  Using reflection,<br/>\nI can examine the class that was returned and see that it is the correct<br/>\nclass with all the correct methods -- I just can not cast it to the proper<br/>\ninterface.<br/>\n<br/>\nDoes the Visual UI runners have their own ClassLoader that may be causing<br/>\nthis?  <br/>\nDoes anyone have any other idea why this may be happening?  <br/>\nHas anyone been able to use JUnit with Orion?<br/>\n<br/>\nThanks in advance for your help.<br/>\n<br/>\n<br/>\nHere is my test case.  The testPoint() method works in textui but not<br/>\nswingui<br/>\n<br/>\n<br/>\nimport javax.naming.*;<br/>\nimport java.io.*;<br/>\nimport java.util.*;<br/>\nimport javax.rmi.PortableRemoteObject;<br/>\n<br/>\npublic class TestBusinessAssociateAPI extends junit.framework.TestCase<br/>\n{<br/>\n\tInitialContext ctx = null;<br/>\n<br/>\n\tpublic TestBusinessAssociateAPI(String name){<br/>\n\t\tsuper(name);<br/>\n\t}<br/>\n\tprotected void setUp() throws NamingException,<br/>\nFileNotFoundException, IOException<br/>\n\t{<br/>\n\t\tProperties serverProperties = new Properties();<br/>\n\t\t//serverProperties.load(new<br/>\nFileInputStream(&quot;ejbserver.properties&quot;));<br/>\n<br/>\n\t\tSystem.setProperty(Context.PROVIDER_URL,<br/>\nserverProperties.getProperty(&quot;url&quot;,&quot;ormi://appsvr/app&quot;));<br/>\n\t\tSystem.setProperty(Context.INITIAL_CONTEXT_FACTORY,<br/>\nserverProperties.getProperty(&quot;icf&quot;,&quot;com.evermind.server.ApplicationClientIni<br/>\ntialContextFactory&quot;));<br/>\n\t<br/>\nSystem.setProperty(Context.SECURITY_PRINCIPAL,serverProperties.getProperty(&quot;<br/>\nuser&quot;,&quot;admin&quot;));<br/>\n\t\tSystem.setProperty(Context.SECURITY_CREDENTIALS,<br/>\nserverProperties.getProperty(&quot;password&quot;,&quot;password&quot;));<br/>\n\t\tctx = new InitialContext();<br/>\n\t\tSystem.out.println(&quot;Setup succeeded&quot;);<br/>\n\t}<br/>\n\tpublic void testPoint() throws Exception, java.rmi.RemoteException<br/>\n\t{<br/>\n\t\tPoint point;<br/>\n\t\tPointHome pointHome;<br/>\n\t\t//The next line works in textui, but throws<br/>\nClassCastException in swingui<br/>\n\t\tpointHome = (PointHome)<br/>\nPortableRemoteObject.narrow(ctx.lookup(&quot;base/PointHome&quot;),PointHome.class);<br/>\n\t\tpoint = pointHome.create();<br/>\n\t\tSystem.out.println(point.getAbout());<br/>\n<br/>\n\t}<br/>\n\t/**<br/>\n\t * Executing this as a standalone class works<br/>\n    \t*/<br/>\n\tpublic static void main(String[] args) {<br/>\n        \t\tTestBusinessAssociateAPI quickTest = new<br/>\nTestBusinessAssociateAPI(&quot;TheTest&quot;);<br/>\n\t\ttry{<br/>\n\t\t\tquickTest.setUp();<br/>\n\t\t\tquickTest.testPoint();<br/>\n\t\t}catch(Exception ex){<br/>\n\t\t\tex.printStackTrace();<br/>\n\t\t}<br/>\n    \t}<br/>\n}</div>", 
    "prevInTime": 1942, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "995302799", 
    "canDelete": false, 
    "nextInTopic": 1946, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEFDOEQ2NUU5QzhBREQzMTFBN0NGMDAwOEM3REY2MDhEMDNBREZBRTBAc3BhY2VsZXkuYWx0cmFuZXQuY29tPg=="
    }
}