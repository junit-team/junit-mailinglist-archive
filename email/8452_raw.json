{
    "numMessagesInTopic": 1, 
    "nextInTime": 8453, 
    "senderId": "6MU4uFJgsFbxjDZtm293j7p53-yXSkPOQxO5mXvJkADReaniJg1sw_Vu4YpzNWsA9yIgMMuuAB0ADtbVszc", 
    "systemMessage": false, 
    "subject": "Test Design Pattern by inner class", 
    "from": "&quot;tcxu&quot; &lt;tcxu@...&gt;", 
    "authorName": "tcxu", 
    "msgSnippet": "Thank you, J. B. Rainsberger and Dave Astels. Please comment on the following example I made with Netbean Junit. The class to be tested is obtained from Vince", 
    "msgId": 8452, 
    "rawEmail": "Return-Path: &lt;tcxu@...&gt;\r\nReceived: (qmail 67440 invoked by uid 7800); 23 Jun 2003 14:59:23 -0000\r\nX-Sender: tcxu@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 69194 invoked from network); 23 Jun 2003 14:38:25 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m10.grp.scd.yahoo.com with QMQP; 23 Jun 2003 14:38:25 -0000\r\nReceived: from unknown (HELO n30.grp.scd.yahoo.com) (66.218.66.87)\n  by mta1.grp.scd.yahoo.com with SMTP; 23 Jun 2003 14:38:24 -0000\r\nReceived: from [66.218.67.155] by n30.grp.scd.yahoo.com with NNFMP; 23 Jun 2003 14:38:15 -0000\r\nDate: Mon, 23 Jun 2003 14:38:13 -0000\r\nTo: junit@yahoogroups.com\r\nSubject: Test Design Pattern by inner class\r\nMessage-ID: &lt;bd73cm+qji9@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Length: 3477\r\nX-Mailer: Yahoo Groups Message Poster\r\nFrom: &quot;tcxu&quot; &lt;tcxu@...&gt;\r\nX-Yahoo-Group-Post: member; u=150620985\r\nX-Yahoo-Profile: tcxu\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via email; 23 Jun 2003 14:59:23 -0000\r\n\r\nThank you, J. B. Rainsberger and Dave Astels. \n\nPlease comment on the follo=\r\nwing example I made with Netbean Junit.\n\nThe class to be tested is obtained=\r\n from Vince Huston at \nhttp://home.earthlink.net/~huston2/dp/patterns.html\n=\r\nclass Subject {                                     \n   private Observer[ ]=\r\n observers =3D new Observer[9];  \n   private int        totalObs  =3D 0;\n  =\r\n private int        state;\n   public void attach( Observer o ) { observers[=\r\ntotalObs++] =3D o; } \n   public int  getState()           { return state; }=\r\n\n   public void setState( int in ) {\n      state =3D in;\n      notifyObserv=\r\ners(); }\n   private void notifyObservers() {\n      for (int i=3D0; i &lt; tota=\r\nlObs; i++)\n         observers[i].update();         \n}  }                   =\r\n       \n\nThe  aggregated classes, such as  HexObserver is defined as follow=\r\ns :\n\nabstract class Observer {               \n   protected Subject subj;\n  =\r\n public abstract void update(); }\n\nclass HexObserver extends Observer { \n  =\r\n public HexObserver( Subject s ) {  \n      subj =3D s;  subj.attach( this )=\r\n; } \n   public void update() {\n      System.out.print( &quot;  &quot; + Integer.toHex=\r\nString( subj.getState() ) \n);\n}  }                                    \n\nTwo=\r\n ways to obtain values of provide data members of the class\nSubject for tes=\r\nting. \n\n1.  a non-static inner class subway is inserted into the class \ndef=\r\ninition Subject. The method ok( ) passes values of all private\ndata \nmember=\r\ns of Subject as public to the testing class.\n     \npublic class subway {\n  =\r\n     public Observer[ ] pobservers =3D new Observer[9];\n       public int p=\r\ntotalObs =3D 0;\n       public int pstate;\n       public void ok( ) {\n      =\r\n     pobservers =3D observers;\n           ptotalObs =3D totalObs;\n         =\r\n  pstate =3D state;\n       }\n   }\n\nso that the testing code could be writte=\r\nn as follows:\n.....\npublic void testAttach() {\n        System.out.println(&quot;=\r\ntestAttach&quot;);\n        subinter.ok();\n        assertEquals(1, subinter.ptota=\r\nlObs); \n        sub.attach( new BinObserver(sub) );\n        subinter.ok();\n=\r\n        assertEquals(3, subinter.ptotalObs); \n    }\n=85.\n\nprivate Subject s=\r\nub;\nprivate Observer hex;\nprivate Subject.subway  subinter;\n \n  protected v=\r\noid setUp() {\n      sub =3D new Subject();\n      subinter =3D sub.new subwa=\r\ny(); \n      hex =3D new HexObserver( sub );     \n  }     \n}\n\n2. Insert the =\r\ntesting class directly into the definition of  the\nclass Subject. \n\nimport =\r\njunit.framework.*;\nimport org.netbeans.junit.*;\n\nclass Subject {\n.....\npubl=\r\nic static class SubjectinnerTest extends NbTestCase {\n    \n    public Subje=\r\nctinnerTest(java.lang.String testName) {\n        super(testName);\n    }\n...=\r\n..\npublic void testAttach() {\n        System.out.println(&quot;testAttach&quot;);\n   =\r\n    \n        assertEquals(1, sub.totalObs); \n        sub.attach( new BinObs=\r\nerver(sub));\n        sub.attach( new OctObserver(sub));\n        assertEqual=\r\ns(5, sub.totalObs); \n    }\n.....\nprivate Subject sub;\n  private Observer he=\r\nx;\n//  private Subject.subway  subinter;\n \n  protected void setUp() {\n     =\r\n sub =3D new Subject();\n//      subinter =3D sub.new subway(); \n      hex =\r\n=3D new HexObserver( sub );     \n            }     \n    }\n}\n\n\nIn this way, =\r\n we have to add one line of code into the RootSuite \nclass.\n\nsuite.addTest(=\r\nSubject.SubjectinnerTest.suite( ));\n\nBoth  ways seem to work well.\n\n\nRelate=\r\nd discussions are also seen in  John D. Mitchell \nat http://www.javaworld.c=\r\nom/javatips/jw-javatip106_p.html\nand discussion by Scott Stirling (see mess=\r\nage 1095) \n\n\nRegards,\n\nTong\n\n\n", 
    "profile": "tcxu", 
    "topicId": 8452, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 150620985, 
    "prevInTime": 8451, 
    "contentTrasformed": false, 
    "postDate": "1056379093", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGJkNzNjbStxamk5QGVHcm91cHMuY29tPg=="
    }
}