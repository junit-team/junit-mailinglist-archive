{
    "numMessagesInTopic": 6, 
    "nextInTime": 23211, 
    "senderId": "QZsYqmUqg1Yk7X-5uzR_za7bLe4apCUK5sAEmF4UWNG7wkT4O39cnMzIBFcTBXgI6A9aX4Wm7sVBNCcYzngr0rM2", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to make JUnit work with own test format", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Oops, I appear to have dropped the list in there somehow.  This is definitely where you want to reach out to the list: I have no idea what magic may or may not", 
    "msgId": 23210, 
    "profile": "dsaff", 
    "topicId": 23200, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-1385061819\">Oops, I appear to have dropped the list in there somehow.  This is<br/>\ndefinitely where you want to reach out to the list: I have no idea<br/>\nwhat magic may or may not exist in mvn test that would support what<br/>\nyou want.  Here&#39;s hoping there&#39;s ummm... maven mavens on the list who<br/>\ncan help.  If you end up needing to go to a maven-specific list,<br/>\nplease do report back with your findings.  Good luck!<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Thu, Jan 27, 2011 at 6:17 PM, Dominik Dorn &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dorn@...\">dorn@...</a>&gt; wrote:<br/>\n&gt; The projects are Quercus &quot;modules&quot;, meaning they implement some<br/>\n&gt;  PHP functionality for our Quercus PHP interpreter.<br/>\n&gt; All those modules should be built with maven, so they have the source<br/>\n&gt; of the module in<br/>\n&gt; /src/main/*<br/>\n&gt; and the tests<br/>\n&gt; in<br/>\n&gt; /src/test/<br/>\n&gt;<br/>\n&gt; so every project has some<br/>\n&gt; /src/test/resources/qa/000x.qa files that are our custom test format<br/>\n&gt;<br/>\n&gt; a good example would be <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/quercus/quercus-filter\">https://github.com/quercus/quercus-filter</a><br/>\n&gt; this shows, that the src/test/java/com/caucho/quercus/lib/filter/FilterTest.java<br/>\n&gt; is only there to invoke JUnit.<br/>\n&gt;<br/>\n&gt; What I want is that people just add our dependency to their pom.xml<br/>\n&gt; and all the<br/>\n&gt; /src/test/resources/qa/*.qa files get automatically executed with our<br/>\n&gt; testrunner.<br/>\n&gt;<br/>\n&gt; currently, for this to happen, we have to create a dummy test ( like the<br/>\n&gt; src/test/java/com/caucho/quercus/lib/filter/FilterTest.java )<br/>\n&gt; that simply adds the testrunner and does nothing else.<br/>\n&gt;<br/>\n&gt; so the question is: can I somehow &quot;magically&quot; create this &quot;dummy test&quot; during<br/>\n&gt; maven&#39;s test phase, so that people don&#39;t have to create the dummy<br/>\n&gt; class for each module?<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; On Thu, Jan 27, 2011 at 8:19 PM, David Saff &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:david@...\">david@...</a>&gt; wrote:<br/>\n&gt;&gt; Dominik,<br/>\n&gt;&gt;<br/>\n&gt;&gt; I&#39;m glad it&#39;s working!  I&#39;m a little confused about &quot;a way I can<br/>\n&gt;&gt; automatically execute a fake test with this runner in every project<br/>\n&gt;&gt; that includes my jar&quot;.  Can you elaborate on what the use case is?<br/>\n&gt;&gt; Are the projects we&#39;re talking about PHP projects, or Java projects,<br/>\n&gt;&gt; or something else?  Do you want this magic to work under mvn test, or<br/>\n&gt;&gt; under other runners, as well?<br/>\n&gt;&gt;<br/>\n&gt;&gt;   David Saff<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Thu, Jan 27, 2011 at 12:43 PM, Dominik Dorn &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dorn@...\">dorn@...</a>&gt; wrote:<br/>\n&gt;&gt;&gt; for some reason, my reply wasn&#39;t showing up in the mailinglist:<br/>\n&gt;&gt;&gt; ---snip---<br/>\n&gt;&gt;&gt; Hello David,<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; thanks for your reply.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; I&#39;ve managed to successfully implement the runner and get our<br/>\n&gt;&gt;&gt; existing tests working.<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; I&#39;ve packaged the extension up through maven and included it in our<br/>\n&gt;&gt;&gt; new projects.<br/>\n&gt;&gt;&gt; To get the tests in the new project executed, I need to create an<br/>\n&gt;&gt;&gt; almost empty class, like this<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; package com.caucho.quercus.lib.filter;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; import com.caucho.quercus.junit.QuercusRunner;<br/>\n&gt;&gt;&gt; import org.junit.runner.RunWith;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; @RunWith(QuercusRunner.class)<br/>\n&gt;&gt;&gt; public class FilterTest {<br/>\n&gt;&gt;&gt; }<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; Is there a way I can automatically execute a fake test with this<br/>\n&gt;&gt;&gt; runner in every project that includes my jar? So that users don&#39;t have<br/>\n&gt;&gt;&gt; to create such a dummy test. Like specifying it in META-INF/some-file<br/>\n&gt;&gt;&gt; so that JUnit picks it up automatically?<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; Thanks a lot,<br/>\n&gt;&gt;&gt; Dominik<br/>\n&gt;&gt;&gt; --snip--<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; On Thu, Jan 27, 2011 at 6:06 PM, Kent Beck &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:kentb@...\">kentb@...</a>&gt; wrote:<br/>\n&gt;&gt;&gt;&gt; I was trying to think if there was some way to do this with rules, since that&#39;s the preferred way to extend test running behavior, but I don&#39;t see how since you need a test for each file.<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt; Kent<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt; On Jan 26, 2011, at 5:20 PM, David Saff wrote:<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; Dominik,<br/>\n&gt;&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; You should definitely be able to do this. The extension point you<br/>\n&gt;&gt;&gt;&gt;&gt; want is likely ParentRunner. I imagine you&#39;d override getChildren to<br/>\n&gt;&gt;&gt;&gt;&gt; return a list of filenames, describeChild to return the filename (or<br/>\n&gt;&gt;&gt;&gt;&gt; perhaps the title?), and runChild to parse and run your test.<br/>\n&gt;&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; I hope this helps.<br/>\n&gt;&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; David Saff<br/>\n&gt;&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; On Wed, Jan 26, 2011 at 7:53 PM, Dominik Dorn &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dorn@...\">dorn@...</a>&gt; wrote:<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; Hi,<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; I&#39;m working on Quercus, a PHP implementation in Java.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; To test our implementation, we have a huge amount of tests.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; Each test is contained in a text file someName.qa which is a<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; sort-of XML file.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; These tests are currently run through a self-made test-runner.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; I would like to replace this custom test-runner with a JUnit-extension, so that I&#39;m able to include our test files in a maven build and let them be run through junit (and all the nice junit plugins for IDEs).<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; our test layout currently looks like the following<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; module/<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; module/module.xml &lt;- a file containing ranges for test-sections<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; module/0001.qa &lt;- a single testcase<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; Please tell me, if the following assumption is correct:<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; I think to accomplish what I want, I need to create a special implementation of<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;  - org.junit.runners.Runner<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; and/or of<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;  - org.junit.runners.model.TestClass<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; A test basically looks like this:<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; &lt;title&gt;DOM: extension_loaded()&lt;/title&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; &lt;php out=&#39;stdout&#39; compile=&#39;false&#39;&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; &lt;?php<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; echo extension_loaded(&quot;dom&quot;) ? &quot;DOM loaded&quot; : &quot;DOM NOT loaded&quot;;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; echo &quot;&#92;n&quot;;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; ?&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; &lt;/php&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; &lt;compare file=&#39;/stdout&#39; escape&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; DOM loaded<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; &lt;/compare&gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; So we&#39;re running the content inside the &lt;php..&gt; block and do a string comparison line by line with the &lt;compare&gt; block.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; I know, thats not best practice, but currently I just need to know if it is possible to run such tests with JUnit (by extending it?) or not.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; The ideal (end-)scenario would be, that we just put our test files into the<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; /src/test/qa folder of a maven module, add our junit-extension artifact to the project and junit would then pickup the files and run them as tests.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; Thanks for your help.<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; Dominik<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; ------------------------------------<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt; &gt;<br/>\n&gt;&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt; [Non-text portions of this message have been removed]<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt; ------------------------------------<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt; Yahoo! Groups Links<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; --<br/>\n&gt;&gt;&gt; Dominik Dorn<br/>\n&gt;&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://dominikdorn.com\">http://dominikdorn.com</a><br/>\n&gt;&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://twitter.com/domdorn\">http://twitter.com/domdorn</a><br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; Tausche Deine Lernunterlagen auf <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.studyguru.eu\">http://www.studyguru.eu</a> !<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; --<br/>\n&gt; Dominik Dorn<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://dominikdorn.com\">http://dominikdorn.com</a><br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://twitter.com/domdorn\">http://twitter.com/domdorn</a><br/>\n&gt;<br/>\n&gt; Tausche Deine Lernunterlagen auf <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.studyguru.eu\">http://www.studyguru.eu</a> !<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 23209, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1296182414", 
    "canDelete": false, 
    "nextInTopic": 23214, 
    "prevInTopic": 23204, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGluS1Z3TnJ5VXkwZ0J0Tyszdk9rcGNlVk5IMHF2R2Y0UnhiekVRZkBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PEFBTkxrVGltN1dtPVJ2OVdFRGl6Y0RxUVlzWHl2VDlIWlp6Qk0rRUN1Q3hjS0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PGlocWZuNitwcWFqQGVHcm91cHMuY29tPgk8QUFOTGtUaW1DM1YtK0o4eGpBTjF1N05oLUcrU3NUMm5VcldCYkpMSFpqV0NhQG1haWwuZ21haWwuY29tPgk8QjA3NjJDRDgtM0E1RC00MDY0LThGNTUtMzA3RUYyQkE1RTk0QGVhcnRobGluay5uZXQ+CTxBQU5Ma1RpbTVERlBudS11cG9rY2UydTI9LXY0QVdZMnB6dlozQ0RlbmRSOU1AbWFpbC5nbWFpbC5jb20+CTxBQU5Ma1RpPVd4QzVqSm5ncGpMODI0MXlzUWN6UW9yc3B5dHM4LU9PN0JQX19AbWFpbC5nbWFpbC5jb20+CTxBQU5Ma1RpbktWd05yeVV5MGdCdE8rM3ZPa3BjZVZOSDBxdkdmNFJ4YnpFUWZAbWFpbC5nbWFpbC5jb20+"
    }
}