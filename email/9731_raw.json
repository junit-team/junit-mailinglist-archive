{
    "numMessagesInTopic": 23, 
    "nextInTime": 9732, 
    "senderId": "Nnxp4eBeBKlDbaFmWqSiCmO0zb7uWAz6arIV9URiqQFzDXmK7rJyU1IGXJu5YNoz2Rk_gzMeGsh7oEYHEbMY4YMKEfldwLeslmzCoQ", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: How to test private methods, its urgent", 
    "from": "Malcolm Sparks &lt;malcolm@...&gt;", 
    "authorName": "Malcolm Sparks", 
    "msgSnippet": "Making a private method protected can have undesirable effects since it changes the contract between classes and subclasses. These subclasses can be outside", 
    "msgId": 9731, 
    "rawEmail": "Return-Path: &lt;malcolm@...&gt;\r\nReceived: (qmail 82252 invoked from network); 21 Oct 2003 09:52:21 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m18.grp.scd.yahoo.com with QMQP; 21 Oct 2003 09:52:21 -0000\r\nReceived: from unknown (HELO n39.grp.scd.yahoo.com) (66.218.66.107)\n  by mta6.grp.scd.yahoo.com with SMTP; 21 Oct 2003 09:52:20 -0000\r\nX-eGroups-Return: malcolm@...\r\nReceived: from [66.218.66.114] by n39.grp.scd.yahoo.com with NNFMP; 21 Oct 2003 09:52:19 -0000\r\nX-Sender: malcolm@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 42750 invoked from network); 21 Oct 2003 09:21:40 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m20.grp.scd.yahoo.com with QMQP; 21 Oct 2003 09:21:40 -0000\r\nReceived: from unknown (HELO luthien.congreve.com) (62.221.11.252)\n  by mta6.grp.scd.yahoo.com with SMTP; 21 Oct 2003 09:21:39 -0000\r\nReceived: from luthien.network365.com (luthien.congreve.com [192.168.42.190])\n\tby luthien.congreve.com (8.12.8/8.12.8) with ESMTP id h9L9NVtj005103\n\tfor &lt;junit@yahoogroups.com&gt;; Tue, 21 Oct 2003 10:23:31 +0100\r\nSubject: RE: [junit] Re: How to test private methods, its urgent\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;F7B16EB8984B14409ACB015F1326BB6688189E@...&gt;\r\nReferences: \n\t &lt;F7B16EB8984B14409ACB015F1326BB6688189E@...&gt;\r\nContent-Type: text/plain\r\nOrganization: \r\nMessage-Id: &lt;1066728209.3488.36.camel@...&gt;\r\nMime-Version: 1.0\r\nX-Mailer: Ximian Evolution 1.2.2 (1.2.2-4) \r\nDate: 21 Oct 2003 10:23:31 +0100\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Malcolm Sparks &lt;malcolm@...&gt;\r\nX-Yahoo-Group-Post: member; u=139420845\r\nX-Yahoo-Profile: xsumeman\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via web; 21 Oct 2003 09:52:18 -0000\r\n\r\nMaking a private method &#39;protected&#39; can have undesirable effects\nsince it changes the contract between classes and subclasses. These\nsubclasses can be outside your control, since they can belong in any\npackage, even other organization&#39;s packages.\n\nA useful compromise it to promote the methods to a lesser degree and\nmake them &#39;package&#39; methods, not protected methods:\n\nFor example, change ...\n\nprivate int y() {...}\n\nto ...\n\nint() {...}\n\nrather than ...\n\nprotected int() {...}\n\nThis change does not allow subclasses to override the methods\nand keeps the methods private with respect to the package. Yes, this is\na compromise because it breaks encapsulation but the breakage is locally\nconstrained. In reality this is an acceptable compromise.\n\nThis means that your tests must now belong in the same package as your\ncode, but this has a positive side-effect of documenting the\ncorrespondence between tests and code. The tests can now access all your\npackage members and fields.\n\nFinally, you usually want to separate your code from tests. Rather\nthan locate the tests in a different package, locate them in a separate\ncode base. Compile the source code-base first, then compile the test\ncode base with the source code-base classes in the classpath.\n\nFor example:\n\n/home/msparks/myproject/src/com/congreve/util/List.java\n/home/msparks/myproject/test/com/congreve/util/ListTest.java\n\nRather than use private by default, use the default modifier by default.\nThat should be easy to remember ;). You can use private on occasions\nwhen you really want something to be private to a class, and\ninaccessible to anything in the same package. I&#39;ve found these occasions\nto be rare.\n\nAnyway, I&#39;ve found this to be a useful development pattern. I know lots\nof others that use the same approach, so consider it &#39;tried and tested&#39;.\nYou might find it useful.\n\nMalcolm\n\n\nOn Fri, 2003-10-17 at 17:03, Kris Henderson wrote:\n&gt; &gt; -----Original Message-----\n&gt; &gt; From: Michael Silverstein [mailto:msilverstein@...] \n&gt; &gt; Sent: Thursday, October 16, 2003 6:50 PM\n&gt; &gt; To: junit@yahoogroups.com\n&gt; &gt;\n&gt; &gt; Here&#39;s an example of what I mean:\n&gt; &gt; \n&gt; &gt; Let&#39;s assume we have class MyClass that implements interface\n&gt; &gt; MyInterface, with methods:\n&gt; &gt; public int x(){\n&gt; &gt;   // return an answer based on y() and z() \n&gt; &gt; }\n&gt; &gt; private int y() {...}\n&gt; &gt; private int z() {...}\n&gt; &gt; \n&gt; &gt; And Interface MyInterface with method:\n&gt; &gt; public int x()\n&gt; \n&gt; \n&gt; In your example, shouldn&#39;t y() and z() be protected instead of public or\n&gt; private?  This way clients can still override y() and z(), and call them\n&gt; from the subclass, but they can not be invoked from outside the class.\n&gt; \n&gt; Keeping this on topic, the protected methods shouldn&#39;t be very difficult\n&gt; to test.  The test can create a MockMyClass that overrides y() and z()\n&gt; but change the modifier from protected to public.\n&gt; \n&gt; Something like this:\n&gt; \n&gt; public class MyClass\n&gt; {\n&gt;     public MyClass()\n&gt;     {\n&gt;         super();\n&gt;     }\n&gt;     \n&gt;     public int x()\n&gt;     {\n&gt;     \treturn y() + z();\n&gt;     }\n&gt;     \n&gt;     protected int y()\n&gt;     {\n&gt;     \treturn 8;\n&gt;     }\n&gt;     \n&gt;     protected int z()\n&gt;     {\n&gt;     \treturn 73;\n&gt;     }\n&gt; }\n&gt; \n&gt; Use MockMyClass in the test to test y and z instead of MyClass.\n&gt; \n&gt; public class MockMyClass extends MyClass\n&gt; {\n&gt;     public MockMyClass()\n&gt;     {\n&gt;         super();\n&gt;     }\n&gt;     \n&gt;     public int y()\n&gt;     {\n&gt;     \treturn super.y();\n&gt;     }\n&gt;     \n&gt;     public int z()\n&gt;     {\n&gt;     \treturn super.z();\n&gt;     }\n&gt; }\n&gt; \n&gt; MyClass2 could look something like this:\n&gt; public class MyClass2 extends MyClass\n&gt; {\n&gt;     public MyClass2()\n&gt;     {\n&gt;         super();\n&gt;     }\n&gt;     \n&gt;     protected int q()\n&gt;     {\n&gt;     \treturn 23;\n&gt;     }\n&gt;     \n&gt;     public int x()\n&gt;     {\n&gt;     \treturn y() + z() + q();\n&gt;     }\n&gt; }\n&gt; \n&gt; Kris\n&gt; \n&gt; \n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;  \n&gt; \n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n-- \nMalcolm Sparks\nCongreve Computing\nhttp://www.congreve.com\n\n\n\n", 
    "profile": "xsumeman", 
    "topicId": 9699, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139420845, 
    "prevInTime": 9730, 
    "contentTrasformed": false, 
    "postDate": "1066728211", 
    "canDelete": false, 
    "nextInTopic": 9733, 
    "prevInTopic": 9725, 
    "headers": {
        "inReplyToHeader": "PEY3QjE2RUI4OTg0QjE0NDA5QUNCMDE1RjEzMjZCQjY2ODgxODlFQEFUTDFWRVhDMDA1LnVzZG9tMDA0LnRjby50Yz4=", 
        "messageIdInHeader": "PDEwNjY3MjgyMDkuMzQ4OC4zNi5jYW1lbEBsdXRoaWVuLmNvbmdyZXZlLmNvbT4=", 
        "referencesHeader": "CSA8RjdCMTZFQjg5ODRCMTQ0MDlBQ0IwMTVGMTMyNkJCNjY4ODE4OUVAQVRMMVZFWEMwMDUudXNkb20wMDQudGNvLnRjPg=="
    }
}