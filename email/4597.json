{
    "numMessagesInTopic": 4, 
    "nextInTime": 4598, 
    "senderId": "_bxr0AjyqMhzHHjujlcsHvfuA1Xe8_-UTPuKXjs_9YBFkk7t7O2U5ktWKSji5x-2ngP5-aTDD9DoUe2LQE6DmUkLWuAmXuUy", 
    "systemMessage": false, 
    "subject": "Re: ClassNotFound  with junit and ant", 
    "from": "&quot;shkakkodi&quot; &lt;shkakkodi@...&gt;", 
    "authorName": "shkakkodi", 
    "msgSnippet": "I used the task  to execute the TestCases for ant with the same classpath example ====================================================== ", 
    "msgId": 4597, 
    "profile": "shkakkodi", 
    "topicId": 4592, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 108840506, 
    "messageBody": "<div id=\"ygrps-yiv-1136863007\">I used the task &lt;java&gt; to execute the TestCases for ant with the same <br/>\nclasspath <br/>\nexample<br/>\n======================================================<br/>\n&lt;java<br/>\n           fork        = &quot;yes&quot;<br/>\n           classname   = &quot;junit.textui.TestRunner&quot;<br/>\n           taskname    = &quot;JUnit&quot;<br/>\n           failonerror = &quot;true&quot; &gt;<br/>\n        <br/>\n         &lt;arg value=&quot;test.foo.cle.TestAll&quot;/&gt; <br/>\n\t&lt;classpath&gt;<br/>\n        \t &lt;pathelement location=&quot;${TEST_CONTEXT_BUILD}&quot;/&gt;<br/>\n        \t &lt;pathelement location=&quot;${JAVA_BUILD_DIR}&quot;/&gt;<br/>\n================================================================<br/>\nIt works.. finds all the depended classes.<br/>\n<br/>\nBut when I switch to task Junit ..ant fails to find all the classes. <br/>\nexample<br/>\n=======================================<br/>\n    &lt;target name=&quot;test_cle4&quot; depends=&quot;compile_cle,test_context&quot; <br/>\ndescription=&quot;Run all JUnit tests&quot;&gt;<br/>\n     &lt;junit printsummary=&quot;no&quot; fork=&quot;no&quot; haltonfailure=&quot;no&quot;&gt;<br/>\n\t&lt;classpath&gt;<br/>\n        \t &lt;pathelement location=&quot;${JAVA_BUILD_DIR}&quot;/&gt;<br/>\n        \t  &lt;pathelement location=&quot;${TEST_CONTEXT_BUILD}&quot;/&gt;<br/>\n=====================================================<br/>\n<br/>\nIt finds some, not all. In my TestCases I could narrow it down to the <br/>\nclasses loaded dynamically within the code.<br/>\n<br/>\nBut if I change the system classpath manually and then run the script <br/>\nit finds all classes.<br/>\n<br/>\nIt also does not find it if I update the systemclasspath from the <br/>\nscript at run time.<br/>\nexample &lt;sysproperty key=&quot;CLASSPATH&quot; <br/>\npath=&quot;${TEST_CONTEXT_BUILD};${JAVA_BUILD_DIR}&quot;/&gt;<br/>\n<br/>\nI feel the above problem is valid for third party libs used by the <br/>\ntestcase. Move the libs to Ant_home.. and ant finds it else it finds <br/>\nsome not all<br/>\n<br/>\nAny suggestions<br/>\n<br/>\n-Shaji<br/>\n<br/>\n<br/>\n-- In junit@y..., &quot;shkakkodi&quot; &lt;shkakkodi@y...&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; --- In junit@y..., &quot;Manuel Amago&quot; &lt;mamago@b...&gt; wrote:<br/>\n&gt; &gt; Does your ${TEST_CONTEXT_BUILD} include non-test classes that the <br/>\n&gt; test<br/>\n&gt; &gt; classes may depend on?<br/>\n&gt; &gt; <br/>\n&gt; &gt; Just a thought,<br/>\n&gt; &gt; <br/>\n&gt; &gt; Manuel Amago.<br/>\n&gt; &gt; mailto:mamago@b...<br/>\n&gt; &gt; <br/>\n&gt; &gt; PS:  it seems to be a classpath error, since it works when you <br/>\n </span></blockquote>put <br/>\n<blockquote><span title=\"qreply\"> &gt; all<br/>\n&gt; &gt; the appropriate classes under the ant/lib dir, which gets included<br/>\n&gt; &gt; automagically by ANT.  Try &lt;echo&gt;ing the value of your<br/>\n&gt; &gt; ${TEST_CONTEXT_BUILD} property, and work from that.<br/>\n&gt; <br/>\n&gt; Yes,  ${TEST_CONTEXT_BUILD} contains properties files and classes <br/>\n&gt; used by testcases.<br/>\n&gt; <br/>\n&gt; and ${JAVA_BUILD_DIR} contain TestCases and other dependend class ..<br/>\n&gt; both can be seen in the classpath when run in verbose mode.<br/>\n&gt; <br/>\n&gt; The TestCases are combination of Junit and Junitx.<br/>\n&gt; <br/>\n&gt; Frustrating thing is finds a class in same classpath but not the <br/>\n&gt; other.<br/>\n&gt; Example if class X loads dynamically class Y.<br/>\n&gt; <br/>\n&gt; ant finds class X but not Y even though they are in the same <br/>\n&gt; classpath..${TEST_CONTEXT_BUILD}<br/>\n&gt; <br/>\n&gt; Thanks for ur reply<br/>\n&gt; <br/>\n&gt; -Shaji </span></blockquote></div>", 
    "prevInTime": 4596, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1017873096", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 4594, 
    "headers": {
        "inReplyToHeader": "PGE4ZnE1aSs0bmd1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGE4ZnZzOCtuM2I3QGVHcm91cHMuY29tPg=="
    }
}