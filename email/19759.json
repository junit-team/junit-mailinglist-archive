{
    "numMessagesInTopic": 6, 
    "nextInTime": 19760, 
    "senderId": "khXrJ_-VNQ7hS-g3X3lz1q7k040GIBFmHeRDLhQW1hwxepsQE5b8XE8IInaXF05hwQlLBK0ORQKbqU7wwP4O89Go", 
    "systemMessage": false, 
    "subject": "Re: [junit] Junit 4 and Ant", 
    "from": "&quot;David Saff&quot; &lt;saff@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Gommo, I am not an expert user of the junit ant task--I hope that someone else on this list is, and can provide more insight.  You might want to look at the", 
    "msgId": 19759, 
    "profile": "dsaff", 
    "topicId": 19756, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 139771899, 
    "messageBody": "<div id=\"ygrps-yiv-1247708134\">Gommo,<br/>\n<br/>\nI am not an expert user of the junit ant task--I hope that someone<br/>\nelse on this list is, and can provide more insight.  You might want to<br/>\nlook at the Johannes&#39; Links ClasspathSuite runner:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://johanneslink.net/cpsuite.html\">http://johanneslink.net/cpsuite.html</a><br/>\n<br/>\nUsing this, you&#39;d point ant at a single suite class, which would<br/>\nitself indicate the directory in which to search for tests.  I&#39;ve<br/>\nfound cpsuite remarkably fast for small-to-medium projects, but can&#39;t<br/>\nsay how it scales to large or very large projects.  Thanks,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 8/19/07, gommo &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:colin.goudie@...\">colin.goudie@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt; I&#39;ve been using TestNG for more unit and integration tests. However, I&#39;ve<br/>\n&gt; found that JUnit 4 and its eclipse plugin works faster and nicer. So I&#39;ve<br/>\n&gt; decided change all my unit tests to JUnit.<br/>\n&gt;<br/>\n&gt; I have a runUnitTests ant target that is used to run (previously) the<br/>\n&gt; test-ng tests that are marked as &quot;UnitTests&quot;<br/>\n&gt;<br/>\n&gt; As a start, I have changed this ant target to run all tests in my tests<br/>\n&gt; target directory (i.e. using **/*.class)<br/>\n&gt;<br/>\n&gt; What I thought would happen was that JUnit would look at these classes, find<br/>\n&gt; the ones that are marked with the JUnit 4 @Test annotation and run them.<br/>\n&gt;<br/>\n&gt; What I&#39;m finding however is that it is attempting to run EVERY class in that<br/>\n&gt; folder as a test and they are either Test-NG tests or just other utility<br/>\n&gt; classes. As a result, JUnit is throwing errors<br/>\n&gt;<br/>\n&gt; e.g.<br/>\n&gt; Running au.tributech.tuxedo.beans.entity.PermissionTest$1<br/>\n&gt;     [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 0.017 sec<br/>\n&gt;     [junit] Test au.tributech.tuxedo.beans.entity.PermissionTest$1 FAILED<br/>\n&gt;     [junit] Running<br/>\n&gt; au.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant<br/>\n&gt;     [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 0.018 sec<br/>\n&gt;     [junit] Test<br/>\n&gt; au.tributech.tuxedo.beans.entity.PermissionTest$PermissionDescendant FAILED<br/>\n&gt;<br/>\n&gt; Is there any way out of the box to make Junit just run the tests that use<br/>\n&gt; org.junit.Test annoations ??<br/>\n&gt;<br/>\n&gt; What I have got working (but its slow) is to write a custom ANT selector.<br/>\n&gt; &lt;batchtest fork=&quot;yes&quot; todir=&quot;${test.report.dir}&quot;&gt;<br/>\n&gt;   &lt;fileset dir=&quot;${test.fixtures.dir}&quot; includes=&quot;**/*.class&quot;&gt;<br/>\n&gt;     &lt;custom classname=&quot;au.tributech.ant.JUnit4Selector&quot;<br/>\n&gt; classpathref=&quot;project.test.run.classpath&quot;/&gt;<br/>\n&gt;   &lt;/fileset&gt;<br/>\n&gt; &lt;/batchtest&gt;<br/>\n&gt;<br/>\n&gt; The JUnit4Selector class I wrote simply reads in each file processed and<br/>\n&gt; uses ASM-3.0 to look for JUnit4 annotations (@Test, @RunsWith etc..). If<br/>\n&gt; they exist it processes that file otherwise skips it.<br/>\n&gt;<br/>\n&gt; This works but it is pretty slow and I can see it being painfully slow when<br/>\n&gt; there are hundreds of unit tests.<br/>\n&gt;<br/>\n&gt; Surely I&#39;m missing something here and JUnit&#39;s ANT task is smarter than what<br/>\n&gt; it is appearing. I don&#39;t want to have to specify EVERY unit test when I add<br/>\n&gt; them. That is just a maintenance nightmare.<br/>\n&gt;<br/>\n&gt; Thanks for any pointers<br/>\n&gt; --<br/>\n&gt; View this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/Junit-4-and-Ant-tf4289986.html#a12212626\">http://www.nabble.com/Junit-4-and-Ant-tf4289986.html#a12212626</a><br/>\n&gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19758, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1187608344", 
    "canDelete": false, 
    "nextInTopic": 19763, 
    "prevInTopic": 19756, 
    "headers": {
        "inReplyToHeader": "PDEyMjEyNjI2LnBvc3RAdGFsay5uYWJibGUuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MDcwODIwMDQxMmdhMmIwNjZlazVjNjYzMjQ1NWMxZThhNmRAbWFpbC5nbWFpbC5jb20+", 
        "referencesHeader": "PDEyMjEyNjI2LnBvc3RAdGFsay5uYWJibGUuY29tPg=="
    }
}