{
    "numMessagesInTopic": 4, 
    "nextInTime": 15244, 
    "senderId": "iUZ102qgWcjqSxieIDDyXzh5bO9o5MQqfmzU9Q3GrHfAHFwQ84GwRYVPFU1qW3RUFWuN62ovovx6rgI8DQr5jAI1VgPYAzJA48OhR85MSclum-DW", 
    "systemMessage": true, 
    "subject": "RE: [junit] JUnit 4 issue: NaN handling", 
    "from": "&quot;Charlie Poole&quot; &lt;charlie@...&gt;", 
    "authorName": "Charlie Poole", 
    "msgSnippet": "FWIW, the result of the discussion cited by David is that NUnit was changed to conform to alternative 2 below. We didn t follow alternative 3, because that ", 
    "msgId": 15243, 
    "profile": "cpoole98370", 
    "topicId": 15230, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 212099090, 
    "messageBody": "<div id=\"ygrps-yiv-1797882327\">FWIW, the result of the discussion cited by David is that NUnit was changed <br/>\nto conform to alternative 2 below. We didn&#39;t follow alternative 3, because that<br/>\nrequires an extra test in many cases.<br/>\n<br/>\nI also added an Assert.IsNaN( double ), which is much clearer when the<br/>\nexpected value is known to be NaN at compile time.<br/>\n<br/>\nCharlie<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt; -----Original Message-----<br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>]On Behalf Of<br/>\n&gt; David Saff<br/>\n&gt; Sent: Thursday, October 20, 2005 8:21 AM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: Re: [junit] JUnit 4 issue: NaN handling<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; This was discussed in the context of NUnit starting at:<br/>\n&gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/testdrivendevelopment/message/11579\">http://groups.yahoo.com/group/testdrivendevelopment/message/11579</a><br/>\n&gt; <br/>\n&gt; My biased summary:<br/>\n&gt; <br/>\n&gt; 1) The current behavior of JUnit, in which assertEquals(Double.NaN, x) <br/>\n&gt; always fails as unequal, is confusing and unhelpful.<br/>\n&gt; 2) Ron Jeffries favored special-casing NaN so that <br/>\n&gt; assertEquals(Double.NaN, Double.NaN, 0.1); passes.<br/>\n&gt; 3) I proposed having assertEquals(Double.NaN, x) always fail with a <br/>\n&gt; failure message (&quot;Asserting equality with NaN is meaningless.  Please <br/>\n&gt; use assertIsNaN&quot;).<br/>\n&gt; <br/>\n&gt; I think 2 or 3 is fine.<br/>\n&gt; <br/>\n&gt;     David Saff<br/>\n&gt; <br/>\n&gt; Elliotte Harold wrote:<br/>\n&gt; <br/>\n&gt; &gt; I think the handling of NaN by assertEquals(double, double, double) and<br/>\n&gt; &gt; assertEquals(float, float, float)  should be thought out and more<br/>\n&gt; &gt; carefully spelled out. For instance, the following assert fails:<br/>\n&gt; &gt;<br/>\n&gt; &gt;    assertEquals(Double.NaN, Double.NaN, 0.1);<br/>\n&gt; &gt;<br/>\n&gt; &gt; i.e. NaN is not equal to NaN. I&#39;m honestly not sure whether this is<br/>\n&gt; &gt; correct or not. What does the principle of least surprise suggest? If<br/>\n&gt; &gt; someone understands NaN they may find this correct but someone who&#39;s not<br/>\n&gt; &gt; intimately familiar with NaN may be surprised.<br/>\n&gt; &gt;<br/>\n&gt; &gt; This edge case does have practical consequences. For one, the Apache<br/>\n&gt; &gt; Commons Math project has found it necessary to create their own double<br/>\n&gt; &gt; assertEquals methods that do consider NaN to be equal to NaN. See<br/>\n&gt; &gt;<br/>\n&gt; &gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/trun\">http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/trun</a><br/>\n&gt; k/src/test/org/apache/commons/math/TestUtils.java?rev=240245&view=markup <br/>\n&gt; &gt; <br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/tru\">http://svn.apache.org/viewcvs.cgi/jakarta/commons/proper/math/tru</a><br/>\n&gt; nk/src/test/org/apache/commons/math/TestUtils.java?rev=240245&view=markup&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; I could go either way on this. However, I do think it&#39;s important that a<br/>\n&gt; &gt; definite decision about how to handle NaN be made, and that the result<br/>\n&gt; &gt; of this decision be spelled out in the JavaDoc. Currently Infinity is<br/>\n&gt; &gt; addressed but not NaN, and NaN is by far the more confusing case.<br/>\n&gt; &gt;<br/>\n&gt; &gt; It probably also wouldn&#39;t hurt to patch the JUnit 3 JavaDoc at least<br/>\n&gt; &gt; enough to document the current behavior, whatever that is.<br/>\n&gt; &gt;<br/>\n&gt; &gt; -- <br/>\n&gt; &gt; Elliotte Rusty Harold  <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:elharo@...\">elharo@...</a><br/>\n&gt; &gt; XML in a Nutshell 3rd Edition Just Published!<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.cafeconleche.org/books/xian3/\">http://www.cafeconleche.org/books/xian3/</a><br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim\">http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim</a><br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------------------------------------------<br/>\n&gt; &gt; YAHOO! GROUPS LINKS<br/>\n&gt; &gt;<br/>\n&gt; &gt;     *  Visit your group &quot;junit &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://groups.yahoo.com/group/junit\">http://groups.yahoo.com/group/junit</a>&gt;&quot;<br/>\n&gt; &gt;       on the web.<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  To unsubscribe from this group, send an email to:<br/>\n&gt; &gt;        <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;       &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a>?subject=Unsubscribe&gt;<br/>\n&gt; &gt;        <br/>\n&gt; &gt;     *  Your use of Yahoo! Groups is subject to the Yahoo! Terms of<br/>\n&gt; &gt;       Service &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a>&gt;.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; Yahoo! Groups Links<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt;  <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 15242, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1129847753", 
    "canDelete": false, 
    "nextInTopic": 15244, 
    "prevInTopic": 15234, 
    "headers": {
        "inReplyToHeader": "PDQzNTdCNUY1LjQwMjAyMDhAbWl0LmVkdT4=", 
        "messageIdInHeader": "PE9GRUFKRkxDQlBFQ0ZLSUNKSU9KSUVIQ0JBQUIuY2hhcmxpZUBwb29sZWNvbnN1bHRpbmcuY29tPg=="
    }
}