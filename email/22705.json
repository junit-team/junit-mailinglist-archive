{
    "numMessagesInTopic": 6, 
    "nextInTime": 22706, 
    "senderId": "g96gHUyv3tswVUUPw5hLJJfNlgYY6pRQoyOy0BZZsA3EUzhPYJBp6pNXlB1hjDgKAfOzJB3zxv7Hca1QF0M6zOGfdj88u0qc_MMEakzpc1Y", 
    "systemMessage": false, 
    "subject": "Re: Snapshot release junit4.9-SNAPSHOT-20100512-0041, aka SuiteBuilder, aka &quot;Categories the right way&quot;", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "I do realize that this is not a new concept in JUnit. I think my first reaction just stems from the Builder word. I hear Builder, I expect a fluid interface.", 
    "msgId": 22705, 
    "profile": "yme0987654321", 
    "topicId": 22695, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "messageBody": "<div id=\"ygrps-yiv-508482318\">I do realize that this is not a new concept in JUnit. I think my first reaction just stems from the Builder word. I hear Builder, I expect a fluid interface. That doesn&#39;t really mean very much (as I said this was nitpicking) except that if others have that reaction, well then it is surprising, for whatever importance that carries. BTW, I didn&#39;t really love it with @Rule either (although I think for @Parameters and @DataPoints it&#39;s more justified), but it didn&#39;t go against the grain of my expectations the same way Builder did.<br/>\n<br/>\nIn terms of an alternative design, here is what comes to mind (although I obviously have not spent the time thinking about this that you have):<br/>\n<br/>\n@RunWith(DynamicRunner.class)<br/>\npublic class OnlyYes {<br/>\n      @...<br/>\n      public static Runner createRunner() {<br/>\n          return new RunnerBuilder()<br/>\n                .ofListed(new Listed(...))<br/>\n                .withFilter(CategoryFilter.of(Yes.class))<br/>\n                .build();<br/>\n      }<br/>\n}<br/>\n<br/>\nOf course you could imagine the RunnerBuilder folding in all the other three annotations by using a DynamicRunner whenever you needed them, but I&#39;m less sure about that.<br/>\n<br/>\n         new RunnerBuilder(Parameterized.class)<br/>\n             .withParameters(Arrays.asList(...))<br/>\n             .withRule(new MethodRule(){...})<br/>\n             .build()<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; On Wed, May 12, 2010 at 2:56 PM, yme0987654321 &lt;yme0987654321@...&gt; wrote:<br/>\n&gt; &gt; Beautiful, you definitely hit on the right design limitations and found a great new direction.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;m not positive I love the conventions of having public variables do this kind of thing, but maybe that will grow on me (a more traditional Builder pattern strikes me as less surprising), but that is nitpicking.<br/>\n&gt; <br/>\n&gt; We talked a lot about this.  Configuration from objects grabbed from<br/>\n&gt; annotated fields or methods has already been done incidentally at<br/>\n&gt; several points throughout the codebase (i.e. @Parameters, @DataPoints,<br/>\n&gt; @Rule).  We realized that this new runner would represent a commitment<br/>\n&gt; to the idea that this was a worthwhile design pattern, but found it<br/>\n&gt; less surprising _within the context of junit_ than the alternatives.<br/>\n&gt; If you have a sketch of a different design, I&#39;d be happy to discuss<br/>\n&gt; it.<br/>\n&gt; <br/>\n&gt; &gt; The bottom line is that the new design direction is great, providing substantial flexibility and power while keeping things simple.<br/>\n&gt; <br/>\n&gt; Thanks!<br/>\n&gt; <br/>\n&gt;    David Saff<br/>\n&gt; <br/>\n&gt; &gt;<br/>\n&gt; &gt; Thank you very much.<br/>\n&gt; &gt;<br/>\n&gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, David Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; All,<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; So Categories seemed to get some people excited<br/>\n&gt; &gt;&gt; (<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.google.com/search?q=junit+categories&tbs=qdr:w3)\">http://www.google.com/search?q=junit+categories&tbs=qdr:w3)</a>, but we<br/>\n&gt; &gt;&gt; couldn&#39;t help feeling that we&#39;d gone about it the wrong way.  From the<br/>\n&gt; &gt;&gt; design perspective, why have a whole Runner just for filtering by<br/>\n&gt; &gt;&gt; category?  There are other things you can filter on.  And, there were<br/>\n&gt; &gt;&gt; some definitely hackish parts of the implementation.  And, it turns<br/>\n&gt; &gt;&gt; out, there were bugs in Categories, (such as<br/>\n&gt; &gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://github.com/KentBeck/junit/issues#issue/74)\">http://github.com/KentBeck/junit/issues#issue/74)</a> that were very hard<br/>\n&gt; &gt;&gt; to elegantly fix with the current design.  And, (sorry, maven<br/>\n&gt; &gt;&gt; hopefuls), but we were anxious to get back into the meat of the code.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; So, the first 4.9 snapshot is up today, with a new way of specifying<br/>\n&gt; &gt;&gt; suites, called SuiteBuilder.  SuiteBuilder allows for flexible<br/>\n&gt; &gt;&gt; specification of where to find the classes containing tests, and how<br/>\n&gt; &gt;&gt; to filter the resulting runners.<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; This suite class lists the explicit test classes to consider running,<br/>\n&gt; &gt;&gt; and then filters it down to only those tests or classes annotated with<br/>\n&gt; &gt;&gt; `@Category(Yes.class)`:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;       @RunWith(SuiteBuilder.class)<br/>\n&gt; &gt;&gt;       public static class OnlyYes {<br/>\n&gt; &gt;&gt;               @Classes<br/>\n&gt; &gt;&gt;               public Listed classes= new Listed(Yes1.class, Yes2.class, No1.class);<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;               @RunnerFilter<br/>\n&gt; &gt;&gt;               public CategoryFilter filter= CategoryFilter.include(Yes.class);<br/>\n&gt; &gt;&gt;       }<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; We hope to soon include other implementations for the @Classes<br/>\n&gt; &gt;&gt; annotation, including a classpath-searching test gatherer.  Other<br/>\n&gt; &gt;&gt; implementations for @RunnerFilter also make sense (if you look close,<br/>\n&gt; &gt;&gt; you&#39;ll see that RunnerFilter implementations can also re-order<br/>\n&gt; &gt;&gt; runners, as well as selecting them).<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Please have fun, and let us know how it works for you.  Thanks,<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;    David Saff<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; ------------------------------------<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 22704, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1273768388", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 22704, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGlrM3VRYU8tb0VObzdicExTX0JCZWFaOXpad2tLUE9DdzRjZWNJbEBtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGhzaDlrNCtwMmI4QGVHcm91cHMuY29tPg=="
    }
}