{
    "numMessagesInTopic": 11, 
    "nextInTime": 12012, 
    "senderId": "uT80_rWyUFf35uzqcVT7mOeTfACXqreXW7KvovRmouobEZSvFCrMEO61-kx9ST_1kHO1RxJ9a_2TspDhDqFN-AsuZ9FPkM_8BwE", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing classloader isolation?", 
    "from": "Timothy Wall &lt;twall@...&gt;", 
    "authorName": "Timothy Wall", 
    "msgSnippet": "Having both sets of classes in the primordial class loader *and* trying to have them loaded dynamically by a custom class loader is cruisin for trouble. ", 
    "msgId": 12011, 
    "profile": "timothyrwall", 
    "topicId": 12010, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 106503903, 
    "messageBody": "<div id=\"ygrps-yiv-1225254133\">Having both sets of classes in the primordial class loader *and* trying <br/>\nto have them loaded dynamically by a custom class loader is cruisin&#39; <br/>\nfor trouble.<br/>\n<br/>\nPresumably your custom class loaders do things the &quot;normal&quot; way, i.e. <br/>\ndefer to the parent/primordial class loader prior to loading a class.  <br/>\nIf the normal behavior of your app is that the primordial/parent class <br/>\nloader *doesn&#39;t* have access to both sets of classes, then your testing <br/>\nenvironment isn&#39;t representative of your runtime environment.<br/>\n<br/>\nYou should consider running those class loader tests that explicitly <br/>\ncheck class loading behavior separately from the bulk of the tests <br/>\nwhich are checking your classes, if you absolutely *must* have both <br/>\nsets of classes in the default class loader.  Alternatively, you could <br/>\nset the context class loader for *most* of your tests to include both <br/>\nclasses, while that of the class loading tests would omit them.  The <br/>\nkey is to avoid those classes *ever* being loaded by the primordial <br/>\nclass loader.<br/>\n<br/>\nYou can certainly write a class loader that *doesn&#39;t* delegate loading <br/>\nto the parent/primordial, but that path is fraught with exceptions and <br/>\nerrors (of the ClassCast and Linkage types) and painstaking to get <br/>\nexactly right.<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Sep 21, 2004, at 10:00 AM, Russell Gold wrote:<br/>\n<br/>\n&gt;<br/>\n&gt; Does anybody have a good way to test behavior that depends on code in<br/>\n&gt; different classloaders communicating? That is, we have a client that<br/>\n&gt; should only use the classes in one jar talking to a server that should<br/>\n&gt; only use the classes in another jar. It is trivial to test the<br/>\n&gt; communications if I smush the classpaths together, but I want a<br/>\n&gt; sensible way to restrict each of the parts to its own classloader,<br/>\n&gt; preferably without preventing the suite from having both sets of<br/>\n&gt; classes in its *default* classloader...<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 12010, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1095778727", 
    "canDelete": false, 
    "nextInTopic": 12012, 
    "prevInTopic": 12010, 
    "headers": {
        "inReplyToHeader": "PDg1M2FjNGY0MDQwOTIxMDcwMDQwYjczYTU2QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PEJEQ0ZCNjg0LTBCREUtMTFEOS05QkRFLTAwMzA2NUJGODNEQUBvY3VsdXN0ZWNoLmNvbT4=", 
        "referencesHeader": "PDg1M2FjNGY0MDQwOTIxMDcwMDQwYjczYTU2QG1haWwuZ21haWwuY29tPg=="
    }
}