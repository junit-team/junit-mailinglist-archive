{
    "numMessagesInTopic": 6, 
    "nextInTime": 19290, 
    "senderId": "eNInWRw2BszjQSduJG_etc_KKuE12WIY-Y02IdkYyZ91C3eYpHdQvB8SVVhDQPTI7UjUw3j2Iu0ZrmRqtJa2wiVTh4KCTQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] How to enforce the executing order of *Test.class?", 
    "from": "&quot;Don Hill&quot; &lt;justj2ee@...&gt;", 
    "authorName": "Don Hill", 
    "msgSnippet": "Hi, remember one of the rules of Unit test, test in isolation, what this means is that no tests should depend on something else that is doen in another, I ", 
    "msgId": 19289, 
    "profile": "ssswdon", 
    "topicId": 19287, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 223360221, 
    "messageBody": "<div id=\"ygrps-yiv-726343864\">Hi,<br/>\n<br/>\nremember one of the rules of Unit test, test in isolation, what this means<br/>\nis that no tests should depend on something else that is doen in another, I<br/>\nwould recommend that you rework the tests so they run so. I would also<br/>\nrecommend that you create a Fixture that does all the setup for the 3 tests,<br/>\nthe tests can then setup and teardown as needed for the tests to suceed.<br/>\n<br/>\n<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On 17 Apr 2007 11:49:29 -0700, xsli2 &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:xsli2@...\">xsli2@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt;   Hi,<br/>\n&gt;<br/>\n&gt; I am doing junit testing using build.xml and ant. Within build.xml,<br/>\n&gt; there are several targets. If I test individual target, all pass<br/>\n&gt; successfully:<br/>\n&gt;<br/>\n&gt; &gt;ant target1 //passes<br/>\n&gt;<br/>\n&gt; &gt;ant target2 //passes<br/>\n&gt;<br/>\n&gt; &gt;... //all passes<br/>\n&gt;<br/>\n&gt; But, if I just do:<br/>\n&gt;<br/>\n&gt; &gt;ant test //testing all targets and it fails<br/>\n&gt;<br/>\n&gt; I believe it fails because the *Test.class are executed in a random<br/>\n&gt; sequence. But in target1, there are two Java classes, secondTest.class<br/>\n&gt; can only be executed after firstTest.class. &quot;ant target1&quot; will force<br/>\n&gt; such an order and it passes successfully. &quot;ant test&quot; will not<br/>\n&gt; guarantee it so most of time fails. I posted target1 and test part<br/>\n&gt; within build.xml. I have tried using fork as you can see below. I am<br/>\n&gt; very new to junit. I cannot do it right.<br/>\n&gt;<br/>\n&gt; Thank you very much for your help.<br/>\n&gt;<br/>\n&gt; &lt;part of build.xml&gt;<br/>\n&gt; ...<br/>\n&gt; &lt;target name=&quot;target1&quot; depends=&quot;compile-test, prepare-test&quot;&gt;<br/>\n&gt; &lt;delete dir=&quot;${test.xml.dir}&quot;/&gt;<br/>\n&gt; &lt;mkdir dir=&quot;${test.xml.dir}&quot;/&gt;<br/>\n&gt; &lt;junit errorProperty=&quot;test.failed&quot;<br/>\n&gt; failureProperty=&quot;test.failed&quot; fork=&quot;yes&quot;&gt;<br/>\n&gt;<br/>\n&gt; &lt;sysproperty key=&quot;testfilesdir&quot;<br/>\n&gt; value=&quot;${testfiles.dir}&quot;/&gt;<br/>\n&gt; &lt;classpath refid=&quot;project.classpath&quot;/&gt;<br/>\n&gt; &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;<br/>\n&gt; &lt;formatter type=&quot;xml&quot;/&gt;<br/>\n&gt; &lt;batchtest todir=&quot;${test.xml.dir}&quot; fork=&quot;yes&quot;&gt;<br/>\n&gt; &lt;fileset dir=&quot;${build.test.dir}&quot;<br/>\n&gt; includes=&quot;**/firstTest.class&quot;/&gt;<br/>\n&gt; &lt;/batchtest&gt;<br/>\n&gt; &lt;/junit&gt;<br/>\n&gt; &lt;copy file=&quot;testoutput/tci.xml&quot;<br/>\n&gt; tofile=&quot;testoutput/tci.xml.part1&quot;/&gt;<br/>\n&gt; &lt;junit errorProperty=&quot;test.failed&quot;<br/>\n&gt; failureProperty=&quot;test.failed&quot; fork=&quot;yes&quot;&gt;<br/>\n&gt; &lt;sysproperty key=&quot;testfilesdir&quot;<br/>\n&gt; value=&quot;${testfiles.dir}&quot;/&gt;<br/>\n&gt; &lt;classpath refid=&quot;project.classpath&quot;/&gt;<br/>\n&gt; &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;<br/>\n&gt; &lt;formatter type=&quot;xml&quot;/&gt;<br/>\n&gt; &lt;batchtest todir=&quot;${test.xml.dir}&quot; fork=&quot;yes&quot;&gt;<br/>\n&gt; &lt;fileset dir=&quot;${build.test.dir}&quot;<br/>\n&gt; includes=&quot;**/secondTest.class&quot;/&gt;<br/>\n&gt; &lt;/batchtest&gt;<br/>\n&gt; &lt;/junit&gt;<br/>\n&gt; &lt;copy file=&quot;testoutput/tci.xml&quot;<br/>\n&gt; tofile=&quot;testoutput/tci.xml.part2&quot;/&gt;<br/>\n&gt; &lt;fail if=&quot;test.failed&quot; message=&quot;Build failed because<br/>\n&gt; some test(s) failed.&quot;/&gt;<br/>\n&gt; &lt;/target&gt;<br/>\n&gt;<br/>\n&gt; &lt;target name=&quot;test&quot; depends=&quot;compile-test, prepare-test&quot; &gt;<br/>\n&gt; &lt;delete dir=&quot;${test.xml.dir}&quot;/&gt;<br/>\n&gt; &lt;mkdir dir=&quot;${test.xml.dir}&quot;/&gt;<br/>\n&gt; &lt;junit errorProperty=&quot;test.failed&quot;<br/>\n&gt; failureProperty=&quot;test.failed&quot; fork=&quot;on&quot;&gt;<br/>\n&gt;<br/>\n&gt; &lt;sysproperty key=&quot;testfilesdir&quot;<br/>\n&gt; value=&quot;${testfiles.dir}&quot;/&gt;<br/>\n&gt;<br/>\n&gt; &lt;env key=&quot;LD_LIBRARY_PATH&quot;<br/>\n&gt; value=&quot;${env.LD_LIBRARY_PATH}:${vendor.lib.dir}&quot;/&gt;<br/>\n&gt;<br/>\n&gt; &lt;classpath refid=&quot;project.classpath&quot;/&gt;<br/>\n&gt; &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;<br/>\n&gt; &lt;formatter type=&quot;xml&quot;/&gt;<br/>\n&gt; &lt;batchtest todir=&quot;${test.xml.dir}&quot; fork=&quot;yes&quot;&gt;<br/>\n&gt; &lt;fileset dir=&quot;${build.test.dir}&quot;<br/>\n&gt; includes=&quot;**/*Test.class&quot;/&gt;<br/>\n&gt; &lt;/batchtest&gt;<br/>\n&gt; &lt;/junit&gt;<br/>\n&gt; &lt;fail if=&quot;test.failed&quot; message=&quot;Build failed because<br/>\n&gt; some test(s) failed.&quot;/&gt;<br/>\n&gt; &lt;/target&gt;<br/>\n&gt;<br/>\n&gt; &lt;/part of build.xml&gt;<br/>\n&gt;<br/>\n&gt;  <br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 19288, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1176860115", 
    "canDelete": false, 
    "nextInTopic": 19290, 
    "prevInTopic": 19288, 
    "headers": {
        "inReplyToHeader": "PGYwMnVraCtlZDNsQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGU5ZjExYjg1MDcwNDE3MTgzNXU0MDJkOTlhOWs5YWJiNGJlMDc0OTcxNzhiQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGYwMnVraCtlZDNsQGVHcm91cHMuY29tPg=="
    }
}