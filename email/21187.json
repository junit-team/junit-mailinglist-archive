{
    "numMessagesInTopic": 14, 
    "nextInTime": 21188, 
    "senderId": "iHgXn7pA7oK4NwyHsV8anRbqh7iemCGo3evm-XrYoWtNSGw4WEjBfQB0Xdu4Dp_QAjfsV8W-rX9SOuqPWERWcdv_Ncopa7WLtA", 
    "systemMessage": true, 
    "subject": "Re: One test for all implementors of an interface", 
    "from": "&quot;lancezant&quot; &lt;lance.zant@...&gt;", 
    "authorName": "lancezant", 
    "msgSnippet": "I don t think the point of the question was to test up the tree , but to test the faithfulness of each implementation to the contract expressed by the", 
    "msgId": 21187, 
    "profile": "lancezant", 
    "topicId": 21184, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 360301695, 
    "messageBody": "<div id=\"ygrps-yiv-941604828\">I don&#39;t think the point of the question was to test &quot;up the tree&quot;, but<br/>\nto test the faithfulness of each implementation to the contract<br/>\nexpressed by the interface.<br/>\n<br/>\nI have taken what I imagine is a naive approach to this by writing the<br/>\ninterface contract tests in an abstract base test case and extending<br/>\nthat test class for each implementation.  The tests in the base run<br/>\nfor all implementations, and the concrete classes add whatever other<br/>\ntests they need for implementation corner cases or unrelated functions.<br/>\n<br/>\nThe crux of the problem is that the base tests need a way to<br/>\ninstantiate the class under test without knowing what class that is.<br/>\nTo do this, the base test class relied on an abstract factory method<br/>\nimplemented in each concrete test class according to the target<br/>\nimplementation.<br/>\n<br/>\nBecause we were using JUnit 3.8, We faced one other wrinkle.  We had<br/>\nto avoid naming the base class like a test case or JUnit would choke<br/>\ntrying to instantiate and run it directly.<br/>\n<br/>\nAs I said, the technique was naive, but it basically worked, and it<br/>\ngot past the gatekeeper responsible for keeping our use of 3rd party<br/>\npackages under control.  Since then, I have seen that GroboUtils<br/>\nclaims to support this, so you might want to check that out at:<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://groboutils.sourceforge.net/testing-junit/art_hierarchy.html\">http://groboutils.sourceforge.net/testing-junit/art_hierarchy.html</a><br/>\n<br/>\nI&#39;d love to hear about experience with that or other more elegant and<br/>\nrobust approaches.<br/>\n<br/>\nBest,<br/>\nLance<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Mike Hill&quot; &lt;mike@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; John...<br/>\n&gt;<br/>\n&gt; You know, this is a good question, and I&#39;d like to hear other<br/>\nresponses, too.<br/>\n&gt;<br/>\n&gt; For me, testing &#39;up-the-tree&#39; has never seemed like the right thing<br/>\nto do.<br/>\n&gt;<br/>\n&gt; That doesn&#39;t mean I don&#39;t sometimes wind up with a hierarchy of test<br/>\n&gt; classes, e.g. FlintstonesTestBase ancestors FredTest and WilmaTest.<br/>\n&gt; But I usually &#39;discover&#39; this rather than set out to do it.<br/>\n&gt;<br/>\n&gt; For me, the need for a sub-class is the need for differentiation.<br/>\n&gt; That is, Fred and Wilma both support the Flintstones interface, but<br/>\n&gt; they do it in different ways.  When I microtest, I use what we call<br/>\n&gt; &#39;gray-box&#39; testing.  That is, the test takes advantage of, though not<br/>\n&gt; necessarily declaring, the inside information that its author has<br/>\n&gt; about the class being tested.  FredTest and WilmaTest *will* probably<br/>\n&gt; share some code, hence FlintstonesTestBase, but they don&#39;t restrict<br/>\n&gt; their view to only public api&#39;s of the Flintstones interface.<br/>\n&gt;<br/>\n&gt; Does that make any sense at all, or should I try a change of meds?<br/>\n&gt; Hill<br/>\n&gt;<br/>\n&gt; Wanna learn TDD?  Try <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.industrialllogic.com/elearning\">http://www.industrialllogic.com/elearning</a> !<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; On Thu, Dec 11, 2008 at 12:06 PM, five ten &lt;john_roshi@...&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; Does it make sense to write a single junit test to test all<br/>\n&gt; &gt; classes that implement a common interface?<br/>\n&gt; &gt; Is there a typical &quot;design pattern&quot; for this usage?<br/>\n&gt; &gt; For example, the test below tests the size() method of<br/>\n&gt; &gt; java.util.ArrayList. But I would also like to have it test<br/>\n&gt; &gt; the size() method of LinkedList without writing a duplicate<br/>\n&gt; &gt; test method.<br/>\n&gt; &gt; Thanks for any advice.<br/>\n&gt; &gt;<br/>\n&gt; &gt; public class TestList extends junit.framework.TestCase<br/>\n&gt; &gt; {<br/>\n&gt; &gt; java.util.List dogs;<br/>\n&gt; &gt;<br/>\n&gt; &gt; protected void setUp()<br/>\n&gt; &gt; {<br/>\n&gt; &gt; try<br/>\n&gt; &gt; {<br/>\n&gt; &gt; Class classname = Class.forName(&quot;java.util.ArrayList&quot;);<br/>\n&gt; &gt; dogs = (java.util.List) classname.newInstance();<br/>\n&gt; &gt; } catch (Exception e) {System.out.println(&quot;instantiation error&quot;);};<br/>\n&gt; &gt;<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; public void testSize()<br/>\n&gt; &gt; {<br/>\n&gt; &gt; dogs.add(&quot;Fido&quot;);<br/>\n&gt; &gt; assertEquals(1,dogs.size());<br/>\n&gt; &gt; }<br/>\n&gt; &gt; }<br/>\n&gt; &gt;<br/>\n&gt; &gt; --<br/>\n&gt; &gt; View this message in context:<br/>\n&gt; &gt;<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/One-test-for-all-implementors-of-an-interface-tp20959803p20959803.html\">http://www.nabble.com/One-test-for-all-implementors-of-an-interface-tp20959803p20959803.html</a><br/>\n&gt; &gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21186, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1229031380", 
    "canDelete": false, 
    "nextInTopic": 21188, 
    "prevInTopic": 21186, 
    "headers": {
        "inReplyToHeader": "PDY4MGU0NTRlMDgxMjExMDkyNmgxN2QwNmE5MWwxODVmMjE3ODI4ZjA5MDQ0QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGdoczE0aythM2VzQGVHcm91cHMuY29tPg=="
    }
}