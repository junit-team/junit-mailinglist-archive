{
    "numMessagesInTopic": 7, 
    "nextInTime": 22025, 
    "senderId": "l6biKOT7oCiRZRvqaCMk3agHO9yTqV4YtzBvRd-PQ7wHEMIN4Fy5jJ8xcUlUms0xObO7QeW8xqfUDYyZvQnLl7wwWQ-2iac9KGFlLmFt6ls", 
    "systemMessage": false, 
    "subject": "Re: How to build a test suite automatically in Junit4?", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "The way I do this currently is with a custom runner like this: public class CustomRunner extends Suite { public CustomRunner(Class setupClass) throws", 
    "msgId": 22024, 
    "rawEmail": "Return-Path: &lt;yme0987654321@...&gt;\r\nX-Sender: yme0987654321@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 70748 invoked from network); 27 Oct 2009 19:27:37 -0000\r\nX-Received: from unknown (98.137.34.45)\n  by m7.grp.re1.yahoo.com with QMQP; 27 Oct 2009 19:27:37 -0000\r\nX-Received: from unknown (HELO n40b.bullet.mail.sp1.yahoo.com) (66.163.168.154)\n  by mta2.grp.sp2.yahoo.com with SMTP; 27 Oct 2009 19:27:37 -0000\r\nX-Received: from [69.147.65.173] by n40.bullet.mail.sp1.yahoo.com with NNFMP; 27 Oct 2009 19:27:37 -0000\r\nX-Received: from [98.137.34.34] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 27 Oct 2009 19:27:37 -0000\r\nDate: Tue, 27 Oct 2009 19:27:35 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hc7hj7+tetq@...&gt;\r\nIn-Reply-To: &lt;4f7da6b90910261132r47c24618j13db028725b28933@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;yme0987654321&quot; &lt;yme0987654321@...&gt;\r\nSubject: Re: How to build a test suite automatically in Junit4?\r\nX-Yahoo-Group-Post: member; u=386557907; y=yJQrfVht8qQSXig7MjxEpl1TKaLs4kaLIKCYS03MzmBq3vaxAr6iLg\r\nX-Yahoo-Profile: yme0987654321\r\n\r\nThe way I do this currently is with a custom runner like this:\n\npublic clas=\r\ns CustomRunner extends Suite {\n\n    public CustomRunner(Class&lt;?&gt; setupClass=\r\n) throws InitializationError {\n        super(setupClass, staticMethodWhichG=\r\netsTheClassesAsAnArrayForTheSuite());\n    }\n}\n\nAnd then Run an arbitrary cl=\r\nass annotated with that Runner using @RunWith (I did it as a nested class s=\r\no it was all right there, just be sure to declare it static). In that arbit=\r\nrary class, you can do @BeforeClass and @AfterClass that might do interesti=\r\nng things.\n\nI put in a request (http://sourceforge.net/tracker/index.php?fu=\r\nnc=3Ddetail&aid=3D2786193&group%5Fid=3D15278&atid=3D365278) with my preferr=\r\ned way of resolving this, but I don&#39;t think anything was done on it.\n\nBy th=\r\ne way, I&#39;d be happy to code up the implementation and submit it as a patch =\r\nif David/Kent would agree on the approach (a new runner, changes to the cur=\r\nrent runner, whatever. I don&#39;t really care, I would just like to see it as =\r\npart of the framework).\n\nI think the above workaround is reasonable enough =\r\n(although not really that obvious) that I can certainly understand not prio=\r\nritizing addressing this.\n\nYishai\n\n--- In junit@yahoogroups.com, David Saff=\r\n &lt;david@...&gt; wrote:\n&gt;\n&gt; ju_10101,\n&gt; \n&gt; Ask tomorrow for an ETA on the next =\r\nrelease.\n&gt; \n&gt;    David\n&gt; \n&gt; On Fri, Oct 23, 2009 at 11:50 AM, ju_10101 &lt;ju_=\r\n10101@...&gt; wrote:\n&gt; &gt; I just got folks in the office to agree to upgrade - =\r\nmight be a harder battle to get a nightly build, but I&quot;ll take a look.\n&gt; &gt;\n=\r\n&gt; &gt; With the 4.7 release then, there&#39;s no way to build a dynamic test suite=\r\n? =A0Any estimate when the next release might be? =A0I might just drop back=\r\n down to 3.8 in the meantime.\n&gt; &gt;\n&gt; &gt; Thanks!\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In junit@yaho=\r\nogroups.com, David Saff &lt;david@&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; ju_10101,\n&gt; &gt;&gt;\n&gt; &gt;&gt; Are y=\r\nou able to use pre-release code? =A0HEAD at github includes a\n&gt; &gt;&gt; Category=\r\n system, which you could combine with Link&#39;s cpsuite runner to\n&gt; &gt;&gt; get wha=\r\nt you want.\n&gt; &gt;&gt;\n&gt; &gt;&gt; =A0 =A0David Saff\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Thu, Oct 22, 2009 at 7=\r\n:31 PM, ju_10101 &lt;ju_10101@&gt; wrote:\n&gt; &gt;&gt; &gt; Hi,\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; I&#39;ve just upda=\r\nted to 4.7 from 3.8.2. =A0I have a large project with a lot of classes and =\r\npackages, but I also annotate tests for fast and slow. =A0I create my FastS=\r\nuite to find all tests classes annotated with SmallTest. =A0That way, these=\r\n can be run first in the continuous environment, and the slow ones run late=\r\nr, on a different machine, so I don&#39;t backup the queue, etc.\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; =\r\nIt seems the way to make suites in 4.7 is to explicitly list each classname=\r\n as an annotation to your suite class, but I don&#39;t want to do that because =\r\na) I have a lot, and b) I don&#39;t want to not run new tests because someone d=\r\nidn&#39;t go update the manual list of test classes somewhere.\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; My=\r\n old way doesn&#39;t work anymore. =A0Can anyone tell me how to accomplish the =\r\nsame in junit 4.7??\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; My code in 3.8.2 was (sorry for th=\r\ne formatting!):\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; =A0 =A0public static Test suite() {\n&gt; &gt;&gt; &gt; =\r\n=A0 =A0 =A0 =A0final String smallTestName =3D SmallTest.class.getCanonicalN=\r\name();\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0TestSuite suite =3D new TestSuite();\n&gt; &gt;&gt; &gt;\n&gt; =\r\n&gt;&gt; &gt; =A0 =A0 =A0 =A0Enumeration testClasses =3D new LoadingTestCollector().=\r\ncollectTests();\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0while (testClasses.hasMoreElements())=\r\n {\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0final String className =3D testClasses.nex=\r\ntElement().toString();\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0try {\n&gt; &gt;&gt; &gt; =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Annotation[] annotations =3D Class.forName(c=\r\nlassName).getAnnotations();\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0for (Anno=\r\ntation a : annotations) {\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if =\r\n(a.annotationType().getCanonicalName().equals(smallTestName)) {\n&gt; &gt;&gt; &gt; =A0 =\r\n=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System.out.println(&quot;HELLOOO- wor=\r\nking on class &quot; + className);\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0suite.addTestSuite(Class.forName(className));\n&gt; &gt;&gt; &gt; =A0 =A0 =A0=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0}\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}\n&gt; &gt;&gt; =\r\n&gt; =A0 =A0 =A0 =A0 =A0 =A0} =A0 =A0catch (ClassNotFoundException e) {\n&gt; &gt;&gt; &gt;=\r\n =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System.err.println(&quot;Error: Couldn&#39;t deal wi=\r\nth &quot; + className);\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0 =A0 =A0}\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0}\n=\r\n&gt; &gt;&gt; &gt; =A0 =A0 =A0 =A0return suite;\n&gt; &gt;&gt; &gt; =A0 =A0}\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; Th=\r\ne compiler error is: addTestSuite(java.lang.Class&lt;? extends junit.framework=\r\n.TestCase&gt;) in junit.framework.TestSuite cannot be applied to (java.lang.Cl=\r\nass&lt;capture#337 of ?&gt;)\n&gt; &gt;&gt; &gt; =A0 =A0[javac] =A0 =A0 =A0 =A0 =A0 =A0 =A0 =\r\n=A0 =A0 =A0 =A0 =A0 suite.addTestSuite(Class.forName(className));\n&gt; &gt;&gt; &gt;\n&gt; =\r\n&gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt; ------------------------------------\n&gt; &gt;&gt; =\r\n&gt;\n&gt; &gt;&gt; &gt; Yahoo! Groups Links\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt; &gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;=\r\n &gt;\n&gt; &gt; ------------------------------------\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;=\r\n\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n", 
    "profile": "yme0987654321", 
    "topicId": 21994, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "prevInTime": 22023, 
    "contentTrasformed": false, 
    "postDate": "1256671655", 
    "canDelete": false, 
    "nextInTopic": 22035, 
    "prevInTopic": 22020, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDkxMDI2MTEzMnI0N2MyNDYxOGoxM2RiMDI4NzI1YjI4OTMzQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGhjN2hqNyt0ZXRxQGVHcm91cHMuY29tPg=="
    }
}