{
    "numMessagesInTopic": 26, 
    "nextInTime": 22520, 
    "senderId": "raG5h9RGkzFUCvyZyQgUjSldEliyLdPUDoTIYTRNCO7QNzoE3qehucxsSUIHdIie8BThK0r0oJqy1Z3qxtx5l9YIphKyVg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass", 
    "from": "Kent Beck &lt;kentb@...&gt;", 
    "authorName": "Kent Beck", 
    "msgSnippet": "This is an interesting design tradeoff. I don t like implicit magic but I also don t like creating new elements (like the beforeClass = true ) if I can reuse", 
    "msgId": 22519, 
    "rawEmail": "Return-Path: &lt;kentb@...&gt;\r\nX-Sender: kentb@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 61136 invoked from network); 10 Mar 2010 01:09:12 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m13.grp.re1.yahoo.com with QMQP; 10 Mar 2010 01:09:12 -0000\r\nX-Received: from unknown (HELO elasmtp-curtail.atl.sa.earthlink.net) (209.86.89.64)\n  by mta1.grp.sp2.yahoo.com with SMTP; 10 Mar 2010 01:09:12 -0000\r\nX-Received: from [75.170.13.202] (helo=[192.168.0.79])\n\tby elasmtp-curtail.atl.sa.earthlink.net with esmtpa (Exim 4.67)\n\t(envelope-from &lt;kentb@...&gt;)\n\tid 1NpAQB-0002li-5H\n\tfor junit@yahoogroups.com; Tue, 09 Mar 2010 20:09:11 -0500\r\nMime-Version: 1.0 (Apple Message framework v1077)\r\nDate: Tue, 9 Mar 2010 17:08:40 -0800\r\nIn-Reply-To: &lt;hn6k2g+f5c5@...&gt;\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;hn6k2g+f5c5@...&gt;\r\nMessage-Id: &lt;EFD8674C-E855-43A1-9D39-B24B770439C6@...&gt;\r\nX-Mailer: Apple Mail (2.1077)\r\nX-ELNK-Trace: 6d780abf06d998e474bf435c0eb9d478a4e91b2e28ef1e73c75372c9d87eea44a7f72893c95c453e350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Kent Beck &lt;kentb@...&gt;\r\nSubject: Re: [junit] Re: Using @Rule TemporaryFolder in @BeforeClass\r\nX-Yahoo-Group-Post: member; u=173198504; y=rGZUEjcghZOdx2YkclHSEjFXiCfnVmqL29ykKI64qjCNLilC\r\nX-Yahoo-Profile: kentlbeck\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nThis is an interesting design tradeoff. I don&#39;t like implicit magic but I a=\r\nlso don&#39;t like creating new elements (like the &quot;beforeClass =3D true&quot;) if I=\r\n can reuse existing elements. When I saw the &quot;@Rule static...&quot; I immediatel=\r\ny knew what was wrong, so I find it understandable that static variables co=\r\nntaining rules are only executed once. (By symmetry, I suppose &quot;@Before sta=\r\ntic void...&quot; should be a synonym for @BeforeClass.) In the end, though, my =\r\nopinion of what is obvious is less important than y&#39;all&#39;s. Chime in if you =\r\nwant to be heard.\n\nKent\n\nOn Mar 9, 2010, at 3:02 PM, yme0987654321 wrote:\n\n=\r\n&gt; I&#39;m all for a Rule before the class is run, but I think it is way to gimm=\r\nicky and obscure to hang that on if the variable is declared static.\n&gt; \n&gt; I=\r\n would instead think that the @Rule should have a method which indicates if=\r\n it is before the class or before the test, and then have it validated if t=\r\nhe @Rule is on a static or instance variable, as appropriate.\n&gt; \n&gt; Somethin=\r\ng like:\n&gt; \n&gt; @Rule(beforeClass =3D true)\n&gt; public static TemporaryFolder te=\r\nstFolder =3D new TemporaryFolder();\n&gt; \n&gt; --- In junit@yahoogroups.com, Kent=\r\n Beck &lt;kentb@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hmmm... I don&#39;t think we ever tried @Rule =\r\non a static variable before. I&#39;m not even sure what they mean. Rules are in=\r\nserted before an individual test is run. Should static rules be inserted be=\r\nfore the class is run or before each individual test? Before the class is r=\r\nun, I&#39;m thinking. Opinions?\n&gt; &gt; \n&gt; &gt; Kent\n&gt; &gt; \n&gt; &gt; On Mar 9, 2010, at 9:43 =\r\nAM, gary_d_gregory wrote:\n&gt; &gt; \n&gt; &gt; &gt; @Rule objects are not initialized befo=\r\nre @BeforeClass methods are called. Is this by design or a bug? \n&gt; &gt; &gt; \n&gt; &gt;=\r\n &gt; For example:\n&gt; &gt; &gt; \n&gt; &gt; &gt; package test;\n&gt; &gt; &gt; \n&gt; &gt; &gt; import java.io.File=\r\n;\n&gt; &gt; &gt; import java.io.IOException;\n&gt; &gt; &gt; \n&gt; &gt; &gt; import junit.framework.Ass=\r\nert;\n&gt; &gt; &gt; \n&gt; &gt; &gt; import org.junit.BeforeClass;\n&gt; &gt; &gt; import org.junit.Rule=\r\n;\n&gt; &gt; &gt; import org.junit.Test;\n&gt; &gt; &gt; import org.junit.rules.TemporaryFolder=\r\n;\n&gt; &gt; &gt; \n&gt; &gt; &gt; public class TemporaryFolderRuleBeforeClass {\n&gt; &gt; &gt; @Rule\n&gt; =\r\n&gt; &gt; public static TemporaryFolder testFolder =3D new TemporaryFolder();\n&gt; &gt;=\r\n &gt; \n&gt; &gt; &gt; @BeforeClass\n&gt; &gt; &gt; public static void testInTempFolder() throws I=\r\nOException {\n&gt; &gt; &gt; File tempFile =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt; &gt; &gt; =\r\nFile tempFolder =3D testFolder.newFolder(&quot;folder&quot;);\n&gt; &gt; &gt; System.out.printl=\r\nn(&quot;Test folder: &quot; + testFolder.getRoot());\n&gt; &gt; &gt; // test\n&gt; &gt; &gt; Assert.asser=\r\ntNotNull(testFolder.getRoot());\n&gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; @Test\n&gt; &gt; &gt; public voi=\r\nd test() {\n&gt; &gt; &gt; // noop\n&gt; &gt; &gt; }\n&gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; Having the TemporaryF=\r\nolder Rule declared as static is OK as this example test shows:\n&gt; &gt; &gt; \n&gt; &gt; =\r\n&gt; public class TestTemporaryFolderRuleStatic {\n&gt; &gt; &gt; @Rule\n&gt; &gt; &gt; public sta=\r\ntic TemporaryFolder testFolder =3D new TemporaryFolder();\n&gt; &gt; &gt; \n&gt; &gt; &gt; @Tes=\r\nt\n&gt; &gt; &gt; public void testInTempFolder() throws IOException {\n&gt; &gt; &gt; File temp=\r\nFile =3D testFolder.newFile(&quot;file.txt&quot;);\n&gt; &gt; &gt; File tempFolder =3D testFold=\r\ner.newFolder(&quot;folder&quot;);\n&gt; &gt; &gt; System.out.println(&quot;Test folder: &quot; + testFold=\r\ner.getRoot());\n&gt; &gt; &gt; // test\n&gt; &gt; &gt; Assert.assertNotNull(testFolder.getRoot(=\r\n));\n&gt; &gt; &gt; }\n&gt; &gt; &gt; }\n&gt; &gt; &gt; \n&gt; &gt; &gt; How can @Rules be used from @BeforeClass? =\r\n\n&gt; &gt; &gt; \n&gt; &gt; &gt; Calling TemporaryFolder.create() would work only for Temporar=\r\nyFolder and not Rules in general but would be against the advice of create =\r\nmethod Javadoc.\n&gt; &gt; &gt; \n&gt; &gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; \n&gt; &gt; [Non-text portions of this=\r\n message have been removed]\n&gt; &gt;\n&gt; \n&gt; \n\n\n\n[Non-text portions of this message=\r\n have been removed]\n\n\n", 
    "profile": "kentlbeck", 
    "topicId": 22516, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "prevInTime": 22518, 
    "contentTrasformed": false, 
    "postDate": "1268183320", 
    "canDelete": false, 
    "nextInTopic": 22520, 
    "prevInTopic": 22518, 
    "headers": {
        "inReplyToHeader": "PGhuNmsyZytmNWM1QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEVGRDg2NzRDLUU4NTUtNDNBMS05RDM5LUIyNEI3NzA0MzlDNkBlYXJ0aGxpbmsubmV0Pg==", 
        "referencesHeader": "PGhuNmsyZytmNWM1QGVHcm91cHMuY29tPg=="
    }
}