{
    "numMessagesInTopic": 4, 
    "nextInTime": 5584, 
    "senderId": "R_Dejgsk5LT0--D21Ua2eqa6MC1jAb93a0SNKM0A4sRH0QO5vGT5kzUnngOqh8-mgpHZDD7nSMs2UrSWBHusi8EEwkn_264EteY", 
    "systemMessage": false, 
    "subject": "RE: [junit] EJB Testing Strategies", 
    "from": "&quot;Vincent Massol&quot; &lt;vmassol@...&gt;", 
    "authorName": "Vincent Massol", 
    "msgSnippet": "Hi Steven, ... Cactus will offer a direct EJB redirector in the near future that will make it even easier to use for EJB unit testing. ... You actually don t", 
    "msgId": 5583, 
    "profile": "vmassol", 
    "topicId": 5578, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 26731113, 
    "messageBody": "<div id=\"ygrps-yiv-1006826916\">Hi Steven,<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; -----Original Message-----<br/>\n&gt; From: Steven Webster [mailto:steven.webster@...]<br/>\n&gt; Sent: 13 August 2002 00:23<br/>\n&gt; To: junit@yahoogroups.com<br/>\n&gt; Subject: [junit] EJB Testing Strategies<br/>\n&gt; <br/>\n&gt; I wonder if list members might wish to share current strategies for<br/>\n&gt; unit testing of EJB, particularly CMP Entity Beans.<br/>\n&gt; <br/>\n&gt; I&#39;m aware of Cactus, and have tested EJB in the past (Session Beans)<br/>\n&gt; using Cactus.  Also, I&#39;m aware of junitejb, which again seems geared<br/>\n&gt; towards testing through a session bean interface.<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>Cactus will offer a direct EJB redirector in the near future that will<br/>\nmake it even easier to use for EJB unit testing.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; In many ways, I think the issues i&#39;m facing are those discussed often<br/>\n&gt; on this list regarding testing of database code.<br/>\n&gt; <br/>\n&gt; I have a set of entity beans (CMP2.0) with a Stateless Session Bean<br/>\n&gt; facade, and a business delegate (plain old java object) fronting the<br/>\n&gt; stateless session bean.  I&#39;d like to call all my tests through my<br/>\n&gt; business delegate, as the Entity Bean is largely code-generated by<br/>\n&gt; the container anyway, and the functionality I&#39;m really interested<br/>\n&gt; in testing is my invoking of the methods with value objects.<br/>\n&gt; <br/>\n&gt; However, since i have no guarantee of the order my tests are run in,<br/>\n&gt; I need to cleardown the persisted entities between each test; <br/>\n<br/>\n </span></blockquote>You actually don&#39;t need to clear any data. You only need to set up the<br/>\nneeded data in the setUp() method, i.e. *before* the test. <br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I&#39;ve<br/>\n&gt; written a DBTestCase in the past that performs a cleardown of tables<br/>\n&gt; in the setUp() method, and allows each test to insert rows, modify<br/>\n&gt; rows, delete rows, etc, and assert on entries existing in the<br/>\n&gt; database.<br/>\n&gt; <br/>\n<br/>\n </span></blockquote>yes. You can also use dbunit (http://dbunit.sf.net).<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; What strategies have people successfully employed for testing<br/>\n&gt; business/workflow methods of a stateless session bean that has<br/>\n&gt; CMP entity beans at the back-end ?<br/>\n<br/>\n </span></blockquote>I have 2 strategies :<br/>\n<br/>\n1/ Do not unit test EJB as they are data holder that are not very<br/>\ninteresting to unit test. However, they need to be tested through<br/>\nfunctional testing or integration testing. To do that simply use a Mock<br/>\nObjects approach and provide mock EJB to your SLSB. See<br/>\nhttp://mockobjects.sf.net. Actually you would test your SLSFB as pure<br/>\njava objects by doing a new XXX() on them.<br/>\n<br/>\n2/ Test the whole way from your SLSB to the database. In that case, the<br/>\nsetup is more complex as you need a DB and to put the correct data in<br/>\nit. Your tests will also take longer to execute. It will not be a<br/>\nproblem at first but will become one when your test suite reaches<br/>\n400-500 tests that exercise the database (it will then take up to 15-20<br/>\nminutes to run). The advantage is that you&#39;re testing the whole path and<br/>\nthus you have better confidence that your code is working.<br/>\n<br/>\nFor 1/, you would have 2 types of tests that you run at different times<br/>\nin the development lifecycle. Unit tests that are run as frequently as<br/>\npossible, from your IDE of choice, whenever you make a change. And<br/>\nfunctional/integration tests that are at least once per day and that<br/>\nwill take longer to run. They are much more coarse-grained.<br/>\n<br/>\nWhat we do is that we have a continuous integration machine that runs<br/>\nour builds continuously (every 40 minutes - the time it takes to build<br/>\nour whole system) and that runs both the unit tests and the integration<br/>\nand functional ones. When one fails we get an email.<br/>\n<br/>\nThat way, you benefit from the best of both worlds ! <br/>\n<br/>\nHope it helps,<br/>\n-Vincent<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; Thanks,<br/>\n&gt; <br/>\n&gt; Steven<br/>\n&gt; <br/>\n&gt; ------------------------ Yahoo! Groups Sponsor<br/>\n&gt; <br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; junit-unsubscribe@yahoogroups.com<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Your use of Yahoo! Groups is subject to<br/>\n </span></blockquote>http://docs.yahoo.com/info/terms/<br/>\n<blockquote><span title=\"qreply\"> &gt; </span></blockquote></div>", 
    "prevInTime": 5582, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1029223556", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 5582, 
    "headers": {
        "inReplyToHeader": "PDIwMDIwODEzMDAyMjQxLjQ5MjE2YzRjLnN0ZXZlbi53ZWJzdGVyQGFvLWRlbmtvdS1rYWkub3JnPg==", 
        "messageIdInHeader": "PDAwOGUwMWMyNDI5YSRhYjQyOTcyMCRhY2M4YzhjOEBvY3Rvdm1hPg=="
    }
}