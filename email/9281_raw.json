{
    "topicId": 9274, 
    "postDate": "1062774237", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Paul Christmann &lt;java-junit@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "K4b7i0tw5NmruE8kWzdLZppZ1b0POsxbFj_nZVcKqmcpq1jHEhjuXFacKIuBo5GcykVbKEDc3N2knzJlMoXDlziken86KyoXMCBeuPYrqw", 
    "nextInTime": 9282, 
    "userId": 106325759, 
    "prevInTime": 9280, 
    "prevInTopic": 9280, 
    "headers": {
        "inReplyToHeader": "PGJqODAzZSRuMTkkMUBzZWEuZ21hbmUub3JnPg==", 
        "messageIdInHeader": "PGJqYThqOCRlbzQkMUBzZWEuZ21hbmUub3JnPg==", 
        "referencesHeader": "PGJqODAzZSRuMTkkMUBzZWEuZ21hbmUub3JnPg=="
    }, 
    "authorName": "Paul Christmann", 
    "numMessagesInTopic": 11, 
    "msgSnippet": "... As has already been answered elsewhere, but I ll echo because I ve used it in my projects: Can the setup data.  I ve done it in either of two ways", 
    "contentTrasformed": false, 
    "msgId": 9281, 
    "nextInTopic": 9285, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;java-junit@...&gt;\r\nX-Sender: java-junit@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 84108 invoked from network); 5 Sep 2003 15:03:53 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m17.grp.scd.yahoo.com with QMQP; 5 Sep 2003 15:03:53 -0000\r\nReceived: from unknown (HELO main.gmane.org) (80.91.224.249)\n  by mta5.grp.scd.yahoo.com with SMTP; 5 Sep 2003 15:03:53 -0000\r\nReceived: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))\n\tid 19vI7a-0002Q7-00\n\tfor &lt;junit@yahoogroups.com&gt;; Fri, 05 Sep 2003 17:03:34 +0200\r\nX-Injected-Via-Gmane: http://gmane.org/\r\nTo: junit@yahoogroups.com\r\nReceived: from sea.gmane.org ([80.91.224.252])\n\tby main.gmane.org with esmtp (Exim 3.35 #1 (Debian))\n\tid 19vI7Z-0002Pz-00\n\tfor &lt;gmane-comp-java-junit-user@...&gt;; Fri, 05 Sep 2003 17:03:33 +0200\r\nReceived: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))\n\tid 19vI76-0003vj-00\n\tfor &lt;gmane-comp-java-junit-user@...&gt;; Fri, 05 Sep 2003 17:03:04 +0200\r\nSubject: Re: Domain specific question\r\nDate: Fri, 05 Sep 2003 10:03:57 -0500\r\nLines: 77\r\nMessage-ID: &lt;bja8j8$eo4$1@...&gt;\r\nReferences: &lt;bj803e$n19$1@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Complaints-To: usenet@...\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3.1) Gecko/20030425\r\nX-Accept-Language: en-us, en\r\nIn-Reply-To: &lt;bj803e$n19$1@...&gt;\r\nSender: news &lt;news@...&gt;\r\nX-eGroups-From: Paul Christmann &lt;paul@...&gt;\r\nFrom: Paul Christmann &lt;java-junit@...&gt;\r\nX-Yahoo-Group-Post: member; u=106325759\r\n\r\nVenkatesh Prasad Ranganath wrote:\n&gt; In simple words, if a chunk of logic embedded in a class requires large pieces of information to be setup, then how would one \n&gt; use JUnit or any unit testing framework in such cases?  \n\nAs has already been answered elsewhere, but I&#39;ll echo because I&#39;ve used \nit in my projects: &quot;Can&quot; the setup data.  I&#39;ve done it in either of two \nways (Assume that Class B depends on the output of Class A):\na) Use a Mock object for class A that will respond to method invokations \nin ways that my test code will script - programmatically tell an \ninstance of A what it already did, rather than asking it to do something.\nb) Use an external representation (i.e., a File) that contains some real \noutput generated from an earlier step (of course, this doesn&#39;t make \nsense in all scenarios).  After you&#39;ve tested and verified A, serialize \nits results.  Keep those results along with your test code.  For Testing \nB, deserialize those results.\n\nEither way, you can test B using expected A output, not actual A output. \n  You don&#39;t need to run A to test B.\n\n&gt; Even more, when instances of such classes go through state changes \n&gt; depending on interaction with other objects how do you instrument the test and run the test?\n\nThis is the question that prompted me to reply.  I&#39;m currently fighting \na similar scenario that I am finding hard to test with JUnit.  I do not, \nthough, think that is a fault with JUnit (or TDD, though I&#39;m not sure \nthats relevant).  If there is a fault, I think its in my system design. \n  (Not sure yet, though).  It might just be that some things are harder \nto test than others.  And while I agree with Joe&#39;s premise about testing \nnot being &quot;hard&quot;, instead its just &quot;long&quot;, I do think some things are \nharder than others.\n\nHere&#39;s a rough sketch of what I&#39;m trying to build: a class that goes \nthrough state changes depending on interactions with other objects (and \nJB, I&#39;m still parsing your note on that topic from the tdd list).\n\nClass Under Test: ConnectionManager.  It sends bytes to a server (via \nHTTP).  If the server is unavailable, it stores the bytes for later \nsubmission and tells listeners about the unavailability.\n\nMy class has a method, getResponse(byte[]) which I&#39;m interested in \ntesting.  In particular, I want to make sure that the right things \nhappen when the HTTP server is unavailable.  So I&#39;ve ended up with \nextensive use of Mocks in my test case code:\na) A mock HTTP server that I configure to return a 404 error.\nb) A mock disk storage class that I configure to expect some bytes.\nc) A mock listener that I configure to expect a notification callback.\n\nI configure my ConnectionManager to use these mocks, then I issue my \ngetResponse call in the test code.  Then I verify that all of the mocks \nwere called as expected.  In the end, there is actually nothing to test \nwith the ConnectionManager itself.  The *only* thing I&#39;m testing is its \ninteraction with the other objects that I provided.\n\nIts a strategy that allows me to test one single object that relies on \nothers to do its work.  Its hard testing, and its some of the wort test \ncases that I have in my suite -- they are starting to look just like \nscripting language code (mock.doThis, mock.doThat, ...).  But:\na) The fact that its hard is not JUnits fault.  Its because I have a \nclass that is doing hard things.  So either I need to find ways to \nfurther refactor this class, or live with the fact that its hard.\nb) JUnit (and other tools) actually *enable* me to test this class in \nisolation.\n\nSo, I&#39;ll readily acknowledge that (from my experience) what you are \nasking about can be hard to do.  But its certainly possible.  And also \nin my experience, when testing something is hard, it often (but not \nalways) indicates that the class under test might need to be refactored \ninto something simpler.\n\n-- \nPC\n\nPaul Christmann\nPrior Artisans, LLC\nmailto:paul@...\n504-587-9072\n\n\n\n", 
    "subject": "Re: Domain specific question"
}