{
    "numMessagesInTopic": 38, 
    "nextInTime": 22264, 
    "senderId": "rXWmdrD-B1u20Pi9Gfid17DsjOpV6UDFvBxA_oDktF4LmM3izrKY1MRKzuxADEqNhPb2IQi5KMY0M8Uuhvbx1GkS", 
    "systemMessage": false, 
    "subject": "Re: [junit] Order of execution for tests", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Rocco, Note that these kinds of dependencies could be dynamically inferred over time.  With a complete history of pass/fail patterns, a core runner could", 
    "msgId": 22263, 
    "rawEmail": "Return-Path: &lt;david.saff@...&gt;\r\nX-Sender: david.saff@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 40052 invoked from network); 6 Jan 2010 18:09:23 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 6 Jan 2010 18:09:23 -0000\r\nX-Received: from unknown (HELO mail-pw0-f54.google.com) (209.85.160.54)\n  by mta1.grp.sp2.yahoo.com with SMTP; 6 Jan 2010 18:09:23 -0000\r\nX-Received: by pwi14 with SMTP id 14so12909427pwi.33\n        for &lt;junit@yahoogroups.com&gt;; Wed, 06 Jan 2010 10:08:23 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.141.105.4 with SMTP id h4mr17561298rvm.108.1262801303107; Wed, \n\t06 Jan 2010 10:08:23 -0800 (PST)\r\nIn-Reply-To: &lt;81FB491EEF5EA34F97FF706AC1AB356314E6E32456@...&gt;\r\nReferences: &lt;C0A8D10D-2CB9-40A4-ACC6-427DB6A5D660@...&gt;\n\t &lt;003301ca8d73$bd242ae0$6401a8c0@ferrari&gt;\n\t &lt;b86b6a9c1001041128p3558fe37ycb7f4febc9b509a0@...&gt;\n\t &lt;4dd5a46c1001041242t4830fc4fi4d97d871e65cb9a6@...&gt;\n\t &lt;81FB491EEF5EA34F97FF706AC1AB356314E6D1304E@...&gt;\n\t &lt;103C1C5E-79B6-4B4F-90E7-7218C9600691@...&gt;\n\t &lt;81FB491EEF5EA34F97FF706AC1AB356314E6E32456@...&gt;\r\nDate: Wed, 6 Jan 2010 13:08:23 -0500\r\nX-Google-Sender-Auth: b2f059459eb4a81d\r\nMessage-ID: &lt;4f7da6b91001061008q10ece87fi1a9764be6b9ce981@...&gt;\r\nTo: junit@yahoogroups.com\r\nContent-Type: text/plain; charset=UTF-8\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: David Saff &lt;david@...&gt;\r\nSubject: Re: [junit] Order of execution for tests\r\nX-Yahoo-Group-Post: member; u=341876227; y=PWQfwdCQkrGAFITHhgWrybQVMzDu5vwQVrSKXF3cYSM\r\nX-Yahoo-Profile: dsaff\r\n\r\nRocco,\n\nNote that these kinds of dependencies could be dynamically inferred=\r\n\nover time.  With a complete history of pass/fail patterns, a core\nrunner c=\r\nould notice that test B never passes when test A fails, and\nthat test A is =\r\nfailing today, and thus, mark B as &quot;Skipped (98%\nconfidence of no new infor=\r\nmation after testA failed)&quot;\n\nThis seems like a real win over manual depende=\r\nncy annotation, and I&#39;d\nbe delighted to take a look at it if there were eno=\r\nugh users (usual\nrules--create a github issue, and vote, vote, vote)\n\n   Da=\r\nvid Saff\n\nOn Wed, Jan 6, 2010 at 12:47 PM, Pigneri, Rocco &lt;rpigneri@mda-dat=\r\na.com&gt; wrote:\n&gt; Dear Kent,\n&gt;\n&gt; Let=E2=80=99s say that you are building a re=\r\nporting tool for a financial firm and that you have three major indices to =\r\nmanage: consumer spending, average national income, and average consumer de=\r\nbt load. =C2=A0The calculation and presentation of each of these indices is=\r\n rather involved, especially given the amount of background material requir=\r\ned for regulatory compliance, so you have a separate three-tier class struc=\r\nture for each index. =C2=A0Each index has a few =E2=80=9Chelper classes=E2=\r\n=80=9D that are shared among the three indices and also between the logic a=\r\nnd data layers: consumer, consumer region (a group of consumers within a pa=\r\nrticular region), and some analysis classes. =C2=A0On top of the presentati=\r\non layer for each tier, there is a single =E2=80=9Creporter=E2=80=9D class =\r\nthat collates the three index reports, provides some summary data, and pers=\r\nonalizes the package for the individual recipients.\n&gt;\n&gt; So, if you imagine =\r\nthat each of these parts is implemented in a single class=E2=80=94I=E2=80=\r\n=99ve found this organization to be pretty reasonable in the past=E2=80=94y=\r\nou would have a few classes: Consumer, ConsumerRegion, ConsumerAnalysis at =\r\nthe bottom, then a single class for each tier of each index (SpendingDataLa=\r\nyer, SpendingLogicLayer, SpendingPresentationLayer, IncomeDataLayer, etc.),=\r\n and then a final Reporter class at the top. =C2=A0The logic layers may als=\r\no call upon the analysis classes for certain common statistical functions. =\r\n=C2=A0The data layers would, in addition to poking directly into the databa=\r\nse, utilize the =E2=80=9Chelper classes=E2=80=9D for some basic DB access. =\r\n=C2=A0You could also imagine having a single test class for each of the abo=\r\nve classes (also reasonable in my experience).\n&gt;\n&gt; In JUnit, then, you woul=\r\nd say that the ReporterTestFixture depends upon the SpendingPresentationLay=\r\nerTestFixture, the IncomePresentationLayerTestFixture, and the DebtLoadPres=\r\nentationLayerTestFixture, let=E2=80=99s say via an Annotation on ReporterTe=\r\nstFixture. =C2=A0Each presentation layer would be marked to depend upon its=\r\n logic layer. =C2=A0The logics would depend upon the datas, any additional =\r\nhelper classes, and finally the Analysis class. =C2=A0Finally, the data lay=\r\ners would be marked to depend upon any =E2=80=9Chelper classes=E2=80=9D tha=\r\nt they use.\n&gt;\n&gt; Under this schema, if any of the DebtLoadLogicLayer=E2=80=\r\n=99s tests were to fail, the DebtLoadPresentationLayerTestFixture and the R=\r\neporterTestFixture would be skipped, and the DebtLoadLogicLayerTestFixture=\r\n=E2=80=99s tests would be highlighted as since they failed. =C2=A0The Consu=\r\nmerSpendingLogic and PresentaionLayerTestFixtures would be run along with t=\r\nheir analogues in Income as they do not depend upon the DebtLoadLogicLayer =\r\nand report any errors found as described above. =C2=A0As another example, i=\r\nf any of Consumer=E2=80=99s tests fail, then nearly the entire tree would b=\r\ne skipped (all of the n-tier code plus the Reporter), thus showing only a f=\r\nailure in Consumer and maybe a failure in some other helper classes. =C2=A0=\r\nIn other words, you very quickly find the lowest level class where a failur=\r\ne occurred before it can percolate up through your test suite. =C2=A0This w=\r\nould greatly simplify life when running regression suites as the class that=\r\n caused the error (along with its developer, hopefully) is easy identifiabl=\r\ne.\n&gt;\n&gt; The major value-add of this approach is that you get most of the ben=\r\nefits of dependency trees without the hassle of maintaining thousands of de=\r\npendency links. =C2=A0The class relationships above are rarely going to cha=\r\nnge=E2=80=94in other words, if the logic layer stops depending upon the dat=\r\na layer, you=E2=80=99ve probably rearchitected the system and are already b=\r\neing careful about what you are doing=E2=80=94and the annotations are very =\r\neasy to write. =C2=A0Also, due to the hierarchical nature of the dependenci=\r\nes, you do have a bit of a safety net: if a Logic Layer forgets to claim a =\r\nhelper class dependency, but that Logic Layer=E2=80=99s Data Layer does cla=\r\nim that dependency, then the Logic Layer=E2=80=99s tests are still skipped =\r\nwhen the helper class fails.\n&gt;\n&gt; The biggest shortcoming of this approach i=\r\nnvolves situations where you have lots of classes that all depend upon one =\r\nhelper class: for example, if we had thirty indices, we would have to maint=\r\nain thirty annotations for each helper class on each data layer, thus requi=\r\nring more maintenance to track the dependency. =C2=A0Another negative is th=\r\nat a single failing test in your test fixture could skip over 95% of your t=\r\nests since this information is stored on a class rather than method level. =\r\n=C2=A0 However, the maintenance costs are much lower, and the method depend=\r\nencies could be added later if we are smart about our framework.\n&gt;\n&gt; How do=\r\nes that sound?\n&gt;\n&gt; Thank you,\n&gt;\n&gt; Rocco\n&gt;\n&gt; From: junit@yahoogroups.com [ma=\r\nilto:junit@yahoogroups.com] On Behalf Of Kent Beck\n&gt; Sent: Tuesday, January=\r\n 05, 2010 1:07 PM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Order =\r\nof execution for tests\n&gt;\n&gt;\n&gt;\n&gt; Could you provide a concrete example so I&#39;m =\r\nsure I understand what you&#39;re saying?\n&gt;\n&gt; Thanks,\n&gt;\n&gt; Kent\n&gt;\n&gt; On Jan 5, 20=\r\n10, at 8:21 AM, Pigneri, Rocco wrote:\n&gt;\n&gt;&gt; Dear all,\n&gt;&gt;\n&gt;&gt; An interesting 8=\r\n0-20 solution for this scenario could be something as simple as an attribut=\r\ne indicating that a test fixture depends upon the passing of all tests in a=\r\nnother fixture. This would allow for failure scenarios to be on the scale o=\r\nf C=C3=A9dric=E2=80=99s =E2=80=9C10 tests failed=E2=80=9D for James=E2=80=\r\n=99s large regression suite without requiring a lot of effort from the user=\r\n-developers. What makes this particularly nice in my mind is that you only =\r\nhave to change these dependencies when you rearchitect the system, thus mak=\r\ning them rather light on the maintenance side.\n&gt;&gt;\n&gt;&gt; What do you all think?=\r\n\n&gt;&gt;\n&gt;&gt; Rocco\n&gt;&gt;\n&gt;&gt; From: junit@yahoogroups.com&lt;mailto:junit%40yahoogroups.c=\r\nom&gt; [mailto:junit@yahoogroups.com&lt;mailto:junit%40yahoogroups.com&gt;] On Behal=\r\nf Of James Lee\n&gt;&gt; Sent: Monday, January 04, 2010 3:43 PM\n&gt;&gt; To: junit@yahoo=\r\ngroups.com&lt;mailto:junit%40yahoogroups.com&gt;\n&gt;&gt; Subject: Re: [junit] Order of=\r\n execution for tests\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; Or in my case, something like this:\n&gt;&gt;\n&gt;&gt; =\r\n1 test failed, 585 tests skipped (how it would have looked in a recent test=\r\n\n&gt;&gt; run).\n&gt;&gt;\n&gt;&gt; Our suite has well over 5000 tests and couple dozen develop=\r\ners all\n&gt;&gt; adding/changing in parallel.\n&gt;&gt;\n&gt;&gt; Luckily we use a continuous i=\r\nntegration environment, so get a small set of\n&gt;&gt; changes for every run (run=\r\n the tests every 2hrs). So it can usually be\n&gt;&gt; tracked down in 20-30m of w=\r\nork. But it would be almost instant if there was\n&gt;&gt; a &quot;core&quot; test that fail=\r\ned first. Or even if it wasn&#39;t perfect, like: 25\n&gt;&gt; tests failed, 585 tests=\r\n skipped.\n&gt;&gt;\n&gt;&gt; Gets much worse when the folks watching the builds are busy=\r\n, as it can fail\n&gt;&gt; for long enough to cloud the build history, as failure =\r\nstates start to\n&gt;&gt; overlap.\n&gt;&gt;\n&gt;&gt; Just throwing in the, &quot;Crazy large test s=\r\nuite&quot; perspective.\n&gt;&gt;\n&gt;&gt; Regards,\n&gt;&gt; James Lee\n&gt;&gt;\n&gt;&gt; 2010/1/4 C=C3=A9dric B=\r\neust =E2=99=94 &lt;cbeust@...&lt;mailto:cbeust%40google.com&gt;&lt;mailto:cbeust=\r\n%40google.com&gt;&gt;\n&gt;&gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; On Mon, Jan 4, 2010 at 11:25 AM, Charlie =\r\nPoole\n&gt;&gt; &gt; &lt;charlie@...&lt;mailto:charlie%40pooleconsulting.co=\r\nm&gt;&lt;mailto:charlie%40pooleconsulting.com&gt; &lt;charlie%40pooleconsulting.com&gt;&gt;wr=\r\note:\n&gt;&gt; &gt;\n&gt;&gt; &gt; &gt; And yet, I get reports of other folks having this interpre=\r\ntation\n&gt;&gt; &gt; &gt; problem all the time. It may be that the problem lies in how =\r\nthey\n&gt;&gt; &gt; &gt; are doing their development.\n&gt;&gt; &gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt; I don&#39;t think so,=\r\n it&#39;s just that\n&gt;&gt; &gt;\n&gt;&gt; &gt; &quot;1 test failed, 9 tests skipped&quot;\n&gt;&gt; &gt;\n&gt;&gt; &gt; is muc=\r\nh easier to read and diagnose than\n&gt;&gt; &gt;\n&gt;&gt; &gt; &quot;10 tests failed&quot;.\n&gt;&gt; &gt;\n&gt;&gt; &gt; -=\r\n-\n&gt;&gt; &gt; ***C=C3=A9dric\n&gt;&gt; &gt; *\n&gt;&gt; &gt;\n&gt;&gt; &gt; [Non-text portions of this message h=\r\nave been removed]\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt; &gt;\n&gt;&gt;\n&gt;&gt; [Non-text portions of this message h=\r\nave been removed]\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; [Non-text portions of this message have been rem=\r\noved]\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;=\r\n\n&gt; [Non-text portions of this message have been removed]\n&gt;\n&gt;\n&gt;\n&gt; ----------=\r\n--------------------------\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n\n", 
    "profile": "dsaff", 
    "topicId": 22219, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "prevInTime": 22262, 
    "contentTrasformed": false, 
    "postDate": "1262801303", 
    "canDelete": false, 
    "nextInTopic": 22264, 
    "prevInTopic": 22262, 
    "headers": {
        "inReplyToHeader": "PDgxRkI0OTFFRUY1RUEzNEY5N0ZGNzA2QUMxQUIzNTYzMTRFNkUzMjQ1NkBib3N0b24tbWFpbC5sYXZhc3Rvcm0ubG9jYWwuY29tPg==", 
        "messageIdInHeader": "PDRmN2RhNmI5MTAwMTA2MTAwOHExMGVjZTg3ZmkxYTk3NjRiZTZiOWNlOTgxQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PEMwQThEMTBELTJDQjktNDBBNC1BQ0M2LTQyN0RCNkE1RDY2MEBlYXJ0aGxpbmsubmV0PgkgPDAwMzMwMWNhOGQ3MyRiZDI0MmFlMCQ2NDAxYThjMEBmZXJyYXJpPgkgPGI4NmI2YTljMTAwMTA0MTEyOHAzNTU4ZmUzN3ljYjdmNGZlYmM5YjUwOWEwQG1haWwuZ21haWwuY29tPgkgPDRkZDVhNDZjMTAwMTA0MTI0MnQ0ODMwZmM0Zmk0ZDk3ZDg3MWU2NWNiOWE2QG1haWwuZ21haWwuY29tPgkgPDgxRkI0OTFFRUY1RUEzNEY5N0ZGNzA2QUMxQUIzNTYzMTRFNkQxMzA0RUBib3N0b24tbWFpbC5sYXZhc3Rvcm0ubG9jYWwuY29tPgkgPDEwM0MxQzVFLTc5QjYtNEI0Ri05MEU3LTcyMThDOTYwMDY5MUBlYXJ0aGxpbmsubmV0PgkgPDgxRkI0OTFFRUY1RUEzNEY5N0ZGNzA2QUMxQUIzNTYzMTRFNkUzMjQ1NkBib3N0b24tbWFpbC5sYXZhc3Rvcm0ubG9jYWwuY29tPg=="
    }
}