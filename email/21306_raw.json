{
    "numMessagesInTopic": 12, 
    "nextInTime": 21307, 
    "senderId": "WHaI8vAWZ7s4wGXdf4GRRuOPC2abrWZXxAha-0rYXoTs9peaAb5BSw6tuQqapuqvnngKaNuibmqggHD12RuW0SY82Pbnsu7PrBI9sw", 
    "systemMessage": true, 
    "subject": "Re: JUnit-JPA (Hibernate) - Spring - Struts2 testing howto", 
    "from": "&quot;majkic@...&quot; &lt;majkic@...&gt;", 
    "authorName": "majkic@ymail.com", 
    "msgSnippet": "Hello, thanks a lot, Joakim. I found a solution for this, but your post helped me a lot to understand better how it works. Unfortenately, now I cannot find any", 
    "msgId": 21306, 
    "rawEmail": "Return-Path: &lt;majkic@...&gt;\r\nReceived: (qmail 14362 invoked from network); 20 Jan 2009 12:19:25 -0000\r\nReceived: from unknown (66.218.67.96)\n  by m53.grp.scd.yahoo.com with QMQP; 20 Jan 2009 12:19:25 -0000\r\nReceived: from unknown (HELO n32a.bullet.sp1.yahoo.com) (209.131.38.211)\n  by mta17.grp.scd.yahoo.com with SMTP; 20 Jan 2009 12:19:25 -0000\r\nReceived: from [69.147.65.147] by n32.bullet.sp1.yahoo.com with NNFMP; 20 Jan 2009 12:19:25 -0000\r\nReceived: from [66.218.66.75] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 20 Jan 2009 12:19:25 -0000\r\nX-Sender: majkic@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 58772 invoked from network); 20 Jan 2009 11:39:18 -0000\r\nX-Received: from unknown (66.218.67.96)\n  by m45.grp.scd.yahoo.com with QMQP; 20 Jan 2009 11:39:18 -0000\r\nX-Received: from unknown (HELO n16c.bullet.sp1.yahoo.com) (69.147.64.123)\n  by mta17.grp.scd.yahoo.com with SMTP; 20 Jan 2009 11:39:18 -0000\r\nX-Received: from [69.147.65.173] by n16.bullet.sp1.yahoo.com with NNFMP; 20 Jan 2009 11:39:18 -0000\r\nX-Received: from [66.218.66.75] by t15.bullet.mail.sp1.yahoo.com with NNFMP; 20 Jan 2009 11:39:18 -0000\r\nDate: Tue, 20 Jan 2009 11:39:16 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;gl4d54+f80c@...&gt;\r\nIn-Reply-To: &lt;b9ee5e410901191127r16b28148h2ae4867f76187116@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;majkic@...&quot; &lt;majkic@...&gt;\r\nSubject: Re: JUnit-JPA (Hibernate) - Spring - Struts2 testing howto\r\nX-Yahoo-Group-Post: member; u=369724152; y=VGwqftq3RdQ6cYO94HSEuE5WBwsS0ayxi-hTep7qOASpK1MfCS-zM6a2Rw\r\nX-Yahoo-Profile: majkic@...\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 20 Jan 2009 12:19:25 -0000\r\n\r\nHello,\nthanks a lot, Joakim. I found a solution for this, but your post \nhe=\r\nlped me a lot to understand better how it works.\n\nUnfortenately, now I cann=\r\not find any example to test Struts2 with \nservice (from Spring) injected. A=\r\nctually I made something to work with \nreal service, but this is not unit t=\r\nest, but integration.\n\nDoes anybody know how to Mock some service which I i=\r\nnject into Struts2 \naction, even better how to mock value some service retu=\r\nrns? That is \nthe question!\n \n--- In junit@yahoogroups.com, &quot;Joakim Ohlrogg=\r\ne&quot; &lt;joakim.ohlrogge@...&gt; \nwrote:\n&gt;\n&gt; Try this:\n&gt; Right-click on the project=\r\n in eclipse.\n&gt; Choose properties\n&gt; Choose java buildpath\n&gt; Choose libraries=\r\n\n&gt;      * add any jars that you need there. If you are using maven I \nfind =\r\nit\n&gt; helpful to add the jars using &quot;add variable&quot;, Configure a variable \nca=\r\nlled\n&gt; MAVEN_REPO (or whatever you fancy). As soon as you have that \nvariab=\r\nle you\n&gt; can click on it and press the extend... button and browse to the \n=\r\nlibrary you\n&gt; want relative to the variable. This is very nice to have in a=\r\n multi\n&gt; developer situation since the mvn-repo may be in different locatio=\r\nns \nfor\n&gt; different developers and all each developer needs to do is to \nco=\r\nnfigure\n&gt; their own MAVEN_REPO variable.\n&gt; \n&gt; Finally, go to the tab &quot;order=\r\n and export&quot;. In this tab you can \nchange the\n&gt; order of your Classpath. Ma=\r\nke sure that the JPA-api is suficiently \nhigh in\n&gt; that list. That should d=\r\no it.\n&gt; \n&gt; The above should resolve the issue (you might need to remove you=\r\nr \nlaunches\n&gt; for your new settings to be propagated there)\n&gt; \n&gt; But it sho=\r\nuld also do the trick just to change which JRE you launch \nwith\n&gt; (either c=\r\nonfigure it globally or locally in the project-properties). \nDid you\n&gt; try =\r\nthat?\n&gt; \n&gt; I hope this helps, hunting classpath-issues can really be \nfrust=\r\nrating. My\n&gt; sympathies.\n&gt; /J\n&gt; \n&gt; On Fri, Jan 16, 2009 at 10:24 PM, majkic=\r\n@... &lt;majkic@...&gt; wrote:\n&gt; \n&gt; &gt;   Solution for this dependencies issue I de=\r\nscribed below:\n&gt; &gt; Right click on test class (or complete project), Run, Ru=\r\nn\n&gt; &gt; configuration, Classpath, User entries, choose Maven dependencies \n-\n=\r\n&gt; &gt; choose Up, ie. put maven dependencies before project dependencies.\n&gt; &gt; =\r\nThis solved problem, so I don&#39;t need to include persistence-api-\n&gt; &gt; 1.0.ja=\r\nr form target folder.\n&gt; &gt;\n&gt; &gt; And again, can you help me about this, guys:\n=\r\n&gt; &gt;\n&gt; &gt; Is there any complete (even the simplest one) example showing how \n=\r\nto\n&gt; &gt; test JPA-Spring-Struts2? I don&#39;t believe that nobody wrote \nsomethin=\r\ng\n&gt; &gt; about this - at last all these technologies and combination of \nthose=\r\n\n&gt; &gt; are mainstream - not some exotic combination.\n&gt; &gt;\n&gt; &gt; I have problems =\r\nwith testing Struts2 actions (classes) with JUnit. \nIs\n&gt; &gt; there any simple=\r\n example wiring Struts2+Spring\n&gt; &gt; (struts.xml+applicationContext.xml)?\n&gt; &gt;=\r\n\n&gt; &gt; Cheers,\n&gt; &gt; Marko\n&gt; &gt;\n&gt; &gt; --- In junit@yahoogroups.com &lt;junit%40yahoog=\r\nroups.com&gt;, &quot;majkic@&quot;\n&gt; &gt; &lt;majkic@&gt; wrote:\n&gt; &gt; &gt;\n&gt; &gt; &gt; I did following:\n&gt; &gt;=\r\n &gt; 1. Open &quot;Run configuration&quot; for BankServiceTest under\n&gt; &gt; &gt; &quot;Classpath&quot;-=\r\n&gt;&quot;Bootstrap Entries&quot;-&gt;Add JAR&#39;s...\n&gt; &gt; &gt; 2. ...target/&lt;projectname&gt;/WEB-INF=\r\n/lib opens\n&gt; &gt; &gt; 3. I choose persistence-api-1.0.jar\n&gt; &gt; &gt; 4. Apply-Run\n&gt; &gt;=\r\n &gt;\n&gt; &gt; &gt; Hey, it works!!! But...\n&gt; &gt; &gt;\n&gt; &gt; &gt; ...you must admit that this is=\r\n pretty ugly solution, because:\n&gt; &gt; &gt;\n&gt; &gt; &gt; 1. You need to add this persist=\r\nance-api to every test class &quot;Run\n&gt; &gt; &gt; configuration&quot;\n&gt; &gt; &gt; 2. Path to per=\r\nsistence-api is at maven&#39;s target folder, which \nmight\n&gt; &gt; &gt; not be there a=\r\nll the time (mvn clean)\n&gt; &gt; &gt; 3. If I don&#39;t do &quot;mvn test&quot; first, applicaito=\r\nnContext-test.xml\n&gt; &gt; cannot\n&gt; &gt; &gt; be found.\n&gt; &gt; &gt;\n&gt; &gt; &gt; I don&#39;t understand=\r\n the following: in &quot;Run configuration&quot; there&#39;s\n&gt; &gt; &gt; Bootstrap Entries and =\r\nUser Entries. What&#39;s the difference? In \n&quot;User\n&gt; &gt; &gt; Entries&quot; there&#39;s &quot;Mave=\r\nn Dependencies&quot;. Shouldn&#39;t this be enough \nfor\n&gt; &gt; my\n&gt; &gt; &gt; tests to access=\r\n persistance-api-1.0.jar?\n&gt; &gt; &gt;\n&gt; &gt; &gt; Is there any complete (even the simpl=\r\nest one) example showing \nhow to\n&gt; &gt; &gt; test JPA-Spring-Struts2? I don&#39;t bel=\r\nieve that nobody wrote \nsomething\n&gt; &gt; &gt; about this - at last all these tech=\r\nnologies and combination of \nthose\n&gt; &gt; &gt; are mainstream - not some exotic c=\r\nombination.\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In junit@yahoogroups.com &lt;junit%40yahoogroups.c=\r\nom&gt;, &quot;Joakim\n&gt; &gt; Ohlrogge&quot; &lt;joakim.ohlrogge@&gt;\n&gt; &gt; &gt; wrote:\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; =\r\nJust a longshot, I have not done any JPA-development myself \nbut it\n&gt; &gt; &gt; &gt;=\r\n looks like you have a different version of the \njavax.persistance\n&gt; &gt; &gt; &gt; =\r\nAPI:s when you run eclipse than when you run in maven. Based \non\n&gt; &gt; that\n&gt;=\r\n &gt; &gt; &gt; assumption my guess is that you are using a different java-\nversion\n=\r\n&gt; &gt; in\n&gt; &gt; &gt; &gt; eclipse than in maven. Ie, eclipse runs with java 1.6 and \nm=\r\naven\n&gt; &gt; runs\n&gt; &gt; &gt; &gt; with java 1.5. (Sometimes API:s make it into the java=\r\n platform\n&gt; &gt; between\n&gt; &gt; &gt; &gt; versions that can lead to this kind of confli=\r\ncts)\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; In eclipse you can check your launch for junit to see =\r\nwhich \njre is\n&gt; &gt; used.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; It could also be the order of jar-f=\r\niles on your classpath. In \nthat\n&gt; &gt; &gt; &gt; case it&#39;s also possible to change =\r\nthe order of the jar-files \nin\n&gt; &gt; the\n&gt; &gt; &gt; &gt; properties for your project.=\r\n Make sure the order matches your \npom.\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Just some things to=\r\n check, could help...\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; On Fri, Jan 9, 2009 at 9:49 AM, Marko=\r\n Majkic &lt;majkic@&gt; wrote:\n&gt; &gt; &gt; &gt; &gt; It seems that applicationContext-test.xm=\r\nl is read, but \nthere&#39;s\n&gt; &gt; failure\n&gt; &gt; &gt; &gt; &gt; trace:\n&gt; &gt; &gt; &gt; &gt; java.lang.No=\r\nSuchMethodError:\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \njavax.persistence.PersistenceContext.=\r\nproperties()[Ljavax/persistence/P\n&gt; &gt; ersistenceProperty;\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; =\r\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.orm.jpa.support.PersistenceAnnotationB=\r\neanPostProce\n&gt; &gt; \nssor$PersistenceElement.&lt;init&gt;(PersistenceAnnotationBeanP=\r\nostProcessor.\n&gt; &gt; java:543)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springfra=\r\nmework.orm.jpa.support.PersistenceAnnotationBeanPostProce\n&gt; &gt; ssor$2.doWith=\r\n(PersistenceAnnotationBeanPostProcessor.java:376)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; =\r\n&gt; &gt;\n&gt; &gt; \norg.springframework.util.ReflectionUtils.doWithMethods(ReflectionU=\r\ntils\n&gt; &gt; .java:435)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.u=\r\ntil.ReflectionUtils.doWithMethods(ReflectionUtils\n&gt; &gt; .java:412)\n&gt; &gt; &gt; &gt; &gt; =\r\nat\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.orm.jpa.support.PersistenceAnno=\r\ntationBeanPostProce\n&gt; &gt; \nssor.findPersistenceMetadata(PersistenceAnnotation=\r\nBeanPostProcessor.ja\n&gt; &gt; va:363)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.spri=\r\nngframework.orm.jpa.support.PersistenceAnnotationBeanPostProce\n&gt; &gt; \nssor.po=\r\nstProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProc\n&gt; &gt; essor.j=\r\nava:296)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.beans.factor=\r\ny.support.AbstractAutowireCapableBeanF\n&gt; &gt; \nactory.applyMergedBeanDefinitio=\r\nnPostProcessors(AbstractAutowireCapable\n&gt; &gt; BeanFactory.java:745)\n&gt; &gt; &gt; &gt; &gt;=\r\n at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.beans.factory.support.Abstract=\r\nAutowireCapableBeanF\n&gt; &gt; actory.doCreateBean(AbstractAutowireCapableBeanFac=\r\ntory.java:448)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.beans.=\r\nfactory.support.AbstractAutowireCapableBeanF\n&gt; &gt; actory$1.run(AbstractAutow=\r\nireCapableBeanFactory.java:409)\n&gt; &gt; &gt; &gt; &gt; at java.security.AccessController=\r\n.doPrivileged(Native \nMethod)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springf=\r\nramework.beans.factory.support.AbstractAutowireCapableBeanF\n&gt; &gt; actory.crea=\r\nteBean(AbstractAutowireCapableBeanFactory.java:380)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n=\r\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.beans.factory.support.AbstractBeanFactory$1.=\r\ngetObj\n&gt; &gt; ect(AbstractBeanFactory.java:264)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt;=\r\n &gt; \norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry\n=\r\n&gt; &gt; .getSingleton(DefaultSingletonBeanRegistry.java:221)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt;=\r\n &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.beans.factory.support.AbstractBeanFacto=\r\nry.doGetBea\n&gt; &gt; n(AbstractBeanFactory.java:261)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; =\r\n&gt;\n&gt; &gt; \norg.springframework.beans.factory.support.AbstractBeanFactory.getBea=\r\nn(\n&gt; &gt; AbstractBeanFactory.java:185)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.=\r\nspringframework.beans.factory.support.AbstractBeanFactory.getBean(\n&gt; &gt; Abst=\r\nractBeanFactory.java:164)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframe=\r\nwork.beans.factory.support.DefaultListableBeanFactory.p\n&gt; &gt; reInstantiateSi=\r\nngletons(DefaultListableBeanFactory.java:429)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n=\r\n&gt; &gt; \norg.springframework.context.support.AbstractApplicationContext.finishB=\r\n\n&gt; &gt; eanFactoryInitialization(AbstractApplicationContext.java:729)\n&gt; &gt; &gt; &gt; =\r\n&gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.context.support.AbstractAppli=\r\ncationContext.refresh\n&gt; &gt; (AbstractApplicationContext.java:381)\n&gt; &gt; &gt; &gt; &gt; a=\r\nt sun.reflect.NativeMethodAccessorImpl.invoke0(Native \nMethod)\n&gt; &gt; &gt; &gt; &gt; at=\r\n\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMet=\r\nhodAccessorImpl.j\n&gt; &gt; ava:39)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \nsun.reflect=\r\n.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccess\n&gt; &gt; orImpl.java=\r\n:25)\n&gt; &gt; &gt; &gt; &gt; at java.lang.reflect.Method.invoke(Method.java:597)\n&gt; &gt; &gt; &gt; =\r\n&gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.springframework.test.jpa.AbstractJpaTests.run=\r\nBare(AbstractJpaTests\n&gt; &gt; .java:230)\n&gt; &gt; &gt; &gt; &gt; at junit.framework.TestResul=\r\nt$1.protect(TestResult.java:106)\n&gt; &gt; &gt; &gt; &gt; at \njunit.framework.TestResult.r=\r\nunProtected(TestResult.java:124)\n&gt; &gt; &gt; &gt; &gt; at junit.framework.TestResult.ru=\r\nn(TestResult.java:109)\n&gt; &gt; &gt; &gt; &gt; at junit.framework.TestCase.run(TestCase.j=\r\nava:120)\n&gt; &gt; &gt; &gt; &gt; at junit.framework.TestSuite.runTest(TestSuite.java:230)=\r\n\n&gt; &gt; &gt; &gt; &gt; at junit.framework.TestSuite.run(TestSuite.java:225)\n&gt; &gt; &gt; &gt; &gt; a=\r\nt\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.eclipse.jdt.internal.junit.runner.junit3.JUnit3T=\r\nestReference.run(J\n&gt; &gt; Unit3TestReference.java:130)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n=\r\n&gt; &gt; &gt;\n&gt; &gt; \norg.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExec=\r\nution.\n&gt; &gt; java:38)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.eclipse.jdt.inter=\r\nnal.junit.runner.RemoteTestRunner.runTests(Remote\n&gt; &gt; TestRunner.java:460)\n=\r\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.eclipse.jdt.internal.junit.runner.Rem=\r\noteTestRunner.runTests(Remote\n&gt; &gt; TestRunner.java:673)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt;=\r\n &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(Re=\r\nmoteTestR\n&gt; &gt; unner.java:386)\n&gt; &gt; &gt; &gt; &gt; at\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt; \norg.eclipse=\r\n.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTest\n&gt; &gt; Runner.java=\r\n:196)\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt; Maven 2 &quot;mvn test&quot; is working fine.\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt;=\r\n &gt; &gt; &gt; On Fri, Jan 9, 2009 at 12:49 AM, Cenk =EF=BF=BDivici &lt;cenk.civici@&gt;\n=\r\n&gt; &gt; wrote:\n&gt; &gt; &gt; &gt; &gt;&gt; Hi,\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; What happens when you try t=\r\no run this in Eclipse ( I am\n&gt; &gt; guessing\n&gt; &gt; &gt; thats\n&gt; &gt; &gt; &gt; &gt;&gt; what you m=\r\nean by running alone). Does it fail when it tries \nto\n&gt; &gt; locate\n&gt; &gt; &gt; &gt; &gt;&gt;=\r\n the app context? Is app context xml on the classpath? What\n&gt; &gt; error do\n&gt; =\r\n&gt; &gt; &gt; &gt;&gt; you see?\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt; Cheers\n&gt; &gt; &gt; &gt; &gt;&gt; Cenk\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt;=\r\n &gt; &gt; &gt; &gt;&gt; On Thu, Jan 8, 2009 at 7:38 PM, Marko Majkic &lt;majkic@&gt; \nwrote:\n&gt; =\r\n&gt; &gt; &gt; &gt;&gt;&gt; Thanks for the reference. I did something that works, but \nit\n&gt; &gt;=\r\n works\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; only when I do &quot;mvn test&quot;. I cannot run test alone.\n&gt; &gt; =\r\n&gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; I use AbstractJpaTests and those two &quot;preparing&quot; method=\r\ns:\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; =3D=3D=3D=3D=3D=3D=3D=3D\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; package net=\r\n.beotel.service;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; import java.util.List;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;=\r\n\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; import javax.persistence.EntityManager;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; import jav=\r\nax.persistence.EntityManagerFactory;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; import javax.persistence.P=\r\nersistence;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; import net.beotel.model.Bank;\n&gt; &gt; &gt; &gt; &gt;=\r\n&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; import org.springframework.test.jpa.AbstractJpaTests;\n&gt; &gt; &gt; =\r\n&gt; &gt;&gt;&gt; import\n&gt; &gt; org.springframework.transaction.annotation.Transactional;\n=\r\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; public class BankServiceTest extends AbstractJpaTes=\r\nts {\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; private BankServiceImpl bankService =3D new \nB=\r\nankServiceImpl() ;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; private static EntityManagerFact=\r\nory emf;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; private static EntityManager em;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;=\r\n&gt;&gt; public void onSetUp(){\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; emf =3D Persistence.createEntityManag=\r\nerFactory(&quot;testing1&quot;);\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; em =3D emf.createEntityManager();\n&gt; &gt; &gt; =\r\n&gt; &gt;&gt;&gt; em.getTransaction().begin();\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; bankService.setEntityManager=\r\n(em);\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; public void onTearDown(){\n&gt; &gt; &gt;=\r\n &gt; &gt;&gt;&gt; em.getTransaction().commit();\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; =\r\npublic BankService getBankService() {\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; return bankService;\n&gt; &gt; &gt;=\r\n &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; public BankServiceTest() {\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; sup=\r\ner();\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; protected String[] getConfigLocations() {\n&gt;=\r\n &gt; &gt; &gt; &gt;&gt;&gt; return new String[] {\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; &quot;classpath:applicationContext-=\r\ntest.xml&quot;,\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; };\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; @Transactio=\r\nnal\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; public void testAll() throws Exception {\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; List&lt;B=\r\nank&gt; banks =3D bankService.findAll();\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; int initialCount =3D bank=\r\ns.size();\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; Bank bank=3D new Bank();\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; bank.setName(&quot;OT=\r\nP&quot;);\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; bankService.save(bank);\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; assertNotNull(bank.get=\r\nId());\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; }\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; =3D=\r\n=3D=3D=3D=3D=3D=3D=3D\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; Is there any way to run this =\r\ntest alone? Do I have to \ninclude\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; &quot;applicationContext-test.xml&quot;=\r\n (from the \nsrc/test/resources)\n&gt; &gt; &gt; explicitly\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; in the code? I=\r\n don&#39;t have to do this with my application\n&gt; &gt; (include\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; applica=\r\ntionContext.xml from the web.xml). Do I have to \ninclude\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; explci=\r\ntly persistence-unit?\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; At last, is there any working=\r\n example (simple) testing \nsome\n&gt; &gt; service\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; (dao) using JPA? Th=\r\nanks.\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; On Wed, Jan 7, 2009 at 8:58 PM, Cenk =EF=BF=\r\n=BDivici \n&lt;cenk.civici@&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Hi,\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt;=\r\n &gt; &gt; &gt; &gt;&gt;&gt;&gt; Have you looked at Spring integration testing support?\n&gt; &gt; &gt; &gt; =\r\n&gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt;\n&gt; &gt; \nhttp://=\r\nstatic.springframework.org/spring/docs/2.5.x/reference/testing.\n&gt; &gt; html#te=\r\nstcontext-framework\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Spring TestContext lets you l=\r\noad an app context, \nconfigure\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; transactions per fixture/method=\r\n etc.\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Cheers\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; Cenk =EF=BF=BDivici\n&gt; &gt;=\r\n &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt; On Wed, Jan 7, 2009 at 1:39 AM, majkic@ &lt;majkic@&gt;\n&gt; =\r\n&gt; &gt; &gt; &gt;&gt;&gt;&gt; wrote:\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; Hi guys,\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; I&#39;m new in the group=\r\n and I couldn&#39;t find anything on \ntesting\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; combination in the =\r\ntitle.\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; I have applicationContext.xml where Enti=\r\ntyManagerFactory \nis\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; configured. Model classes are mapped usi=\r\nng Annotations. \nMy\n&gt; &gt; service\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; classes (DAO - for example Ba=\r\nnkImpl) implements \ninterfaces\n&gt; &gt; (for\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; example Bank). Method=\r\ns from these implementation are \ncalled\n&gt; &gt; in\n&gt; &gt; &gt; Struts2\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; =\r\naction classes (injected).\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; How can I configure =\r\nmy tests to be runnable as single \ntests\n&gt; &gt; and as\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt; Maven2 te=\r\nsts? Is there any simple example - tutorial? \nShould\n&gt; &gt; I\n&gt; &gt; &gt; have\n&gt; &gt; &gt;=\r\n &gt; &gt;&gt;&gt;&gt;&gt; separate applicationContext-test.xml?\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;&gt;\n=\r\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt; &gt; &gt; &gt;&gt;\n&gt; &gt;=\r\n &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; --\n&gt; &gt; &gt; &gt; ---------------=\r\n--------------------------------------\n&gt; &gt; &gt; &gt; Joakim Ohlrogge\n&gt; &gt; &gt; &gt; Agic=\r\nal AB\n&gt; &gt; &gt; &gt; V=EF=BF=BDsterl=EF=BF=BDnggatan 79, 2 tr\n&gt; &gt; &gt; &gt; 111 29 Stock=\r\nholm, SWEDEN\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Mobile: +46-708-754004\n&gt; &gt; &gt; &gt; Blog: johlrogge=\r\n.wordpress.com\n&gt; &gt; &gt; &gt; E-mail: joakim.ohlrogge@\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt; &gt;\n&gt; &gt;  \n&gt; &gt;=\r\n\n&gt; \n&gt; \n&gt; \n&gt; -- \n&gt; -----------------------------------------------------\n&gt; J=\r\noakim Ohlrogge\n&gt; Agical AB\n&gt; V=EF=BF=BDsterl=EF=BF=BDnggatan 79, 2 tr\n&gt; 111=\r\n 29 Stockholm, SWEDEN\n&gt; \n&gt; Mobile: +46-708-754004\n&gt; Blog: johlrogge.wordpre=\r\nss.com\n&gt; E-mail: joakim.ohlrogge@...\n&gt; \n&gt; \n&gt; [Non-text portions of this mes=\r\nsage have been removed]\n&gt;\n\n\n\n\n", 
    "profile": "majkic@ymail.com", 
    "topicId": 21269, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 369724152, 
    "prevInTime": 21305, 
    "contentTrasformed": false, 
    "postDate": "1232451556", 
    "canDelete": false, 
    "nextInTopic": 21310, 
    "prevInTopic": 21304, 
    "headers": {
        "inReplyToHeader": "PGI5ZWU1ZTQxMDkwMTE5MTEyN3IxNmIyODE0OGgyYWU0ODY3Zjc2MTg3MTE2QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGdsNGQ1NCtmODBjQGVHcm91cHMuY29tPg=="
    }
}