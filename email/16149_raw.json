{
    "numMessagesInTopic": 4, 
    "nextInTime": 16150, 
    "senderId": "P3gBddSh8PErE98hr82j2ekXSRYw7fg2tezta7wfD6mCd_tWht0lKc2t9CwX9vbUoRFY4eglGUu0G6NiXh1vvJgONbKM45e-j-kzrg", 
    "systemMessage": true, 
    "subject": "problem compiling and testing", 
    "from": "&quot;strohtennis&quot; &lt;strohtennis@...&gt;", 
    "authorName": "strohtennis", 
    "msgSnippet": "I am attempting to make a server for a computer bowl competition that will test competitors source code, keep track of team results and return results to the", 
    "msgId": 16149, 
    "rawEmail": "Return-Path: &lt;strohtennis@...&gt;\r\nReceived: (qmail 35582 invoked from network); 21 Feb 2006 20:26:11 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m35.grp.scd.yahoo.com with QMQP; 21 Feb 2006 20:26:11 -0000\r\nReceived: from unknown (HELO n5a.bullet.scd.yahoo.com) (66.94.237.39)\n  by mta3.grp.scd.yahoo.com with SMTP; 21 Feb 2006 20:26:11 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.3] by n5.bullet.scd.yahoo.com with NNFMP; 21 Feb 2006 20:25:47 -0000\r\nReceived: from [66.218.66.86] by t3.bullet.scd.yahoo.com with NNFMP; 21 Feb 2006 20:25:47 -0000\r\nX-Sender: strohtennis@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 53628 invoked from network); 20 Feb 2006 13:13:45 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m29.grp.scd.yahoo.com with QMQP; 20 Feb 2006 13:13:45 -0000\r\nReceived: from unknown (HELO n23.bullet.scd.yahoo.com) (66.94.237.52)\n  by mta4.grp.scd.yahoo.com with SMTP; 20 Feb 2006 13:13:45 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.3] by n23.bullet.scd.yahoo.com with NNFMP; 20 Feb 2006 13:12:42 -0000\r\nReceived: from [66.218.66.80] by t3.bullet.scd.yahoo.com with NNFMP; 20 Feb 2006 13:12:42 -0000\r\nDate: Mon, 20 Feb 2006 13:12:40 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;dtcf88+e50c@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: &quot;strohtennis&quot; &lt;strohtennis@...&gt;\r\nSubject: problem compiling and testing\r\nX-Yahoo-Group-Post: member; u=92105587; y=vItoGIsnOZfOu_8YUIgpkWPTbzXBv-J2oCHm6cS2Ws8eVwEG2PQ\r\nX-Yahoo-Profile: strohtennis\r\nX-eGroups-Approved-By: vbossica &lt;vladimir@...&gt; via web; 21 Feb 2006 20:25:45 -0000\r\n\r\nI am attempting to make a server for a computer bowl competition that\nwill =\r\ntest competitors source code, keep track of team results and\nreturn results=\r\n to the competitors.  The only trouble I am having is\nthat I am getting str=\r\nange results from my tests.  As you can see I&#39;ve\nset up a very simple class=\r\n A1 to test my results.  The ActiveTestSuite\n always returns true for both =\r\nTestResults and the TestSuite returns\nfalse for both.\n\nThanks,\nEric\n\n\npubli=\r\nc class A1\n{\n\n   public A1()\n   {}\n\n   public int get1()\n   {\n   \treturn 1;=\r\n\n   }\n}\n\npublic class A1Test extends junit.framework.TestCase\n{\n\n\tpublic vo=\r\nid test1() \n\t{\n\t  \t\tA1 p =3D new A1();\n\t\n\t \tassertEquals(1, p.get1() );\n\t}\n=\r\n\t\n\tpublic void test2() \n\t{\n\t  \t\tA1 p =3D new A1();\n\t\n\t \tassertEquals(2, p.g=\r\net1() );\n\t}\n\n}\n\npackage cccb.fileTester;\nimport junit.framework.*;\nimport j=\r\nunit.extensions.*;\nimport java.io.*;\n\npublic class FileTester\n{\n    private=\r\n String studentFilename;\n    public FileTester(String sFilename) \n    {\n   =\r\n     studentFilename =3D sFilename;\n    }\n    public FileTester(File f)\n   =\r\n {\n        studentFilename =3D f.getName();\n    }\n    public boolean testFi=\r\nle() throws Exception\n    {\n        CompilingClassLoader ccl =3D new Compil=\r\ningClassLoader();\n\n        TestSuite suite;\n        \n        //studentFilen=\r\name =3D &quot;C:/StudentWork/A1.java&quot;;\n        //or C:/StudentWork/A1.jar - .cla=\r\nss file in the jar\n        int len =3D studentFilename.length();\n        St=\r\nring test;\n        if(studentFilename.substring(len-4).equals(&quot;java&quot;))\n    =\r\n        test =3D\n&quot;&#92;&#92;JunitTests&#92;&#92;&quot;+studentFilename.substring(len-7,len-5)+&quot;T=\r\nest&quot;;\n        else\n            test =3D\n&quot;&#92;&#92;JunitTests&#92;&#92;&quot;+studentFilename.su=\r\nbstring(len-6,len-4)+&quot;Test&quot;;\n        System.out.println(&quot;test =3D &quot;+test);\n=\r\n        Class testClas =3D ccl.loadClass(test, studentFilename,true);\n     =\r\n   if (testClas =3D=3Dnull)\n        {\n                 return false;\n      =\r\n  }\n        TestResult tr0 =3D new TestResult();\n        TestResult tr1 =3D=\r\n new TestResult();\n        suite =3D new ActiveTestSuite(testClas);\n       =\r\n suite.runTest(suite.testAt(0), tr1);\n        if(tr0.wasSuccessful())\n     =\r\n       System.out.println(&quot;test 0 was a success&quot;);\n        else\n           =\r\n System.out.println(&quot;test 0 not successful&quot;);\n            \n        suite.ru=\r\nnTest(suite.testAt(1),tr1);\n        if(tr1.wasSuccessful())\n            Sys=\r\ntem.out.println(&quot;test 1 was a success&quot;);\n        else\n            System.ou=\r\nt.println(&quot;test 1 not successful&quot;);\n               \n\n        suite =3D new =\r\nTestSuite(testClas);\n        suite.runTest(suite.testAt(0), tr1);\n        i=\r\nf(tr1.wasSuccessful())\n            System.out.println(&quot;test 0 was a success=\r\n&quot;);\n        else\n            System.out.println(&quot;test 0 not successful&quot;);\n\n=\r\n        suite.runTest(suite.testAt(1),tr1);\n        if(tr1.wasSuccessful())=\r\n\n            System.out.println(&quot;test 1 was a success&quot;);\n        else\n     =\r\n       System.out.println(&quot;test 1 not successful&quot;);\n\n        return (tr0.wa=\r\nsSuccessful()&&!tr1.wasSuccessful());\n       \n    }\n}\n\n\n/**********Compilin=\r\ng Class Loader***********/\n\npackage cccb.fileTester;\nimport java.io.*;\nimpo=\r\nrt java.net.*;\nimport cccb.FTPHandler.FileInfo;\n\n\n/*\nA CompilingClassLoader=\r\n compiles your Java source on-the-fly. It\nchecks for nonexistent .class fil=\r\nes, or .class files that are older\nthan their corresponding source code.\n*/=\r\n\npublic class CompilingClassLoader extends ClassLoader implements\nSerializa=\r\nble\n{\n\n        // Spawn a process to compile the java source code file\n    =\r\n    // specified in the &#39;javaFile&#39; parameter. Return a true if\n        // t=\r\nhe compilation worked, false otherwise.\n        private boolean compile( St=\r\nring javaFile ,String studentFile)\nthrows IOException {\n\n   \n              =\r\n  Process p;\n                \n               \nString[]cmd=3D{&quot;javac&quot;,&quot;-sour=\r\ncepath&quot;,&quot;.&quot;,studentFile,javaFile,&quot;-classpath&quot;,&quot;C:/JunitTests/junit.jar&quot;};\n =\r\n              \n                 //THIS ALSO COMPILES CORRECTLY\nString[]cmd=\r\n=3D{&quot;javac&quot;,&quot;-classpath&quot;,&quot;C:&#92;&#92;StudentWork&#92;&#92;A1.jar&quot;,&quot;;&quot;,&quot;C:&#92;&#92;junit.jar&quot;,&quot;-so=\r\nurcepath&quot;,&quot;.&quot;,javaFile};\n          \t\t\n               p=3DRuntime.getRuntime=\r\n().exec(cmd);\n             \n                try {\n                   p.wait=\r\nFor();\n                } catch( InterruptedException ie ) {\nSystem.out.prin=\r\ntln( ie ); return false;}\n\n                int ret =3D p.exitValue();\n     =\r\n           return ret=3D=3D0;\n        }\n        // The heart of the ClassLo=\r\nader -- automatically compile\n        // source as necessary when looking f=\r\nor class files\n        public Class loadClass( String name, String studentD=\r\nir,\nboolean resolve )\n        throws ClassNotFoundException {\n\n            =\r\n    Class clas =3D null;\n\n                String javaFilename =3D name+&quot;.ja=\r\nva&quot;;\n                String classFilename =3D name+&quot;.class&quot;;\n\n             =\r\n   File javaFile =3D new File( javaFilename );\n                File classFi=\r\nle =3D new File( classFilename );\n              \n                if (javaFi=\r\nle.exists()) \n                {\n                        try \n              =\r\n          {\n                            if (!compile(javaFilename, studentD=\r\nir)  ||\n!classFile.exists()) \n                            {\n               =\r\n                 return null;\n\n                            }\n              =\r\n          } \n                        catch( IOException ie ) \n             =\r\n           {\n                            return null;\n \n                   =\r\n      }\n                      \n                }\n\n                    try \n=\r\n                   {\n                        byte raw[] =3D (new File(class=\r\nFilename\n)).getBytes();\n                        int len =3D name.length();\n=\r\n                        name=3Dname.substring(len-6);\n                     =\r\n   clas =3D defineClass(name,raw,0,raw.length);\n                    } \n    =\r\n               catch( IOException ie ) {}\n\n\n              \n                =\r\nif (resolve && clas !=3D null)\n                    resolveClass( clas );\n\n\n=\r\n                return clas;\n        }\n\t public byte[] getBytes(File fileNa=\r\nme ) throws IOException \n         {\n              \n                int len =\r\n=3D (int)file.length();\n                byte raw[] =3D new byte[len];\n     =\r\n           FileInputStream inFile =3D new FileInputStream( file );\n        =\r\n        int r =3D inFile.read( raw );\n                if (r !=3D len)\n     =\r\n               throw new IOException( &quot;Can&#39;t read file&quot; );\n                =\r\ninFile.close();\n                return raw;\n        }\n}\n\n\n\n\n\n\n", 
    "profile": "strohtennis", 
    "topicId": 16149, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 92105587, 
    "prevInTime": 16148, 
    "contentTrasformed": false, 
    "postDate": "1140441160", 
    "canDelete": false, 
    "nextInTopic": 16168, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGR0Y2Y4OCtlNTBjQGVHcm91cHMuY29tPg=="
    }
}