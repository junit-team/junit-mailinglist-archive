{
    "numMessagesInTopic": 4, 
    "nextInTime": 9127, 
    "senderId": "CLeokVZYe190OpGfKLZV9-9Owu7MgFoD4hnIx8iKUYQIctQX5YIPafwMC2rlZvyPIRiqH7vajsBXovtFK2hn-dz0FlY7hoADAFdk1WLc", 
    "systemMessage": false, 
    "subject": "Object containment test dependency", 
    "from": "Jonathan Oddy &lt;j.oddy@...&gt;", 
    "authorName": "Jonathan Oddy", 
    "msgSnippet": "Dear all, I have a test case dependency that I don t much like and can t think of a solution to. Briefly the problem is two very simple Java bean classes (A", 
    "msgId": 9126, 
    "profile": "jonathanoddy", 
    "topicId": 9126, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 124029770, 
    "messageBody": "<div id=\"ygrps-yiv-558419691\">Dear all,<br/>\n<br/>\nI have a test case dependency that I don&#39;t much like and can&#39;t think of a<br/>\nsolution to.  <br/>\n<br/>\nBriefly the problem is two &quot;very simple&quot; Java bean classes (A and B).  Class<br/>\nA is really simple: a constructor with a number of arguments and a host of<br/>\naccessor methods for retrieving this (member) data.  Most of this class<br/>\nwould be deemed &quot;too simple to test&quot;, with the main test methods performing<br/>\na number of equality/hashCode tests, angain not complex but as there are a<br/>\nnumber of fields to check I thought it was worth implementing.  The other<br/>\nclass (B) is also a simple bean with a number of data members and simple<br/>\naccessors.  However its initialisation mechanism is via an implementation of<br/>\nthe Externalizable interface and it&#39;s this that I want to test.  I&#39;ve<br/>\nwritten a number of tests checking my serialisation process, but here comes<br/>\nthe dependency.  Class B contains a number of (two) class A instances.  The<br/>\nraw data is read within readExternal and then used to construct the<br/>\ninstances of A.  Class B provides a couple of accessors to retrieve those A<br/>\ninstances.<br/>\n<br/>\nWithin my unit test for B&#39;s Externalizable implementation is to check that<br/>\nwhat I pass in on the InputStream results in the B instance I expect.  But B<br/>\ncontains two As so I appear to have two points of failure:  A.equals might<br/>\nfail which would result in the tests for both A and B failing.  So to<br/>\nalleviate this issue I&#39;ve constructed a custom test suite within which A is<br/>\nunit tested first, before B so at least if A fails I know I don&#39;t need to<br/>\n&quot;waste&quot; effort looking at why B failed (until I have at least fixed A).<br/>\n<br/>\nSo my question - is this a common problem people have?  And if so how do<br/>\nthey handle it?  Or do you just live with a small bit of slightly smelly<br/>\ntest code?<br/>\n<br/>\nBy way of visualisation here&#39;s the code (give or take a bit!):<br/>\n<br/>\npublic class A<br/>\n{<br/>\n  A(int first, int second, ...)  { ... }<br/>\n  public int getFirst() { ... }<br/>\n  public int getSecond() { ... }<br/>\n  ...<br/>\n  public boolean equals(Object o) { /* main method to test */ }<br/>\n}<br/>\n<br/>\npublic class B implements Externalizable<br/>\n{<br/>\n  private A firstA;<br/>\n  private A secondA;<br/>\n  ...<br/>\n  public void readExternal(ObjectInput is)<br/>\n  {<br/>\n    // read stream <br/>\n    firstA = new A(...);<br/>\n    second A = new A(...);<br/>\n    ...<br/>\n  }<br/>\n  public A getFirstA() { return firstA; }<br/>\n  public A getSecondA() { return secondA; }<br/>\n  ...<br/>\n}<br/>\n<br/>\npublic class BTest extends TestCase<br/>\n{<br/>\n  public void testSerialisation()<br/>\n  {<br/>\n    MockObjectInputStream is = new MockObjectInputStream();<br/>\n    B b = new B();<br/>\n    b.readExternal(is);<br/>\n    // here&#39;s my problem dependency...<br/>\n    assertEquals(is.getExpectedFirstA(), b.getFirstA());<br/>\n    assertEquals(is.getExpectedSecondA(), b.getSecondA());<br/>\n  }<br/>\n}<br/>\n<br/>\n<br/>\n<br/>\nJonathan<br/>\n<br/>\n--<br/>\nJonathan Oddy<br/>\nSERVICEPower Business Solutions Ltd<br/>\nPetersgate House - St Petersgate - Stockport - SK1 1HE - ENGLAND<br/>\nTel: +44 (0)161 476 2277<br/>\nEmail: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:j.oddy@...\">j.oddy@...</a> &lt;mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:j.oddy@...\">j.oddy@...</a>&gt;</div>", 
    "prevInTime": 9125, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1061378878", 
    "canDelete": false, 
    "nextInTopic": 9128, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PEU1Qzc5MDQ5RDQ2MUQzMTFCODMxMDAwNjI5NTBCNTRBMDEyN0MxREJAbnQtc3RvYy0wLnNicz4="
    }
}