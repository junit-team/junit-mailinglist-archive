{
    "numMessagesInTopic": 5, 
    "nextInTime": 8435, 
    "senderId": "uRAu_KXLrWONoJJTJzYstJqSLDX5zJ2N9Ejdv29Rq5DhKIWXdV8wLYf8RzJcWb9fdrnnZJXXkr-E14VdBKKKRKYpDNSuY212MbVQhvTJ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing complex interations", 
    "from": "Jason Rogers &lt;jacaetevha@...&gt;", 
    "authorName": "Jason Rogers", 
    "msgSnippet": "... this ... (used ... with a ... would ... one ... want is ... I had the same situation at a previous gig.  There was a home-grown, XML-based templating", 
    "msgId": 8434, 
    "profile": "jacaetev", 
    "topicId": 8413, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 109352929, 
    "messageBody": "<div id=\"ygrps-yiv-1946200004\">On Fri, 2003-06-20 Jonathan Oddy &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:j.oddy@...\">j.oddy@...</a>&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Dear All,<br/>\n&gt; <br/>\n&gt; I am writing a struts-based web application (not really relevent for<br/>\n </span></blockquote>this<br/>\n<blockquote><span title=\"ireply\"> &gt; discussion however...).  I have a number of implementations of Action<br/>\n </span></blockquote>(used<br/>\n<blockquote><span title=\"ireply\"> &gt; to service incoming Http requests).  My action classes collaborate<br/>\n </span></blockquote>with a<br/>\n<blockquote><span title=\"ireply\"> &gt; number of other classes (data access, business and so forth) and I<br/>\n </span></blockquote>would<br/>\n<blockquote><span title=\"ireply\"> &gt; like to unit test my Action classes.  However they really only have<br/>\n </span></blockquote>one<br/>\n<blockquote><span title=\"ireply\"> &gt; public method of interest - the Action.execute, and this is I believe,<br/>\n&gt; currently, far to complex for sensible unit testing, what I really<br/>\n </span></blockquote>want is<br/>\n<blockquote><span title=\"ireply\"> &gt; to test some of the collaborations (parts of the whole).  <br/>\n&gt; <br/>\n<br/>\n </span></blockquote>I had the same situation at a previous gig.  There was a home-grown,<br/>\nXML-based templating system that interacted with a servlet that<br/>\nforwarded to Request objects.  These Request objects (sounds like your<br/>\nActions) were all subclasses of an abstract Request whose only<br/>\nparameters were HTTPServlet* classes.  Instead of using mocks to test<br/>\nthe response mechanism, we turned the Requests into pure Delegators and<br/>\ntested the objects to which they delegated.  Pretty simple.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Obviously I can (and have) refactored Action.execute and this has<br/>\n </span></blockquote>resulted<br/>\n<blockquote><span title=\"ireply\"> &gt; in a number of protected and private methods.<br/>\n<br/>\n </span></blockquote>In a case like this, I have sometimes tested the protected methods by<br/>\nhaving the TestCase be in the same package.  They don&#39;t have to live in<br/>\nthe same directory on the file-system, of course.  My tests generally<br/>\ndon&#39;t.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;   But unit testing seems be<br/>\n&gt; aimed at public interface testing, which my newly refactored methods<br/>\n </span></blockquote>do not<br/>\n<blockquote><span title=\"ireply\"> &gt; come under this description.  <br/>\n<br/>\n </span></blockquote>Public can be defined by more than just the keyword.  If you have<br/>\nclasses whose only use are package wide then the default access (no<br/>\nmodifier) and protected keyword make up the &quot;public&quot; interface.  So,<br/>\ntest them.  They are public in the package sense.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; I am not keen to promote these methods to<br/>\n&gt; public visibility because they are not part of the behavioural<br/>\n </span></blockquote>interface.<br/>\n<blockquote><span title=\"ireply\"> &gt; My current thought (but I am not happy with this) is to do the<br/>\n </span></blockquote>following:<br/>\n<blockquote><span title=\"ireply\"> &gt; subclass my target testing class and provide a number of public<br/>\n </span></blockquote>methods that<br/>\n<blockquote><span title=\"ireply\"> &gt; simply forward to the appropriate underlying protected method(s) and<br/>\n&gt; recording their results (to be tested by Junit asserts).  This works<br/>\n </span></blockquote>but<br/>\n<blockquote><span title=\"ireply\"> &gt; leaves me with the overhead of having to &quot;maintain&quot; my target subclass<br/>\n </span></blockquote>along<br/>\n<blockquote><span title=\"ireply\"> &gt; with the rest of my application.  <br/>\n<br/>\n </span></blockquote>That is a possibilty, but I think you hit on one of the big drawbacks.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Things are compounded somewhat by the fact<br/>\n&gt; that I am also having to mock a fair number of objects in order to<br/>\n </span></blockquote>make my<br/>\n<blockquote><span title=\"ireply\"> &gt; action class as independent as possible.<br/>\n<br/>\n </span></blockquote>Refer to comments above... factor the logic OUT of the Action class.<br/>\n<br/>\n-- <br/>\n=jason</div>", 
    "prevInTime": 8433, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1056069262", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 8427, 
    "headers": {
        "messageIdInHeader": "PDEwNTYwNjkyNjIuMjAzMi4xMC5jYW1lbEBsb2NhbGhvc3Q+"
    }
}