{
    "topicId": 2042, 
    "postDate": "995894164", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "&quot;Jason Rogers&quot; &lt;jason.rogers@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "IuC5TSWFfOZhEJfRFE-rY5XNtYmor_uZwaA91liWRJLPNkg2rFS8YpjKueFmPr4-yyWYSNNLGKOr-kQJNnyVq2yNnguWgzOnt_-GIdrPLG-570U", 
    "nextInTime": 2049, 
    "userId": 0, 
    "prevInTime": 2047, 
    "prevInTopic": 2044, 
    "headers": {
        "messageIdInHeader": "PDg3RUU2QjIxQzYyNEQ1MTFCNzI0MDAxMDRCQ0YxRUIwMUY2MUExQGV4Y2g+"
    }, 
    "authorName": "Jason Rogers", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "Thanks for the info Frank.  I ll keep racking my brain to see if I can figure this out.  Here s a novel idea -- write a test for it in the framework.  If you", 
    "contentTrasformed": false, 
    "msgId": 2048, 
    "nextInTopic": 0, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;jason.rogers@...&gt;\r\nX-Sender: jason.rogers@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_2_0); 23 Jul 2001 13:33:20 -0000\r\nReceived: (qmail 24214 invoked from network); 23 Jul 2001 13:16:08 -0000\r\nReceived: from unknown (10.1.10.26) by l8.egroups.com with QMQP; 23 Jul 2001 13:16:08 -0000\r\nReceived: from unknown (HELO 10.80.1.20) (63.120.112.20) by mta1 with SMTP; 23 Jul 2001 13:16:06 -0000\r\nReceived: from 10.80.1.12 by 10.80.1.20 with ESMTP (Tumbleweed MMS SMTP Relay (MMS v4.7)); Mon, 23 Jul 2001 09:16:05 -0400\r\nX-Server-Uuid: 3522b0b4-89a9-11d4-b7bc-00104bcfa600\r\nReceived: by exch with Internet Mail Service (5.5.2653.19) id &lt;PPQDFTY3&gt;; Mon, 23 Jul 2001 09:16:05 -0400\r\nMessage-ID: &lt;87EE6B21C624D511B72400104BCF1EB01F61A1@exch&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: [junit] Re: Junit manipulating exceptions\r\nDate: Mon, 23 Jul 2001 09:16:04 -0400\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nX-WSS-ID: 1742FC1F21375-01-01\r\nContent-Type: text/plain;  charset=iso-8859-1\r\nContent-Transfer-Encoding: 7bit\r\nFrom: &quot;Jason Rogers&quot; &lt;jason.rogers@...&gt;\r\n\r\nThanks for the info Frank.  I&#39;ll keep racking my brain to see if I can\nfigure this out.  Here&#39;s a novel idea -- write a test for it in the\nframework.  If you do it, I would suggest giving a peculiar name to any\nclass you add to the framework so that it is easier to back those things\nback out.\n\n-Jason\n\n    &gt; -----Original Message-----\n    &gt; From: Frank Enos [mailto:fenos@...]\n    &gt; Sent: Saturday, July 21, 2001 11:39 AM\n    &gt; To: junit@yahoogroups.com\n    &gt; Subject: [junit] Re: Junit manipulating exceptions\n    &gt; \n    &gt; \n    &gt; Hi Jason. Thanks for responding.\n    &gt; \n    &gt; It&#39;s definitely not reaching the catch block. The \n    &gt; assertions aren&#39;t being \n    &gt; checked, and even adding a System.out.println(&quot;help me&quot;) \n    &gt; or what have you, \n    &gt; or a System.exit(); to the catch block has no effect. For \n    &gt; some reason the \n    &gt; catch block is not catching the SQLException, even though \n    &gt; if I catch the \n    &gt; superclass Exception (as in my example testBadWrite2()), \n    &gt; e.getClass() \n    &gt; returns the expected java.sql.SQLException. One of my \n    &gt; initial thoughts was \n    &gt; that perhaps the Exception was being held somewhere in a \n    &gt; Collection when \n    &gt; the test methods are executed (there&#39;s a lot of \n    &gt; reflection going on, and \n    &gt; I&#39;m not sure I know exactly what&#39;s happening) and \n    &gt; implicitly upcast to \n    &gt; Exception, but the attempt to cast the caught Exception \n    &gt; to SQLException \n    &gt; throws a ClassCastException. I&#39;m mystified.\n    &gt; \n    &gt; BTW, toString(), when called on a subclass of Throwable \n    &gt; returns the \n    &gt; concatenation of : the full name of the class, &quot;: &quot;, and \n    &gt; the result of \n    &gt; getMessage(). If the Throwable was created without a \n    &gt; message, it simply \n    &gt; returns  the name of the class.\n    &gt; \n    &gt; Take care.\n    &gt; Frank\n    &gt; &gt;_________________________________________________________\n    &gt; _______________\n    &gt; &gt;\n    &gt; &gt;Message: 9\n    &gt; &gt;    Date: Fri, 20 Jul 2001 16:24:45 -0400\n    &gt; &gt;    From: &quot;Jason Rogers&quot; &lt;jason.rogers@...&gt;\n    &gt; &gt;Subject: RE: Junit manipulating exceptions?\n    &gt; &gt;\n    &gt; &gt;Frank,\n    &gt; &gt;\n    &gt; &gt;Are you sure that it isn&#39;t getting into the catch block? \n    &gt;  Also, I didn&#39;t\n    &gt; &gt;know that e.toString() returned the same thing as \n    &gt; e.getMessage().  Is that\n    &gt; &gt;so?\n    &gt; &gt;\n    &gt; &gt;-Jason\n    &gt; &gt;\n    &gt; &gt;     &gt; -----Original Message-----\n    &gt; &gt;     &gt; From: Frank Enos [mailto:fenos@...]\n    &gt; &gt;     &gt; Sent: Friday, July 20, 2001 3:13 PM\n    &gt; &gt;     &gt; To: junit@yahoogroups.com\n    &gt; &gt;     &gt; Subject: [junit] Junit manipulating exceptions?\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; I&#39;ve provided coded examples below. My basic question is\n    &gt; &gt;     &gt; this: Does Junit\n    &gt; &gt;     &gt; (3.7) manipulate exceptions in some way that would\n    &gt; &gt;     &gt; prevent an exception\n    &gt; &gt;     &gt; from being caught in a normal try/catch block? The\n    &gt; &gt;     &gt; behavior I&#39;m seeing is\n    &gt; &gt;     &gt; that if I attempt to catch the specific exception thrown\n    &gt; &gt;     &gt; by a method (e.g.\n    &gt; &gt;     &gt; catch (java.sql.SQLException e), the catch block fails to\n    &gt; &gt;     &gt; catch it and\n    &gt; &gt;     &gt; Junit logs it as an error. If I use catch (Exception e),\n    &gt; &gt;     &gt; the exception is\n    &gt; &gt;     &gt; caught as I would expect. I find that I can call\n    &gt; &gt;     &gt; getClass() on the caught\n    &gt; &gt;     &gt; Exception and that it returns the expected SQLException,\n    &gt; &gt;     &gt; whereas using\n    &gt; &gt;     &gt; instanceof fails.\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; Examples (behaves the same using other methods throwing\n    &gt; &gt;     &gt; other exception types)\n    &gt; &gt;     &gt; methods are from:\n    &gt; &gt;     &gt; public class PersistenceTest extends TestCase {...}\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt;    public static void main(String[] args) {\n    &gt; &gt;     &gt;   try {\n    &gt; &gt;     &gt;        PersistenceManager.singleton().write(&quot;insert into\n    &gt; &gt;     &gt; noSuchTable\n    &gt; &gt;     &gt; values(&#39;junk&#39;)&quot;);\n    &gt; &gt;     &gt;     System.out.println(&quot;No exception writing to\n    &gt; &gt;     &gt; non-existent table&quot;);\n    &gt; &gt;     &gt;   } catch (SQLException e) {\n    &gt; &gt;     &gt;     System.out.println(e.getClass().toString());\n    &gt; &gt;     &gt;   }\n    &gt; &gt;     &gt;    }\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; If I simply invoke this main()  method which I have added\n    &gt; &gt;     &gt; to the test\n    &gt; &gt;     &gt; class, it behaves as expected, printing the expected name\n    &gt; &gt;     &gt; of the class and\n    &gt; &gt;     &gt; exiting normally.\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt;    public void testBadWrite() {\n    &gt; &gt;     &gt;   try {\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; PersistenceManager.singleton().write(&quot;insert into \n    &gt; noSuchTable\n    &gt; &gt;     &gt; values(&#39;hey&#39;)&quot;);\n    &gt; &gt;     &gt;           fail(&quot;No exception writing to \n    &gt; non-existent table&quot;);\n    &gt; &gt;     &gt;   } catch (SQLException e) {\n    &gt; &gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);\n    &gt; &gt;     &gt;   }\n    &gt; &gt;     &gt;    }\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; This test method fails to catch the SQLException, passing\n    &gt; &gt;     &gt; it upwards and\n    &gt; &gt;     &gt; logging an error.\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; The following test passes, however:\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt;    public void testBadWrite2() {\n    &gt; &gt;     &gt;   try {\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; PersistenceManager.singleton().write(&quot;insert into \n    &gt; noSuchTable\n    &gt; &gt;     &gt; values(&#39;hey&#39;)&quot;);\n    &gt; &gt;     &gt;           fail(&quot;No exception writing to \n    &gt; non-existent table&quot;);\n    &gt; &gt;     &gt;   } catch (Exception e) {\n    &gt; &gt;     &gt;     assertEquals(&quot;java.sql.SQLException&quot;, \n    &gt; e.getClass().getName())\n    &gt; &gt;     &gt;     assertTrue(e.toString().indexOf(&quot;ORA-00942&quot;) &gt; -1);\n    &gt; &gt;     &gt;   }\n    &gt; &gt;     &gt;    }\n    &gt; &gt;     &gt;\n    &gt; &gt;     &gt; What am I missing?\n    &gt; &gt;     &gt; Thanks,\n    &gt; &gt;     &gt; Frank\n    &gt; &gt;     &gt;\n    &gt; \n    &gt; \n    &gt; To unsubscribe from this group, send an email to:\n    &gt; junit-unsubscribe@yahoogroups.com\n    &gt;  \n    &gt; \n    &gt; Your use of Yahoo! Groups is subject to \nhttp://docs.yahoo.com/info/terms/ \n\n\n\n\n\n", 
    "subject": "RE: [junit] Re: Junit manipulating exceptions"
}