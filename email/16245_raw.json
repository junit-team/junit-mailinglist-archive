{
    "numMessagesInTopic": 32, 
    "nextInTime": 16246, 
    "senderId": "LWqVbryKJUOBP_79rpameqDjK3qPiPh8N6Wc8vvMbpDBwYUh1BnASoiy8elJz1HPLf6apN7ZaBLTkkWg6TTGp8lZqaZwWGZzg693DQU81GHoKpydwQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit Anti-patterns", 
    "from": "jason r tibbetts &lt;tibbettj@...&gt;", 
    "authorName": "jason r tibbetts", 
    "msgSnippet": "... You re right in stating that for unexpected exceptions, it s foolish and overly verbose to use a try/catch where the catch clause calls fail. It s", 
    "msgId": 16245, 
    "rawEmail": "Return-Path: &lt;tibbettj@...&gt;\r\nX-Sender: tibbettj@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 18638 invoked from network); 2 Mar 2006 15:21:58 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m27.grp.scd.yahoo.com with QMQP; 2 Mar 2006 15:21:57 -0000\r\nReceived: from unknown (HELO mailhost2.sra.com) (163.252.31.55)\n  by mta4.grp.scd.yahoo.com with SMTP; 2 Mar 2006 15:21:57 -0000\r\nReceived: from verdi.iisd.sra.com ([163.252.29.9]) by mailhost2.sra.com with Microsoft SMTPSVC(6.0.3790.211);\n\t Thu, 2 Mar 2006 10:21:31 -0500\r\nReceived: from [163.252.3.3] (exaiphnes [163.252.3.3])\n\tby verdi.iisd.sra.com (8.9.3p2/8.9.3) with ESMTP id KAA23449\n\tfor &lt;junit@yahoogroups.com&gt;; Thu, 2 Mar 2006 10:21:30 -0500 (EST)\r\nMessage-ID: &lt;44070D79.8020602@...&gt;\r\nDate: Thu, 02 Mar 2006 10:21:29 -0500\r\nUser-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.7) Gecko/20040517\r\nX-Accept-Language: en-US, en, ja, ko\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;dtig6m+587e@...&gt;  &lt;43FF2FBE.6000702@...&gt; &lt;1140815704.12673.112.camel@sirius&gt;\r\nIn-Reply-To: &lt;1140815704.12673.112.camel@sirius&gt;\r\nContent-Type: text/plain; charset=windows-1252; format=flowed\r\nContent-Transfer-Encoding: 8bit\r\nReturn-Path: tibbettj@...\r\nX-OriginalArrivalTime: 02 Mar 2006 15:21:31.0949 (UTC) FILETIME=[FC441DD0:01C63E0C]\r\nX-eGroups-Msg-Info: 1:12:0:0\r\nFrom: jason r tibbetts &lt;tibbettj@...&gt;\r\nReply-To: tibbettj@...\r\nSubject: Re: [junit] JUnit Anti-patterns\r\nX-Yahoo-Group-Post: member; u=224061497; y=1yFbgHbGnsub-VprfLWxDuDvaMNuzVSWUdWoV9oZqO6SD9cwqnwZMSUGpb89-B9RewsKzQ\r\nX-Yahoo-Profile: tibbettj_at_verdi_sra_com\r\n\r\nJoe Schmetzer wrote:\n&gt; On Fri, 2006-02-24 at 11:09 -0500, jason r tibbetts wrote:\n&gt; \n&gt;&gt;Joe Schmetzer wrote:\n&gt;&gt;\n&gt;&gt;&gt;&quot;CÃ©dric Beust â™&quot; &quot; &lt;cbeust@...&gt; wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;Joe Schmetzer wrote:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;I&#39;ve just updated the JUnit Anti-patterns page I maintain at\n&gt;&gt;&gt;&gt;&gt;http://www.exubero.com/junit/antipatterns.html. I&#39;d be interested in\n&gt;&gt;&gt;&gt;&gt;any feedback, if people want to suggest additions or improvements.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;Also, it seems to me your recommended pattern for code that must\n&gt;&gt;&gt;\n&gt;&gt;&gt;throw an\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;exception (&quot;don&#39;t catch it and declare the exception in the throws\n&gt;&gt;&gt;&gt;statement&quot;) goes against common practice.  Plus, it will cause JUnit to\n&gt;&gt;&gt;&gt;report an Error instead of a Failure, although this distinction is\n&gt;&gt;&gt;&gt;thankfully going away with JUnit4.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;A more common way to address this problem is to catch the exception\n&gt;&gt;&gt;\n&gt;&gt;&gt;and do a fail().\n&gt;&gt;&gt;\n&gt;&gt;&gt;Hi Cédric,\n&gt;&gt;&gt;\n&gt;&gt;&gt;I would argue that explicitly calling fail is less useful than\n&gt;&gt;&gt;propagating the exception outside of the test method, mainly because\n&gt;&gt;&gt;the stack trace is lost. I&#39;ve been caught a number of times myself\n&gt;&gt;&gt;when a test failed because of an unexpected exception, but it was\n&gt;&gt;&gt;non-trivial to track down the line that caused the exception. The\n&gt;&gt;&gt;stack trace will show this information directly, any good JUnit test\n&gt;&gt;&gt;runners will display the stack trace. IDEs will even take you to the\n&gt;&gt;&gt;line of code, as well.\n&gt;&gt;\n&gt;&gt;I agree completely with Cedric. Failures and errors are intended to be \n&gt;&gt;very different beasts, and this difference is highlighted in various \n&gt;&gt;test result reporting tools (e.g. Maven&#39;s test result page, \n&gt;&gt;CruiseControl&#39;s listing, etc.). Failures indicate a problem with the \n&gt;&gt;class under test; errors indicate a problem with the test itself. That \n&gt;&gt;makes it a lot easier to figure out what needs to be fixed.\n&gt; \n&gt; \n&gt; Hmmmm... I understand the distinction, but personally I find that\n&gt; sticking to this rule in the case of unexpected exceptions makes it\n&gt; *harder* to figure out what needs to be fixed.\n&gt; \n&gt; In the case of unexpected exceptions, we&#39;re not really interested in the\n&gt; fact that a piece of code *might* throw an exception, but rather that a\n&gt; call produces an expected result. For example:\n&gt; \n&gt; public void testCalculation() throws CalculationException {\n&gt;     processer.calculate();\n&gt;     assertEquals(&quot;Calculation wrong&quot;, 42, processor.getResult());\n&gt; }\n&gt; \n&gt; In this example, I&#39;m not really interested that the calculate() method\n&gt; might throw an exception, I&#39;m only testing the result for this test\n&gt; case. However, if something does go wrong, JUnit will very elegantly\n&gt; handle the exception and report the exact location of the source of the\n&gt; exception. CruiseControl will display the entire stack trace. Eclipse\n&gt; will even let me click on the JUnit view to bring up the exact source\n&gt; code (I imagine other IDEs are the same?). This is exactly what I want,\n&gt; as it helps me get to the source of the problem without any extra\n&gt; effort.\n&gt; \n&gt; However, if I insist on catching the exception just so I can fail the\n&gt; unit test, the test becomes twice as complex, and I no longer get the\n&gt; stack trace unless I explicitly log it somewhere. The above example now\n&gt; becomes:\n&gt; \n&gt; public void testCalculation() {\n&gt;     try {\n&gt;         processer.calculate();\n&gt;         assertEquals(&quot;Calculation wrong&quot;, 42, processor.getResult());\n&gt;     }\n&gt;     catch(CalculationException ex) {\n&gt;         fail(&quot;Calculation caused exception&quot;);\n&gt;     }\n&gt; }\n\nYou&#39;re right in stating that for unexpected exceptions, it&#39;s foolish and \noverly verbose to use a try/catch where the catch clause calls fail. \nIt&#39;s pointless. My original comment was that the try { fail(); } catch { \npass(); } construct is used only for testing /expected/ exceptions:\n\n   public void test_ArrayList_negativeSize() {\n     try {\n       new java.util.ArrayList(-99);\n       fail(&quot;Should reject a negative initial capacity&quot;);\n     } catch (IllegalArgumentException iax) {\n       pass();  // i.e. assertTrue(true)\n     }\n   }\n\n", 
    "profile": "tibbettj_at_verdi_sra_com", 
    "topicId": 16150, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 224061497, 
    "prevInTime": 16244, 
    "contentTrasformed": false, 
    "postDate": "1141312889", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 16241, 
    "headers": {
        "inReplyToHeader": "PDExNDA4MTU3MDQuMTI2NzMuMTEyLmNhbWVsQHNpcml1cz4=", 
        "messageIdInHeader": "PDQ0MDcwRDc5LjgwMjA2MDJAdmVyZGkuaWlzZC5zcmEuY29tPg==", 
        "referencesHeader": "PGR0aWc2bSs1ODdlQGVHcm91cHMuY29tPiAgPDQzRkYyRkJFLjYwMDA3MDJAdmVyZGkuaWlzZC5zcmEuY29tPiA8MTE0MDgxNTcwNC4xMjY3My4xMTIuY2FtZWxAc2lyaXVzPg=="
    }
}