{
    "numMessagesInTopic": 2, 
    "nextInTime": 16349, 
    "senderId": "JX61xJNP5Z2xY0N16S2XmsQdbyv0l7YrrBjVwdw19nbcjnwgBCXQCfgOlwuFRsi-8vqS_1o_5-IhTG0a7DHawxoi2RWyzyHViA", 
    "systemMessage": false, 
    "subject": "Re: [junit] How to wait till all threads done their work in  ant-junit ?", 
    "from": "&quot;Neil Swingler&quot; &lt;neil@...&gt;", 
    "authorName": "Neil Swingler", 
    "msgSnippet": "... Well you could synchronize with the event thread by calling SwingUtilities.invokeAndWait from your test thread. This will ensure any pending swing jobs are", 
    "msgId": 16348, 
    "rawEmail": "Return-Path: &lt;neil@serv01&gt;\r\nX-Sender: neil@serv01\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 31707 invoked from network); 17 Mar 2006 15:41:07 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m35.grp.scd.yahoo.com with QMQP; 17 Mar 2006 15:41:07 -0000\r\nReceived: from unknown (HELO serv01.swingler.ch) (217.162.53.43)\n  by mta6.grp.scd.yahoo.com with SMTP; 17 Mar 2006 15:41:07 -0000\r\nReceived: by serv01.swingler.ch (Postfix, from userid 1000)\n\tid D73C920DB3; Fri, 17 Mar 2006 16:41:18 +0100 (CET)\r\nReferences: &lt;665493b50603082327y12eb67a6u@...&gt;\r\nIn-Reply-To: &lt;665493b50603082327y12eb67a6u@...&gt;\r\nTo: junit@yahoogroups.com\r\nDate: Fri, 17 Mar 2006 16:41:18 +0100\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;utf-8&quot;; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nMessage-Id: &lt;20060317154118.D73C920DB3@...&gt;\r\nX-eGroups-Msg-Info: 2:12:4:0\r\nFrom: &quot;Neil Swingler&quot; &lt;neil@...&gt;\r\nSubject: Re: [junit] How to wait till all threads done their work in\n  ant-junit ?\r\nX-Yahoo-Group-Post: member; u=230174996; y=kN1j2B5AthKMabIvwX6UdsgF-CNnmW7qKZVj7opvurkZssS1X52Q0A\r\nX-Yahoo-Profile: neil_swingler\r\n\r\nBart Reader writes: \n\n&gt; We tested the controllers of some views where the longer tasks are executed\n&gt; with swingworker(in a separate thread). For the tests we used Thread.yield()\n&gt; before asserting to wait till these tasks are done. This works fine when it\n&gt; runs in the ide but not when we run the test via the ant junit task. Via ant\n&gt; the currentthread don&#39;t yield long enough and the testing starts before the\n&gt; tasks are done .\n&gt; After some try and error we found that the thread only waits long enough if\n&gt; we put in three times Thread.yield().\n&gt; But it&#39;s not a very elegant solution.\n&gt; Is there an other solution to solve this ? \n&gt; \n\nWell you could synchronize with the event thread by calling \nSwingUtilities.invokeAndWait from your test thread. This will ensure any \npending swing jobs are executed first. \n\nHowever, multithreaded tasts are always a PITA so I would recomend using the \nExecutor class from java.util.concurrent and abstracting the execution of \nyour tasks in that. In my event driven unit tests, I use an immediate \nexecutor to execute my callbacks so that they happen in the same thread. In \nproduction, an executor is used which runs the task on the AWT event thread \nusing invokeLater. \n\n - Neil\n\n", 
    "profile": "neil_swingler", 
    "topicId": 16336, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 230174996, 
    "prevInTime": 16347, 
    "contentTrasformed": false, 
    "postDate": "1142610078", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 16336, 
    "headers": {
        "inReplyToHeader": "PDY2NTQ5M2I1MDYwMzA4MjMyN3kxMmViNjdhNnVAbWFpbC5nbWFpbC5jb20+", 
        "messageIdInHeader": "PDIwMDYwMzE3MTU0MTE4LkQ3M0M5MjBEQjNAc2VydjAxLnN3aW5nbGVyLmNoPg==", 
        "referencesHeader": "PDY2NTQ5M2I1MDYwMzA4MjMyN3kxMmViNjdhNnVAbWFpbC5nbWFpbC5jb20+"
    }
}