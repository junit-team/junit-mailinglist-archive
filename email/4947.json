{
    "numMessagesInTopic": 11, 
    "nextInTime": 4948, 
    "senderId": "3ojYqCJORyn6rDYVLGeCPtw0Vi8OrS-Ncx_pcFDtfYaMeBeMojnb37DSAcHsvA45BXOVvATg3G07RbXSjry_7U5EsupDxDnuLQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] No assertEquals(double, double)?", 
    "from": "&quot;Alexander Zynevich&quot; &lt;java@...&gt;", 
    "authorName": "Alexander Zynevich", 
    "msgSnippet": "It is all sounds good. But.... Sometimes, writing complicated math. classes, it is important to distinguish sign of zero. +0.0 and -0.0 are different a bit,", 
    "msgId": 4947, 
    "topicId": 4941, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 106886324, 
    "messageBody": "<div id=\"ygrps-yiv-1215325665\">It is all sounds good. But....<br/>\n<br/>\nSometimes, writing complicated math. classes, it is important to distinguish<br/>\nsign of zero. +0.0 and -0.0 are different a bit, for example they cause<br/>\ndifferent sign of infinity at f(x)=1.0/x ... it may have sense to have<br/>\nmethod that will compare doubles including this neat place.<br/>\n<br/>\nfor example max(-0.0,+0.0) should return +0.0 if I test my own realizaton of<br/>\nmax I will want to distinguish them :) it is not possible with &quot;delta&quot; :)<br/>\nmore over it is not possible with &quot;==&quot; because (+0.0)==(-0.0), sign of zero<br/>\nplay role only in / and some functions in java.lang.Math<br/>\n<br/>\nI prefer there was special assert for that situations<br/>\n<br/>\n<blockquote><span title=\"qreply\"> ----- Original Message -----<br/>\nFrom: &quot;J. B. Rainsberger&quot; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:jbr@...\">jbr@...</a>&gt;<br/>\nTo: &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>&gt;<br/>\nSent: Saturday, May 11, 2002 10:28 PM<br/>\nSubject: RE: [junit] No assertEquals(double, double)?<br/>\n<br/>\n<br/>\n&gt; On 2002-05-11 at 11:44 Berin Loritsch wrote:<br/>\n&gt;<br/>\n&gt; &gt;&gt; From: Mike Clark [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:mike@...\">mike@...</a>]<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; Berin Loritsch wrote:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; &gt;I was writing a testcase, and realized that with all the assertion<br/>\n&gt; &gt;&gt; &gt;methods in junit.framework.Assert, there is no assertEquals(double,<br/>\n&gt;<br/>\n&gt; &gt;&gt; &gt;double). There<br/>\n&gt; &gt;&gt; &gt;are versions for integers, longs, shorts, chars, Obejcts,<br/>\n&gt; &gt;&gt; etc.  Is this<br/>\n&gt; &gt;&gt; &gt;just<br/>\n&gt; &gt;&gt; &gt;an oversight?<br/>\n&gt; &gt;&gt; &gt;<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt; It&#39;s in there as:<br/>\n&gt; &gt;&gt;<br/>\n&gt; &gt;&gt;     assertEquals(double expected, double actual, double delta);<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;Ah!<br/>\n&gt; &gt;<br/>\n&gt; &gt;I was wanting to use it like:<br/>\n&gt; &gt;<br/>\n&gt; &gt;      assertEquals(double expected, double actual);<br/>\n&gt;<br/>\n&gt; Floating-point are messed up. The above method makes a claim about<br/>\n&gt; precision that Java can&#39;t live up to. In the spirit of not promising<br/>\n&gt; more than you can deliver, it&#39;s best not to use such a method. You can<br/>\n&gt; always use a tolerance of 0, but be aware that it&#39;s not necessarily a<br/>\n&gt; good idea.<br/>\n&gt;<br/>\n&gt; Oh, and if you&#39;re not doing calculations with the double values, then<br/>\n&gt; why are they doubles? A BigDecimal has the added advantage of not<br/>\n&gt; succumbing to the same precision problems. Maybe even a String would<br/>\n&gt; do. (I hate having to hack around the language&#39;s inadequacies, but it&#39;s<br/>\n&gt; a living.)<br/>\n&gt;<br/>\n&gt; &gt;Or would that be assertSame()?<br/>\n&gt;<br/>\n&gt; That&#39;s only for Object identity: true if two Objects are the same part<br/>\n&gt; of memory; false otherwise.<br/>\n&gt;<br/>\n&gt; &gt;The thing is I was testing to see if the value I put into a class was<br/>\n&gt; &gt;the same I got out of a class.  There were no calculations at this<br/>\n&gt; &gt;point,<br/>\n&gt; &gt;where we would need to worry about the &quot;delta&quot; or +/- uncertainty.<br/>\n&gt;<br/>\n&gt; Then a delta of 0 would be fine. It makes it clear that you&#39;re not<br/>\n&gt; expecting rounding errors to enter into the mix. That communicates<br/>\n&gt; something useful.<br/>\n&gt;<br/>\n&gt; &gt;BTW, is there something where we can easily test asymetrical<br/>\n&gt; &gt;uncertainties?<br/>\n&gt; &gt;You know, something along the lines of +.5/-.1 ?<br/>\n&gt;<br/>\n&gt; Not built in to JUnit, but it&#39;s easy enough to build...<br/>\n&gt;<br/>\n&gt; assertWithinRange(final double expected, final double actual, final<br/>\n&gt; double upperTolerance, final double lowerTolerance) {<br/>\n&gt;     assertTrue( actual &gt;= expected - lowerTolerance && actual &lt;=<br/>\n&gt; expected + upperTolerance);<br/>\n&gt; }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; J. B. Rainsberger,<br/>\n&gt; President, Diaspar Software Services<br/>\n&gt; Let&#39;s write software that people understand.<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com/\">http://www.diasparsoftware.com/</a><br/>\n&gt; telephone: +1 416 791-8603<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 4946, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1021155467", 
    "canDelete": false, 
    "nextInTopic": 4948, 
    "prevInTopic": 4946, 
    "headers": {
        "messageIdInHeader": "PDAwM2UwMWMxZjkzOSRiMWQwODc1MCRhOGQwOWVjMkB6eW5ldmljaD4=", 
        "referencesHeader": "PDAwMTkwMWMxZjkwMiRiOTg4NDE5MCQxYjE3OWZhY0BHYWJyaWVsPiA8MjAwMjA1MTExNTI4MjMwNDk2LjFBODY3RkQ4QHNtdHAxLnN5bXBhdGljby5jYT4="
    }
}