{
    "numMessagesInTopic": 9, 
    "nextInTime": 6025, 
    "senderId": "s5AukSm21e0ifb27ZSLHyuM31jtADuSWrecITXU5M2D63h86Y2qxXM9-xGZZ2xqO2iBk-4AefKzB-OkWxBo6OlKNMTykGHDqkgI", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Tradeoff btw. right design and performance", 
    "from": "Shane Celis &lt;shane@...&gt;", 
    "authorName": "Shane Celis", 
    "msgSnippet": "... If you want to keep the existing interface and continue to have the class instantiate the reader, maybe you ought to use a factory.  That way you could", 
    "msgId": 6024, 
    "topicId": 6005, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 76541257, 
    "messageBody": "<div id=\"ygrps-yiv-1494680497\">On Tuesday, October 22, 2002, at 05:13 AM, Rytrom wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; --- In junit@y..., &quot;J. B. Rainsberger&quot; &lt;jbr@d...&gt; wrote:<br/>\n&gt;&gt;&gt; Should I test the one big public function<br/>\n&gt;&gt;&gt; (that actually inside merely calls several small functions)?<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; Let me make up an example:<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; public void buildReport(ReportSpec spec, OutputStream out) {<br/>\n&gt;&gt;&gt;  init(spec);<br/>\n&gt;&gt;&gt;  ResultSet rec = reader.execute(spec);<br/>\n&gt;&gt;&gt;  composeData(rec, spec, out);<br/>\n&gt;&gt;&gt;  reader.close();<br/>\n&gt;&gt;&gt; }<br/>\n&gt;&gt;&gt;<br/>\n&gt;&gt;&gt; look at this snippet as at an logical example. I wrote an own test<br/>\n&gt;&gt;&gt; for  each of internal functions by using MockObjects (if needed)<br/>\n&gt; but<br/>\n&gt;&gt;&gt; should I test buildReport function? It seems to me I&#39;m just not<br/>\n&gt; able<br/>\n&gt;&gt;&gt; to.<br/>\n&gt;&gt;<br/>\n&gt;&gt; Certainly, test it. One question: where does &#39;reader&#39; come from? Is<br/>\n&gt; it<br/>\n&gt;&gt; a parameter to the constructor? If so, then you can easily mock all<br/>\n&gt;&gt; those objects.<br/>\n&gt;<br/>\n&gt; That&#39;s the core of my question. A reader is being initialized from<br/>\n&gt; inside the function. I think that whichever decoupling of<br/>\n&gt; component/classes/functions I do still at a some point one of<br/>\n&gt; functions has to call the decoupled parts. In the production code I<br/>\n&gt; can&#39;t use mocks that deduces that there are functions which can&#39;t be<br/>\n&gt; tested (at least on UnitTest level).<br/>\n&gt; In my example buildReport knows how to create and init the reader and<br/>\n&gt; it only has connecting logic (how, when and which functions to call).<br/>\n&gt; I&#39;ve tested each of them already.<br/>\n<br/>\n </span></blockquote>If you want to keep the existing interface and continue to have the <br/>\nclass instantiate the reader, maybe you ought to use a factory.  That <br/>\nway you could interpose your mock reader class in the factory, thereby <br/>\npreserving your current interface but making it testable.<br/>\n<br/>\n-shane</div>", 
    "prevInTime": 6023, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1035313885", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 6023, 
    "headers": {
        "inReplyToHeader": "PGFwM2Zjcys0OTgyQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDBGNDFDMDExLUU1RjItMTFENi04ODMxLTAwMzA2NUY5QTgwRUB0ZXJyYXNwcmluZy5jb20+"
    }
}