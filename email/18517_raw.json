{
    "numMessagesInTopic": 4, 
    "nextInTime": 18518, 
    "senderId": "Dl3_YzVmR8N0GSzJGE2HSr_XjoZ7o-LwpfI7eQZMuiXPf6LAMO57Fy10lZQ6BI_xQ6feonp_x3f6URW_fbTclzfn1KcPdQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] Really Strange Behavior", 
    "from": "Ole Ersoy &lt;ole_ersoy@...&gt;", 
    "authorName": "Ole Ersoy", 
    "msgSnippet": "Hi David, Thanks for the debug tip.  I ll keep that in mind next time. I just posted back to Bjorn s reply. I tested moving resourceSet =", 
    "msgId": 18517, 
    "rawEmail": "Return-Path: &lt;ole_ersoy@...&gt;\r\nReceived: (qmail 88751 invoked from network); 7 Dec 2006 16:55:50 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m30.grp.scd.yahoo.com with QMQP; 7 Dec 2006 16:55:50 -0000\r\nReceived: from unknown (HELO n16c.bullet.sp1.yahoo.com) (69.147.64.123)\n  by mta7.grp.scd.yahoo.com with SMTP; 7 Dec 2006 16:55:50 -0000\r\nReceived: from [216.252.122.217] by n16.bullet.sp1.yahoo.com with NNFMP; 07 Dec 2006 16:54:41 -0000\r\nReceived: from [66.218.69.6] by t2.bullet.sp1.yahoo.com with NNFMP; 07 Dec 2006 16:54:41 -0000\r\nReceived: from [66.218.66.70] by t6.bullet.scd.yahoo.com with NNFMP; 07 Dec 2006 16:54:41 -0000\r\nX-Sender: ole_ersoy@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 60137 invoked from network); 7 Dec 2006 16:04:35 -0000\r\nReceived: from unknown (66.218.67.35)\n  by m36.grp.scd.yahoo.com with QMQP; 7 Dec 2006 16:04:35 -0000\r\nReceived: from unknown (HELO web60717.mail.yahoo.com) (209.73.178.205)\n  by mta9.grp.scd.yahoo.com with SMTP; 7 Dec 2006 16:04:34 -0000\r\nReceived: (qmail 3289 invoked by uid 60001); 7 Dec 2006 16:04:17 -0000\r\nX-YMail-OSG: fONr.r8VM1kOn7VvxpBYwE3dhPAEI743IveEr.oa03qUSk3SBCOIV6pm6j4rvZqQomvHrfZDku5k0vXx4rAxZfVE954KZ2DhicGTMJWqSDYSL8ZL0z5pV1A_sigBuDvhkZzYH71oBYUXoglvYa5nJwzpNqVLT3It5hoK6ZD9jxOtYzA9EOEdvntRL9P9RacD3qDGt0nGsq6hGF._\r\nReceived: from [24.13.179.233] by web60717.mail.yahoo.com via HTTP; Thu, 07 Dec 2006 08:04:17 PST\r\nDate: Thu, 7 Dec 2006 08:04:17 -0800 (PST)\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;4f7da6b90612070725p7614156aib78cecafcf244bba@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=iso-8859-1\r\nContent-Transfer-Encoding: 8bit\r\nMessage-ID: &lt;636642.2809.qm@...&gt;\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: Ole Ersoy &lt;ole_ersoy@...&gt;\r\nSubject: Re: [junit] Really Strange Behavior\r\nX-Yahoo-Group-Post: member; u=98908154; y=kAQZmA9pC12xrj96ux1BwfQL1ErtxpIQ59ydhrrjiGixIbRh\r\nX-Yahoo-Profile: ole_ersoy\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: shanemingins &lt;shane.mingins@...&gt; via web; 07 Dec 2006 16:54:40 -0000\r\n\r\nHi David,\n\nThanks for the debug tip.  I&#39;ll keep that in mind next\ntime.\n\nI just posted back to Bjorn&#39;s reply.\n\nI tested moving resourceSet = ...createResourceSet()\ninto each test, using several repeated repeated\ninstances of the same test method, and JUnit is happy.\n\nThanks again,\n- Ole\n\n \n--- David Saff &lt;saff@...&gt; wrote:\n\n&gt; The only thing I can think of is that one effect of\n&gt; adding the second\n&gt; test method is to call your setUp method twice.  If\n&gt; you leave it with\n&gt; one test method, but duplicate all the calls in the\n&gt; setUp method, do\n&gt; you get the same error?  If so, you&#39;re on your way.\n&gt; \n&gt;    David Saff\n&gt; \n&gt; On 12/6/06, Ole Ersoy &lt;ole_ersoy@...&gt; wrote:\n&gt; &gt; Hey Guys,\n&gt; &gt;\n&gt; &gt; I&#39;m testing a method.\n&gt; &gt;\n&gt; &gt; When I have the method by itself it tests fine.\n&gt; &gt;\n&gt; &gt; When I put another test in front of it like this:\n&gt; &gt;         public void testCreateResourceSet()\n&gt; &gt;         {\n&gt; &gt;                 //Stub\n&gt; &gt;                 assertTrue(true);\n&gt; &gt;         }\n&gt; &gt;\n&gt; &gt; I get an exception like this:\n&gt; &gt; java.lang.ExceptionInInitializerError\n&gt; &gt;         at\n&gt; &gt;\n&gt;\norg.eclipse.emf.ecore.xml.type.impl.AnyTypeImpl.eStaticClass(AnyTypeImpl.java:83)\n&gt; &gt;         at\n&gt; &gt;\n&gt;\norg.eclipse.emf.ecore.impl.EObjectImpl.eClass(EObjectImpl.java:210)\n&gt; &gt;\n&gt; &gt; ....\n&gt; &gt;\n&gt; &gt; I also get the same exception when testing with\n&gt; Maven,\n&gt; &gt; so I know it is localized to JUnit.\n&gt; &gt;\n&gt; &gt; Has anyone else seen behavior like this?\n&gt; &gt;\n&gt; &gt; I&#39;ll paste the full test case below, in case\n&gt; anyone\n&gt; &gt; wants to look at it further.\n&gt; &gt;\n&gt; &gt; Cheers,\n&gt; &gt; - Ole\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; package org.jpackage.test;\n&gt; &gt;\n&gt; &gt; import java.io.File;\n&gt; &gt; import java.io.IOException;\n&gt; &gt;\n&gt; &gt; import org.apache.maven.artifact.Artifact;\n&gt; &gt; import\n&gt; &gt; org.apache.maven.artifact.factory.ArtifactFactory;\n&gt; &gt; import\n&gt; &gt;\n&gt;\norg.apache.maven.artifact.repository.ArtifactRepository;\n&gt; &gt; import\n&gt; &gt;\n&gt;\norg.apache.maven.artifact.repository.layout.DefaultRepositoryLayout;\n&gt; &gt; import\n&gt; &gt;\n&gt;\norg.apache.maven.artifact.repository.layout.ArtifactRepositoryLayout;\n&gt; &gt; import\n&gt; org.apache.maven.plugin.MojoExecutionException;\n&gt; &gt; import\n&gt; &gt;\n&gt;\norg.apache.maven.plugin.testing.AbstractMojoTestCase;\n&gt; &gt; import org.eclipse.emf.common.util.URI;\n&gt; &gt; import org.eclipse.emf.ecore.resource.Resource;\n&gt; &gt; import org.eclipse.emf.ecore.resource.ResourceSet;\n&gt; &gt; import\n&gt; org.jpackage.impl.JPackageMojoHelperBufferImpl;\n&gt; &gt; import org.jpackage.impl.JPackageMojoImpl;\n&gt; &gt; import org.jpackage.JPackageMojoConstants;\n&gt; &gt; import org.jpackage.impl.JPackageMojoHelperImpl;\n&gt; &gt;\n&gt; &gt; import\n&gt; &gt; com.pyramidetechnologies.emf.utils.EMFUtilities;\n&gt; &gt;\n&gt; &gt; public class JPackageMojoHelperTest extends\n&gt; &gt; AbstractMojoTestCase implements\n&gt; JPackageMojoConstants\n&gt; &gt; {\n&gt; &gt;\n&gt; &gt;         private JPackageMojoImpl mojo = null;\n&gt; &gt;         private ArtifactRepository\n&gt; artifactRepository = null;\n&gt; &gt;         private ResourceSet resourceSet = null;\n&gt; &gt;\n&gt; &gt;         protected void setUp() throws Exception {\n&gt; &gt;\n&gt; &gt;                 // required for mojo lookups to\n&gt; work\n&gt; &gt;                 super.setUp();\n&gt; &gt;\n&gt; &gt;                 File pluginXml = new\n&gt; File(getBasedir(),\n&gt; &gt;                                \n&gt; &quot;src/test/resources/plugin-config.xml&quot;);\n&gt; &gt;                 mojo = (JPackageMojoImpl)\n&gt; lookupMojo(\n&gt; &gt;                                 &quot;xml2spec.mojo&quot;,\n&gt; &gt;                                 &quot;org.jpackage&quot;,\n&gt; &gt;                                 &quot;1.0-SNAPSHOT&quot;,\n&gt; &gt;                                 &quot;generate&quot;,\n&gt; &gt;                                 pluginXml,\n&gt; &gt;                                 false);\n&gt; &gt;\n&gt; &gt;                 resourceSet =\n&gt; &gt; JPackageMojoHelperImpl.createResourceSet();\n&gt; &gt;         }\n&gt; &gt;\n&gt; &gt;         public void testCreateResourceSet()\n&gt; &gt;         {\n&gt; &gt;                 //Stub\n&gt; &gt;                 assertTrue(true);\n&gt; &gt;         }\n&gt; &gt;\n&gt; &gt;         public void testLoadPomResource() throws\n&gt; &gt; MojoExecutionException\n&gt; &gt;         {\n&gt; &gt;                 String artifactId =\n&gt; &quot;apacheds-server-main&quot;;\n&gt; &gt;                 String groupId =\n&gt; &quot;org.apache.directory.server&quot;;\n&gt; &gt;                 String version = &quot;1.5.0-SNAPSHOT&quot;;\n&gt; &gt;\n&gt; &gt;                 ArtifactFactory artifactFactory =\n&gt; &gt; mojo.getArtifactFactory();\n&gt; &gt;                 assertNotNull(artifactFactory);\n&gt; &gt;\n&gt; &gt;                 Artifact pomArtifact =\n&gt; &gt; artifactFactory.createArtifact(groupId,\n&gt; artifactId,\n&gt; &gt;                                 version, null,\n&gt; &quot;pom&quot;);\n&gt; &gt;                 assertNotNull(pomArtifact);\n&gt; &gt;\n&gt; &gt;                 String path = pathOf(pomArtifact);\n&gt; &gt;                 File file = new File(path);\n&gt; &gt;                 assertTrue(file.exists());\n&gt; &gt;\n&gt; &gt;                 pomArtifact.setFile(file);\n&gt; &gt;\n&gt; &gt;                 Resource resource = null;\n&gt; &gt;                 resource =\n&gt; &gt;\n&gt; JPackageMojoHelperImpl.loadPomResource(pomArtifact,\n&gt; &gt; resourceSet);\n&gt; &gt;\n&gt; &gt;                 assertNotNull(resource);\n&gt; &gt;         }\n&gt; &gt;\n&gt; &gt;         private static String pathOf(Artifact\n&gt; artifact)\n&gt; &gt;         {\n&gt; &gt;                 ArtifactRepositoryLayout\n&gt; artifactRepositoryLayout =\n&gt; &gt; new DefaultRepositoryLayout();\n&gt; &gt;                 String artifactPath =\n&gt; &gt; artifactRepositoryLayout.pathOf(artifact);\n&gt; &gt;                 return REPOSITORY_BASE_DIRECTORY +\n&gt; artifactPath;\n&gt; &gt;         }\n&gt; &gt;\n&gt; &gt;         private static String\n&gt; REPOSITORY_BASE_DIRECTORY =\n&gt; &gt; &quot;/home/ole/.m2/repository/&quot;;\n&gt; &gt;\n&gt; &gt; }\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n____________________________________________________________________________________\n&gt; &gt; Cheap talk?\n&gt; &gt; Check out Yahoo! Messenger&#39;s low PC-to-Phone call\n&gt; rates.\n&gt; &gt; http://voice.yahoo.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; \n\n\n\n \n____________________________________________________________________________________\nDo you Yahoo!?\nEveryone is raving about the all-new Yahoo! Mail beta.\nhttp://new.mail.yahoo.com\n\n", 
    "profile": "ole_ersoy", 
    "topicId": 18510, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 98908154, 
    "prevInTime": 18516, 
    "contentTrasformed": false, 
    "postDate": "1165507457", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 18516, 
    "headers": {
        "inReplyToHeader": "PDRmN2RhNmI5MDYxMjA3MDcyNXA3NjE0MTU2YWliNzhjZWNhZmNmMjQ0YmJhQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDYzNjY0Mi4yODA5LnFtQHdlYjYwNzE3Lm1haWwueWFob28uY29tPg=="
    }
}