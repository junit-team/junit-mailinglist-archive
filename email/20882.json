{
    "numMessagesInTopic": 7, 
    "nextInTime": 20883, 
    "senderId": "ECksbpvsX3LxOO21LR-Lb4U9UykF-ZwoL-LXRNiMDVjzwpNmfnU7_BN0MjaTimoyODNgpENnqpQxAlK4ycPztm18lUk", 
    "systemMessage": false, 
    "subject": "RE: [junit] name of the test", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "Idan, It isn t clean, but the attached code should do what you want. The name is set just before the test is run, so it isn t available in @Before but it is in", 
    "msgId": 20882, 
    "profile": "kentlbeck", 
    "topicId": 20860, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-387813555\">Idan,<br/>\n <br/>\nIt isn&#39;t clean, but the attached code should do what you want. The name is<br/>\nset just before the test is run, so it isn&#39;t available in @Before but it is<br/>\nin @After. The difficulty and trickiness in doing this points to a weakness<br/>\nin the architecture, but I don&#39;t see my way through to something clean yet.<br/>\nMake a mess, then clean it up, I suppose.<br/>\n <br/>\nCheers,<br/>\n <br/>\nKent Beck<br/>\nThree Rivers Institute<br/>\n <br/>\npublic class SetNameTest {<br/>\n<br/>\n    public interface Nameable {<br/>\n<br/>\n        public String getName();<br/>\n<br/>\n        public void setName(String name);<br/>\n<br/>\n    }<br/>\n<br/>\n    public static class NamingRunner extends BlockJUnit4ClassRunner {<br/>\n<br/>\n        public NamingRunner(Class&lt; ? &gt; klass) throws InitializationError {<br/>\n<br/>\n            super(klass);<br/>\n<br/>\n        }<br/>\n<br/>\n    @Override<br/>\n<br/>\n        protected Statement methodInvoker(FrameworkMethod method, Object<br/>\ntest) {<br/>\n<br/>\n            Nameable namedTest= (Nameable) test;<br/>\n<br/>\n            namedTest.setName(method.getName());<br/>\n<br/>\n            return super.methodInvoker(method, test);<br/>\n<br/>\n        }<br/>\n<br/>\n    }<br/>\n<br/>\n    @RunWith(NamingRunner.class)<br/>\n<br/>\n    public static class NameShouldBeSet implements Nameable {<br/>\n<br/>\n        private String fName;<br/>\n<br/>\n        @Test<br/>\n<br/>\n        public void assertNameIsSet() {<br/>\n<br/>\n            assertEquals(&quot;assertNameIsSet&quot;, getName());<br/>\n<br/>\n        }<br/>\n<br/>\n        public String getName() {<br/>\n<br/>\n            return fName;<br/>\n<br/>\n        }<br/>\n<br/>\n        public void setName(String name) {<br/>\n<br/>\n            fName= name;<br/>\n<br/>\n        }<br/>\n<br/>\n    }<br/>\n<br/>\n    @Test<br/>\n<br/>\n    public void runWithSetNameRunnerAndNameIsSet() {<br/>\n<br/>\n        JUnitCore.runClasses(NameShouldBeSet.class);<br/>\n<br/>\n    }<br/>\n<br/>\n    public static class MyNameShouldBeSet extends NameShouldBeSet {<br/>\n<br/>\n        @Test public void nameShouldBeSetHereToo() {<br/>\n<br/>\n            assertEquals(&quot;nameShouldBeSetHereToo&quot;, getName());<br/>\n<br/>\n        }<br/>\n<br/>\n    }<br/>\n<br/>\n    @Test<br/>\n<br/>\n    public void runWithIsInherited() {<br/>\n<br/>\n        JUnitCore.runClasses(MyNameShouldBeSet.class);<br/>\n<br/>\n    }<br/>\n<br/>\n}<br/>\n<br/>\n<br/>\n  _____  <br/>\n<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\nidan72<br/>\nSent: Thursday, September 11, 2008 12:50 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: RE: [junit] name of the test<br/>\n<br/>\n<br/>\n<br/>\n<br/>\nHi,<br/>\n<br/>\nJust to be clear I need to know the name of test in the after method not in<br/>\nthe listener.<br/>\nWe are running many tests from different classes and we want to split the<br/>\nlogs for each test to different file.<br/>\nFor this we need to know that @BeforeClass or @AfterClass is called.<br/>\nWe also want to make several operation at the end of each test.<br/>\nEach test class is extend of general class that containg after test method.<br/>\nWe need to know in this method what is name of the test method.<br/>\n<br/>\nWhat is the not standard way to achive this ?<br/>\nYou said that a change may be soon.Can you tell when ?<br/>\n<br/>\nThanks<br/>\nIdan<br/>\n<br/>\nkentb wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; <br/>\n&gt; In JUnit 3 finding the test name was easy, just look at fName. In JUnit 4<br/>\n&gt; there is not standard way to find out. The listener does know which test<br/>\n&gt; is<br/>\n&gt; running, via the Description.<br/>\n&gt; <br/>\n&gt; The listener is not notified when calling @Before and @After methods, but<br/>\n&gt; this may change because I&#39;ve been wishing to be notified as part of my<br/>\n&gt; data<br/>\n&gt; gathering efforts.<br/>\n&gt; <br/>\n&gt; I&#39;m curious what problem you are solving.<br/>\n&gt; <br/>\n&gt; Regards,<br/>\n&gt; <br/>\n&gt; Kent Beck<br/>\n&gt; Three Rivers Institute<br/>\n&gt; <br/>\n&gt; _____ <br/>\n&gt; <br/>\n&gt; From: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com<br/>\n </span></blockquote>[mailto:junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com] On Behalf<br/>\nOf<br/>\n<blockquote><span title=\"ireply\"> &gt; idan72<br/>\n&gt; Sent: Wednesday, September 10, 2008 7:29 AM<br/>\n&gt; To: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com<br/>\n&gt; Subject: [junit] name of the test<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Hi,<br/>\n&gt; <br/>\n&gt; 1. How can I know in the before/after test method what is the test being<br/>\n&gt; running ?<br/>\n&gt; 2. How Can I know using listener that before/after class method is being<br/>\n&gt; called?<br/>\n&gt; <br/>\n&gt; Thanks<br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; View this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble\">http://www.nabble</a><br/>\n&gt; &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble\">http://www.nabble</a><br/>\n </span></blockquote>&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/name-of-the-test-tp19414586p19414586.html\">http://www.nabble.com/name-of-the-test-tp19414586p19414586.html</a>&gt;<br/>\ncom/name-of-the-test-tp19414586p19414586.html&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt; com/name-of-the-test-tp19414586p19414586.html<br/>\n&gt; Sent from the JUnit - User mailing list archive at Nabble.com.<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n </span></blockquote>-- <br/>\nView this message in context: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble\">http://www.nabble</a><br/>\n&lt;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nabble.com/name-of-the-test-tp19414586p19429620.html\">http://www.nabble.com/name-of-the-test-tp19414586p19429620.html</a>&gt;<br/>\ncom/name-of-the-test-tp19414586p19429620.html<br/>\nSent from the JUnit - User mailing list archive at Nabble.com.<br/>\n<br/>\n<br/>\n<br/>\n <br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 20881, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1221579188", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 20881, 
    "headers": {
        "inReplyToHeader": "PDE5NDI5NjIwLnBvc3RAdGFsay5uYWJibGUuY29tPg==", 
        "messageIdInHeader": "PDUzQjNCNUIwRDVGQzRCNzQ4RjE4QzYyMkYxQjczNDRGQGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PDE5NDE0NTg2LnBvc3RAdGFsay5uYWJibGUuY29tPiA8ODk1QzUyRUZEQjJGNEJDRDlENDBERjNCNjZFOUNBMThAa2VudHNwYXZpbGlvbj4gPDE5NDI5NjIwLnBvc3RAdGFsay5uYWJibGUuY29tPg=="
    }
}