{
    "numMessagesInTopic": 4, 
    "nextInTime": 22755, 
    "senderId": "sA1HyGvuSse7XREYuI7Fr-VOFXRZJsDcY82R-Lwo9BW6giFspnfc-Liq6uCYQj22JnzhNLEyr-yV9l0kumVzXHPRj2y1Hnqh6PdEdjE", 
    "systemMessage": true, 
    "subject": "jUnit4 Expectation and Assertation with jMock2", 
    "from": "&quot;raja_s_patil&quot; &lt;kpr.rspatil@...&gt;", 
    "authorName": "raja_s_patil", 
    "msgSnippet": "Hi, I am new to java and doing my first project. The testcase is as given below, but the snippet where i need help is @Test(expected =", 
    "msgId": 22754, 
    "rawEmail": "Return-Path: &lt;kpr.rspatil@...&gt;\r\nReceived: (qmail 81672 invoked from network); 12 Jun 2010 06:13:19 -0000\r\nReceived: from unknown (98.137.34.45)\n  by m10.grp.re1.yahoo.com with QMQP; 12 Jun 2010 06:13:19 -0000\r\nReceived: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta2.grp.sp2.yahoo.com with SMTP; 12 Jun 2010 06:13:19 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=lima; t=1276323199; bh=GCHm4sDpdsAZ16fmPjLjKWzb/WNLZn6xRTYP+fBLdbE=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:Date:To:Message-ID:User-Agent:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:X-Yahoo-Newman-Property:X-Originating-IP:X-eGroups-Msg-Info:X-Yahoo-Post-IP:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:X-YGroups-SubInfo:Sender:X-eGroups-Approved-By:X-eGroups-Auth; b=V4IkAln0goIi2ojnZgqJfUzPiaF1AfwbQFMnmrgZRWqHq09c/Zb8brnpnD95K84B+lIAjCLdavEttP/T1SAGFZDGKGeEp5XQ1jS9ElkEb0Ewfzu0exBWyIhpIk3AKBje\r\nReceived: from [69.147.65.149] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 12 Jun 2010 06:13:19 -0000\r\nReceived: from [98.137.34.33] by t9.bullet.mail.sp1.yahoo.com with NNFMP; 12 Jun 2010 06:13:19 -0000\r\nX-Sender: kpr.rspatil@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 58995 invoked from network); 12 Jun 2010 02:22:41 -0000\r\nX-Received: from unknown (98.137.34.46)\n  by m12.grp.re1.yahoo.com with QMQP; 12 Jun 2010 02:22:41 -0000\r\nX-Received: from unknown (HELO n45b.bullet.mail.sp1.yahoo.com) (66.163.168.159)\n  by mta3.grp.sp2.yahoo.com with SMTP; 12 Jun 2010 02:22:40 -0000\r\nX-Received: from [69.147.65.147] by n45.bullet.mail.sp1.yahoo.com with NNFMP; 12 Jun 2010 02:18:57 -0000\r\nX-Received: from [98.137.34.184] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 12 Jun 2010 02:18:57 -0000\r\nDate: Sat, 12 Jun 2010 02:18:57 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;huuqqh+jphu@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;raja_s_patil&quot; &lt;kpr.rspatil@...&gt;\r\nSubject: jUnit4 Expectation and Assertation with jMock2\r\nX-Yahoo-Group-Post: member; u=248151783; y=g_QlmVRj1-1jgU8PaTyYDjBa-PABqy-J_dcKWA3_vMB6KWddOmyg\r\nX-Yahoo-Profile: raja_s_patil\r\nX-eGroups-Approved-By: copabella &lt;joe@...&gt; via web; 12 Jun 2010 06:13:17 -0000\r\n\r\nHi,\n\nI am new to java and doing my first project.\nThe testcase is as given =\r\nbelow, but the snippet where i need help is\n\n\t@Test(expected =3D java.sql.S=\r\nQLException.class)\n\tpublic void testSetParameter() throws SQLException {\n\n\t=\r\n\tcontext.checking(new Expectations() {\n\t\t\t{\n\t\t\t\toneOf(setter).setString(&quot;T&quot;=\r\n);\n\t\t\t\toneOf(setter).setString(&quot;F&quot;);\n\t\t\t\t}\n\t\t\t});\n\n\t\tboolHandler.setParamet=\r\ner(setter, new Boolean(true));\n\t\tboolHandler.setParameter(setter, new Boole=\r\nan(false));\n\t\tboolHandler.setParameter(setter, null);\n\t\t}\n\nThe test is runn=\r\ning fine and giving me GREEN bar. But I would like to\nshow meaningful messa=\r\nge when any of the above test fails. e.g. if \n\nboolHandler.setParameter(set=\r\nter, new Boolean(false)); is changed to\nboolHandler.setParameter(setter, ne=\r\nw Boolean(true)); then test fails\n\nbut the message is not precisely telling=\r\n why it has failed as \ngetResult is doing. The message is also given below =\r\none has to search in this long message and conclude that setString(&quot;T&quot;) has=\r\n been \ncalled once and it should be setString(&quot;F&quot;) for second time call.\n\nH=\r\now can I indicate a short precise message why test has failed.\n\nThanks and =\r\nregards.\n\n\nRaja\n\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D\npublic class testBoolTypeHandler {\n\n\tprivate Mockery\t\t\t\tcontext;\n\tpriva=\r\nte ResultGetter\t\tgetter;\n\tprivate ParameterSetter\t\tsetter;\n\tprivate boolTyp=\r\neHandlerTF\tboolHandler;\n\tprivate String\t\t\t\ts;\n\n\t@Before\n\tpublic void setUp(=\r\n) throws Exception {\n\n\t\tcontext\t\t=3D new JUnit4Mockery();\n\t\tgetter\t\t=3D con=\r\ntext.mock(ResultGetter.class);\n\t\tsetter\t\t=3D context.mock(ParameterSetter.c=\r\nlass);\n\t\tboolHandler\t=3D new boolTypeHandlerTF();\n\n\t\t}\n\n\t@After\n\tpublic voi=\r\nd tearDown() throws Exception {}\n\n\t@Test(expected =3D java.sql.SQLException=\r\n.class)\n\tpublic void testGetResult() throws SQLException {\n\n\t\tboolean\tresul=\r\nt;\n\n\t\tcontext.checking(new Expectations() {\n\t\t\t{\n\t\t\t\tatLeast(1).of(getter).=\r\ngetString();\n\t\t\t\twill(onConsecutiveCalls(returnValue(&quot;T&quot;), returnValue(&quot;F&quot;)=\r\n, returnValue(&quot; &quot;)\t// , returnValue(&#39;F&#39;)\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t});\n\n\t\tresult\t=\r\n=3D ((Boolean) (boolHandler.getResult(getter))).booleanValue();\n\t\tassertEqu=\r\nals(&quot;getter.getString() =3D=3D &#39;T&#39; &quot;, true, result);\n\n\t\tresult\t=3D (Boolean=\r\n) (boolHandler.getResult(getter));\n\t\tassertEquals(&quot;getter.getString() =3D=\r\n=3D &#39;F&#39; &quot;, false, result);\n\n\t\t// getter.getString() =3D=3D &#39; &#39; Throws Excep=\r\ntion\n\t\tresult\t=3D (Boolean) (boolHandler.getResult(getter));\n\n\t\t}\n\n\t@Test(e=\r\nxpected =3D java.sql.SQLException.class)\n\tpublic void testSetParameter() th=\r\nrows SQLException {\n\n\t\tcontext.checking(new Expectations() {\n\t\t\t{\n\t\t\t\toneOf=\r\n(setter).setString(&quot;T&quot;);\n\t\t\t\toneOf(setter).setString(&quot;F&quot;);\n\t\t\t\t}\n\t\t\t});\n\n\t\t=\r\nboolHandler.setParameter(setter, new Boolean(true));\n\t\tboolHandler.setParam=\r\neter(setter, new Boolean(false));\n\t\tboolHandler.setParameter(setter, null);=\r\n\n\t\t}\n\n\t/**\n\t *\n\t * @Test\n\t * public void testValueOf() {\n\t *   fail(&quot;Not ye=\r\nt implemented&quot;);\n\t * }\n\t */\n\t}\n\n\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=\r\n=3D=3D=3D=3D=3D=3D\n\n\njava.lang.Exception: Unexpected exception, expected&lt;ja=\r\nva.sql.SQLException&gt; but was&lt;java.lang.AssertionError&gt;\n\tat org.junit.intern=\r\nal.runners.statements.ExpectException.evaluate(ExpectException.java:29)\n\tat=\r\n org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:=\r\n28)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.=\r\njava:31)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4C=\r\nlassRunner.java:73)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(B=\r\nlockJUnit4ClassRunner.java:46)\n\tat org.junit.runners.ParentRunner.runChildr=\r\nen(ParentRunner.java:180)\n\tat org.junit.runners.ParentRunner.access$000(Par=\r\nentRunner.java:41)\n\tat org.junit.runners.ParentRunner$1.evaluate(ParentRunn=\r\ner.java:173)\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(=\r\nRunBefores.java:28)\n\tat org.junit.internal.runners.statements.RunAfters.eva=\r\nluate(RunAfters.java:31)\n\tat org.junit.runners.ParentRunner.run(ParentRunne=\r\nr.java:220)\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.=\r\nrun(JUnit4TestReference.java:46)\n\tat org.eclipse.jdt.internal.junit.runner.=\r\nTestExecution.run(TestExecution.java:38)\n\tat org.eclipse.jdt.internal.junit=\r\n.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n\tat org.eclips=\r\ne.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java=\r\n:683)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(Remote=\r\nTestRunner.java:390)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRu=\r\nnner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.AssertionError: u=\r\nnexpected invocation: parameterSetter.setString(&quot;T&quot;)\nexpectations:\n  expect=\r\ned once, already invoked 1 time: parameterSetter.setString(&quot;T&quot;); returns a =\r\ndefault value\n  expected once, never invoked: parameterSetter.setString(&quot;F&quot;=\r\n); returns a default value\nwhat happened before this:\n  parameterSetter.set=\r\nString(&quot;T&quot;)\n\n\tat org.jmock.internal.InvocationDispatcher.dispatch(Invocatio=\r\nnDispatcher.java:56)\n\tat org.jmock.Mockery.dispatch(Mockery.java:218)\n\tat o=\r\nrg.jmock.Mockery.access$000(Mockery.java:43)\n\tat org.jmock.Mockery$MockObje=\r\nct.invoke(Mockery.java:258)\n\tat org.jmock.internal.InvocationDiverter.invok=\r\ne(InvocationDiverter.java:27)\n\tat org.jmock.internal.FakeObjectMethods.invo=\r\nke(FakeObjectMethods.java:38)\n\tat org.jmock.lib.JavaReflectionImposteriser$=\r\n1.invoke(JavaReflectionImposteriser.java:33)\n\tat $Proxy7.setString(Unknown =\r\nSource)\n\tat com.matrimony.utils.ibatis.boolTypeHandlerTF.setParameter(boolT=\r\nypeHandlerTF.java:45)\n\tat com.matrimony.utils.ibatis.testBoolTypeHandler.te=\r\nstSetParameter(testBoolTypeHandler.java:89)\n\tat sun.reflect.NativeMethodAcc=\r\nessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.i=\r\nnvoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAcc=\r\nessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflec=\r\nt.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMetho=\r\nd$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runne=\r\nrs.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.r=\r\nunners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat=\r\n org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.j=\r\nava:20)\n\tat org.junit.internal.runners.statements.ExpectException.evaluate(=\r\nExpectException.java:22)\n\t... 16 more\n\n\n\n\n", 
    "profile": "raja_s_patil", 
    "topicId": 22754, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 248151783, 
    "prevInTime": 22753, 
    "contentTrasformed": false, 
    "postDate": "1276309137", 
    "canDelete": false, 
    "nextInTopic": 22756, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGh1dXFxaCtqcGh1QGVHcm91cHMuY29tPg=="
    }
}