{
    "numMessagesInTopic": 2, 
    "nextInTime": 23481, 
    "senderId": "aNMUAOCBQKqBUTeKtRkt4H_uV4qtApVPlMSAe-LUZJ5wfnq14JpBrBeOIKmyzVSyI2v4eTNa9_dwYCcPTCAa0cUM", 
    "systemMessage": false, 
    "subject": "Re: [junit] Unable to test creation of XML document", 
    "from": "David Saff &lt;david@...&gt;", 
    "authorName": "David Saff", 
    "msgSnippet": "Mohan, It s been a while since I ve done much with the xerces DOM.  While there may be those here that can answer your question, you may want to also ask on a", 
    "msgId": 23480, 
    "profile": "dsaff", 
    "topicId": 23473, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 341876227, 
    "messageBody": "<div id=\"ygrps-yiv-826103937\">Mohan,<br/>\n<br/>\nIt&#39;s been a while since I&#39;ve done much with the xerces DOM.  While<br/>\nthere may be those here that can answer your question, you may want to<br/>\nalso ask on a list more specific to xerces, since the JUnit<br/>\nenvironment seems to be having little relevance to your results.  Good<br/>\nluck,<br/>\n<br/>\n   David Saff<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Wed, Jun 22, 2011 at 9:28 AM, Mohan &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:javatech@...\">javatech@...</a>&gt; wrote:<br/>\n&gt; I suspect that this could be a mistake in my code or a race condition.<br/>\n&gt;<br/>\n&gt; My test is this. I create a org.w3c.dom.Document using my class EncryptedData<br/>\n&gt;<br/>\n&gt;    @Test<br/>\n&gt;    public void testDocument() throws TransformerException {<br/>\n&gt;<br/>\n&gt;        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();<br/>\n&gt;        try {<br/>\n&gt;            documentBuilder = dbf.newDocumentBuilder();<br/>\n&gt;            Document document = documentBuilder.newDocument();<br/>\n&gt;            EncryptedData encryptedData = new EncryptedData( document );<br/>\n&gt;            assertNotNull( encryptedData.getEncryptedData() );<br/>\n&gt;            printXML( encryptedData.getEncryptedData() );<br/>\n&gt;        } catch (ParserConfigurationException e) {<br/>\n&gt;        }<br/>\n&gt;    }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; This is EncryptedData.java.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;        private Element encryptedData;<br/>\n&gt;<br/>\n&gt;        private  Document document;<br/>\n&gt;<br/>\n&gt;        public EncryptedData( Document document ) {<br/>\n&gt;                this.document = document;<br/>\n&gt;                encryptedData =<br/>\n&gt;                          (Element)<br/>\n&gt;                                document.createElement(&quot;EncryptedData&quot;);<br/>\n&gt;<br/>\n&gt;                //When I append the child in the constructor there is no exception<br/>\n&gt;                document.appendChild( encryptedData );<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;        public Document getEncryptedData(){<br/>\n&gt;                //When I append the child in this method there is an exception<br/>\n&gt;                encryptedData =<br/>\n&gt;                          (Element)<br/>\n&gt;                                document.createElement(&quot;EncryptedData&quot;);<br/>\n&gt;                return document;<br/>\n&gt;        }<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR: An attempt was made to insert a node where it is not permitted.<br/>\n&gt;        at org.apache.xerces.dom.CoreDocumentImpl.insertBefore(Unknown Source)<br/>\n&gt;        at org.apache.xerces.dom.NodeImpl.appendChild(Unknown Source)<br/>\n&gt;        at com.fss.maps.security.xml.EncryptedData.getEncryptedData(EncryptedData.java:56)<br/>\n&gt;        at com.fss.maps.security.test.XMLEncryptionTestCase.testDocument(XMLEncryptionTestCase.java:85)<br/>\n&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>\n&gt;        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>\n&gt;        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)<br/>\n&gt;        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)<br/>\n&gt;        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)<br/>\n&gt;        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)<br/>\n&gt;        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)<br/>\n&gt;        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)<br/>\n&gt;        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)<br/>\n&gt;        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)<br/>\n&gt;        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)<br/>\n&gt;        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)<br/>\n&gt;        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)<br/>\n&gt;        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)<br/>\n&gt;        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)<br/>\n&gt;        at org.junit.runner.JUnitCore.run(JUnitCore.java:157)<br/>\n&gt;        at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:97)<br/>\n&gt;        at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:192)<br/>\n&gt;        at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:60)<br/>\n&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>\n&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>\n&gt;        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:115)<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 23479, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1308840797", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23473, 
    "headers": {
        "inReplyToHeader": "PGl0c3FsZStrYTRhQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PEJBTkxrVGltc2d4WEJYTWgzUT1TT0VqK3o0MkhKUW15R05RQG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGl0c3FsZStrYTRhQGVHcm91cHMuY29tPg=="
    }
}