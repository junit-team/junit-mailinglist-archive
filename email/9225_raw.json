{
    "topicId": 9224, 
    "postDate": "1061996593", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Paul Christmann &lt;java-junit@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "yKo6CiZSRZEw69R32nTjoGXvOrdqGpr7Yo1hrmkUrGD5bnyKPOLjSDpb_CBXZxmDF-jzRrHk7_JIXWwfSafGStYwfSwXi1EkNOHeEwF6Cg", 
    "nextInTime": 9226, 
    "userId": 106325759, 
    "prevInTime": 9224, 
    "prevInTopic": 9224, 
    "headers": {
        "inReplyToHeader": "PEI2NEQxNDNFOUIyNzJDNEI4NkQ5RjE3MTI4RTY5NDYzMTAzQ0VEQG1haW4tc3J2LkNBU0VSTy5DT00+", 
        "messageIdInHeader": "PGJpaWg1cyRwdTUkMUBzZWEuZ21hbmUub3JnPg==", 
        "referencesHeader": "PEI2NEQxNDNFOUIyNzJDNEI4NkQ5RjE3MTI4RTY5NDYzMTAzQ0VEQG1haW4tc3J2LkNBU0VSTy5DT00+"
    }, 
    "authorName": "Paul Christmann", 
    "numMessagesInTopic": 4, 
    "msgSnippet": "I ve also wanted similar functionality as you describe, and have done it using ant, junit, tomcat and cactus.  (And my own WebServer java code. Yikes.....).", 
    "contentTrasformed": false, 
    "msgId": 9225, 
    "nextInTopic": 9226, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;java-junit@...&gt;\r\nX-Sender: java-junit@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 46352 invoked from network); 27 Aug 2003 15:06:18 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m3.grp.scd.yahoo.com with QMQP; 27 Aug 2003 15:06:18 -0000\r\nReceived: from unknown (HELO main.gmane.org) (80.91.224.249)\n  by mta3.grp.scd.yahoo.com with SMTP; 27 Aug 2003 15:06:17 -0000\r\nReceived: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))\n\tid 19s1pE-0002fC-00\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 27 Aug 2003 17:03:08 +0200\r\nX-Injected-Via-Gmane: http://gmane.org/\r\nTo: junit@yahoogroups.com\r\nReceived: from sea.gmane.org ([80.91.224.252])\n\tby main.gmane.org with esmtp (Exim 3.35 #1 (Debian))\n\tid 19s1pD-0002f4-00\n\tfor &lt;gmane-comp-java-junit-user@...&gt;; Wed, 27 Aug 2003 17:03:07 +0200\r\nReceived: from news by sea.gmane.org with local (Exim 3.35 #1 (Debian))\n\tid 19s1oS-0006uX-00\n\tfor &lt;gmane-comp-java-junit-user@...&gt;; Wed, 27 Aug 2003 17:02:20 +0200\r\nSubject: Re: HTTP Testing - Local and Remote\r\nDate: Wed, 27 Aug 2003 10:03:13 -0500\r\nLines: 86\r\nMessage-ID: &lt;biih5s$pu5$1@...&gt;\r\nReferences: &lt;B64D143E9B272C4B86D9F17128E69463103CED@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=us-ascii; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Complaints-To: usenet@...\r\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3.1) Gecko/20030425\r\nX-Accept-Language: en-us, en\r\nIn-Reply-To: &lt;B64D143E9B272C4B86D9F17128E69463103CED@...&gt;\r\nSender: news &lt;news@...&gt;\r\nX-eGroups-From: Paul Christmann &lt;paul@...&gt;\r\nFrom: Paul Christmann &lt;java-junit@...&gt;\r\nX-Yahoo-Group-Post: member; u=106325759\r\n\r\nI&#39;ve also wanted similar functionality as you describe, and have done it\nusing ant, junit, tomcat and cactus.  (And my own WebServer java code.\nYikes.....).  (I don&#39;t consider this &quot;unit&quot; testing, per se.  But I do\nconsider it a reasonable problem, and one that I solved with &quot;unit&quot;\ntesting tools.)\n\nSo here&#39;s a bunch of thoughts which I hope provide some insights into\nwhat I did to solve a similar problem:\n\nI wanted to test HTTP communication with a server, and test excercising\nremote functionality.  At first, I thought they were the same tests, and\nI only tried to excercise the remote functionality.  I quickly learned\nthat this was too hard - because a problem with a malformed HTTP message\nwas very hard to diagnose.  So, I split the problem into two:\n\n1) Test HTTP Communication with a server.  I now define this as meaning:\ncan my client generate an appropriate http message, with the correct\nheaders and body?  Can the server interpret an http message, reading\nhttp headers correctly?\n\nThis is something I consider &quot;unit&quot; tests.\n\n1a) Testing the server side is pretty easy using cactus.  I use the\nFilterTestCase, as all of our Http &quot;interpretation&quot; on the server is\nhandled in a single Filter.  So all I have to do is test that single\nfilter to make sure Http headers are interpreted appropriately.\n\n1b) Testing the client side is a little harder, and required me to\neventually mock a web server for the client to use just to trap http\nheaders.  I&#39;m not particularly fond of this solution.\nEssentially, the build launches its own web server, the client code\ntalks to it, and then the test code verifies that the web server\nreceived expected data.\n\n2) Test remote method invocations: If I ask the server to do something,\ndoes it do the right thing?\n\nThis is something I consider &quot;functional&quot; testing.\n\n(In our case, all request/responses are wrapped as Java objects.  So\ntest code deals only with Java objects, without any knowledge of the\nfact that perhaps a remote server was called to handle the request.  The\ntest code just creates and verifies java objects)\n\n2a) I have ant build file that will run a bunch of JUnit tests with a\nURL provided as input.  The test java code opens a connection to the\nprovided URL and requests something (the actual opening of the\nURLConnedtion is hidden from the test code).  The test java code then\nverifies the response.\n\n2b) The ant build file will (by default) launch its own version of\nTomcat first.  The test will run entirely on a single machine;\nlaunch Tomcat with an appropriate web application and the JUnit tests\ntalk to it.  This (getting tomcat started up) proved to be a little\ntricky, but quite doable.\n\n2c) Alternatively, by changing the build properties, the same JUnit test\nwill run against an already running server (locally or remotely, doesn&#39;t\nmatter).  In our case, we use that to verify a deployed/staging environment.\n\nI&#39;m going to skip posting details of code and build files unless\nanyone actually thinks it would be useful.\n\nThomas Robbs wrote:\n&gt; Greetings...\n&gt; \n&gt; I&#39;m finding myself in a situation where I would like to create the \n&gt; following type of test case:\n&gt; \n&gt; - testing a web service via HTTP - default testing of the service \n&gt; would require that the HTTP server is started up on the local machine\n&gt;  - an additional way of executing the test would be to have the same\n&gt;  HTTP based tests execute against an assumed host/port that is\n&gt; already running the HTTP server w/ the service.\n-- \nPC\n\nPaul Christmann\nPrior Artisans, LLC\nmailto:paul@...\n504-587-9072\n\n\n\n\n\n\n\n", 
    "subject": "Re: HTTP Testing - Local and Remote"
}