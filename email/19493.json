{
    "numMessagesInTopic": 4, 
    "nextInTime": 19494, 
    "senderId": "SrKPQjJNHDYtrGoOsBNbdWHcoATHCXlDyCcwc9tR2xEjp7XidIVRAD2JTFv5_3gSqFjHBcJ2rqNqKesMYd1HV-5VjkznN08p", 
    "systemMessage": false, 
    "subject": "Re: [junit] JUnit tests and System.in", 
    "from": "Monika Krug &lt;monika.uni@...&gt;", 
    "authorName": "Monika Krug", 
    "msgSnippet": "Hello Björn and the others who replied, Using System.setIn() solved the problem. Your sample code was very helpful. Thank you, Monika.", 
    "msgId": 19493, 
    "profile": "monika_krug", 
    "topicId": 19487, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 185677529, 
    "messageBody": "<div id=\"ygrps-yiv-2089952702\">Hello Björn and the others who replied,<br/>\n<br/>\nUsing System.setIn() solved the problem. Your sample code was very helpful.<br/>\n<br/>\nThank you,<br/>\nMonika.<br/>\n<br/>\nBjörn Gustafsson schrieb:<br/>\n<blockquote><span title=\"qreply\"> &gt; Hi Monika,<br/>\n&gt;<br/>\n&gt; Try to call System.in.close() to throw an exception, or you can use<br/>\n&gt; System.setIn() to change the InputStream.  See the attached JUnit test<br/>\n&gt; case for simple examples.<br/>\n&gt;<br/>\n&gt; On 6/21/07, Monika &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:monika.uni@...\">monika.uni@...</a>&gt; wrote:<br/>\n&gt;&gt; I write JUnit tests for classes that were not written by me. If one of<br/>\n&gt;&gt; these classes happens to include reading from System.in, Eclipse will<br/>\n&gt;&gt; just hang up and I have to kill it.<br/>\n&gt;&gt;<br/>\n&gt;&gt; How can I simulate input on System.in in my test case so that the test<br/>\n&gt;&gt; could succeed?<br/>\n&gt;&gt;<br/>\n&gt;&gt; If this is not possible, how can I make it throw an exception instead<br/>\n&gt;&gt; of hanging up, so that the test case will just fail?<br/>\n&gt;&gt;<br/>\n&gt;&gt; TIA,<br/>\n&gt;&gt; Monika.<br/>\n&gt;<br/>\n&gt; ------------------------------------------------------------------------<br/>\n&gt;<br/>\n&gt; package net.bjorng;<br/>\n&gt;<br/>\n&gt; import java.io.BufferedInputStream;<br/>\n&gt; import java.io.ByteArrayInputStream;<br/>\n&gt; import java.io.IOException;<br/>\n&gt; import java.io.InputStream;<br/>\n&gt; import junit.framework.TestCase;<br/>\n&gt;<br/>\n&gt; public class TestSystemIn extends TestCase {<br/>\n&gt;<br/>\n&gt; \tpublic void testSystemIn_Class() {<br/>\n&gt; \t\tassertTrue(System.in instanceof BufferedInputStream);<br/>\n&gt; \t}<br/>\n&gt;<br/>\n&gt; \tpublic void testSystemIn_setStdIn_GetsDefinedBytes() throws Exception {<br/>\n&gt; \t\tbyte[] bytes = { &#39;a&#39;, &#39;b&#39;, &#39;x&#39; };<br/>\n&gt; \t\tInputStream originalInputStream = System.in;<br/>\n&gt; \t\ttry {<br/>\n&gt; \t\t\tSystem.setIn(new ByteArrayInputStream(bytes));<br/>\n&gt;<br/>\n&gt; \t\t\tbyte[] bytesToRead = new byte[3];<br/>\n&gt; \t\t\tint numRead = System.in.read(bytesToRead);<br/>\n&gt; \t\t\tassertEquals(3, numRead);<br/>\n&gt; \t\t\tassertEquals(bytes[0], bytesToRead[0]);<br/>\n&gt; \t\t\tassertEquals(bytes[1], bytesToRead[1]);<br/>\n&gt; \t\t\tassertEquals(bytes[2], bytesToRead[2]);<br/>\n&gt; \t\t} finally {<br/>\n&gt; \t\t\tSystem.setIn(originalInputStream);<br/>\n&gt; \t\t}<br/>\n&gt; \t}<br/>\n&gt;<br/>\n&gt; \tpublic void testSystemIn_Close_ActuallyCloses() throws Exception {<br/>\n&gt; \t\tSystem.in.close();<br/>\n&gt; \t\ttry {<br/>\n&gt; \t\t\tint nextByte = System.in.read();<br/>\n&gt; \t\t\tassertEquals(-1, nextByte);<br/>\n&gt; \t\t} catch (IOException e) {<br/>\n&gt; \t\t\tassertNotNull(e);<br/>\n&gt; \t\t\t// e.printStackTrace();<br/>\n&gt; \t\t}<br/>\n&gt; \t}<br/>\n&gt; }<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 19492, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1182447736", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 19489, 
    "headers": {
        "inReplyToHeader": "PGEzYzNlODE1MDcwNjIxMDczMXE1YjQ1NjI3NnFiZDNjNDMyODRmMjVhNzRiQG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDQ2N0FCODc4LjkwMTA0MDBAYXJjb3IuZGU+", 
        "referencesHeader": "PGY1ZG80dis1dWU4QGVHcm91cHMuY29tPiA8YTNjM2U4MTUwNzA2MjEwNzMxcTViNDU2Mjc2cWJkM2M0MzI4NGYyNWE3NGJAbWFpbC5nbWFpbC5jb20+"
    }
}