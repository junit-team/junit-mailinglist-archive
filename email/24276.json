{
    "numMessagesInTopic": 30, 
    "nextInTime": 24277, 
    "senderId": "0q9ZzS7ml8HhejsD6Q2VeajIEFWoJH_bGueptIu29gghI7brtqHpKzx6qwdJucrnT6PKsOC3nCGWuKSJpxGG9Jl2rLVbpaI2ypRXiOG60u4vU6-nmM_gvS8", 
    "systemMessage": false, 
    "subject": "Re: [junit] Feedback requested: Impending changes to RunListener", 
    "from": "Stephen Connolly &lt;stephen.alan.connolly@...&gt;", 
    "authorName": "Stephen Connolly", 
    "msgSnippet": "There are some legal people who have issues with some of the licenses on some of those annotations jars... Also I have seen issues with those annotations being", 
    "msgId": 24276, 
    "profile": "stephenalanconnolly", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 458231986, 
    "messageBody": "<div id=\"ygrps-yiv-598625631\">There are some legal people who have issues with some of the licenses on<br/>\nsome of those annotations jars... Also I have seen issues with those<br/>\nannotations being absent from the compiler&#39;s classpath... IOW the<br/>\nannotation does not need to be present when running, but does seem in some<br/>\ncases to be required when compiling classes that inherit from annotated<br/>\ncode (because the compiler needs to inspect the meta annotations to see in<br/>\nthe annotation is inherited or something like that)<br/>\n<br/>\nMight boil down to either some meta-annotation  or comparing annotations<br/>\nbased on simpleName<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Wednesday, 6 February 2013, Kevin Cooney wrote:<br/>\n<br/>\n&gt; Hello, everyone<br/>\n&gt;<br/>\n&gt; Short version: we are thinking of adding an optional dependency from JUnit<br/>\n&gt; to jcip-annotations and are soliciting feedback.<br/>\n&gt;<br/>\n&gt; A few people have noticed that when you use ParallelComputer, you got poor<br/>\n&gt; performance because calls to registered RunListeners are synchronized. We<br/>\n&gt; would like to fix this in the next release of JUnit.<br/>\n&gt;<br/>\n&gt; In order to prevent affecting existing users, we are proposing having an<br/>\n&gt; annotation that can be added to RunListener implementations that can safely<br/>\n&gt; be called concurrently from multiple threads. If a RunListener passed to a<br/>\n&gt; RunNotifier is not annotated with this annotation, JUnit will wrap it with<br/>\n&gt; a decorator that does synchronization.<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; We would appreciate feedback on this new annotation.<br/>\n&gt;<br/>\n&gt; We have two options:<br/>\n&gt;<br/>\n&gt; a. Create our own annotation for this<br/>\n&gt; b. Use ThreadSafe (<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://grepcode.com/file/repo1.maven.org/maven2/net.jcip/jcip-annotations/1.0/net/jcip/annotations/ThreadSafe.java\">http://grepcode.com/file/repo1.maven.org/maven2/net.jcip/jcip-annotations/1.0/net/jcip/annotations/ThreadSafe.java</a><br/>\n&gt; )<br/>\n&gt;<br/>\n&gt; The advantages to option b are:<br/>\n&gt;<br/>\n&gt; 1. It&#39;s a well-known annotation<br/>\n&gt; 2. Users that use JUnit can add this annotation to their thread-safe<br/>\n&gt; RunListener implementations today and get the benefits &quot;for free&quot; later.<br/>\n&gt;<br/>\n&gt; Note we can do this without requiring that all users of JUnit have the<br/>\n&gt; jcip-annotations jar in their classpath as of JDK 1.5.0_06 (see<br/>\n&gt;<br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime\">http://stackoverflow.com/questions/3567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-runtime</a><br/>\n&gt; ).<br/>\n&gt; If jcip-annotations is not on the classpath then all RunListener<br/>\n&gt; implementations will be treated as not thread-safe.<br/>\n&gt;<br/>\n&gt; As a specific example, the Maven Surefire plugin would use this dependency<br/>\n&gt; and include jcip-annotations.<br/>\n&gt;<br/>\n&gt; Currently, JUnit only depends on one third-party library (Hamcrest). This<br/>\n&gt; has caused us some pain in the past when the Hamcrest code changed in ways<br/>\n&gt; that broke existing users of JUnit. We believe this will not be an issue<br/>\n&gt; with jcip-annotations because the JAR only contains annotations, not any<br/>\n&gt; code.<br/>\n&gt;<br/>\n&gt; One possible concern would be with other open source libraries that provide<br/>\n&gt; RunListener implementations (they would need to add jcip-annotations to<br/>\n&gt; their compile-time classpath if they have thread-safe annotations, and<br/>\n&gt; document this to their users).<br/>\n&gt;<br/>\n&gt; Thoughts?<br/>\n&gt;<br/>\n&gt; -- Kevin<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; ------------------------------------<br/>\n&gt;<br/>\n&gt; Yahoo! Groups Links<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 24275, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1360178536", 
    "canDelete": false, 
    "nextInTopic": 24277, 
    "prevInTopic": 24275, 
    "headers": {
        "inReplyToHeader": "PENBQTNFK2VYcUY2RE5RYzByNUhla2oxZ0UtUHlCbnZqNF9UTmJWZ1JVbytFZWt4d2hqd0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBK25Qbk15Zjc0ZW1DSnh2enItMGU2TENKTkVWeDc2SD1PVGNDQlordHlPR2ppZ0ZKUUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQTNFK2VYcUY2RE5RYzByNUhla2oxZ0UtUHlCbnZqNF9UTmJWZ1JVbytFZWt4d2hqd0BtYWlsLmdtYWlsLmNvbT4="
    }
}