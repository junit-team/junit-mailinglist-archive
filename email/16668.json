{
    "numMessagesInTopic": 6, 
    "nextInTime": 16669, 
    "senderId": "uZjnQ2ZmJIlthZ0JSoA1mV_15sJPT3fkb7XxmQQo4XtYFqUJFElDH1r9-j0ik4m8jeSFuiw2QoeR_987oFEHTWpZOBelrDmL80Q", 
    "systemMessage": true, 
    "subject": "How to isolate units with calls to static methods or on objects locally created?", 
    "from": "&quot;javamockit&quot; &lt;javamockit@...&gt;", 
    "authorName": "javamockit", 
    "msgSnippet": "Consider you want to unit test the following method: public int doBusinessOp(Data data) { ... int sum = new ServiceX().addItems(data.getItems()); ... } Without", 
    "msgId": 16668, 
    "profile": "javamockit", 
    "topicId": 16668, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 268899523, 
    "messageBody": "<div id=\"ygrps-yiv-1128665664\">Consider you want to unit test the following method:<br/>\n<br/>\npublic int doBusinessOp(Data data) {<br/>\n  ...<br/>\n  int sum = new ServiceX().addItems(data.getItems());<br/>\n  ...<br/>\n}<br/>\n<br/>\nWithout changing doBusinessOp, how would you isolate it from the<br/>\ndependency on class ServiceX?<br/>\n<br/>\nI recently created a small tool that allows such tests to be written.<br/>\nIt seems the only other way would be to use AspectJ or one of the<br/>\nXML-based AOP frameworks.<br/>\n<br/>\nWith the new tool you could write (in a JUnit TestCase):<br/>\n<br/>\npublic void testDoBusinessOp() {<br/>\n  Mockit.redefineMethods(ServiceX.class, new Object() {<br/>\n    public int addItems(List items) { <br/>\n      assertNotNull(items); return 0;<br/>\n    }<br/>\n  });<br/>\n<br/>\n  ... create data, call doBusinessOp, assert result ...<br/>\n}<br/>\n<br/>\nProject home page at jmockit.dev.java.net.<br/>\n<br/>\nWhat do you think?<br/>\n<br/>\nRogerio Liesenfeld</div>", 
    "prevInTime": 16667, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1147579434", 
    "canDelete": false, 
    "nextInTopic": 16674, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGU0NmE3YStsdDNpQGVHcm91cHMuY29tPg=="
    }
}