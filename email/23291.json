{
    "numMessagesInTopic": 3, 
    "nextInTime": 23292, 
    "senderId": "9U7UF2xz0xlQgoR80DLTqk1xma4C9Z7ARo65TAzb2-9pi6KdKFRaY2enyPB1E-nXVKW8HEDzQ6fOEgUftnGlB2kLShz5W38zz2sCrHE", 
    "systemMessage": false, 
    "subject": "Re: How to test inner exception with @Rule", 
    "from": "&quot;banksysan&quot; &lt;BanksySan@...&gt;", 
    "authorName": "banksysan", 
    "msgSnippet": "Cheers Ken, The solution I came used was this: final String fieldName = UnknowFieldName ; thrown.expect(MasterCatalogueBadMergeDataException.class); ", 
    "msgId": 23291, 
    "profile": "banksysan", 
    "topicId": 23289, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 287613168, 
    "messageBody": "<div id=\"ygrps-yiv-697163572\">Cheers Ken,<br/>\n<br/>\nThe solution I came used was this:<br/>\n<br/>\n         final String fieldName = &quot;UnknowFieldName&quot;;<br/>\n         thrown.expect(MasterCatalogueBadMergeDataException.class);<br/>\n         thrown.expect(hasProperty(&quot;cause&quot;,<br/>\ninstanceOf(ModelUnknownFieldException.class)));<br/>\n         thrown.expect(hasProperty(&quot;cause&quot;, hasProperty(&quot;detailMessage&quot;,<br/>\nis(&quot;Field &#39;&quot; + fieldName + &quot;&#39; does not exist.&quot;))));<br/>\n         thrown.expectMessage(is(&quot;The field &#39;&quot; + fieldName + &quot;&#39; is not<br/>\nrecognised.&quot;));<br/>\n<br/>\nIt&#39;s a bit of a mouth-full, but seems to do the trick.<br/>\n<br/>\n(I&#39;m too scared to try and write a custom Hamcrest matcher)<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Marc Philipp &lt;mphilipp82@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; Dave -<br/>\n&gt;<br/>\n&gt; you can use ExpectedException.expect(Matcher) [1] to supply a custom<br/>\n&gt; Hamcrest matcher that checks the inner exception of the exception.<br/>\n&gt;<br/>\n&gt; [1]<br/>\n&gt;<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://kentbeck.github.com/junit/javadoc/latest/org/junit/rules/Expected&#92;\">http://kentbeck.github.com/junit/javadoc/latest/org/junit/rules/Expected&#92;</a><br/>\nException.html#expect(org.hamcrest.Matcher<br/>\n&gt; )<br/>\n&gt;<br/>\n&gt; Best regards,<br/>\n&gt;<br/>\n&gt; Marc<br/>\n&gt;<br/>\n&gt; 2011/2/23 banksysan BanksySan@...<br/>\n&gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Hia all,<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;m setting up an expected exception in a JUnit test.<br/>\n&gt; &gt;<br/>\n&gt; &gt; In the class I have:<br/>\n&gt; &gt;<br/>\n&gt; &gt; @Rule<br/>\n&gt; &gt; public ExpectedException thrown = ExpectedException.none();<br/>\n&gt; &gt;<br/>\n&gt; &gt; At the top of the method I have:<br/>\n&gt; &gt;<br/>\n&gt; &gt; final String fieldName = &quot;UnknowFieldName&quot;;<br/>\n&gt; &gt; thrown.expect(MasterCatalogueBadMergeDataException.class);<br/>\n&gt; &gt; thrown.expectMessage(is(The field &#39;&quot; + fieldName + &quot;&#39; is not<br/>\n&gt; &gt; recognised.&quot;));<br/>\n&gt; &gt;<br/>\n&gt; &gt; However, the exception contains an inner exception which I also want<br/>\nto<br/>\n&gt; &gt; check.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Anyone know how I go about this?<br/>\n&gt; &gt;<br/>\n&gt; &gt; Thanks in advance<br/>\n&gt; &gt;<br/>\n&gt; &gt; Dave<br/>\n&gt; &gt;<br/>\n&gt; &gt; [Non-text portions of this message have been removed]<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt;<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed] </span></blockquote></div>", 
    "prevInTime": 23290, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1298471043", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 23290, 
    "headers": {
        "inReplyToHeader": "PEFBTkxrVGltbXRfRXQ9OFN2a1JjdmNfeDE3OGF6RzFpYk5Pay1HdEZUVTZPQ0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PGlrMzVhMyt0YnE2QGVHcm91cHMuY29tPg=="
    }
}