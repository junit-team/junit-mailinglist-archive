{
    "numMessagesInTopic": 3, 
    "nextInTime": 21991, 
    "senderId": "0ejpdJR90862f_-fmPGUBjQO8oIz76mhKDrJRFBlRAwLTivvwDMumr41ngVXDnVLEZbp2AZUCovN9ZI0fejn2C6DOFY", 
    "systemMessage": false, 
    "subject": "RE: [junit] how to unit test file operations", 
    "from": "&quot;kentb&quot; &lt;kentb@...&gt;", 
    "authorName": "kentb", 
    "msgSnippet": "The first thing I would do in this case is split the file opening/closing from the content writing. Then I could test the two aspects separately. The method to", 
    "msgId": 21990, 
    "profile": "kentlbeck", 
    "topicId": 21985, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 173198504, 
    "messageBody": "<div id=\"ygrps-yiv-1853186154\">The first thing I would do in this case is split the file opening/closing<br/>\nfrom the content writing. Then I could test the two aspects separately. The<br/>\nmethod to write content would take a stream as a parameter, so I could<br/>\neasily gen up a stream in my test, call the method, and check the results.<br/>\n <br/>\nRegards,<br/>\n <br/>\nKent<br/>\n<br/>\n  _____  <br/>\n<br/>\nFrom: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\nForsberg, Mike<br/>\nSent: Thursday, October 22, 2009 11:22 AM<br/>\nTo: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\nSubject: RE: [junit] how to unit test file operations<br/>\n<br/>\n<br/>\n  <br/>\n<br/>\nIf you change your API a little bit it will make for easier testing...<br/>\n<br/>\nThink about the second line of pseudo code as a method.<br/>\n<br/>\nvoid writeToStream(OutputStream out) {<br/>\n<br/>\n// perform write<br/>\n<br/>\n}<br/>\n<br/>\nNow you can test the writing of data using a mock object. Avoiding the<br/>\nmessy opening of the file to check contents. Which is what you are<br/>\ntrying to avoid.<br/>\n<br/>\nFor opening the file and setting the append flag, this can be checked by<br/>\nreflection. I&#39;d make a method for that bit of code as well.<br/>\n<br/>\nTesting the entire composition could be done be visual inspection.<br/>\n(Your sure the parts work, so the wiring is all that is needed to be<br/>\ninspected.)<br/>\n<br/>\nThat&#39;s my ten minutes quick instinct idea. Sorry it&#39;s not complete...<br/>\n<br/>\nBig Mike<br/>\n<br/>\nFrom: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com<br/>\n[mailto:junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com] On Behalf<br/>\nOf<br/>\nsuckasholasdf<br/>\nSent: Thursday, October 22, 2009 4:05 AM<br/>\nTo: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com<br/>\nSubject: [junit] how to unit test file operations<br/>\n<br/>\nI have a txt file that I need to update. The txt file has the following<br/>\ncolumns, delimited by tabs:<br/>\n<br/>\nDate<br/>\nName<br/>\nAge<br/>\n<br/>\nThen I have a method called updateFile(). The implementation is below:<br/>\n<br/>\npublic void updateFile() {<br/>\n//open up file for writing, setting the append flag to &#39;true&#39;<br/>\n//write X lines to file<br/>\n//close file<br/>\n}<br/>\n<br/>\nI&#39;m not exactly sure how to write a test for this particular method. I&#39;m<br/>\nthinking I should check the size of the file. But, that might not be<br/>\nenough since I also would probably have to check and validate the values<br/>\nbeing put into those columns. <br/>\n<br/>\nNow, after I&#39;m done performing the test, the file will have X lines<br/>\nappended to it. How do I revert back to it&#39;s original state if I have<br/>\nanother test that depends on the txt file?<br/>\n<br/>\nPlease help! Thanks!<br/>\n<br/>\n[Non-text portions of this message have been removed]<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n[Non-text portions of this message have been removed]</div>", 
    "prevInTime": 21989, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1256237079", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21989, 
    "headers": {
        "inReplyToHeader": "PDgwOEZDRTYxNUExM0NFNDdCNkFDNUEwMUIxQTJGQjVGQ0UzREFBQFNBVVNFWE1CMi5hbWQuY29tPg==", 
        "messageIdInHeader": "PDhGNTU4QTgzRTc5MTQ3MzhBQkZFNzQ0NUNFRDU4Rjg2QGtlbnRzcGF2aWxpb24+", 
        "referencesHeader": "PGhicDc3NitwdGtwQGVHcm91cHMuY29tPiA8ODA4RkNFNjE1QTEzQ0U0N0I2QUM1QTAxQjFBMkZCNUZDRTNEQUFAU0FVU0VYTUIyLmFtZC5jb20+"
    }
}