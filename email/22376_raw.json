{
    "numMessagesInTopic": 12, 
    "nextInTime": 22377, 
    "senderId": "BV3kC6r14OcSEyn0ki7jy4M8LSMvwowBxlEIIzOv_cRsAp-rYG7RhDHkVqZdw7GTOdE7AY4l18faShXWDYC0d4aYi1dl6ANKk5-fPPz8-iAB", 
    "systemMessage": false, 
    "subject": "Re: Theories Usability", 
    "from": "&quot;jens_schauder&quot; &lt;jens.schauder@...&gt;", 
    "authorName": "jens_schauder", 
    "msgSnippet": "I don t know if they work well with theories, but I d say you can handle this kind of stuff with rules pretty well. ", 
    "msgId": 22376, 
    "rawEmail": "Return-Path: &lt;jens.schauder@...&gt;\r\nX-Sender: jens.schauder@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 36630 invoked from network); 7 Feb 2010 00:24:49 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m10.grp.re1.yahoo.com with QMQP; 7 Feb 2010 00:24:49 -0000\r\nX-Received: from unknown (HELO n37b.bullet.mail.sp1.yahoo.com) (66.163.168.151)\n  by mta1.grp.sp2.yahoo.com with SMTP; 7 Feb 2010 00:24:49 -0000\r\nX-Received: from [69.147.65.172] by n37.bullet.mail.sp1.yahoo.com with NNFMP; 07 Feb 2010 00:19:29 -0000\r\nX-Received: from [98.137.35.12] by t14.bullet.mail.sp1.yahoo.com with NNFMP; 07 Feb 2010 00:19:28 -0000\r\nDate: Sun, 07 Feb 2010 00:19:28 -0000\r\nTo: junit@yahoogroups.com\r\nMessage-ID: &lt;hkl0ug+q5br@...&gt;\r\nIn-Reply-To: &lt;75F5ED8A5A553646A46E00E6EC854FA30378C76B@...-ais.com&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;jens_schauder&quot; &lt;jens.schauder@...&gt;\r\nSubject: Re: Theories Usability\r\nX-Yahoo-Group-Post: member; u=127374813; y=48vIWbbIg4suuh_1WB4l2BEOekpUzco0yd0ZPB8-rWr821Awwh2i1w\r\nX-Yahoo-Profile: jens_schauder\r\n\r\nI don&#39;t know if they work well with theories, but I&#39;d say you can handle th=\r\nis kind of stuff with rules pretty well. \n\nhttp://blog.schauderhaft.de/2009=\r\n/10/04/junit-rules/\n\nJens\n\n--- In junit@yahoogroups.com, &quot;Loritsch, Berin C=\r\n.&quot; &lt;berin.loritsch@...&gt; wrote:\n&gt;\n&gt; Thanks everyone for helping me work thro=\r\nugh the testing challenge I wanted to address.  I&#39;ve written a rudimentary =\r\nClassCollector that lets me specify a base package, what base classes I nee=\r\nd, any annotations I need applied, etc.  I supplimented that with a BeanAtt=\r\nributes class that will collect all the attributes (setters/getters) on the=\r\n class.  It&#39;s working very well.  Unfortunately, there are a few shortcomin=\r\ngs with this approach:\n&gt; \n&gt; 1. I cannot easily determine what the actual da=\r\nta point combination was that caused the failure.  I have to write those va=\r\nlues out to System.out because the test failure does not do that for me.\n&gt; =\r\n\n&gt; 2. It stops on the very first failure, hiding many more failures that ma=\r\ny still be lurking beneath the service.\n&gt; \n&gt; 3. The theory is the only line=\r\n shown in the test report, so there is no way to differentiate runs which w=\r\nould handle the above concerns.\n&gt; \n&gt; What I would really like to see is tha=\r\nt a new test name for each combination of data points.  For example if you =\r\nhad a @Theory named &quot;checkAddWorks&quot; that took two parameters and the data p=\r\noints [1,2] then I&#39;d like to see a set of test names that look like this in=\r\n the test report:\n&gt; \n&gt; checkAddWorks(1,1)\n&gt; checkAddWorks(1,2)\n&gt; checkAddWo=\r\nrks(2,2)\n&gt; \n&gt; That will address all of the shortcomings I identified.\n&gt; \n&gt; =\r\nMy code looks like this:\n&gt; \n&gt; @RunWith(Theories.class)\n&gt; class TestMyTracka=\r\nbleContract {\n&gt;     @DataPoints\n&gt;     BeanAttribute[] collectAllAttributesT=\r\noTest() {\n&gt;         ClassCollector collector =3D new ClassCollector();\n&gt;   =\r\n      collector.within(&quot;com.mycompany.incident.model&quot;).assignableTo(Trackab=\r\nle.class);\n&gt;         Collection&lt;Class&lt;?&gt;&gt; matchedClasses =3D collector.recu=\r\nrse().collect();\n&gt; \n&gt;         List&lt;BeanAttribute&gt; attributes =3D new ArrayL=\r\nist&lt;BeanAttribute&gt;();\n&gt; \t\t\n&gt;         for (Class&lt;?&gt; trackable : matchedClass=\r\nes) {\n&gt;             attributes.addAll(BeanAttribute.collectFrom(trackable))=\r\n;\n&gt;         }\n&gt; \t\t\n&gt;         return attributes.toArray(new BeanAttribute[at=\r\ntributes.size()]);\n&gt;     }\n&gt; \n&gt;     @Theory\n&gt;     public void checkSideEffe=\r\nctsOnAssign() throws Exception {\n&gt;         // This is designed to ensure th=\r\nat setters/getters work in concert\n&gt;         // and that setters set the ap=\r\npropriate message is sent\n&gt;         if ( ! beanAttribute.hasSetter() || ! b=\r\neanAttribute.hasGetter() ) return;\n&gt;         beanAttribute.assertBalanced()=\r\n;\n&gt; \n&gt;         Trackable entity =3D beanAttribute.getEntityAs(Trackable.cla=\r\nss);\n&gt;         // Unfortunately needed to determine when things go bad\n&gt;   =\r\n      System.out.format(&quot;Testing %s&#92;n&quot;, beanAttribute);\n&gt; \t\t\n&gt;         Obje=\r\nct original =3D beanAttribute.getValue();\n&gt;         Object testValue =3D be=\r\nanAttribute.generateTestValue(original);\n&gt; \t\t\n&gt;         // Ensure the sette=\r\nr works as expected\n&gt;         beanAttribute.setValue(testValue);\n&gt;         =\r\nassertEquals(testValue, beanAttribute.getValue());\n&gt; \t\t\n&gt;         // Ensure=\r\n properties are set and events were properly\n&gt;         Properties changes =\r\n=3D entity.getChanges();\n&gt;         assertEquals( String.valueOf(testValue),=\r\n\n&gt;             changes.getProperty(beanAttribute.getAttribute()));\n&gt;       =\r\n  assertEquals( String.valueOf(original),\n&gt;             changes.getProperty=\r\n(beanAttribute.getAttribute() + &quot;.old&quot;));\n&gt;     }\n&gt; }\n&gt; \n&gt; \n&gt; [Non-text por=\r\ntions of this message have been removed]\n&gt;\n\n\n\n", 
    "profile": "jens_schauder", 
    "topicId": 22365, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127374813, 
    "prevInTime": 22375, 
    "contentTrasformed": false, 
    "postDate": "1265501968", 
    "canDelete": false, 
    "nextInTopic": 22377, 
    "prevInTopic": 22365, 
    "headers": {
        "inReplyToHeader": "PDc1RjVFRDhBNUE1NTM2NDZBNDZFMDBFNkVDODU0RkEzMDM3OEM3NkJAdmFmZjAxLW1haWwwMS5hZC5nZC1haXMuY29tPg==", 
        "messageIdInHeader": "PGhrbDB1ZytxNWJyQGVHcm91cHMuY29tPg=="
    }
}