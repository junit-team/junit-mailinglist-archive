{
    "numMessagesInTopic": 17, 
    "nextInTime": 21915, 
    "senderId": "461fn-OQpmD7GouMDT0gfV8S4taUV7GNty5KMvG9hGyGMQOrLyuncJ2hfOnN9lxYFDTN_0gSqiQivW2HEYUxvDHwTE-e3oguza9XywavNp0", 
    "systemMessage": false, 
    "subject": "Re: Rule annotation", 
    "from": "&quot;yme0987654321&quot; &lt;yme0987654321@...&gt;", 
    "authorName": "yme0987654321", 
    "msgSnippet": "To be clear, I didn t mean that @Before methods don t get executed from the super class. What I meant was that if I have an @Before method in the super class,", 
    "msgId": 21914, 
    "profile": "yme0987654321", 
    "topicId": 21887, 
    "spamInfo": {
        "reason": "6", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 386557907, 
    "messageBody": "<div id=\"ygrps-yiv-1033711918\">To be clear, I didn&#39;t mean that @Before methods don&#39;t get executed from the super class. What I meant was that if I have an @Before method in the super class, and then override it in the sub class (these are old JUnit 3.8 tests converted to 4.x, so these are old setUp methods). I was under the (apparently mistaken - read on) impression that if you overrode the method, you had to re-annotate it with an @Before.<br/>\n<br/>\nWell, I went to put together the test, and it passed. Hmm, I&#39;m pretty sure I had a problem that was caused by the fact that Java doesn&#39;t inherit annotations on methods with regards to the @Before and @After.<br/>\n<br/>\nI&#39;m too lazy to get back JUnit 4.5 (where I had the problem), so I&#39;m not sure if I was mistaken (and spent a bunch of time annotating methods with @Before and @After in subclasses for no reason) or if something was fixed, but anyway, it&#39;s working now.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;kentb&quot; &lt;kentb@...&gt; wrote:<br/>\n&gt;<br/>\n&gt; I&#39;m a bit confused. @Before and @After are inherited. Superclass @Before&#39;s<br/>\n&gt; are executed before subclass @Before&#39;s and subclass @After&#39;s are executed<br/>\n&gt; before superclass @After&#39;s. If you have a scenario where inheritance doesn&#39;t<br/>\n&gt; work as you expected, I&#39;d appreciate a failing test case that will pass when<br/>\n&gt; JUnit does what you expect.<br/>\n&gt;  <br/>\n&gt; In any case, I&#39;m glad you got your tests running as expected. As you noted,<br/>\n&gt; @Rule&#39;s aren&#39;t executed in any particular order. This is by design. If you<br/>\n&gt; need to express temporal dependency, the best way I know of is to have<br/>\n&gt; sequential lines of code.<br/>\n&gt;  <br/>\n&gt; Regards,<br/>\n&gt;  <br/>\n&gt; Kent<br/>\n&gt; <br/>\n&gt;   _____  <br/>\n&gt; <br/>\n&gt; From: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a> [mailto:<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>] On Behalf Of<br/>\n&gt; yme0987654321<br/>\n&gt; Sent: Tuesday, August 25, 2009 8:19 PM<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Subject: [junit] Re: Rule annotation<br/>\n&gt; <br/>\n&gt; <br/>\n&gt;   <br/>\n&gt; <br/>\n&gt; It doesn&#39;t fit my scenario because I would essentially not want to engage<br/>\n&gt; the external resources, so I guess I could combine them the other way around<br/>\n&gt; and fail with an assumeThat (would that work? Or would it report a crash?).<br/>\n&gt; <br/>\n&gt; But anyway, after playing with this for a while, I just did an assumeThat in<br/>\n&gt; the @BeforeClass method, and that worked out fine. IDEA doesn&#39;t report the<br/>\n&gt; ignored tests as nicely, but that&#39;s life. I got to eliminate a lot of<br/>\n&gt; brittle complicated code around the runner, so it was worthwhile.<br/>\n&gt; <br/>\n&gt; I used the @Rule for the external resource, which really saved the @Before<br/>\n&gt; and @After inheritence issue (the fact that it doesn&#39;t inherit), so<br/>\n&gt; ultimately 4.7 really improved my testing code infrastructure.<br/>\n&gt; <br/>\n&gt; So good job.<br/>\n&gt; <br/>\n&gt; The thing that got my brain tied in knots is the expectation that rules<br/>\n&gt; interact, or have some kind of series to them. But that is just an<br/>\n&gt; association with the word &quot;rule&quot; and has nothing to do with how JUnit is<br/>\n&gt; doing the @Rule annotation, which is fine once you get it.<br/>\n&gt; <br/>\n&gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, David Saff<br/>\n&gt; &lt;david@&gt; wrote:<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;m trying to think this one through. I&#39;m thinking I have:<br/>\n&gt; &gt; <br/>\n&gt; &gt; public ExternalResource myResource = new ExternalResource() {<br/>\n&gt; &gt; // ...<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; public MethodRule myConditionalIgnore = new MethodRule() {<br/>\n&gt; &gt; // ...<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; public class CombinedRule implements MethodRule {<br/>\n&gt; &gt; public final Statement apply(final Statement base,<br/>\n&gt; &gt; FrameworkMethod method, Object target) {<br/>\n&gt; &gt; return myConditionalIgnore.apply(myResource.apply(base,<br/>\n&gt; &gt; method, target), method, target);<br/>\n&gt; &gt; }<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; Does that work?<br/>\n&gt; &gt; <br/>\n&gt; &gt; David Saff<br/>\n&gt; &gt; <br/>\n&gt; &gt; On Thu, Aug 20, 2009 at 1:38 PM, yme0987654321&lt;yme0987654321@&gt; wrote:<br/>\n&gt; &gt; &gt; For the big class hierarchy that I had, this worked out. I had to make<br/>\n&gt; one rule which composed and delegated to an ExternalResource rule and had<br/>\n&gt; its own before and after methods because ExternalResource does not allow the<br/>\n&gt; overriding of its apply method. I certainly understand the inclination to<br/>\n&gt; make it final, but I would suggest that it be reconsidered.<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Regardless, going further replacing my custom runner, I did hit another<br/>\n&gt; wall, with @BeforeClass and @AfterClass. I assume there is nothing to do<br/>\n&gt; about those (other than an assumeThat in @BeforeClass)?<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, David<br/>\n&gt; Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; That&#39;s right: Rules can affect the processing after @Before and before<br/>\n&gt; &gt; &gt;&gt; @After.  Could you replace your setup/teardown with an<br/>\n&gt; &gt; &gt;&gt; ExternalResource rule?<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt;    David Saff<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; On Thu, Aug 20, 2009 at 11:11 AM, yme0987654321&lt;yme0987654321@&gt; wrote:<br/>\n&gt; &gt; &gt;&gt; &gt; OK, I figured out the problem. What happens is that I have a custom<br/>\n&gt; runner that suppresses the test (these are slow tests, so they are only run<br/>\n&gt; at check-in, not by the developer while developing).<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt; However, when I replace that with a Rule, the setup method is still<br/>\n&gt; run (looks slow). So I guess the conclusion is that @Rule can&#39;t interrupt or<br/>\n&gt; override the setup and teardown process, so if you need to do that you are<br/>\n&gt; back to a Runner? (Or making your own setups rule-aware I guess).<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt; --- In junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com, David<br/>\n&gt; Saff &lt;david@&gt; wrote:<br/>\n&gt; &gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; Yishai,<br/>\n&gt; &gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; I just ran a test, and the Rules in the superclass were picked up.<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; Can you post a small example?  Thanks,<br/>\n&gt; &gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt;    David Saff<br/>\n&gt; &gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; On Thu, Aug 20, 2009 at 10:21 AM, David Saff&lt;david@&gt; wrote:<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt; Yishai,<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt; Sounds like a bug.  Can you file it at github?  Sorry for the<br/>\n&gt; oversight,<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;   David Saff<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt; On Wed, Aug 19, 2009 at 8:26 PM, yme0987654321&lt;yme0987654321@&gt;<br/>\n&gt; wrote:<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; I&#39;m looking at the new Rule annotation in JUnit4. It&#39;s pretty<br/>\n&gt; nice, but it doesn&#39;t seem to inherit.<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; That is if I have a super class that has the @Rule, sub class<br/>\n&gt; tests don&#39;t run the rule on its tests.<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; Combined with the requirement that the rules field be public,<br/>\n&gt; this is surprising.<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; The practical effect for me is that it can&#39;t really replace my<br/>\n&gt; custom runner, as the @RunWith annotation is inherited by subclasses.<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; Am I missing something?<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; Yishai.<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; ------------------------------------<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; Yahoo! Groups Links<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;&gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt; ------------------------------------<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt; &gt;<br/>\n&gt; &gt; &gt;&gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; ------------------------------------<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt; Yahoo! Groups Links<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; [Non-text portions of this message have been removed]<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21913, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1251400690", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21912, 
    "headers": {
        "inReplyToHeader": "PDkxQzAyRTVGNTdCRTRFNzhCQTkyNTkyREQwOEM0QUI0QGtlbnRzcGF2aWxpb24+", 
        "messageIdInHeader": "PGg3Nm01aStlYjJoQGVHcm91cHMuY29tPg=="
    }
}