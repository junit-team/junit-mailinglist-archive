{
    "numMessagesInTopic": 1, 
    "nextInTime": 3532, 
    "senderId": "gzsVD5MSK6H2-tefiRETf5_nejyjEkdbevUoWItDBvYTm0Xh2gDtSKRMj-OkVDKeVewYRAYMcA_ikP_AcQ3539VcXsf-iMVuEAQsZSXjDtE", 
    "systemMessage": false, 
    "subject": "RE: Ant task, JUnit and trace filtering", 
    "from": "Scott Stirling &lt;sstirling@...&gt;", 
    "authorName": "Scott Stirling", 
    "msgSnippet": "Hello, After adding this feature to the basic formatter as well, this change to the junit, batchtest, and test tasks has been committed to the Ant 1.5 source ", 
    "msgId": 3531, 
    "rawEmail": "Return-Path: &lt;sstirling@...&gt;\r\nX-Sender: sstirling@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_2); 13 Dec 2001 17:57:23 -0000\r\nReceived: (qmail 73464 invoked from network); 13 Dec 2001 17:57:23 -0000\r\nReceived: from unknown (216.115.97.171)\n  by m12.grp.snv.yahoo.com with QMQP; 13 Dec 2001 17:57:23 -0000\r\nReceived: from unknown (HELO uscamexcp005.allaire.com) (63.109.192.35)\n  by mta3.grp.snv.yahoo.com with SMTP; 13 Dec 2001 17:57:20 -0000\r\nReceived: by uscamexcp005.allaire.com with Internet Mail Service (5.5.2653.19)\n\tid &lt;YWT3N11L&gt;; Thu, 13 Dec 2001 12:57:19 -0500\r\nMessage-ID: &lt;4F47DCFADC8DD5118D2B00508B952D960C3C6A@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: RE: Ant task, JUnit and trace filtering\r\nDate: Thu, 13 Dec 2001 12:57:17 -0500\r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nFrom: Scott Stirling &lt;sstirling@...&gt;\r\nX-Yahoo-Group-Post: member; u=65616759\r\nX-Yahoo-Profile: jrun5\r\n\r\nHello,\n\nAfter adding this feature to the basic formatter as well, this change to the\njunit, batchtest, and test tasks has been committed to the Ant 1.5 source\ntree.   \n\nIf you use Ant 1.5, the JUnit developers (Ken, Erich, anyone else?) may wish\nto disable this feature so they see more than just the\nAssertionFailedExceptions in any error or failure traces in JUnit itself.\nTo do so, set filtertrace=&quot;false&quot; in the junit, batchtest, or test task\nbeing used.  There should be a note about it in the WHAT&#39;S NEW section of\nthe Ant 1.5 docs when 1.5 is released.  Ant 1.5 is in alpha and only\navailable as source or a nightly build right now from\nhttp://jakarta.apache.org/ant.\n\nBest,\n\nScott Stirling\nJRun QA\nMacromedia\n\n&gt; -----Original Message-----\n&gt; From: Scott Stirling \n&gt; \n&gt; I modified the Apache Jakarta Ant JUnit task to support the \n&gt; JUnit feature that filters stack frames in exception and \n&gt; error messages so that junit framework method frames don&#39;t \n&gt; clutter your exception traces.  Unless you are testing JUnit \n&gt; itself, you really don&#39;t need to see any of those \n&gt; junit.framework.* stack frames in an exception trace.  The \n&gt; zip file containing this README, the source code, and a \n&gt; compiled version with the whole Ant optional.jar is in \n&gt; ant15-junitTask-stackFilter.zip at \n&gt; http://groups.yahoo.com/group/junit/files/\n&gt; \n&gt; It works with the PlainResultsFormatter and \n&gt; XMLResultsFormatter.  It works with the JUnit task, whether \n&gt; you fork the JVM or not, and it also works with the batchtest \n&gt; JUnit task, again, whether you fork or not.  Now we have \n&gt; nice, short exception traces in our nice HTML reports \n&gt; produced with the Ant JUnit and JUnitReport tasks.\n&gt; \n&gt; The built-in filter applies to the following call patterns:\n&gt;   &quot;junit.framework.TestCase&quot;,\n&gt;   &quot;junit.framework.TestResult&quot;,\n&gt;   &quot;junit.framework.TestSuite&quot;,\n&gt;   &quot;junit.framework.Assert.&quot;,\n&gt;   &quot;junit.swingui.TestRunner&quot;,\n&gt;   &quot;junit.awtui.TestRunner&quot;,\n&gt;   &quot;junit.textui.TestRunner&quot;,\n&gt;   &quot;java.lang.reflect.Method.invoke(&quot;,\n&gt;   &quot;org.apache.tools.ant.&quot;\n&gt; \n&gt; Like the filter in JUnit, it is not configurable, other than \n&gt; to turn it off/on.  It could be, but I think the intended \n&gt; purpose is pretty well achieved with that default set of patterns.\n&gt; \n&gt; To use it in a build.xml, do nothing; the filtering is \n&gt; enabled by default.  To disable it, just add the attribute \n&gt; filtertrace=&quot;false&quot; to your junit task element, e.g.:\n&gt; \n&gt; &lt;junit printsummary=&quot;yes&quot; filtertrace=&quot;true&quot; \n&gt; dir=&quot;${basedir}/lib&quot; haltonerror=&quot;${qa.junit.haltonerror}&quot; \n&gt; haltonfailure=&quot;${qa.junit.haltonfailure}&quot; fork=&quot;yes&quot;&gt;\n&gt; \n&gt; Here is an example of the before and after versions of a \n&gt; filtered AssertionFailedError run in Ant:\n&gt; \n&gt; Original, unfiltered output you get with Ant:\n&gt; \n&gt; junit.framework.AssertionFailedError\n&gt; at junit.framework.Assert.fail(Assert.java:51)\n&gt; at junit.framework.Assert.assertTrue(Assert.java:38)\n&gt; at junit.framework.Assert.assertNotNull(Assert.java:199)\n&gt; at junit.framework.Assert.assertNotNull(Assert.java:193)\n&gt; at test.jrunx.persistence.DatabaseTest.setUp(DatabaseTest.java:61)\n&gt; at junit.framework.TestCase.runBare(TestCase.java:138)\n&gt; at junit.framework.TestResult$1.protect(TestResult.java:106)\n&gt; at junit.framework.TestResult.runProtected(TestResult.java:124)\n&gt; at junit.framework.TestResult.run(TestResult.java:109)\n&gt; at junit.framework.TestCase.run(TestCase.java:131)\n&gt; at junit.framework.TestSuite.runTest(TestSuite.java:173)\n&gt; at junit.framework.TestSuite.run(TestSuite.java:168)\n&gt; at \n&gt; org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.r\n&gt; un(JUnitTestRunner.java:252)\n&gt; at \n&gt; org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.m\n&gt; ain(JUnitTestRunner.java:433)\n&gt; \n&gt; \n&gt; With filtertrace enabled:\n&gt; \n&gt; junit.framework.AssertionFailedError\n&gt; at test.jrunx.persistence.DatabaseTest.setUp(DatabaseTest.java:61)\n&gt; \n&gt; \n&gt; The source code is modified from Ant 1.5 source from about \n&gt; two weeks ago, so it will probably only work with Ant 1.5, \n&gt; but I haven&#39;t even tried it with 1.4.  You should be able to \n&gt; drop the optional.jar in the zip file into your $ANT_HOME/lib \n&gt; to try it out.  This optional.jar has &quot;the works&quot; -- pretty \n&gt; much all the optional tasks.\n&gt; \n&gt; The other option is to compile the source files and then &quot;jar \n&gt; uvf $ANT_HOME/lib/optional.jar \n&gt; org/apache/tools/ant/taskdefs/optional/junit&quot; the classes \n&gt; into your Ant optional.jar.\n&gt; \n&gt; Scott Stirling\n&gt; sstirling@...\n&gt; JRun QA\n&gt; Macromedia\n&gt; \n\n", 
    "profile": "jrun5", 
    "topicId": 3531, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 65616759, 
    "prevInTime": 3530, 
    "contentTrasformed": false, 
    "postDate": "1008266237", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PDRGNDdEQ0ZBREM4REQ1MTE4RDJCMDA1MDhCOTUyRDk2MEMzQzZBQHNhbHNhLmFsbGFpcmUuY29tPg=="
    }
}