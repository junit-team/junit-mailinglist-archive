{
    "numMessagesInTopic": 8, 
    "nextInTime": 2105, 
    "senderId": "KJh9VM1Ir4lT0PIxuv4nWbU1PyTiq9357UsSA9wVjqbcbmwMNLatwL1I2nSWarD4F5o91dtwvymymS7o6GfkV4wKNZZ_WEr0jMs", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: Errors and Exceptions", 
    "from": "Mike Duffy &lt;mduffy_lists@...&gt;", 
    "authorName": "Mike Duffy", 
    "msgSnippet": "I do see your point.  In general, I think that using throws Exception is bad coding. However, from the standpoint of maintaining a testing framework, using", 
    "msgId": 2104, 
    "topicId": 2070, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1874350398\">I do see your point.  In general, I think that using &quot;throws<br/>\nException&quot; is bad coding.<br/>\n<br/>\nHowever, from the standpoint of maintaining a testing framework,<br/>\nusing &quot;throws Exception&quot; might be acceptable.  When writing a test<br/>\nmethod the goal is to test a specific condition.  You can minimize<br/>\nyour work and maintenance by letting the JUint framework handle the<br/>\nthings that go wrong (catching exceptions and generating errors).<br/>\n<br/>\nIf you have twenty test methods that test the method &quot;aMethod&quot; and<br/>\neach of these methods has a throws clause identical to the throws<br/>\nclause in aMethod, whenever the throws clause for aMethod changes you<br/>\nhave twenty test methods to revise.  If each of your test methods<br/>\n&quot;throws Exception&quot;, a change in the throws clause of aMethod does not<br/>\naffect your test methods.<br/>\n<br/>\nMike<br/>\n<br/>\n<br/>\n<br/>\n--- <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dfw1@...\">dfw1@...</a> wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; --- In junit@y..., Mike Duffy &lt;mduffy_lists@y...&gt; wrote:<br/>\n&gt; &gt; I have only been using JUnit for a few months and I am focusing<br/>\n&gt; on<br/>\n&gt; &gt; creating &quot;best practices&quot; templates for our development team.<br/>\n&gt; &gt; <br/>\n&gt; &gt; I would greatly appreciate the insight of more experienced users<br/>\n&gt; on<br/>\n&gt; &gt; the following issue.<br/>\n&gt; &gt; <br/>\n&gt; &gt; Because an exception caught by the JUnit framework is an error,<br/>\n&gt; when<br/>\n&gt; &gt; testing a method that throws exceptions, it is best to include<br/>\n&gt; those<br/>\n&gt; &gt; exceptions in the throws clause of the test method (or even add a<br/>\n&gt; &gt; &quot;throws Exception&quot; to most test methods).  <br/>\n&gt; <br/>\n&gt; Hi Mike,<br/>\n&gt; <br/>\n&gt; My team at a previous job tried just adding &quot;throws Exception&quot; to<br/>\n&gt; all<br/>\n&gt; our test method footprints. The problem we hit was that other<br/>\n&gt; developers down the line would use our test code as example code<br/>\n&gt; when<br/>\n&gt; they reused the code we were testing. (Unit test code makes poor<br/>\n&gt; example code in so many ways, but was consistenty what the<br/>\n&gt; developers<br/>\n&gt; down line tried to use. That continued even when we provided<br/>\n&gt; example<br/>\n&gt; code.)<br/>\n&gt; <br/>\n&gt; I found it much better to list out all the exceptions that a test<br/>\n&gt; could possibly throw in the throws clause. It adds a tiny amount of<br/>\n&gt; overhead to writing the test code, but adds greatly to the<br/>\n&gt; awareness<br/>\n&gt; of just what can go wrong. Otherwise, people who use your code down<br/>\n&gt; line are likely to include &quot;throws Exception&quot; (or worse,<br/>\n&gt; catch(Exception ex)) in everything that uses your code. Also, it<br/>\n&gt; will<br/>\n&gt; tip you off to changes in the throws clauses in your code at<br/>\n&gt; compile<br/>\n&gt; time.<br/>\n&gt; <br/>\n&gt; Since then, I&#39;ve added a patch to junit that adds a fail(Exception)<br/>\n&gt; method to Assert. See<br/>\n&gt;<br/>\n </span></blockquote><a rel=\"nofollow\" target=\"_blank\" href=\"http://sourceforge.net/tracker/index.php?func=detail&aid=435699&group_id=15278&atid=315278\">http://sourceforge.net/tracker/index.php?func=detail&aid=435699&group_id=15278&atid=315278</a><br/>\n<blockquote><span title=\"ireply\"> &gt; (I feel like I&#39;m plugging a book in a talk show interview. :) )<br/>\n&gt; <br/>\n&gt; I personally prefer having try-catch-finally blocks in my tests,<br/>\n&gt; and<br/>\n&gt; this patch lets me do it. That reserves junit errors for<br/>\n&gt; RuntimeExceptions and Errors, and still gives me a full stack<br/>\n&gt; trace. <br/>\n&gt; <br/>\n&gt; Not everyone will want to run a patched junit 3.7, so listing out<br/>\n&gt; each<br/>\n&gt; exception seems a reasonable technique.<br/>\n&gt; <br/>\n&gt; &gt; public void testMethod() throws Exception {<br/>\n&gt; &gt; <br/>\n&gt; &gt;     returnValue = methodCall(args);<br/>\n&gt; &gt; <br/>\n&gt; &gt;     assertTrue(some condition);<br/>\n&gt; &gt; }<br/>\n&gt; &gt; <br/>\n&gt; &gt; The following template would be less correct:<br/>\n&gt; &gt; <br/>\n&gt; &gt; public void testMethod() {<br/>\n&gt; &gt; <br/>\n&gt; &gt;     try {<br/>\n&gt; &gt;         returnValue = methodCall(args);<br/>\n&gt; &gt; <br/>\n&gt; &gt;     } catch (Exception e){<br/>\n&gt; &gt; <br/>\n&gt; &gt;         fail(&quot;Exception should not be thrown: &quot; + e);<br/>\n&gt; &gt;     }<br/>\n&gt; &gt;      <br/>\n&gt; &gt;     assertTrue(some condition);<br/>\n&gt; &gt; }<br/>\n&gt; <br/>\n&gt; Don&#39;t forget that your assertTrue(some condition); can also throw<br/>\n&gt; exceptions, so these two blocks are not interchangable.<br/>\n&gt; <br/>\n&gt; I prefer<br/>\n&gt; <br/>\n&gt; public void testMethod() throws SomeExceptionThatMethodCallThrows<br/>\n&gt; {<br/>\n&gt; \ttry<br/>\n&gt; \t{<br/>\n&gt; \t\treturnValue = methodCall(args);<br/>\n&gt; \t\tassertTrue(some condition);<br/>\n&gt; \t}<br/>\n&gt; \tfinally<br/>\n&gt; \t{<br/>\n&gt; \t\t//any code to clean up the mess<br/>\n&gt; \t}<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; or (even better)<br/>\n&gt; <br/>\n&gt; public void testMethod()<br/>\n&gt; {<br/>\n&gt; \ttry<br/>\n&gt; \t{<br/>\n&gt; \t\treturnValue = methodCall(args);<br/>\n&gt; \t\tassertTrue(some condition);<br/>\n&gt; \t}<br/>\n&gt; \tcatch(SomeExceptionThatMethodCallThrows setmct)<br/>\n&gt; \t{<br/>\n&gt; \t\tfail(setmct);<br/>\n&gt; \t}<br/>\n&gt; \tfinally<br/>\n&gt; \t{<br/>\n&gt; \t\t//any code to clean up the mess<br/>\n&gt; \t}<br/>\n&gt; }<br/>\n&gt; <br/>\n&gt; &gt; In general, test methods should be very lean and focus<br/>\n&gt; specifically<br/>\n&gt; &gt; on the condition being tested; let the framework handle the rest.<br/>\n&gt; <br/>\n&gt; so long as the code is easy to read, and encourages good practices<br/>\n&gt; down the line. I discourage &quot;throws Exception&quot;s anywhere I see<br/>\n&gt; them.<br/>\n&gt; <br/>\n&gt; Anyway, that&#39;s how I do it. Others take different approaches, and<br/>\n&gt; have<br/>\n&gt; reasons for it.<br/>\n&gt; <br/>\n&gt; Dave<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n </span></blockquote>__________________________________________________<br/>\nDo You Yahoo!?<br/>\nMake international calls for as low as $.04/minute with Yahoo! Messenger<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://phonecard.yahoo.com/\">http://phonecard.yahoo.com/</a></div>", 
    "prevInTime": 2103, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "996075813", 
    "canDelete": false, 
    "nextInTopic": 2113, 
    "prevInTopic": 2101, 
    "headers": {
        "inReplyToHeader": "PDlqbWsyYStxbzF2QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDIwMDEwNzI1MTU0MzMzLjU0Mjc1LnFtYWlsQHdlYjE0OTA3Lm1haWwueWFob28uY29tPg=="
    }
}