{
    "numMessagesInTopic": 7, 
    "nextInTime": 10800, 
    "senderId": "Xe2fauUKxczkM6U7XSEfqG1Fs_2gTAK4101yx61I349AwHkxIm5F8cDHxn_TJoCPpmTWvv6819wQw2X13-b1-nd8lMkz8Ztd3h2wv2TC", 
    "systemMessage": false, 
    "subject": "RE: [junit] Best practice - should I fake, or depend on real worl\td objects?", 
    "from": "Jonathan Oddy &lt;j.oddy@...&gt;", 
    "authorName": "Jonathan Oddy", 
    "msgSnippet": "... setting ... the ... using ... serialization/deserialization. Perhaps my post was confusing.  I *have* a seperate set of serialisation/deserialisation tests", 
    "msgId": 10799, 
    "rawEmail": "Return-Path: &lt;J.Oddy@...&gt;\r\nX-Sender: J.Oddy@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 39466 invoked from network); 7 Apr 2004 13:19:09 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m13.grp.scd.yahoo.com with QMQP; 7 Apr 2004 13:19:09 -0000\r\nReceived: from unknown (HELO mail57.messagelabs.com) (195.245.230.115)\n  by mta1.grp.scd.yahoo.com with SMTP; 7 Apr 2004 13:18:57 -0000\r\nX-VirusChecked: Checked\r\nX-Env-Sender: J.Oddy@...\r\nX-Msg-Ref: server-13.tower-57.messagelabs.com!1081343913!2591893\r\nX-StarScan-Version: 5.2.10; banners=-,-,-\r\nReceived: (qmail 29113 invoked from network); 7 Apr 2004 13:18:33 -0000\r\nReceived: from mailgate.servicepower.com (195.8.178.34)\n  by server-13.tower-57.messagelabs.com with SMTP; 7 Apr 2004 13:18:33 -0000\r\nReceived: from ravel.sbs (ravel.sbs [172.16.2.13])\n\tby mailgate.servicepower.com (8.12.10/8.12.10) with ESMTP id i37DIUDN010147\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 7 Apr 2004 14:18:30 +0100\r\nReceived: from nt-stoc-0.sbs (nt-stoc-0 [172.16.2.11])\n\tby ravel.sbs (8.11.6/8.11.6) with ESMTP id i37DIUh16493\n\tfor &lt;junit@yahoogroups.com&gt;; Wed, 7 Apr 2004 14:18:30 +0100\r\nReceived: by nt-stoc-0.sbs with Internet Mail Service (5.5.2653.19)\n\tid &lt;HN7MF3AT&gt;; Wed, 7 Apr 2004 14:18:30 +0100\r\nMessage-ID: &lt;E5C79049D461D311B83100062950B54A0127C470@...&gt;\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nDate: Wed, 7 Apr 2004 14:18:29 +0100 \r\nMIME-Version: 1.0\r\nX-Mailer: Internet Mail Service (5.5.2653.19)\r\nContent-Type: text/plain\r\nX-eGroups-Remote-IP: 195.245.230.115\r\nFrom: Jonathan Oddy &lt;j.oddy@...&gt;\r\nSubject: RE: [junit] Best practice - should I fake, or depend on real worl\n\td objects?\r\nX-Yahoo-Group-Post: member; u=124029770\r\nX-Yahoo-Profile: jonathanoddy\r\n\r\nJonathan Oddy wrote:\n\n&gt;  &gt; JB responded:\n&gt;  &gt; \n&gt;  &gt;  &gt; Jonathan Oddy wrote:\n&gt;  &gt;  &gt;\n&gt;  &gt;  &gt;&gt; Does this seem like a resonable direction to be going - or am I\nsetting\n&gt;  &gt;  &gt;&gt; myself up for an unpleasant (unforseen) fall somewhere later down\nthe\n&gt;  &gt; track?\n&gt;  &gt;  &gt;&gt;\n&gt;  &gt;  &gt;&gt; Any thoughts/criticisms welcome.\n&gt;  &gt;  &gt;\n&gt;  &gt;  &gt; Quick question: what are you trying to test? Deserialization? or\nusing\n&gt;  &gt;  &gt; the deserialized object? Both?\n&gt;  &gt; \n&gt;  &gt; The later (is that the right answer?) \n\n&gt; If you&#39;re testing both, then test them separately. It looks like your \n&gt; deserialization headaches are affecting your ability to test using the \n&gt; deserialized object. Stop. Write some tests for\nserialization/deserialization. \n\nPerhaps my post was confusing.  I *have* a seperate set of\nserialisation/deserialisation tests that have nothing to do with the tests I\nmentioned in my original post.\n\n&gt; Write some tests for using the object. \n&gt; For the &quot;using the object&quot; tests, just create the objects in memory and \n&gt; use them, rather than deseralizing them.\n\nI think this is what I am/was doing.  However (almost) all of these &quot;data\ntype&quot; objects are only &quot;constructed&quot; through the deserialisation process -\nthey don&#39;t have constructors with 20+ arguments (may be they should, or may\nbe these data objects should be refactored into smaller classes...).  So\nwhen I come to use them during testing (because the method under test uses\nthem) I have a decision to make - should I (1) fake; (2) use the\ndeserialisation process to construct a &quot;real&quot; object; or (3) add a\nconstructor that takes 20+ parameters and construct my in memory object that\nway.  So far, depending on the nature of the test I&#39;ve been doing (1) and\n(2).  It&#39;s just that recently (probably because I am lazy I don&#39;t know) I&#39;ve\nnoticed that I&#39;ve been using (2) a whole lot more.\n\n&gt;  &gt; I have a number of deserialisation tests for those classes being\n&gt;  &gt; deserialised - so that&#39;s not what I am testing here.  I am simply using\nthe\n&gt;  &gt; fact that I &quot;know&quot; I have a &quot;working&quot; deserialisation process on some\nclass\n&gt;  &gt; &quot;A&quot; to speed up my test creation process.  It is much easier to\ndata-scrape\n&gt;  &gt; an objects serialised form from a log file and use an object\nconstructed\n&gt;  &gt; from that within my test than to fake it.  \n\n&gt;  Why not just create the object in memory? Why deserialize one?\n\nBecause, currently (as intimated in my previous comment) I don&#39;t have the\nability to create the object in memory as the object(s) in question only\nhave default constructors and no setters (they&#39;re immutable).  Currently the\nonly way to get a *useful* in memory object is to either (1) fake it, or (2)\nuse the object&#39;s built in deserialisation code.  The main advantage of (2)\nis it gives me a bonefide object to use with no externally built assumptions\n(other than the data from which it was &quot;constructed&quot; (deserialised) - but\nthen I&#39;d have that same problem with my 20+ argument constructor).\n\nSo my original question rephrased was: I want to depend on as little as\npossible and when I do I&#39;d prefer, where practical, to depend on &quot;real&quot;\nobjects rather than fakes, however as most of my data objects follow the\n&quot;deserialised construction idiom&quot; (I might just have made that term up) I\nwas querying whether there might be a better way of achieving this.\n\n", 
    "profile": "jonathanoddy", 
    "topicId": 10795, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 124029770, 
    "prevInTime": 10798, 
    "contentTrasformed": false, 
    "postDate": "1081343909", 
    "canDelete": false, 
    "nextInTopic": 10800, 
    "prevInTopic": 10798, 
    "headers": {
        "messageIdInHeader": "PEU1Qzc5MDQ5RDQ2MUQzMTFCODMxMDAwNjI5NTBCNTRBMDEyN0M0NzBAbnQtc3RvYy0wLnNicz4="
    }
}