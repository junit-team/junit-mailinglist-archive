{
    "numMessagesInTopic": 15, 
    "nextInTime": 4418, 
    "senderId": "8JqjYvdvv-XVAYa2HvLjuAh48zZyZ9hrYUZoiYWEV0t4N0f_hmn4hEOgRT9yhD_sYRepUETzYa0cYrs56lGGacHhpQsO-JSF", 
    "systemMessage": false, 
    "subject": "j2me unit testing", 
    "from": "&quot;don_quixada&quot; &lt;xanthus@...&gt;", 
    "authorName": "don_quixada", 
    "msgSnippet": "Hi, I posted this awhile ago and got no replies (either it got lost in the myriad of other messages or nobody chose to reply-- hopefully it was the former). ", 
    "msgId": 4417, 
    "profile": "don_quixada", 
    "topicId": 4417, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 101265409, 
    "messageBody": "<div id=\"ygrps-yiv-760156604\">Hi, I posted this awhile ago and got no replies (either it got lost <br/>\nin the myriad of other messages or nobody chose to reply-- hopefully <br/>\nit was the former).<br/>\n<br/>\nI&#39;d really like to get the textui testrunner working for j2me unit-- <br/>\nlet me know how. <br/>\n<br/>\nI will try to present my problem:<br/>\n<br/>\nFirst of all we&#39;re using Ant to build, preverify and test. Ant seems <br/>\nto be working great; however, the testing is not.<br/>\n<br/>\nBasically, the gist of what we&#39;re doing is testing the methods in a <br/>\nmidlet. We have the midlet (in this case HelloWorld) and the testing <br/>\napp (TestHelloWorld). All we&#39;re trying to in this code is create an <br/>\ninstance of HelloWorld and test that it is not null. Sounds simple, <br/>\nbut it doesn&#39;t work. We&#39;ve tried many, many different ways to get <br/>\naround this problem but nothing seems to work. The code is appended <br/>\nto the end of this document. <br/>\n<br/>\nThe problem is that as soon as a new instance is created an error <br/>\nhappens with j2me unit. Here&#39;s the Ant output:<br/>\n<br/>\n-----<br/>\nE:&#92;projects&#92;HelloWorld&gt;ant<br/>\nBuildfile: build.xml<br/>\n<br/>\ncompile:<br/>\n[javac] Compiling 1 source file to <br/>\nE:&#92;projects&#92;HelloWorld&#92;build&#92;tmpclasses<br/>\n<br/>\npreverify:<br/>\n[preverify] Preverifying classes to <br/>\nE:&#92;projects&#92;HelloWorld&#92;build&#92;classes<br/>\n<br/>\njar:<br/>\n[jar] Building jar: <br/>\nE:&#92;projects&#92;HelloWorld&#92;build&#92;lib&#92;HelloWorldProject.jar<br/>\n<br/>\ncompiletests:<br/>\n[javac] Compiling 1 source file to <br/>\nE:&#92;projects&#92;HelloWorld&#92;build&#92;tmptestcases<br/>\n<br/>\npreverifytests:<br/>\n[preverify] Preverifying classes to <br/>\nE:&#92;projects&#92;HelloWorld&#92;build&#92;testcases<br/>\n<br/>\nruntests:<br/>\n[java] TestRunner.main()<br/>\n[java] .E.E<br/>\n[java] Time: 30ms<br/>\n[java]<br/>\n[java] FAILURES!!!<br/>\n[java] Test Results:<br/>\n[java] Run: 2 Failures: 0 Errors: 2<br/>\n[java] There were 2 errors:<br/>\n[java] 1) testNotNull(test.com.ranksix.TestHelloWorld)<br/>\n[java] com/ranksix/HelloWorld<br/>\n[java] 2) testNull(test.com.ranksix.TestHelloWorld)<br/>\n[java] com/ranksix/HelloWorld<br/>\n[java]<br/>\n<br/>\nBUILD FAILED<br/>\n<br/>\nE:&#92;projects&#92;HelloWorld&#92;build.xml:59: Java returned: -1<br/>\n<br/>\nTotal time: 3 seconds<br/>\n-----<br/>\n<br/>\nWhat&#39;s inside the test methods does not matter. As soon as &#39;new <br/>\nHelloWorld()&#39; appears in the test, the errors happen. <br/>\n<br/>\nIf you comment out the hiWorld = new HelloWorld(); in the setUp() <br/>\nmethod of TestHelloWorld, the tests will run fine and pass (or fail) <br/>\naccordingly. <br/>\n<br/>\nWe&#39;ve tried to use both the textui testrunner and the midp.ui <br/>\ntestrunner, but neither work (of course we&#39;d prefer to use the text <br/>\nui so we can do nightly builds etc...).<br/>\n<br/>\nWe&#39;ve also tried just using junit. It&#39;s our feeling that since the <br/>\ntest app (HelloWorldTest) doesn&#39;t have anything to do with the kvm, <br/>\nthere shouldn&#39;t be any problems with testing since we are just <br/>\ntesting methods and classes of midlets; we&#39;re not actually running <br/>\nthe midlets. However, this does not seem to be the case since things <br/>\ndon&#39;t work with junit either (we&#39;re getting an error that&#39;s something <br/>\nlike: java.lang.UnsatisfiedLinkError: getProperty0 -- with a whole <br/>\nbunch of other error messages).<br/>\n<br/>\nI hope this is enough info for you to work with. If you want the Ant <br/>\nbuild file, I can provide that for you as well (I&#39;ll just have to <br/>\nclean it up a bit).<br/>\n<br/>\nThanks in advance,<br/>\n<br/>\ndq<br/>\n<br/>\n<br/>\n----------<br/>\n<br/>\n//:HelloWorld.java<br/>\n<br/>\npackage com.ranksix;<br/>\n<br/>\n/** This class simply outputs the string: &quot;Hello World!&quot;.<br/>\n*<br/>\n*/<br/>\nimport javax.microedition.midlet.MIDlet;<br/>\n<br/>\npublic class HelloWorld extends MIDlet<br/>\n{<br/>\n<br/>\npublic HelloWorld() <br/>\n{<br/>\nString aString = &quot;Hello World!&quot;;<br/>\n}<br/>\n<br/>\npublic void startApp() throws <br/>\njavax.microedition.midlet.MIDletStateChangeException<br/>\n{<br/>\n}<br/>\n<br/>\npublic void pauseApp() <br/>\n{<br/>\n}<br/>\n<br/>\npublic void destroyApp(boolean unconditional) throws <br/>\njavax.microedition.midlet.MIDletStateChangeException<br/>\n{<br/>\n}<br/>\n}<br/>\n<br/>\n// End of HelloWorld.java<br/>\n<br/>\n<br/>\n//:TestHelloWorld.java<br/>\n<br/>\npackage test.com.ranksix;<br/>\n<br/>\n/** Test cases for the HelloWorld Midlet<br/>\n*<br/>\n*/<br/>\nimport com.ranksix.HelloWorld;<br/>\nimport j2meunit.framework.TestCase;<br/>\nimport j2meunit.framework.AssertionFailedError;<br/>\nimport j2meunit.framework.TestSuite;<br/>\nimport j2meunit.framework.Test;<br/>\nimport j2meunit.framework.TestResult;<br/>\n<br/>\npublic class TestHelloWorld extends TestCase <br/>\n{<br/>\nprivate HelloWorld hiWorld;<br/>\n<br/>\npublic void setUp()<br/>\n{<br/>\nhiWorld = new HelloWorld();<br/>\n}<br/>\n<br/>\npublic void tearDown()<br/>\n{<br/>\nhiWorld = null;<br/>\n}<br/>\n<br/>\npublic void runTest() throws java.lang.Throwable <br/>\n{<br/>\nif(getTestMethodName().equals(&quot;testNotNull&quot;))<br/>\n{ <br/>\ntestNotNull(); <br/>\n}<br/>\nelse if(getTestMethodName().equals(&quot;testNull&quot;)) <br/>\n{<br/>\ntestNull();<br/>\n}<br/>\n}<br/>\n<br/>\npublic TestHelloWorld() // default constructor<br/>\n{<br/>\nsuper(&quot;null&quot;);<br/>\n}<br/>\n<br/>\npublic TestHelloWorld(String name) <br/>\n{<br/>\nsuper(name);<br/>\n}<br/>\n<br/>\npublic static void main(String[] args) <br/>\n{ <br/>\nString[] runnerArgs = new String[] <br/>\n{&quot;test.com.ranksix.TestHelloWorld&quot;};<br/>\nj2meunit.textui.TestRunner.main(runnerArgs);<br/>\n} <br/>\n<br/>\npublic Test suite() <br/>\n{<br/>\nreturn new TestSuite(new TestHelloWorld().getClass(),new String[] <br/>\n{&quot;testNotNull&quot;,&quot;testNull&quot;});<br/>\n}<br/>\n<br/>\npublic void testNotNull() <br/>\n{ <br/>\nassertNotNull(hiWorld);<br/>\n//assertEquals(&quot;should be equal&quot;,4,4);<br/>\n}<br/>\n<br/>\npublic void testNull() <br/>\n{ <br/>\nassertNull(hiWorld);<br/>\n//assertEquals(&quot;should be equal&quot;,3,4);<br/>\n}<br/>\n<br/>\n}<br/>\n// End of TestHelloWorld.java</div>", 
    "prevInTime": 4416, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1016572461", 
    "canDelete": false, 
    "nextInTopic": 4422, 
    "prevInTopic": 0, 
    "headers": {
        "messageIdInHeader": "PGE3ODluZCt1OGtsQGVHcm91cHMuY29tPg=="
    }
}