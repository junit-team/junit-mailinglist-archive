{
    "numMessagesInTopic": 9, 
    "nextInTime": 14117, 
    "senderId": "D7j9lIuuCay6fAO68wpI9YxtY_JDCmLhC3KF8rnQtAAdCJpMD_rCt0Ta4Q0fGYMTzTBacT9_aNKzoqn8W_ENuQ_KMkYpOyVW2VCvM_xjdw", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Methods with Random Numbers", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... There is exactly what we do to test behavior that uses randomness: we hide the ugly randomness behind an interface, then generate fixed sequences of data", 
    "msgId": 14116, 
    "rawEmail": "Return-Path: &lt;jbrains@...&gt;\r\nX-Sender: jbrains@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 27644 invoked from network); 12 Jul 2005 00:08:07 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m26.grp.scd.yahoo.com with QMQP; 12 Jul 2005 00:08:07 -0000\r\nReceived: from unknown (HELO smtp101.rog.mail.re2.yahoo.com) (206.190.36.79)\n  by mta6.grp.scd.yahoo.com with SMTP; 12 Jul 2005 00:08:07 -0000\r\nReceived: (qmail 22513 invoked from network); 12 Jul 2005 00:08:06 -0000\r\nReceived: from unknown (HELO ?192.168.1.110?) (srainsberger5790@69.197.252.38 with plain)\n  by smtp101.rog.mail.re2.yahoo.com with SMTP; 12 Jul 2005 00:08:06 -0000\r\nMessage-ID: &lt;42D30A16.6090400@...&gt;\r\nDate: Mon, 11 Jul 2005 20:08:54 -0400\r\nUser-Agent: Mozilla Thunderbird 0.9 (Macintosh/20041103)\r\nX-Accept-Language: en-us, en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;dan9s6+icni@...&gt;\r\nIn-Reply-To: &lt;dan9s6+icni@...&gt;\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-eGroups-Msg-Info: 4:13:32\r\nFrom: &quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;\r\nSubject: Re: [junit] Testing Methods with Random Numbers\r\nX-Yahoo-Group-Post: member; u=127224993; y=VVaSGoXywSqtIunKfL_N_8hvy2TA5Fu1GgWfk83aS-1qHW8\r\nX-Yahoo-Profile: nails762\r\n\r\nMichael wrote:\n&gt; Hi. I was brainstorming and idea on the drive home from work tonight\n&gt; and realized I didn&#39;t know how to test something. This didn&#39;t come as\n&gt; a major shock, but I think I have an idea for a solution and I would\n&gt; like some devil&#39;s advocates :)\n&gt; \n&gt; Suppose the following class:\n&gt; \n&gt; public class SomeClass {\n&gt;    public boolean doSomething(double x, double y) {\n&gt;       double a = Math.random();\n&gt;       double b = Math.random();\n&gt;       return (x+a) &gt; (y+b);\n&gt;    }\n&gt; }\n&gt; \n&gt; Writing a test case for this is next to impossible because you do not\n&gt; know the results of the method beforehand. But what if there were an\n&gt; interface:\n&gt; \n&gt; public interface DoubleGenerator { public double nextDouble(); }\n&gt; \n&gt; that SomeClass depends on.\n&gt; \n&gt; public class SomeClass {\n&gt;    private DoubleGenerator doubleGenerator;\n&gt;    //setter method\n&gt; \n&gt;    public boolean doSomething(double x, double y) {\n&gt;       double a = doubleGenerator.nextDouble();\n&gt;       double b = doubleGenerator.nextDouble();\n&gt;       return (x+a) &gt; (y+b);\n&gt;    }\n&gt; }\n&gt; \n&gt; The implementation of DoubleGenerator in production code could be a\n&gt; wrapper around Math.random() and a testing implementation could allow\n&gt; you to set the sequence of doubles to return.\n&gt; \n&gt; You could also use java.util.Random instead of DoubleGenerator and\n&gt; subclass it to allow setting of the sequence, but I don&#39;t like having\n&gt; all the extra methods when SomeClass only needs one of them. However,\n&gt; having the extra methods allows for flexibility later. Opinions?\n\nThere is exactly what we do to test behavior that uses randomness: we \nhide the ugly randomness behind an interface, then generate fixed \nsequences of data in tests and use the random implementation in production.\n\n&gt; Also, is setting a DoubleGenerator with two doubles good practice? For\n&gt; now, doSomething() needs two doubles, but it may need three or four\n&gt; later. Is this &quot;inside knowledge&quot; bad practice when writing tests?\n\nIf you think it might need 3 or 4, then it should probably take a \ncollection of some kind. This is perfectly good practice in tests.\n\nI find it nice when I independently discover something that is already \nestablished practice. It tells me I&#39;m on a good path.\n\nTake care.\n-- \nJ. B. (Joe) Rainsberger\nDiaspar Software Services\nhttp://www.diasparsoftware.com\nAuthor, JUnit Recipes: Practical Methods for Programmer Testing\n\n", 
    "profile": "nails762", 
    "topicId": 14105, 
    "spamInfo": {
        "reason": "13", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "prevInTime": 14115, 
    "contentTrasformed": false, 
    "postDate": "1121126934", 
    "canDelete": false, 
    "nextInTopic": 14118, 
    "prevInTopic": 14108, 
    "headers": {
        "inReplyToHeader": "PGRhbjlzNitpY25pQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PDQyRDMwQTE2LjYwOTA0MDBAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PGRhbjlzNitpY25pQGVHcm91cHMuY29tPg=="
    }
}