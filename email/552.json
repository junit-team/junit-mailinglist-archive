{
    "numMessagesInTopic": 4, 
    "nextInTime": 553, 
    "senderId": "Tjabad-bdHStfN-nvTTxoGsutZKWbfwIDmvTliXXQvp15f6J4QWUTacaO0v8fcygvC5K-I7VlTRNxPA", 
    "systemMessage": false, 
    "subject": "Re: [junit] RE: running an EJB client as a JUnit TestCase", 
    "from": "mrettig@...", 
    "authorName": "mrettig@homemail.com", 
    "msgSnippet": "... I may have a ClassLoader problem. Running the same code, from a main() which calls setUp() and mimics TestRunner, runs just fine from the ... the", 
    "msgId": 552, 
    "topicId": 551, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1437754919\">Chuck Herrick wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt;Hello,<br/>\n </span></blockquote>I&gt; may have a ClassLoader problem. Running the same code, from a main()<br/>\nwhich calls setUp() and mimics TestRunner, runs just fine from the<br/>\n<blockquote><span title=\"ireply\"> &gt;commandline as well as from insdide TogetherJ. In fact, if I cut&#39;n&#39;paste<br/>\n </span></blockquote>the -classpath from these, I still get the cast exception from a run via<br/>\nTestRunner.<br/>\n<blockquote><span title=\"ireply\"> &gt;java.lang.Object o = ctx.lookup(&quot;JNDI_NAME&quot;) ;<br/>\n&gt;System.out.println(o.getClass().getName()) ;<br/>\n&gt;System.out.println(o instanceof FoobarHome) ;<br/>\n&gt;should echo first the classname of the WebLogic-generated stub and then<br/>\n </span></blockquote>the word true.<br/>\n<br/>\nYou are probably right about the class loader. Junit uses a customized<br/>\nclass loader. The ctx.lookup() uses a different class loader. To check this<br/>\nput the following assert in your code.<br/>\n<br/>\njava.lang.Object o = ctx.lookup(&quot;JNDI_NAME&quot;) ;<br/>\nassertEquals(o.getClass().getClassLoader(), this.getClass().getClassLoader<br/>\n());<br/>\n<br/>\nYou can run junit without a customized class loader, and this will solve<br/>\nyour problem.<br/>\n<br/>\nMike</div>", 
    "prevInTime": 551, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "983210288", 
    "canDelete": false, 
    "nextInTopic": 553, 
    "prevInTopic": 551, 
    "headers": {
        "messageIdInHeader": "PE9GMDlBRjZBQ0QuRkZFOTQ3MDgtT044NjI1NjlGRi4wMDYyMkFDOUB0aG91Z2h0d29ya3MuY29tPg=="
    }
}