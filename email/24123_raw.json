{
    "numMessagesInTopic": 27, 
    "nextInTime": 24124, 
    "senderId": "JTyImlXs5HvwZJKhNEeS46QuM-TSK-DDaSOEcPQFjvtaJnuk221jrnUFtH1wcRRv22lTicdRfe1Pb3q3rZPIIqU4DxXyxBVCHGj2LrT3", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: assertArrayEquals on arrays of objects", 
    "from": "Matthew Farwell &lt;matthew@...&gt;", 
    "authorName": "Matthew Farwell", 
    "msgSnippet": "A number of reasons: 1) equals and hashCode are hard to get right, so why do something difficult twice? (see Always override hashCode when you override ", 
    "msgId": 24123, 
    "rawEmail": "Return-Path: &lt;matthewjfarwell@...&gt;\r\nReceived: (qmail 3765 invoked from network); 20 Nov 2012 16:42:14 -0000\r\nReceived: from unknown (98.137.35.160)\n  by m4.grp.sp2.yahoo.com with QMQP; 20 Nov 2012 16:42:14 -0000\r\nReceived: from unknown (HELO ng1-ip1.bullet.mail.ne1.yahoo.com) (98.138.215.55)\n  by mta4.grp.sp2.yahoo.com with SMTP; 20 Nov 2012 16:42:14 -0000\r\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoogroups.com; s=echo; t=1353429734; bh=0UVcjOJkQ+N8fWdM07o5QPFQqUIUUDQqx8vSxJdHu+Q=; h=Received:Received:X-Sender:X-Apparently-To:X-Received:X-Received:X-Received:X-Received:X-Received:MIME-Version:X-Received:In-Reply-To:References:Date:X-Google-Sender-Auth:Message-ID:To:X-Originating-IP:X-eGroups-Msg-Info:From:Subject:X-Yahoo-Group-Post:X-Yahoo-Profile:Content-Type:Content-Transfer-Encoding:X-YGroups-SubInfo:Sender:X-Yahoo-Newman-Property:X-eGroups-Approved-By:X-eGroups-Auth; b=Ui3+jzOR1fDRbwr05Syq0TWgIbPScG3cTDqE2sYOkx4OaJrL/67Xz5+iHDHNSgVoD13VElkHhPKp1yPZRhoOs4iABJRiRYFecU2Xb2juyYdkHvoKpuqdFP9XJge3svHEFwZAZBPLkRMSxSGwwyUYI7CY8F8uOOdMC/CD2f/iJsw=\r\nReceived: from [98.138.217.176] by ng1.bullet.mail.ne1.yahoo.com with NNFMP; 20 Nov 2012 16:42:14 -0000\r\nReceived: from [98.137.34.72] by tg1.bullet.mail.ne1.yahoo.com with NNFMP; 20 Nov 2012 16:42:14 -0000\r\nX-Sender: matthewjfarwell@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 35280 invoked from network); 20 Nov 2012 14:17:11 -0000\r\nX-Received: from unknown (98.137.34.44)\n  by m3.grp.sp2.yahoo.com with QMQP; 20 Nov 2012 14:17:11 -0000\r\nX-Received: from unknown (HELO mail-qc0-f173.google.com) (209.85.216.173)\n  by mta1.grp.sp2.yahoo.com with SMTP; 20 Nov 2012 14:17:11 -0000\r\nX-Received: by mail-qc0-f173.google.com with SMTP id b12so4686352qca.32\n        for &lt;junit@yahoogroups.com&gt;; Tue, 20 Nov 2012 06:17:10 -0800 (PST)\r\nX-Received: by 10.49.82.75 with SMTP id g11mr13326789qey.12.1353421030465; Tue,\n 20 Nov 2012 06:17:10 -0800 (PST)\r\nMIME-Version: 1.0\r\nX-Received: by 10.229.62.230 with HTTP; Tue, 20 Nov 2012 06:16:50 -0800 (PST)\r\nIn-Reply-To: &lt;k8free+vnk3@...&gt;\r\nReferences: &lt;DA6E9228-6EDC-44AE-92A0-35B06F81104C@...&gt; &lt;k8free+vnk3@...&gt;\r\nDate: Tue, 20 Nov 2012 15:16:50 +0100\r\nX-Google-Sender-Auth: oIVOGx5pASPVlVU-zLh01uCUZ4A\r\nMessage-ID: &lt;CAOBkoFX-rKNvgo93LG+a3z+CRa_L5_en_UeBhHcaR8gXdcKioA@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Matthew Farwell &lt;matthew@...&gt;\r\nSubject: Re: [junit] Re: assertArrayEquals on arrays of objects\r\nX-Yahoo-Group-Post: member; u=499556184; y=VNEN_avAGHEPJFOz_886UtIlGTGFJ3XOVKWQFt2myqyusWzW\r\nX-Yahoo-Profile: mjfarwell\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 20 Nov 2012 16:42:13 -0000\r\n\r\nA number of reasons:\n\n1) equals and hashCode are hard to get right, so why =\r\ndo something difficult\ntwice? (see Always override hashCode when you overri=\r\nde\nequals&lt;http://books.google.ch/books?id=3Dka2VUBqHiWkC&pg=3DPA45&lpg=3DPA=\r\n45&dq=3Deffective+java+hashcode+equals&source=3Dbl&ots=3DyYHiMfw2T3&sig=3Df=\r\n9nvbLZBX1_WuKBQWaCwHUG1hkA&hl=3Den&sa=3DX&ei=3DOourULLXBOrd4QTwqYDwDA&ved=\r\n=3D0CEkQ6AEwBA#v=3Donepage&q=3Deffective%20java%20hashcode%20equals&f=3Dfal=\r\nse&gt;\n)\n2) as the above link says, you always need to do both. If you do one,=\r\n then\ndo the other, so you have to apply the same rigour to your test code =\r\nas you\ndo to your code under test.\n3) Lots of collection classes (such as M=\r\nap, Set) implicitly rely on\nhashCode/equals. Overriding these methods can c=\r\nhange behaviour, and\ngenerally confuse things. If equals() and hashCode() i=\r\nn your test code are\nimplemently correctly, then functionally the code will=\r\n be correct, but may\nhave performance changes. (Think of public int hashCod=\r\ne() { return 13; } -\nThis will put all of your keys in the same bucket in a=\r\n HashMap).\n4) Objects inserted in a map/set by the code under test won&#39;t be=\r\n found by\nthe test code, because you&#39;ve overridden equals() and hashCode().=\r\n\n5) ORMs such as hibernate depend implicitly on hashCode and equals. If the=\r\ny\nare lazily loaded, then the class itself will be a dynamic proxy, so\nthis=\r\n.getClass() !=3D o.getClass(), so implementing equals becomes more\ncomplica=\r\nted.\n\nFor more information, I recommend reading Overriding equals and hashC=\r\node in\nJava&lt;http://stackoverflow.com/questions/27581/overriding-equals-and-=\r\nhashcode-in-java&gt;,\nespecially the accepted answer, and the hibernate answer=\r\n.\n\nConvinced yet?\n\nSo either implement equals() and hashCode() correctly in=\r\n your real classes,\nor use custom code to test for equality (such as a Matc=\r\nher, or simply a\ncustom method).\n\nMatthew Farwell.\n\n2012/11/20 halfpirate12=\r\n10 &lt;bell_beauty12@...&gt;\n\n&gt; **\n&gt;\n&gt;\n&gt; Hi zodiaczx6\n&gt;\n&gt; I&#39;m a little cu=\r\nrious; can you please tell me why you&#39;re against doing such\n&gt; for tests?\n&gt;\n=\r\n&gt; Cheers,\n&gt; halfpirate1210\n&gt;\n&gt;\n&gt; --- In junit@yahoogroups.com, Colin Vipurs=\r\n &lt;zodiaczx6@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; You&#39;ll need to override equals (and by defi=\r\nnition hashCode) on the\n&gt; objects in your array. I generally advise against=\r\n doing this purely for\n&gt; tests and instead look at implementing your own ha=\r\nmcrest matcher.\n&gt; &gt;\n&gt; &gt; On Nov 17, 2012, at 7:39 PM, &quot;halfpirate1210&quot; &lt;bell=\r\n_beauty12@...&gt; wrote:\n&gt; &gt;\n&gt; &gt; &gt; Hello.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Newbie here.\n&gt; &gt; &gt;\n&gt; &gt; &gt;=\r\n I created a class (let&#39;s say class A) and in my JUnit class, I created\n&gt; a=\r\nn object (let&#39;s say object A1) from class A. Object A1 contains several\n&gt; v=\r\nariables and most importantly, an array of objects which are instantiated\n&gt;=\r\n from another class (let&#39;s say class B); so the elements in that array are\n=\r\n&gt; objects, not data types like int, string, etc.\n&gt; &gt; &gt;\n&gt; &gt; &gt; So I wanted to=\r\n test this array of objects with another array of\n&gt; objects by simply creat=\r\ning another object; A2 from class A. I wanted to\n&gt; test using assertArrayEq=\r\nuals and the result is red bar.\n&gt; &gt; &gt;\n&gt; &gt; &gt; So my question is why did the t=\r\nest fail? I&#39;m thinking probably objects\n&gt; are always different since they a=\r\nre based on reference? But then again\n&gt; assertArrayEquals checks array leng=\r\nth and content.\n&gt; &gt; &gt;\n&gt; &gt; &gt; Many thanks,\n&gt; &gt; &gt; halfpirate1210\n&gt; &gt; &gt;\n&gt; &gt; &gt;\n&gt;=\r\n &gt;\n&gt; &gt;\n&gt; &gt; [Non-text portions of this message have been removed]\n&gt; &gt;\n&gt;\n&gt;  \n=\r\n&gt;\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "mjfarwell", 
    "topicId": 24091, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 499556184, 
    "prevInTime": 24122, 
    "contentTrasformed": false, 
    "postDate": "1353421010", 
    "canDelete": false, 
    "nextInTopic": 24124, 
    "prevInTopic": 24121, 
    "headers": {
        "inReplyToHeader": "PGs4ZnJlZSt2bmszQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PENBT0Jrb0ZYLXJLTnZnbzkzTEcrYTN6K0NSYV9MNV9lbl9VZUJoSGNhUjhnWGRjS2lvQUBtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PERBNkU5MjI4LTZFREMtNDRBRS05MkEwLTM1QjA2RjgxMTA0Q0BnbWFpbC5jb20+IDxrOGZyZWUrdm5rM0BlR3JvdXBzLmNvbT4="
    }
}