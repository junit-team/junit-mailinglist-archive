{
    "topicId": 1003, 
    "postDate": "987775701", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Joi Ellis &lt;joi@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "wmsMUPxBcq5OSNjiCCX1NQm_WfgAPfMdtkmsp2UrdMBiQikUjqIeA4YeK29tOV8axOJA_wwYo0PUXWpXKDIC6jM", 
    "nextInTime": 1006, 
    "userId": 0, 
    "prevInTime": 1004, 
    "prevInTopic": 1003, 
    "headers": {
        "inReplyToHeader": "PEZEQjAyNDBDQjE5RUQzMTFCRDhEMDA1MDhCNUJGNzRCMDcyQTEwNERAVFdSUC1FWENILTAwMT4=", 
        "messageIdInHeader": "PFBpbmUuTE5YLjQuMjEuMDEwNDIwMDg1NTU4MC4zMjQ4Ny0xMDAwMDBAam9pLmFyYXZveC5jb20+"
    }, 
    "authorName": "Joi Ellis", 
    "numMessagesInTopic": 3, 
    "msgSnippet": "... I d stick the showMessageDialog() call within a SwingUtilities.invokeLater() call.  This allows your test thread to continue operating. ... Eek.  doClick()", 
    "contentTrasformed": false, 
    "msgId": 1005, 
    "nextInTopic": 1007, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;joi@...&gt;\r\nX-Sender: joi@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_1_2); 20 Apr 2001 14:10:04 -0000\r\nReceived: (qmail 78770 invoked from network); 20 Apr 2001 14:10:03 -0000\r\nReceived: from unknown (10.1.10.26) by l10.egroups.com with QMQP; 20 Apr 2001 14:10:03 -0000\r\nReceived: from unknown (HELO linux.aravox.com) (209.46.41.66) by mta1 with SMTP; 20 Apr 2001 14:10:02 -0000\r\nReceived: from joi.aravox.com (IDENT:joi@... [192.168.1.155] (may be forged)) by linux.aravox.com (8.9.3/8.9.3) with ESMTP id JAA14624 for &lt;junit@yahoogroups.com&gt;; Fri, 20 Apr 2001 09:08:22 -0500\r\nDate: Fri, 20 Apr 2001 09:08:21 -0500 (CDT)\r\nTo: &quot;&#39;junit@yahoogroups.com&#39;&quot; &lt;junit@yahoogroups.com&gt;\r\nSubject: Re: [junit] Testing JOptionPane\r\nIn-Reply-To: &lt;FDB0240CB19ED311BD8D00508B5BF74B072A104D@TWRP-EXCH-001&gt;\r\nMessage-ID: &lt;Pine.LNX.4.21.0104200855580.32487-100000@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: TEXT/PLAIN; charset=US-ASCII\r\nFrom: Joi Ellis &lt;joi@...&gt;\r\n\r\nOn Fri, 20 Apr 2001, Logan, Daniel (ING) wrote:\n\n&gt; Since the JOptionPane.showMessageDialog(...) method presents a modal dialog\n&gt; and the thread halts execution until a user intervenes how can I test this?\n\nI&#39;d stick the showMessageDialog() call within a SwingUtilities.invokeLater()\ncall.  This allows your test thread to continue operating.\n\n&gt; \n&gt; here is the test case I am struggling with:\n&gt; \n&gt; public void testInformationMessage( )\n&gt; {\n&gt; \tMyPanel panel = new MyPanel();\n&gt; \tpanel.someButton.doClick();   //MyPanel will listen for button click\n&gt; and show info message\n\nEek.  doClick() is not thread-safe.  I ended up writing a static clicker\nmethod:\n\n /**\n   * Safely call doClick() on the specified JButton.\n   * @param button The button to doClick().\n   */\n  public static void safeDoClick(final JButton button) {\n    try {\n      SwingUtilities.invokeAndWait(\n        new Runnable() {\n          public void run() {\n            button.doClick();\n          }\n        }\n      );\n    }\n    catch (Exception ex) {\n      ex.printStackTrace();\n    }\n  }\n\nI&#39;d do something like this pseudo-code:\n  \n  safeShowMessageDialog( panel );\n  sleep(1 second);\n  assert(panel.isVisible());\n  safeDoClick(panel.button);\n  sleep(1 second);\n  assert(! panel.isVisible());\n  assert(&quot;whatever happens after button is clicked&quot;,...);\n\nI don&#39;t like using sleep() since it&#39;s fragile but I haven&#39;t had any\ntrouble with it in a year&#39;s testing, so...  I prefer turning the test class\ninto an event listener and having it wait for events to arrive before\nproceeding.  I have an extension class that implements a bunch of \nlisteners and stuffs events into a queue for later inspection.\n\n&gt; \t// assert????????   what do I assert here....after returning from\n&gt; doClick it is to late because\n&gt; \t//the JOptionPane would be closed\n&gt; \t//furthermore...how will I even automate the click on the OK button\n&gt; within the JOptionPane\n&gt; \t//so it does not just hang indefinitely?\n&gt; }\n-- \nJoi Ellis                    Software Engineer\nAravox Technologies          joi@..., gyles19@...\n\nNo matter what we think of Linux versus FreeBSD, etc., the one thing I\nreally like about Linux is that it has Microsoft worried.  Anything\nthat kicks a monopoly in the pants has got to be good for something.\n           - Chris Johnson\n\n\n", 
    "subject": "Re: [junit] Testing JOptionPane"
}