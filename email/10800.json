{
    "numMessagesInTopic": 7, 
    "nextInTime": 10801, 
    "senderId": "n0FkVN4rezwi22AcypT4RbOqZGkXS6KH5_qiQ-dCuKmWKoo1a0atCZBQvOn6IKBp4FbWdwek4-a_60Qx7oEdkD-6wOpET9GXswQDPx_mjQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] Best practice - should I fake, or depend on real worl d objects?", 
    "from": "&quot;J. B. Rainsberger&quot; &lt;jbrains@...&gt;", 
    "authorName": "J. B. Rainsberger", 
    "msgSnippet": "... Those aren t the ones I was worriked about. ... There s your answer, but don t add constructors: add creation methods. A class ought to have one", 
    "msgId": 10800, 
    "profile": "nails762", 
    "topicId": 10795, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 127224993, 
    "messageBody": "<div id=\"ygrps-yiv-688639939\">Jonathan Oddy wrote:<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Perhaps my post was confusing.  I *have* a seperate set of<br/>\n&gt; serialisation/deserialisation tests that have nothing to do with the tests I<br/>\n&gt; mentioned in my original post.<br/>\n<br/>\n </span></blockquote>Those aren&#39;t the ones I was worriked about.<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt;  &gt; Write some tests for using the object.<br/>\n&gt;  &gt; For the &quot;using the object&quot; tests, just create the objects in memory and<br/>\n&gt;  &gt; use them, rather than deseralizing them.<br/>\n&gt; <br/>\n&gt; I think this is what I am/was doing.  However (almost) all of these &quot;data<br/>\n&gt; type&quot; objects are only &quot;constructed&quot; through the deserialisation process -<br/>\n&gt; they don&#39;t have constructors with 20+ arguments (may be they should, or may<br/>\n&gt; be these data objects should be refactored into smaller classes...).  <br/>\n<br/>\n </span></blockquote>There&#39;s your answer, but don&#39;t add constructors: add creation methods. A <br/>\nclass ought to have one constructor that takes all the data the object <br/>\nneeds. For multiple ways of creating an object, use creation methods <br/>\n(class-level methods).<br/>\n<br/>\n<blockquote><span title=\"ireply\">  &gt; So<br/>\n&gt; when I come to use them during testing (because the method under test uses<br/>\n&gt; them) I have a decision to make - should I (1) fake; (2) use the<br/>\n&gt; deserialisation process to construct a &quot;real&quot; object; or (3) add a<br/>\n&gt; constructor that takes 20+ parameters and construct my in memory object that<br/>\n&gt; way.  <br/>\n<br/>\n </span></blockquote>#3, beyond question. If #3 is very slow, then consider extracting an <br/>\ninterface and doing #1. Do not do #2, since that is testing two things <br/>\nat once, and that will make you feel pain. (And here you are.)<br/>\n<br/>\n&lt;snip /&gt;<br/>\n<blockquote><span title=\"ireply\"> &gt; So my original question rephrased was: I want to depend on as little as<br/>\n&gt; possible and when I do I&#39;d prefer, where practical, to depend on &quot;real&quot;<br/>\n&gt; objects rather than fakes, however as most of my data objects follow the<br/>\n&gt; &quot;deserialised construction idiom&quot; (I might just have made that term up) I<br/>\n&gt; was querying whether there might be a better way of achieving this.<br/>\n<br/>\n </span></blockquote>Especially for bags of data, use the real thing wherever possible.<br/>\n-- <br/>\nJ. B. Rainsberger,<br/>\nDiaspar Software Services<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.diasparsoftware.com\">http://www.diasparsoftware.com</a> :: +1 416 791-8603<br/>\nLet&#39;s write software that people understand</div>", 
    "prevInTime": 10799, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1081344966", 
    "canDelete": false, 
    "nextInTopic": 10801, 
    "prevInTopic": 10799, 
    "headers": {
        "inReplyToHeader": "PEU1Qzc5MDQ5RDQ2MUQzMTFCODMxMDAwNjI5NTBCNTRBMDEyN0M0NzBAbnQtc3RvYy0wLnNicz4=", 
        "messageIdInHeader": "PDQwNzQwM0M2LjcwOTA5MDRAcm9nZXJzLmNvbT4=", 
        "referencesHeader": "PEU1Qzc5MDQ5RDQ2MUQzMTFCODMxMDAwNjI5NTBCNTRBMDEyN0M0NzBAbnQtc3RvYy0wLnNicz4="
    }
}