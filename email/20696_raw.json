{
    "numMessagesInTopic": 7, 
    "nextInTime": 20697, 
    "senderId": "H1XUDOQ4rvwlRV2cyWuwAEdVNQseQvHDtfoW8jKIadRnIAkL0o2RLmHFB2x9OXI68_hkxTtCdlpVEfqko46D-Ajwp5ogl0lLLJRGGZkoaJEKoAqm4A", 
    "systemMessage": false, 
    "subject": "Re: [junit] Parameterized Tests, a proposal", 
    "from": "Malte Finsterwalder &lt;malte@...&gt;", 
    "authorName": "Malte Finsterwalder", 
    "msgSnippet": "Hey Kent, I think we still have a missunderstanding to some degree. My focus is not to provide many different fixtures in one test-class. I agree that one", 
    "msgId": 20696, 
    "rawEmail": "Return-Path: &lt;malte@...&gt;\r\nX-Sender: malte@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 93707 invoked from network); 17 Jul 2008 18:26:28 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m44.grp.scd.yahoo.com with QMQP; 17 Jul 2008 18:26:28 -0000\r\nX-Received: from unknown (HELO mail.gmx.net) (213.165.64.20)\n  by mta18.grp.scd.yahoo.com with SMTP; 17 Jul 2008 18:26:28 -0000\r\nX-Received: (qmail invoked by alias); 17 Jul 2008 18:26:25 -0000\r\nX-Received: from d061078.adsl.hansenet.de (EHLO [127.0.0.1]) [80.171.61.78]\n  by mail.gmx.net (mp056) with SMTP; 17 Jul 2008 20:26:25 +0200\r\nX-Authenticated: #23855592\r\nX-Provags-ID: V01U2FsdGVkX18iZpknpJ0i0oDy8yeTgAHAs4PL0sUgwWjaeTPjkG\n\tNu+AAbcYbRc6t4\r\nMessage-ID: &lt;487F8ECF.9070308@...&gt;\r\nDate: Thu, 17 Jul 2008 20:26:23 +0200\r\nUser-Agent: Thunderbird 2.0.0.14 (Windows/20080421)\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nReferences: &lt;48746211.3060100@...&gt; &lt;019c01c8e2bd$f88f3410$4000a8c0@kentspavilion&gt; &lt;487B15DD.1090808@...&gt; &lt;00fc01c8e6a7$92be4890$8303a8c0@kentspavilion&gt;\r\nIn-Reply-To: &lt;00fc01c8e6a7$92be4890$8303a8c0@kentspavilion&gt;\r\nX-Enigmail-Version: 0.95.6\r\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nX-Y-GMX-Trusted: 0\r\nX-FuHaFi: 0.5\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Malte Finsterwalder &lt;malte@...&gt;\r\nSubject: Re: [junit] Parameterized Tests, a proposal\r\nX-Yahoo-Group-Post: member; u=199072473; y=qsPcc05-sh2m126BC98Q_rEc3EtXWjdg9fMNYxuXANy7vXXOB92QWSuGxvbT\r\nX-Yahoo-Profile: maltefinsterwalder\r\n\r\nHey Kent,\n\nI think we still have a missunderstanding to some degree.\n\nMy focus is not to provide many different fixtures in one test-class. I \nagree that one class = one fixture is a good idea. And it&#39;s my normal \nworking style. I admit that my approach allows for multiple fixtures, \nbut that&#39;s not my main focus.\nMy main focus is, to be able to parameterize easily.\nAnd I do think it&#39;s ok to have some tests that are parameterized \ncombined with some tests that are not parameterized, if the rest of the \nfixture is the same.\n\nGreetings,\n    Malte\n\nKent Beck wrote:\n&gt; Malte,\n&gt;  \n&gt; I don&#39;t have a better idea for parameterized tests. The current interface\n&gt; requires a lot of syntactic &quot;noise&quot;. We&#39;re open to proposals that simplify\n&gt; the API.\n&gt;  \n&gt; As far as having multiple fixtures in a single class, I don&#39;t see the value\n&gt; of moving away from the current model. Users can already apply inheritance\n&gt; to factor out common fixturing. It&#39;s true that &quot;one class=one fixture&quot;\n&gt; hasn&#39;t been very effectively communicated, but that&#39;s something we can work\n&gt; on. I&#39;d like to see sets of real concrete tests that would be made simpler\n&gt; by allowing different parameters for different tests in the same class.\n&gt;  \n&gt; Overall, I think what we have here is one of those design decisions that can\n&gt; reasonably go either way, depending on the underlying values of the project\n&gt; developers. We&#39;ve always chosen simplicity of the API over flexibility if\n&gt; the two are in conflict. Other projects have other values and decide\n&gt; differently.\n&gt;  \n&gt; Regards,\n&gt;  \n&gt; Kent Beck\n&gt; Three Rivers Institute\n&gt; \n&gt;   _____  \n&gt; \n&gt; From: junit@yahoogroups.com [mailto:junit@yahoogroups.com] On Behalf Of\n&gt; Malte Finsterwalder\n&gt; Sent: Monday, July 14, 2008 2:01 AM\n&gt; To: junit@yahoogroups.com\n&gt; Subject: Re: [junit] Parameterized Tests, a proposal\n&gt; \n&gt; \n&gt; \n&gt; Hi Kent,\n&gt; \n&gt; Kent Beck wrote:\n&gt;&gt; I agree that the current arrangement for parameterized tests is clunky.\n&gt; \n&gt; Do you have other ideas about how to improve it?\n&gt; \n&gt;&gt; However, the solution you propose--different tests in the same class being\n&gt;&gt; parameterized by different (or even no) data, contradicts a fundamental\n&gt;&gt; element of JUnit&#39;s design: one class/one fixture.\n&gt;&gt;\n&gt;&gt; Your proposal is akin, it\n&gt;&gt; seems to me, to having different tests in the same class use different\n&gt; sets\n&gt;&gt; of @Befores. You could do that using a similar syntax to that outlined\n&gt;&gt; below, but it would make it harder to read tests declaratively. With the\n&gt;&gt; current design, if I want to know what data a test will have available, I\n&gt;&gt; read the @Befores (and @Parameters). Then I can read all the tests\n&gt; assuming\n&gt;&gt; those are the conditions under which it will execute. If I have a\n&gt; diffferent\n&gt;&gt; fixture, I go to a different class.\n&gt;&gt;\n&gt;&gt; Can you tell me a little more about what benefits you see from your\n&gt; proposed\n&gt;&gt; arrangement and in which circumstances it would be superior to having\n&gt; tests\n&gt;&gt; with different fixtures in different classes?\n&gt; \n&gt; I don&#39;t think that the parameterization and the test fixture are the same.\n&gt; \n&gt; And I think it&#39;s normal to have part of my test fixture shared in a \n&gt; Before-Method. And then I extend (or modify) this setup slightly inside \n&gt; my different test methods.\n&gt; \n&gt; I want to do some tests with a customer object, for example how the \n&gt; customer responds to billing differnt items to his account.\n&gt; Some of theses tests can be parameterized, some can&#39;t.\n&gt; \n&gt; e.g. I want to write a test that billing &quot;null&quot; is not allowed and \n&gt; throws an exception. This test is not parameterized.\n&gt; Then I want to bill different goods and I want to see, that the customer \n&gt; responds correctly by say calculating a correct bonus, according to his \n&gt; state. To check this, I need to bill 10 different goods, cause some of \n&gt; them have a bonus, some don&#39;t, etc.\n&gt; These 10 tests can be parameterized with a good to bill and the \n&gt; resulting bonus. They still use the same fixture, namely the customer \n&gt; object.\n&gt; \n&gt; I would like all these tests in the same class, since they use the same \n&gt; fixture and test a coherent set of functionality.\n&gt; \n&gt; Does that make more sense now?\n&gt; \n&gt; BTW: I learned, that testNG uses an approach like the one I proposed.\n&gt; Ans reading up on Theries, I noticed, that they have a somewhat similar \n&gt; approach as well.\n&gt; \n&gt; Regard,\n&gt; Malte\n&gt; \n&gt;&gt; From: junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n&gt; &lt;mailto:junit%40yahoogroups.com&gt; \n&gt;&gt; [mailto:junit@yahoogroups. &lt;mailto:junit%40yahoogroups.com&gt; com\n&gt; &lt;mailto:junit%40yahoogroups.com&gt;] On Behalf Of\n&gt;&gt; Malte Finsterwalder\n&gt;&gt; Sent: Wednesday, July 09, 2008 12:01 AM\n&gt;&gt; To: junit YahooGroup\n&gt;&gt; Subject: [junit] Parameterized Tests, a proposal\n&gt;&gt;\n&gt;&gt; Hi,\n&gt;&gt;\n&gt;&gt; I just got around to looking into parameterized tests a little more.\n&gt;&gt; But it confirmed the impression I got when they came out with JUnit 4.\n&gt;&gt; They are sooo clunky, that I rather write a test that calls a\n&gt;&gt; helper-method with parameters instead.\n&gt;&gt;\n&gt;&gt; But this time I had time to ask myself: Why is it so clunky?\n&gt;&gt; In what way could it be better.\n&gt;&gt;\n&gt;&gt; So I came up with an idea, how I would like it to be.\n&gt;&gt; And here is an example:\n&gt;&gt;\n&gt;&gt; @RunWith(Parameterized.class)\n&gt;&gt; public class MyParameterizedTest {\n&gt;&gt;\n&gt;&gt; private Object[] data = new Object[][] {\n&gt;&gt; {&quot;param1&quot;, 2, 3},\n&gt;&gt; {&quot;other&quot;, 5, 99},\n&gt;&gt; {&quot;more&quot;, 234, 5875727343}\n&gt;&gt; };\n&gt;&gt;\n&gt;&gt; // The parameter given as &quot;data&quot; here, specifies that\n&gt;&gt; // attribute, that contains the parameters for the test\n&gt;&gt; @ParameterizedTest(&quot;data&quot;)\n&gt;&gt; public void testWhatever(String str, int i, long j) {\n&gt;&gt; // This method gets called 3 times\n&gt;&gt; // once for each line in the above Object[]\n&gt;&gt;\n&gt;&gt; // do whatever here\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt; @Test\n&gt;&gt; public void plainNonParameterizedTest() {\n&gt;&gt; // this is a normal unit test that is\n&gt;&gt; // called just once\n&gt;&gt; }\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt; I think it&#39;s a lot easier this way.\n&gt;&gt; It allows mixing of parameterized tests and non parameterized tests, if\n&gt;&gt; you like.\n&gt;&gt; I allows for several parameterized tests in a single class.\n&gt;&gt; And I don&#39;t see disadvantages.\n&gt;&gt;\n&gt;&gt; It could be even simpler, if it were incorporated into the existing\n&gt;&gt; JUnit Test-annotation, like so:\n&gt;&gt;\n&gt;&gt; // no @RunWith-Annotation here\n&gt;&gt; public class MyParameterizedTest {\n&gt;&gt;\n&gt;&gt; private Object[] data = new Object[][] {\n&gt;&gt; {&quot;param1&quot;, 2, 3},\n&gt;&gt; {&quot;other&quot;, 5, 99},\n&gt;&gt; {&quot;more&quot;, 234, 5875727343}\n&gt;&gt; };\n&gt;&gt;\n&gt;&gt; // The parameter given as &quot;data&quot; here, specifies that\n&gt;&gt; // attribute, that contains the parameters for the test\n&gt;&gt; // Use of standard Test-annotation with a new parameter\n&gt;&gt; @Test(parameterized=&quot;data&quot;)\n&gt;&gt; public void testWhatever(String str, int i, long j) {\n&gt;&gt; // This method gets called 3 times\n&gt;&gt; // once for each line in the above Object[]\n&gt;&gt;\n&gt;&gt; // do whatever here\n&gt;&gt; }\n&gt;&gt; }\n&gt;&gt;\n&gt;&gt; What do you think?\n&gt;&gt;\n&gt;&gt; I already tried to implement the first version, since it&#39;s non\n&gt;&gt; intrusive, but looking into extending JUnit, I found that it&#39;s a pain in\n&gt;&gt; the behind, if you don&#39;t want to extends internals-stuff.\n&gt;&gt; But maybe I&#39;m just misunderstanding or missing things.\n&gt;&gt; But that&#39;s another story for another post... shortly...\n&gt;&gt;\n&gt;&gt; Greetings,\n&gt;&gt; Malte\n\n\n", 
    "profile": "maltefinsterwalder", 
    "topicId": 20667, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 199072473, 
    "prevInTime": 20695, 
    "contentTrasformed": false, 
    "postDate": "1216319183", 
    "canDelete": false, 
    "nextInTopic": 20715, 
    "prevInTopic": 20689, 
    "headers": {
        "inReplyToHeader": "PDAwZmMwMWM4ZTZhNyQ5MmJlNDg5MCQ4MzAzYThjMEBrZW50c3BhdmlsaW9uPg==", 
        "messageIdInHeader": "PDQ4N0Y4RUNGLjkwNzAzMDhAZmluc3RlcndhbGRlci5uYW1lPg==", 
        "referencesHeader": "PDQ4NzQ2MjExLjMwNjAxMDBAZmluc3RlcndhbGRlci5uYW1lPiA8MDE5YzAxYzhlMmJkJGY4OGYzNDEwJDQwMDBhOGMwQGtlbnRzcGF2aWxpb24+IDw0ODdCMTVERC4xMDkwODA4QGZpbnN0ZXJ3YWxkZXIubmFtZT4gPDAwZmMwMWM4ZTZhNyQ5MmJlNDg5MCQ4MzAzYThjMEBrZW50c3BhdmlsaW9uPg=="
    }
}