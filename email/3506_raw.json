{
    "numMessagesInTopic": 14, 
    "nextInTime": 3507, 
    "senderId": "BTkZCjWJAp-rAosA_bFupRou7VLcjt9fS2_O_HMy68q2GBvRoO7RCPrdJ7skmzOZHJ8PF7uXS1JD9FTUhC2ifCpdJx6tqL7lZg", 
    "systemMessage": false, 
    "subject": "Re: [junit] Testing Static class behavior", 
    "from": "&quot;Thomas SMETS&quot; &lt;tsmets@...&gt;", 
    "authorName": "Thomas SMETS", 
    "msgSnippet": "Hi Mike These mails should probably be posted on an Advanced ML like the Advance-java@yahoogroups.com, instead. I read the paper you advised & drew some", 
    "msgId": 3506, 
    "rawEmail": "Return-Path: &lt;tsmets@...&gt;\r\nX-Sender: tsmets@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-8_0_1_2); 10 Dec 2001 12:24:31 -0000\r\nReceived: (qmail 30448 invoked from network); 10 Dec 2001 12:24:31 -0000\r\nReceived: from unknown (216.115.97.167)\n  by m10.grp.snv.yahoo.com with QMQP; 10 Dec 2001 12:24:31 -0000\r\nReceived: from unknown (HELO mirapoint2.brutele.be) (212.68.193.7)\n  by mta1.grp.snv.yahoo.com with SMTP; 10 Dec 2001 12:24:34 -0000\r\nReceived: from plop (212.68.238.147.brutele.be [212.68.238.147])\n\tby mirapoint2.brutele.be (Mirapoint)\n\twith SMTP id APG43064;\n\tMon, 10 Dec 2001 13:24:31 +0100 (CET)\r\nMessage-ID: &lt;018001c18175$e89462c0$93ee44d4@plop&gt;\r\nTo: &lt;junit@yahoogroups.com&gt;\r\nReferences: &lt;003b01c18101$84711b40$93ee44d4@plop&gt; &lt;3C13E8D0.67A2860@...&gt;\r\nSubject: Re: [junit] Testing Static class behavior\r\nDate: Mon, 10 Dec 2001 13:24:29 +0100\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative;\n\tboundary=&quot;----=_NextPart_000_017B_01C1817D.FF6F64B0&quot;\r\nX-Priority: 3\r\nX-MSMail-Priority: Normal\r\nX-Mailer: Microsoft Outlook Express 5.00.2919.6700\r\nDisposition-Notification-To: &quot;Thomas SMETS&quot; &lt;tsmets@...&gt;\r\nX-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700\r\nFrom: &quot;Thomas SMETS&quot; &lt;tsmets@...&gt;\r\nX-Yahoo-Group-Post: member; u=20361908\r\nX-Yahoo-Profile: smetsthomas\r\n\r\n\r\n------=_NextPart_000_017B_01C1817D.FF6F64B0\r\nContent-Type: text/plain;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Mike\nThese mails should probably be posted on an Advanced ML like the Ad=\r\nvance-java@yahoogroups.com, instead. I read the paper you advised & drew so=\r\nme conclusion on my app design. \nCould you tell me if I&#39;m right or not ?\n\nP=\r\nroblem statement :\n  The Data class allows to access Data in a formatted fi=\r\nle (similar to DBF).\n  Change request is to enable multiclient simultaneous=\r\n access.\n\nSolution 1 :\n  Singelton is right but throws too much code depend=\r\nencies in the system which \n  as a direct consequence of making unit testin=\r\ng rather painfull when there is \n  some (more) change requests.\n\n  singelto=\r\nn has something fundamently wrong : \n    class do not need to know how they=\r\n are used.\n    Access to single instance should be made via a ToolBox retur=\r\nning \n    instances of the class as requested. \n\nSolution 2 :\n    Client co=\r\nde should be told to access the class via an external Factory.\n    Problem =\r\nis not yet perfectly solved.\n    \nI cannot formalize yet the next step in t=\r\nhe logic, but I more or less consider it as making a move from a Factory to=\r\n a method factory. I probably need a few more days to grasp the internals o=\r\nf that.\n\nI also wonder why the code talks straight to the instance rather t=\r\nhat to interfaces.\nThough slightly slower, that would be to me the ultimate=\r\n abstraction in the system more than the method factory.  \n\nDo you agree wi=\r\nth that ?\n\n\nTx,\n\nThomas,\n\n\n  ----- Original Message ----- \n  From: Mike Cla=\r\nrk \n  To: junit@yahoogroups.com \n  Sent: Sunday, December 09, 2001 11:42 PM=\r\n\n  Subject: Re: [junit] Testing Static class behavior\n\n\n  Thomas SMETS wrot=\r\ne:\n\n  &gt; Hi,\n  &gt; I&#39;m currently testing a Class behavior onto which the\n  &gt; F=\r\nactory (getInstance(param1, param2, ...)) is playing a crucial role.\n  &gt; Th=\r\nat is the class has some sort of a Singelton pattern where existing\n  &gt; ref=\r\nerence for the singelton factory are used to determine if a reference to\n  =\r\n&gt; a particula instance already exists.\n  &gt;\n  &gt; I therefore would need to re=\r\ngerister the class to have the static\n  &gt; variablebeing re-initialized. I t=\r\nhere something in Java ?\n  &gt;\n\n  Hi Thomas,\n\n  Depending on the implementati=\r\non of the singleton you&#39;re attempting to test, it\n  may be possible to obta=\r\nin a reference to its sole instance (or instances) and\n  assign it a null v=\r\nalue.  If the implementation uses lazy initialization, this\n  may trigger r=\r\neinitialization on the next invocation of getInstance().\n\n  If you haven&#39;t =\r\nalready read J.B. Rainsberger&#39;s article on the use and\n  testability of sin=\r\ngletons, I highly recommend it:\n\n      http://www-106.ibm.com/developerwork=\r\ns/webservices/library/co-single.html\n\n  In general, singletons are often ov=\r\nerused and can be difficult to test, and\n  J.B.&#39;s article offers some pract=\r\nical alternatives.\n\n  Regards,\n\n  Mike\n\n  --\n  Mike Clark\n  Clarkware Consu=\r\nlting, Inc.\n  http://www.clarkware.com\n  720.851.2014\n\n\n\n        Yahoo! Gro=\r\nups Sponsor \n              ADVERTISEMENT\n             \n       \n       \n\n  T=\r\no unsubscribe from this group, send an email to:\n  junit-unsubscribe@yahoog=\r\nroups.com\n\n\n  Your use of Yahoo! Groups is subject to the Yahoo! Terms of S=\r\nervice. \n\n\r\n------=_NextPart_000_017B_01C1817D.FF6F64B0\r\nContent-Type: text/html;\n\tcharset=&quot;iso-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;=\r\n\n&lt;META content=3D&quot;text/html; charset=3Diso-8859-1&quot; http-equiv=3DContent-Typ=\r\ne&gt;\n&lt;META content=3D&quot;MSHTML 5.00.2920.0&quot; name=3DGENERATOR&gt;\n&lt;STYLE&gt;&lt;/STYLE&gt;\n&lt;=\r\n/HEAD&gt;\n&lt;BODY bgColor=3D#ffffff&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier =\r\nNew&quot; size=3D2&gt;Hi Mike&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Couri=\r\ner New&quot; size=3D2&gt;These mails should probably \nbe posted on an Advanced ML l=\r\nike the &lt;A \nhref=3D&quot;mailto:Advance-java@yahoogroups.com&quot;&gt;Advance-java@yahoo=\r\ngroups.com&lt;/A&gt;, \ninstead. I read the paper you advised &amp; drew some conc=\r\nlusion on my app \ndesign. &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;=\r\nCourier New&quot; size=3D2&gt;Could you tell me if I&#39;m \nright or not ?&lt;/FONT&gt;&lt;/DIV&gt;=\r\n\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2=\r\n&gt;Problem statement \n:&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Couri=\r\ner New&quot; size=3D2&gt;&nbsp; The Data class allows \nto access Data in a formatte=\r\nd file (similar to DBF).&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Co=\r\nurier New&quot; size=3D2&gt;&nbsp; Change request is to \nenable multiclient simulta=\r\nneous access.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; =\r\nsize=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New=\r\n&quot; size=3D2&gt;Solution 1 :&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Cou=\r\nrier New&quot; size=3D2&gt;&nbsp; Singelton is right but \nthrows too much code depe=\r\nndencies in the system which &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=\r\n=3D&quot;Courier New&quot; size=3D2&gt;&nbsp; as a direct \nconsequence of making unit te=\r\nsting rather painfull when there is &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#00808=\r\n0 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp; some (more) change \nrequests.&lt;/FONT&gt;=\r\n&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; si=\r\nze=3D2&gt;&nbsp; singelton has \nsomething fundamently wrong : &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;D=\r\nIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; c=\r\nlass do \nnot need to know how they are used.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=\r\n=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; Access to \nsing=\r\nle instance should be made via a ToolBox returning &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT=\r\n color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; instances=\r\n \nof the class as requested. &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=\r\n=3D&quot;Courier New&quot; size=3D2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 fa=\r\nce=3D&quot;Courier New&quot; size=3D2&gt;Solution 2 :&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#0=\r\n08080 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; Client \ncode should =\r\nbe told&nbsp;&lt;/FONT&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;to =\r\n\naccess the class via&nbsp;an external Factory.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT col=\r\nor=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; Problem is \nn=\r\not yet perfectly solved.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Co=\r\nurier New&quot; size=3D2&gt;&nbsp;&nbsp;&nbsp; \n&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#0=\r\n08080 face=3D&quot;Courier New&quot; size=3D2&gt;I cannot formalize yet the \nnext step i=\r\nn the logic, but I more or less consider it as making a move from a \nFactor=\r\ny to a method factory. I probably need a few more days to grasp the \nintern=\r\nals of that.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=\r\n=3D&quot;Courier New&quot; size=3D2&gt;I also wonder why the code \ntalks straight to the=\r\n instance rather that to interfaces.&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#00808=\r\n0 face=3D&quot;Courier New&quot; size=3D2&gt;Though slightly slower, that \nwould be to m=\r\ne the ultimate abstraction in the system more than the method \nfactory.&nbs=\r\np; &lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;&lt;=\r\n/FONT&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2=\r\n&gt;Do you agree with that \n?&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;=\r\n\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;Tx,&lt;/FONT&gt;&lt;/DIV&gt;\n=\r\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&lt;FONT color=3D#008080 face=3D&quot;Courier New&quot; size=3D2&gt;=\r\nThomas,&lt;/FONT&gt;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;DIV&gt;&nbsp;&lt;/DIV&gt;\n&lt;BLOCKQUOTE \nstyle=\r\n=3D&quot;BORDER-LEFT: #008080 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px; PA=\r\nDDING-LEFT: 5px; PADDING-RIGHT: 0px&quot;&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;---=\r\n-- Original Message ----- &lt;/DIV&gt;\n  &lt;DIV \n  style=3D&quot;BACKGROUND: #e4e4e4; FO=\r\nNT: 10pt arial; font-color: black&quot;&gt;&lt;B&gt;From:&lt;/B&gt; \n  &lt;A href=3D&quot;mailto:mike@c=\r\nlarkware.com&quot; title=3Dmike@...&gt;Mike Clark&lt;/A&gt; \n  &lt;/DIV&gt;\n  &lt;DIV st=\r\nyle=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A \n  href=3D&quot;mailto:junit@yahoogroups.=\r\ncom&quot; \n  title=3Djunit@yahoogroups.com&gt;junit@yahoogroups.com&lt;/A&gt; &lt;/DIV&gt;\n  &lt;D=\r\nIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; Sunday, December 09, 2001 11:42 =\r\n\n  PM&lt;/DIV&gt;\n  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [junit] T=\r\nesting Static class \n  behavior&lt;/DIV&gt;\n  &lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;TT&gt;Thomas SMETS wro=\r\nte:&lt;BR&gt;&lt;BR&gt;&gt; Hi,&lt;BR&gt;&gt; I&#39;m currently \n  testing a Class behavior onto =\r\nwhich the&lt;BR&gt;&gt; Factory (getInstance(param1, \n  param2, ...)) is playing =\r\na crucial role.&lt;BR&gt;&gt; That is the class has some \n  sort of a Singelton p=\r\nattern where existing&lt;BR&gt;&gt; reference for the singelton \n  factory are us=\r\ned to determine if a reference to&lt;BR&gt;&gt; a particula instance \n  already e=\r\nxists.&lt;BR&gt;&gt;&lt;BR&gt;&gt; I therefore would need to regerister the class \n  to=\r\n have the static&lt;BR&gt;&gt; variablebeing re-initialized. I there something in=\r\n \n  Java ?&lt;BR&gt;&gt;&lt;BR&gt;&lt;BR&gt;Hi Thomas,&lt;BR&gt;&lt;BR&gt;Depending on the implementation=\r\n of the \n  singleton you&#39;re attempting to test, it&lt;BR&gt;may be possible to ob=\r\ntain a \n  reference to its sole instance (or instances) and&lt;BR&gt;assign it a =\r\nnull \n  value.&nbsp; If the implementation uses lazy initialization, this&lt;B=\r\nR&gt;may \n  trigger reinitialization on the next invocation of getInstance().&lt;=\r\nBR&gt;&lt;BR&gt;If \n  you haven&#39;t already read J.B. Rainsberger&#39;s article on the use=\r\n \n  and&lt;BR&gt;testability of singletons, I highly recommend \n  it:&lt;BR&gt;&lt;BR&gt;&nbs=\r\np;&nbsp;&nbsp; &lt;A \n  href=3D&quot;http://www-106.ibm.com/developerworks/webservi=\r\nces/library/co-single.html&quot;&gt;http://www-106.ibm.com/developerworks/webservic=\r\nes/library/co-single.html&lt;/A&gt;&lt;BR&gt;&lt;BR&gt;In \n  general, singletons are often ov=\r\nerused and can be difficult to test, \n  and&lt;BR&gt;J.B.&#39;s article offers some p=\r\nractical \n  alternatives.&lt;BR&gt;&lt;BR&gt;Regards,&lt;BR&gt;&lt;BR&gt;Mike&lt;BR&gt;&lt;BR&gt;--&lt;BR&gt;Mike Cla=\r\nrk&lt;BR&gt;Clarkware \n  Consulting, Inc.&lt;BR&gt;&lt;A \n  href=3D&quot;http://www.clarkware.c=\r\nom&quot;&gt;http://www.clarkware.com&lt;/A&gt;&lt;BR&gt;720.851.2014&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;T=\r\nT&gt;To \n  unsubscribe from this group, send an email \n  to:&lt;BR&gt;junit-unsubscr=\r\nibe@yahoogroups.com&lt;BR&gt;&lt;/TT&gt;&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;Your use of \n  Yahoo! Groups is sub=\r\nject to the &lt;A \n  href=3D&quot;http://docs.yahoo.com/info/terms/&quot;&gt;Yahoo! Terms o=\r\nf Service&lt;/A&gt;.&lt;/TT&gt; \n&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n\r\n------=_NextPart_000_017B_01C1817D.FF6F64B0--\r\n\n", 
    "profile": "smetsthomas", 
    "topicId": 3503, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 20361908, 
    "prevInTime": 3505, 
    "contentTrasformed": false, 
    "postDate": "1007987069", 
    "canDelete": false, 
    "nextInTopic": 3507, 
    "prevInTopic": 3505, 
    "headers": {
        "messageIdInHeader": "PDAxODAwMWMxODE3NSRlODk0NjJjMCQ5M2VlNDRkNEBwbG9wPg==", 
        "referencesHeader": "PDAwM2IwMWMxODEwMSQ4NDcxMWI0MCQ5M2VlNDRkNEBwbG9wPiA8M0MxM0U4RDAuNjdBMjg2MEBjbGFya3dhcmUuY29tPg=="
    }
}