{
    "numMessagesInTopic": 11, 
    "nextInTime": 9026, 
    "senderId": "tHze8uyx6Wnr4RtL1ORmYVOOi5KH-kSYMVJQHD_wIKUfZ9RmXm2pQ5tBx52ncVetWp_W5B_4zKIIcoD72PcwYCWJY4QAm-QpPQ", 
    "systemMessage": false, 
    "subject": "Re: [junit] a question about abstract/parameterised tests", 
    "from": "Chris Dollin &lt;chris.dollin@...&gt;", 
    "authorName": "Chris Dollin", 
    "msgSnippet": "... Erm ... no, that s not it, quite. Apologies for unclear writing (perhaps, unclear thinking ...) I want to write a method M which given a class C which is", 
    "msgId": 9025, 
    "profile": "anover_alias", 
    "topicId": 9015, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 155741085, 
    "messageBody": "<div id=\"ygrps-yiv-531698192\">On Monday 04 August 2003 17:45, J. B. Rainsberger wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt;So said Chris Dollin on 2003-08-04 --------------------<br/>\n&gt; &gt;We have an interface (Graph) with multiple implementations (A and B).<br/>\n&gt; &gt; [Some names have been changed to avoid complications.] I have a test case<br/>\n&gt; &gt; AbstractTestGraph with an abstract method Graph getGraph(), where the<br/>\n&gt; &gt; tests test the Graph(s) that getGraph() returns, and TestA/TestB define<br/>\n&gt; &gt; getGraph() to return instances of A/B as appropriate. So far, so good,<br/>\n&gt; &gt; and just as suggested in one of the Junit documents. The code for each<br/>\n&gt; &gt; test case is nice and short.<br/>\n&gt; &gt;<br/>\n&gt; &gt;Well ... I lied about A and B; it&#39;s more like A, B, C, and X. And likely<br/>\n&gt; &gt; to be more, since Y and Z exist but may not be properly included in the<br/>\n&gt; &gt; test suite at the moment.<br/>\n&gt; &gt;<br/>\n&gt; &gt;(1) How can I write a test generator which takes A.class, X.class etc as<br/>\n&gt; &gt;arguments and constructs the necessary suite?<br/>\n&gt;<br/>\n&gt; I didn&#39;t understand this question.<br/>\n&gt;<br/>\n&gt; True or false: you want to create a test suite consisting of tests for all<br/>\n&gt; the implementations of an interface. (Please answer.)<br/>\n<br/>\n </span></blockquote>Erm ... no, that&#39;s not it, quite. Apologies for unclear writing (perhaps,<br/>\nunclear thinking ...)<br/>\n<br/>\nI want to write a method M which given a class C which is supposed<br/>\nto implement interface I will return a suite which runs the abstract test<br/>\ncases ATC for I with respect to the implementation C. I happens to be<br/>\nGraph and the C&#39;s are implementations of Graph and there are enough<br/>\nC&#39;s that writing out explicit subclasses of ATC for each C is a pain.<br/>\n<br/>\nThis makes it easy for the writers of the different C&#39;s to run the <br/>\nabstract test cases. <br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; The obvious-to-me code<br/>\n&gt;<br/>\n&gt; &gt;    public static TestCase makeMyTest( final Class someGraph )<br/>\n&gt; &gt;        {<br/>\n&gt; &gt;        class TestSomeGraph extends AbstractTestGraph<br/>\n&gt; &gt;            {<br/>\n&gt; &gt;            public TestSomeGraph( String name ) { super( name ); }<br/>\n&gt; &gt;            public static TestSuite suite() { return new TestSuite(<br/>\n&gt; &gt;TestSomeGraph ); }<br/>\n&gt; &gt;            public Graph getGraph()<br/>\n&gt; &gt;                 { return someGraph.getConstructor( new Class[] {}<br/>\n&gt; &gt;).newInstance( new Object [] {} ); }<br/>\n&gt; &gt;            }<br/>\n&gt; &gt;        }<br/>\n&gt;<br/>\n&gt; This appears to try to build concrete test cases<br/>\n&gt; (<a rel=\"nofollow\" target=\"_blank\" href=\"http://c2.com/cgi/wiki?AbstractTestCases)\">http://c2.com/cgi/wiki?AbstractTestCases)</a> on the fly given an abstract<br/>\n&gt; test case. I have never thought of doing this before, but it makes sense.<br/>\n<br/>\n </span></blockquote>Yes, I thought so too. [I have a functional programming / Lisplike background;<br/>\nhigher-order programming comes naturally.]<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; Assuming that this is what you&#39;re trying to do, then I assume you have:<br/>\n&gt;<br/>\n&gt;    * An abstract test case GraphTest<br/>\n&gt;    * An interface Graph<br/>\n&gt;    * Implementations of Graph<br/>\n<br/>\n </span></blockquote>Yes [GraphTest is called AbstractTestGraph, but what&#39;s an alpha-conversion<br/>\nbetween friends?].<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; You would like to generate a test suite consisting of XTestCase for each<br/>\n&gt; implementation XGraph of Graph where XTestCase creates an instance of<br/>\n&gt; XGraph to test.<br/>\n<br/>\n </span></blockquote>What&#39;s important is not to be able to create a suite of them all (although<br/>\nthat might be nice), but to be able to trivially able to create a suite for<br/>\neach one to be plugged into the locally appropriate test-cases.<br/>\n<br/>\n[When I say &quot;suite&quot; am I being sloppy? I really mean &quot;a test that runs<br/>\nlots of tests&quot;.]<br/>\n<br/>\n<blockquote><span title=\"ireply\"> &gt; This is a neat question. Let me think about this.<br/>\n&gt;<br/>\n&gt; &gt;So ... am I dead-ended in the wrong alley? Missing something obvious?<br/>\n&gt; &gt;Missing something subtle? Any advice would be welcome. If I have to<br/>\n&gt; &gt;hack junit source code I will, but I feel that surely I don&#39;t need to ...<br/>\n&gt;<br/>\n&gt; I don&#39;t think you are. Dynamic invocation handlers might be the order of<br/>\n&gt; the day, or something... This seems to be easy to do in a dynamic language<br/>\n&gt; like Smalltalk. :)<br/>\n<br/>\n </span></blockquote>So far as I can tell, it would be easy in Java if classes nested inside methods<br/>\nwere allowed to be public. I suspect the restriction was not reviewed when<br/>\nthey added reflection to the official language ...<br/>\n<br/>\n-- <br/>\nChris &quot;electric hedgehog&quot; Dollin<br/>\nC FAQs at: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.faqs.org/faqs/by-newsgroup/comp/comp.lang.c.html\">http://www.faqs.org/faqs/by-newsgroup/comp/comp.lang.c.html</a><br/>\nC welcome: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.angelfire.com/ms3/bchambless0/welcome_to_clc.html\">http://www.angelfire.com/ms3/bchambless0/welcome_to_clc.html</a></div>", 
    "prevInTime": 9024, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1060068520", 
    "canDelete": false, 
    "nextInTopic": 9035, 
    "prevInTopic": 9017, 
    "headers": {
        "inReplyToHeader": "PDIwMDMwODA0MTI0NTU4MDIyOC4wMDJEMTY2QUBzc210cC5ibG9vci5pcy5uZXQuY2FibGUucm9nZXJzLmNvbT4=", 
        "messageIdInHeader": "PDIwMDMwODA1MDgyOC40MDIwMy5jaHJpcy5kb2xsaW5AaHAuY29tPg==", 
        "referencesHeader": "PDIwMDMwODA0MTQ0NC4xMjQyMy5jaHJpcy5kb2xsaW5AaHAuY29tPiA8MjAwMzA4MDQxMjQ1NTgwMjI4LjAwMkQxNjZBQHNzbXRwLmJsb29yLmlzLm5ldC5jYWJsZS5yb2dlcnMuY29tPg=="
    }
}