{
    "numMessagesInTopic": 17, 
    "nextInTime": 4217, 
    "senderId": "x0WikBtC0FB8b_7Ftk-ghflRw5sv9LDz8B6e_qphgHDKZMWK4L6LLQuD9yo8Pha3rViGw2uw6mHEd4HFLVnQ1hHU0jTLAGrm2as", 
    "systemMessage": false, 
    "subject": "Re: [junit] Database Select query checks!! newbie", 
    "from": "Matt Raible &lt;matt_raible@...&gt;", 
    "authorName": "Matt Raible", 
    "msgSnippet": "Please send, I d be interested in doing this with my mysql database. Thanks, Matt ... __________________________________________________ Do You Yahoo!? Yahoo!", 
    "msgId": 4216, 
    "topicId": 4008, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 75374629, 
    "messageBody": "<div id=\"ygrps-yiv-279238533\">Please send, I&#39;d be interested in doing this with my mysql database.<br/>\n<br/>\nThanks,<br/>\n<br/>\nMatt<br/>\n<br/>\n--- <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:evought@...\">evought@...</a> wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Sorry this reply is late in coming- I&#39;ve been swamped for the last few<br/>\n&gt; weeks.<br/>\n&gt; <br/>\n&gt; In our projects we use PostgreSQL for development and do have a<br/>\n&gt; test database per developer (or, actually, one per workstation, though it<br/>\n&gt; is easy enough to create more). The database is lightweight and rebuilds<br/>\n&gt; quickly. We have Ant tasks which drop, recreate, and reload the DB with an<br/>\n&gt; empty scheme before each test run. This is fully automated and only adds a<br/>\n&gt; few seconds to a run. If someone is interested, I can send some sample<br/>\n&gt; scripts.<br/>\n&gt; <br/>\n&gt; On Mon, 11 Feb 2002, Mathieu Gervais wrote:<br/>\n&gt; <br/>\n&gt; &gt; Hi,<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt;There is a line of thought that all you need to do is make sure your SQL<br/>\n&gt; &gt; &gt;is valid. beyond that you&#39;re testing your database, not your method...<br/>\n&gt; &gt;<br/>\n&gt; &gt;  I never got that one. It&#39;s like saying SQL code doesn&#39;t need testing as<br/>\n&gt; &gt; mush as java code.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Programmer A:<br/>\n&gt; &gt; When I do unit testing, I just run my code in a couple of conditions and<br/>\n&gt; &gt; look if it&#39;s ok.<br/>\n&gt; &gt;<br/>\n&gt; &gt; XPer:<br/>\n&gt; &gt; You should really program those tests so they are repeatable, fast to run<br/>\n&gt; &gt; and don&#39;t need any human interaction to verify if they pass. Do automated<br/>\n&gt; &gt; unit testing! Use  JUnit!<br/>\n&gt; &gt;<br/>\n&gt; &gt; Why doesn&#39;t the same applies to SQL queries? In reality the programmer DOES<br/>\n&gt; &gt; test his SQL queries by trying them and looking at results. (&quot;make sure<br/>\n&gt; your<br/>\n&gt; &gt; SQL is valid&quot;) so why not automate it like the rest?<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;ve seen queries way more complex than some Java code. I&#39;m pretty sure<br/>\n&gt; &gt; everybody did. Don&#39;t you want that when somebody will need to modifiy the<br/>\n&gt; &gt; query (to add a filtering condition for example) they can press the button<br/>\n&gt; &gt; and run the tests to ensure the query is still ok?<br/>\n&gt; &gt;<br/>\n&gt; &gt; What I do is I connect to a special DB (with a replica of the schema of the<br/>\n&gt; &gt; real DB) populated with test data. I also dynamically add data (in setup)<br/>\n&gt; &gt; and delete it (in teardown) for some tests. Or check that my code really<br/>\n&gt; &gt; inserted a row, etc. Of course, if a query is like selectAll(), you might<br/>\n&gt; be<br/>\n&gt; &gt; influenced by other programmers using the same test DB at the same time, so<br/>\n&gt; &gt; you will want something like a test db per programmer. And then you start<br/>\n&gt; to<br/>\n&gt; &gt; find it hard to deal with this increasingly complex solution so you drop<br/>\n&gt; all<br/>\n&gt; &gt; of this and return to &quot;make sure your SQL is valid&quot; testing, no more<br/>\n&gt; &gt; automated tests for SQL.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I would really like to have a tool that helped me test my SQL code and<br/>\n&gt; setup<br/>\n&gt; &gt; testcases as easily as the JUnit testcase for Java. I can&#39;t use a sql only<br/>\n&gt; &gt; test tool: I don&#39;t want to test the SQL outside the java code and then have<br/>\n&gt; &gt; the java code use those statements. Why? Because often what I want to test<br/>\n&gt; &gt; is if the transaction is correctly rolledback in a special case, stuff like<br/>\n&gt; &gt; that that needs java code and SQL. But really 10 lines of code and 3 lines<br/>\n&gt; &gt; of sql, so it is a &quot;unit&quot; difficult to break down further without loosing a<br/>\n&gt; &gt; lot of test cases. And what about testing failure of a DB connection at a<br/>\n&gt; &gt; critical point? Mock objects seem to be usefull for this. Really, there is<br/>\n&gt; a<br/>\n&gt; &gt; need for somebody to build a tool or documentatin explaining the best way<br/>\n&gt; to<br/>\n&gt; &gt; do all of this.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I&#39;ve already tought about solutions for DB-interacting code testing  (see<br/>\n&gt; &gt; posts in archive) but all my ideas are going into direction where the<br/>\n&gt; &gt; infrastructure needed is heavy and difficult to maintain. Any brillant tool<br/>\n&gt; &gt; or ideas out there for all of this?<br/>\n&gt; &gt;<br/>\n&gt; &gt; mathieu<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; PS: The original poster should also look at MockObjects to mock the results<br/>\n&gt; &gt; of the DB. They might help depending on what you want to do. But then you<br/>\n&gt; &gt; aren&#39;t testing the SQL since you are mocking the execution engine.<br/>\n&gt; &gt;<br/>\n&gt; &gt; ----- Original Message -----<br/>\n&gt; &gt; From: Nilesh Thali<br/>\n&gt; &gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; Sent: Monday, February 11, 2002 5:01 PM<br/>\n&gt; &gt; Subject: Re: [junit] Database Select query checks!! newbie<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt; (2) Your tests are simple: populate the database with data, write News<br/>\n&gt; &gt; beans<br/>\n&gt; &gt; &gt; that represent that data, assert that getAllNews() answers the same Set<br/>\n&gt; &gt; (or<br/>\n&gt; &gt; &gt; List, if you care about order within the collection) of News beans. Do<br/>\n&gt; &gt; this<br/>\n&gt; &gt; &gt; with as many different datasets as you need to be confident that your<br/>\n&gt; &gt; method<br/>\n&gt; &gt; &gt; works.<br/>\n&gt; &gt;<br/>\n&gt; &gt;     only problem with testing queries like this is that your test will be<br/>\n&gt; &gt; time and<br/>\n&gt; &gt;     database dependent, because data (in this case the number of news<br/>\n&gt; beans)<br/>\n&gt; &gt;     may change over time, and you will see the red bar even though your<br/>\n&gt; &gt; method<br/>\n&gt; &gt;     works fine.<br/>\n&gt; &gt;     There is a line of thought that all you need to do is make sure your<br/>\n&gt; SQL<br/>\n&gt; &gt;     is valid. beyond that you&#39;re testing your database, not your method...<br/>\n&gt; &gt;<br/>\n&gt; &gt; regards,<br/>\n&gt; &gt; Nilesh<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Yahoo! Groups Sponsor<br/>\n&gt; &gt; ADVERTISEMENT<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; To unsubscribe from this group, send an email to:<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; To unsubscribe from this group, send an email to:<br/>\n&gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit-unsubscribe@yahoogroups.com\">junit-unsubscribe@yahoogroups.com</a><br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Your use of Yahoo! Groups is subject to <a rel=\"nofollow\" target=\"_blank\" href=\"http://docs.yahoo.com/info/terms/\">http://docs.yahoo.com/info/terms/</a><br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; <br/>\n&gt; -- <br/>\n&gt; Eric Vought<br/>\n&gt; Chief Technical Officer - QLUE Consulting, Inc.<br/>\n&gt; <br/>\n&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:evought@...\">evought@...</a> toll-free: 888-771-3538  RTP area: 919-816-9901<br/>\n&gt; <br/>\n&gt; <br/>\n<br/>\n<br/>\n </span></blockquote>__________________________________________________<br/>\nDo You Yahoo!?<br/>\nYahoo! Greetings - Send FREE e-cards for every occasion!<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://greetings.yahoo.com\">http://greetings.yahoo.com</a></div>", 
    "prevInTime": 4215, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1014826571", 
    "canDelete": false, 
    "nextInTopic": 4220, 
    "prevInTopic": 4215, 
    "headers": {
        "inReplyToHeader": "PFBpbmUuTE5YLjQuMzMuMDIwMjI3MTA0NTM0MC4yNzg0LTEwMDAwMEBraWxpLnFsdWUtbGFuPg==", 
        "messageIdInHeader": "PDIwMDIwMjI3MTYxNjExLjI5ODcucW1haWxAd2ViMTQzMDcubWFpbC55YWhvby5jb20+"
    }
}