{
    "numMessagesInTopic": 27, 
    "nextInTime": 18407, 
    "senderId": "HNzIsF-PqMGTTno013yT_iaDK9JExRxGsiP610z0t0QyKYv5Wz-R3wF4wa1FuxED8e7LvEMYp0V_PY13oXeIIjj5fRcPc00iqQ", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: Mock and collections.", 
    "from": "&quot;sky eagle&quot; &lt;eagle.xiao@...&gt;", 
    "authorName": "sky eagle", 
    "msgSnippet": "... While when you test the larger Method under test, still, you need to create the children, right? ... -- eagle in the sky [Non-text portions of this message", 
    "msgId": 18406, 
    "rawEmail": "Return-Path: &lt;eagle.xiao@...&gt;\r\nReceived: (qmail 78248 invoked from network); 26 Nov 2006 13:01:23 -0000\r\nReceived: from unknown (66.218.66.218)\n  by m24.grp.scd.yahoo.com with QMQP; 26 Nov 2006 13:01:23 -0000\r\nReceived: from unknown (HELO n22a.bullet.scd.yahoo.com) (66.94.237.51)\n  by mta3.grp.scd.yahoo.com with SMTP; 26 Nov 2006 13:01:23 -0000\r\nReceived: from [66.218.69.2] by n22.bullet.scd.yahoo.com with NNFMP; 26 Nov 2006 13:00:02 -0000\r\nReceived: from [66.218.66.76] by t2.bullet.scd.yahoo.com with NNFMP; 26 Nov 2006 13:00:01 -0000\r\nX-Sender: eagle.xiao@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (qmail 93577 invoked from network); 26 Nov 2006 02:42:16 -0000\r\nReceived: from unknown (66.218.66.172)\n  by m28.grp.scd.yahoo.com with QMQP; 26 Nov 2006 02:42:16 -0000\r\nReceived: from unknown (HELO py-out-1112.google.com) (64.233.166.179)\n  by mta4.grp.scd.yahoo.com with SMTP; 26 Nov 2006 02:42:16 -0000\r\nReceived: by py-out-1112.google.com with SMTP id a25so785250pyi\n        for &lt;junit@yahoogroups.com&gt;; Sat, 25 Nov 2006 18:42:14 -0800 (PST)\r\nReceived: by 10.35.50.1 with SMTP id c1mr9684693pyk.1164508934170;\n        Sat, 25 Nov 2006 18:42:14 -0800 (PST)\r\nReceived: by 10.35.105.11 with HTTP; Sat, 25 Nov 2006 18:42:14 -0800 (PST)\r\nMessage-ID: &lt;7921e73a0611251842m56d8cf1bob928d555a6e08af4@...&gt;\r\nDate: Sun, 26 Nov 2006 10:42:14 +0800\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;45684850.7030209@...&gt;\r\nMIME-Version: 1.0\r\nReferences: &lt;eid0if+9j0d@...&gt; &lt;45508EE5.9080501@...&gt;\n\t &lt;fa8a9cb00611070841k537ee84cn6671c49dc19bc4d@...&gt;\n\t &lt;45613C1D.2090307@...&gt;\n\t &lt;fa8a9cb00611200253y1c4bdfdbndf4229dc4ce16d71@...&gt;\n\t &lt;456292A5.6060900@...&gt;\n\t &lt;7921e73a0611230024s53bd240al39774e91ff3eddbf@...&gt;\n\t &lt;45684850.7030209@...&gt;\r\nFrom: &quot;sky eagle&quot; &lt;eagle.xiao@...&gt;\r\nSubject: Re: [junit] Re: Mock and collections.\r\nX-Yahoo-Group-Post: member; u=266652642; y=JFULgOp8T5erXVwr_4CHRXyD5TgbzN7fGkqiC48Kl-yeMiwv\r\nX-Yahoo-Profile: peng_bupt\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 26 Nov 2006 13:00:01 -0000\r\n\r\n&gt;I would try extracting the foreach loop into its own little method, then\n&gt;test that method separately from the larger MethodToBeTested. This way,\n&gt;you can write the tedious child-creating code for fewer tests.\n\nWhile when you test the larger Method under test, still, you need to create\nthe children, right?\n\n\n\n2006/11/25, J. B. Rainsberger &lt;jbrains762@...&gt;:\n&gt;\n&gt;   sky eagle wrote:\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Me too looking forward to reading it. I met a problem of mocking\n&gt; collection.\n&gt; &gt; (Maybe not similar, but I didn&#39;t read through the code LuiZ gave:)\n&gt; &gt; My problem is that\n&gt; &gt; ===== Code starts =======================\n&gt; &gt; public override void MethodToBeTested(IInterpretable interpretable,\n&gt; &gt; XmlElement e)\n&gt; &gt; {\n&gt; &gt; ......\n&gt; &gt; foreach (IInterpretable item in interpretable.GetItems())\n&gt; &gt; {\n&gt; &gt; DoSomethingOn(item);\n&gt; &gt; }\n&gt; &gt; }\n&gt; &gt; =====Code ends =====\n&gt; &gt; Each time I want to test the method (MethodToBeTested) with NMock, I\n&gt; have to\n&gt; &gt; mock serveral children items and add them to the list.\n&gt; &gt; =====Code starts (test method)=====\n&gt; &gt; ......\n&gt; &gt; IList&lt;IInterpretable&gt; items = new List&lt;IInterpretable&gt;();\n&gt; &gt; items.Add(t0);\n&gt; &gt; items.Add(v);\n&gt; &gt; items.Add(t1);\n&gt; &gt; ......\n&gt; &gt; Expect.AtLeastOnce.On(str).Method(&quot;GetItems\n&gt; &gt; &quot;).WithNoArguments().Will(Return.Value(items));\n&gt; &gt; ===== Code ends =====\n&gt; &gt; Creating items is tediously, is there a better solution?\n&gt;\n&gt; I would try extracting the foreach loop into its own little method, then\n&gt; test that method separately from the larger MethodToBeTested. This way,\n&gt; you can write the tedious child-creating code for fewer tests.\n&gt; --\n&gt; J. B. (Joe) Rainsberger :: http://www.jbrains.ca\n&gt; Your guide to software craftsmanship\n&gt; JUnit Recipes: Practical Methods for Programmer Testing\n&gt; 2005 Gordon Pask Award for contribution Agile Software Practice\n&gt; \n&gt;\n\n\n\n-- \neagle in the sky\n\n\n[Non-text portions of this message have been removed]\n\n\n", 
    "profile": "peng_bupt", 
    "topicId": 18229, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 266652642, 
    "prevInTime": 18405, 
    "contentTrasformed": false, 
    "postDate": "1164508934", 
    "canDelete": false, 
    "nextInTopic": 18446, 
    "prevInTopic": 18400, 
    "headers": {
        "inReplyToHeader": "PDQ1Njg0ODUwLjcwMzAyMDlAZ21haWwuY29tPg==", 
        "messageIdInHeader": "PDc5MjFlNzNhMDYxMTI1MTg0Mm01NmQ4Y2YxYm9iOTI4ZDU1NWE2ZTA4YWY0QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGVpZDBpZis5ajBkQGVHcm91cHMuY29tPiA8NDU1MDhFRTUuOTA4MDUwMUBnbWFpbC5jb20+CSA8ZmE4YTljYjAwNjExMDcwODQxazUzN2VlODRjbjY2NzFjNDlkYzE5YmM0ZEBtYWlsLmdtYWlsLmNvbT4JIDw0NTYxM0MxRC4yMDkwMzA3QGdtYWlsLmNvbT4JIDxmYThhOWNiMDA2MTEyMDAyNTN5MWM0YmRmZGJuZGY0MjI5ZGM0Y2UxNmQ3MUBtYWlsLmdtYWlsLmNvbT4JIDw0NTYyOTJBNS42MDYwOTAwQGdtYWlsLmNvbT4JIDw3OTIxZTczYTA2MTEyMzAwMjRzNTNiZDI0MGFsMzk3NzRlOTFmZjNlZGRiZkBtYWlsLmdtYWlsLmNvbT4JIDw0NTY4NDg1MC43MDMwMjA5QGdtYWlsLmNvbT4="
    }
}