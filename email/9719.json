{
    "numMessagesInTopic": 23, 
    "nextInTime": 9720, 
    "senderId": "4CLVYk5ITbPawsxia7sqvHyEciqB1EZrz50qVoyM014wpk4RQmuJG4xxGJcDxRWgVpxUmE56lxsk8_UN3YYx9DDg3cys2D-c8G5i4Un74gDj0066h8gol4Pf", 
    "systemMessage": false, 
    "subject": "RE: [junit] Re: How to test private methods, its urgent", 
    "from": "&quot;Michael Silverstein&quot; &lt;msilverstein@...&gt;", 
    "authorName": "Michael Silverstein", 
    "msgSnippet": "... On the contrary, I think this approach makes it easier to extend frameworks. I believe that in the general case, there is no reason to make methods in", 
    "msgId": 9719, 
    "topicId": 9699, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 62742148, 
    "messageBody": "<div id=\"ygrps-yiv-1514423761\"><blockquote><span title=\"ireply\">&gt; -----Original Message-----<br/>\n&gt; From: Danijel Arsenovski [mailto:darsenovski@...] <br/>\n&gt; Sent: Thursday, October 16, 2003 4:00 PM<br/>\n&gt; To: junit@yahoogroups.com<br/>\n&gt; Subject: RE: [junit] Re: How to test private methods, its urgent<br/>\n&gt; <br/>\n&gt; <br/>\n&gt; Hello Michael, <br/>\n&gt; <br/>\n&gt; <br/>\n&gt; &gt;Private methods are difficult to test because, after all, they&#39;re <br/>\n&gt; &gt;private. If you adopt a convention that API methods are only <br/>\n&gt; presented <br/>\n&gt; &gt;via Java Interfaces instead of concrete classes then you don&#39;t care <br/>\n&gt; &gt;about the way the implementers of the Interfaces are <br/>\n&gt; written. You can <br/>\n&gt; &gt;then make non-API methods within the concrete implementation public <br/>\n&gt; &gt;without implying that they are themselves API methods.<br/>\n&gt; <br/>\n&gt; I am not sure I follow, but as I can see this only works if <br/>\n&gt; you never plan to extend your clases, or leave them to be <br/>\n&gt; extended. I guess that in your case only thing visible from <br/>\n&gt; the outside are interfaces. If you write frameworks, it is <br/>\n&gt; difficult to get by without inheritance. Inheritance breaks <br/>\n&gt; encapsulation, keeping methods private helps encapsulate things. <br/>\n&gt; Also, I am not shure what you mean by &quot;without implying&quot;, <br/>\n&gt; generally you &quot;make statement&quot; with your code, any other <br/>\n&gt; method yo imply something (comments, documentation etc...) is <br/>\n&gt; superfluous.<br/>\n&gt; <br/>\n&gt; Regards,<br/>\n&gt; <br/>\n&gt; Danijel Arsenovski<br/>\n<br/>\n </span></blockquote>On the contrary, I think this approach makes it easier to extend<br/>\nframeworks. I believe that in the general case, there is no reason to<br/>\nmake methods in classes private if their API methods are only accessed<br/>\nby clients via Interface methods.<br/>\n<br/>\nHere&#39;s an example of what I mean:<br/>\n<br/>\nLet&#39;s assume we have class MyClass that implements interface<br/>\nMyInterface, with methods:<br/>\npublic int x(){<br/>\n  // return an answer based on y() and z() <br/>\n}<br/>\nprivate int y() {...}<br/>\nprivate int z() {...}<br/>\n<br/>\nAnd Interface MyInterface with method:<br/>\npublic int x()<br/>\n<br/>\nWe observe that:<br/>\n<br/>\n- MyInterface serves to &#39;publish&#39; the API method x().<br/>\n<br/>\n- Any client of MyClass will only see it in terms of <br/>\n<br/>\n- We have the choice of testing public method x() by constructing a test<br/>\nthat &#39;talks&#39; to either MyClass or MyInterface. <br/>\n<br/>\n- If we have other concrete implementors of MyInterface it makes sense<br/>\nto write the test to talk to MyInterface rather than directly to<br/>\nimplementors to they can be swapped in and tested.<br/>\n<br/>\n- x() returns a value based on values returned by private methods y()<br/>\nand z().<br/>\n<br/>\n- Methods y() and z() may be private for no other reason than that they<br/>\nare not part of the public API interface of MyClass and that the<br/>\ndeveloper did not anticipate that anyone would ever need to use them in<br/>\nextending the framework.<br/>\n<br/>\nContinuing:<br/>\nLet&#39;s say <br/>\n - we want to extend MyClass with MyClass2 that implements method int<br/>\nq().<br/>\n - we want to override x() so that it uses methods y(),  z(), and q() to<br/>\ncalculate its return value. <br/>\n<br/>\nWe have a problem: MyClass2 does not have visibility to private methods<br/>\ny() and z().<br/>\n<br/>\nIf private methods y() and z() were made public there would be no<br/>\nadverse effect on the publication of API methods because users of the<br/>\nclass would only see those methods published via MyInterface. <br/>\n<br/>\nWe have the question of whether it is *safe* to use y() and z(). Since<br/>\nthey are not published as part of the API via MyInterface it may be<br/>\nconsidered too risky to use them. This can be solved with some notes in<br/>\nthe javadoc. <br/>\n<br/>\nMethods that really are too risky to use outside of the class itself can<br/>\nalways be made private but I would hope that this is the exception and<br/>\nnot the rule.<br/>\n<br/>\nThe developer creating the extension can make the decision based on<br/>\nthose notes whether they are willing to accept fhe risk of using methods<br/>\nthat may not continue to behave the same way or even exist in the<br/>\nfuture. At least they have that choice. If they have a good set of tests<br/>\nthen changes to those methods in the future will be exposed readily<br/>\nenough.<br/>\n<br/>\nConclusion<br/>\n----------<br/>\nIf the purpose of making methods private is to indicate that they are<br/>\nnot part of a class&#39;s API a better way is to encourage users of the<br/>\nclass to program to a Java Interface instead. When you make methods<br/>\nprivate it makes the class more difficult to test and short-circuits the<br/>\nefforts of people who might need to extend the framework in<br/>\nunanticipated ways.<br/>\n<br/>\n-----------------------------<br/>\nMike Silverstein<br/>\nSilverMark, Inc.<br/>\nThe Object Testing Company<br/>\nwww.javatesting.com<br/>\n<br/>\n---<br/>\nOutgoing mail is certified Virus Free.<br/>\nChecked by AVG anti-virus system (http://www.grisoft.com).<br/>\nVersion: 6.0.522 / Virus Database: 320 - Release Date: 9/29/2003</div>", 
    "prevInTime": 9718, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1066355383", 
    "canDelete": false, 
    "nextInTopic": 9720, 
    "prevInTopic": 9718, 
    "headers": {
        "inReplyToHeader": "PDNDNjc4RERGOTIyMTIzNERBNEYyOTAwRjkzQzZGNjMzMDFFNDg0RURAYWx0ZWMwMDUuYWx0ZWMubG9jYWw+", 
        "messageIdInHeader": "PDAwYWQwMWMzOTQ1MCRlZmYzOWI0MCQ2NDAxYThjMEBsYXRpdHVkZTAxPg=="
    }
}