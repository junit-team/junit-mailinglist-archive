{
    "topicId": 702, 
    "postDate": "984929086", 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "from": "Vitezslav Stejskal &lt;vitezslav.stejskal@...&gt;", 
    "canDelete": false, 
    "replyTo": "LIST", 
    "senderId": "VMXpMMDym_mpJOMTudycZMLFaQdnWUCNWjF-FQh9643F0DYeSEKFBCt7HpOoTScqh7Pl-dvwjT-g9B7zeeV35bl5QBAyWb8eDVvi1LlQpH_6gHjp29gU-kvEjgE", 
    "nextInTime": 736, 
    "userId": 0, 
    "prevInTime": 734, 
    "prevInTopic": 727, 
    "headers": {
        "messageIdInHeader": "PDNBQjREMzNELkQ5RUVDREE1QGN6ZWNoLnN1bi5jb20+", 
        "referencesHeader": "PDk4dGJwcSticm1uQGVHcm91cHMuY29tPiA8M0FCMjRDOUUuNTZENTU5Q0FAc3Bpcml0ZWRzdy5jb20+"
    }, 
    "authorName": "Vitezslav Stejskal", 
    "numMessagesInTopic": 14, 
    "msgSnippet": "... As I understand Ant and junit, only above two things are necceassary to do when you want to use junit optional task. ... This and maybe other jars from", 
    "contentTrasformed": false, 
    "msgId": 735, 
    "nextInTopic": 744, 
    "systemMessage": false, 
    "rawEmail": "Return-Path: &lt;vitezslav.stejskal@...&gt;\r\nX-Sender: vitezslav.stejskal@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nReceived: (EGP: mail-7_0_4); 18 Mar 2001 15:25:01 -0000\r\nReceived: (qmail 62444 invoked from network); 18 Mar 2001 15:24:48 -0000\r\nReceived: from unknown (10.1.10.142) by l7.egroups.com with QMQP; 18 Mar 2001 15:24:48 -0000\r\nReceived: from unknown (HELO patan.sun.com) (192.18.98.43) by mta3 with SMTP; 18 Mar 2001 16:25:53 -0000\r\nReceived: from sunpraha.Czech.Sun.COM ([129.156.76.4]) by patan.sun.com (8.9.3+Sun/8.9.3) with ESMTP id HAA02742 for &lt;junit@yahoogroups.com&gt;; Sun, 18 Mar 2001 07:24:47 -0800 (PST)\r\nReceived: from czech.sun.com (vstejskal [129.156.75.101]) by sunpraha.Czech.Sun.COM (8.9.3+Sun/8.9.3/ENSMAIL,v2.1p1) with ESMTP id QAA03872 for &lt;junit@yahoogroups.com&gt;; Sun, 18 Mar 2001 16:24:47 +0100 (CET)\r\nMessage-ID: &lt;3AB4D33D.D9EECDA5@...&gt;\r\nDate: Sun, 18 Mar 2001 16:24:46 +0100\r\nOrganization: SUN Microsystems Czech s.r.o.\r\nX-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)\r\nX-Accept-Language: cs,en\r\nMIME-Version: 1.0\r\nTo: junit@yahoogroups.com\r\nSubject: Re: [junit] Re: JUnit 3.5 & Ant 1.3\r\nReferences: &lt;98tbpq+brmn@...&gt; &lt;3AB24C9E.56D559CA@...&gt;\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nFrom: Vitezslav Stejskal &lt;vitezslav.stejskal@...&gt;\r\n\r\n\n\nFred Loney wrote:\n\n&gt; I encountered this problem, and had to do the following:\n&gt;\n&gt; o add junit.jar to the classpath of the ant executable\n&gt; o add the ant optional jar to the classpath of the ant executable\n&gt;\n\nAs I understand Ant and junit, only above two things are\nnecceassary to do when you want to use junit optional task.\n\n&gt; o aadd junit.jar to the classpath of the junit task\n\nThis and maybe other jars from ${ANT_HOME}/lib you will need to\nadd to junit task&#39;s classpath when you use the fork=yes attribute\nto run your tests in separate JVM.\n\n&gt;\n&gt; o explicitly define the junit task\n\nDefinitely, this is not neccessary ...\n\n&gt;\n&gt;\n&gt; The ant directives are shown below.\n&gt;\n&gt; However, given all of that, junit executes as expected and ant shows the summary result for each test (success or failure).  However, ant does not produce any output file under any circumstances or settings. Has anybody successfully used the junit task with ant 1.3 and junit 3.5? If so, could you post a sample?\n&gt;\n&gt;   &lt;!-- Add optional junit task; requires invoking ant with optional ant jar --&gt;\n&gt;   &lt;taskdef name=&quot;junit&quot; classname=&quot;org.apache.tools.ant.taskdefs.optional.junit.JUnitTask&quot; /&gt;\n&gt;     ...\n&gt;   &lt;path id=&quot;test.class.path&quot;&gt;\n&gt;     &lt;path refid=&quot;app.class.path&quot; /&gt;\n&gt;     &lt;pathelement location=&quot;${ext.lib}/junit.jar&quot; /&gt;\n&gt;   &lt;/path&gt;\n&gt;    ...\n&gt;   &lt;!-- Run the test suite --&gt;\n&gt;   &lt;target name=&quot;test&quot; depends=&quot;testbed&quot;&gt;\n&gt;     &lt;junit&gt;\n&gt;       &lt;classpath refid=&quot;test.class.path&quot; /&gt;\n&gt;       &lt;batchtest&gt;\n&gt;         &lt;fileset dir=&quot;${source}&quot; includes=&quot;${test.dir}/**/*.java&quot;&gt;\n&gt;         &lt;/fileset&gt;\n&gt;       &lt;/batchtest&gt;\n&gt;     &lt;/junit&gt;\n&gt;   &lt;/target&gt;\n&gt;\n&gt; bugfix4u@... wrote:\n&gt;\n&gt; &gt; Here is an update of what I have found so far.\n&gt; &gt;\n&gt; &gt; If I let Ant build my classpath at runtime to run my JUnit test I\n&gt; &gt; get the following error listed below. The odd thing is that when JUnit\n&gt; &gt; echos my classpath it list the junit.jar right there in the classpath\n&gt; &gt; statement. Anyone have a clue of what is going on?\n&gt; &gt;\n&gt; &gt;  run.tests:\n&gt; &gt;      [echo] Claspath for JUnit:\n&gt; &gt; /home/dchambers/apps/jakarta/tomcat/webapps/lolo/built_tests/classes:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/junit.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/classes:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/barracuda.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/xmlc.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/ant_xmlc.jar:/home/dchambers/apps/jakarta/tomcat/webapps/lolo/WEB-INF/lib/servlet.jar\n&gt; &gt;\n&gt; &gt; BUILD FAILED\n&gt; &gt;\n&gt; &gt; /home/dchambers/apps/jakarta/tomcat/webapps/lolo/src/build.xml:273:\n&gt; &gt; Could not create task of type: junit due to\n&gt; &gt; java.lang.NoClassDefFoundError: junit/framework/TestListener\n&gt; &gt; --- Nested Exception ---\n&gt; &gt; java.lang.NoClassDefFoundError: junit/framework/TestListener\n&gt; &gt;         at java.lang.ClassLoader.defineClass0(Native Method)\n&gt; &gt;         at java.lang.ClassLoader.defineClass(ClassLoader.java:486)\n&gt; &gt;         at\n&gt; &gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:111)\n&gt; &gt;         at\n&gt; &gt; java.net.URLClassLoader.defineClass(URLClassLoader.java:248)\n&gt; &gt;         at java.net.URLClassLoader.access$100(URLClassLoader.java:56)\n&gt; &gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n&gt; &gt;         at java.security.AccessController.doPrivileged(Native Method)\n&gt; &gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n&gt; &gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:297)\n&gt; &gt;         at\n&gt; &gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:286)\n&gt; &gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:253)\n&gt; &gt;         at\n&gt; &gt; java.lang.ClassLoader.loadClassInternal(ClassLoader.java:313)\n&gt; &gt;         at java.lang.Class.newInstance0(Native Method)\n&gt; &gt;         at java.lang.Class.newInstance(Class.java:237)\n&gt; &gt;         at org.apache.tools.ant.Project.createTask(Project.java:439)\n&gt; &gt;         at\n&gt; &gt; org.apache.tools.ant.UnknownElement.maybeConfigure(UnknownElement.java:83)\n&gt; &gt;         at org.apache.tools.ant.Target.execute(Target.java:152)\n&gt; &gt;         at org.apache.tools.ant.Project.runTarget(Project.java:898)\n&gt; &gt;         at\n&gt; &gt; org.apache.tools.ant.Project.executeTarget(Project.java:536)\n&gt; &gt;         at\n&gt; &gt; org.apache.tools.ant.Project.executeTargets(Project.java:510)\n&gt; &gt;         at org.apache.tools.ant.Main.runBuild(Main.java:421)\n&gt; &gt;         at org.apache.tools.ant.Main.main(Main.java:149)\n&gt; &gt;\n&gt; &gt; --- In junit@y..., bugfix4u@y... wrote:\n&gt; &gt; &gt; Yes JUnit is definetly in the classpath. Like I said I use the same\n&gt; &gt; &gt; &lt;classpath refid=&quot;test.build.classpath&quot;/&gt; to compile all of my JUnit\n&gt; &gt; &gt; test with no problem. But when I use this line in the target that\n&gt; &gt; runs\n&gt; &gt; &gt; my Junit classes It can not find it. The difference here being that\n&gt; &gt; &gt; the javac task def has no problem understanding &lt;classpath\n&gt; &gt; &gt; refid=&quot;test.build.classpath&quot;/&gt; statement while the junit taskdef\n&gt; &gt; seem\n&gt; &gt; &gt; to ignore it. I could redefine my classpath using the form that you\n&gt; &gt; &gt; used in your example, but that defeats the purpose of me predefining\n&gt; &gt; &gt; my test classpath so that I can using over an over again in\n&gt; &gt; different\n&gt; &gt; &gt; targets.\n&gt; &gt; &gt;\n&gt; &gt; &gt; --- In junit@y..., Marc Pages &lt;marc.pages@m...&gt; wrote:\n&gt; &gt; &gt; &gt; I don&#39;t know anything about refid but is junit included in the\n&gt; &gt; &gt; classpath?\n&gt; &gt; &gt; &gt; See the example build file below. (Some of the junit stuff is\n&gt; &gt; &gt; derived from\n&gt; &gt; &gt; &gt; &lt;http://www-106.ibm.com/developerworks/library/j-ant/?dwzone=java&gt;\n&gt; &gt; )\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Marc\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; ============= build.xml begin\n&gt; &gt; &gt; &gt; &lt;?xml version=&quot;1.0&quot;?&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &lt;project name=&quot;xfiles&quot; default=&quot;jar&quot; basedir=&quot;.&quot;&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;init&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;name&quot; value=&quot;xfiles&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;src.dir&quot; value=&quot;src&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;lib.dir&quot; value=&quot;lib&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;build.dir&quot; value=&quot;build&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;dist.dir&quot; value=&quot;dist&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;build.compiler&quot; value=&quot;classic&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;property name=&quot;junit.dir&quot; value=&quot;../junit3.5/junit.jar&quot; /&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;JUNIT&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;available classname=&quot;junit.framework.TestCase&quot;\n&gt; &gt; &gt; &gt; classpath=&quot;${junit.dir}/&quot; property=&quot;junit.present&quot; /&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;clean&quot; depends=&quot;init&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;delete dir=&quot;${build.dir}&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;delete dir=&quot;${dist.dir}&quot; /&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;prepare&quot; depends=&quot;init&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;mkdir dir=&quot;${build.dir}&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;mkdir dir=&quot;${build.dir}/META-INF&quot; /&gt;\n&gt; &gt; &gt; &gt;     &lt;mkdir dir=&quot;${dist.dir}&quot; /&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;compile&quot; depends=&quot;prepare,JUNIT&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;javac srcdir=&quot;${src.dir}&quot;\n&gt; &gt; &gt; &gt;            destdir=&quot;${build.dir}/&quot;\n&gt; &gt; &gt; &gt;            classpath=&quot;${lib.dir}/:${junit.dir}/&quot;\n&gt; &gt; &gt; &gt;            includes=&quot;**&quot; /&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;runtests&quot; depends=&quot;compile&quot; if=&quot;junit.present&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;java fork=&quot;yes&quot; classname=&quot;junit.textui.TestRunner&quot;\n&gt; &gt; &gt; &gt;       taskname=&quot;junit&quot; failonerror=&quot;true&quot;&gt;\n&gt; &gt; &gt; &gt;       &lt;arg value=&quot;se.offex.jnitnpapi.MarketTest&quot;/&gt;\n&gt; &gt; &gt; &gt;       &lt;classpath&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement location=&quot;${build.dir}&quot;/&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement path=&quot;${junit.dir}/&quot; /&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement path=&quot;&quot;/&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement path=&quot;${java.class.path}&quot;/&gt;\n&gt; &gt; &gt; &gt;       &lt;/classpath&gt;\n&gt; &gt; &gt; &gt;     &lt;/java&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;launchjunit&quot; depends=&quot;compile&quot; if=&quot;junit.present&quot;&gt;\n&gt; &gt; &gt; &gt;     &lt;java fork=&quot;yes&quot; classname=&quot;junit.swingui.TestRunner&quot;\n&gt; &gt; &gt; &gt;       taskname=&quot;junit&quot; failonerror=&quot;true&quot;&gt;\n&gt; &gt; &gt; &gt;       &lt;classpath&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement location=&quot;${build.dir}&quot;/&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement path=&quot;${junit.dir}/&quot; /&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement path=&quot;&quot;/&gt;\n&gt; &gt; &gt; &gt;         &lt;pathelement path=&quot;${java.class.path}&quot;/&gt;\n&gt; &gt; &gt; &gt;       &lt;/classpath&gt;\n&gt; &gt; &gt; &gt;     &lt;/java&gt;\n&gt; &gt; &gt; &gt;   &lt;/target&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;   &lt;target name=&quot;lj&quot; depends=&quot;launchjunit&quot;/&gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; &lt;/project&gt;\n&gt; &gt; &gt; &gt; ============= build.xml end\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; -----Original Message-----\n&gt; &gt; &gt; &gt; From: Denny Chambers\n&gt; &gt; &gt; &gt; To: junit@y...\n&gt; &gt; &gt; &gt; Sent: 2001-03-15 19:34\n&gt; &gt; &gt; &gt; Subject: [junit] JUnit 3.5 & Ant 1.3\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; All,\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; I am having a problem running my JUnit tests through Ant. I can\n&gt; &gt; &gt; build\n&gt; &gt; &gt; &gt; them fine using Ant. All of the classes are found properly.\n&gt; &gt; However\n&gt; &gt; &gt; when\n&gt; &gt; &gt; &gt; I try to run the test the JUnit classes can not be found on the\n&gt; &gt; &gt; &gt; classpath. I am using the same &lt;classpath\n&gt; &gt; &gt; refid=&quot;test.build.classpath&quot;\n&gt; &gt; &gt; &gt; /&gt; to run the tests that I am using to build. This makes me think\n&gt; &gt; &gt; that\n&gt; &gt; &gt; &gt; there is a bug with classpath refid in JUnit. I have seen postings\n&gt; &gt; &gt; on\n&gt; &gt; &gt; &gt; the Ant mailing list where people have had similar problems, but I\n&gt; &gt; &gt; &gt; haven&#39;t seen any real fixes. Can anyone help?\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Thanks,\n&gt; &gt; &gt; &gt; --\n&gt; &gt; &gt; &gt; Denny Chambers\n&gt; &gt; &gt; &gt; Linux Java Engineer\n&gt; &gt; &gt; &gt; Connex, Inc\n&gt; &gt; &gt; &gt; Voice: 770-455-7653\n&gt; &gt; &gt; &gt; Fax: 770-455-7325\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; To unsubscribe from this group, send an email to:\n&gt; &gt; &gt; &gt; junit-unsubscribe@y...\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt;\n&gt; &gt; &gt; &gt; Your use of Yahoo! Groups is subject to\n&gt; &gt; &gt; &gt; http://docs.yahoo.com/info/terms/\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; To unsubscribe from this group, send an email to:\n&gt; &gt; junit-unsubscribe@yahoogroups.com\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n&gt;\n&gt; --\n&gt; Fred Loney\n&gt; Spirited Software, Inc.\n&gt; loney@...\n&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; junit-unsubscribe@yahoogroups.com\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/\n\n--\nVitezslav Stejskal, Software engineer\n\nSUN Microsystems Czech s.r.o.\ne-mail: vitezslav.stejskal@...\ntel:    +420 2 3300-9232\n\n\n\n", 
    "subject": "Re: [junit] Re: JUnit 3.5 & Ant 1.3"
}