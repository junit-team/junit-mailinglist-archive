{
    "numMessagesInTopic": 2, 
    "nextInTime": 4738, 
    "senderId": "MSSJJBLb336ERFZhaao2d-tQJLJugemDkWOKU9kcqMVg3Wbr63Ti4z9C1dOafueew0SRTJ_-HDoqcMxzTgKTEnAaOCoWVZA-ObSfPnln_MNKfzq9FURyoo0", 
    "systemMessage": false, 
    "subject": "RE: [junit] EJB testing: ClassCastExceptions thrown by narrow() i n ant", 
    "from": "=?iso-8859-1?q?Eliot=20Stock?= &lt;ejstock@...&gt;", 
    "authorName": "Eliot Stock", 
    "msgSnippet": "Scott, It works! Thanks. And Why? Eliot Stock Premiere Retail Networks San Francisco ... the fork= true attribute on the batchtest task.  If ... ", 
    "msgId": 4737, 
    "profile": "ejstock", 
    "topicId": 4726, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 110632468, 
    "messageBody": "<div id=\"ygrps-yiv-318797821\">Scott,<br/>\n<br/>\nIt works! Thanks. And Why?<br/>\n<br/>\nEliot Stock<br/>\nPremiere Retail Networks<br/>\nSan Francisco<br/>\n<br/>\n --- Scott Stirling &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:sstirling@...\">sstirling@...</a>&gt; wrote: &gt; I would suggest using<br/>\nthe fork=&quot;true&quot; attribute on the batchtest task.  If<br/>\n<blockquote><span title=\"ireply\"> &gt; that works, I&#39;ll try to explain why.<br/>\n&gt; <br/>\n&gt; Scott Stirling<br/>\n&gt; Macromedia<br/>\n&gt; <br/>\n&gt; -----Original Message-----<br/>\n&gt; From: ejstock<br/>\n&gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; Sent: 4/19/2002 10:20 AM<br/>\n&gt; Subject: [junit] EJB testing: ClassCastExceptions thrown by narrow() in ant<br/>\n&gt; <br/>\n&gt; I am getting ClassCastExceptions thrown by calling <br/>\n&gt; PortableRemoteObject.narrow() when running my tests as an ant task. <br/>\n&gt; I&#39;m using the text only test runner, not the GUI one.<br/>\n&gt; <br/>\n&gt; The test is for an EJB and so it&#39;s trying to get a home interface for <br/>\n&gt; the EJB it tests. The problem only occurs when the test runs in ant, <br/>\n&gt; not when I run the test on the command line like so:<br/>\n&gt; <br/>\n&gt; java -<br/>\n&gt; classpath .&#92;build&#92;classes;.&#92;lib&#92;junit.jar;D:&#92;bea&#92;wlserver&#92;lib&#92;weblogic<br/>\n&gt; .jar;.&#92;lib&#92;log4j.jar;  junit.textui.TestRunner <br/>\n&gt; com.pics.nmc2.media.ObjectGroupTest<br/>\n&gt; <br/>\n&gt; I have read a few postings on this list regarding class loader issues <br/>\n&gt; that at first looked relevant, but in fact they are all specific to <br/>\n&gt; the GUI test runner, or running outside of ant, or maybe both. I <br/>\n&gt; should mention the EJB container is Weblogic 6.1 SP2. I&#39;ve had test <br/>\n&gt; cases running on Weblogic 6.x before, but not with ant.<br/>\n&gt; <br/>\n&gt; My ant test task in build.xml looks like this:<br/>\n&gt; <br/>\n&gt;   &lt;target name=&quot;test&quot; depends=&quot;init&quot; &gt;<br/>\n&gt;     &lt;junit printsummary=&quot;on&quot;&gt;<br/>\n&gt;       &lt;classpath&gt;<br/>\n&gt; \t&lt;pathelement location=&quot;${properties_dir}&quot;/&gt;<br/>\n&gt; \t&lt;fileset dir=&quot;${weblogic_home}/lib&quot;&gt;<br/>\n&gt;           &lt;include name=&quot;weblogic.jar&quot;/&gt;<br/>\n&gt; \t&lt;/fileset&gt;<br/>\n&gt;         &lt;pathelement location=&quot;${build_dir}/classes&quot;/&gt;<br/>\n&gt;         &lt;fileset dir=&quot;lib&quot;&gt;<br/>\n&gt;           &lt;include name=&quot;**/*.jar&quot;/&gt;<br/>\n&gt; \t&lt;/fileset&gt;<br/>\n&gt; \t&lt;fileset dir=&quot;d:&#92;bea&#92;utils&quot;&gt;<br/>\n&gt; \t  &lt;include name=&quot;**/*.jar&quot;/&gt;<br/>\n&gt;         &lt;/fileset&gt;<br/>\n&gt; \t&lt;fileset dir=&quot;${build_dir}&quot;&gt;<br/>\n&gt; \t  &lt;include name=&quot;NMC2WebApp.war&quot;/&gt;<br/>\n&gt;         &lt;/fileset&gt;<br/>\n&gt;       &lt;/classpath&gt;<br/>\n&gt;       &lt;formatter type=&quot;plain&quot; /&gt;<br/>\n&gt;       &lt;batchtest todir=&quot;${testreports_dir}&quot;&gt;<br/>\n&gt;         &lt;fileset dir=&quot;${src_dir}&quot;&gt;<br/>\n&gt; \t  &lt;include name=&quot;**/*Test*.java&quot; /&gt;<br/>\n&gt;         &lt;/fileset&gt;<br/>\n&gt;       &lt;/batchtest&gt;<br/>\n&gt;     &lt;/junit&gt;<br/>\n&gt;   &lt;/target&gt;<br/>\n&gt; <br/>\n&gt; Some explanation of classloader issues with respect to running Junit <br/>\n&gt; within ant would be welcome, even if you don&#39;t know exactly what the <br/>\n&gt; problem is. Does it matter that the stub is loaded by a different <br/>\n&gt; classloader on the server than in the client?<br/>\n&gt; <br/>\n&gt; I&#39;m using Junit 3.7 and Ant 1.4.1.<br/>\n&gt; <br/>\n&gt; Thanks in advance.<br/>\n&gt; <br/>\n&gt; Eliot Stock<br/>\n&gt; Premiere Retial Networks<br/>\n&gt; San Francisco <br/>\n<br/>\n </span></blockquote>__________________________________________________<br/>\nDo You Yahoo!?<br/>\nEverything you&#39;ll ever need on one web page<br/>\nfrom News and Sport to Email and Music Charts<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"http://uk.my.yahoo.com\">http://uk.my.yahoo.com</a></div>", 
    "prevInTime": 4736, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1019495629", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 4726, 
    "headers": {
        "inReplyToHeader": "PENCMUZGMEE0NzRBRUE4NEVBMDIwNkQ1QjA1RjZBNENCMDE1QjY0MjVAUzEwMDFFWE0wMi5tYWNyb21lZGlhLmNvbT4=", 
        "messageIdInHeader": "PDIwMDIwNDIyMTcxMzQ5LjQzMTYwLnFtYWlsQHdlYjExNjA3Lm1haWwueWFob28uY29tPg=="
    }
}