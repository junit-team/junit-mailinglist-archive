{
    "numMessagesInTopic": 12, 
    "nextInTime": 21276, 
    "senderId": "pxwhHOlylh9O3WJuo9x_2amys3hFLY6udOQ_KD4kCafscLzrLEMWUq0IM-g7hGnF2s0huBo7HCbnAeh4VCSGMEVw9oi0ylWk", 
    "systemMessage": true, 
    "subject": "Re: [junit] JUnit-JPA (Hibernate) - Spring - Struts2 testing howto", 
    "from": "&quot;Marko Majkic&quot; &lt;majkic@...&gt;", 
    "authorName": "Marko Majkic", 
    "msgSnippet": "Thanks for the reference. I did something that works, but it works only when I do mvn test . I cannot run test alone. I use AbstractJpaTests and those two", 
    "msgId": 21275, 
    "rawEmail": "Return-Path: &lt;majkic@...&gt;\r\nReceived: (qmail 49932 invoked from network); 8 Jan 2009 23:43:41 -0000\r\nReceived: from unknown (66.218.67.95)\n  by m55.grp.scd.yahoo.com with QMQP; 8 Jan 2009 23:43:41 -0000\r\nReceived: from unknown (HELO n49a.bullet.mail.sp1.yahoo.com) (66.163.168.143)\n  by mta16.grp.scd.yahoo.com with SMTP; 8 Jan 2009 23:43:41 -0000\r\nReceived: from [69.147.65.150] by n49.bullet.mail.sp1.yahoo.com with NNFMP; 08 Jan 2009 23:43:41 -0000\r\nReceived: from [66.218.67.83] by t7.bullet.mail.sp1.yahoo.com with NNFMP; 08 Jan 2009 23:43:41 -0000\r\nX-Sender: majkic@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 22163 invoked from network); 8 Jan 2009 17:38:14 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m51.grp.scd.yahoo.com with QMQP; 8 Jan 2009 17:38:14 -0000\r\nX-Received: from unknown (HELO fg-out-1718.google.com) (72.14.220.152)\n  by mta16.grp.scd.yahoo.com with SMTP; 8 Jan 2009 17:38:13 -0000\r\nX-Received: by fg-out-1718.google.com with SMTP id e21so2988445fga.12\n        for &lt;junit@yahoogroups.com&gt;; Thu, 08 Jan 2009 09:38:13 -0800 (PST)\r\nX-Received: by 10.86.63.19 with SMTP id l19mr14327358fga.40.1231436293325;\n        Thu, 08 Jan 2009 09:38:13 -0800 (PST)\r\nX-Received: by 10.86.51.3 with HTTP; Thu, 8 Jan 2009 09:38:13 -0800 (PST)\r\nMessage-ID: &lt;c35c90e00901080938r55cbe65bl93ae913556b759f8@...&gt;\r\nDate: Thu, 8 Jan 2009 18:38:13 +0100\r\nTo: junit@yahoogroups.com\r\nIn-Reply-To: &lt;13ccdb5f0901071158o1e4357dfp3e6af9e123a84be5@...&gt;\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Disposition: inline\r\nReferences: &lt;gk0q40+ihlq@...&gt;\n\t &lt;13ccdb5f0901071158o1e4357dfp3e6af9e123a84be5@...&gt;\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: &quot;Marko Majkic&quot; &lt;majkic@...&gt;\r\nSubject: Re: [junit] JUnit-JPA (Hibernate) - Spring - Struts2 testing howto\r\nX-Yahoo-Group-Post: member; u=369724152; y=h60NY-xvwd9-zJ5sHsIDLczcn5vbaq8oyoH5738hmSjYqSE-obE9yTu-ig\r\nX-Yahoo-Profile: majkic@...\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Approved-By: spchappell &lt;simonpeterchappell@...&gt; via web; 08 Jan 2009 23:43:40 -0000\r\n\r\nThanks for the reference. I did something that works, but it works\nonly whe=\r\nn I do &quot;mvn test&quot;. I cannot run test alone.\n\nI use AbstractJpaTests and tho=\r\nse two &quot;preparing&quot; methods:\n\n=3D=3D=3D=3D=3D=3D=3D=3D\npackage net.beotel.se=\r\nrvice;\n\nimport java.util.List;\n\nimport javax.persistence.EntityManager;\nimp=\r\nort javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persis=\r\ntence;\n\nimport net.beotel.model.Bank;\n\nimport org.springframework.test.jpa.=\r\nAbstractJpaTests;\nimport org.springframework.transaction.annotation.Transac=\r\ntional;\n\npublic class BankServiceTest extends AbstractJpaTests {\n\n\tprivate =\r\nBankServiceImpl bankService =3D new BankServiceImpl() ;\n\t\n\tprivate static E=\r\nntityManagerFactory emf;\n\tprivate static EntityManager em;\n\t\n\tpublic void o=\r\nnSetUp(){\n\t\temf =3D Persistence.createEntityManagerFactory(&quot;testing1&quot;);\n\t\te=\r\nm =3D emf.createEntityManager();\n\t\tem.getTransaction().begin();\n\t\tbankServi=\r\nce.setEntityManager(em);\n\t}\n\t\n\tpublic void onTearDown(){\n\t\tem.getTransactio=\r\nn().commit();\n\t}\n\t\n\tpublic BankService getBankService() {\n\t\treturn bankServ=\r\nice;\n\t}\n\n\tpublic BankServiceTest() {\n\t\tsuper();\n\t}\n\tprotected String[] getC=\r\nonfigLocations() {\n\t\treturn new String[] {\n\t\t\t\t&quot;classpath:applicationContex=\r\nt-test.xml&quot;,\n\t\t\t};\t\t\n\t}\n\t\n\t@Transactional\n\tpublic void testAll() throws Exc=\r\neption {\n\t\tList&lt;Bank&gt; banks =3D bankService.findAll();\n\t    int initialCoun=\r\nt =3D banks.size();\n\t\tBank bank=3D new Bank();\n\t    bank.setName(&quot;OTP&quot;);\n\t =\r\n   bankService.save(bank);\n\t    assertNotNull(bank.getId());\n\t\n\t}\n}\n\n=3D=3D=\r\n=3D=3D=3D=3D=3D=3D\n\nIs there any way to run this test alone? Do I have to i=\r\nnclude\n&quot;applicationContext-test.xml&quot; (from the src/test/resources) explicit=\r\nly\nin the code? I don&#39;t have to do this with my application (include\napplic=\r\nationContext.xml from the web.xml). Do I have to include\nexplcitly persiste=\r\nnce-unit?\n\nAt last, is there any working example (simple) testing some serv=\r\nice\n(dao) using JPA? Thanks.\n\n\nOn Wed, Jan 7, 2009 at 8:58 PM, Cenk =C7ivic=\r\ni &lt;cenk.civici@...&gt; wrote:\n&gt; Hi,\n&gt;\n&gt; Have you looked at Spring integr=\r\nation testing support?\n&gt;\n&gt; http://static.springframework.org/spring/docs/2.=\r\n5.x/reference/testing.html#testcontext-framework\n&gt;\n&gt; Spring TestContext let=\r\ns you load an app context, configure\n&gt; transactions per fixture/method etc.=\r\n\n&gt;\n&gt; Cheers\n&gt; Cenk =C7ivici\n&gt;\n&gt; On Wed, Jan 7, 2009 at 1:39 AM, majkic@ymai=\r\nl.com &lt;majkic@...&gt; wrote:\n&gt;&gt; Hi guys,\n&gt;&gt; I&#39;m new in the group and I c=\r\nouldn&#39;t find anything on testing\n&gt;&gt; combination in the title.\n&gt;&gt;\n&gt;&gt; I have =\r\napplicationContext.xml where EntityManagerFactory is\n&gt;&gt; configured. Model c=\r\nlasses are mapped using Annotations. My service\n&gt;&gt; classes (DAO - for examp=\r\nle BankImpl) implements interfaces (for\n&gt;&gt; example Bank). Methods from thes=\r\ne implementation are called in Struts2\n&gt;&gt; action classes (injected).\n&gt;&gt;\n&gt;&gt; =\r\nHow can I configure my tests to be runnable as single tests and as\n&gt;&gt; Maven=\r\n2 tests? Is there any simple example - tutorial? Should I have\n&gt;&gt; separate =\r\napplicationContext-test.xml?\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt; \n\n", 
    "profile": "majkic@ymail.com", 
    "topicId": 21269, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 369724152, 
    "prevInTime": 21274, 
    "contentTrasformed": false, 
    "postDate": "1231436293", 
    "canDelete": false, 
    "nextInTopic": 21276, 
    "prevInTopic": 21272, 
    "headers": {
        "inReplyToHeader": "PDEzY2NkYjVmMDkwMTA3MTE1OG8xZTQzNTdkZnAzZTZhZjllMTIzYTg0YmU1QG1haWwuZ21haWwuY29tPg==", 
        "messageIdInHeader": "PGMzNWM5MGUwMDkwMTA4MDkzOHI1NWNiZTY1Ymw5M2FlOTEzNTU2Yjc1OWY4QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGdrMHE0MCtpaGxxQGVHcm91cHMuY29tPgkgPDEzY2NkYjVmMDkwMTA3MTE1OG8xZTQzNTdkZnAzZTZhZjllMTIzYTg0YmU1QG1haWwuZ21haWwuY29tPg=="
    }
}