{
    "numMessagesInTopic": 6, 
    "nextInTime": 21644, 
    "senderId": "m9xK9SVe5LaZB_qGkBcM1zOBDGHirQH6sKjFjoOyoufgCym8Z5D6E4zv1DIaAnDu4-ESgwu6-Vui__KbgEJND4JmJuVdqTgYAgOY", 
    "systemMessage": true, 
    "subject": "Re: [junit] Re: No runnable methods in Eclipse plugin", 
    "from": "Miles Parker &lt;milesparker@...&gt;", 
    "authorName": "Miles Parker", 
    "msgSnippet": "Yes, that s a much simpler solution. :) It seems that you don t have other complicated class dependencies.", 
    "msgId": 21643, 
    "profile": "milestravisparker", 
    "topicId": 21619, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 190960924, 
    "messageBody": "<div id=\"ygrps-yiv-1558863659\">Yes, that&#39;s a much simpler solution. :)<br/>\n<br/>\nIt seems that you don&#39;t have other complicated class dependencies.<br/>\n<br/>\n<blockquote><span title=\"qreply\"> On Sat, May 16, 2009 at 10:04 PM, <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:blekit@...\">blekit@...</a> &lt;<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:blekit@...\">blekit@...</a>&gt; wrote:<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; I managed to deal with this problem - all i had to do was use different<br/>\n&gt; constructor for URLClassLoader. It should look like that:<br/>\n&gt;<br/>\n&gt; URLClassLoader classLoader = new URLClassLoader(new URL[]<br/>\n&gt; {outputDirectory.toURL()}, JUnitCore.class.getClassLoader());<br/>\n&gt;<br/>\n&gt; Now everything works fine. Thanks for help :)<br/>\n&gt;<br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, Miles Parker &lt;milesparker@...&gt; wrote:<br/>\n&gt;&gt;<br/>\n&gt;&gt; Michal,<br/>\n&gt;&gt;<br/>\n&gt;&gt; I&#39;m not so sure on the JUnit side (see my own post on a somewhat<br/>\n&gt;&gt; different issue) but I can comment on the dynamic class loading part.<br/>\n&gt;&gt; As Gilles says, you can&#39;t be certain that you&#39;re using the same class<br/>\n&gt;&gt; loader. I&#39;d suggest that a good strategy for figuring this out is<br/>\n&gt;&gt; divide and conquer. First take JUnit out of the equation and see if<br/>\n&gt;&gt; you can get any kind of newly created class to launch on save.<br/>\n&gt;&gt;<br/>\n&gt;&gt; For more on some dynamic class loading ideas for Eclipse, perhaps this<br/>\n&gt;&gt; blog entry I wrote will help..<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://milesparker.blogspot.com/2009/03/dynamically-loading-classes-using.html\">http://milesparker.blogspot.com/2009/03/dynamically-loading-classes-using.html</a><br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt;<br/>\n&gt;&gt; On Sat, May 16, 2009 at 8:59 AM, blekit@... &lt;blekit@...&gt; wrote:<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Hello,<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; i&#39;m currently writing a plugin which is supposed to launch JUnit4 Tests<br/>\n&gt;&gt; &gt; after each save. So far i&#39;m only loading every class that is changed<br/>\n&gt;&gt; &gt; using<br/>\n&gt;&gt; &gt; IResourceChangedListener and URLClassLoader:<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; URLClassLoader classLoader = new URLClassLoader(new URL[]<br/>\n&gt;&gt; &gt; {outputDirectory.toURL(), new<br/>\n&gt;&gt; &gt; URL(&quot;file:/D:/eclipse/plugins/org.junit4_4.3.1/junit.jar&quot;) });<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Class&lt;?&gt; clazz = classLoader.loadClass(fileName);<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; At this point everything looks great - when i modify JUnit4 test class<br/>\n&gt;&gt; &gt; it<br/>\n&gt;&gt; &gt; gets loaded with annotations on proper methods (thanks to second URL -<br/>\n&gt;&gt; &gt; without it no annotation was loaded, and to be honest i don&#39;t know why).<br/>\n&gt;&gt; &gt; However, things start to go wrong when i pass the loaded class to<br/>\n&gt;&gt; &gt; JUnitCore.run method - the result i always get says that there was &quot;No<br/>\n&gt;&gt; &gt; runnable method&quot; exception even though there are clearly some method<br/>\n&gt;&gt; &gt; annotaded with @Test...<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; I have little experience in writing plugins for Eclipse, so i&#39;m kind of<br/>\n&gt;&gt; &gt; lost<br/>\n&gt;&gt; &gt; now... I may suspect, that the problem is with not sufficient classpath<br/>\n&gt;&gt; &gt; (cause it seems that it was a reason why i had to add another URL to<br/>\n&gt;&gt; &gt; class<br/>\n&gt;&gt; &gt; loader) of my plugin. So i&#39;m asking if anyone ever tried to dynamically<br/>\n&gt;&gt; &gt; load<br/>\n&gt;&gt; &gt; test classes from Eclipse plugin and run them using JUnitCore - if so,<br/>\n&gt;&gt; &gt; I&#39;d<br/>\n&gt;&gt; &gt; be very grateful for helping me out with this problem.<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt; Thanks in advance.<br/>\n&gt;&gt; &gt; Best regards,<br/>\n&gt;&gt; &gt; Michal Olejnik<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt; &gt;<br/>\n&gt;&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 21642, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1242789180", 
    "canDelete": false, 
    "nextInTopic": 0, 
    "prevInTopic": 21624, 
    "headers": {
        "inReplyToHeader": "PGd1bzV0aSt1bXBqQGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGZkZGZmZTQ2MDkwNTE5MjAxM241OTJmNDFhOW44OTAzZDkxYWQ4OGZhNzg2QG1haWwuZ21haWwuY29tPg==", 
        "referencesHeader": "PGZkZGZmZTQ2MDkwNTE2MTMwN3g3ZGFiNzEwNGc2YWZkOGQ2NTRmM2M0ZDIzQG1haWwuZ21haWwuY29tPgkgPGd1bzV0aSt1bXBqQGVHcm91cHMuY29tPg=="
    }
}