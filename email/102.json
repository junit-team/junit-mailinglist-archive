{
    "numMessagesInTopic": 3, 
    "nextInTime": 103, 
    "senderId": "QgA37d4SA6UlrEBt-12IFygwl-89OBa5jtU93e7YR9yrNsU5DVcoBEaHJhpOQZjIY1kd_pUt0_HLv7nG6vA9FYJ0mGt2x7VSt_U", 
    "systemMessage": false, 
    "subject": "Re: [junit] Incomplete stackframe from exceptions in thrown in tests", 
    "from": "Gerry Wheeler &lt;gwheeler@...&gt;", 
    "authorName": "Gerry Wheeler", 
    "msgSnippet": "What about enhancing InvocationTargetException so it holds a reference to another exception. Then the catch could instantiate a new exception, insert the", 
    "msgId": 102, 
    "topicId": 101, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 0, 
    "messageBody": "<div id=\"ygrps-yiv-1070807170\">What about enhancing InvocationTargetException so it holds a reference<br/>\nto another exception. Then the catch could instantiate a new<br/>\nexception, insert the reference to the caught exception, and throw the<br/>\nnew one. The contained exception should hold the stack information<br/>\nabout the original exception. This technique is used with JMSException<br/>\nand seems to work well.<br/>\n<br/>\nThe only downside is that any code that catches the new exception must<br/>\ncheck to see if there is a contained exception and decide what to do<br/>\nwith the information.<br/>\n<br/>\nIt would have been nice if there were an interface that described the<br/>\nmethods setLinkedException and getLinkedException (or whatever you<br/>\nchoose to call them) so code could have a general way to look for<br/>\ncontained exceptions.<br/>\n<br/>\nGerry<br/>\n<br/>\n<br/>\n<a rel=\"nofollow\" target=\"_blank\" href=\"mailto:dsnider@...\">dsnider@...</a> wrote:<br/>\n<br/>\n<blockquote><span title=\"qreply\"> &gt;<br/>\n&gt; Anyone notice exceptions from tests only hold partial stack frames?<br/>\n&gt; This makes debugging challenging unless you trap exceptions in your<br/>\n&gt; tests making them cluttered.<br/>\n&gt;<br/>\n&gt; This appears to be a side-effect of trapping<br/>\n&gt; InvocationTargetException in TestCase.runTest(). At first sight, the<br/>\n&gt;<br/>\n&gt; fillInStackTrace call seems to be the problem. I don&#39;t believe it&#39;s<br/>\n&gt; desired in this case. It&#39;s removal, however, did not address the<br/>\n&gt; problem. The target stack frame seems to be reset by the re-throw of<br/>\n&gt;<br/>\n&gt; the target exception.<br/>\n&gt;<br/>\n&gt; Commenting out the catch of InvocationTargetException fixes the<br/>\n&gt; problem for me.<br/>\n&gt;<br/>\n&gt; Thoughts? </span></blockquote></div>", 
    "prevInTime": 101, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "976284407", 
    "canDelete": false, 
    "nextInTopic": 106, 
    "prevInTopic": 101, 
    "headers": {
        "messageIdInHeader": "PDNBMzBFQUY3LkU2M0FCREJDQHZtZ3V5cy5jb20+", 
        "referencesHeader": "PDkwcGczaSsyZmpnQGVHcm91cHMuY29tPg=="
    }
}