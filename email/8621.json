{
    "numMessagesInTopic": 13, 
    "nextInTime": 8622, 
    "senderId": "Jw00si-jd-mqgr5YD_BZuYoul1rxEYn56aAhmJMM4Ss0mo9jPlXSufvcmJ2Zh-gOVqXKb26ec3_sHvn8IINuL30TYMYXI2en99seZ4ea", 
    "systemMessage": false, 
    "subject": "Re: Passing Arguments to an ANT Buildfile", 
    "from": "&quot;rab6687&quot; &lt;Rob_Biedenharn@...&gt;", 
    "authorName": "rab6687", 
    "msgSnippet": "Assuming that you re using a POSIX shell (like ksh) you can let the shell do the work: ${parameter:+word}   If parameter is set and is nonnull, substitute", 
    "msgId": 8621, 
    "profile": "rab6687", 
    "topicId": 8596, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 41798573, 
    "messageBody": "<div id=\"ygrps-yiv-1173429727\">Assuming that you&#39;re using a POSIX shell (like ksh) you can let the <br/>\nshell do the work:<br/>\n<br/>\n${parameter:+word}   If parameter is set and is nonnull, <br/>\n                     substitute word; otherwise, substitute<br/>\n                     nothing.<br/>\n<br/>\nwhich changes your command from:<br/>\n\tant -Dtestfile=&quot;$2&quot; $1<br/>\nto:<br/>\n\tant ${2:+ -Dtestfile=&#92;&quot;$2&#92;&quot;} $1<br/>\n<br/>\nYou might want to echo the command so the &quot;other guys&quot; can see how <br/>\neasy ant would be ;-)  I&#39;m very novice when it comes to ant, but <br/>\nquite an expert at shell scripting.<br/>\n<br/>\n-Rob<br/>\n<br/>\n<br/>\n--- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Leonardo Abreu de Barros&quot; <br/>\n&lt;leobarros@e...&gt; wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; Yes, surely its feasible, I&#39;ve already thought of it... the problem <br/>\n&gt; is that I begin to depend upon a shell file, what in final analysis <br/>\n&gt; makes me lose the best profit of ant, that is to be completely <br/>\n </span></blockquote>shell-<br/>\n<blockquote><span title=\"ireply\"> &gt; independent... thanks, George, but if I need to put some logic on <br/>\n&gt; shell files, guys here that resist on quitting makefiles will <br/>\n&gt; certainly come with something like: &quot;but what the hell was this Ant <br/>\n&gt; created for?&quot; :)<br/>\n&gt; <br/>\n&gt; Leonardo<br/>\n&gt; <br/>\n&gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, ghmck@s... wrote:<br/>\n&gt; &gt; I see your point.<br/>\n&gt; &gt; <br/>\n&gt; &gt; My shell skills are quite low (in other words, I can&#39;t describe <br/>\n </span></blockquote>how <br/>\n<blockquote><span title=\"ireply\"> &gt; to do it ), but you should be able to conditionalize at that level <br/>\n&gt; something like:<br/>\n&gt; &gt; if $2=&quot;&quot; <br/>\n&gt; &gt; then ant $1<br/>\n&gt; &gt; else ant -Dtestfile=&quot;$2&quot; $1<br/>\n&gt; &gt; <br/>\n&gt; &gt; and keep the other guys happy.<br/>\n&gt; &gt; <br/>\n&gt; &gt; I suggest that route rather than trying contortions in the <br/>\n&gt; build.xml itself.<br/>\n&gt; &gt; <br/>\n&gt; &gt; The Hatcher & Loughran book has a similar idiom that is a <br/>\n </span></blockquote>standard <br/>\n<blockquote><span title=\"ireply\"> &gt; part of our build, and is really handy when doing new code. <br/>\n&gt; &gt; <br/>\n&gt; &gt; George<br/>\n&gt; &gt; <br/>\n&gt; &gt; ----- Original Message -----<br/>\n&gt; &gt; From: Leonardo Abreu de Barros &lt;leobarros@e...&gt;<br/>\n&gt; &gt; Date: Monday, July 7, 2003 12:15 pm<br/>\n&gt; &gt; Subject: [junit] Re: Passing Arguments to an ANT Buildfile<br/>\n&gt; &gt; <br/>\n&gt; &gt; &gt; Hello guys,<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; I really appreciate and I&#39;d like to thank all of you for your <br/>\n&gt; &gt; &gt; comments about my question. There were some questions about why <br/>\n&gt; &gt; &gt; I&#39;m <br/>\n&gt; &gt; &gt; needing that functionality, so let me explain the whole case:<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; I have a requirement, surely pretty common, of using ant in two <br/>\n&gt; &gt; &gt; different ways:<br/>\n&gt; &gt; &gt; 1) ant ---&gt; should run all my suite of automatic tests<br/>\n&gt; &gt; &gt; 2) ant &lt;name of testfile&gt; ---&gt; should run only a specific test<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; This way, my first idea was to use a property &quot;testfile&quot; with a <br/>\n&gt; &gt; &gt; default value, that could be overriden by using a &quot;-Dtestfile&quot; <br/>\n&gt; &gt; &gt; flag. <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; But there is another detail here: everybody in the company is <br/>\n&gt; used <br/>\n&gt; &gt; &gt; to <br/>\n&gt; &gt; &gt; makefiles, which they activate by typing &quot;build&quot;. In order to <br/>\n&gt; &gt; &gt; maintain this experience, I created a shell file which just <br/>\n </span></blockquote>calls <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; ant, sending a parameter, this way:<br/>\n&gt; &gt; &gt; ant $1<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; In order to use the flag, I thought of rewriting the shell file <br/>\n&gt; &gt; &gt; like <br/>\n&gt; &gt; &gt; this:<br/>\n&gt; &gt; &gt; ant -Dtestfile=&quot;$2&quot; $1<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; which works, but as the flag is always set, even if I don&#39;t <br/>\n </span></blockquote>send <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; any <br/>\n&gt; &gt; &gt; parameter to the build command, the property becames blank.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; That&#39;s why I posted the question, ok? But I think to preserve <br/>\n&gt; &gt; &gt; this &quot;build&quot; alias is not worth the cost of treating the blank <br/>\n&gt; &gt; &gt; case, <br/>\n&gt; &gt; &gt; so I guess I should convince the other guys to use &quot;ant&quot; and <br/>\n&gt; &gt; &gt; that&#39;s <br/>\n&gt; &gt; &gt; it.<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; Thanks again,<br/>\n&gt; &gt; &gt; Leonardo Barros<br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; <br/>\n&gt; &gt; &gt; --- In <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a>, &quot;Michael Holly&quot; &lt;mholly@t...&gt; <br/>\n </span></blockquote>wrote:<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; &gt; I don&#39;t know if this helps or if read the thread correctly, <br/>\n </span></blockquote>but <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; could he<br/>\n&gt; &gt; &gt; &gt; setup a ant property with his default value and if he wants <br/>\n </span></blockquote>to <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; override it<br/>\n&gt; &gt; &gt; &gt; just pass in the new<br/>\n&gt; &gt; &gt; &gt; value on the command line.  I use this method to substitute <br/>\n&gt; &gt; &gt; different<br/>\n&gt; &gt; &gt; &gt; properties/config files for the server that I am building.  <br/>\n </span></blockquote>So <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; &quot;ant <br/>\n&gt; &gt; &gt; all&quot;<br/>\n&gt; &gt; &gt; &gt; will build and test on my development box where as &quot;ant all -<br/>\n&gt; &gt; &gt; Dserver=test&quot;<br/>\n&gt; &gt; &gt; &gt; will build and test on my test server. &quot;server&quot; corresponds <br/>\n </span></blockquote>to <br/>\n<blockquote><span title=\"ireply\"> &gt; a <br/>\n&gt; &gt; &gt; section of<br/>\n&gt; &gt; &gt; &gt; the path where the config files are stored. So to utilize the <br/>\n&gt; &gt; &gt; property I<br/>\n&gt; &gt; &gt; &gt; have the following in my ant script.<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt;      &lt;copy todir = &quot;${app.build.home}/WEB-INF&quot;&gt;<br/>\n&gt; &gt; &gt; &gt;         &lt;fileset dir=&quot;${source.home}/WEB-INF/${server}&quot;&gt;<br/>\n&gt; &gt; &gt; &gt;            &lt;include name = &quot;**/web.xml&quot;/&gt;<br/>\n&gt; &gt; &gt; &gt;         &lt;/fileset&gt;<br/>\n&gt; &gt; &gt; &gt;      &lt;/copy&gt;<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; This really does not require any &quot;if&quot; logic as a value set in <br/>\n&gt; &gt; &gt; the <br/>\n&gt; &gt; &gt; command<br/>\n&gt; &gt; &gt; &gt; line overrides any internally set properties.  This technique <br/>\n&gt; is <br/>\n&gt; &gt; &gt; explained<br/>\n&gt; &gt; &gt; &gt; in &quot;Ant The Definitive Guide&quot; by Tilly & Burke page 256 <br/>\n&gt; Appendix <br/>\n&gt; &gt; &gt; B <br/>\n&gt; &gt; &gt; Ant<br/>\n&gt; &gt; &gt; &gt; Solutions.<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; I have probably misunderstood and said to much...<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; Michael<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; &quot;Pain makes life apparent&quot;<br/>\n&gt; &gt; &gt; &gt; -----Original Message-----<br/>\n&gt; &gt; &gt; &gt; From: Jason Rogers [jacaetevha@f...]<br/>\n&gt; &gt; &gt; &gt; Sent: Monday, July 07, 2003 10:26 AM<br/>\n&gt; &gt; &gt; &gt; To: <a rel=\"nofollow\" target=\"_blank\" href=\"mailto:junit@yahoogroups.com\">junit@yahoogroups.com</a><br/>\n&gt; &gt; &gt; &gt; Subject: RE: [junit] Passing Arguments to an ANT Buildfile<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; But what he was getting at (for what reason I don&#39;t know) was <br/>\n&gt; &gt; &gt; that <br/>\n&gt; &gt; &gt; if he<br/>\n&gt; &gt; &gt; &gt; set it on the commandline as an empty string he wanted to <br/>\n&gt; &gt; &gt; override <br/>\n&gt; &gt; &gt; that<br/>\n&gt; &gt; &gt; &gt; with the default value.  The original poster has not yet <br/>\n&gt; &gt; &gt; responded <br/>\n&gt; &gt; &gt; to<br/>\n&gt; &gt; &gt; &gt; any of these responses, but I ask again, why would you ever <br/>\n&gt; want <br/>\n&gt; &gt; &gt; that<br/>\n&gt; &gt; &gt; &gt; functionality?<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; =jason<br/>\n&gt; &gt; &gt; &gt; <br/>\n&gt; &gt; &gt; &gt; On Mon, 2003-07-07 at 10:02, Ilja Preuss wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; Timothy Wall wrote:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; Here&#39;s one option, others are probably available <br/>\n </span></blockquote>using &quot;if&quot; <br/>\n<blockquote><span title=\"ireply\"> &gt; and<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; &quot;condition&quot;:<br/>\n&gt; &gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; &lt;target name=&quot;default-value&quot; unless=&quot;testfile&quot;&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; \t&lt;property name=&quot;testfile&quot; value=&quot;default-value&quot;/&gt;<br/>\n&gt; &gt; &gt; &gt; &gt; &gt; &lt;/target&gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; That&#39;s unnecessarily complicated. Simply use<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; \t&lt;property name=&quot;testfile&quot; value=&quot;default-value&quot;/&gt;<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Properties can&#39;t be overridden, so if it is already set <br/>\n </span></blockquote>(for <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; example<br/>\n&gt; &gt; &gt; &gt; &gt; from the command line), it still would have the original <br/>\n&gt; value.<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; Regards, Ilja<br/>\n&gt; &gt; &gt; &gt; &gt; --<br/>\n&gt; &gt; &gt; &gt; &gt; ++ Business Intelligence: disy Cadenza Web - drei Klicks <br/>\n </span></blockquote>zum <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; Ergebnis<br/>\n&gt; &gt; &gt; &gt; &gt; ++ <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.disy.net/cadenza\">http://www.disy.net/cadenza</a><br/>\n&gt; &gt; &gt; &gt; &gt; ++ disy Conference: Telefonkonferenz mit<br/>\n&gt; &gt; &gt; &gt; &gt; ++ integrierter Datenkonferenz <br/>\n </span></blockquote><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.disy.net/conference\">http://www.disy.net/conference</a> <br/>\n<blockquote><span title=\"ireply\"> &gt; ++<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt;      Ilja Preu√ü                                 <br/>\n </span></blockquote>preuss@d...<br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; &gt; &gt;      disy Informationssysteme GmbH               <br/>\n&gt; &gt; &gt; <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.disy.net\">http://www.disy.net</a><br/>\n&gt; &gt; &gt; &gt; &gt;      Stephanienstr. 30                           Tel: +49 <br/>\n </span></blockquote>721 <br/>\n<blockquote><span title=\"ireply\"> &gt; &gt; &gt; 1 <br/>\n&gt; &gt; &gt; 600 624<br/>\n&gt; &gt; &gt; &gt; &gt;      D-76133 Karlsruhe, Germany                  Fax: +49 <br/>\n </span></blockquote>721 <br/>\n<blockquote><span title=\"qreply\"> &gt; &gt; &gt; 1 <br/>\n&gt; &gt; &gt; 600 605<br/>\n&gt; &gt; &gt; &gt; &gt;<br/>\n&gt; &gt; &gt; &gt; &gt; ++ disy: Kosteneinsparungen durch Optimierung Ihrer IuK-<br/>\n&gt; &gt; &gt; Prozesse <br/>\n&gt; &gt; &gt; ++ </span></blockquote></div>", 
    "prevInTime": 8620, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1057670060", 
    "canDelete": false, 
    "nextInTopic": 8636, 
    "prevInTopic": 8620, 
    "headers": {
        "inReplyToHeader": "PGJlZWUxbys0Z2Q0QGVHcm91cHMuY29tPg==", 
        "messageIdInHeader": "PGJlZWczYytzbmcxQGVHcm91cHMuY29tPg=="
    }
}