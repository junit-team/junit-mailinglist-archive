{
    "numMessagesInTopic": 23, 
    "nextInTime": 9724, 
    "senderId": "tOJdnRQSwiYXq3Wiv7Kr6uRRt-FHE_YkUJ16JDFen9CdXTyqVLa5w5xqQyjyG3PrhwsjP-l_hfSD6MirVidFV0599vCvnA", 
    "systemMessage": false, 
    "subject": "Re: [junit] Re: How to test private methods, its urgent", 
    "from": "&quot;David Vydra&quot; &lt;david@...&gt;", 
    "authorName": "David Vydra", 
    "msgSnippet": "Michael, I usually like your approach, however according to this article, http://www.artima.com/intv/nonvirtual.html, C# creators propose that methods should", 
    "msgId": 9723, 
    "profile": "dvydra2", 
    "topicId": 9699, 
    "spamInfo": {
        "reason": "0", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 21744742, 
    "messageBody": "<div id=\"ygrps-yiv-821515082\">Michael,<br/>\nI usually like your approach, however according to this article,<br/>\nhttp://www.artima.com/intv/nonvirtual.html, C# creators propose that methods<br/>\nshould not be made automatically overridable. I suppose we can do the same<br/>\nin java with the &#39;final&#39; modifier. Do you think there is any merit to this<br/>\nstrategy for large, long-lived systems? Any other opinions?<br/>\nRegards,<br/>\nDavid<br/>\nwww.testdriven.com<br/>\n<br/>\n<blockquote><span title=\"qreply\"> ----- Original Message ----- <br/>\nFrom: &quot;Michael Silverstein&quot; &lt;msilverstein@...&gt;<br/>\nTo: &lt;junit@yahoogroups.com&gt;<br/>\nSent: Thursday, October 16, 2003 6:49 PM<br/>\nSubject: RE: [junit] Re: How to test private methods, its urgent<br/>\n<br/>\n<br/>\n&gt; &gt; -----Original Message-----<br/>\n&gt; &gt; From: Danijel Arsenovski [mailto:darsenovski@...]<br/>\n&gt; &gt; Sent: Thursday, October 16, 2003 4:00 PM<br/>\n&gt; &gt; To: junit@yahoogroups.com<br/>\n&gt; &gt; Subject: RE: [junit] Re: How to test private methods, its urgent<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; Hello Michael,<br/>\n&gt; &gt;<br/>\n&gt; &gt;<br/>\n&gt; &gt; &gt;Private methods are difficult to test because, after all, they&#39;re<br/>\n&gt; &gt; &gt;private. If you adopt a convention that API methods are only<br/>\n&gt; &gt; presented<br/>\n&gt; &gt; &gt;via Java Interfaces instead of concrete classes then you don&#39;t care<br/>\n&gt; &gt; &gt;about the way the implementers of the Interfaces are<br/>\n&gt; &gt; written. You can<br/>\n&gt; &gt; &gt;then make non-API methods within the concrete implementation public<br/>\n&gt; &gt; &gt;without implying that they are themselves API methods.<br/>\n&gt; &gt;<br/>\n&gt; &gt; I am not sure I follow, but as I can see this only works if<br/>\n&gt; &gt; you never plan to extend your clases, or leave them to be<br/>\n&gt; &gt; extended. I guess that in your case only thing visible from<br/>\n&gt; &gt; the outside are interfaces. If you write frameworks, it is<br/>\n&gt; &gt; difficult to get by without inheritance. Inheritance breaks<br/>\n&gt; &gt; encapsulation, keeping methods private helps encapsulate things.<br/>\n&gt; &gt; Also, I am not shure what you mean by &quot;without implying&quot;,<br/>\n&gt; &gt; generally you &quot;make statement&quot; with your code, any other<br/>\n&gt; &gt; method yo imply something (comments, documentation etc...) is<br/>\n&gt; &gt; superfluous.<br/>\n&gt; &gt;<br/>\n&gt; &gt; Regards,<br/>\n&gt; &gt;<br/>\n&gt; &gt; Danijel Arsenovski<br/>\n&gt;<br/>\n&gt; On the contrary, I think this approach makes it easier to extend<br/>\n&gt; frameworks. I believe that in the general case, there is no reason to<br/>\n&gt; make methods in classes private if their API methods are only accessed<br/>\n&gt; by clients via Interface methods.<br/>\n&gt;<br/>\n&gt; Here&#39;s an example of what I mean:<br/>\n&gt;<br/>\n&gt; Let&#39;s assume we have class MyClass that implements interface<br/>\n&gt; MyInterface, with methods:<br/>\n&gt; public int x(){<br/>\n&gt;   // return an answer based on y() and z()<br/>\n&gt; }<br/>\n&gt; private int y() {...}<br/>\n&gt; private int z() {...}<br/>\n&gt;<br/>\n&gt; And Interface MyInterface with method:<br/>\n&gt; public int x()<br/>\n&gt;<br/>\n&gt; We observe that:<br/>\n&gt;<br/>\n&gt; - MyInterface serves to &#39;publish&#39; the API method x().<br/>\n&gt;<br/>\n&gt; - Any client of MyClass will only see it in terms of<br/>\n&gt;<br/>\n&gt; - We have the choice of testing public method x() by constructing a test<br/>\n&gt; that &#39;talks&#39; to either MyClass or MyInterface.<br/>\n&gt;<br/>\n&gt; - If we have other concrete implementors of MyInterface it makes sense<br/>\n&gt; to write the test to talk to MyInterface rather than directly to<br/>\n&gt; implementors to they can be swapped in and tested.<br/>\n&gt;<br/>\n&gt; - x() returns a value based on values returned by private methods y()<br/>\n&gt; and z().<br/>\n&gt;<br/>\n&gt; - Methods y() and z() may be private for no other reason than that they<br/>\n&gt; are not part of the public API interface of MyClass and that the<br/>\n&gt; developer did not anticipate that anyone would ever need to use them in<br/>\n&gt; extending the framework.<br/>\n&gt;<br/>\n&gt; Continuing:<br/>\n&gt; Let&#39;s say<br/>\n&gt;  - we want to extend MyClass with MyClass2 that implements method int<br/>\n&gt; q().<br/>\n&gt;  - we want to override x() so that it uses methods y(),  z(), and q() to<br/>\n&gt; calculate its return value.<br/>\n&gt;<br/>\n&gt; We have a problem: MyClass2 does not have visibility to private methods<br/>\n&gt; y() and z().<br/>\n&gt;<br/>\n&gt; If private methods y() and z() were made public there would be no<br/>\n&gt; adverse effect on the publication of API methods because users of the<br/>\n&gt; class would only see those methods published via MyInterface.<br/>\n&gt;<br/>\n&gt; We have the question of whether it is *safe* to use y() and z(). Since<br/>\n&gt; they are not published as part of the API via MyInterface it may be<br/>\n&gt; considered too risky to use them. This can be solved with some notes in<br/>\n&gt; the javadoc.<br/>\n&gt;<br/>\n&gt; Methods that really are too risky to use outside of the class itself can<br/>\n&gt; always be made private but I would hope that this is the exception and<br/>\n&gt; not the rule.<br/>\n&gt;<br/>\n&gt; The developer creating the extension can make the decision based on<br/>\n&gt; those notes whether they are willing to accept fhe risk of using methods<br/>\n&gt; that may not continue to behave the same way or even exist in the<br/>\n&gt; future. At least they have that choice. If they have a good set of tests<br/>\n&gt; then changes to those methods in the future will be exposed readily<br/>\n&gt; enough.<br/>\n&gt;<br/>\n&gt; Conclusion<br/>\n&gt; ----------<br/>\n&gt; If the purpose of making methods private is to indicate that they are<br/>\n&gt; not part of a class&#39;s API a better way is to encourage users of the<br/>\n&gt; class to program to a Java Interface instead. When you make methods<br/>\n&gt; private it makes the class more difficult to test and short-circuits the<br/>\n&gt; efforts of people who might need to extend the framework in<br/>\n&gt; unanticipated ways.<br/>\n&gt;<br/>\n&gt; -----------------------------<br/>\n&gt; Mike Silverstein<br/>\n&gt; SilverMark, Inc.<br/>\n&gt; The Object Testing Company<br/>\n&gt; www.javatesting.com<br/>\n&gt;<br/>\n&gt; ---<br/>\n&gt; Outgoing mail is certified Virus Free.<br/>\n&gt; Checked by AVG anti-virus system (http://www.grisoft.com).<br/>\n&gt; Version: 6.0.522 / Virus Database: 320 - Release Date: 9/29/2003<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; To unsubscribe from this group, send an email to:<br/>\n&gt; junit-unsubscribe@yahoogroups.com<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/<br/>\n&gt;<br/>\n&gt;<br/>\n&gt; </span></blockquote></div>", 
    "prevInTime": 9722, 
    "specialLinks": [], 
    "contentTrasformed": false, 
    "postDate": "1066578758", 
    "canDelete": false, 
    "nextInTopic": 9724, 
    "prevInTopic": 9722, 
    "headers": {
        "messageIdInHeader": "PDAwNDMwMWMzOTY1OSQwNTk5ODlmMCQ2NDAxYThjMEBYUDE+", 
        "referencesHeader": "PDAwYWQwMWMzOTQ1MCRlZmYzOWI0MCQ2NDAxYThjMEBsYXRpdHVkZTAxPg=="
    }
}