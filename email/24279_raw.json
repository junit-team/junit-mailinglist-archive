{
    "numMessagesInTopic": 30, 
    "nextInTime": 24280, 
    "senderId": "bN1HgYQ_mfMmqPQMPlMCAtl8wzQq8aI_C_WWVY5rDt8vFr7oH9yTQuf9bj5RAaX7jYXfbfHuenLHVnDtFxRJ0TM8ooEc", 
    "systemMessage": false, 
    "subject": "Re: [junit] Feedback requested: Impending changes to RunListener", 
    "from": "Bill Venners &lt;bill@...&gt;", 
    "authorName": "Bill Venners", 
    "msgSnippet": "Hi Kevin, Can you clarify what the performance issue was? Is the problem that you have events coming possibly in parallel via different threads, and you want ", 
    "msgId": 24279, 
    "rawEmail": "Return-Path: &lt;bill@...&gt;\r\nX-Sender: bill@...\r\nX-Apparently-To: junit@yahoogroups.com\r\nX-Received: (qmail 15619 invoked from network); 6 Feb 2013 21:30:08 -0000\r\nX-Received: from unknown (10.193.84.131)\n  by m7.grp.bf1.yahoo.com with QMQP; 6 Feb 2013 21:30:08 -0000\r\nX-Received: from unknown (HELO mail-oa0-f42.google.com) (209.85.219.42)\n  by mta4.grp.bf1.yahoo.com with SMTP; 6 Feb 2013 21:30:07 -0000\r\nX-Received: by mail-oa0-f42.google.com with SMTP id i18so2074571oag.15\n        for &lt;junit@yahoogroups.com&gt;; Wed, 06 Feb 2013 13:30:07 -0800 (PST)\r\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=google.com; s=20120113;\n        h=mime-version:x-received:in-reply-to:references:date:message-id\n         :subject:from:to:content-type:x-gm-message-state;\n        bh=uGk8S1edZ2uHHsTIjnuU8sO4gyzvqWIj072fV3kwSEE=;\n        b=LJ7NFFdULZalvKTnFJUxghHEg+WxXLDfsCh/CHJpq3q44yVt+IbKeJIYRsCOFPNFSF\n         eg7s36bZUxWArkN9fQ8+3X3xClpeRUEY5+DGtjvZk+l0lvj808dShjnQbs8KTLAaoV/G\n         BaVrOjxAAEtoUgtX0UlCeyosA0YlhEiKSvwkT0WIFlloQssbrXUiNTNFxT68I1BP7quY\n         uMB90daJRRgA53k0fQ0JfXaL1dKowIce050vtCeANhO35od7clU0phzLcDxqItMm8Qzu\n         5vI8RQYRy0Es/c1fCT3uNdxSrhzF2dcm+3FULv02lt5Go+4iXEl2bFypEhnQZXVMeypp\n         K+qA==\r\nMIME-Version: 1.0\r\nX-Received: by 10.182.147.69 with SMTP id ti5mr22293800obb.88.1360186207432;\n Wed, 06 Feb 2013 13:30:07 -0800 (PST)\r\nX-Received: by 10.182.85.196 with HTTP; Wed, 6 Feb 2013 13:30:07 -0800 (PST)\r\nIn-Reply-To: &lt;CAA3E+eXqF6DNQc0r5Hekj1gE-PyBnvj4_TNbVgRUo+Eekxwhjw@...&gt;\r\nReferences: &lt;CAA3E+eXqF6DNQc0r5Hekj1gE-PyBnvj4_TNbVgRUo+Eekxwhjw@...&gt;\r\nDate: Wed, 6 Feb 2013 13:30:07 -0800\r\nMessage-ID: &lt;CAO_RykoJ1vQskNCkRyZbDiqSiUN__E8YaYzWssTEh7VGx1uupw@...&gt;\r\nTo: junit@yahoogroups.com\r\nX-Gm-Message-State: ALoCoQm0Tqsq6LCyHx7mrd+tVDbpGZbOGu0dLn5MFswIUNZTiG/Sp37bzSo9gbdbOGHRUzSk0NEd\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Bill Venners &lt;bill@...&gt;\r\nSubject: Re: [junit] Feedback requested: Impending changes to RunListener\r\nX-Yahoo-Group-Post: member; u=416990097; y=RlMDnJ-NIupY6k-7pLYcvHgn4kAN1a0cPlrffcp_pqwwBUSPpfM\r\nX-Yahoo-Profile: billvenners\r\nContent-Type: text/plain\r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nHi Kevin,\n\nCan you clarify what the performance issue was? Is the problem t=\r\nhat you\nhave events coming possibly in parallel via different threads, and =\r\nyou want\nto send them all to a user-specified RunListener? Because you don&#39;=\r\nt know\nwhether a RunListener is thread safe, currently you are serializing =\r\nthose\nevents somehow that&#39;s slow?\n\nBill\n\nOn Wed, Feb 6, 2013 at 9:06 AM, Ke=\r\nvin Cooney &lt;kcooney@...&gt; wrote:\n\n&gt; **\n&gt;\n&gt;\n&gt; Hello, everyone\n&gt;\n&gt; Shor=\r\nt version: we are thinking of adding an optional dependency from JUnit\n&gt; to=\r\n jcip-annotations and are soliciting feedback.\n&gt;\n&gt; A few people have notice=\r\nd that when you use ParallelComputer, you got poor\n&gt; performance because ca=\r\nlls to registered RunListeners are synchronized. We\n&gt; would like to fix thi=\r\ns in the next release of JUnit.\n&gt;\n&gt; In order to prevent affecting existing =\r\nusers, we are proposing having an\n&gt; annotation that can be added to RunList=\r\nener implementations that can safely\n&gt; be called concurrently from multiple=\r\n threads. If a RunListener passed to a\n&gt; RunNotifier is not annotated with =\r\nthis annotation, JUnit will wrap it with\n&gt; a decorator that does synchroniz=\r\nation.\n&gt;\n&gt; We would appreciate feedback on this new annotation.\n&gt;\n&gt; We have=\r\n two options:\n&gt;\n&gt; a. Create our own annotation for this\n&gt; b. Use ThreadSafe=\r\n (\n&gt;\n&gt; http://grepcode.com/file/repo1.maven.org/maven2/net.jcip/jcip-annota=\r\ntions/1.0/net/jcip/annotations/ThreadSafe.java\n&gt; )\n&gt;\n&gt; The advantages to op=\r\ntion b are:\n&gt;\n&gt; 1. It&#39;s a well-known annotation\n&gt; 2. Users that use JUnit c=\r\nan add this annotation to their thread-safe\n&gt; RunListener implementations t=\r\noday and get the benefits &quot;for free&quot; later.\n&gt;\n&gt; Note we can do this without=\r\n requiring that all users of JUnit have the\n&gt; jcip-annotations jar in their=\r\n classpath as of JDK 1.5.0_06 (see\n&gt;\n&gt; http://stackoverflow.com/questions/3=\r\n567413/why-doesnt-a-missing-annotation-cause-a-classnotfoundexception-at-ru=\r\nntime\n&gt; ).\n&gt; If jcip-annotations is not on the classpath then all RunListen=\r\ner\n&gt; implementations will be treated as not thread-safe.\n&gt;\n&gt; As a specific =\r\nexample, the Maven Surefire plugin would use this dependency\n&gt; and include =\r\njcip-annotations.\n&gt;\n&gt; Currently, JUnit only depends on one third-party libr=\r\nary (Hamcrest). This\n&gt; has caused us some pain in the past when the Hamcres=\r\nt code changed in ways\n&gt; that broke existing users of JUnit. We believe thi=\r\ns will not be an issue\n&gt; with jcip-annotations because the JAR only contain=\r\ns annotations, not any\n&gt; code.\n&gt;\n&gt; One possible concern would be with other=\r\n open source libraries that provide\n&gt; RunListener implementations (they wou=\r\nld need to add jcip-annotations to\n&gt; their compile-time classpath if they h=\r\nave thread-safe annotations, and\n&gt; document this to their users).\n&gt;\n&gt; Thoug=\r\nhts?\n&gt;\n&gt; -- Kevin\n&gt;\n&gt; [Non-text portions of this message have been removed]=\r\n\n&gt;\n&gt;  \n&gt;\n\n\n\n-- \nBill Venners\nArtima, Inc.\nhttp://www.artima.com\n\n\n[Non-text=\r\n portions of this message have been removed]\n\n\n", 
    "profile": "billvenners", 
    "topicId": 24274, 
    "spamInfo": {
        "reason": "12", 
        "isSpam": false
    }, 
    "replyTo": "LIST", 
    "userId": 416990097, 
    "prevInTime": 24278, 
    "contentTrasformed": false, 
    "postDate": "1360186207", 
    "canDelete": false, 
    "nextInTopic": 24280, 
    "prevInTopic": 24278, 
    "headers": {
        "inReplyToHeader": "PENBQTNFK2VYcUY2RE5RYzByNUhla2oxZ0UtUHlCbnZqNF9UTmJWZ1JVbytFZWt4d2hqd0BtYWlsLmdtYWlsLmNvbT4=", 
        "messageIdInHeader": "PENBT19SeWtvSjF2UXNrTkNrUnlaYkRpcVNpVU5fX0U4WWFZeldzc1RFaDdWR3gxdXVwd0BtYWlsLmdtYWlsLmNvbT4=", 
        "referencesHeader": "PENBQTNFK2VYcUY2RE5RYzByNUhla2oxZ0UtUHlCbnZqNF9UTmJWZ1JVbytFZWt4d2hqd0BtYWlsLmdtYWlsLmNvbT4="
    }
}